[{"E:\\AI项目实践\\Ai-Tolls\\src\\app\\layout.tsx":"1","E:\\AI项目实践\\Ai-Tolls\\src\\app\\page.tsx":"2","E:\\AI项目实践\\Ai-Tolls\\src\\app\\providers.tsx":"3","E:\\AI项目实践\\Ai-Tolls\\src\\components\\features\\ChatInput.tsx":"4","E:\\AI项目实践\\Ai-Tolls\\src\\components\\features\\ChatWindow.tsx":"5","E:\\AI项目实践\\Ai-Tolls\\src\\components\\features\\ConversationSidebar.tsx":"6","E:\\AI项目实践\\Ai-Tolls\\src\\components\\features\\KnowledgeBaseDialog.tsx":"7","E:\\AI项目实践\\Ai-Tolls\\src\\components\\features\\MessageItem.tsx":"8","E:\\AI项目实践\\Ai-Tolls\\src\\components\\features\\ModelSelector.tsx":"9","E:\\AI项目实践\\Ai-Tolls\\src\\components\\features\\SettingsDialog.tsx":"10","E:\\AI项目实践\\Ai-Tolls\\src\\components\\ui\\Button.tsx":"11","E:\\AI项目实践\\Ai-Tolls\\src\\components\\ui\\Input.tsx":"12","E:\\AI项目实践\\Ai-Tolls\\src\\components\\ui\\Textarea.tsx":"13","E:\\AI项目实践\\Ai-Tolls\\src\\lib\\utils.ts":"14","E:\\AI项目实践\\Ai-Tolls\\src\\services\\api\\mockAiService.ts":"15","E:\\AI项目实践\\Ai-Tolls\\src\\services\\rag\\mockRAGEngine.ts":"16","E:\\AI项目实践\\Ai-Tolls\\src\\services\\rag\\openAIRAGEngine.ts":"17","E:\\AI项目实践\\Ai-Tolls\\src\\store\\chatSlice.ts":"18","E:\\AI项目实践\\Ai-Tolls\\src\\store\\hooks.ts":"19","E:\\AI项目实践\\Ai-Tolls\\src\\store\\index.ts":"20","E:\\AI项目实践\\Ai-Tolls\\src\\types\\chat.ts":"21","E:\\AI项目实践\\Ai-Tolls\\src\\services\\rag\\RAG.ts":"22","E:\\AI项目实践\\Ai-Tolls\\src\\app\\StoreProvider.tsx":"23"},{"size":555,"mtime":1769942489696,"results":"24","hashOfConfig":"25"},{"size":2555,"mtime":1769942360031,"results":"26","hashOfConfig":"25"},{"size":254,"mtime":1769591208718,"results":"27","hashOfConfig":"25"},{"size":5379,"mtime":1769579920301,"results":"28","hashOfConfig":"25"},{"size":6185,"mtime":1769942266068,"results":"29","hashOfConfig":"25"},{"size":2649,"mtime":1769942277299,"results":"30","hashOfConfig":"25"},{"size":3348,"mtime":1769581944373,"results":"31","hashOfConfig":"25"},{"size":2530,"mtime":1769942280468,"results":"32","hashOfConfig":"25"},{"size":2664,"mtime":1769942402733,"results":"33","hashOfConfig":"25"},{"size":3701,"mtime":1769581915342,"results":"34","hashOfConfig":"25"},{"size":1856,"mtime":1769942291594,"results":"35","hashOfConfig":"25"},{"size":732,"mtime":1769579593405,"results":"36","hashOfConfig":"25"},{"size":760,"mtime":1769942297476,"results":"37","hashOfConfig":"25"},{"size":175,"mtime":1769579589884,"results":"38","hashOfConfig":"25"},{"size":736,"mtime":1769579559546,"results":"39","hashOfConfig":"25"},{"size":6326,"mtime":1769581091587,"results":"40","hashOfConfig":"25"},{"size":3992,"mtime":1769582656282,"results":"41","hashOfConfig":"25"},{"size":3297,"mtime":1769942405510,"results":"42","hashOfConfig":"25"},{"size":414,"mtime":1769940635481,"results":"43","hashOfConfig":"25"},{"size":294,"mtime":1769942241207,"results":"44","hashOfConfig":"25"},{"size":1117,"mtime":1769579875819,"results":"45","hashOfConfig":"25"},{"size":20,"mtime":1769941523750,"results":"46","hashOfConfig":"25"},{"size":239,"mtime":1769942480491,"results":"47","hashOfConfig":"25"},{"filePath":"48","messages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1bjdsdv",{"filePath":"50","messages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56"},{"filePath":"57","messages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65"},{"filePath":"66","messages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"76","messages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"82","messages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"84","messages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"88","messages":"89","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"90","messages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"92","messages":"93","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"94","messages":"95","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"E:\\AI项目实践\\Ai-Tolls\\src\\app\\layout.tsx",[],"E:\\AI项目实践\\Ai-Tolls\\src\\app\\page.tsx",[],"E:\\AI项目实践\\Ai-Tolls\\src\\app\\providers.tsx",[],"E:\\AI项目实践\\Ai-Tolls\\src\\components\\features\\ChatInput.tsx",["96"],"import React, { useState, useRef, useEffect } from 'react';\nimport { Textarea } from '@/components/ui/Textarea';\nimport { Button } from '@/components/ui/Button';\nimport { Send, Square, Image as ImageIcon, X } from 'lucide-react';\nimport { Attachment } from '@/types/chat';\nimport { v4 as uuidv4 } from 'uuid';\n\ninterface ChatInputProps {\n  onSend: (content: string, attachments?: Attachment[]) => void;\n  onStop: () => void;\n  isStreaming: boolean;\n  disabled?: boolean;\n}\n\nexport const ChatInput: React.FC<ChatInputProps> = ({ onSend, onStop, isStreaming, disabled }) => {\n  const [content, setContent] = useState('');\n  const [attachments, setAttachments] = useState<Attachment[]>([]);\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  // Auto-resize textarea\n  useEffect(() => {\n    if (textareaRef.current) {\n      textareaRef.current.style.height = 'auto';\n      textareaRef.current.style.height = `${Math.min(textareaRef.current.scrollHeight, 200)}px`;\n    }\n  }, [content]);\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSubmit();\n    }\n  };\n\n  const handleSubmit = () => {\n    if ((!content.trim() && attachments.length === 0) || disabled || isStreaming) return;\n    onSend(content, attachments.length > 0 ? attachments : undefined);\n    setContent('');\n    setAttachments([]);\n  };\n\n  const handleFileSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files && e.target.files.length > 0) {\n      const file = e.target.files[0];\n      const url = URL.createObjectURL(file);\n      \n      const newAttachment: Attachment = {\n        id: uuidv4(),\n        type: 'image',\n        url,\n        name: file.name\n      };\n      \n      setAttachments(prev => [...prev, newAttachment]);\n      \n      // Clear input\n      if (fileInputRef.current) {\n        fileInputRef.current.value = '';\n      }\n    }\n  };\n\n  const removeAttachment = (id: string) => {\n    setAttachments(prev => prev.filter(a => a.id !== id));\n  };\n\n  return (\n    <div className=\"relative mx-auto w-full max-w-3xl\">\n      <div className=\"relative flex w-full flex-col rounded-xl border border-zinc-700 bg-zinc-800 p-3 shadow-lg ring-offset-zinc-900 focus-within:ring-2 focus-within:ring-blue-500/50\">\n        \n        {/* Attachment Preview */}\n        {attachments.length > 0 && (\n          <div className=\"flex gap-2 mb-2 overflow-x-auto pb-2\">\n            {attachments.map((att) => (\n              <div key={att.id} className=\"relative group shrink-0\">\n                <img \n                  src={att.url} \n                  alt={att.name} \n                  className=\"h-16 w-16 object-cover rounded-md border border-zinc-600\"\n                />\n                <button\n                  onClick={() => removeAttachment(att.id)}\n                  className=\"absolute -top-1 -right-1 rounded-full bg-zinc-900 text-zinc-400 border border-zinc-600 p-0.5 opacity-0 group-hover:opacity-100 transition-opacity hover:text-red-400\"\n                >\n                  <X className=\"h-3 w-3\" />\n                </button>\n              </div>\n            ))}\n          </div>\n        )}\n\n        <Textarea\n          ref={textareaRef}\n          value={content}\n          onChange={(e) => setContent(e.target.value)}\n          onKeyDown={handleKeyDown}\n          placeholder=\"Message AI...\"\n          className=\"min-h-[40px] w-full resize-none border-0 bg-transparent p-0 text-zinc-100 placeholder:text-zinc-500 focus:ring-0 focus-visible:ring-0\"\n          disabled={disabled || isStreaming}\n        />\n        \n        <div className=\"flex justify-between items-center mt-2\">\n           <div className=\"flex gap-2 text-zinc-400\">\n              <input \n                type=\"file\" \n                ref={fileInputRef}\n                className=\"hidden\" \n                accept=\"image/*\"\n                onChange={handleFileSelect}\n              />\n              <Button \n                variant=\"ghost\" \n                size=\"icon\" \n                className=\"h-8 w-8 hover:bg-zinc-700 hover:text-zinc-200\"\n                onClick={() => fileInputRef.current?.click()}\n                disabled={isStreaming}\n              >\n                 <ImageIcon className=\"h-4 w-4\" />\n              </Button>\n           </div>\n\n           <div>\n              {isStreaming ? (\n                <Button \n                  onClick={onStop}\n                  variant=\"secondary\" \n                  size=\"sm\"\n                  className=\"rounded-lg bg-zinc-700 text-zinc-200 hover:bg-zinc-600\"\n                >\n                  <Square className=\"mr-1 h-3 w-3 fill-current\" /> Stop\n                </Button>\n              ) : (\n                <Button \n                  onClick={handleSubmit}\n                  disabled={(!content.trim() && attachments.length === 0) || disabled}\n                  size=\"sm\"\n                  className=\"rounded-lg bg-zinc-100 text-zinc-900 hover:bg-white disabled:bg-zinc-600 disabled:text-zinc-400\"\n                >\n                  <Send className=\"h-4 w-4\" />\n                </Button>\n              )}\n           </div>\n        </div>\n      </div>\n      <div className=\"mt-2 text-center text-xs text-zinc-500\">\n        AI can make mistakes. Consider checking important information.\n      </div>\n    </div>\n  );\n};\n","E:\\AI项目实践\\Ai-Tolls\\src\\components\\features\\ChatWindow.tsx",[],"E:\\AI项目实践\\Ai-Tolls\\src\\components\\features\\ConversationSidebar.tsx",[],"E:\\AI项目实践\\Ai-Tolls\\src\\components\\features\\KnowledgeBaseDialog.tsx",[],"E:\\AI项目实践\\Ai-Tolls\\src\\components\\features\\MessageItem.tsx",["97"],"import React from \"react\";\r\nimport { Message } from \"@/types/chat\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { Bot, User, AlertCircle, RefreshCw } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/Button\";\r\n\r\ninterface MessageItemProps {\r\n  message: Message;\r\n  onRetry?: () => void;\r\n}\r\n\r\nexport const MessageItem: React.FC<MessageItemProps> = ({\r\n  message,\r\n  onRetry,\r\n}) => {\r\n  const isUser = message.role === \"user\";\r\n  const isError = message.status === \"error\";\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"flex w-full gap-4 p-4 md:px-8 transition-opacity\",\r\n        isUser ? \"bg-zinc-950\" : \"bg-zinc-900/50\",\r\n      )}\r\n    >\r\n      <div\r\n        className={cn(\r\n          \"flex h-8 w-8 shrink-0 items-center justify-center rounded-sm\",\r\n          isUser ? \"bg-blue-600 text-white\" : \"bg-zinc-700 text-zinc-100\",\r\n        )}\r\n      >\r\n        {isUser ? <User className=\"h-5 w-5\" /> : <Bot className=\"h-5 w-5\" />}\r\n      </div>\r\n\r\n      <div className=\"flex-1 space-y-2 overflow-hidden\">\r\n        {/* Attachments */}\r\n        {message.attachments && message.attachments.length > 0 && (\r\n          <div className=\"flex flex-wrap gap-2 mb-2\">\r\n            {message.attachments.map((att) => (\r\n              <img\r\n                key={att.id}\r\n                src={att.url}\r\n                alt={att.name}\r\n                className=\"max-h-64 max-w-full rounded-lg border border-zinc-800 object-contain\"\r\n              />\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {/* Text Content */}\r\n        {message.content && (\r\n          <div className=\"prose prose-sm prose-invert max-w-none text-zinc-300 whitespace-pre-wrap\">\r\n            {message.content}\r\n            {message.status === \"sending\" && (\r\n              <span className=\"ml-1 inline-block h-4 w-1 animate-pulse bg-zinc-400 align-middle\" />\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {isError && (\r\n          <div className=\"flex items-center gap-2 text-sm text-red-400\">\r\n            <AlertCircle className=\"h-4 w-4\" />\r\n            <span>Failed to send message.</span>\r\n            {onRetry && (\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"sm\"\r\n                onClick={onRetry}\r\n                className=\"h-auto p-0 text-red-400 hover:bg-transparent hover:text-red-300 hover:underline\"\r\n              >\r\n                <RefreshCw className=\"mr-1 h-3 w-3\" /> Retry\r\n              </Button>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","E:\\AI项目实践\\Ai-Tolls\\src\\components\\features\\ModelSelector.tsx",[],"E:\\AI项目实践\\Ai-Tolls\\src\\components\\features\\SettingsDialog.tsx",[],"E:\\AI项目实践\\Ai-Tolls\\src\\components\\ui\\Button.tsx",[],"E:\\AI项目实践\\Ai-Tolls\\src\\components\\ui\\Input.tsx",[],"E:\\AI项目实践\\Ai-Tolls\\src\\components\\ui\\Textarea.tsx",[],"E:\\AI项目实践\\Ai-Tolls\\src\\lib\\utils.ts",[],"E:\\AI项目实践\\Ai-Tolls\\src\\services\\api\\mockAiService.ts",[],"E:\\AI项目实践\\Ai-Tolls\\src\\services\\rag\\mockRAGEngine.ts",[],"E:\\AI项目实践\\Ai-Tolls\\src\\services\\rag\\openAIRAGEngine.ts",[],"E:\\AI项目实践\\Ai-Tolls\\src\\store\\chatSlice.ts",[],"E:\\AI项目实践\\Ai-Tolls\\src\\store\\hooks.ts",[],"E:\\AI项目实践\\Ai-Tolls\\src\\store\\index.ts",[],"E:\\AI项目实践\\Ai-Tolls\\src\\types\\chat.ts",[],"E:\\AI项目实践\\Ai-Tolls\\src\\services\\rag\\RAG.ts",[],"E:\\AI项目实践\\Ai-Tolls\\src\\app\\StoreProvider.tsx",[],{"ruleId":"98","severity":1,"message":"99","line":77,"column":17,"nodeType":"100","endLine":81,"endColumn":19},{"ruleId":"98","severity":1,"message":"99","line":40,"column":15,"nodeType":"100","endLine":45,"endColumn":17},"@next/next/no-img-element","Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","JSXOpeningElement"]