"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17";
exports.ids = ["vendor-chunks/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/azure/chat_models/common.js":
/*!******************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/azure/chat_models/common.js ***!
  \******************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AZURE_ALIASES: () => (/* binding */ AZURE_ALIASES),\n/* harmony export */   AZURE_SECRETS: () => (/* binding */ AZURE_SECRETS),\n/* harmony export */   AZURE_SERIALIZABLE_KEYS: () => (/* binding */ AZURE_SERIALIZABLE_KEYS),\n/* harmony export */   _constructAzureFields: () => (/* binding */ _constructAzureFields),\n/* harmony export */   _getAzureClientOptions: () => (/* binding */ _getAzureClientOptions),\n/* harmony export */   _serializeAzureChat: () => (/* binding */ _serializeAzureChat)\n/* harmony export */ });\n/* harmony import */ var _utils_azure_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/azure.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/azure.js\");\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! openai */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+openai@6.16.0_zod@4.3.6/node_modules/openai/index.mjs\");\n/* harmony import */ var _langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @langchain/core/utils/env */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/env.js\");\n\n\n\n\n//#region src/azure/chat_models/common.ts\nconst AZURE_ALIASES = {\n\topenAIApiKey: \"openai_api_key\",\n\topenAIApiVersion: \"openai_api_version\",\n\topenAIBasePath: \"openai_api_base\",\n\tdeploymentName: \"deployment_name\",\n\tazureOpenAIEndpoint: \"azure_endpoint\",\n\tazureOpenAIApiVersion: \"openai_api_version\",\n\tazureOpenAIBasePath: \"openai_api_base\",\n\tazureOpenAIApiDeploymentName: \"deployment_name\"\n};\nconst AZURE_SECRETS = { azureOpenAIApiKey: \"AZURE_OPENAI_API_KEY\" };\nconst AZURE_SERIALIZABLE_KEYS = [\n\t\"azureOpenAIApiKey\",\n\t\"azureOpenAIApiVersion\",\n\t\"azureOpenAIBasePath\",\n\t\"azureOpenAIEndpoint\",\n\t\"azureOpenAIApiInstanceName\",\n\t\"azureOpenAIApiDeploymentName\",\n\t\"deploymentName\",\n\t\"openAIApiKey\",\n\t\"openAIApiVersion\"\n];\nfunction _constructAzureFields(fields) {\n\tthis.azureOpenAIApiKey = fields?.azureOpenAIApiKey ?? (typeof fields?.openAIApiKey === \"string\" ? fields?.openAIApiKey : void 0) ?? (typeof fields?.apiKey === \"string\" ? fields?.apiKey : void 0) ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_2__.getEnvironmentVariable)(\"AZURE_OPENAI_API_KEY\");\n\tthis.azureOpenAIApiInstanceName = fields?.azureOpenAIApiInstanceName ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_2__.getEnvironmentVariable)(\"AZURE_OPENAI_API_INSTANCE_NAME\");\n\tthis.azureOpenAIApiDeploymentName = fields?.azureOpenAIApiDeploymentName ?? fields?.deploymentName ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_2__.getEnvironmentVariable)(\"AZURE_OPENAI_API_DEPLOYMENT_NAME\");\n\tthis.azureOpenAIApiVersion = fields?.azureOpenAIApiVersion ?? fields?.openAIApiVersion ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_2__.getEnvironmentVariable)(\"AZURE_OPENAI_API_VERSION\");\n\tthis.azureOpenAIBasePath = fields?.azureOpenAIBasePath ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_2__.getEnvironmentVariable)(\"AZURE_OPENAI_BASE_PATH\");\n\tthis.azureOpenAIEndpoint = fields?.azureOpenAIEndpoint ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_2__.getEnvironmentVariable)(\"AZURE_OPENAI_ENDPOINT\");\n\tthis.azureADTokenProvider = fields?.azureADTokenProvider;\n\tif (!this.azureOpenAIApiKey && !this.apiKey && !this.azureADTokenProvider) throw new Error(\"Azure OpenAI API key or Token Provider not found\");\n}\nfunction _getAzureClientOptions(options) {\n\tif (!this.client) {\n\t\tconst openAIEndpointConfig = {\n\t\t\tazureOpenAIApiDeploymentName: this.azureOpenAIApiDeploymentName,\n\t\t\tazureOpenAIApiInstanceName: this.azureOpenAIApiInstanceName,\n\t\t\tazureOpenAIApiKey: this.azureOpenAIApiKey,\n\t\t\tazureOpenAIBasePath: this.azureOpenAIBasePath,\n\t\t\tazureADTokenProvider: this.azureADTokenProvider,\n\t\t\tbaseURL: this.clientConfig.baseURL,\n\t\t\tazureOpenAIEndpoint: this.azureOpenAIEndpoint\n\t\t};\n\t\tconst endpoint = (0,_utils_azure_js__WEBPACK_IMPORTED_MODULE_0__.getEndpoint)(openAIEndpointConfig);\n\t\tconst { apiKey: existingApiKey,...clientConfigRest } = this.clientConfig;\n\t\tconst params = {\n\t\t\t...clientConfigRest,\n\t\t\tbaseURL: endpoint,\n\t\t\ttimeout: this.timeout,\n\t\t\tmaxRetries: 0\n\t\t};\n\t\tif (!this.azureADTokenProvider) params.apiKey = openAIEndpointConfig.azureOpenAIApiKey;\n\t\tif (!params.baseURL) delete params.baseURL;\n\t\tparams.defaultHeaders = (0,_utils_azure_js__WEBPACK_IMPORTED_MODULE_0__.getHeadersWithUserAgent)(params.defaultHeaders, true, \"2.0.0\");\n\t\tthis.client = new openai__WEBPACK_IMPORTED_MODULE_1__.AzureOpenAI({\n\t\t\tapiVersion: this.azureOpenAIApiVersion,\n\t\t\tazureADTokenProvider: this.azureADTokenProvider,\n\t\t\tdeployment: this.azureOpenAIApiDeploymentName,\n\t\t\t...params\n\t\t});\n\t}\n\tconst requestOptions = {\n\t\t...this.clientConfig,\n\t\t...options\n\t};\n\tif (this.azureOpenAIApiKey) {\n\t\trequestOptions.headers = {\n\t\t\t\"api-key\": this.azureOpenAIApiKey,\n\t\t\t...requestOptions.headers\n\t\t};\n\t\trequestOptions.query = {\n\t\t\t\"api-version\": this.azureOpenAIApiVersion,\n\t\t\t...requestOptions.query\n\t\t};\n\t}\n\treturn requestOptions;\n}\nfunction _serializeAzureChat(input) {\n\tconst json = input;\n\tfunction isRecord(obj) {\n\t\treturn typeof obj === \"object\" && obj != null;\n\t}\n\tif (isRecord(json) && isRecord(json.kwargs)) {\n\t\tdelete json.kwargs.azure_openai_base_path;\n\t\tdelete json.kwargs.azure_openai_api_deployment_name;\n\t\tdelete json.kwargs.azure_openai_api_key;\n\t\tdelete json.kwargs.azure_openai_api_version;\n\t\tdelete json.kwargs.azure_open_ai_base_path;\n\t\tif (!json.kwargs.azure_endpoint && this.azureOpenAIEndpoint) json.kwargs.azure_endpoint = this.azureOpenAIEndpoint;\n\t\tif (!json.kwargs.azure_endpoint && this.azureOpenAIBasePath) {\n\t\t\tconst parts = this.azureOpenAIBasePath.split(\"/openai/deployments/\");\n\t\t\tif (parts.length === 2 && parts[0].startsWith(\"http\")) {\n\t\t\t\tconst [endpoint] = parts;\n\t\t\t\tjson.kwargs.azure_endpoint = endpoint;\n\t\t\t}\n\t\t}\n\t\tif (!json.kwargs.azure_endpoint && this.azureOpenAIApiInstanceName) json.kwargs.azure_endpoint = `https://${this.azureOpenAIApiInstanceName}.openai.azure.com/`;\n\t\tif (!json.kwargs.deployment_name && this.azureOpenAIApiDeploymentName) json.kwargs.deployment_name = this.azureOpenAIApiDeploymentName;\n\t\tif (!json.kwargs.deployment_name && this.azureOpenAIBasePath) {\n\t\t\tconst parts = this.azureOpenAIBasePath.split(\"/openai/deployments/\");\n\t\t\tif (parts.length === 2) {\n\t\t\t\tconst [, deployment] = parts;\n\t\t\t\tjson.kwargs.deployment_name = deployment;\n\t\t\t}\n\t\t}\n\t\tif (json.kwargs.azure_endpoint && json.kwargs.deployment_name && json.kwargs.openai_api_base) delete json.kwargs.openai_api_base;\n\t\tif (json.kwargs.azure_openai_api_instance_name && json.kwargs.azure_endpoint) delete json.kwargs.azure_openai_api_instance_name;\n\t}\n\treturn json;\n}\n\n//#endregion\n\n//# sourceMappingURL=common.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L2F6dXJlL2NoYXRfbW9kZWxzL2NvbW1vbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBNEU7QUFDdkM7QUFDOEI7O0FBRW5FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdU1BQXVNLGlGQUFzQjtBQUM3Tix5RUFBeUUsaUZBQXNCO0FBQy9GLHVHQUF1RyxpRkFBc0I7QUFDN0gsMkZBQTJGLGlGQUFzQjtBQUNqSCwyREFBMkQsaUZBQXNCO0FBQ2pGLDJEQUEyRCxpRkFBc0I7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw0REFBVztBQUM5QixVQUFVLDZDQUE2QztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHdFQUF1QjtBQUNqRCxvQkFBb0IsK0NBQVc7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEdBQThHLGdDQUFnQztBQUM5STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNxSTtBQUNySSIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitvcGVuYWlAMS4yLjNfQGxhbmdjaGFpbitjb3JlQDEuMS4xNy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9vcGVuYWkvZGlzdC9henVyZS9jaGF0X21vZGVscy9jb21tb24uanM/ZjQ3NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRFbmRwb2ludCwgZ2V0SGVhZGVyc1dpdGhVc2VyQWdlbnQgfSBmcm9tIFwiLi4vLi4vdXRpbHMvYXp1cmUuanNcIjtcbmltcG9ydCB7IEF6dXJlT3BlbkFJIH0gZnJvbSBcIm9wZW5haVwiO1xuaW1wb3J0IHsgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZSB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvdXRpbHMvZW52XCI7XG5cbi8vI3JlZ2lvbiBzcmMvYXp1cmUvY2hhdF9tb2RlbHMvY29tbW9uLnRzXG5jb25zdCBBWlVSRV9BTElBU0VTID0ge1xuXHRvcGVuQUlBcGlLZXk6IFwib3BlbmFpX2FwaV9rZXlcIixcblx0b3BlbkFJQXBpVmVyc2lvbjogXCJvcGVuYWlfYXBpX3ZlcnNpb25cIixcblx0b3BlbkFJQmFzZVBhdGg6IFwib3BlbmFpX2FwaV9iYXNlXCIsXG5cdGRlcGxveW1lbnROYW1lOiBcImRlcGxveW1lbnRfbmFtZVwiLFxuXHRhenVyZU9wZW5BSUVuZHBvaW50OiBcImF6dXJlX2VuZHBvaW50XCIsXG5cdGF6dXJlT3BlbkFJQXBpVmVyc2lvbjogXCJvcGVuYWlfYXBpX3ZlcnNpb25cIixcblx0YXp1cmVPcGVuQUlCYXNlUGF0aDogXCJvcGVuYWlfYXBpX2Jhc2VcIixcblx0YXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZTogXCJkZXBsb3ltZW50X25hbWVcIlxufTtcbmNvbnN0IEFaVVJFX1NFQ1JFVFMgPSB7IGF6dXJlT3BlbkFJQXBpS2V5OiBcIkFaVVJFX09QRU5BSV9BUElfS0VZXCIgfTtcbmNvbnN0IEFaVVJFX1NFUklBTElaQUJMRV9LRVlTID0gW1xuXHRcImF6dXJlT3BlbkFJQXBpS2V5XCIsXG5cdFwiYXp1cmVPcGVuQUlBcGlWZXJzaW9uXCIsXG5cdFwiYXp1cmVPcGVuQUlCYXNlUGF0aFwiLFxuXHRcImF6dXJlT3BlbkFJRW5kcG9pbnRcIixcblx0XCJhenVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZVwiLFxuXHRcImF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWVcIixcblx0XCJkZXBsb3ltZW50TmFtZVwiLFxuXHRcIm9wZW5BSUFwaUtleVwiLFxuXHRcIm9wZW5BSUFwaVZlcnNpb25cIlxuXTtcbmZ1bmN0aW9uIF9jb25zdHJ1Y3RBenVyZUZpZWxkcyhmaWVsZHMpIHtcblx0dGhpcy5henVyZU9wZW5BSUFwaUtleSA9IGZpZWxkcz8uYXp1cmVPcGVuQUlBcGlLZXkgPz8gKHR5cGVvZiBmaWVsZHM/Lm9wZW5BSUFwaUtleSA9PT0gXCJzdHJpbmdcIiA/IGZpZWxkcz8ub3BlbkFJQXBpS2V5IDogdm9pZCAwKSA/PyAodHlwZW9mIGZpZWxkcz8uYXBpS2V5ID09PSBcInN0cmluZ1wiID8gZmllbGRzPy5hcGlLZXkgOiB2b2lkIDApID8/IGdldEVudmlyb25tZW50VmFyaWFibGUoXCJBWlVSRV9PUEVOQUlfQVBJX0tFWVwiKTtcblx0dGhpcy5henVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZSA9IGZpZWxkcz8uYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWUgPz8gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9BUElfSU5TVEFOQ0VfTkFNRVwiKTtcblx0dGhpcy5henVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lID0gZmllbGRzPy5henVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lID8/IGZpZWxkcz8uZGVwbG95bWVudE5hbWUgPz8gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9BUElfREVQTE9ZTUVOVF9OQU1FXCIpO1xuXHR0aGlzLmF6dXJlT3BlbkFJQXBpVmVyc2lvbiA9IGZpZWxkcz8uYXp1cmVPcGVuQUlBcGlWZXJzaW9uID8/IGZpZWxkcz8ub3BlbkFJQXBpVmVyc2lvbiA/PyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9WRVJTSU9OXCIpO1xuXHR0aGlzLmF6dXJlT3BlbkFJQmFzZVBhdGggPSBmaWVsZHM/LmF6dXJlT3BlbkFJQmFzZVBhdGggPz8gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9CQVNFX1BBVEhcIik7XG5cdHRoaXMuYXp1cmVPcGVuQUlFbmRwb2ludCA9IGZpZWxkcz8uYXp1cmVPcGVuQUlFbmRwb2ludCA/PyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0VORFBPSU5UXCIpO1xuXHR0aGlzLmF6dXJlQURUb2tlblByb3ZpZGVyID0gZmllbGRzPy5henVyZUFEVG9rZW5Qcm92aWRlcjtcblx0aWYgKCF0aGlzLmF6dXJlT3BlbkFJQXBpS2V5ICYmICF0aGlzLmFwaUtleSAmJiAhdGhpcy5henVyZUFEVG9rZW5Qcm92aWRlcikgdGhyb3cgbmV3IEVycm9yKFwiQXp1cmUgT3BlbkFJIEFQSSBrZXkgb3IgVG9rZW4gUHJvdmlkZXIgbm90IGZvdW5kXCIpO1xufVxuZnVuY3Rpb24gX2dldEF6dXJlQ2xpZW50T3B0aW9ucyhvcHRpb25zKSB7XG5cdGlmICghdGhpcy5jbGllbnQpIHtcblx0XHRjb25zdCBvcGVuQUlFbmRwb2ludENvbmZpZyA9IHtcblx0XHRcdGF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWU6IHRoaXMuYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSxcblx0XHRcdGF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lOiB0aGlzLmF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lLFxuXHRcdFx0YXp1cmVPcGVuQUlBcGlLZXk6IHRoaXMuYXp1cmVPcGVuQUlBcGlLZXksXG5cdFx0XHRhenVyZU9wZW5BSUJhc2VQYXRoOiB0aGlzLmF6dXJlT3BlbkFJQmFzZVBhdGgsXG5cdFx0XHRhenVyZUFEVG9rZW5Qcm92aWRlcjogdGhpcy5henVyZUFEVG9rZW5Qcm92aWRlcixcblx0XHRcdGJhc2VVUkw6IHRoaXMuY2xpZW50Q29uZmlnLmJhc2VVUkwsXG5cdFx0XHRhenVyZU9wZW5BSUVuZHBvaW50OiB0aGlzLmF6dXJlT3BlbkFJRW5kcG9pbnRcblx0XHR9O1xuXHRcdGNvbnN0IGVuZHBvaW50ID0gZ2V0RW5kcG9pbnQob3BlbkFJRW5kcG9pbnRDb25maWcpO1xuXHRcdGNvbnN0IHsgYXBpS2V5OiBleGlzdGluZ0FwaUtleSwuLi5jbGllbnRDb25maWdSZXN0IH0gPSB0aGlzLmNsaWVudENvbmZpZztcblx0XHRjb25zdCBwYXJhbXMgPSB7XG5cdFx0XHQuLi5jbGllbnRDb25maWdSZXN0LFxuXHRcdFx0YmFzZVVSTDogZW5kcG9pbnQsXG5cdFx0XHR0aW1lb3V0OiB0aGlzLnRpbWVvdXQsXG5cdFx0XHRtYXhSZXRyaWVzOiAwXG5cdFx0fTtcblx0XHRpZiAoIXRoaXMuYXp1cmVBRFRva2VuUHJvdmlkZXIpIHBhcmFtcy5hcGlLZXkgPSBvcGVuQUlFbmRwb2ludENvbmZpZy5henVyZU9wZW5BSUFwaUtleTtcblx0XHRpZiAoIXBhcmFtcy5iYXNlVVJMKSBkZWxldGUgcGFyYW1zLmJhc2VVUkw7XG5cdFx0cGFyYW1zLmRlZmF1bHRIZWFkZXJzID0gZ2V0SGVhZGVyc1dpdGhVc2VyQWdlbnQocGFyYW1zLmRlZmF1bHRIZWFkZXJzLCB0cnVlLCBcIjIuMC4wXCIpO1xuXHRcdHRoaXMuY2xpZW50ID0gbmV3IEF6dXJlT3BlbkFJKHtcblx0XHRcdGFwaVZlcnNpb246IHRoaXMuYXp1cmVPcGVuQUlBcGlWZXJzaW9uLFxuXHRcdFx0YXp1cmVBRFRva2VuUHJvdmlkZXI6IHRoaXMuYXp1cmVBRFRva2VuUHJvdmlkZXIsXG5cdFx0XHRkZXBsb3ltZW50OiB0aGlzLmF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWUsXG5cdFx0XHQuLi5wYXJhbXNcblx0XHR9KTtcblx0fVxuXHRjb25zdCByZXF1ZXN0T3B0aW9ucyA9IHtcblx0XHQuLi50aGlzLmNsaWVudENvbmZpZyxcblx0XHQuLi5vcHRpb25zXG5cdH07XG5cdGlmICh0aGlzLmF6dXJlT3BlbkFJQXBpS2V5KSB7XG5cdFx0cmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IHtcblx0XHRcdFwiYXBpLWtleVwiOiB0aGlzLmF6dXJlT3BlbkFJQXBpS2V5LFxuXHRcdFx0Li4ucmVxdWVzdE9wdGlvbnMuaGVhZGVyc1xuXHRcdH07XG5cdFx0cmVxdWVzdE9wdGlvbnMucXVlcnkgPSB7XG5cdFx0XHRcImFwaS12ZXJzaW9uXCI6IHRoaXMuYXp1cmVPcGVuQUlBcGlWZXJzaW9uLFxuXHRcdFx0Li4ucmVxdWVzdE9wdGlvbnMucXVlcnlcblx0XHR9O1xuXHR9XG5cdHJldHVybiByZXF1ZXN0T3B0aW9ucztcbn1cbmZ1bmN0aW9uIF9zZXJpYWxpemVBenVyZUNoYXQoaW5wdXQpIHtcblx0Y29uc3QganNvbiA9IGlucHV0O1xuXHRmdW5jdGlvbiBpc1JlY29yZChvYmopIHtcblx0XHRyZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIiAmJiBvYmogIT0gbnVsbDtcblx0fVxuXHRpZiAoaXNSZWNvcmQoanNvbikgJiYgaXNSZWNvcmQoanNvbi5rd2FyZ3MpKSB7XG5cdFx0ZGVsZXRlIGpzb24ua3dhcmdzLmF6dXJlX29wZW5haV9iYXNlX3BhdGg7XG5cdFx0ZGVsZXRlIGpzb24ua3dhcmdzLmF6dXJlX29wZW5haV9hcGlfZGVwbG95bWVudF9uYW1lO1xuXHRcdGRlbGV0ZSBqc29uLmt3YXJncy5henVyZV9vcGVuYWlfYXBpX2tleTtcblx0XHRkZWxldGUganNvbi5rd2FyZ3MuYXp1cmVfb3BlbmFpX2FwaV92ZXJzaW9uO1xuXHRcdGRlbGV0ZSBqc29uLmt3YXJncy5henVyZV9vcGVuX2FpX2Jhc2VfcGF0aDtcblx0XHRpZiAoIWpzb24ua3dhcmdzLmF6dXJlX2VuZHBvaW50ICYmIHRoaXMuYXp1cmVPcGVuQUlFbmRwb2ludCkganNvbi5rd2FyZ3MuYXp1cmVfZW5kcG9pbnQgPSB0aGlzLmF6dXJlT3BlbkFJRW5kcG9pbnQ7XG5cdFx0aWYgKCFqc29uLmt3YXJncy5henVyZV9lbmRwb2ludCAmJiB0aGlzLmF6dXJlT3BlbkFJQmFzZVBhdGgpIHtcblx0XHRcdGNvbnN0IHBhcnRzID0gdGhpcy5henVyZU9wZW5BSUJhc2VQYXRoLnNwbGl0KFwiL29wZW5haS9kZXBsb3ltZW50cy9cIik7XG5cdFx0XHRpZiAocGFydHMubGVuZ3RoID09PSAyICYmIHBhcnRzWzBdLnN0YXJ0c1dpdGgoXCJodHRwXCIpKSB7XG5cdFx0XHRcdGNvbnN0IFtlbmRwb2ludF0gPSBwYXJ0cztcblx0XHRcdFx0anNvbi5rd2FyZ3MuYXp1cmVfZW5kcG9pbnQgPSBlbmRwb2ludDtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKCFqc29uLmt3YXJncy5henVyZV9lbmRwb2ludCAmJiB0aGlzLmF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lKSBqc29uLmt3YXJncy5henVyZV9lbmRwb2ludCA9IGBodHRwczovLyR7dGhpcy5henVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZX0ub3BlbmFpLmF6dXJlLmNvbS9gO1xuXHRcdGlmICghanNvbi5rd2FyZ3MuZGVwbG95bWVudF9uYW1lICYmIHRoaXMuYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSkganNvbi5rd2FyZ3MuZGVwbG95bWVudF9uYW1lID0gdGhpcy5henVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lO1xuXHRcdGlmICghanNvbi5rd2FyZ3MuZGVwbG95bWVudF9uYW1lICYmIHRoaXMuYXp1cmVPcGVuQUlCYXNlUGF0aCkge1xuXHRcdFx0Y29uc3QgcGFydHMgPSB0aGlzLmF6dXJlT3BlbkFJQmFzZVBhdGguc3BsaXQoXCIvb3BlbmFpL2RlcGxveW1lbnRzL1wiKTtcblx0XHRcdGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHtcblx0XHRcdFx0Y29uc3QgWywgZGVwbG95bWVudF0gPSBwYXJ0cztcblx0XHRcdFx0anNvbi5rd2FyZ3MuZGVwbG95bWVudF9uYW1lID0gZGVwbG95bWVudDtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKGpzb24ua3dhcmdzLmF6dXJlX2VuZHBvaW50ICYmIGpzb24ua3dhcmdzLmRlcGxveW1lbnRfbmFtZSAmJiBqc29uLmt3YXJncy5vcGVuYWlfYXBpX2Jhc2UpIGRlbGV0ZSBqc29uLmt3YXJncy5vcGVuYWlfYXBpX2Jhc2U7XG5cdFx0aWYgKGpzb24ua3dhcmdzLmF6dXJlX29wZW5haV9hcGlfaW5zdGFuY2VfbmFtZSAmJiBqc29uLmt3YXJncy5henVyZV9lbmRwb2ludCkgZGVsZXRlIGpzb24ua3dhcmdzLmF6dXJlX29wZW5haV9hcGlfaW5zdGFuY2VfbmFtZTtcblx0fVxuXHRyZXR1cm4ganNvbjtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBBWlVSRV9BTElBU0VTLCBBWlVSRV9TRUNSRVRTLCBBWlVSRV9TRVJJQUxJWkFCTEVfS0VZUywgX2NvbnN0cnVjdEF6dXJlRmllbGRzLCBfZ2V0QXp1cmVDbGllbnRPcHRpb25zLCBfc2VyaWFsaXplQXp1cmVDaGF0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21tb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/azure/chat_models/common.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/azure/chat_models/completions.js":
/*!***********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/azure/chat_models/completions.js ***!
  \***********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AzureChatOpenAICompletions: () => (/* binding */ AzureChatOpenAICompletions)\n/* harmony export */ });\n/* harmony import */ var _chat_models_completions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chat_models/completions.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/chat_models/completions.js\");\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./common.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/azure/chat_models/common.js\");\n\n\n\n//#region src/azure/chat_models/completions.ts\nvar AzureChatOpenAICompletions = class extends _chat_models_completions_js__WEBPACK_IMPORTED_MODULE_0__.ChatOpenAICompletions {\n\tazureOpenAIApiVersion;\n\tazureOpenAIApiKey;\n\tazureADTokenProvider;\n\tazureOpenAIApiInstanceName;\n\tazureOpenAIApiDeploymentName;\n\tazureOpenAIBasePath;\n\tazureOpenAIEndpoint;\n\t_llmType() {\n\t\treturn \"azure_openai\";\n\t}\n\tget lc_aliases() {\n\t\treturn {\n\t\t\t...super.lc_aliases,\n\t\t\t..._common_js__WEBPACK_IMPORTED_MODULE_1__.AZURE_ALIASES\n\t\t};\n\t}\n\tget lc_secrets() {\n\t\treturn {\n\t\t\t...super.lc_secrets,\n\t\t\t..._common_js__WEBPACK_IMPORTED_MODULE_1__.AZURE_SECRETS\n\t\t};\n\t}\n\tget lc_serializable_keys() {\n\t\treturn [...super.lc_serializable_keys, ..._common_js__WEBPACK_IMPORTED_MODULE_1__.AZURE_SERIALIZABLE_KEYS];\n\t}\n\tgetLsParams(options) {\n\t\tconst params = super.getLsParams(options);\n\t\tparams.ls_provider = \"azure\";\n\t\treturn params;\n\t}\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\t_common_js__WEBPACK_IMPORTED_MODULE_1__._constructAzureFields.call(this, fields);\n\t}\n\t_getClientOptions(options) {\n\t\treturn _common_js__WEBPACK_IMPORTED_MODULE_1__._getAzureClientOptions.call(this, options);\n\t}\n\ttoJSON() {\n\t\treturn _common_js__WEBPACK_IMPORTED_MODULE_1__._serializeAzureChat.call(this, super.toJSON());\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=completions.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L2F6dXJlL2NoYXRfbW9kZWxzL2NvbXBsZXRpb25zLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF5RTtBQUMrRTs7QUFFeEo7QUFDQSwrQ0FBK0MsOEVBQXFCO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxxREFBYTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxxREFBYTtBQUNuQjtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsK0RBQXVCO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLDZEQUFxQjtBQUN2QjtBQUNBO0FBQ0EsU0FBUyw4REFBc0I7QUFDL0I7QUFDQTtBQUNBLFNBQVMsMkRBQW1CO0FBQzVCO0FBQ0E7O0FBRUE7QUFDc0M7QUFDdEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rb3BlbmFpQDEuMi4zX0BsYW5nY2hhaW4rY29yZUAxLjEuMTcvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvYXp1cmUvY2hhdF9tb2RlbHMvY29tcGxldGlvbnMuanM/Y2ZiNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDaGF0T3BlbkFJQ29tcGxldGlvbnMgfSBmcm9tIFwiLi4vLi4vY2hhdF9tb2RlbHMvY29tcGxldGlvbnMuanNcIjtcbmltcG9ydCB7IEFaVVJFX0FMSUFTRVMsIEFaVVJFX1NFQ1JFVFMsIEFaVVJFX1NFUklBTElaQUJMRV9LRVlTLCBfY29uc3RydWN0QXp1cmVGaWVsZHMsIF9nZXRBenVyZUNsaWVudE9wdGlvbnMsIF9zZXJpYWxpemVBenVyZUNoYXQgfSBmcm9tIFwiLi9jb21tb24uanNcIjtcblxuLy8jcmVnaW9uIHNyYy9henVyZS9jaGF0X21vZGVscy9jb21wbGV0aW9ucy50c1xudmFyIEF6dXJlQ2hhdE9wZW5BSUNvbXBsZXRpb25zID0gY2xhc3MgZXh0ZW5kcyBDaGF0T3BlbkFJQ29tcGxldGlvbnMge1xuXHRhenVyZU9wZW5BSUFwaVZlcnNpb247XG5cdGF6dXJlT3BlbkFJQXBpS2V5O1xuXHRhenVyZUFEVG9rZW5Qcm92aWRlcjtcblx0YXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWU7XG5cdGF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWU7XG5cdGF6dXJlT3BlbkFJQmFzZVBhdGg7XG5cdGF6dXJlT3BlbkFJRW5kcG9pbnQ7XG5cdF9sbG1UeXBlKCkge1xuXHRcdHJldHVybiBcImF6dXJlX29wZW5haVwiO1xuXHR9XG5cdGdldCBsY19hbGlhc2VzKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHQuLi5zdXBlci5sY19hbGlhc2VzLFxuXHRcdFx0Li4uQVpVUkVfQUxJQVNFU1xuXHRcdH07XG5cdH1cblx0Z2V0IGxjX3NlY3JldHMoKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdC4uLnN1cGVyLmxjX3NlY3JldHMsXG5cdFx0XHQuLi5BWlVSRV9TRUNSRVRTXG5cdFx0fTtcblx0fVxuXHRnZXQgbGNfc2VyaWFsaXphYmxlX2tleXMoKSB7XG5cdFx0cmV0dXJuIFsuLi5zdXBlci5sY19zZXJpYWxpemFibGVfa2V5cywgLi4uQVpVUkVfU0VSSUFMSVpBQkxFX0tFWVNdO1xuXHR9XG5cdGdldExzUGFyYW1zKG9wdGlvbnMpIHtcblx0XHRjb25zdCBwYXJhbXMgPSBzdXBlci5nZXRMc1BhcmFtcyhvcHRpb25zKTtcblx0XHRwYXJhbXMubHNfcHJvdmlkZXIgPSBcImF6dXJlXCI7XG5cdFx0cmV0dXJuIHBhcmFtcztcblx0fVxuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRzdXBlcihmaWVsZHMpO1xuXHRcdF9jb25zdHJ1Y3RBenVyZUZpZWxkcy5jYWxsKHRoaXMsIGZpZWxkcyk7XG5cdH1cblx0X2dldENsaWVudE9wdGlvbnMob3B0aW9ucykge1xuXHRcdHJldHVybiBfZ2V0QXp1cmVDbGllbnRPcHRpb25zLmNhbGwodGhpcywgb3B0aW9ucyk7XG5cdH1cblx0dG9KU09OKCkge1xuXHRcdHJldHVybiBfc2VyaWFsaXplQXp1cmVDaGF0LmNhbGwodGhpcywgc3VwZXIudG9KU09OKCkpO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEF6dXJlQ2hhdE9wZW5BSUNvbXBsZXRpb25zIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21wbGV0aW9ucy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/azure/chat_models/completions.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/azure/chat_models/index.js":
/*!*****************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/azure/chat_models/index.js ***!
  \*****************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AzureChatOpenAI: () => (/* binding */ AzureChatOpenAI)\n/* harmony export */ });\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/azure/chat_models/common.js\");\n/* harmony import */ var _completions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./completions.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/azure/chat_models/completions.js\");\n/* harmony import */ var _responses_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./responses.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/azure/chat_models/responses.js\");\n/* harmony import */ var _chat_models_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../chat_models/index.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/chat_models/index.js\");\n\n\n\n\n\n//#region src/azure/chat_models/index.ts\n/**\n* Azure OpenAI chat model integration.\n*\n* Setup:\n* Install `@langchain/openai` and set the following environment variables:\n*\n* ```bash\n* npm install @langchain/openai\n* export AZURE_OPENAI_API_KEY=\"your-api-key\"\n* export AZURE_OPENAI_API_DEPLOYMENT_NAME=\"your-deployment-name\"\n* export AZURE_OPENAI_API_VERSION=\"your-version\"\n* export AZURE_OPENAI_BASE_PATH=\"your-base-path\"\n* ```\n*\n* ## [Constructor args](https://api.js.langchain.com/classes/langchain_openai.AzureChatOpenAI.html#constructor)\n*\n* ## [Runtime args](https://api.js.langchain.com/interfaces/langchain_openai.ChatOpenAICallOptions.html)\n*\n* Runtime args can be passed as the second argument to any of the base runnable methods `.invoke`. `.stream`, `.batch`, etc.\n* They can also be passed via `.withConfig`, or the second arg in `.bindTools`, like shown in the examples below:\n*\n* ```typescript\n* // When calling `.withConfig`, call options should be passed via the first argument\n* const llmWithArgsBound = llm.withConfig({\n*   stop: [\"\\n\"],\n*   tools: [...],\n* });\n*\n* // When calling `.bindTools`, call options should be passed via the second argument\n* const llmWithTools = llm.bindTools(\n*   [...],\n*   {\n*     tool_choice: \"auto\",\n*   }\n* );\n* ```\n*\n* ## Examples\n*\n* <details open>\n* <summary><strong>Instantiate</strong></summary>\n*\n* ```typescript\n* import { AzureChatOpenAI } from '@langchain/openai';\n*\n* const llm = new AzureChatOpenAI({\n*   azureOpenAIApiKey: process.env.AZURE_OPENAI_API_KEY, // In Node.js defaults to process.env.AZURE_OPENAI_API_KEY\n*   azureOpenAIApiInstanceName: process.env.AZURE_OPENAI_API_INSTANCE_NAME, // In Node.js defaults to process.env.AZURE_OPENAI_API_INSTANCE_NAME\n*   azureOpenAIApiDeploymentName: process.env.AZURE_OPENAI_API_DEPLOYMENT_NAME, // In Node.js defaults to process.env.AZURE_OPENAI_API_DEPLOYMENT_NAME\n*   azureOpenAIApiVersion: process.env.AZURE_OPENAI_API_VERSION, // In Node.js defaults to process.env.AZURE_OPENAI_API_VERSION\n*   temperature: 0,\n*   maxTokens: undefined,\n*   timeout: undefined,\n*   maxRetries: 2,\n*   // apiKey: \"...\",\n*   // baseUrl: \"...\",\n*   // other params...\n* });\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Invoking</strong></summary>\n*\n* ```typescript\n* const input = `Translate \"I love programming\" into French.`;\n*\n* // Models also accept a list of chat messages or a formatted prompt\n* const result = await llm.invoke(input);\n* console.log(result);\n* ```\n*\n* ```txt\n* AIMessage {\n*   \"id\": \"chatcmpl-9u4Mpu44CbPjwYFkTbeoZgvzB00Tz\",\n*   \"content\": \"J'adore la programmation.\",\n*   \"response_metadata\": {\n*     \"tokenUsage\": {\n*       \"completionTokens\": 5,\n*       \"promptTokens\": 28,\n*       \"totalTokens\": 33\n*     },\n*     \"finish_reason\": \"stop\",\n*     \"system_fingerprint\": \"fp_3aa7262c27\"\n*   },\n*   \"usage_metadata\": {\n*     \"input_tokens\": 28,\n*     \"output_tokens\": 5,\n*     \"total_tokens\": 33\n*   }\n* }\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Streaming Chunks</strong></summary>\n*\n* ```typescript\n* for await (const chunk of await llm.stream(input)) {\n*   console.log(chunk);\n* }\n* ```\n*\n* ```txt\n* AIMessageChunk {\n*   \"id\": \"chatcmpl-9u4NWB7yUeHCKdLr6jP3HpaOYHTqs\",\n*   \"content\": \"\"\n* }\n* AIMessageChunk {\n*   \"content\": \"J\"\n* }\n* AIMessageChunk {\n*   \"content\": \"'adore\"\n* }\n* AIMessageChunk {\n*   \"content\": \" la\"\n* }\n* AIMessageChunk {\n*   \"content\": \" programmation\",,\n* }\n* AIMessageChunk {\n*   \"content\": \".\",,\n* }\n* AIMessageChunk {\n*   \"content\": \"\",\n*   \"response_metadata\": {\n*     \"finish_reason\": \"stop\",\n*     \"system_fingerprint\": \"fp_c9aa9c0491\"\n*   },\n* }\n* AIMessageChunk {\n*   \"content\": \"\",\n*   \"usage_metadata\": {\n*     \"input_tokens\": 28,\n*     \"output_tokens\": 5,\n*     \"total_tokens\": 33\n*   }\n* }\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Aggregate Streamed Chunks</strong></summary>\n*\n* ```typescript\n* import { AIMessageChunk } from '@langchain/core/messages';\n* import { concat } from '@langchain/core/utils/stream';\n*\n* const stream = await llm.stream(input);\n* let full: AIMessageChunk | undefined;\n* for await (const chunk of stream) {\n*   full = !full ? chunk : concat(full, chunk);\n* }\n* console.log(full);\n* ```\n*\n* ```txt\n* AIMessageChunk {\n*   \"id\": \"chatcmpl-9u4PnX6Fy7OmK46DASy0bH6cxn5Xu\",\n*   \"content\": \"J'adore la programmation.\",\n*   \"response_metadata\": {\n*     \"prompt\": 0,\n*     \"completion\": 0,\n*     \"finish_reason\": \"stop\",\n*   },\n*   \"usage_metadata\": {\n*     \"input_tokens\": 28,\n*     \"output_tokens\": 5,\n*     \"total_tokens\": 33\n*   }\n* }\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Bind tools</strong></summary>\n*\n* ```typescript\n* import { z } from 'zod';\n*\n* const GetWeather = {\n*   name: \"GetWeather\",\n*   description: \"Get the current weather in a given location\",\n*   schema: z.object({\n*     location: z.string().describe(\"The city and state, e.g. San Francisco, CA\")\n*   }),\n* }\n*\n* const GetPopulation = {\n*   name: \"GetPopulation\",\n*   description: \"Get the current population in a given location\",\n*   schema: z.object({\n*     location: z.string().describe(\"The city and state, e.g. San Francisco, CA\")\n*   }),\n* }\n*\n* const llmWithTools = llm.bindTools([GetWeather, GetPopulation]);\n* const aiMsg = await llmWithTools.invoke(\n*   \"Which city is hotter today and which is bigger: LA or NY?\"\n* );\n* console.log(aiMsg.tool_calls);\n* ```\n*\n* ```txt\n* [\n*   {\n*     name: 'GetWeather',\n*     args: { location: 'Los Angeles, CA' },\n*     type: 'tool_call',\n*     id: 'call_uPU4FiFzoKAtMxfmPnfQL6UK'\n*   },\n*   {\n*     name: 'GetWeather',\n*     args: { location: 'New York, NY' },\n*     type: 'tool_call',\n*     id: 'call_UNkEwuQsHrGYqgDQuH9nPAtX'\n*   },\n*   {\n*     name: 'GetPopulation',\n*     args: { location: 'Los Angeles, CA' },\n*     type: 'tool_call',\n*     id: 'call_kL3OXxaq9OjIKqRTpvjaCH14'\n*   },\n*   {\n*     name: 'GetPopulation',\n*     args: { location: 'New York, NY' },\n*     type: 'tool_call',\n*     id: 'call_s9KQB1UWj45LLGaEnjz0179q'\n*   }\n* ]\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Structured Output</strong></summary>\n*\n* ```typescript\n* import { z } from 'zod';\n*\n* const Joke = z.object({\n*   setup: z.string().describe(\"The setup of the joke\"),\n*   punchline: z.string().describe(\"The punchline to the joke\"),\n*   rating: z.number().nullable().describe(\"How funny the joke is, from 1 to 10\")\n* }).describe('Joke to tell user.');\n*\n* const structuredLlm = llm.withStructuredOutput(Joke, { name: \"Joke\" });\n* const jokeResult = await structuredLlm.invoke(\"Tell me a joke about cats\");\n* console.log(jokeResult);\n* ```\n*\n* ```txt\n* {\n*   setup: 'Why was the cat sitting on the computer?',\n*   punchline: 'Because it wanted to keep an eye on the mouse!',\n*   rating: 7\n* }\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>JSON Object Response Format</strong></summary>\n*\n* ```typescript\n* const jsonLlm = llm.withConfig({ response_format: { type: \"json_object\" } });\n* const jsonLlmAiMsg = await jsonLlm.invoke(\n*   \"Return a JSON object with key 'randomInts' and a value of 10 random ints in [0-99]\"\n* );\n* console.log(jsonLlmAiMsg.content);\n* ```\n*\n* ```txt\n* {\n*   \"randomInts\": [23, 87, 45, 12, 78, 34, 56, 90, 11, 67]\n* }\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Multimodal</strong></summary>\n*\n* ```typescript\n* import { HumanMessage } from '@langchain/core/messages';\n*\n* const imageUrl = \"https://example.com/image.jpg\";\n* const imageData = await fetch(imageUrl).then(res => res.arrayBuffer());\n* const base64Image = Buffer.from(imageData).toString('base64');\n*\n* const message = new HumanMessage({\n*   content: [\n*     { type: \"text\", text: \"describe the weather in this image\" },\n*     {\n*       type: \"image_url\",\n*       image_url: { url: `data:image/jpeg;base64,${base64Image}` },\n*     },\n*   ]\n* });\n*\n* const imageDescriptionAiMsg = await llm.invoke([message]);\n* console.log(imageDescriptionAiMsg.content);\n* ```\n*\n* ```txt\n* The weather in the image appears to be clear and sunny. The sky is mostly blue with a few scattered white clouds, indicating fair weather. The bright sunlight is casting shadows on the green, grassy hill, suggesting it is a pleasant day with good visibility. There are no signs of rain or stormy conditions.\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Usage Metadata</strong></summary>\n*\n* ```typescript\n* const aiMsgForMetadata = await llm.invoke(input);\n* console.log(aiMsgForMetadata.usage_metadata);\n* ```\n*\n* ```txt\n* { input_tokens: 28, output_tokens: 5, total_tokens: 33 }\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Logprobs</strong></summary>\n*\n* ```typescript\n* const logprobsLlm = new ChatOpenAI({ model: \"gpt-4o-mini\", logprobs: true });\n* const aiMsgForLogprobs = await logprobsLlm.invoke(input);\n* console.log(aiMsgForLogprobs.response_metadata.logprobs);\n* ```\n*\n* ```txt\n* {\n*   content: [\n*     {\n*       token: 'J',\n*       logprob: -0.000050616763,\n*       bytes: [Array],\n*       top_logprobs: []\n*     },\n*     {\n*       token: \"'\",\n*       logprob: -0.01868736,\n*       bytes: [Array],\n*       top_logprobs: []\n*     },\n*     {\n*       token: 'ad',\n*       logprob: -0.0000030545007,\n*       bytes: [Array],\n*       top_logprobs: []\n*     },\n*     { token: 'ore', logprob: 0, bytes: [Array], top_logprobs: [] },\n*     {\n*       token: ' la',\n*       logprob: -0.515404,\n*       bytes: [Array],\n*       top_logprobs: []\n*     },\n*     {\n*       token: ' programm',\n*       logprob: -0.0000118755715,\n*       bytes: [Array],\n*       top_logprobs: []\n*     },\n*     { token: 'ation', logprob: 0, bytes: [Array], top_logprobs: [] },\n*     {\n*       token: '.',\n*       logprob: -0.0000037697225,\n*       bytes: [Array],\n*       top_logprobs: []\n*     }\n*   ],\n*   refusal: null\n* }\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Response Metadata</strong></summary>\n*\n* ```typescript\n* const aiMsgForResponseMetadata = await llm.invoke(input);\n* console.log(aiMsgForResponseMetadata.response_metadata);\n* ```\n*\n* ```txt\n* {\n*   tokenUsage: { completionTokens: 5, promptTokens: 28, totalTokens: 33 },\n*   finish_reason: 'stop',\n*   system_fingerprint: 'fp_3aa7262c27'\n* }\n* ```\n* </details>\n*/\nvar AzureChatOpenAI = class extends _chat_models_index_js__WEBPACK_IMPORTED_MODULE_3__.ChatOpenAI {\n\tazureOpenAIApiVersion;\n\tazureOpenAIApiKey;\n\tazureADTokenProvider;\n\tazureOpenAIApiInstanceName;\n\tazureOpenAIApiDeploymentName;\n\tazureOpenAIBasePath;\n\tazureOpenAIEndpoint;\n\t_llmType() {\n\t\treturn \"azure_openai\";\n\t}\n\tget lc_aliases() {\n\t\treturn {\n\t\t\t...super.lc_aliases,\n\t\t\t..._common_js__WEBPACK_IMPORTED_MODULE_0__.AZURE_ALIASES\n\t\t};\n\t}\n\tget lc_secrets() {\n\t\treturn {\n\t\t\t...super.lc_secrets,\n\t\t\t..._common_js__WEBPACK_IMPORTED_MODULE_0__.AZURE_SECRETS\n\t\t};\n\t}\n\tget lc_serializable_keys() {\n\t\treturn [...super.lc_serializable_keys, ..._common_js__WEBPACK_IMPORTED_MODULE_0__.AZURE_SERIALIZABLE_KEYS];\n\t}\n\tgetLsParams(options) {\n\t\tconst params = super.getLsParams(options);\n\t\tparams.ls_provider = \"azure\";\n\t\treturn params;\n\t}\n\tconstructor(fields) {\n\t\tsuper({\n\t\t\t...fields,\n\t\t\tcompletions: new _completions_js__WEBPACK_IMPORTED_MODULE_1__.AzureChatOpenAICompletions(fields),\n\t\t\tresponses: new _responses_js__WEBPACK_IMPORTED_MODULE_2__.AzureChatOpenAIResponses(fields)\n\t\t});\n\t\t_common_js__WEBPACK_IMPORTED_MODULE_0__._constructAzureFields.call(this, fields);\n\t}\n\t/** @internal */\n\t_getStructuredOutputMethod(config) {\n\t\tconst ensuredConfig = { ...config };\n\t\tif (this.model.startsWith(\"gpt-4o\")) {\n\t\t\tif (ensuredConfig?.method === void 0) return \"functionCalling\";\n\t\t}\n\t\treturn super._getStructuredOutputMethod(ensuredConfig);\n\t}\n\ttoJSON() {\n\t\treturn _common_js__WEBPACK_IMPORTED_MODULE_0__._serializeAzureChat.call(this, super.toJSON());\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L2F6dXJlL2NoYXRfbW9kZWxzL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQWdJO0FBQ2xFO0FBQ0o7QUFDRjs7QUFFeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxrQkFBa0I7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpQkFBaUI7QUFDNUIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxJQUFJO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyw2QkFBNkI7QUFDM0M7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsY0FBYywwQkFBMEI7QUFDeEM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsY0FBYyw2QkFBNkI7QUFDM0M7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsY0FBYywwQkFBMEI7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLElBQUk7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EseURBQXlELGNBQWM7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsbUJBQW1CLHVCQUF1QjtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZUFBZTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsMERBQTBEO0FBQ2xFO0FBQ0E7QUFDQSxxQkFBcUIsc0JBQXNCLFNBQVMsWUFBWSxHQUFHO0FBQ25FLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLHNDQUFzQztBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLFFBQVEsNERBQTREO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxRQUFRLDhEQUE4RDtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isd0RBQXdEO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyw2REFBVTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0scURBQWE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0scURBQWE7QUFDbkI7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLCtEQUF1QjtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsdUVBQTBCO0FBQzlDLGtCQUFrQixtRUFBd0I7QUFDMUMsR0FBRztBQUNILEVBQUUsNkRBQXFCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDJEQUFtQjtBQUM1QjtBQUNBOztBQUVBO0FBQzJCO0FBQzNCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L2F6dXJlL2NoYXRfbW9kZWxzL2luZGV4LmpzP2M3ZmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQVpVUkVfQUxJQVNFUywgQVpVUkVfU0VDUkVUUywgQVpVUkVfU0VSSUFMSVpBQkxFX0tFWVMsIF9jb25zdHJ1Y3RBenVyZUZpZWxkcywgX3NlcmlhbGl6ZUF6dXJlQ2hhdCB9IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuaW1wb3J0IHsgQXp1cmVDaGF0T3BlbkFJQ29tcGxldGlvbnMgfSBmcm9tIFwiLi9jb21wbGV0aW9ucy5qc1wiO1xuaW1wb3J0IHsgQXp1cmVDaGF0T3BlbkFJUmVzcG9uc2VzIH0gZnJvbSBcIi4vcmVzcG9uc2VzLmpzXCI7XG5pbXBvcnQgeyBDaGF0T3BlbkFJIH0gZnJvbSBcIi4uLy4uL2NoYXRfbW9kZWxzL2luZGV4LmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvYXp1cmUvY2hhdF9tb2RlbHMvaW5kZXgudHNcbi8qKlxuKiBBenVyZSBPcGVuQUkgY2hhdCBtb2RlbCBpbnRlZ3JhdGlvbi5cbipcbiogU2V0dXA6XG4qIEluc3RhbGwgYEBsYW5nY2hhaW4vb3BlbmFpYCBhbmQgc2V0IHRoZSBmb2xsb3dpbmcgZW52aXJvbm1lbnQgdmFyaWFibGVzOlxuKlxuKiBgYGBiYXNoXG4qIG5wbSBpbnN0YWxsIEBsYW5nY2hhaW4vb3BlbmFpXG4qIGV4cG9ydCBBWlVSRV9PUEVOQUlfQVBJX0tFWT1cInlvdXItYXBpLWtleVwiXG4qIGV4cG9ydCBBWlVSRV9PUEVOQUlfQVBJX0RFUExPWU1FTlRfTkFNRT1cInlvdXItZGVwbG95bWVudC1uYW1lXCJcbiogZXhwb3J0IEFaVVJFX09QRU5BSV9BUElfVkVSU0lPTj1cInlvdXItdmVyc2lvblwiXG4qIGV4cG9ydCBBWlVSRV9PUEVOQUlfQkFTRV9QQVRIPVwieW91ci1iYXNlLXBhdGhcIlxuKiBgYGBcbipcbiogIyMgW0NvbnN0cnVjdG9yIGFyZ3NdKGh0dHBzOi8vYXBpLmpzLmxhbmdjaGFpbi5jb20vY2xhc3Nlcy9sYW5nY2hhaW5fb3BlbmFpLkF6dXJlQ2hhdE9wZW5BSS5odG1sI2NvbnN0cnVjdG9yKVxuKlxuKiAjIyBbUnVudGltZSBhcmdzXShodHRwczovL2FwaS5qcy5sYW5nY2hhaW4uY29tL2ludGVyZmFjZXMvbGFuZ2NoYWluX29wZW5haS5DaGF0T3BlbkFJQ2FsbE9wdGlvbnMuaHRtbClcbipcbiogUnVudGltZSBhcmdzIGNhbiBiZSBwYXNzZWQgYXMgdGhlIHNlY29uZCBhcmd1bWVudCB0byBhbnkgb2YgdGhlIGJhc2UgcnVubmFibGUgbWV0aG9kcyBgLmludm9rZWAuIGAuc3RyZWFtYCwgYC5iYXRjaGAsIGV0Yy5cbiogVGhleSBjYW4gYWxzbyBiZSBwYXNzZWQgdmlhIGAud2l0aENvbmZpZ2AsIG9yIHRoZSBzZWNvbmQgYXJnIGluIGAuYmluZFRvb2xzYCwgbGlrZSBzaG93biBpbiB0aGUgZXhhbXBsZXMgYmVsb3c6XG4qXG4qIGBgYHR5cGVzY3JpcHRcbiogLy8gV2hlbiBjYWxsaW5nIGAud2l0aENvbmZpZ2AsIGNhbGwgb3B0aW9ucyBzaG91bGQgYmUgcGFzc2VkIHZpYSB0aGUgZmlyc3QgYXJndW1lbnRcbiogY29uc3QgbGxtV2l0aEFyZ3NCb3VuZCA9IGxsbS53aXRoQ29uZmlnKHtcbiogICBzdG9wOiBbXCJcXG5cIl0sXG4qICAgdG9vbHM6IFsuLi5dLFxuKiB9KTtcbipcbiogLy8gV2hlbiBjYWxsaW5nIGAuYmluZFRvb2xzYCwgY2FsbCBvcHRpb25zIHNob3VsZCBiZSBwYXNzZWQgdmlhIHRoZSBzZWNvbmQgYXJndW1lbnRcbiogY29uc3QgbGxtV2l0aFRvb2xzID0gbGxtLmJpbmRUb29scyhcbiogICBbLi4uXSxcbiogICB7XG4qICAgICB0b29sX2Nob2ljZTogXCJhdXRvXCIsXG4qICAgfVxuKiApO1xuKiBgYGBcbipcbiogIyMgRXhhbXBsZXNcbipcbiogPGRldGFpbHMgb3Blbj5cbiogPHN1bW1hcnk+PHN0cm9uZz5JbnN0YW50aWF0ZTwvc3Ryb25nPjwvc3VtbWFyeT5cbipcbiogYGBgdHlwZXNjcmlwdFxuKiBpbXBvcnQgeyBBenVyZUNoYXRPcGVuQUkgfSBmcm9tICdAbGFuZ2NoYWluL29wZW5haSc7XG4qXG4qIGNvbnN0IGxsbSA9IG5ldyBBenVyZUNoYXRPcGVuQUkoe1xuKiAgIGF6dXJlT3BlbkFJQXBpS2V5OiBwcm9jZXNzLmVudi5BWlVSRV9PUEVOQUlfQVBJX0tFWSwgLy8gSW4gTm9kZS5qcyBkZWZhdWx0cyB0byBwcm9jZXNzLmVudi5BWlVSRV9PUEVOQUlfQVBJX0tFWVxuKiAgIGF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lOiBwcm9jZXNzLmVudi5BWlVSRV9PUEVOQUlfQVBJX0lOU1RBTkNFX05BTUUsIC8vIEluIE5vZGUuanMgZGVmYXVsdHMgdG8gcHJvY2Vzcy5lbnYuQVpVUkVfT1BFTkFJX0FQSV9JTlNUQU5DRV9OQU1FXG4qICAgYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZTogcHJvY2Vzcy5lbnYuQVpVUkVfT1BFTkFJX0FQSV9ERVBMT1lNRU5UX05BTUUsIC8vIEluIE5vZGUuanMgZGVmYXVsdHMgdG8gcHJvY2Vzcy5lbnYuQVpVUkVfT1BFTkFJX0FQSV9ERVBMT1lNRU5UX05BTUVcbiogICBhenVyZU9wZW5BSUFwaVZlcnNpb246IHByb2Nlc3MuZW52LkFaVVJFX09QRU5BSV9BUElfVkVSU0lPTiwgLy8gSW4gTm9kZS5qcyBkZWZhdWx0cyB0byBwcm9jZXNzLmVudi5BWlVSRV9PUEVOQUlfQVBJX1ZFUlNJT05cbiogICB0ZW1wZXJhdHVyZTogMCxcbiogICBtYXhUb2tlbnM6IHVuZGVmaW5lZCxcbiogICB0aW1lb3V0OiB1bmRlZmluZWQsXG4qICAgbWF4UmV0cmllczogMixcbiogICAvLyBhcGlLZXk6IFwiLi4uXCIsXG4qICAgLy8gYmFzZVVybDogXCIuLi5cIixcbiogICAvLyBvdGhlciBwYXJhbXMuLi5cbiogfSk7XG4qIGBgYFxuKiA8L2RldGFpbHM+XG4qXG4qIDxiciAvPlxuKlxuKiA8ZGV0YWlscz5cbiogPHN1bW1hcnk+PHN0cm9uZz5JbnZva2luZzwvc3Ryb25nPjwvc3VtbWFyeT5cbipcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBpbnB1dCA9IGBUcmFuc2xhdGUgXCJJIGxvdmUgcHJvZ3JhbW1pbmdcIiBpbnRvIEZyZW5jaC5gO1xuKlxuKiAvLyBNb2RlbHMgYWxzbyBhY2NlcHQgYSBsaXN0IG9mIGNoYXQgbWVzc2FnZXMgb3IgYSBmb3JtYXR0ZWQgcHJvbXB0XG4qIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGxsbS5pbnZva2UoaW5wdXQpO1xuKiBjb25zb2xlLmxvZyhyZXN1bHQpO1xuKiBgYGBcbipcbiogYGBgdHh0XG4qIEFJTWVzc2FnZSB7XG4qICAgXCJpZFwiOiBcImNoYXRjbXBsLTl1NE1wdTQ0Q2JQandZRmtUYmVvWmd2ekIwMFR6XCIsXG4qICAgXCJjb250ZW50XCI6IFwiSidhZG9yZSBsYSBwcm9ncmFtbWF0aW9uLlwiLFxuKiAgIFwicmVzcG9uc2VfbWV0YWRhdGFcIjoge1xuKiAgICAgXCJ0b2tlblVzYWdlXCI6IHtcbiogICAgICAgXCJjb21wbGV0aW9uVG9rZW5zXCI6IDUsXG4qICAgICAgIFwicHJvbXB0VG9rZW5zXCI6IDI4LFxuKiAgICAgICBcInRvdGFsVG9rZW5zXCI6IDMzXG4qICAgICB9LFxuKiAgICAgXCJmaW5pc2hfcmVhc29uXCI6IFwic3RvcFwiLFxuKiAgICAgXCJzeXN0ZW1fZmluZ2VycHJpbnRcIjogXCJmcF8zYWE3MjYyYzI3XCJcbiogICB9LFxuKiAgIFwidXNhZ2VfbWV0YWRhdGFcIjoge1xuKiAgICAgXCJpbnB1dF90b2tlbnNcIjogMjgsXG4qICAgICBcIm91dHB1dF90b2tlbnNcIjogNSxcbiogICAgIFwidG90YWxfdG9rZW5zXCI6IDMzXG4qICAgfVxuKiB9XG4qIGBgYFxuKiA8L2RldGFpbHM+XG4qXG4qIDxiciAvPlxuKlxuKiA8ZGV0YWlscz5cbiogPHN1bW1hcnk+PHN0cm9uZz5TdHJlYW1pbmcgQ2h1bmtzPC9zdHJvbmc+PC9zdW1tYXJ5PlxuKlxuKiBgYGB0eXBlc2NyaXB0XG4qIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgYXdhaXQgbGxtLnN0cmVhbShpbnB1dCkpIHtcbiogICBjb25zb2xlLmxvZyhjaHVuayk7XG4qIH1cbiogYGBgXG4qXG4qIGBgYHR4dFxuKiBBSU1lc3NhZ2VDaHVuayB7XG4qICAgXCJpZFwiOiBcImNoYXRjbXBsLTl1NE5XQjd5VWVIQ0tkTHI2alAzSHBhT1lIVHFzXCIsXG4qICAgXCJjb250ZW50XCI6IFwiXCJcbiogfVxuKiBBSU1lc3NhZ2VDaHVuayB7XG4qICAgXCJjb250ZW50XCI6IFwiSlwiXG4qIH1cbiogQUlNZXNzYWdlQ2h1bmsge1xuKiAgIFwiY29udGVudFwiOiBcIidhZG9yZVwiXG4qIH1cbiogQUlNZXNzYWdlQ2h1bmsge1xuKiAgIFwiY29udGVudFwiOiBcIiBsYVwiXG4qIH1cbiogQUlNZXNzYWdlQ2h1bmsge1xuKiAgIFwiY29udGVudFwiOiBcIiBwcm9ncmFtbWF0aW9uXCIsLFxuKiB9XG4qIEFJTWVzc2FnZUNodW5rIHtcbiogICBcImNvbnRlbnRcIjogXCIuXCIsLFxuKiB9XG4qIEFJTWVzc2FnZUNodW5rIHtcbiogICBcImNvbnRlbnRcIjogXCJcIixcbiogICBcInJlc3BvbnNlX21ldGFkYXRhXCI6IHtcbiogICAgIFwiZmluaXNoX3JlYXNvblwiOiBcInN0b3BcIixcbiogICAgIFwic3lzdGVtX2ZpbmdlcnByaW50XCI6IFwiZnBfYzlhYTljMDQ5MVwiXG4qICAgfSxcbiogfVxuKiBBSU1lc3NhZ2VDaHVuayB7XG4qICAgXCJjb250ZW50XCI6IFwiXCIsXG4qICAgXCJ1c2FnZV9tZXRhZGF0YVwiOiB7XG4qICAgICBcImlucHV0X3Rva2Vuc1wiOiAyOCxcbiogICAgIFwib3V0cHV0X3Rva2Vuc1wiOiA1LFxuKiAgICAgXCJ0b3RhbF90b2tlbnNcIjogMzNcbiogICB9XG4qIH1cbiogYGBgXG4qIDwvZGV0YWlscz5cbipcbiogPGJyIC8+XG4qXG4qIDxkZXRhaWxzPlxuKiA8c3VtbWFyeT48c3Ryb25nPkFnZ3JlZ2F0ZSBTdHJlYW1lZCBDaHVua3M8L3N0cm9uZz48L3N1bW1hcnk+XG4qXG4qIGBgYHR5cGVzY3JpcHRcbiogaW1wb3J0IHsgQUlNZXNzYWdlQ2h1bmsgfSBmcm9tICdAbGFuZ2NoYWluL2NvcmUvbWVzc2FnZXMnO1xuKiBpbXBvcnQgeyBjb25jYXQgfSBmcm9tICdAbGFuZ2NoYWluL2NvcmUvdXRpbHMvc3RyZWFtJztcbipcbiogY29uc3Qgc3RyZWFtID0gYXdhaXQgbGxtLnN0cmVhbShpbnB1dCk7XG4qIGxldCBmdWxsOiBBSU1lc3NhZ2VDaHVuayB8IHVuZGVmaW5lZDtcbiogZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBzdHJlYW0pIHtcbiogICBmdWxsID0gIWZ1bGwgPyBjaHVuayA6IGNvbmNhdChmdWxsLCBjaHVuayk7XG4qIH1cbiogY29uc29sZS5sb2coZnVsbCk7XG4qIGBgYFxuKlxuKiBgYGB0eHRcbiogQUlNZXNzYWdlQ2h1bmsge1xuKiAgIFwiaWRcIjogXCJjaGF0Y21wbC05dTRQblg2Rnk3T21LNDZEQVN5MGJINmN4bjVYdVwiLFxuKiAgIFwiY29udGVudFwiOiBcIkonYWRvcmUgbGEgcHJvZ3JhbW1hdGlvbi5cIixcbiogICBcInJlc3BvbnNlX21ldGFkYXRhXCI6IHtcbiogICAgIFwicHJvbXB0XCI6IDAsXG4qICAgICBcImNvbXBsZXRpb25cIjogMCxcbiogICAgIFwiZmluaXNoX3JlYXNvblwiOiBcInN0b3BcIixcbiogICB9LFxuKiAgIFwidXNhZ2VfbWV0YWRhdGFcIjoge1xuKiAgICAgXCJpbnB1dF90b2tlbnNcIjogMjgsXG4qICAgICBcIm91dHB1dF90b2tlbnNcIjogNSxcbiogICAgIFwidG90YWxfdG9rZW5zXCI6IDMzXG4qICAgfVxuKiB9XG4qIGBgYFxuKiA8L2RldGFpbHM+XG4qXG4qIDxiciAvPlxuKlxuKiA8ZGV0YWlscz5cbiogPHN1bW1hcnk+PHN0cm9uZz5CaW5kIHRvb2xzPC9zdHJvbmc+PC9zdW1tYXJ5PlxuKlxuKiBgYGB0eXBlc2NyaXB0XG4qIGltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xuKlxuKiBjb25zdCBHZXRXZWF0aGVyID0ge1xuKiAgIG5hbWU6IFwiR2V0V2VhdGhlclwiLFxuKiAgIGRlc2NyaXB0aW9uOiBcIkdldCB0aGUgY3VycmVudCB3ZWF0aGVyIGluIGEgZ2l2ZW4gbG9jYXRpb25cIixcbiogICBzY2hlbWE6IHoub2JqZWN0KHtcbiogICAgIGxvY2F0aW9uOiB6LnN0cmluZygpLmRlc2NyaWJlKFwiVGhlIGNpdHkgYW5kIHN0YXRlLCBlLmcuIFNhbiBGcmFuY2lzY28sIENBXCIpXG4qICAgfSksXG4qIH1cbipcbiogY29uc3QgR2V0UG9wdWxhdGlvbiA9IHtcbiogICBuYW1lOiBcIkdldFBvcHVsYXRpb25cIixcbiogICBkZXNjcmlwdGlvbjogXCJHZXQgdGhlIGN1cnJlbnQgcG9wdWxhdGlvbiBpbiBhIGdpdmVuIGxvY2F0aW9uXCIsXG4qICAgc2NoZW1hOiB6Lm9iamVjdCh7XG4qICAgICBsb2NhdGlvbjogei5zdHJpbmcoKS5kZXNjcmliZShcIlRoZSBjaXR5IGFuZCBzdGF0ZSwgZS5nLiBTYW4gRnJhbmNpc2NvLCBDQVwiKVxuKiAgIH0pLFxuKiB9XG4qXG4qIGNvbnN0IGxsbVdpdGhUb29scyA9IGxsbS5iaW5kVG9vbHMoW0dldFdlYXRoZXIsIEdldFBvcHVsYXRpb25dKTtcbiogY29uc3QgYWlNc2cgPSBhd2FpdCBsbG1XaXRoVG9vbHMuaW52b2tlKFxuKiAgIFwiV2hpY2ggY2l0eSBpcyBob3R0ZXIgdG9kYXkgYW5kIHdoaWNoIGlzIGJpZ2dlcjogTEEgb3IgTlk/XCJcbiogKTtcbiogY29uc29sZS5sb2coYWlNc2cudG9vbF9jYWxscyk7XG4qIGBgYFxuKlxuKiBgYGB0eHRcbiogW1xuKiAgIHtcbiogICAgIG5hbWU6ICdHZXRXZWF0aGVyJyxcbiogICAgIGFyZ3M6IHsgbG9jYXRpb246ICdMb3MgQW5nZWxlcywgQ0EnIH0sXG4qICAgICB0eXBlOiAndG9vbF9jYWxsJyxcbiogICAgIGlkOiAnY2FsbF91UFU0RmlGem9LQXRNeGZtUG5mUUw2VUsnXG4qICAgfSxcbiogICB7XG4qICAgICBuYW1lOiAnR2V0V2VhdGhlcicsXG4qICAgICBhcmdzOiB7IGxvY2F0aW9uOiAnTmV3IFlvcmssIE5ZJyB9LFxuKiAgICAgdHlwZTogJ3Rvb2xfY2FsbCcsXG4qICAgICBpZDogJ2NhbGxfVU5rRXd1UXNIckdZcWdEUXVIOW5QQXRYJ1xuKiAgIH0sXG4qICAge1xuKiAgICAgbmFtZTogJ0dldFBvcHVsYXRpb24nLFxuKiAgICAgYXJnczogeyBsb2NhdGlvbjogJ0xvcyBBbmdlbGVzLCBDQScgfSxcbiogICAgIHR5cGU6ICd0b29sX2NhbGwnLFxuKiAgICAgaWQ6ICdjYWxsX2tMM09YeGFxOU9qSUtxUlRwdmphQ0gxNCdcbiogICB9LFxuKiAgIHtcbiogICAgIG5hbWU6ICdHZXRQb3B1bGF0aW9uJyxcbiogICAgIGFyZ3M6IHsgbG9jYXRpb246ICdOZXcgWW9yaywgTlknIH0sXG4qICAgICB0eXBlOiAndG9vbF9jYWxsJyxcbiogICAgIGlkOiAnY2FsbF9zOUtRQjFVV2o0NUxMR2FFbmp6MDE3OXEnXG4qICAgfVxuKiBdXG4qIGBgYFxuKiA8L2RldGFpbHM+XG4qXG4qIDxiciAvPlxuKlxuKiA8ZGV0YWlscz5cbiogPHN1bW1hcnk+PHN0cm9uZz5TdHJ1Y3R1cmVkIE91dHB1dDwvc3Ryb25nPjwvc3VtbWFyeT5cbipcbiogYGBgdHlwZXNjcmlwdFxuKiBpbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcbipcbiogY29uc3QgSm9rZSA9IHoub2JqZWN0KHtcbiogICBzZXR1cDogei5zdHJpbmcoKS5kZXNjcmliZShcIlRoZSBzZXR1cCBvZiB0aGUgam9rZVwiKSxcbiogICBwdW5jaGxpbmU6IHouc3RyaW5nKCkuZGVzY3JpYmUoXCJUaGUgcHVuY2hsaW5lIHRvIHRoZSBqb2tlXCIpLFxuKiAgIHJhdGluZzogei5udW1iZXIoKS5udWxsYWJsZSgpLmRlc2NyaWJlKFwiSG93IGZ1bm55IHRoZSBqb2tlIGlzLCBmcm9tIDEgdG8gMTBcIilcbiogfSkuZGVzY3JpYmUoJ0pva2UgdG8gdGVsbCB1c2VyLicpO1xuKlxuKiBjb25zdCBzdHJ1Y3R1cmVkTGxtID0gbGxtLndpdGhTdHJ1Y3R1cmVkT3V0cHV0KEpva2UsIHsgbmFtZTogXCJKb2tlXCIgfSk7XG4qIGNvbnN0IGpva2VSZXN1bHQgPSBhd2FpdCBzdHJ1Y3R1cmVkTGxtLmludm9rZShcIlRlbGwgbWUgYSBqb2tlIGFib3V0IGNhdHNcIik7XG4qIGNvbnNvbGUubG9nKGpva2VSZXN1bHQpO1xuKiBgYGBcbipcbiogYGBgdHh0XG4qIHtcbiogICBzZXR1cDogJ1doeSB3YXMgdGhlIGNhdCBzaXR0aW5nIG9uIHRoZSBjb21wdXRlcj8nLFxuKiAgIHB1bmNobGluZTogJ0JlY2F1c2UgaXQgd2FudGVkIHRvIGtlZXAgYW4gZXllIG9uIHRoZSBtb3VzZSEnLFxuKiAgIHJhdGluZzogN1xuKiB9XG4qIGBgYFxuKiA8L2RldGFpbHM+XG4qXG4qIDxiciAvPlxuKlxuKiA8ZGV0YWlscz5cbiogPHN1bW1hcnk+PHN0cm9uZz5KU09OIE9iamVjdCBSZXNwb25zZSBGb3JtYXQ8L3N0cm9uZz48L3N1bW1hcnk+XG4qXG4qIGBgYHR5cGVzY3JpcHRcbiogY29uc3QganNvbkxsbSA9IGxsbS53aXRoQ29uZmlnKHsgcmVzcG9uc2VfZm9ybWF0OiB7IHR5cGU6IFwianNvbl9vYmplY3RcIiB9IH0pO1xuKiBjb25zdCBqc29uTGxtQWlNc2cgPSBhd2FpdCBqc29uTGxtLmludm9rZShcbiogICBcIlJldHVybiBhIEpTT04gb2JqZWN0IHdpdGgga2V5ICdyYW5kb21JbnRzJyBhbmQgYSB2YWx1ZSBvZiAxMCByYW5kb20gaW50cyBpbiBbMC05OV1cIlxuKiApO1xuKiBjb25zb2xlLmxvZyhqc29uTGxtQWlNc2cuY29udGVudCk7XG4qIGBgYFxuKlxuKiBgYGB0eHRcbioge1xuKiAgIFwicmFuZG9tSW50c1wiOiBbMjMsIDg3LCA0NSwgMTIsIDc4LCAzNCwgNTYsIDkwLCAxMSwgNjddXG4qIH1cbiogYGBgXG4qIDwvZGV0YWlscz5cbipcbiogPGJyIC8+XG4qXG4qIDxkZXRhaWxzPlxuKiA8c3VtbWFyeT48c3Ryb25nPk11bHRpbW9kYWw8L3N0cm9uZz48L3N1bW1hcnk+XG4qXG4qIGBgYHR5cGVzY3JpcHRcbiogaW1wb3J0IHsgSHVtYW5NZXNzYWdlIH0gZnJvbSAnQGxhbmdjaGFpbi9jb3JlL21lc3NhZ2VzJztcbipcbiogY29uc3QgaW1hZ2VVcmwgPSBcImh0dHBzOi8vZXhhbXBsZS5jb20vaW1hZ2UuanBnXCI7XG4qIGNvbnN0IGltYWdlRGF0YSA9IGF3YWl0IGZldGNoKGltYWdlVXJsKS50aGVuKHJlcyA9PiByZXMuYXJyYXlCdWZmZXIoKSk7XG4qIGNvbnN0IGJhc2U2NEltYWdlID0gQnVmZmVyLmZyb20oaW1hZ2VEYXRhKS50b1N0cmluZygnYmFzZTY0Jyk7XG4qXG4qIGNvbnN0IG1lc3NhZ2UgPSBuZXcgSHVtYW5NZXNzYWdlKHtcbiogICBjb250ZW50OiBbXG4qICAgICB7IHR5cGU6IFwidGV4dFwiLCB0ZXh0OiBcImRlc2NyaWJlIHRoZSB3ZWF0aGVyIGluIHRoaXMgaW1hZ2VcIiB9LFxuKiAgICAge1xuKiAgICAgICB0eXBlOiBcImltYWdlX3VybFwiLFxuKiAgICAgICBpbWFnZV91cmw6IHsgdXJsOiBgZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCwke2Jhc2U2NEltYWdlfWAgfSxcbiogICAgIH0sXG4qICAgXVxuKiB9KTtcbipcbiogY29uc3QgaW1hZ2VEZXNjcmlwdGlvbkFpTXNnID0gYXdhaXQgbGxtLmludm9rZShbbWVzc2FnZV0pO1xuKiBjb25zb2xlLmxvZyhpbWFnZURlc2NyaXB0aW9uQWlNc2cuY29udGVudCk7XG4qIGBgYFxuKlxuKiBgYGB0eHRcbiogVGhlIHdlYXRoZXIgaW4gdGhlIGltYWdlIGFwcGVhcnMgdG8gYmUgY2xlYXIgYW5kIHN1bm55LiBUaGUgc2t5IGlzIG1vc3RseSBibHVlIHdpdGggYSBmZXcgc2NhdHRlcmVkIHdoaXRlIGNsb3VkcywgaW5kaWNhdGluZyBmYWlyIHdlYXRoZXIuIFRoZSBicmlnaHQgc3VubGlnaHQgaXMgY2FzdGluZyBzaGFkb3dzIG9uIHRoZSBncmVlbiwgZ3Jhc3N5IGhpbGwsIHN1Z2dlc3RpbmcgaXQgaXMgYSBwbGVhc2FudCBkYXkgd2l0aCBnb29kIHZpc2liaWxpdHkuIFRoZXJlIGFyZSBubyBzaWducyBvZiByYWluIG9yIHN0b3JteSBjb25kaXRpb25zLlxuKiBgYGBcbiogPC9kZXRhaWxzPlxuKlxuKiA8YnIgLz5cbipcbiogPGRldGFpbHM+XG4qIDxzdW1tYXJ5PjxzdHJvbmc+VXNhZ2UgTWV0YWRhdGE8L3N0cm9uZz48L3N1bW1hcnk+XG4qXG4qIGBgYHR5cGVzY3JpcHRcbiogY29uc3QgYWlNc2dGb3JNZXRhZGF0YSA9IGF3YWl0IGxsbS5pbnZva2UoaW5wdXQpO1xuKiBjb25zb2xlLmxvZyhhaU1zZ0Zvck1ldGFkYXRhLnVzYWdlX21ldGFkYXRhKTtcbiogYGBgXG4qXG4qIGBgYHR4dFxuKiB7IGlucHV0X3Rva2VuczogMjgsIG91dHB1dF90b2tlbnM6IDUsIHRvdGFsX3Rva2VuczogMzMgfVxuKiBgYGBcbiogPC9kZXRhaWxzPlxuKlxuKiA8YnIgLz5cbipcbiogPGRldGFpbHM+XG4qIDxzdW1tYXJ5PjxzdHJvbmc+TG9ncHJvYnM8L3N0cm9uZz48L3N1bW1hcnk+XG4qXG4qIGBgYHR5cGVzY3JpcHRcbiogY29uc3QgbG9ncHJvYnNMbG0gPSBuZXcgQ2hhdE9wZW5BSSh7IG1vZGVsOiBcImdwdC00by1taW5pXCIsIGxvZ3Byb2JzOiB0cnVlIH0pO1xuKiBjb25zdCBhaU1zZ0ZvckxvZ3Byb2JzID0gYXdhaXQgbG9ncHJvYnNMbG0uaW52b2tlKGlucHV0KTtcbiogY29uc29sZS5sb2coYWlNc2dGb3JMb2dwcm9icy5yZXNwb25zZV9tZXRhZGF0YS5sb2dwcm9icyk7XG4qIGBgYFxuKlxuKiBgYGB0eHRcbioge1xuKiAgIGNvbnRlbnQ6IFtcbiogICAgIHtcbiogICAgICAgdG9rZW46ICdKJyxcbiogICAgICAgbG9ncHJvYjogLTAuMDAwMDUwNjE2NzYzLFxuKiAgICAgICBieXRlczogW0FycmF5XSxcbiogICAgICAgdG9wX2xvZ3Byb2JzOiBbXVxuKiAgICAgfSxcbiogICAgIHtcbiogICAgICAgdG9rZW46IFwiJ1wiLFxuKiAgICAgICBsb2dwcm9iOiAtMC4wMTg2ODczNixcbiogICAgICAgYnl0ZXM6IFtBcnJheV0sXG4qICAgICAgIHRvcF9sb2dwcm9iczogW11cbiogICAgIH0sXG4qICAgICB7XG4qICAgICAgIHRva2VuOiAnYWQnLFxuKiAgICAgICBsb2dwcm9iOiAtMC4wMDAwMDMwNTQ1MDA3LFxuKiAgICAgICBieXRlczogW0FycmF5XSxcbiogICAgICAgdG9wX2xvZ3Byb2JzOiBbXVxuKiAgICAgfSxcbiogICAgIHsgdG9rZW46ICdvcmUnLCBsb2dwcm9iOiAwLCBieXRlczogW0FycmF5XSwgdG9wX2xvZ3Byb2JzOiBbXSB9LFxuKiAgICAge1xuKiAgICAgICB0b2tlbjogJyBsYScsXG4qICAgICAgIGxvZ3Byb2I6IC0wLjUxNTQwNCxcbiogICAgICAgYnl0ZXM6IFtBcnJheV0sXG4qICAgICAgIHRvcF9sb2dwcm9iczogW11cbiogICAgIH0sXG4qICAgICB7XG4qICAgICAgIHRva2VuOiAnIHByb2dyYW1tJyxcbiogICAgICAgbG9ncHJvYjogLTAuMDAwMDExODc1NTcxNSxcbiogICAgICAgYnl0ZXM6IFtBcnJheV0sXG4qICAgICAgIHRvcF9sb2dwcm9iczogW11cbiogICAgIH0sXG4qICAgICB7IHRva2VuOiAnYXRpb24nLCBsb2dwcm9iOiAwLCBieXRlczogW0FycmF5XSwgdG9wX2xvZ3Byb2JzOiBbXSB9LFxuKiAgICAge1xuKiAgICAgICB0b2tlbjogJy4nLFxuKiAgICAgICBsb2dwcm9iOiAtMC4wMDAwMDM3Njk3MjI1LFxuKiAgICAgICBieXRlczogW0FycmF5XSxcbiogICAgICAgdG9wX2xvZ3Byb2JzOiBbXVxuKiAgICAgfVxuKiAgIF0sXG4qICAgcmVmdXNhbDogbnVsbFxuKiB9XG4qIGBgYFxuKiA8L2RldGFpbHM+XG4qXG4qIDxiciAvPlxuKlxuKiA8ZGV0YWlscz5cbiogPHN1bW1hcnk+PHN0cm9uZz5SZXNwb25zZSBNZXRhZGF0YTwvc3Ryb25nPjwvc3VtbWFyeT5cbipcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBhaU1zZ0ZvclJlc3BvbnNlTWV0YWRhdGEgPSBhd2FpdCBsbG0uaW52b2tlKGlucHV0KTtcbiogY29uc29sZS5sb2coYWlNc2dGb3JSZXNwb25zZU1ldGFkYXRhLnJlc3BvbnNlX21ldGFkYXRhKTtcbiogYGBgXG4qXG4qIGBgYHR4dFxuKiB7XG4qICAgdG9rZW5Vc2FnZTogeyBjb21wbGV0aW9uVG9rZW5zOiA1LCBwcm9tcHRUb2tlbnM6IDI4LCB0b3RhbFRva2VuczogMzMgfSxcbiogICBmaW5pc2hfcmVhc29uOiAnc3RvcCcsXG4qICAgc3lzdGVtX2ZpbmdlcnByaW50OiAnZnBfM2FhNzI2MmMyNydcbiogfVxuKiBgYGBcbiogPC9kZXRhaWxzPlxuKi9cbnZhciBBenVyZUNoYXRPcGVuQUkgPSBjbGFzcyBleHRlbmRzIENoYXRPcGVuQUkge1xuXHRhenVyZU9wZW5BSUFwaVZlcnNpb247XG5cdGF6dXJlT3BlbkFJQXBpS2V5O1xuXHRhenVyZUFEVG9rZW5Qcm92aWRlcjtcblx0YXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWU7XG5cdGF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWU7XG5cdGF6dXJlT3BlbkFJQmFzZVBhdGg7XG5cdGF6dXJlT3BlbkFJRW5kcG9pbnQ7XG5cdF9sbG1UeXBlKCkge1xuXHRcdHJldHVybiBcImF6dXJlX29wZW5haVwiO1xuXHR9XG5cdGdldCBsY19hbGlhc2VzKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHQuLi5zdXBlci5sY19hbGlhc2VzLFxuXHRcdFx0Li4uQVpVUkVfQUxJQVNFU1xuXHRcdH07XG5cdH1cblx0Z2V0IGxjX3NlY3JldHMoKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdC4uLnN1cGVyLmxjX3NlY3JldHMsXG5cdFx0XHQuLi5BWlVSRV9TRUNSRVRTXG5cdFx0fTtcblx0fVxuXHRnZXQgbGNfc2VyaWFsaXphYmxlX2tleXMoKSB7XG5cdFx0cmV0dXJuIFsuLi5zdXBlci5sY19zZXJpYWxpemFibGVfa2V5cywgLi4uQVpVUkVfU0VSSUFMSVpBQkxFX0tFWVNdO1xuXHR9XG5cdGdldExzUGFyYW1zKG9wdGlvbnMpIHtcblx0XHRjb25zdCBwYXJhbXMgPSBzdXBlci5nZXRMc1BhcmFtcyhvcHRpb25zKTtcblx0XHRwYXJhbXMubHNfcHJvdmlkZXIgPSBcImF6dXJlXCI7XG5cdFx0cmV0dXJuIHBhcmFtcztcblx0fVxuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRzdXBlcih7XG5cdFx0XHQuLi5maWVsZHMsXG5cdFx0XHRjb21wbGV0aW9uczogbmV3IEF6dXJlQ2hhdE9wZW5BSUNvbXBsZXRpb25zKGZpZWxkcyksXG5cdFx0XHRyZXNwb25zZXM6IG5ldyBBenVyZUNoYXRPcGVuQUlSZXNwb25zZXMoZmllbGRzKVxuXHRcdH0pO1xuXHRcdF9jb25zdHJ1Y3RBenVyZUZpZWxkcy5jYWxsKHRoaXMsIGZpZWxkcyk7XG5cdH1cblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRfZ2V0U3RydWN0dXJlZE91dHB1dE1ldGhvZChjb25maWcpIHtcblx0XHRjb25zdCBlbnN1cmVkQ29uZmlnID0geyAuLi5jb25maWcgfTtcblx0XHRpZiAodGhpcy5tb2RlbC5zdGFydHNXaXRoKFwiZ3B0LTRvXCIpKSB7XG5cdFx0XHRpZiAoZW5zdXJlZENvbmZpZz8ubWV0aG9kID09PSB2b2lkIDApIHJldHVybiBcImZ1bmN0aW9uQ2FsbGluZ1wiO1xuXHRcdH1cblx0XHRyZXR1cm4gc3VwZXIuX2dldFN0cnVjdHVyZWRPdXRwdXRNZXRob2QoZW5zdXJlZENvbmZpZyk7XG5cdH1cblx0dG9KU09OKCkge1xuXHRcdHJldHVybiBfc2VyaWFsaXplQXp1cmVDaGF0LmNhbGwodGhpcywgc3VwZXIudG9KU09OKCkpO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEF6dXJlQ2hhdE9wZW5BSSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/azure/chat_models/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/azure/chat_models/responses.js":
/*!*********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/azure/chat_models/responses.js ***!
  \*********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AzureChatOpenAIResponses: () => (/* binding */ AzureChatOpenAIResponses)\n/* harmony export */ });\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/azure/chat_models/common.js\");\n/* harmony import */ var _chat_models_responses_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../chat_models/responses.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/chat_models/responses.js\");\n\n\n\n//#region src/azure/chat_models/responses.ts\nvar AzureChatOpenAIResponses = class extends _chat_models_responses_js__WEBPACK_IMPORTED_MODULE_1__.ChatOpenAIResponses {\n\tazureOpenAIApiVersion;\n\tazureOpenAIApiKey;\n\tazureADTokenProvider;\n\tazureOpenAIApiInstanceName;\n\tazureOpenAIApiDeploymentName;\n\tazureOpenAIBasePath;\n\tazureOpenAIEndpoint;\n\t_llmType() {\n\t\treturn \"azure_openai\";\n\t}\n\tget lc_aliases() {\n\t\treturn {\n\t\t\t...super.lc_aliases,\n\t\t\t..._common_js__WEBPACK_IMPORTED_MODULE_0__.AZURE_ALIASES\n\t\t};\n\t}\n\tget lc_secrets() {\n\t\treturn {\n\t\t\t...super.lc_secrets,\n\t\t\t..._common_js__WEBPACK_IMPORTED_MODULE_0__.AZURE_SECRETS\n\t\t};\n\t}\n\tget lc_serializable_keys() {\n\t\treturn [...super.lc_serializable_keys, ..._common_js__WEBPACK_IMPORTED_MODULE_0__.AZURE_SERIALIZABLE_KEYS];\n\t}\n\tgetLsParams(options) {\n\t\tconst params = super.getLsParams(options);\n\t\tparams.ls_provider = \"azure\";\n\t\treturn params;\n\t}\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\t_common_js__WEBPACK_IMPORTED_MODULE_0__._constructAzureFields.call(this, fields);\n\t}\n\t_getClientOptions(options) {\n\t\treturn _common_js__WEBPACK_IMPORTED_MODULE_0__._getAzureClientOptions.call(this, options);\n\t}\n\ttoJSON() {\n\t\treturn _common_js__WEBPACK_IMPORTED_MODULE_0__._serializeAzureChat.call(this, super.toJSON());\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=responses.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L2F6dXJlL2NoYXRfbW9kZWxzL3Jlc3BvbnNlcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBd0o7QUFDbkY7O0FBRXJFO0FBQ0EsNkNBQTZDLDBFQUFtQjtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0scURBQWE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0scURBQWE7QUFDbkI7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLCtEQUF1QjtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSw2REFBcUI7QUFDdkI7QUFDQTtBQUNBLFNBQVMsOERBQXNCO0FBQy9CO0FBQ0E7QUFDQSxTQUFTLDJEQUFtQjtBQUM1QjtBQUNBOztBQUVBO0FBQ29DO0FBQ3BDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L2F6dXJlL2NoYXRfbW9kZWxzL3Jlc3BvbnNlcy5qcz9lMDhiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFaVVJFX0FMSUFTRVMsIEFaVVJFX1NFQ1JFVFMsIEFaVVJFX1NFUklBTElaQUJMRV9LRVlTLCBfY29uc3RydWN0QXp1cmVGaWVsZHMsIF9nZXRBenVyZUNsaWVudE9wdGlvbnMsIF9zZXJpYWxpemVBenVyZUNoYXQgfSBmcm9tIFwiLi9jb21tb24uanNcIjtcbmltcG9ydCB7IENoYXRPcGVuQUlSZXNwb25zZXMgfSBmcm9tIFwiLi4vLi4vY2hhdF9tb2RlbHMvcmVzcG9uc2VzLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvYXp1cmUvY2hhdF9tb2RlbHMvcmVzcG9uc2VzLnRzXG52YXIgQXp1cmVDaGF0T3BlbkFJUmVzcG9uc2VzID0gY2xhc3MgZXh0ZW5kcyBDaGF0T3BlbkFJUmVzcG9uc2VzIHtcblx0YXp1cmVPcGVuQUlBcGlWZXJzaW9uO1xuXHRhenVyZU9wZW5BSUFwaUtleTtcblx0YXp1cmVBRFRva2VuUHJvdmlkZXI7XG5cdGF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lO1xuXHRhenVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lO1xuXHRhenVyZU9wZW5BSUJhc2VQYXRoO1xuXHRhenVyZU9wZW5BSUVuZHBvaW50O1xuXHRfbGxtVHlwZSgpIHtcblx0XHRyZXR1cm4gXCJhenVyZV9vcGVuYWlcIjtcblx0fVxuXHRnZXQgbGNfYWxpYXNlcygpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Li4uc3VwZXIubGNfYWxpYXNlcyxcblx0XHRcdC4uLkFaVVJFX0FMSUFTRVNcblx0XHR9O1xuXHR9XG5cdGdldCBsY19zZWNyZXRzKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHQuLi5zdXBlci5sY19zZWNyZXRzLFxuXHRcdFx0Li4uQVpVUkVfU0VDUkVUU1xuXHRcdH07XG5cdH1cblx0Z2V0IGxjX3NlcmlhbGl6YWJsZV9rZXlzKCkge1xuXHRcdHJldHVybiBbLi4uc3VwZXIubGNfc2VyaWFsaXphYmxlX2tleXMsIC4uLkFaVVJFX1NFUklBTElaQUJMRV9LRVlTXTtcblx0fVxuXHRnZXRMc1BhcmFtcyhvcHRpb25zKSB7XG5cdFx0Y29uc3QgcGFyYW1zID0gc3VwZXIuZ2V0THNQYXJhbXMob3B0aW9ucyk7XG5cdFx0cGFyYW1zLmxzX3Byb3ZpZGVyID0gXCJhenVyZVwiO1xuXHRcdHJldHVybiBwYXJhbXM7XG5cdH1cblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHRfY29uc3RydWN0QXp1cmVGaWVsZHMuY2FsbCh0aGlzLCBmaWVsZHMpO1xuXHR9XG5cdF9nZXRDbGllbnRPcHRpb25zKG9wdGlvbnMpIHtcblx0XHRyZXR1cm4gX2dldEF6dXJlQ2xpZW50T3B0aW9ucy5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXHR9XG5cdHRvSlNPTigpIHtcblx0XHRyZXR1cm4gX3NlcmlhbGl6ZUF6dXJlQ2hhdC5jYWxsKHRoaXMsIHN1cGVyLnRvSlNPTigpKTtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBBenVyZUNoYXRPcGVuQUlSZXNwb25zZXMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc3BvbnNlcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/azure/chat_models/responses.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/azure/embeddings.js":
/*!**********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/azure/embeddings.js ***!
  \**********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AzureOpenAIEmbeddings: () => (/* binding */ AzureOpenAIEmbeddings)\n/* harmony export */ });\n/* harmony import */ var _utils_client_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/client.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/client.js\");\n/* harmony import */ var _utils_azure_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/azure.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/azure.js\");\n/* harmony import */ var _embeddings_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../embeddings.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/embeddings.js\");\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! openai */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+openai@6.16.0_zod@4.3.6/node_modules/openai/index.mjs\");\n/* harmony import */ var _langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @langchain/core/utils/env */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/env.js\");\n\n\n\n\n\n\n//#region src/azure/embeddings.ts\nvar AzureOpenAIEmbeddings = class extends _embeddings_js__WEBPACK_IMPORTED_MODULE_2__.OpenAIEmbeddings {\n\tazureOpenAIApiVersion;\n\tazureOpenAIApiKey;\n\tazureADTokenProvider;\n\tazureOpenAIApiInstanceName;\n\tazureOpenAIApiDeploymentName;\n\tazureOpenAIBasePath;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.batchSize = fields?.batchSize ?? 1;\n\t\tthis.azureOpenAIApiKey = fields?.azureOpenAIApiKey ?? (typeof fields?.apiKey === \"string\" ? fields?.apiKey : void 0) ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_4__.getEnvironmentVariable)(\"AZURE_OPENAI_API_KEY\");\n\t\tthis.azureOpenAIApiVersion = fields?.azureOpenAIApiVersion ?? fields?.openAIApiVersion ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_4__.getEnvironmentVariable)(\"AZURE_OPENAI_API_VERSION\");\n\t\tthis.azureOpenAIBasePath = fields?.azureOpenAIBasePath ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_4__.getEnvironmentVariable)(\"AZURE_OPENAI_BASE_PATH\");\n\t\tthis.azureOpenAIApiInstanceName = fields?.azureOpenAIApiInstanceName ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_4__.getEnvironmentVariable)(\"AZURE_OPENAI_API_INSTANCE_NAME\");\n\t\tthis.azureOpenAIApiDeploymentName = (fields?.azureOpenAIApiEmbeddingsDeploymentName || fields?.azureOpenAIApiDeploymentName) ?? ((0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_4__.getEnvironmentVariable)(\"AZURE_OPENAI_API_EMBEDDINGS_DEPLOYMENT_NAME\") || (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_4__.getEnvironmentVariable)(\"AZURE_OPENAI_API_DEPLOYMENT_NAME\"));\n\t\tthis.azureADTokenProvider = fields?.azureADTokenProvider;\n\t}\n\tasync embeddingWithRetry(request) {\n\t\tif (!this.client) {\n\t\t\tconst openAIEndpointConfig = {\n\t\t\t\tazureOpenAIApiDeploymentName: this.azureOpenAIApiDeploymentName,\n\t\t\t\tazureOpenAIApiInstanceName: this.azureOpenAIApiInstanceName,\n\t\t\t\tazureOpenAIApiKey: this.azureOpenAIApiKey,\n\t\t\t\tazureOpenAIBasePath: this.azureOpenAIBasePath,\n\t\t\t\tazureADTokenProvider: this.azureADTokenProvider,\n\t\t\t\tbaseURL: this.clientConfig.baseURL\n\t\t\t};\n\t\t\tconst endpoint = (0,_utils_azure_js__WEBPACK_IMPORTED_MODULE_1__.getEndpoint)(openAIEndpointConfig);\n\t\t\tconst { apiKey: existingApiKey,...clientConfigRest } = this.clientConfig;\n\t\t\tconst params = {\n\t\t\t\t...clientConfigRest,\n\t\t\t\tbaseURL: endpoint,\n\t\t\t\ttimeout: this.timeout,\n\t\t\t\tmaxRetries: 0\n\t\t\t};\n\t\t\tif (!this.azureADTokenProvider) params.apiKey = openAIEndpointConfig.azureOpenAIApiKey;\n\t\t\tif (!params.baseURL) delete params.baseURL;\n\t\t\tparams.defaultHeaders = (0,_utils_azure_js__WEBPACK_IMPORTED_MODULE_1__.getHeadersWithUserAgent)(params.defaultHeaders, true, \"2.0.0\");\n\t\t\tthis.client = new openai__WEBPACK_IMPORTED_MODULE_3__.AzureOpenAI({\n\t\t\t\tapiVersion: this.azureOpenAIApiVersion,\n\t\t\t\tazureADTokenProvider: this.azureADTokenProvider,\n\t\t\t\tdeployment: this.azureOpenAIApiDeploymentName,\n\t\t\t\t...params\n\t\t\t});\n\t\t}\n\t\tconst requestOptions = {};\n\t\tif (this.azureOpenAIApiKey) {\n\t\t\trequestOptions.headers = {\n\t\t\t\t\"api-key\": this.azureOpenAIApiKey,\n\t\t\t\t...requestOptions.headers\n\t\t\t};\n\t\t\trequestOptions.query = {\n\t\t\t\t\"api-version\": this.azureOpenAIApiVersion,\n\t\t\t\t...requestOptions.query\n\t\t\t};\n\t\t}\n\t\treturn this.caller.call(async () => {\n\t\t\ttry {\n\t\t\t\tconst res = await this.client.embeddings.create(request, requestOptions);\n\t\t\t\treturn res;\n\t\t\t} catch (e) {\n\t\t\t\tconst error = (0,_utils_client_js__WEBPACK_IMPORTED_MODULE_0__.wrapOpenAIClientError)(e);\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t});\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=embeddings.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L2F6dXJlL2VtYmVkZGluZ3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTJEO0FBQ2M7QUFDckI7QUFDZjtBQUM4Qjs7QUFFbkU7QUFDQSwwQ0FBMEMsNERBQWdCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBIQUEwSCxpRkFBc0I7QUFDaEosNEZBQTRGLGlGQUFzQjtBQUNsSCw0REFBNEQsaUZBQXNCO0FBQ2xGLDBFQUEwRSxpRkFBc0I7QUFDaEcsbUlBQW1JLGlGQUFzQixtREFBbUQsaUZBQXNCO0FBQ2xPO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw0REFBVztBQUMvQixXQUFXLDZDQUE2QztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHdFQUF1QjtBQUNsRCxxQkFBcUIsK0NBQVc7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsa0JBQWtCLHVFQUFxQjtBQUN2QztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDaUM7QUFDakMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rb3BlbmFpQDEuMi4zX0BsYW5nY2hhaW4rY29yZUAxLjEuMTcvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvYXp1cmUvZW1iZWRkaW5ncy5qcz9mNDk5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHdyYXBPcGVuQUlDbGllbnRFcnJvciB9IGZyb20gXCIuLi91dGlscy9jbGllbnQuanNcIjtcbmltcG9ydCB7IGdldEVuZHBvaW50LCBnZXRIZWFkZXJzV2l0aFVzZXJBZ2VudCB9IGZyb20gXCIuLi91dGlscy9henVyZS5qc1wiO1xuaW1wb3J0IHsgT3BlbkFJRW1iZWRkaW5ncyB9IGZyb20gXCIuLi9lbWJlZGRpbmdzLmpzXCI7XG5pbXBvcnQgeyBBenVyZU9wZW5BSSB9IGZyb20gXCJvcGVuYWlcIjtcbmltcG9ydCB7IGdldEVudmlyb25tZW50VmFyaWFibGUgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3V0aWxzL2VudlwiO1xuXG4vLyNyZWdpb24gc3JjL2F6dXJlL2VtYmVkZGluZ3MudHNcbnZhciBBenVyZU9wZW5BSUVtYmVkZGluZ3MgPSBjbGFzcyBleHRlbmRzIE9wZW5BSUVtYmVkZGluZ3Mge1xuXHRhenVyZU9wZW5BSUFwaVZlcnNpb247XG5cdGF6dXJlT3BlbkFJQXBpS2V5O1xuXHRhenVyZUFEVG9rZW5Qcm92aWRlcjtcblx0YXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWU7XG5cdGF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWU7XG5cdGF6dXJlT3BlbkFJQmFzZVBhdGg7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdHN1cGVyKGZpZWxkcyk7XG5cdFx0dGhpcy5iYXRjaFNpemUgPSBmaWVsZHM/LmJhdGNoU2l6ZSA/PyAxO1xuXHRcdHRoaXMuYXp1cmVPcGVuQUlBcGlLZXkgPSBmaWVsZHM/LmF6dXJlT3BlbkFJQXBpS2V5ID8/ICh0eXBlb2YgZmllbGRzPy5hcGlLZXkgPT09IFwic3RyaW5nXCIgPyBmaWVsZHM/LmFwaUtleSA6IHZvaWQgMCkgPz8gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9BUElfS0VZXCIpO1xuXHRcdHRoaXMuYXp1cmVPcGVuQUlBcGlWZXJzaW9uID0gZmllbGRzPy5henVyZU9wZW5BSUFwaVZlcnNpb24gPz8gZmllbGRzPy5vcGVuQUlBcGlWZXJzaW9uID8/IGdldEVudmlyb25tZW50VmFyaWFibGUoXCJBWlVSRV9PUEVOQUlfQVBJX1ZFUlNJT05cIik7XG5cdFx0dGhpcy5henVyZU9wZW5BSUJhc2VQYXRoID0gZmllbGRzPy5henVyZU9wZW5BSUJhc2VQYXRoID8/IGdldEVudmlyb25tZW50VmFyaWFibGUoXCJBWlVSRV9PUEVOQUlfQkFTRV9QQVRIXCIpO1xuXHRcdHRoaXMuYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWUgPSBmaWVsZHM/LmF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lID8/IGdldEVudmlyb25tZW50VmFyaWFibGUoXCJBWlVSRV9PUEVOQUlfQVBJX0lOU1RBTkNFX05BTUVcIik7XG5cdFx0dGhpcy5henVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lID0gKGZpZWxkcz8uYXp1cmVPcGVuQUlBcGlFbWJlZGRpbmdzRGVwbG95bWVudE5hbWUgfHwgZmllbGRzPy5henVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lKSA/PyAoZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9BUElfRU1CRURESU5HU19ERVBMT1lNRU5UX05BTUVcIikgfHwgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9BUElfREVQTE9ZTUVOVF9OQU1FXCIpKTtcblx0XHR0aGlzLmF6dXJlQURUb2tlblByb3ZpZGVyID0gZmllbGRzPy5henVyZUFEVG9rZW5Qcm92aWRlcjtcblx0fVxuXHRhc3luYyBlbWJlZGRpbmdXaXRoUmV0cnkocmVxdWVzdCkge1xuXHRcdGlmICghdGhpcy5jbGllbnQpIHtcblx0XHRcdGNvbnN0IG9wZW5BSUVuZHBvaW50Q29uZmlnID0ge1xuXHRcdFx0XHRhenVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lOiB0aGlzLmF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWUsXG5cdFx0XHRcdGF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lOiB0aGlzLmF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lLFxuXHRcdFx0XHRhenVyZU9wZW5BSUFwaUtleTogdGhpcy5henVyZU9wZW5BSUFwaUtleSxcblx0XHRcdFx0YXp1cmVPcGVuQUlCYXNlUGF0aDogdGhpcy5henVyZU9wZW5BSUJhc2VQYXRoLFxuXHRcdFx0XHRhenVyZUFEVG9rZW5Qcm92aWRlcjogdGhpcy5henVyZUFEVG9rZW5Qcm92aWRlcixcblx0XHRcdFx0YmFzZVVSTDogdGhpcy5jbGllbnRDb25maWcuYmFzZVVSTFxuXHRcdFx0fTtcblx0XHRcdGNvbnN0IGVuZHBvaW50ID0gZ2V0RW5kcG9pbnQob3BlbkFJRW5kcG9pbnRDb25maWcpO1xuXHRcdFx0Y29uc3QgeyBhcGlLZXk6IGV4aXN0aW5nQXBpS2V5LC4uLmNsaWVudENvbmZpZ1Jlc3QgfSA9IHRoaXMuY2xpZW50Q29uZmlnO1xuXHRcdFx0Y29uc3QgcGFyYW1zID0ge1xuXHRcdFx0XHQuLi5jbGllbnRDb25maWdSZXN0LFxuXHRcdFx0XHRiYXNlVVJMOiBlbmRwb2ludCxcblx0XHRcdFx0dGltZW91dDogdGhpcy50aW1lb3V0LFxuXHRcdFx0XHRtYXhSZXRyaWVzOiAwXG5cdFx0XHR9O1xuXHRcdFx0aWYgKCF0aGlzLmF6dXJlQURUb2tlblByb3ZpZGVyKSBwYXJhbXMuYXBpS2V5ID0gb3BlbkFJRW5kcG9pbnRDb25maWcuYXp1cmVPcGVuQUlBcGlLZXk7XG5cdFx0XHRpZiAoIXBhcmFtcy5iYXNlVVJMKSBkZWxldGUgcGFyYW1zLmJhc2VVUkw7XG5cdFx0XHRwYXJhbXMuZGVmYXVsdEhlYWRlcnMgPSBnZXRIZWFkZXJzV2l0aFVzZXJBZ2VudChwYXJhbXMuZGVmYXVsdEhlYWRlcnMsIHRydWUsIFwiMi4wLjBcIik7XG5cdFx0XHR0aGlzLmNsaWVudCA9IG5ldyBBenVyZU9wZW5BSSh7XG5cdFx0XHRcdGFwaVZlcnNpb246IHRoaXMuYXp1cmVPcGVuQUlBcGlWZXJzaW9uLFxuXHRcdFx0XHRhenVyZUFEVG9rZW5Qcm92aWRlcjogdGhpcy5henVyZUFEVG9rZW5Qcm92aWRlcixcblx0XHRcdFx0ZGVwbG95bWVudDogdGhpcy5henVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lLFxuXHRcdFx0XHQuLi5wYXJhbXNcblx0XHRcdH0pO1xuXHRcdH1cblx0XHRjb25zdCByZXF1ZXN0T3B0aW9ucyA9IHt9O1xuXHRcdGlmICh0aGlzLmF6dXJlT3BlbkFJQXBpS2V5KSB7XG5cdFx0XHRyZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0ge1xuXHRcdFx0XHRcImFwaS1rZXlcIjogdGhpcy5henVyZU9wZW5BSUFwaUtleSxcblx0XHRcdFx0Li4ucmVxdWVzdE9wdGlvbnMuaGVhZGVyc1xuXHRcdFx0fTtcblx0XHRcdHJlcXVlc3RPcHRpb25zLnF1ZXJ5ID0ge1xuXHRcdFx0XHRcImFwaS12ZXJzaW9uXCI6IHRoaXMuYXp1cmVPcGVuQUlBcGlWZXJzaW9uLFxuXHRcdFx0XHQuLi5yZXF1ZXN0T3B0aW9ucy5xdWVyeVxuXHRcdFx0fTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuY2FsbGVyLmNhbGwoYXN5bmMgKCkgPT4ge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuZW1iZWRkaW5ncy5jcmVhdGUocmVxdWVzdCwgcmVxdWVzdE9wdGlvbnMpO1xuXHRcdFx0XHRyZXR1cm4gcmVzO1xuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRjb25zdCBlcnJvciA9IHdyYXBPcGVuQUlDbGllbnRFcnJvcihlKTtcblx0XHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQXp1cmVPcGVuQUlFbWJlZGRpbmdzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbWJlZGRpbmdzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/azure/embeddings.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/azure/llms.js":
/*!****************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/azure/llms.js ***!
  \****************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AzureOpenAI: () => (/* binding */ AzureOpenAI$1)\n/* harmony export */ });\n/* harmony import */ var _utils_azure_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/azure.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/azure.js\");\n/* harmony import */ var _llms_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../llms.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/llms.js\");\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! openai */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+openai@6.16.0_zod@4.3.6/node_modules/openai/index.mjs\");\n/* harmony import */ var _langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @langchain/core/utils/env */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/env.js\");\n\n\n\n\n\n//#region src/azure/llms.ts\nvar AzureOpenAI$1 = class extends _llms_js__WEBPACK_IMPORTED_MODULE_1__.OpenAI {\n\tazureOpenAIApiVersion;\n\tazureOpenAIApiKey;\n\tazureADTokenProvider;\n\tazureOpenAIApiInstanceName;\n\tazureOpenAIApiDeploymentName;\n\tazureOpenAIBasePath;\n\tazureOpenAIEndpoint;\n\tget lc_aliases() {\n\t\treturn {\n\t\t\t...super.lc_aliases,\n\t\t\topenAIApiKey: \"openai_api_key\",\n\t\t\topenAIApiVersion: \"openai_api_version\",\n\t\t\topenAIBasePath: \"openai_api_base\",\n\t\t\tdeploymentName: \"deployment_name\",\n\t\t\tazureOpenAIEndpoint: \"azure_endpoint\",\n\t\t\tazureOpenAIApiVersion: \"openai_api_version\",\n\t\t\tazureOpenAIBasePath: \"openai_api_base\",\n\t\t\tazureOpenAIApiDeploymentName: \"deployment_name\"\n\t\t};\n\t}\n\tget lc_secrets() {\n\t\treturn {\n\t\t\t...super.lc_secrets,\n\t\t\tazureOpenAIApiKey: \"AZURE_OPENAI_API_KEY\"\n\t\t};\n\t}\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.azureOpenAIApiDeploymentName = (fields?.azureOpenAIApiCompletionsDeploymentName || fields?.azureOpenAIApiDeploymentName) ?? ((0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_3__.getEnvironmentVariable)(\"AZURE_OPENAI_API_COMPLETIONS_DEPLOYMENT_NAME\") || (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_3__.getEnvironmentVariable)(\"AZURE_OPENAI_API_DEPLOYMENT_NAME\"));\n\t\tthis.azureOpenAIApiKey = fields?.azureOpenAIApiKey ?? (typeof fields?.openAIApiKey === \"string\" ? fields?.openAIApiKey : void 0) ?? (typeof fields?.apiKey === \"string\" ? fields?.apiKey : void 0) ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_3__.getEnvironmentVariable)(\"AZURE_OPENAI_API_KEY\");\n\t\tthis.azureOpenAIApiInstanceName = fields?.azureOpenAIApiInstanceName ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_3__.getEnvironmentVariable)(\"AZURE_OPENAI_API_INSTANCE_NAME\");\n\t\tthis.azureOpenAIApiVersion = fields?.azureOpenAIApiVersion ?? fields?.openAIApiVersion ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_3__.getEnvironmentVariable)(\"AZURE_OPENAI_API_VERSION\");\n\t\tthis.azureOpenAIBasePath = fields?.azureOpenAIBasePath ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_3__.getEnvironmentVariable)(\"AZURE_OPENAI_BASE_PATH\");\n\t\tthis.azureOpenAIEndpoint = fields?.azureOpenAIEndpoint ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_3__.getEnvironmentVariable)(\"AZURE_OPENAI_ENDPOINT\");\n\t\tthis.azureADTokenProvider = fields?.azureADTokenProvider;\n\t\tif (!this.azureOpenAIApiKey && !this.apiKey && !this.azureADTokenProvider) throw new Error(\"Azure OpenAI API key or Token Provider not found\");\n\t}\n\t_getClientOptions(options) {\n\t\tif (!this.client) {\n\t\t\tconst openAIEndpointConfig = {\n\t\t\t\tazureOpenAIApiDeploymentName: this.azureOpenAIApiDeploymentName,\n\t\t\t\tazureOpenAIApiInstanceName: this.azureOpenAIApiInstanceName,\n\t\t\t\tazureOpenAIApiKey: this.azureOpenAIApiKey,\n\t\t\t\tazureOpenAIBasePath: this.azureOpenAIBasePath,\n\t\t\t\tazureADTokenProvider: this.azureADTokenProvider,\n\t\t\t\tbaseURL: this.clientConfig.baseURL\n\t\t\t};\n\t\t\tconst endpoint = (0,_utils_azure_js__WEBPACK_IMPORTED_MODULE_0__.getEndpoint)(openAIEndpointConfig);\n\t\t\tconst { apiKey: existingApiKey,...clientConfigRest } = this.clientConfig;\n\t\t\tconst params = {\n\t\t\t\t...clientConfigRest,\n\t\t\t\tbaseURL: endpoint,\n\t\t\t\ttimeout: this.timeout,\n\t\t\t\tmaxRetries: 0\n\t\t\t};\n\t\t\tif (!this.azureADTokenProvider) params.apiKey = openAIEndpointConfig.azureOpenAIApiKey;\n\t\t\tif (!params.baseURL) delete params.baseURL;\n\t\t\tparams.defaultHeaders = (0,_utils_azure_js__WEBPACK_IMPORTED_MODULE_0__.getHeadersWithUserAgent)(params.defaultHeaders, true, \"2.0.0\");\n\t\t\tthis.client = new openai__WEBPACK_IMPORTED_MODULE_2__.AzureOpenAI({\n\t\t\t\tapiVersion: this.azureOpenAIApiVersion,\n\t\t\t\tazureADTokenProvider: this.azureADTokenProvider,\n\t\t\t\t...params\n\t\t\t});\n\t\t}\n\t\tconst requestOptions = {\n\t\t\t...this.clientConfig,\n\t\t\t...options\n\t\t};\n\t\tif (this.azureOpenAIApiKey) {\n\t\t\trequestOptions.headers = {\n\t\t\t\t\"api-key\": this.azureOpenAIApiKey,\n\t\t\t\t...requestOptions.headers\n\t\t\t};\n\t\t\trequestOptions.query = {\n\t\t\t\t\"api-version\": this.azureOpenAIApiVersion,\n\t\t\t\t...requestOptions.query\n\t\t\t};\n\t\t}\n\t\treturn requestOptions;\n\t}\n\ttoJSON() {\n\t\tconst json = super.toJSON();\n\t\tfunction isRecord(obj) {\n\t\t\treturn typeof obj === \"object\" && obj != null;\n\t\t}\n\t\tif (isRecord(json) && isRecord(json.kwargs)) {\n\t\t\tdelete json.kwargs.azure_openai_base_path;\n\t\t\tdelete json.kwargs.azure_openai_api_deployment_name;\n\t\t\tdelete json.kwargs.azure_openai_api_key;\n\t\t\tdelete json.kwargs.azure_openai_api_version;\n\t\t\tdelete json.kwargs.azure_open_ai_base_path;\n\t\t}\n\t\treturn json;\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=llms.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L2F6dXJlL2xsbXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBeUU7QUFDckM7QUFDQztBQUM4Qjs7QUFFbkU7QUFDQSxrQ0FBa0MsNENBQU07QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvSUFBb0ksaUZBQXNCLG9EQUFvRCxpRkFBc0I7QUFDcE8sd01BQXdNLGlGQUFzQjtBQUM5TiwwRUFBMEUsaUZBQXNCO0FBQ2hHLDRGQUE0RixpRkFBc0I7QUFDbEgsNERBQTRELGlGQUFzQjtBQUNsRiw0REFBNEQsaUZBQXNCO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDREQUFXO0FBQy9CLFdBQVcsNkNBQTZDO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsd0VBQXVCO0FBQ2xELHFCQUFxQiwrQ0FBVztBQUNoQztBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUN3QztBQUN4QyIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitvcGVuYWlAMS4yLjNfQGxhbmdjaGFpbitjb3JlQDEuMS4xNy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9vcGVuYWkvZGlzdC9henVyZS9sbG1zLmpzPzc1NGEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0RW5kcG9pbnQsIGdldEhlYWRlcnNXaXRoVXNlckFnZW50IH0gZnJvbSBcIi4uL3V0aWxzL2F6dXJlLmpzXCI7XG5pbXBvcnQgeyBPcGVuQUkgfSBmcm9tIFwiLi4vbGxtcy5qc1wiO1xuaW1wb3J0IHsgQXp1cmVPcGVuQUkgfSBmcm9tIFwib3BlbmFpXCI7XG5pbXBvcnQgeyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS91dGlscy9lbnZcIjtcblxuLy8jcmVnaW9uIHNyYy9henVyZS9sbG1zLnRzXG52YXIgQXp1cmVPcGVuQUkkMSA9IGNsYXNzIGV4dGVuZHMgT3BlbkFJIHtcblx0YXp1cmVPcGVuQUlBcGlWZXJzaW9uO1xuXHRhenVyZU9wZW5BSUFwaUtleTtcblx0YXp1cmVBRFRva2VuUHJvdmlkZXI7XG5cdGF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lO1xuXHRhenVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lO1xuXHRhenVyZU9wZW5BSUJhc2VQYXRoO1xuXHRhenVyZU9wZW5BSUVuZHBvaW50O1xuXHRnZXQgbGNfYWxpYXNlcygpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Li4uc3VwZXIubGNfYWxpYXNlcyxcblx0XHRcdG9wZW5BSUFwaUtleTogXCJvcGVuYWlfYXBpX2tleVwiLFxuXHRcdFx0b3BlbkFJQXBpVmVyc2lvbjogXCJvcGVuYWlfYXBpX3ZlcnNpb25cIixcblx0XHRcdG9wZW5BSUJhc2VQYXRoOiBcIm9wZW5haV9hcGlfYmFzZVwiLFxuXHRcdFx0ZGVwbG95bWVudE5hbWU6IFwiZGVwbG95bWVudF9uYW1lXCIsXG5cdFx0XHRhenVyZU9wZW5BSUVuZHBvaW50OiBcImF6dXJlX2VuZHBvaW50XCIsXG5cdFx0XHRhenVyZU9wZW5BSUFwaVZlcnNpb246IFwib3BlbmFpX2FwaV92ZXJzaW9uXCIsXG5cdFx0XHRhenVyZU9wZW5BSUJhc2VQYXRoOiBcIm9wZW5haV9hcGlfYmFzZVwiLFxuXHRcdFx0YXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZTogXCJkZXBsb3ltZW50X25hbWVcIlxuXHRcdH07XG5cdH1cblx0Z2V0IGxjX3NlY3JldHMoKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdC4uLnN1cGVyLmxjX3NlY3JldHMsXG5cdFx0XHRhenVyZU9wZW5BSUFwaUtleTogXCJBWlVSRV9PUEVOQUlfQVBJX0tFWVwiXG5cdFx0fTtcblx0fVxuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRzdXBlcihmaWVsZHMpO1xuXHRcdHRoaXMuYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSA9IChmaWVsZHM/LmF6dXJlT3BlbkFJQXBpQ29tcGxldGlvbnNEZXBsb3ltZW50TmFtZSB8fCBmaWVsZHM/LmF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWUpID8/IChnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9DT01QTEVUSU9OU19ERVBMT1lNRU5UX05BTUVcIikgfHwgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9BUElfREVQTE9ZTUVOVF9OQU1FXCIpKTtcblx0XHR0aGlzLmF6dXJlT3BlbkFJQXBpS2V5ID0gZmllbGRzPy5henVyZU9wZW5BSUFwaUtleSA/PyAodHlwZW9mIGZpZWxkcz8ub3BlbkFJQXBpS2V5ID09PSBcInN0cmluZ1wiID8gZmllbGRzPy5vcGVuQUlBcGlLZXkgOiB2b2lkIDApID8/ICh0eXBlb2YgZmllbGRzPy5hcGlLZXkgPT09IFwic3RyaW5nXCIgPyBmaWVsZHM/LmFwaUtleSA6IHZvaWQgMCkgPz8gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9BUElfS0VZXCIpO1xuXHRcdHRoaXMuYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWUgPSBmaWVsZHM/LmF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lID8/IGdldEVudmlyb25tZW50VmFyaWFibGUoXCJBWlVSRV9PUEVOQUlfQVBJX0lOU1RBTkNFX05BTUVcIik7XG5cdFx0dGhpcy5henVyZU9wZW5BSUFwaVZlcnNpb24gPSBmaWVsZHM/LmF6dXJlT3BlbkFJQXBpVmVyc2lvbiA/PyBmaWVsZHM/Lm9wZW5BSUFwaVZlcnNpb24gPz8gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9BUElfVkVSU0lPTlwiKTtcblx0XHR0aGlzLmF6dXJlT3BlbkFJQmFzZVBhdGggPSBmaWVsZHM/LmF6dXJlT3BlbkFJQmFzZVBhdGggPz8gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9CQVNFX1BBVEhcIik7XG5cdFx0dGhpcy5henVyZU9wZW5BSUVuZHBvaW50ID0gZmllbGRzPy5henVyZU9wZW5BSUVuZHBvaW50ID8/IGdldEVudmlyb25tZW50VmFyaWFibGUoXCJBWlVSRV9PUEVOQUlfRU5EUE9JTlRcIik7XG5cdFx0dGhpcy5henVyZUFEVG9rZW5Qcm92aWRlciA9IGZpZWxkcz8uYXp1cmVBRFRva2VuUHJvdmlkZXI7XG5cdFx0aWYgKCF0aGlzLmF6dXJlT3BlbkFJQXBpS2V5ICYmICF0aGlzLmFwaUtleSAmJiAhdGhpcy5henVyZUFEVG9rZW5Qcm92aWRlcikgdGhyb3cgbmV3IEVycm9yKFwiQXp1cmUgT3BlbkFJIEFQSSBrZXkgb3IgVG9rZW4gUHJvdmlkZXIgbm90IGZvdW5kXCIpO1xuXHR9XG5cdF9nZXRDbGllbnRPcHRpb25zKG9wdGlvbnMpIHtcblx0XHRpZiAoIXRoaXMuY2xpZW50KSB7XG5cdFx0XHRjb25zdCBvcGVuQUlFbmRwb2ludENvbmZpZyA9IHtcblx0XHRcdFx0YXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZTogdGhpcy5henVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lLFxuXHRcdFx0XHRhenVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZTogdGhpcy5henVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZSxcblx0XHRcdFx0YXp1cmVPcGVuQUlBcGlLZXk6IHRoaXMuYXp1cmVPcGVuQUlBcGlLZXksXG5cdFx0XHRcdGF6dXJlT3BlbkFJQmFzZVBhdGg6IHRoaXMuYXp1cmVPcGVuQUlCYXNlUGF0aCxcblx0XHRcdFx0YXp1cmVBRFRva2VuUHJvdmlkZXI6IHRoaXMuYXp1cmVBRFRva2VuUHJvdmlkZXIsXG5cdFx0XHRcdGJhc2VVUkw6IHRoaXMuY2xpZW50Q29uZmlnLmJhc2VVUkxcblx0XHRcdH07XG5cdFx0XHRjb25zdCBlbmRwb2ludCA9IGdldEVuZHBvaW50KG9wZW5BSUVuZHBvaW50Q29uZmlnKTtcblx0XHRcdGNvbnN0IHsgYXBpS2V5OiBleGlzdGluZ0FwaUtleSwuLi5jbGllbnRDb25maWdSZXN0IH0gPSB0aGlzLmNsaWVudENvbmZpZztcblx0XHRcdGNvbnN0IHBhcmFtcyA9IHtcblx0XHRcdFx0Li4uY2xpZW50Q29uZmlnUmVzdCxcblx0XHRcdFx0YmFzZVVSTDogZW5kcG9pbnQsXG5cdFx0XHRcdHRpbWVvdXQ6IHRoaXMudGltZW91dCxcblx0XHRcdFx0bWF4UmV0cmllczogMFxuXHRcdFx0fTtcblx0XHRcdGlmICghdGhpcy5henVyZUFEVG9rZW5Qcm92aWRlcikgcGFyYW1zLmFwaUtleSA9IG9wZW5BSUVuZHBvaW50Q29uZmlnLmF6dXJlT3BlbkFJQXBpS2V5O1xuXHRcdFx0aWYgKCFwYXJhbXMuYmFzZVVSTCkgZGVsZXRlIHBhcmFtcy5iYXNlVVJMO1xuXHRcdFx0cGFyYW1zLmRlZmF1bHRIZWFkZXJzID0gZ2V0SGVhZGVyc1dpdGhVc2VyQWdlbnQocGFyYW1zLmRlZmF1bHRIZWFkZXJzLCB0cnVlLCBcIjIuMC4wXCIpO1xuXHRcdFx0dGhpcy5jbGllbnQgPSBuZXcgQXp1cmVPcGVuQUkoe1xuXHRcdFx0XHRhcGlWZXJzaW9uOiB0aGlzLmF6dXJlT3BlbkFJQXBpVmVyc2lvbixcblx0XHRcdFx0YXp1cmVBRFRva2VuUHJvdmlkZXI6IHRoaXMuYXp1cmVBRFRva2VuUHJvdmlkZXIsXG5cdFx0XHRcdC4uLnBhcmFtc1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdGNvbnN0IHJlcXVlc3RPcHRpb25zID0ge1xuXHRcdFx0Li4udGhpcy5jbGllbnRDb25maWcsXG5cdFx0XHQuLi5vcHRpb25zXG5cdFx0fTtcblx0XHRpZiAodGhpcy5henVyZU9wZW5BSUFwaUtleSkge1xuXHRcdFx0cmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IHtcblx0XHRcdFx0XCJhcGkta2V5XCI6IHRoaXMuYXp1cmVPcGVuQUlBcGlLZXksXG5cdFx0XHRcdC4uLnJlcXVlc3RPcHRpb25zLmhlYWRlcnNcblx0XHRcdH07XG5cdFx0XHRyZXF1ZXN0T3B0aW9ucy5xdWVyeSA9IHtcblx0XHRcdFx0XCJhcGktdmVyc2lvblwiOiB0aGlzLmF6dXJlT3BlbkFJQXBpVmVyc2lvbixcblx0XHRcdFx0Li4ucmVxdWVzdE9wdGlvbnMucXVlcnlcblx0XHRcdH07XG5cdFx0fVxuXHRcdHJldHVybiByZXF1ZXN0T3B0aW9ucztcblx0fVxuXHR0b0pTT04oKSB7XG5cdFx0Y29uc3QganNvbiA9IHN1cGVyLnRvSlNPTigpO1xuXHRcdGZ1bmN0aW9uIGlzUmVjb3JkKG9iaikge1xuXHRcdFx0cmV0dXJuIHR5cGVvZiBvYmogPT09IFwib2JqZWN0XCIgJiYgb2JqICE9IG51bGw7XG5cdFx0fVxuXHRcdGlmIChpc1JlY29yZChqc29uKSAmJiBpc1JlY29yZChqc29uLmt3YXJncykpIHtcblx0XHRcdGRlbGV0ZSBqc29uLmt3YXJncy5henVyZV9vcGVuYWlfYmFzZV9wYXRoO1xuXHRcdFx0ZGVsZXRlIGpzb24ua3dhcmdzLmF6dXJlX29wZW5haV9hcGlfZGVwbG95bWVudF9uYW1lO1xuXHRcdFx0ZGVsZXRlIGpzb24ua3dhcmdzLmF6dXJlX29wZW5haV9hcGlfa2V5O1xuXHRcdFx0ZGVsZXRlIGpzb24ua3dhcmdzLmF6dXJlX29wZW5haV9hcGlfdmVyc2lvbjtcblx0XHRcdGRlbGV0ZSBqc29uLmt3YXJncy5henVyZV9vcGVuX2FpX2Jhc2VfcGF0aDtcblx0XHR9XG5cdFx0cmV0dXJuIGpzb247XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQXp1cmVPcGVuQUkkMSBhcyBBenVyZU9wZW5BSSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGxtcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/azure/llms.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/chat_models/base.js":
/*!**********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/chat_models/base.js ***!
  \**********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseChatOpenAI: () => (/* binding */ BaseChatOpenAI)\n/* harmony export */ });\n/* harmony import */ var _utils_client_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/client.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/client.js\");\n/* harmony import */ var _utils_tools_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/tools.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/tools.js\");\n/* harmony import */ var _utils_misc_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/misc.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/misc.js\");\n/* harmony import */ var _utils_azure_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/azure.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/azure.js\");\n/* harmony import */ var _utils_output_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/output.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/output.js\");\n/* harmony import */ var _profiles_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./profiles.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/chat_models/profiles.js\");\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! openai */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+openai@6.16.0_zod@4.3.6/node_modules/openai/index.mjs\");\n/* harmony import */ var _langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @langchain/core/utils/types */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/types/index.js\");\n/* harmony import */ var _langchain_core_utils_json_schema__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @langchain/core/utils/json_schema */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/json_schema.js\");\n/* harmony import */ var _langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @langchain/core/utils/env */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/env.js\");\n/* harmony import */ var _langchain_core_language_models_chat_models__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @langchain/core/language_models/chat_models */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/language_models/chat_models.js\");\n/* harmony import */ var _langchain_core_language_models_base__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @langchain/core/language_models/base */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/language_models/base.js\");\n/* harmony import */ var _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @langchain/core/runnables */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/index.js\");\n/* harmony import */ var _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @langchain/core/output_parsers */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/index.js\");\n/* harmony import */ var _langchain_core_output_parsers_openai_tools__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @langchain/core/output_parsers/openai_tools */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/openai_tools/index.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//#region src/chat_models/base.ts\n/** @internal */\nvar BaseChatOpenAI = class extends _langchain_core_language_models_chat_models__WEBPACK_IMPORTED_MODULE_10__.BaseChatModel {\n\ttemperature;\n\ttopP;\n\tfrequencyPenalty;\n\tpresencePenalty;\n\tn;\n\tlogitBias;\n\tmodel = \"gpt-3.5-turbo\";\n\tmodelKwargs;\n\tstop;\n\tstopSequences;\n\tuser;\n\ttimeout;\n\tstreaming = false;\n\tstreamUsage = true;\n\tmaxTokens;\n\tlogprobs;\n\ttopLogprobs;\n\tapiKey;\n\torganization;\n\t__includeRawResponse;\n\t/** @internal */\n\tclient;\n\t/** @internal */\n\tclientConfig;\n\t/**\n\t* Whether the model supports the `strict` argument when passing in tools.\n\t* If `undefined` the `strict` argument will not be passed to OpenAI.\n\t*/\n\tsupportsStrictToolCalling;\n\taudio;\n\tmodalities;\n\treasoning;\n\t/**\n\t* Must be set to `true` in tenancies with Zero Data Retention. Setting to `true` will disable\n\t* output storage in the Responses API, but this DOES NOT enable Zero Data Retention in your\n\t* OpenAI organization or project. This must be configured directly with OpenAI.\n\t*\n\t* See:\n\t* https://platform.openai.com/docs/guides/your-data\n\t* https://platform.openai.com/docs/api-reference/responses/create#responses-create-store\n\t*\n\t* @default false\n\t*/\n\tzdrEnabled;\n\t/**\n\t* Service tier to use for this request. Can be \"auto\", \"default\", or \"flex\" or \"priority\".\n\t* Specifies the service tier for prioritization and latency optimization.\n\t*/\n\tservice_tier;\n\t/**\n\t* Used by OpenAI to cache responses for similar requests to optimize your cache\n\t* hit rates.\n\t* [Learn more](https://platform.openai.com/docs/guides/prompt-caching).\n\t*/\n\tpromptCacheKey;\n\t/**\n\t* Used by OpenAI to set cache retention time\n\t*/\n\tpromptCacheRetention;\n\t/**\n\t* The verbosity of the model's response.\n\t*/\n\tverbosity;\n\tdefaultOptions;\n\t_llmType() {\n\t\treturn \"openai\";\n\t}\n\tstatic lc_name() {\n\t\treturn \"ChatOpenAI\";\n\t}\n\tget callKeys() {\n\t\treturn [\n\t\t\t...super.callKeys,\n\t\t\t\"options\",\n\t\t\t\"function_call\",\n\t\t\t\"functions\",\n\t\t\t\"tools\",\n\t\t\t\"tool_choice\",\n\t\t\t\"promptIndex\",\n\t\t\t\"response_format\",\n\t\t\t\"seed\",\n\t\t\t\"reasoning\",\n\t\t\t\"service_tier\"\n\t\t];\n\t}\n\tlc_serializable = true;\n\tget lc_secrets() {\n\t\treturn {\n\t\t\tapiKey: \"OPENAI_API_KEY\",\n\t\t\torganization: \"OPENAI_ORGANIZATION\"\n\t\t};\n\t}\n\tget lc_aliases() {\n\t\treturn {\n\t\t\tapiKey: \"openai_api_key\",\n\t\t\tmodelName: \"model\"\n\t\t};\n\t}\n\tget lc_serializable_keys() {\n\t\treturn [\n\t\t\t\"configuration\",\n\t\t\t\"logprobs\",\n\t\t\t\"topLogprobs\",\n\t\t\t\"prefixMessages\",\n\t\t\t\"supportsStrictToolCalling\",\n\t\t\t\"modalities\",\n\t\t\t\"audio\",\n\t\t\t\"temperature\",\n\t\t\t\"maxTokens\",\n\t\t\t\"topP\",\n\t\t\t\"frequencyPenalty\",\n\t\t\t\"presencePenalty\",\n\t\t\t\"n\",\n\t\t\t\"logitBias\",\n\t\t\t\"user\",\n\t\t\t\"streaming\",\n\t\t\t\"streamUsage\",\n\t\t\t\"model\",\n\t\t\t\"modelName\",\n\t\t\t\"modelKwargs\",\n\t\t\t\"stop\",\n\t\t\t\"stopSequences\",\n\t\t\t\"timeout\",\n\t\t\t\"apiKey\",\n\t\t\t\"cache\",\n\t\t\t\"maxConcurrency\",\n\t\t\t\"maxRetries\",\n\t\t\t\"verbose\",\n\t\t\t\"callbacks\",\n\t\t\t\"tags\",\n\t\t\t\"metadata\",\n\t\t\t\"disableStreaming\",\n\t\t\t\"zdrEnabled\",\n\t\t\t\"reasoning\",\n\t\t\t\"promptCacheKey\",\n\t\t\t\"promptCacheRetention\",\n\t\t\t\"verbosity\"\n\t\t];\n\t}\n\tgetLsParams(options) {\n\t\tconst params = this.invocationParams(options);\n\t\treturn {\n\t\t\tls_provider: \"openai\",\n\t\t\tls_model_name: this.model,\n\t\t\tls_model_type: \"chat\",\n\t\t\tls_temperature: params.temperature ?? void 0,\n\t\t\tls_max_tokens: params.max_tokens ?? void 0,\n\t\t\tls_stop: options.stop\n\t\t};\n\t}\n\t/** @ignore */\n\t_identifyingParams() {\n\t\treturn {\n\t\t\tmodel_name: this.model,\n\t\t\t...this.invocationParams(),\n\t\t\t...this.clientConfig\n\t\t};\n\t}\n\t/**\n\t* Get the identifying parameters for the model\n\t*/\n\tidentifyingParams() {\n\t\treturn this._identifyingParams();\n\t}\n\tconstructor(fields) {\n\t\tsuper(fields ?? {});\n\t\tconst configApiKey = typeof fields?.configuration?.apiKey === \"string\" || typeof fields?.configuration?.apiKey === \"function\" ? fields?.configuration?.apiKey : void 0;\n\t\tthis.apiKey = fields?.apiKey ?? configApiKey ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_9__.getEnvironmentVariable)(\"OPENAI_API_KEY\");\n\t\tthis.organization = fields?.configuration?.organization ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_9__.getEnvironmentVariable)(\"OPENAI_ORGANIZATION\");\n\t\tthis.model = fields?.model ?? fields?.modelName ?? this.model;\n\t\tthis.modelKwargs = fields?.modelKwargs ?? {};\n\t\tthis.timeout = fields?.timeout;\n\t\tthis.temperature = fields?.temperature ?? this.temperature;\n\t\tthis.topP = fields?.topP ?? this.topP;\n\t\tthis.frequencyPenalty = fields?.frequencyPenalty ?? this.frequencyPenalty;\n\t\tthis.presencePenalty = fields?.presencePenalty ?? this.presencePenalty;\n\t\tthis.logprobs = fields?.logprobs;\n\t\tthis.topLogprobs = fields?.topLogprobs;\n\t\tthis.n = fields?.n ?? this.n;\n\t\tthis.logitBias = fields?.logitBias;\n\t\tthis.stop = fields?.stopSequences ?? fields?.stop;\n\t\tthis.stopSequences = this.stop;\n\t\tthis.user = fields?.user;\n\t\tthis.__includeRawResponse = fields?.__includeRawResponse;\n\t\tthis.audio = fields?.audio;\n\t\tthis.modalities = fields?.modalities;\n\t\tthis.reasoning = fields?.reasoning;\n\t\tthis.maxTokens = fields?.maxCompletionTokens ?? fields?.maxTokens;\n\t\tthis.promptCacheKey = fields?.promptCacheKey ?? this.promptCacheKey;\n\t\tthis.promptCacheRetention = fields?.promptCacheRetention ?? this.promptCacheRetention;\n\t\tthis.verbosity = fields?.verbosity ?? this.verbosity;\n\t\tthis.disableStreaming = fields?.disableStreaming === true;\n\t\tthis.streaming = fields?.streaming === true;\n\t\tif (this.disableStreaming) this.streaming = false;\n\t\tif (fields?.streaming === false) this.disableStreaming = true;\n\t\tthis.streamUsage = fields?.streamUsage ?? this.streamUsage;\n\t\tif (this.disableStreaming) this.streamUsage = false;\n\t\tthis.clientConfig = {\n\t\t\tapiKey: this.apiKey,\n\t\t\torganization: this.organization,\n\t\t\tdangerouslyAllowBrowser: true,\n\t\t\t...fields?.configuration\n\t\t};\n\t\tif (fields?.supportsStrictToolCalling !== void 0) this.supportsStrictToolCalling = fields.supportsStrictToolCalling;\n\t\tif (fields?.service_tier !== void 0) this.service_tier = fields.service_tier;\n\t\tthis.zdrEnabled = fields?.zdrEnabled ?? false;\n\t}\n\t/**\n\t* Returns backwards compatible reasoning parameters from constructor params and call options\n\t* @internal\n\t*/\n\t_getReasoningParams(options) {\n\t\tif (!(0,_utils_misc_js__WEBPACK_IMPORTED_MODULE_2__.isReasoningModel)(this.model)) return;\n\t\tlet reasoning;\n\t\tif (this.reasoning !== void 0) reasoning = {\n\t\t\t...reasoning,\n\t\t\t...this.reasoning\n\t\t};\n\t\tif (options?.reasoning !== void 0) reasoning = {\n\t\t\t...reasoning,\n\t\t\t...options.reasoning\n\t\t};\n\t\treturn reasoning;\n\t}\n\t/**\n\t* Returns an openai compatible response format from a set of options\n\t* @internal\n\t*/\n\t_getResponseFormat(resFormat) {\n\t\tif (resFormat && resFormat.type === \"json_schema\" && resFormat.json_schema.schema && (0,_langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_7__.isInteropZodSchema)(resFormat.json_schema.schema)) return (0,_utils_output_js__WEBPACK_IMPORTED_MODULE_4__.interopZodResponseFormat)(resFormat.json_schema.schema, resFormat.json_schema.name, { description: resFormat.json_schema.description });\n\t\treturn resFormat;\n\t}\n\t_combineCallOptions(additionalOptions) {\n\t\treturn {\n\t\t\t...this.defaultOptions,\n\t\t\t...additionalOptions ?? {}\n\t\t};\n\t}\n\t/** @internal */\n\t_getClientOptions(options) {\n\t\tif (!this.client) {\n\t\t\tconst openAIEndpointConfig = { baseURL: this.clientConfig.baseURL };\n\t\t\tconst endpoint = (0,_utils_azure_js__WEBPACK_IMPORTED_MODULE_3__.getEndpoint)(openAIEndpointConfig);\n\t\t\tconst params = {\n\t\t\t\t...this.clientConfig,\n\t\t\t\tbaseURL: endpoint,\n\t\t\t\ttimeout: this.timeout,\n\t\t\t\tmaxRetries: 0\n\t\t\t};\n\t\t\tif (!params.baseURL) delete params.baseURL;\n\t\t\tparams.defaultHeaders = (0,_utils_azure_js__WEBPACK_IMPORTED_MODULE_3__.getHeadersWithUserAgent)(params.defaultHeaders);\n\t\t\tthis.client = new openai__WEBPACK_IMPORTED_MODULE_6__.OpenAI(params);\n\t\t}\n\t\tconst requestOptions = {\n\t\t\t...this.clientConfig,\n\t\t\t...options\n\t\t};\n\t\treturn requestOptions;\n\t}\n\t_convertChatOpenAIToolToCompletionsTool(tool, fields) {\n\t\tif ((0,_utils_tools_js__WEBPACK_IMPORTED_MODULE_1__.isCustomTool)(tool)) return (0,_utils_tools_js__WEBPACK_IMPORTED_MODULE_1__.convertResponsesCustomTool)(tool.metadata.customTool);\n\t\tif ((0,_langchain_core_language_models_base__WEBPACK_IMPORTED_MODULE_11__.isOpenAITool)(tool)) {\n\t\t\tif (fields?.strict !== void 0) return {\n\t\t\t\t...tool,\n\t\t\t\tfunction: {\n\t\t\t\t\t...tool.function,\n\t\t\t\t\tstrict: fields.strict\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn tool;\n\t\t}\n\t\treturn (0,_utils_tools_js__WEBPACK_IMPORTED_MODULE_1__._convertToOpenAITool)(tool, fields);\n\t}\n\tbindTools(tools, kwargs) {\n\t\tlet strict;\n\t\tif (kwargs?.strict !== void 0) strict = kwargs.strict;\n\t\telse if (this.supportsStrictToolCalling !== void 0) strict = this.supportsStrictToolCalling;\n\t\treturn this.withConfig({\n\t\t\ttools: tools.map((tool) => {\n\t\t\t\tif ((0,_utils_tools_js__WEBPACK_IMPORTED_MODULE_1__.isBuiltInTool)(tool) || (0,_utils_tools_js__WEBPACK_IMPORTED_MODULE_1__.isCustomTool)(tool)) return tool;\n\t\t\t\tif ((0,_utils_tools_js__WEBPACK_IMPORTED_MODULE_1__.hasProviderToolDefinition)(tool)) return tool.extras.providerToolDefinition;\n\t\t\t\treturn this._convertChatOpenAIToolToCompletionsTool(tool, { strict });\n\t\t\t}),\n\t\t\t...kwargs\n\t\t});\n\t}\n\tasync stream(input, options) {\n\t\treturn super.stream(input, this._combineCallOptions(options));\n\t}\n\tasync invoke(input, options) {\n\t\treturn super.invoke(input, this._combineCallOptions(options));\n\t}\n\t/** @ignore */\n\t_combineLLMOutput(...llmOutputs) {\n\t\treturn llmOutputs.reduce((acc, llmOutput) => {\n\t\t\tif (llmOutput && llmOutput.tokenUsage) {\n\t\t\t\tacc.tokenUsage.completionTokens += llmOutput.tokenUsage.completionTokens ?? 0;\n\t\t\t\tacc.tokenUsage.promptTokens += llmOutput.tokenUsage.promptTokens ?? 0;\n\t\t\t\tacc.tokenUsage.totalTokens += llmOutput.tokenUsage.totalTokens ?? 0;\n\t\t\t}\n\t\t\treturn acc;\n\t\t}, { tokenUsage: {\n\t\t\tcompletionTokens: 0,\n\t\t\tpromptTokens: 0,\n\t\t\ttotalTokens: 0\n\t\t} });\n\t}\n\tasync getNumTokensFromMessages(messages) {\n\t\tlet totalCount = 0;\n\t\tlet tokensPerMessage = 0;\n\t\tlet tokensPerName = 0;\n\t\tif (this.model === \"gpt-3.5-turbo-0301\") {\n\t\t\ttokensPerMessage = 4;\n\t\t\ttokensPerName = -1;\n\t\t} else {\n\t\t\ttokensPerMessage = 3;\n\t\t\ttokensPerName = 1;\n\t\t}\n\t\tconst countPerMessage = await Promise.all(messages.map(async (message) => {\n\t\t\tconst [textCount, roleCount] = await Promise.all([this.getNumTokens(message.content), this.getNumTokens((0,_utils_misc_js__WEBPACK_IMPORTED_MODULE_2__.messageToOpenAIRole)(message))]);\n\t\t\tconst nameCount = message.name !== void 0 ? tokensPerName + await this.getNumTokens(message.name) : 0;\n\t\t\tlet count = textCount + tokensPerMessage + roleCount + nameCount;\n\t\t\tconst openAIMessage = message;\n\t\t\tif (openAIMessage._getType() === \"function\") count -= 2;\n\t\t\tif (openAIMessage.additional_kwargs?.function_call) count += 3;\n\t\t\tif (openAIMessage?.additional_kwargs.function_call?.name) count += await this.getNumTokens(openAIMessage.additional_kwargs.function_call?.name);\n\t\t\tif (openAIMessage.additional_kwargs.function_call?.arguments) try {\n\t\t\t\tcount += await this.getNumTokens(JSON.stringify(JSON.parse(openAIMessage.additional_kwargs.function_call?.arguments)));\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Error parsing function arguments\", error, JSON.stringify(openAIMessage.additional_kwargs.function_call));\n\t\t\t\tcount += await this.getNumTokens(openAIMessage.additional_kwargs.function_call?.arguments);\n\t\t\t}\n\t\t\ttotalCount += count;\n\t\t\treturn count;\n\t\t}));\n\t\ttotalCount += 3;\n\t\treturn {\n\t\t\ttotalCount,\n\t\t\tcountPerMessage\n\t\t};\n\t}\n\t/** @internal */\n\tasync _getNumTokensFromGenerations(generations) {\n\t\tconst generationUsages = await Promise.all(generations.map(async (generation) => {\n\t\t\tif (generation.message.additional_kwargs?.function_call) return (await this.getNumTokensFromMessages([generation.message])).countPerMessage[0];\n\t\t\telse return await this.getNumTokens(generation.message.content);\n\t\t}));\n\t\treturn generationUsages.reduce((a, b) => a + b, 0);\n\t}\n\t/** @internal */\n\tasync _getEstimatedTokenCountFromPrompt(messages, functions, function_call) {\n\t\tlet tokens = (await this.getNumTokensFromMessages(messages)).totalCount;\n\t\tif (functions && function_call !== \"auto\") {\n\t\t\tconst promptDefinitions = (0,_utils_tools_js__WEBPACK_IMPORTED_MODULE_1__.formatFunctionDefinitions)(functions);\n\t\t\ttokens += await this.getNumTokens(promptDefinitions);\n\t\t\ttokens += 9;\n\t\t}\n\t\tif (functions && messages.find((m) => m._getType() === \"system\")) tokens -= 4;\n\t\tif (function_call === \"none\") tokens += 1;\n\t\telse if (typeof function_call === \"object\") tokens += await this.getNumTokens(function_call.name) + 4;\n\t\treturn tokens;\n\t}\n\t/**\n\t* Moderate content using OpenAI's Moderation API.\n\t*\n\t* This method checks whether content violates OpenAI's content policy by\n\t* analyzing text for categories such as hate, harassment, self-harm,\n\t* sexual content, violence, and more.\n\t*\n\t* @param input - The text or array of texts to moderate\n\t* @param params - Optional parameters for the moderation request\n\t* @param params.model - The moderation model to use. Defaults to \"omni-moderation-latest\".\n\t* @param params.options - Additional options to pass to the underlying request\n\t* @returns A promise that resolves to the moderation response containing results for each input\n\t*\n\t* @example\n\t* ```typescript\n\t* const model = new ChatOpenAI({ model: \"gpt-4o-mini\" });\n\t*\n\t* // Moderate a single text\n\t* const result = await model.moderateContent(\"This is a test message\");\n\t* console.log(result.results[0].flagged); // false\n\t* console.log(result.results[0].categories); // { hate: false, harassment: false, ... }\n\t*\n\t* // Moderate multiple texts\n\t* const results = await model.moderateContent([\n\t*   \"Hello, how are you?\",\n\t*   \"This is inappropriate content\"\n\t* ]);\n\t* results.results.forEach((result, index) => {\n\t*   console.log(`Text ${index + 1} flagged:`, result.flagged);\n\t* });\n\t*\n\t* // Use a specific moderation model\n\t* const stableResult = await model.moderateContent(\n\t*   \"Test content\",\n\t*   { model: \"omni-moderation-latest\" }\n\t* );\n\t* ```\n\t*/\n\tasync moderateContent(input, params) {\n\t\tconst clientOptions = this._getClientOptions(params?.options);\n\t\tconst moderationModel = params?.model ?? \"omni-moderation-latest\";\n\t\tconst moderationRequest = {\n\t\t\tinput,\n\t\t\tmodel: moderationModel\n\t\t};\n\t\treturn this.caller.call(async () => {\n\t\t\ttry {\n\t\t\t\tconst response = await this.client.moderations.create(moderationRequest, clientOptions);\n\t\t\t\treturn response;\n\t\t\t} catch (e) {\n\t\t\t\tconst error = (0,_utils_client_js__WEBPACK_IMPORTED_MODULE_0__.wrapOpenAIClientError)(e);\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t});\n\t}\n\t/**\n\t* Return profiling information for the model.\n\t*\n\t* Provides information about the model's capabilities and constraints,\n\t* including token limits, multimodal support, and advanced features like\n\t* tool calling and structured output.\n\t*\n\t* @returns {ModelProfile} An object describing the model's capabilities and constraints\n\t*\n\t* @example\n\t* ```typescript\n\t* const model = new ChatOpenAI({ model: \"gpt-4o\" });\n\t* const profile = model.profile;\n\t* console.log(profile.maxInputTokens); // 128000\n\t* console.log(profile.imageInputs); // true\n\t* ```\n\t*/\n\tget profile() {\n\t\treturn _profiles_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"][this.model] ?? {};\n\t}\n\t/** @internal */\n\t_getStructuredOutputMethod(config) {\n\t\tconst ensuredConfig = { ...config };\n\t\tif (!this.model.startsWith(\"gpt-3\") && !this.model.startsWith(\"gpt-4-\") && this.model !== \"gpt-4\") {\n\t\t\tif (ensuredConfig?.method === void 0) return \"jsonSchema\";\n\t\t} else if (ensuredConfig.method === \"jsonSchema\") console.warn(`[WARNING]: JSON Schema is not supported for model \"${this.model}\". Falling back to tool calling.`);\n\t\treturn ensuredConfig.method;\n\t}\n\t/**\n\t* Add structured output to the model.\n\t*\n\t* The OpenAI model family supports the following structured output methods:\n\t* - `jsonSchema`: Use the `response_format` field in the response to return a JSON schema. Only supported with the `gpt-4o-mini`,\n\t*   `gpt-4o-mini-2024-07-18`, and `gpt-4o-2024-08-06` model snapshots and later.\n\t* - `functionCalling`: Function calling is useful when you are building an application that bridges the models and functionality\n\t*   of your application.\n\t* - `jsonMode`: JSON mode is a more basic version of the Structured Outputs feature. While JSON mode ensures that model\n\t*   output is valid JSON, Structured Outputs reliably matches the model's output to the schema you specify.\n\t*   We recommend you use `functionCalling` or `jsonSchema` if it is supported for your use case.\n\t*\n\t* The default method is `functionCalling`.\n\t*\n\t* @see https://platform.openai.com/docs/guides/structured-outputs\n\t* @param outputSchema - The schema to use for structured output.\n\t* @param config - The structured output method options.\n\t* @returns The model with structured output.\n\t*/\n\twithStructuredOutput(outputSchema, config) {\n\t\tlet llm;\n\t\tlet outputParser;\n\t\tconst { schema, name, includeRaw } = {\n\t\t\t...config,\n\t\t\tschema: outputSchema\n\t\t};\n\t\tif (config?.strict !== void 0 && config.method === \"jsonMode\") throw new Error(\"Argument `strict` is only supported for `method` = 'function_calling'\");\n\t\tconst method = (0,_utils_output_js__WEBPACK_IMPORTED_MODULE_4__.getStructuredOutputMethod)(this.model, config?.method);\n\t\tif (method === \"jsonMode\") {\n\t\t\tif ((0,_langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_7__.isInteropZodSchema)(schema)) outputParser = _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_13__.StructuredOutputParser.fromZodSchema(schema);\n\t\t\telse outputParser = new _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_13__.JsonOutputParser();\n\t\t\tconst asJsonSchema = (0,_langchain_core_utils_json_schema__WEBPACK_IMPORTED_MODULE_8__.toJsonSchema)(schema);\n\t\t\tllm = this.withConfig({\n\t\t\t\toutputVersion: \"v0\",\n\t\t\t\tresponse_format: { type: \"json_object\" },\n\t\t\t\tls_structured_output_format: {\n\t\t\t\t\tkwargs: { method: \"json_mode\" },\n\t\t\t\t\tschema: {\n\t\t\t\t\t\ttitle: name ?? \"extract\",\n\t\t\t\t\t\t...asJsonSchema\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (method === \"jsonSchema\") {\n\t\t\tconst openaiJsonSchemaParams = {\n\t\t\t\tname: name ?? \"extract\",\n\t\t\t\tdescription: (0,_langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_7__.getSchemaDescription)(schema),\n\t\t\t\tschema,\n\t\t\t\tstrict: config?.strict\n\t\t\t};\n\t\t\tconst asJsonSchema = (0,_langchain_core_utils_json_schema__WEBPACK_IMPORTED_MODULE_8__.toJsonSchema)(openaiJsonSchemaParams.schema);\n\t\t\tllm = this.withConfig({\n\t\t\t\toutputVersion: \"v0\",\n\t\t\t\tresponse_format: {\n\t\t\t\t\ttype: \"json_schema\",\n\t\t\t\t\tjson_schema: openaiJsonSchemaParams\n\t\t\t\t},\n\t\t\t\tls_structured_output_format: {\n\t\t\t\t\tkwargs: { method: \"json_schema\" },\n\t\t\t\t\tschema: {\n\t\t\t\t\t\ttitle: openaiJsonSchemaParams.name,\n\t\t\t\t\t\tdescription: openaiJsonSchemaParams.description,\n\t\t\t\t\t\t...asJsonSchema\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tif ((0,_langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_7__.isInteropZodSchema)(schema)) {\n\t\t\t\tconst altParser = _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_13__.StructuredOutputParser.fromZodSchema(schema);\n\t\t\t\toutputParser = _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_12__.RunnableLambda.from((aiMessage) => {\n\t\t\t\t\tif (\"parsed\" in aiMessage.additional_kwargs) return aiMessage.additional_kwargs.parsed;\n\t\t\t\t\treturn altParser;\n\t\t\t\t});\n\t\t\t} else outputParser = new _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_13__.JsonOutputParser();\n\t\t} else {\n\t\t\tlet functionName = name ?? \"extract\";\n\t\t\tif ((0,_langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_7__.isInteropZodSchema)(schema)) {\n\t\t\t\tconst asJsonSchema = (0,_langchain_core_utils_json_schema__WEBPACK_IMPORTED_MODULE_8__.toJsonSchema)(schema);\n\t\t\t\tllm = this.withConfig({\n\t\t\t\t\toutputVersion: \"v0\",\n\t\t\t\t\ttools: [{\n\t\t\t\t\t\ttype: \"function\",\n\t\t\t\t\t\tfunction: {\n\t\t\t\t\t\t\tname: functionName,\n\t\t\t\t\t\t\tdescription: asJsonSchema.description,\n\t\t\t\t\t\t\tparameters: asJsonSchema\n\t\t\t\t\t\t}\n\t\t\t\t\t}],\n\t\t\t\t\ttool_choice: {\n\t\t\t\t\t\ttype: \"function\",\n\t\t\t\t\t\tfunction: { name: functionName }\n\t\t\t\t\t},\n\t\t\t\t\tls_structured_output_format: {\n\t\t\t\t\t\tkwargs: { method: \"function_calling\" },\n\t\t\t\t\t\tschema: {\n\t\t\t\t\t\t\ttitle: functionName,\n\t\t\t\t\t\t\t...asJsonSchema\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t...config?.strict !== void 0 ? { strict: config.strict } : {}\n\t\t\t\t});\n\t\t\t\toutputParser = new _langchain_core_output_parsers_openai_tools__WEBPACK_IMPORTED_MODULE_14__.JsonOutputKeyToolsParser({\n\t\t\t\t\treturnSingle: true,\n\t\t\t\t\tkeyName: functionName,\n\t\t\t\t\tzodSchema: schema\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlet openAIFunctionDefinition;\n\t\t\t\tif (typeof schema.name === \"string\" && typeof schema.parameters === \"object\" && schema.parameters != null) {\n\t\t\t\t\topenAIFunctionDefinition = schema;\n\t\t\t\t\tfunctionName = schema.name;\n\t\t\t\t} else {\n\t\t\t\t\tfunctionName = schema.title ?? functionName;\n\t\t\t\t\topenAIFunctionDefinition = {\n\t\t\t\t\t\tname: functionName,\n\t\t\t\t\t\tdescription: schema.description ?? \"\",\n\t\t\t\t\t\tparameters: schema\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tconst asJsonSchema = (0,_langchain_core_utils_json_schema__WEBPACK_IMPORTED_MODULE_8__.toJsonSchema)(schema);\n\t\t\t\tllm = this.withConfig({\n\t\t\t\t\toutputVersion: \"v0\",\n\t\t\t\t\ttools: [{\n\t\t\t\t\t\ttype: \"function\",\n\t\t\t\t\t\tfunction: openAIFunctionDefinition\n\t\t\t\t\t}],\n\t\t\t\t\ttool_choice: {\n\t\t\t\t\t\ttype: \"function\",\n\t\t\t\t\t\tfunction: { name: functionName }\n\t\t\t\t\t},\n\t\t\t\t\tls_structured_output_format: {\n\t\t\t\t\t\tkwargs: { method: \"function_calling\" },\n\t\t\t\t\t\tschema: {\n\t\t\t\t\t\t\ttitle: functionName,\n\t\t\t\t\t\t\t...asJsonSchema\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t...config?.strict !== void 0 ? { strict: config.strict } : {}\n\t\t\t\t});\n\t\t\t\toutputParser = new _langchain_core_output_parsers_openai_tools__WEBPACK_IMPORTED_MODULE_14__.JsonOutputKeyToolsParser({\n\t\t\t\t\treturnSingle: true,\n\t\t\t\t\tkeyName: functionName\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tif (!includeRaw) return llm.pipe(outputParser);\n\t\tconst parserAssign = _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_12__.RunnablePassthrough.assign({ parsed: (input, config$1) => outputParser.invoke(input.raw, config$1) });\n\t\tconst parserNone = _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_12__.RunnablePassthrough.assign({ parsed: () => null });\n\t\tconst parsedWithFallback = parserAssign.withFallbacks({ fallbacks: [parserNone] });\n\t\treturn _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_12__.RunnableSequence.from([{ raw: llm }, parsedWithFallback]);\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=base.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L2NoYXRfbW9kZWxzL2Jhc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEyRDtBQUM2RztBQUMvRjtBQUNBO0FBQ2dCO0FBQzVDO0FBQ0Q7QUFDMkM7QUFDdEI7QUFDRTtBQUNTO0FBQ1I7QUFDOEI7QUFDUjtBQUNIOztBQUV2RjtBQUNBO0FBQ0EsbUNBQW1DLHVGQUFhO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBLGtEQUFrRCxpRkFBc0I7QUFDeEUsNkRBQTZELGlGQUFzQjtBQUNuRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sZ0VBQWdCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUZBQXVGLCtFQUFrQix1Q0FBdUMsMEVBQXdCLDZEQUE2RCxnREFBZ0Q7QUFDclI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQyxvQkFBb0IsNERBQVc7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsd0VBQXVCO0FBQ2xELHFCQUFxQiwwQ0FBUTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSw2REFBWSxlQUFlLDJFQUEwQjtBQUMzRCxNQUFNLG1GQUFZO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMscUVBQW9CO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSw4REFBYSxVQUFVLDZEQUFZO0FBQzNDLFFBQVEsMEVBQXlCO0FBQ2pDLGdFQUFnRSxRQUFRO0FBQ3hFLElBQUk7QUFDSjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsSUFBSTtBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkdBQTJHLG1FQUFtQjtBQUM5SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsMEVBQXlCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0Msc0JBQXNCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQztBQUMzQyw4Q0FBOEMsS0FBSztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixXQUFXO0FBQ3BDLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGtCQUFrQix1RUFBcUI7QUFDdkM7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxjQUFjO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxpQkFBaUI7QUFDbkQ7QUFDQSx3Q0FBd0M7QUFDeEMscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLFNBQVMsb0RBQWdCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0EsSUFBSSxtSEFBbUgsV0FBVztBQUNsSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLDJCQUEyQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiwyRUFBeUI7QUFDMUM7QUFDQSxPQUFPLCtFQUFrQix5QkFBeUIsbUZBQXNCO0FBQ3hFLDJCQUEyQiw2RUFBZ0I7QUFDM0Msd0JBQXdCLCtFQUFZO0FBQ3BDO0FBQ0E7QUFDQSx1QkFBdUIscUJBQXFCO0FBQzVDO0FBQ0EsZUFBZSxxQkFBcUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixJQUFJO0FBQ0o7QUFDQTtBQUNBLGlCQUFpQixpRkFBb0I7QUFDckM7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLCtFQUFZO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxlQUFlLHVCQUF1QjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osT0FBTywrRUFBa0I7QUFDekIsc0JBQXNCLG1GQUFzQjtBQUM1QyxtQkFBbUIsc0VBQWM7QUFDakM7QUFDQTtBQUNBLEtBQUs7QUFDTCxLQUFLLHdCQUF3Qiw2RUFBZ0I7QUFDN0MsSUFBSTtBQUNKO0FBQ0EsT0FBTywrRUFBa0I7QUFDekIseUJBQXlCLCtFQUFZO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCLE1BQU07QUFDTjtBQUNBLGdCQUFnQiw0QkFBNEI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sc0NBQXNDLHdCQUF3QjtBQUM5RCxLQUFLO0FBQ0wsdUJBQXVCLGtHQUF3QjtBQUMvQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLCtFQUFZO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLGtCQUFrQjtBQUNsQixNQUFNO0FBQ047QUFDQSxnQkFBZ0IsNEJBQTRCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLHNDQUFzQyx3QkFBd0I7QUFDOUQsS0FBSztBQUNMLHVCQUF1QixrR0FBd0I7QUFDL0M7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsMkVBQW1CLFVBQVUsdUVBQXVFO0FBQzNILHFCQUFxQiwyRUFBbUIsVUFBVSxvQkFBb0I7QUFDdEUsMERBQTBELHlCQUF5QjtBQUNuRixTQUFTLHdFQUFnQixTQUFTLFVBQVU7QUFDNUM7QUFDQTs7QUFFQTtBQUMwQjtBQUMxQiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitvcGVuYWlAMS4yLjNfQGxhbmdjaGFpbitjb3JlQDEuMS4xNy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9vcGVuYWkvZGlzdC9jaGF0X21vZGVscy9iYXNlLmpzPzQwNTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgd3JhcE9wZW5BSUNsaWVudEVycm9yIH0gZnJvbSBcIi4uL3V0aWxzL2NsaWVudC5qc1wiO1xuaW1wb3J0IHsgX2NvbnZlcnRUb09wZW5BSVRvb2wsIGNvbnZlcnRSZXNwb25zZXNDdXN0b21Ub29sLCBmb3JtYXRGdW5jdGlvbkRlZmluaXRpb25zLCBoYXNQcm92aWRlclRvb2xEZWZpbml0aW9uLCBpc0J1aWx0SW5Ub29sLCBpc0N1c3RvbVRvb2wgfSBmcm9tIFwiLi4vdXRpbHMvdG9vbHMuanNcIjtcbmltcG9ydCB7IGlzUmVhc29uaW5nTW9kZWwsIG1lc3NhZ2VUb09wZW5BSVJvbGUgfSBmcm9tIFwiLi4vdXRpbHMvbWlzYy5qc1wiO1xuaW1wb3J0IHsgZ2V0RW5kcG9pbnQsIGdldEhlYWRlcnNXaXRoVXNlckFnZW50IH0gZnJvbSBcIi4uL3V0aWxzL2F6dXJlLmpzXCI7XG5pbXBvcnQgeyBnZXRTdHJ1Y3R1cmVkT3V0cHV0TWV0aG9kLCBpbnRlcm9wWm9kUmVzcG9uc2VGb3JtYXQgfSBmcm9tIFwiLi4vdXRpbHMvb3V0cHV0LmpzXCI7XG5pbXBvcnQgcHJvZmlsZXNfZGVmYXVsdCBmcm9tIFwiLi9wcm9maWxlcy5qc1wiO1xuaW1wb3J0IHsgT3BlbkFJIGFzIE9wZW5BSSQxIH0gZnJvbSBcIm9wZW5haVwiO1xuaW1wb3J0IHsgZ2V0U2NoZW1hRGVzY3JpcHRpb24sIGlzSW50ZXJvcFpvZFNjaGVtYSB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvdXRpbHMvdHlwZXNcIjtcbmltcG9ydCB7IHRvSnNvblNjaGVtYSB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvdXRpbHMvanNvbl9zY2hlbWFcIjtcbmltcG9ydCB7IGdldEVudmlyb25tZW50VmFyaWFibGUgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3V0aWxzL2VudlwiO1xuaW1wb3J0IHsgQmFzZUNoYXRNb2RlbCB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvbGFuZ3VhZ2VfbW9kZWxzL2NoYXRfbW9kZWxzXCI7XG5pbXBvcnQgeyBpc09wZW5BSVRvb2wgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL2xhbmd1YWdlX21vZGVscy9iYXNlXCI7XG5pbXBvcnQgeyBSdW5uYWJsZUxhbWJkYSwgUnVubmFibGVQYXNzdGhyb3VnaCwgUnVubmFibGVTZXF1ZW5jZSB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvcnVubmFibGVzXCI7XG5pbXBvcnQgeyBKc29uT3V0cHV0UGFyc2VyLCBTdHJ1Y3R1cmVkT3V0cHV0UGFyc2VyIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9vdXRwdXRfcGFyc2Vyc1wiO1xuaW1wb3J0IHsgSnNvbk91dHB1dEtleVRvb2xzUGFyc2VyIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9vdXRwdXRfcGFyc2Vycy9vcGVuYWlfdG9vbHNcIjtcblxuLy8jcmVnaW9uIHNyYy9jaGF0X21vZGVscy9iYXNlLnRzXG4vKiogQGludGVybmFsICovXG52YXIgQmFzZUNoYXRPcGVuQUkgPSBjbGFzcyBleHRlbmRzIEJhc2VDaGF0TW9kZWwge1xuXHR0ZW1wZXJhdHVyZTtcblx0dG9wUDtcblx0ZnJlcXVlbmN5UGVuYWx0eTtcblx0cHJlc2VuY2VQZW5hbHR5O1xuXHRuO1xuXHRsb2dpdEJpYXM7XG5cdG1vZGVsID0gXCJncHQtMy41LXR1cmJvXCI7XG5cdG1vZGVsS3dhcmdzO1xuXHRzdG9wO1xuXHRzdG9wU2VxdWVuY2VzO1xuXHR1c2VyO1xuXHR0aW1lb3V0O1xuXHRzdHJlYW1pbmcgPSBmYWxzZTtcblx0c3RyZWFtVXNhZ2UgPSB0cnVlO1xuXHRtYXhUb2tlbnM7XG5cdGxvZ3Byb2JzO1xuXHR0b3BMb2dwcm9icztcblx0YXBpS2V5O1xuXHRvcmdhbml6YXRpb247XG5cdF9faW5jbHVkZVJhd1Jlc3BvbnNlO1xuXHQvKiogQGludGVybmFsICovXG5cdGNsaWVudDtcblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRjbGllbnRDb25maWc7XG5cdC8qKlxuXHQqIFdoZXRoZXIgdGhlIG1vZGVsIHN1cHBvcnRzIHRoZSBgc3RyaWN0YCBhcmd1bWVudCB3aGVuIHBhc3NpbmcgaW4gdG9vbHMuXG5cdCogSWYgYHVuZGVmaW5lZGAgdGhlIGBzdHJpY3RgIGFyZ3VtZW50IHdpbGwgbm90IGJlIHBhc3NlZCB0byBPcGVuQUkuXG5cdCovXG5cdHN1cHBvcnRzU3RyaWN0VG9vbENhbGxpbmc7XG5cdGF1ZGlvO1xuXHRtb2RhbGl0aWVzO1xuXHRyZWFzb25pbmc7XG5cdC8qKlxuXHQqIE11c3QgYmUgc2V0IHRvIGB0cnVlYCBpbiB0ZW5hbmNpZXMgd2l0aCBaZXJvIERhdGEgUmV0ZW50aW9uLiBTZXR0aW5nIHRvIGB0cnVlYCB3aWxsIGRpc2FibGVcblx0KiBvdXRwdXQgc3RvcmFnZSBpbiB0aGUgUmVzcG9uc2VzIEFQSSwgYnV0IHRoaXMgRE9FUyBOT1QgZW5hYmxlIFplcm8gRGF0YSBSZXRlbnRpb24gaW4geW91clxuXHQqIE9wZW5BSSBvcmdhbml6YXRpb24gb3IgcHJvamVjdC4gVGhpcyBtdXN0IGJlIGNvbmZpZ3VyZWQgZGlyZWN0bHkgd2l0aCBPcGVuQUkuXG5cdCpcblx0KiBTZWU6XG5cdCogaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3lvdXItZGF0YVxuXHQqIGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvcmVzcG9uc2VzL2NyZWF0ZSNyZXNwb25zZXMtY3JlYXRlLXN0b3JlXG5cdCpcblx0KiBAZGVmYXVsdCBmYWxzZVxuXHQqL1xuXHR6ZHJFbmFibGVkO1xuXHQvKipcblx0KiBTZXJ2aWNlIHRpZXIgdG8gdXNlIGZvciB0aGlzIHJlcXVlc3QuIENhbiBiZSBcImF1dG9cIiwgXCJkZWZhdWx0XCIsIG9yIFwiZmxleFwiIG9yIFwicHJpb3JpdHlcIi5cblx0KiBTcGVjaWZpZXMgdGhlIHNlcnZpY2UgdGllciBmb3IgcHJpb3JpdGl6YXRpb24gYW5kIGxhdGVuY3kgb3B0aW1pemF0aW9uLlxuXHQqL1xuXHRzZXJ2aWNlX3RpZXI7XG5cdC8qKlxuXHQqIFVzZWQgYnkgT3BlbkFJIHRvIGNhY2hlIHJlc3BvbnNlcyBmb3Igc2ltaWxhciByZXF1ZXN0cyB0byBvcHRpbWl6ZSB5b3VyIGNhY2hlXG5cdCogaGl0IHJhdGVzLlxuXHQqIFtMZWFybiBtb3JlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvcHJvbXB0LWNhY2hpbmcpLlxuXHQqL1xuXHRwcm9tcHRDYWNoZUtleTtcblx0LyoqXG5cdCogVXNlZCBieSBPcGVuQUkgdG8gc2V0IGNhY2hlIHJldGVudGlvbiB0aW1lXG5cdCovXG5cdHByb21wdENhY2hlUmV0ZW50aW9uO1xuXHQvKipcblx0KiBUaGUgdmVyYm9zaXR5IG9mIHRoZSBtb2RlbCdzIHJlc3BvbnNlLlxuXHQqL1xuXHR2ZXJib3NpdHk7XG5cdGRlZmF1bHRPcHRpb25zO1xuXHRfbGxtVHlwZSgpIHtcblx0XHRyZXR1cm4gXCJvcGVuYWlcIjtcblx0fVxuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJDaGF0T3BlbkFJXCI7XG5cdH1cblx0Z2V0IGNhbGxLZXlzKCkge1xuXHRcdHJldHVybiBbXG5cdFx0XHQuLi5zdXBlci5jYWxsS2V5cyxcblx0XHRcdFwib3B0aW9uc1wiLFxuXHRcdFx0XCJmdW5jdGlvbl9jYWxsXCIsXG5cdFx0XHRcImZ1bmN0aW9uc1wiLFxuXHRcdFx0XCJ0b29sc1wiLFxuXHRcdFx0XCJ0b29sX2Nob2ljZVwiLFxuXHRcdFx0XCJwcm9tcHRJbmRleFwiLFxuXHRcdFx0XCJyZXNwb25zZV9mb3JtYXRcIixcblx0XHRcdFwic2VlZFwiLFxuXHRcdFx0XCJyZWFzb25pbmdcIixcblx0XHRcdFwic2VydmljZV90aWVyXCJcblx0XHRdO1xuXHR9XG5cdGxjX3NlcmlhbGl6YWJsZSA9IHRydWU7XG5cdGdldCBsY19zZWNyZXRzKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRhcGlLZXk6IFwiT1BFTkFJX0FQSV9LRVlcIixcblx0XHRcdG9yZ2FuaXphdGlvbjogXCJPUEVOQUlfT1JHQU5JWkFUSU9OXCJcblx0XHR9O1xuXHR9XG5cdGdldCBsY19hbGlhc2VzKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRhcGlLZXk6IFwib3BlbmFpX2FwaV9rZXlcIixcblx0XHRcdG1vZGVsTmFtZTogXCJtb2RlbFwiXG5cdFx0fTtcblx0fVxuXHRnZXQgbGNfc2VyaWFsaXphYmxlX2tleXMoKSB7XG5cdFx0cmV0dXJuIFtcblx0XHRcdFwiY29uZmlndXJhdGlvblwiLFxuXHRcdFx0XCJsb2dwcm9ic1wiLFxuXHRcdFx0XCJ0b3BMb2dwcm9ic1wiLFxuXHRcdFx0XCJwcmVmaXhNZXNzYWdlc1wiLFxuXHRcdFx0XCJzdXBwb3J0c1N0cmljdFRvb2xDYWxsaW5nXCIsXG5cdFx0XHRcIm1vZGFsaXRpZXNcIixcblx0XHRcdFwiYXVkaW9cIixcblx0XHRcdFwidGVtcGVyYXR1cmVcIixcblx0XHRcdFwibWF4VG9rZW5zXCIsXG5cdFx0XHRcInRvcFBcIixcblx0XHRcdFwiZnJlcXVlbmN5UGVuYWx0eVwiLFxuXHRcdFx0XCJwcmVzZW5jZVBlbmFsdHlcIixcblx0XHRcdFwiblwiLFxuXHRcdFx0XCJsb2dpdEJpYXNcIixcblx0XHRcdFwidXNlclwiLFxuXHRcdFx0XCJzdHJlYW1pbmdcIixcblx0XHRcdFwic3RyZWFtVXNhZ2VcIixcblx0XHRcdFwibW9kZWxcIixcblx0XHRcdFwibW9kZWxOYW1lXCIsXG5cdFx0XHRcIm1vZGVsS3dhcmdzXCIsXG5cdFx0XHRcInN0b3BcIixcblx0XHRcdFwic3RvcFNlcXVlbmNlc1wiLFxuXHRcdFx0XCJ0aW1lb3V0XCIsXG5cdFx0XHRcImFwaUtleVwiLFxuXHRcdFx0XCJjYWNoZVwiLFxuXHRcdFx0XCJtYXhDb25jdXJyZW5jeVwiLFxuXHRcdFx0XCJtYXhSZXRyaWVzXCIsXG5cdFx0XHRcInZlcmJvc2VcIixcblx0XHRcdFwiY2FsbGJhY2tzXCIsXG5cdFx0XHRcInRhZ3NcIixcblx0XHRcdFwibWV0YWRhdGFcIixcblx0XHRcdFwiZGlzYWJsZVN0cmVhbWluZ1wiLFxuXHRcdFx0XCJ6ZHJFbmFibGVkXCIsXG5cdFx0XHRcInJlYXNvbmluZ1wiLFxuXHRcdFx0XCJwcm9tcHRDYWNoZUtleVwiLFxuXHRcdFx0XCJwcm9tcHRDYWNoZVJldGVudGlvblwiLFxuXHRcdFx0XCJ2ZXJib3NpdHlcIlxuXHRcdF07XG5cdH1cblx0Z2V0THNQYXJhbXMob3B0aW9ucykge1xuXHRcdGNvbnN0IHBhcmFtcyA9IHRoaXMuaW52b2NhdGlvblBhcmFtcyhvcHRpb25zKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0bHNfcHJvdmlkZXI6IFwib3BlbmFpXCIsXG5cdFx0XHRsc19tb2RlbF9uYW1lOiB0aGlzLm1vZGVsLFxuXHRcdFx0bHNfbW9kZWxfdHlwZTogXCJjaGF0XCIsXG5cdFx0XHRsc190ZW1wZXJhdHVyZTogcGFyYW1zLnRlbXBlcmF0dXJlID8/IHZvaWQgMCxcblx0XHRcdGxzX21heF90b2tlbnM6IHBhcmFtcy5tYXhfdG9rZW5zID8/IHZvaWQgMCxcblx0XHRcdGxzX3N0b3A6IG9wdGlvbnMuc3RvcFxuXHRcdH07XG5cdH1cblx0LyoqIEBpZ25vcmUgKi9cblx0X2lkZW50aWZ5aW5nUGFyYW1zKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRtb2RlbF9uYW1lOiB0aGlzLm1vZGVsLFxuXHRcdFx0Li4udGhpcy5pbnZvY2F0aW9uUGFyYW1zKCksXG5cdFx0XHQuLi50aGlzLmNsaWVudENvbmZpZ1xuXHRcdH07XG5cdH1cblx0LyoqXG5cdCogR2V0IHRoZSBpZGVudGlmeWluZyBwYXJhbWV0ZXJzIGZvciB0aGUgbW9kZWxcblx0Ki9cblx0aWRlbnRpZnlpbmdQYXJhbXMoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2lkZW50aWZ5aW5nUGFyYW1zKCk7XG5cdH1cblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzID8/IHt9KTtcblx0XHRjb25zdCBjb25maWdBcGlLZXkgPSB0eXBlb2YgZmllbGRzPy5jb25maWd1cmF0aW9uPy5hcGlLZXkgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIGZpZWxkcz8uY29uZmlndXJhdGlvbj8uYXBpS2V5ID09PSBcImZ1bmN0aW9uXCIgPyBmaWVsZHM/LmNvbmZpZ3VyYXRpb24/LmFwaUtleSA6IHZvaWQgMDtcblx0XHR0aGlzLmFwaUtleSA9IGZpZWxkcz8uYXBpS2V5ID8/IGNvbmZpZ0FwaUtleSA/PyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiT1BFTkFJX0FQSV9LRVlcIik7XG5cdFx0dGhpcy5vcmdhbml6YXRpb24gPSBmaWVsZHM/LmNvbmZpZ3VyYXRpb24/Lm9yZ2FuaXphdGlvbiA/PyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiT1BFTkFJX09SR0FOSVpBVElPTlwiKTtcblx0XHR0aGlzLm1vZGVsID0gZmllbGRzPy5tb2RlbCA/PyBmaWVsZHM/Lm1vZGVsTmFtZSA/PyB0aGlzLm1vZGVsO1xuXHRcdHRoaXMubW9kZWxLd2FyZ3MgPSBmaWVsZHM/Lm1vZGVsS3dhcmdzID8/IHt9O1xuXHRcdHRoaXMudGltZW91dCA9IGZpZWxkcz8udGltZW91dDtcblx0XHR0aGlzLnRlbXBlcmF0dXJlID0gZmllbGRzPy50ZW1wZXJhdHVyZSA/PyB0aGlzLnRlbXBlcmF0dXJlO1xuXHRcdHRoaXMudG9wUCA9IGZpZWxkcz8udG9wUCA/PyB0aGlzLnRvcFA7XG5cdFx0dGhpcy5mcmVxdWVuY3lQZW5hbHR5ID0gZmllbGRzPy5mcmVxdWVuY3lQZW5hbHR5ID8/IHRoaXMuZnJlcXVlbmN5UGVuYWx0eTtcblx0XHR0aGlzLnByZXNlbmNlUGVuYWx0eSA9IGZpZWxkcz8ucHJlc2VuY2VQZW5hbHR5ID8/IHRoaXMucHJlc2VuY2VQZW5hbHR5O1xuXHRcdHRoaXMubG9ncHJvYnMgPSBmaWVsZHM/LmxvZ3Byb2JzO1xuXHRcdHRoaXMudG9wTG9ncHJvYnMgPSBmaWVsZHM/LnRvcExvZ3Byb2JzO1xuXHRcdHRoaXMubiA9IGZpZWxkcz8ubiA/PyB0aGlzLm47XG5cdFx0dGhpcy5sb2dpdEJpYXMgPSBmaWVsZHM/LmxvZ2l0Qmlhcztcblx0XHR0aGlzLnN0b3AgPSBmaWVsZHM/LnN0b3BTZXF1ZW5jZXMgPz8gZmllbGRzPy5zdG9wO1xuXHRcdHRoaXMuc3RvcFNlcXVlbmNlcyA9IHRoaXMuc3RvcDtcblx0XHR0aGlzLnVzZXIgPSBmaWVsZHM/LnVzZXI7XG5cdFx0dGhpcy5fX2luY2x1ZGVSYXdSZXNwb25zZSA9IGZpZWxkcz8uX19pbmNsdWRlUmF3UmVzcG9uc2U7XG5cdFx0dGhpcy5hdWRpbyA9IGZpZWxkcz8uYXVkaW87XG5cdFx0dGhpcy5tb2RhbGl0aWVzID0gZmllbGRzPy5tb2RhbGl0aWVzO1xuXHRcdHRoaXMucmVhc29uaW5nID0gZmllbGRzPy5yZWFzb25pbmc7XG5cdFx0dGhpcy5tYXhUb2tlbnMgPSBmaWVsZHM/Lm1heENvbXBsZXRpb25Ub2tlbnMgPz8gZmllbGRzPy5tYXhUb2tlbnM7XG5cdFx0dGhpcy5wcm9tcHRDYWNoZUtleSA9IGZpZWxkcz8ucHJvbXB0Q2FjaGVLZXkgPz8gdGhpcy5wcm9tcHRDYWNoZUtleTtcblx0XHR0aGlzLnByb21wdENhY2hlUmV0ZW50aW9uID0gZmllbGRzPy5wcm9tcHRDYWNoZVJldGVudGlvbiA/PyB0aGlzLnByb21wdENhY2hlUmV0ZW50aW9uO1xuXHRcdHRoaXMudmVyYm9zaXR5ID0gZmllbGRzPy52ZXJib3NpdHkgPz8gdGhpcy52ZXJib3NpdHk7XG5cdFx0dGhpcy5kaXNhYmxlU3RyZWFtaW5nID0gZmllbGRzPy5kaXNhYmxlU3RyZWFtaW5nID09PSB0cnVlO1xuXHRcdHRoaXMuc3RyZWFtaW5nID0gZmllbGRzPy5zdHJlYW1pbmcgPT09IHRydWU7XG5cdFx0aWYgKHRoaXMuZGlzYWJsZVN0cmVhbWluZykgdGhpcy5zdHJlYW1pbmcgPSBmYWxzZTtcblx0XHRpZiAoZmllbGRzPy5zdHJlYW1pbmcgPT09IGZhbHNlKSB0aGlzLmRpc2FibGVTdHJlYW1pbmcgPSB0cnVlO1xuXHRcdHRoaXMuc3RyZWFtVXNhZ2UgPSBmaWVsZHM/LnN0cmVhbVVzYWdlID8/IHRoaXMuc3RyZWFtVXNhZ2U7XG5cdFx0aWYgKHRoaXMuZGlzYWJsZVN0cmVhbWluZykgdGhpcy5zdHJlYW1Vc2FnZSA9IGZhbHNlO1xuXHRcdHRoaXMuY2xpZW50Q29uZmlnID0ge1xuXHRcdFx0YXBpS2V5OiB0aGlzLmFwaUtleSxcblx0XHRcdG9yZ2FuaXphdGlvbjogdGhpcy5vcmdhbml6YXRpb24sXG5cdFx0XHRkYW5nZXJvdXNseUFsbG93QnJvd3NlcjogdHJ1ZSxcblx0XHRcdC4uLmZpZWxkcz8uY29uZmlndXJhdGlvblxuXHRcdH07XG5cdFx0aWYgKGZpZWxkcz8uc3VwcG9ydHNTdHJpY3RUb29sQ2FsbGluZyAhPT0gdm9pZCAwKSB0aGlzLnN1cHBvcnRzU3RyaWN0VG9vbENhbGxpbmcgPSBmaWVsZHMuc3VwcG9ydHNTdHJpY3RUb29sQ2FsbGluZztcblx0XHRpZiAoZmllbGRzPy5zZXJ2aWNlX3RpZXIgIT09IHZvaWQgMCkgdGhpcy5zZXJ2aWNlX3RpZXIgPSBmaWVsZHMuc2VydmljZV90aWVyO1xuXHRcdHRoaXMuemRyRW5hYmxlZCA9IGZpZWxkcz8uemRyRW5hYmxlZCA/PyBmYWxzZTtcblx0fVxuXHQvKipcblx0KiBSZXR1cm5zIGJhY2t3YXJkcyBjb21wYXRpYmxlIHJlYXNvbmluZyBwYXJhbWV0ZXJzIGZyb20gY29uc3RydWN0b3IgcGFyYW1zIGFuZCBjYWxsIG9wdGlvbnNcblx0KiBAaW50ZXJuYWxcblx0Ki9cblx0X2dldFJlYXNvbmluZ1BhcmFtcyhvcHRpb25zKSB7XG5cdFx0aWYgKCFpc1JlYXNvbmluZ01vZGVsKHRoaXMubW9kZWwpKSByZXR1cm47XG5cdFx0bGV0IHJlYXNvbmluZztcblx0XHRpZiAodGhpcy5yZWFzb25pbmcgIT09IHZvaWQgMCkgcmVhc29uaW5nID0ge1xuXHRcdFx0Li4ucmVhc29uaW5nLFxuXHRcdFx0Li4udGhpcy5yZWFzb25pbmdcblx0XHR9O1xuXHRcdGlmIChvcHRpb25zPy5yZWFzb25pbmcgIT09IHZvaWQgMCkgcmVhc29uaW5nID0ge1xuXHRcdFx0Li4ucmVhc29uaW5nLFxuXHRcdFx0Li4ub3B0aW9ucy5yZWFzb25pbmdcblx0XHR9O1xuXHRcdHJldHVybiByZWFzb25pbmc7XG5cdH1cblx0LyoqXG5cdCogUmV0dXJucyBhbiBvcGVuYWkgY29tcGF0aWJsZSByZXNwb25zZSBmb3JtYXQgZnJvbSBhIHNldCBvZiBvcHRpb25zXG5cdCogQGludGVybmFsXG5cdCovXG5cdF9nZXRSZXNwb25zZUZvcm1hdChyZXNGb3JtYXQpIHtcblx0XHRpZiAocmVzRm9ybWF0ICYmIHJlc0Zvcm1hdC50eXBlID09PSBcImpzb25fc2NoZW1hXCIgJiYgcmVzRm9ybWF0Lmpzb25fc2NoZW1hLnNjaGVtYSAmJiBpc0ludGVyb3Bab2RTY2hlbWEocmVzRm9ybWF0Lmpzb25fc2NoZW1hLnNjaGVtYSkpIHJldHVybiBpbnRlcm9wWm9kUmVzcG9uc2VGb3JtYXQocmVzRm9ybWF0Lmpzb25fc2NoZW1hLnNjaGVtYSwgcmVzRm9ybWF0Lmpzb25fc2NoZW1hLm5hbWUsIHsgZGVzY3JpcHRpb246IHJlc0Zvcm1hdC5qc29uX3NjaGVtYS5kZXNjcmlwdGlvbiB9KTtcblx0XHRyZXR1cm4gcmVzRm9ybWF0O1xuXHR9XG5cdF9jb21iaW5lQ2FsbE9wdGlvbnMoYWRkaXRpb25hbE9wdGlvbnMpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Li4udGhpcy5kZWZhdWx0T3B0aW9ucyxcblx0XHRcdC4uLmFkZGl0aW9uYWxPcHRpb25zID8/IHt9XG5cdFx0fTtcblx0fVxuXHQvKiogQGludGVybmFsICovXG5cdF9nZXRDbGllbnRPcHRpb25zKG9wdGlvbnMpIHtcblx0XHRpZiAoIXRoaXMuY2xpZW50KSB7XG5cdFx0XHRjb25zdCBvcGVuQUlFbmRwb2ludENvbmZpZyA9IHsgYmFzZVVSTDogdGhpcy5jbGllbnRDb25maWcuYmFzZVVSTCB9O1xuXHRcdFx0Y29uc3QgZW5kcG9pbnQgPSBnZXRFbmRwb2ludChvcGVuQUlFbmRwb2ludENvbmZpZyk7XG5cdFx0XHRjb25zdCBwYXJhbXMgPSB7XG5cdFx0XHRcdC4uLnRoaXMuY2xpZW50Q29uZmlnLFxuXHRcdFx0XHRiYXNlVVJMOiBlbmRwb2ludCxcblx0XHRcdFx0dGltZW91dDogdGhpcy50aW1lb3V0LFxuXHRcdFx0XHRtYXhSZXRyaWVzOiAwXG5cdFx0XHR9O1xuXHRcdFx0aWYgKCFwYXJhbXMuYmFzZVVSTCkgZGVsZXRlIHBhcmFtcy5iYXNlVVJMO1xuXHRcdFx0cGFyYW1zLmRlZmF1bHRIZWFkZXJzID0gZ2V0SGVhZGVyc1dpdGhVc2VyQWdlbnQocGFyYW1zLmRlZmF1bHRIZWFkZXJzKTtcblx0XHRcdHRoaXMuY2xpZW50ID0gbmV3IE9wZW5BSSQxKHBhcmFtcyk7XG5cdFx0fVxuXHRcdGNvbnN0IHJlcXVlc3RPcHRpb25zID0ge1xuXHRcdFx0Li4udGhpcy5jbGllbnRDb25maWcsXG5cdFx0XHQuLi5vcHRpb25zXG5cdFx0fTtcblx0XHRyZXR1cm4gcmVxdWVzdE9wdGlvbnM7XG5cdH1cblx0X2NvbnZlcnRDaGF0T3BlbkFJVG9vbFRvQ29tcGxldGlvbnNUb29sKHRvb2wsIGZpZWxkcykge1xuXHRcdGlmIChpc0N1c3RvbVRvb2wodG9vbCkpIHJldHVybiBjb252ZXJ0UmVzcG9uc2VzQ3VzdG9tVG9vbCh0b29sLm1ldGFkYXRhLmN1c3RvbVRvb2wpO1xuXHRcdGlmIChpc09wZW5BSVRvb2wodG9vbCkpIHtcblx0XHRcdGlmIChmaWVsZHM/LnN0cmljdCAhPT0gdm9pZCAwKSByZXR1cm4ge1xuXHRcdFx0XHQuLi50b29sLFxuXHRcdFx0XHRmdW5jdGlvbjoge1xuXHRcdFx0XHRcdC4uLnRvb2wuZnVuY3Rpb24sXG5cdFx0XHRcdFx0c3RyaWN0OiBmaWVsZHMuc3RyaWN0XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHRyZXR1cm4gdG9vbDtcblx0XHR9XG5cdFx0cmV0dXJuIF9jb252ZXJ0VG9PcGVuQUlUb29sKHRvb2wsIGZpZWxkcyk7XG5cdH1cblx0YmluZFRvb2xzKHRvb2xzLCBrd2FyZ3MpIHtcblx0XHRsZXQgc3RyaWN0O1xuXHRcdGlmIChrd2FyZ3M/LnN0cmljdCAhPT0gdm9pZCAwKSBzdHJpY3QgPSBrd2FyZ3Muc3RyaWN0O1xuXHRcdGVsc2UgaWYgKHRoaXMuc3VwcG9ydHNTdHJpY3RUb29sQ2FsbGluZyAhPT0gdm9pZCAwKSBzdHJpY3QgPSB0aGlzLnN1cHBvcnRzU3RyaWN0VG9vbENhbGxpbmc7XG5cdFx0cmV0dXJuIHRoaXMud2l0aENvbmZpZyh7XG5cdFx0XHR0b29sczogdG9vbHMubWFwKCh0b29sKSA9PiB7XG5cdFx0XHRcdGlmIChpc0J1aWx0SW5Ub29sKHRvb2wpIHx8IGlzQ3VzdG9tVG9vbCh0b29sKSkgcmV0dXJuIHRvb2w7XG5cdFx0XHRcdGlmIChoYXNQcm92aWRlclRvb2xEZWZpbml0aW9uKHRvb2wpKSByZXR1cm4gdG9vbC5leHRyYXMucHJvdmlkZXJUb29sRGVmaW5pdGlvbjtcblx0XHRcdFx0cmV0dXJuIHRoaXMuX2NvbnZlcnRDaGF0T3BlbkFJVG9vbFRvQ29tcGxldGlvbnNUb29sKHRvb2wsIHsgc3RyaWN0IH0pO1xuXHRcdFx0fSksXG5cdFx0XHQuLi5rd2FyZ3Ncblx0XHR9KTtcblx0fVxuXHRhc3luYyBzdHJlYW0oaW5wdXQsIG9wdGlvbnMpIHtcblx0XHRyZXR1cm4gc3VwZXIuc3RyZWFtKGlucHV0LCB0aGlzLl9jb21iaW5lQ2FsbE9wdGlvbnMob3B0aW9ucykpO1xuXHR9XG5cdGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuXHRcdHJldHVybiBzdXBlci5pbnZva2UoaW5wdXQsIHRoaXMuX2NvbWJpbmVDYWxsT3B0aW9ucyhvcHRpb25zKSk7XG5cdH1cblx0LyoqIEBpZ25vcmUgKi9cblx0X2NvbWJpbmVMTE1PdXRwdXQoLi4ubGxtT3V0cHV0cykge1xuXHRcdHJldHVybiBsbG1PdXRwdXRzLnJlZHVjZSgoYWNjLCBsbG1PdXRwdXQpID0+IHtcblx0XHRcdGlmIChsbG1PdXRwdXQgJiYgbGxtT3V0cHV0LnRva2VuVXNhZ2UpIHtcblx0XHRcdFx0YWNjLnRva2VuVXNhZ2UuY29tcGxldGlvblRva2VucyArPSBsbG1PdXRwdXQudG9rZW5Vc2FnZS5jb21wbGV0aW9uVG9rZW5zID8/IDA7XG5cdFx0XHRcdGFjYy50b2tlblVzYWdlLnByb21wdFRva2VucyArPSBsbG1PdXRwdXQudG9rZW5Vc2FnZS5wcm9tcHRUb2tlbnMgPz8gMDtcblx0XHRcdFx0YWNjLnRva2VuVXNhZ2UudG90YWxUb2tlbnMgKz0gbGxtT3V0cHV0LnRva2VuVXNhZ2UudG90YWxUb2tlbnMgPz8gMDtcblx0XHRcdH1cblx0XHRcdHJldHVybiBhY2M7XG5cdFx0fSwgeyB0b2tlblVzYWdlOiB7XG5cdFx0XHRjb21wbGV0aW9uVG9rZW5zOiAwLFxuXHRcdFx0cHJvbXB0VG9rZW5zOiAwLFxuXHRcdFx0dG90YWxUb2tlbnM6IDBcblx0XHR9IH0pO1xuXHR9XG5cdGFzeW5jIGdldE51bVRva2Vuc0Zyb21NZXNzYWdlcyhtZXNzYWdlcykge1xuXHRcdGxldCB0b3RhbENvdW50ID0gMDtcblx0XHRsZXQgdG9rZW5zUGVyTWVzc2FnZSA9IDA7XG5cdFx0bGV0IHRva2Vuc1Blck5hbWUgPSAwO1xuXHRcdGlmICh0aGlzLm1vZGVsID09PSBcImdwdC0zLjUtdHVyYm8tMDMwMVwiKSB7XG5cdFx0XHR0b2tlbnNQZXJNZXNzYWdlID0gNDtcblx0XHRcdHRva2Vuc1Blck5hbWUgPSAtMTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dG9rZW5zUGVyTWVzc2FnZSA9IDM7XG5cdFx0XHR0b2tlbnNQZXJOYW1lID0gMTtcblx0XHR9XG5cdFx0Y29uc3QgY291bnRQZXJNZXNzYWdlID0gYXdhaXQgUHJvbWlzZS5hbGwobWVzc2FnZXMubWFwKGFzeW5jIChtZXNzYWdlKSA9PiB7XG5cdFx0XHRjb25zdCBbdGV4dENvdW50LCByb2xlQ291bnRdID0gYXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMuZ2V0TnVtVG9rZW5zKG1lc3NhZ2UuY29udGVudCksIHRoaXMuZ2V0TnVtVG9rZW5zKG1lc3NhZ2VUb09wZW5BSVJvbGUobWVzc2FnZSkpXSk7XG5cdFx0XHRjb25zdCBuYW1lQ291bnQgPSBtZXNzYWdlLm5hbWUgIT09IHZvaWQgMCA/IHRva2Vuc1Blck5hbWUgKyBhd2FpdCB0aGlzLmdldE51bVRva2VucyhtZXNzYWdlLm5hbWUpIDogMDtcblx0XHRcdGxldCBjb3VudCA9IHRleHRDb3VudCArIHRva2Vuc1Blck1lc3NhZ2UgKyByb2xlQ291bnQgKyBuYW1lQ291bnQ7XG5cdFx0XHRjb25zdCBvcGVuQUlNZXNzYWdlID0gbWVzc2FnZTtcblx0XHRcdGlmIChvcGVuQUlNZXNzYWdlLl9nZXRUeXBlKCkgPT09IFwiZnVuY3Rpb25cIikgY291bnQgLT0gMjtcblx0XHRcdGlmIChvcGVuQUlNZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzPy5mdW5jdGlvbl9jYWxsKSBjb3VudCArPSAzO1xuXHRcdFx0aWYgKG9wZW5BSU1lc3NhZ2U/LmFkZGl0aW9uYWxfa3dhcmdzLmZ1bmN0aW9uX2NhbGw/Lm5hbWUpIGNvdW50ICs9IGF3YWl0IHRoaXMuZ2V0TnVtVG9rZW5zKG9wZW5BSU1lc3NhZ2UuYWRkaXRpb25hbF9rd2FyZ3MuZnVuY3Rpb25fY2FsbD8ubmFtZSk7XG5cdFx0XHRpZiAob3BlbkFJTWVzc2FnZS5hZGRpdGlvbmFsX2t3YXJncy5mdW5jdGlvbl9jYWxsPy5hcmd1bWVudHMpIHRyeSB7XG5cdFx0XHRcdGNvdW50ICs9IGF3YWl0IHRoaXMuZ2V0TnVtVG9rZW5zKEpTT04uc3RyaW5naWZ5KEpTT04ucGFyc2Uob3BlbkFJTWVzc2FnZS5hZGRpdGlvbmFsX2t3YXJncy5mdW5jdGlvbl9jYWxsPy5hcmd1bWVudHMpKSk7XG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKFwiRXJyb3IgcGFyc2luZyBmdW5jdGlvbiBhcmd1bWVudHNcIiwgZXJyb3IsIEpTT04uc3RyaW5naWZ5KG9wZW5BSU1lc3NhZ2UuYWRkaXRpb25hbF9rd2FyZ3MuZnVuY3Rpb25fY2FsbCkpO1xuXHRcdFx0XHRjb3VudCArPSBhd2FpdCB0aGlzLmdldE51bVRva2VucyhvcGVuQUlNZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzLmZ1bmN0aW9uX2NhbGw/LmFyZ3VtZW50cyk7XG5cdFx0XHR9XG5cdFx0XHR0b3RhbENvdW50ICs9IGNvdW50O1xuXHRcdFx0cmV0dXJuIGNvdW50O1xuXHRcdH0pKTtcblx0XHR0b3RhbENvdW50ICs9IDM7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHRvdGFsQ291bnQsXG5cdFx0XHRjb3VudFBlck1lc3NhZ2Vcblx0XHR9O1xuXHR9XG5cdC8qKiBAaW50ZXJuYWwgKi9cblx0YXN5bmMgX2dldE51bVRva2Vuc0Zyb21HZW5lcmF0aW9ucyhnZW5lcmF0aW9ucykge1xuXHRcdGNvbnN0IGdlbmVyYXRpb25Vc2FnZXMgPSBhd2FpdCBQcm9taXNlLmFsbChnZW5lcmF0aW9ucy5tYXAoYXN5bmMgKGdlbmVyYXRpb24pID0+IHtcblx0XHRcdGlmIChnZW5lcmF0aW9uLm1lc3NhZ2UuYWRkaXRpb25hbF9rd2FyZ3M/LmZ1bmN0aW9uX2NhbGwpIHJldHVybiAoYXdhaXQgdGhpcy5nZXROdW1Ub2tlbnNGcm9tTWVzc2FnZXMoW2dlbmVyYXRpb24ubWVzc2FnZV0pKS5jb3VudFBlck1lc3NhZ2VbMF07XG5cdFx0XHRlbHNlIHJldHVybiBhd2FpdCB0aGlzLmdldE51bVRva2VucyhnZW5lcmF0aW9uLm1lc3NhZ2UuY29udGVudCk7XG5cdFx0fSkpO1xuXHRcdHJldHVybiBnZW5lcmF0aW9uVXNhZ2VzLnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApO1xuXHR9XG5cdC8qKiBAaW50ZXJuYWwgKi9cblx0YXN5bmMgX2dldEVzdGltYXRlZFRva2VuQ291bnRGcm9tUHJvbXB0KG1lc3NhZ2VzLCBmdW5jdGlvbnMsIGZ1bmN0aW9uX2NhbGwpIHtcblx0XHRsZXQgdG9rZW5zID0gKGF3YWl0IHRoaXMuZ2V0TnVtVG9rZW5zRnJvbU1lc3NhZ2VzKG1lc3NhZ2VzKSkudG90YWxDb3VudDtcblx0XHRpZiAoZnVuY3Rpb25zICYmIGZ1bmN0aW9uX2NhbGwgIT09IFwiYXV0b1wiKSB7XG5cdFx0XHRjb25zdCBwcm9tcHREZWZpbml0aW9ucyA9IGZvcm1hdEZ1bmN0aW9uRGVmaW5pdGlvbnMoZnVuY3Rpb25zKTtcblx0XHRcdHRva2VucyArPSBhd2FpdCB0aGlzLmdldE51bVRva2Vucyhwcm9tcHREZWZpbml0aW9ucyk7XG5cdFx0XHR0b2tlbnMgKz0gOTtcblx0XHR9XG5cdFx0aWYgKGZ1bmN0aW9ucyAmJiBtZXNzYWdlcy5maW5kKChtKSA9PiBtLl9nZXRUeXBlKCkgPT09IFwic3lzdGVtXCIpKSB0b2tlbnMgLT0gNDtcblx0XHRpZiAoZnVuY3Rpb25fY2FsbCA9PT0gXCJub25lXCIpIHRva2VucyArPSAxO1xuXHRcdGVsc2UgaWYgKHR5cGVvZiBmdW5jdGlvbl9jYWxsID09PSBcIm9iamVjdFwiKSB0b2tlbnMgKz0gYXdhaXQgdGhpcy5nZXROdW1Ub2tlbnMoZnVuY3Rpb25fY2FsbC5uYW1lKSArIDQ7XG5cdFx0cmV0dXJuIHRva2Vucztcblx0fVxuXHQvKipcblx0KiBNb2RlcmF0ZSBjb250ZW50IHVzaW5nIE9wZW5BSSdzIE1vZGVyYXRpb24gQVBJLlxuXHQqXG5cdCogVGhpcyBtZXRob2QgY2hlY2tzIHdoZXRoZXIgY29udGVudCB2aW9sYXRlcyBPcGVuQUkncyBjb250ZW50IHBvbGljeSBieVxuXHQqIGFuYWx5emluZyB0ZXh0IGZvciBjYXRlZ29yaWVzIHN1Y2ggYXMgaGF0ZSwgaGFyYXNzbWVudCwgc2VsZi1oYXJtLFxuXHQqIHNleHVhbCBjb250ZW50LCB2aW9sZW5jZSwgYW5kIG1vcmUuXG5cdCpcblx0KiBAcGFyYW0gaW5wdXQgLSBUaGUgdGV4dCBvciBhcnJheSBvZiB0ZXh0cyB0byBtb2RlcmF0ZVxuXHQqIEBwYXJhbSBwYXJhbXMgLSBPcHRpb25hbCBwYXJhbWV0ZXJzIGZvciB0aGUgbW9kZXJhdGlvbiByZXF1ZXN0XG5cdCogQHBhcmFtIHBhcmFtcy5tb2RlbCAtIFRoZSBtb2RlcmF0aW9uIG1vZGVsIHRvIHVzZS4gRGVmYXVsdHMgdG8gXCJvbW5pLW1vZGVyYXRpb24tbGF0ZXN0XCIuXG5cdCogQHBhcmFtIHBhcmFtcy5vcHRpb25zIC0gQWRkaXRpb25hbCBvcHRpb25zIHRvIHBhc3MgdG8gdGhlIHVuZGVybHlpbmcgcmVxdWVzdFxuXHQqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSBtb2RlcmF0aW9uIHJlc3BvbnNlIGNvbnRhaW5pbmcgcmVzdWx0cyBmb3IgZWFjaCBpbnB1dFxuXHQqXG5cdCogQGV4YW1wbGVcblx0KiBgYGB0eXBlc2NyaXB0XG5cdCogY29uc3QgbW9kZWwgPSBuZXcgQ2hhdE9wZW5BSSh7IG1vZGVsOiBcImdwdC00by1taW5pXCIgfSk7XG5cdCpcblx0KiAvLyBNb2RlcmF0ZSBhIHNpbmdsZSB0ZXh0XG5cdCogY29uc3QgcmVzdWx0ID0gYXdhaXQgbW9kZWwubW9kZXJhdGVDb250ZW50KFwiVGhpcyBpcyBhIHRlc3QgbWVzc2FnZVwiKTtcblx0KiBjb25zb2xlLmxvZyhyZXN1bHQucmVzdWx0c1swXS5mbGFnZ2VkKTsgLy8gZmFsc2Vcblx0KiBjb25zb2xlLmxvZyhyZXN1bHQucmVzdWx0c1swXS5jYXRlZ29yaWVzKTsgLy8geyBoYXRlOiBmYWxzZSwgaGFyYXNzbWVudDogZmFsc2UsIC4uLiB9XG5cdCpcblx0KiAvLyBNb2RlcmF0ZSBtdWx0aXBsZSB0ZXh0c1xuXHQqIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBtb2RlbC5tb2RlcmF0ZUNvbnRlbnQoW1xuXHQqICAgXCJIZWxsbywgaG93IGFyZSB5b3U/XCIsXG5cdCogICBcIlRoaXMgaXMgaW5hcHByb3ByaWF0ZSBjb250ZW50XCJcblx0KiBdKTtcblx0KiByZXN1bHRzLnJlc3VsdHMuZm9yRWFjaCgocmVzdWx0LCBpbmRleCkgPT4ge1xuXHQqICAgY29uc29sZS5sb2coYFRleHQgJHtpbmRleCArIDF9IGZsYWdnZWQ6YCwgcmVzdWx0LmZsYWdnZWQpO1xuXHQqIH0pO1xuXHQqXG5cdCogLy8gVXNlIGEgc3BlY2lmaWMgbW9kZXJhdGlvbiBtb2RlbFxuXHQqIGNvbnN0IHN0YWJsZVJlc3VsdCA9IGF3YWl0IG1vZGVsLm1vZGVyYXRlQ29udGVudChcblx0KiAgIFwiVGVzdCBjb250ZW50XCIsXG5cdCogICB7IG1vZGVsOiBcIm9tbmktbW9kZXJhdGlvbi1sYXRlc3RcIiB9XG5cdCogKTtcblx0KiBgYGBcblx0Ki9cblx0YXN5bmMgbW9kZXJhdGVDb250ZW50KGlucHV0LCBwYXJhbXMpIHtcblx0XHRjb25zdCBjbGllbnRPcHRpb25zID0gdGhpcy5fZ2V0Q2xpZW50T3B0aW9ucyhwYXJhbXM/Lm9wdGlvbnMpO1xuXHRcdGNvbnN0IG1vZGVyYXRpb25Nb2RlbCA9IHBhcmFtcz8ubW9kZWwgPz8gXCJvbW5pLW1vZGVyYXRpb24tbGF0ZXN0XCI7XG5cdFx0Y29uc3QgbW9kZXJhdGlvblJlcXVlc3QgPSB7XG5cdFx0XHRpbnB1dCxcblx0XHRcdG1vZGVsOiBtb2RlcmF0aW9uTW9kZWxcblx0XHR9O1xuXHRcdHJldHVybiB0aGlzLmNhbGxlci5jYWxsKGFzeW5jICgpID0+IHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jbGllbnQubW9kZXJhdGlvbnMuY3JlYXRlKG1vZGVyYXRpb25SZXF1ZXN0LCBjbGllbnRPcHRpb25zKTtcblx0XHRcdFx0cmV0dXJuIHJlc3BvbnNlO1xuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRjb25zdCBlcnJvciA9IHdyYXBPcGVuQUlDbGllbnRFcnJvcihlKTtcblx0XHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblx0LyoqXG5cdCogUmV0dXJuIHByb2ZpbGluZyBpbmZvcm1hdGlvbiBmb3IgdGhlIG1vZGVsLlxuXHQqXG5cdCogUHJvdmlkZXMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG1vZGVsJ3MgY2FwYWJpbGl0aWVzIGFuZCBjb25zdHJhaW50cyxcblx0KiBpbmNsdWRpbmcgdG9rZW4gbGltaXRzLCBtdWx0aW1vZGFsIHN1cHBvcnQsIGFuZCBhZHZhbmNlZCBmZWF0dXJlcyBsaWtlXG5cdCogdG9vbCBjYWxsaW5nIGFuZCBzdHJ1Y3R1cmVkIG91dHB1dC5cblx0KlxuXHQqIEByZXR1cm5zIHtNb2RlbFByb2ZpbGV9IEFuIG9iamVjdCBkZXNjcmliaW5nIHRoZSBtb2RlbCdzIGNhcGFiaWxpdGllcyBhbmQgY29uc3RyYWludHNcblx0KlxuXHQqIEBleGFtcGxlXG5cdCogYGBgdHlwZXNjcmlwdFxuXHQqIGNvbnN0IG1vZGVsID0gbmV3IENoYXRPcGVuQUkoeyBtb2RlbDogXCJncHQtNG9cIiB9KTtcblx0KiBjb25zdCBwcm9maWxlID0gbW9kZWwucHJvZmlsZTtcblx0KiBjb25zb2xlLmxvZyhwcm9maWxlLm1heElucHV0VG9rZW5zKTsgLy8gMTI4MDAwXG5cdCogY29uc29sZS5sb2cocHJvZmlsZS5pbWFnZUlucHV0cyk7IC8vIHRydWVcblx0KiBgYGBcblx0Ki9cblx0Z2V0IHByb2ZpbGUoKSB7XG5cdFx0cmV0dXJuIHByb2ZpbGVzX2RlZmF1bHRbdGhpcy5tb2RlbF0gPz8ge307XG5cdH1cblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRfZ2V0U3RydWN0dXJlZE91dHB1dE1ldGhvZChjb25maWcpIHtcblx0XHRjb25zdCBlbnN1cmVkQ29uZmlnID0geyAuLi5jb25maWcgfTtcblx0XHRpZiAoIXRoaXMubW9kZWwuc3RhcnRzV2l0aChcImdwdC0zXCIpICYmICF0aGlzLm1vZGVsLnN0YXJ0c1dpdGgoXCJncHQtNC1cIikgJiYgdGhpcy5tb2RlbCAhPT0gXCJncHQtNFwiKSB7XG5cdFx0XHRpZiAoZW5zdXJlZENvbmZpZz8ubWV0aG9kID09PSB2b2lkIDApIHJldHVybiBcImpzb25TY2hlbWFcIjtcblx0XHR9IGVsc2UgaWYgKGVuc3VyZWRDb25maWcubWV0aG9kID09PSBcImpzb25TY2hlbWFcIikgY29uc29sZS53YXJuKGBbV0FSTklOR106IEpTT04gU2NoZW1hIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIG1vZGVsIFwiJHt0aGlzLm1vZGVsfVwiLiBGYWxsaW5nIGJhY2sgdG8gdG9vbCBjYWxsaW5nLmApO1xuXHRcdHJldHVybiBlbnN1cmVkQ29uZmlnLm1ldGhvZDtcblx0fVxuXHQvKipcblx0KiBBZGQgc3RydWN0dXJlZCBvdXRwdXQgdG8gdGhlIG1vZGVsLlxuXHQqXG5cdCogVGhlIE9wZW5BSSBtb2RlbCBmYW1pbHkgc3VwcG9ydHMgdGhlIGZvbGxvd2luZyBzdHJ1Y3R1cmVkIG91dHB1dCBtZXRob2RzOlxuXHQqIC0gYGpzb25TY2hlbWFgOiBVc2UgdGhlIGByZXNwb25zZV9mb3JtYXRgIGZpZWxkIGluIHRoZSByZXNwb25zZSB0byByZXR1cm4gYSBKU09OIHNjaGVtYS4gT25seSBzdXBwb3J0ZWQgd2l0aCB0aGUgYGdwdC00by1taW5pYCxcblx0KiAgIGBncHQtNG8tbWluaS0yMDI0LTA3LTE4YCwgYW5kIGBncHQtNG8tMjAyNC0wOC0wNmAgbW9kZWwgc25hcHNob3RzIGFuZCBsYXRlci5cblx0KiAtIGBmdW5jdGlvbkNhbGxpbmdgOiBGdW5jdGlvbiBjYWxsaW5nIGlzIHVzZWZ1bCB3aGVuIHlvdSBhcmUgYnVpbGRpbmcgYW4gYXBwbGljYXRpb24gdGhhdCBicmlkZ2VzIHRoZSBtb2RlbHMgYW5kIGZ1bmN0aW9uYWxpdHlcblx0KiAgIG9mIHlvdXIgYXBwbGljYXRpb24uXG5cdCogLSBganNvbk1vZGVgOiBKU09OIG1vZGUgaXMgYSBtb3JlIGJhc2ljIHZlcnNpb24gb2YgdGhlIFN0cnVjdHVyZWQgT3V0cHV0cyBmZWF0dXJlLiBXaGlsZSBKU09OIG1vZGUgZW5zdXJlcyB0aGF0IG1vZGVsXG5cdCogICBvdXRwdXQgaXMgdmFsaWQgSlNPTiwgU3RydWN0dXJlZCBPdXRwdXRzIHJlbGlhYmx5IG1hdGNoZXMgdGhlIG1vZGVsJ3Mgb3V0cHV0IHRvIHRoZSBzY2hlbWEgeW91IHNwZWNpZnkuXG5cdCogICBXZSByZWNvbW1lbmQgeW91IHVzZSBgZnVuY3Rpb25DYWxsaW5nYCBvciBganNvblNjaGVtYWAgaWYgaXQgaXMgc3VwcG9ydGVkIGZvciB5b3VyIHVzZSBjYXNlLlxuXHQqXG5cdCogVGhlIGRlZmF1bHQgbWV0aG9kIGlzIGBmdW5jdGlvbkNhbGxpbmdgLlxuXHQqXG5cdCogQHNlZSBodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvc3RydWN0dXJlZC1vdXRwdXRzXG5cdCogQHBhcmFtIG91dHB1dFNjaGVtYSAtIFRoZSBzY2hlbWEgdG8gdXNlIGZvciBzdHJ1Y3R1cmVkIG91dHB1dC5cblx0KiBAcGFyYW0gY29uZmlnIC0gVGhlIHN0cnVjdHVyZWQgb3V0cHV0IG1ldGhvZCBvcHRpb25zLlxuXHQqIEByZXR1cm5zIFRoZSBtb2RlbCB3aXRoIHN0cnVjdHVyZWQgb3V0cHV0LlxuXHQqL1xuXHR3aXRoU3RydWN0dXJlZE91dHB1dChvdXRwdXRTY2hlbWEsIGNvbmZpZykge1xuXHRcdGxldCBsbG07XG5cdFx0bGV0IG91dHB1dFBhcnNlcjtcblx0XHRjb25zdCB7IHNjaGVtYSwgbmFtZSwgaW5jbHVkZVJhdyB9ID0ge1xuXHRcdFx0Li4uY29uZmlnLFxuXHRcdFx0c2NoZW1hOiBvdXRwdXRTY2hlbWFcblx0XHR9O1xuXHRcdGlmIChjb25maWc/LnN0cmljdCAhPT0gdm9pZCAwICYmIGNvbmZpZy5tZXRob2QgPT09IFwianNvbk1vZGVcIikgdGhyb3cgbmV3IEVycm9yKFwiQXJndW1lbnQgYHN0cmljdGAgaXMgb25seSBzdXBwb3J0ZWQgZm9yIGBtZXRob2RgID0gJ2Z1bmN0aW9uX2NhbGxpbmcnXCIpO1xuXHRcdGNvbnN0IG1ldGhvZCA9IGdldFN0cnVjdHVyZWRPdXRwdXRNZXRob2QodGhpcy5tb2RlbCwgY29uZmlnPy5tZXRob2QpO1xuXHRcdGlmIChtZXRob2QgPT09IFwianNvbk1vZGVcIikge1xuXHRcdFx0aWYgKGlzSW50ZXJvcFpvZFNjaGVtYShzY2hlbWEpKSBvdXRwdXRQYXJzZXIgPSBTdHJ1Y3R1cmVkT3V0cHV0UGFyc2VyLmZyb21ab2RTY2hlbWEoc2NoZW1hKTtcblx0XHRcdGVsc2Ugb3V0cHV0UGFyc2VyID0gbmV3IEpzb25PdXRwdXRQYXJzZXIoKTtcblx0XHRcdGNvbnN0IGFzSnNvblNjaGVtYSA9IHRvSnNvblNjaGVtYShzY2hlbWEpO1xuXHRcdFx0bGxtID0gdGhpcy53aXRoQ29uZmlnKHtcblx0XHRcdFx0b3V0cHV0VmVyc2lvbjogXCJ2MFwiLFxuXHRcdFx0XHRyZXNwb25zZV9mb3JtYXQ6IHsgdHlwZTogXCJqc29uX29iamVjdFwiIH0sXG5cdFx0XHRcdGxzX3N0cnVjdHVyZWRfb3V0cHV0X2Zvcm1hdDoge1xuXHRcdFx0XHRcdGt3YXJnczogeyBtZXRob2Q6IFwianNvbl9tb2RlXCIgfSxcblx0XHRcdFx0XHRzY2hlbWE6IHtcblx0XHRcdFx0XHRcdHRpdGxlOiBuYW1lID8/IFwiZXh0cmFjdFwiLFxuXHRcdFx0XHRcdFx0Li4uYXNKc29uU2NoZW1hXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9IGVsc2UgaWYgKG1ldGhvZCA9PT0gXCJqc29uU2NoZW1hXCIpIHtcblx0XHRcdGNvbnN0IG9wZW5haUpzb25TY2hlbWFQYXJhbXMgPSB7XG5cdFx0XHRcdG5hbWU6IG5hbWUgPz8gXCJleHRyYWN0XCIsXG5cdFx0XHRcdGRlc2NyaXB0aW9uOiBnZXRTY2hlbWFEZXNjcmlwdGlvbihzY2hlbWEpLFxuXHRcdFx0XHRzY2hlbWEsXG5cdFx0XHRcdHN0cmljdDogY29uZmlnPy5zdHJpY3Rcblx0XHRcdH07XG5cdFx0XHRjb25zdCBhc0pzb25TY2hlbWEgPSB0b0pzb25TY2hlbWEob3BlbmFpSnNvblNjaGVtYVBhcmFtcy5zY2hlbWEpO1xuXHRcdFx0bGxtID0gdGhpcy53aXRoQ29uZmlnKHtcblx0XHRcdFx0b3V0cHV0VmVyc2lvbjogXCJ2MFwiLFxuXHRcdFx0XHRyZXNwb25zZV9mb3JtYXQ6IHtcblx0XHRcdFx0XHR0eXBlOiBcImpzb25fc2NoZW1hXCIsXG5cdFx0XHRcdFx0anNvbl9zY2hlbWE6IG9wZW5haUpzb25TY2hlbWFQYXJhbXNcblx0XHRcdFx0fSxcblx0XHRcdFx0bHNfc3RydWN0dXJlZF9vdXRwdXRfZm9ybWF0OiB7XG5cdFx0XHRcdFx0a3dhcmdzOiB7IG1ldGhvZDogXCJqc29uX3NjaGVtYVwiIH0sXG5cdFx0XHRcdFx0c2NoZW1hOiB7XG5cdFx0XHRcdFx0XHR0aXRsZTogb3BlbmFpSnNvblNjaGVtYVBhcmFtcy5uYW1lLFxuXHRcdFx0XHRcdFx0ZGVzY3JpcHRpb246IG9wZW5haUpzb25TY2hlbWFQYXJhbXMuZGVzY3JpcHRpb24sXG5cdFx0XHRcdFx0XHQuLi5hc0pzb25TY2hlbWFcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0aWYgKGlzSW50ZXJvcFpvZFNjaGVtYShzY2hlbWEpKSB7XG5cdFx0XHRcdGNvbnN0IGFsdFBhcnNlciA9IFN0cnVjdHVyZWRPdXRwdXRQYXJzZXIuZnJvbVpvZFNjaGVtYShzY2hlbWEpO1xuXHRcdFx0XHRvdXRwdXRQYXJzZXIgPSBSdW5uYWJsZUxhbWJkYS5mcm9tKChhaU1lc3NhZ2UpID0+IHtcblx0XHRcdFx0XHRpZiAoXCJwYXJzZWRcIiBpbiBhaU1lc3NhZ2UuYWRkaXRpb25hbF9rd2FyZ3MpIHJldHVybiBhaU1lc3NhZ2UuYWRkaXRpb25hbF9rd2FyZ3MucGFyc2VkO1xuXHRcdFx0XHRcdHJldHVybiBhbHRQYXJzZXI7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIG91dHB1dFBhcnNlciA9IG5ldyBKc29uT3V0cHV0UGFyc2VyKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGxldCBmdW5jdGlvbk5hbWUgPSBuYW1lID8/IFwiZXh0cmFjdFwiO1xuXHRcdFx0aWYgKGlzSW50ZXJvcFpvZFNjaGVtYShzY2hlbWEpKSB7XG5cdFx0XHRcdGNvbnN0IGFzSnNvblNjaGVtYSA9IHRvSnNvblNjaGVtYShzY2hlbWEpO1xuXHRcdFx0XHRsbG0gPSB0aGlzLndpdGhDb25maWcoe1xuXHRcdFx0XHRcdG91dHB1dFZlcnNpb246IFwidjBcIixcblx0XHRcdFx0XHR0b29sczogW3tcblx0XHRcdFx0XHRcdHR5cGU6IFwiZnVuY3Rpb25cIixcblx0XHRcdFx0XHRcdGZ1bmN0aW9uOiB7XG5cdFx0XHRcdFx0XHRcdG5hbWU6IGZ1bmN0aW9uTmFtZSxcblx0XHRcdFx0XHRcdFx0ZGVzY3JpcHRpb246IGFzSnNvblNjaGVtYS5kZXNjcmlwdGlvbixcblx0XHRcdFx0XHRcdFx0cGFyYW1ldGVyczogYXNKc29uU2NoZW1hXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fV0sXG5cdFx0XHRcdFx0dG9vbF9jaG9pY2U6IHtcblx0XHRcdFx0XHRcdHR5cGU6IFwiZnVuY3Rpb25cIixcblx0XHRcdFx0XHRcdGZ1bmN0aW9uOiB7IG5hbWU6IGZ1bmN0aW9uTmFtZSB9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRsc19zdHJ1Y3R1cmVkX291dHB1dF9mb3JtYXQ6IHtcblx0XHRcdFx0XHRcdGt3YXJnczogeyBtZXRob2Q6IFwiZnVuY3Rpb25fY2FsbGluZ1wiIH0sXG5cdFx0XHRcdFx0XHRzY2hlbWE6IHtcblx0XHRcdFx0XHRcdFx0dGl0bGU6IGZ1bmN0aW9uTmFtZSxcblx0XHRcdFx0XHRcdFx0Li4uYXNKc29uU2NoZW1hXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHQuLi5jb25maWc/LnN0cmljdCAhPT0gdm9pZCAwID8geyBzdHJpY3Q6IGNvbmZpZy5zdHJpY3QgfSA6IHt9XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRvdXRwdXRQYXJzZXIgPSBuZXcgSnNvbk91dHB1dEtleVRvb2xzUGFyc2VyKHtcblx0XHRcdFx0XHRyZXR1cm5TaW5nbGU6IHRydWUsXG5cdFx0XHRcdFx0a2V5TmFtZTogZnVuY3Rpb25OYW1lLFxuXHRcdFx0XHRcdHpvZFNjaGVtYTogc2NoZW1hXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bGV0IG9wZW5BSUZ1bmN0aW9uRGVmaW5pdGlvbjtcblx0XHRcdFx0aWYgKHR5cGVvZiBzY2hlbWEubmFtZSA9PT0gXCJzdHJpbmdcIiAmJiB0eXBlb2Ygc2NoZW1hLnBhcmFtZXRlcnMgPT09IFwib2JqZWN0XCIgJiYgc2NoZW1hLnBhcmFtZXRlcnMgIT0gbnVsbCkge1xuXHRcdFx0XHRcdG9wZW5BSUZ1bmN0aW9uRGVmaW5pdGlvbiA9IHNjaGVtYTtcblx0XHRcdFx0XHRmdW5jdGlvbk5hbWUgPSBzY2hlbWEubmFtZTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRmdW5jdGlvbk5hbWUgPSBzY2hlbWEudGl0bGUgPz8gZnVuY3Rpb25OYW1lO1xuXHRcdFx0XHRcdG9wZW5BSUZ1bmN0aW9uRGVmaW5pdGlvbiA9IHtcblx0XHRcdFx0XHRcdG5hbWU6IGZ1bmN0aW9uTmFtZSxcblx0XHRcdFx0XHRcdGRlc2NyaXB0aW9uOiBzY2hlbWEuZGVzY3JpcHRpb24gPz8gXCJcIixcblx0XHRcdFx0XHRcdHBhcmFtZXRlcnM6IHNjaGVtYVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29uc3QgYXNKc29uU2NoZW1hID0gdG9Kc29uU2NoZW1hKHNjaGVtYSk7XG5cdFx0XHRcdGxsbSA9IHRoaXMud2l0aENvbmZpZyh7XG5cdFx0XHRcdFx0b3V0cHV0VmVyc2lvbjogXCJ2MFwiLFxuXHRcdFx0XHRcdHRvb2xzOiBbe1xuXHRcdFx0XHRcdFx0dHlwZTogXCJmdW5jdGlvblwiLFxuXHRcdFx0XHRcdFx0ZnVuY3Rpb246IG9wZW5BSUZ1bmN0aW9uRGVmaW5pdGlvblxuXHRcdFx0XHRcdH1dLFxuXHRcdFx0XHRcdHRvb2xfY2hvaWNlOiB7XG5cdFx0XHRcdFx0XHR0eXBlOiBcImZ1bmN0aW9uXCIsXG5cdFx0XHRcdFx0XHRmdW5jdGlvbjogeyBuYW1lOiBmdW5jdGlvbk5hbWUgfVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0bHNfc3RydWN0dXJlZF9vdXRwdXRfZm9ybWF0OiB7XG5cdFx0XHRcdFx0XHRrd2FyZ3M6IHsgbWV0aG9kOiBcImZ1bmN0aW9uX2NhbGxpbmdcIiB9LFxuXHRcdFx0XHRcdFx0c2NoZW1hOiB7XG5cdFx0XHRcdFx0XHRcdHRpdGxlOiBmdW5jdGlvbk5hbWUsXG5cdFx0XHRcdFx0XHRcdC4uLmFzSnNvblNjaGVtYVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0Li4uY29uZmlnPy5zdHJpY3QgIT09IHZvaWQgMCA/IHsgc3RyaWN0OiBjb25maWcuc3RyaWN0IH0gOiB7fVxuXHRcdFx0XHR9KTtcblx0XHRcdFx0b3V0cHV0UGFyc2VyID0gbmV3IEpzb25PdXRwdXRLZXlUb29sc1BhcnNlcih7XG5cdFx0XHRcdFx0cmV0dXJuU2luZ2xlOiB0cnVlLFxuXHRcdFx0XHRcdGtleU5hbWU6IGZ1bmN0aW9uTmFtZVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKCFpbmNsdWRlUmF3KSByZXR1cm4gbGxtLnBpcGUob3V0cHV0UGFyc2VyKTtcblx0XHRjb25zdCBwYXJzZXJBc3NpZ24gPSBSdW5uYWJsZVBhc3N0aHJvdWdoLmFzc2lnbih7IHBhcnNlZDogKGlucHV0LCBjb25maWckMSkgPT4gb3V0cHV0UGFyc2VyLmludm9rZShpbnB1dC5yYXcsIGNvbmZpZyQxKSB9KTtcblx0XHRjb25zdCBwYXJzZXJOb25lID0gUnVubmFibGVQYXNzdGhyb3VnaC5hc3NpZ24oeyBwYXJzZWQ6ICgpID0+IG51bGwgfSk7XG5cdFx0Y29uc3QgcGFyc2VkV2l0aEZhbGxiYWNrID0gcGFyc2VyQXNzaWduLndpdGhGYWxsYmFja3MoeyBmYWxsYmFja3M6IFtwYXJzZXJOb25lXSB9KTtcblx0XHRyZXR1cm4gUnVubmFibGVTZXF1ZW5jZS5mcm9tKFt7IHJhdzogbGxtIH0sIHBhcnNlZFdpdGhGYWxsYmFja10pO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEJhc2VDaGF0T3BlbkFJIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iYXNlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/chat_models/base.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/chat_models/completions.js":
/*!*****************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/chat_models/completions.js ***!
  \*****************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatOpenAICompletions: () => (/* binding */ ChatOpenAICompletions)\n/* harmony export */ });\n/* harmony import */ var _utils_client_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/client.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/client.js\");\n/* harmony import */ var _utils_tools_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/tools.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/tools.js\");\n/* harmony import */ var _utils_misc_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/misc.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/misc.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/chat_models/base.js\");\n/* harmony import */ var _converters_completions_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../converters/completions.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/converters/completions.js\");\n/* harmony import */ var _langchain_core_messages__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @langchain/core/messages */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/index.js\");\n/* harmony import */ var _langchain_core_outputs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @langchain/core/outputs */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/outputs.js\");\n\n\n\n\n\n\n\n\n//#region src/chat_models/completions.ts\n/**\n* OpenAI Completions API implementation.\n* @internal\n*/\nvar ChatOpenAICompletions = class extends _base_js__WEBPACK_IMPORTED_MODULE_3__.BaseChatOpenAI {\n\t/** @internal */\n\tinvocationParams(options, extra) {\n\t\tlet strict;\n\t\tif (options?.strict !== void 0) strict = options.strict;\n\t\telse if (this.supportsStrictToolCalling !== void 0) strict = this.supportsStrictToolCalling;\n\t\tlet streamOptionsConfig = {};\n\t\tif (options?.stream_options !== void 0) streamOptionsConfig = { stream_options: options.stream_options };\n\t\telse if (this.streamUsage && (this.streaming || extra?.streaming)) streamOptionsConfig = { stream_options: { include_usage: true } };\n\t\tconst params = {\n\t\t\tmodel: this.model,\n\t\t\ttemperature: this.temperature,\n\t\t\ttop_p: this.topP,\n\t\t\tfrequency_penalty: this.frequencyPenalty,\n\t\t\tpresence_penalty: this.presencePenalty,\n\t\t\tlogprobs: this.logprobs,\n\t\t\ttop_logprobs: this.topLogprobs,\n\t\t\tn: this.n,\n\t\t\tlogit_bias: this.logitBias,\n\t\t\tstop: options?.stop ?? this.stopSequences,\n\t\t\tuser: this.user,\n\t\t\tstream: this.streaming,\n\t\t\tfunctions: options?.functions,\n\t\t\tfunction_call: options?.function_call,\n\t\t\ttools: options?.tools?.length ? options.tools.map((tool) => this._convertChatOpenAIToolToCompletionsTool(tool, { strict })) : void 0,\n\t\t\ttool_choice: (0,_utils_tools_js__WEBPACK_IMPORTED_MODULE_1__.formatToOpenAIToolChoice)(options?.tool_choice),\n\t\t\tresponse_format: this._getResponseFormat(options?.response_format),\n\t\t\tseed: options?.seed,\n\t\t\t...streamOptionsConfig,\n\t\t\tparallel_tool_calls: options?.parallel_tool_calls,\n\t\t\t...this.audio || options?.audio ? { audio: this.audio || options?.audio } : {},\n\t\t\t...this.modalities || options?.modalities ? { modalities: this.modalities || options?.modalities } : {},\n\t\t\t...this.modelKwargs,\n\t\t\tprompt_cache_key: options?.promptCacheKey ?? this.promptCacheKey,\n\t\t\tprompt_cache_retention: options?.promptCacheRetention ?? this.promptCacheRetention,\n\t\t\tverbosity: options?.verbosity ?? this.verbosity\n\t\t};\n\t\tif (options?.prediction !== void 0) params.prediction = options.prediction;\n\t\tif (this.service_tier !== void 0) params.service_tier = this.service_tier;\n\t\tif (options?.service_tier !== void 0) params.service_tier = options.service_tier;\n\t\tconst reasoning = this._getReasoningParams(options);\n\t\tif (reasoning !== void 0 && reasoning.effort !== void 0) params.reasoning_effort = reasoning.effort;\n\t\tif ((0,_utils_misc_js__WEBPACK_IMPORTED_MODULE_2__.isReasoningModel)(params.model)) params.max_completion_tokens = this.maxTokens === -1 ? void 0 : this.maxTokens;\n\t\telse params.max_tokens = this.maxTokens === -1 ? void 0 : this.maxTokens;\n\t\treturn params;\n\t}\n\tasync _generate(messages, options, runManager) {\n\t\tconst usageMetadata = {};\n\t\tconst params = this.invocationParams(options);\n\t\tconst messagesMapped = (0,_converters_completions_js__WEBPACK_IMPORTED_MODULE_4__.convertMessagesToCompletionsMessageParams)({\n\t\t\tmessages,\n\t\t\tmodel: this.model\n\t\t});\n\t\tif (params.stream) {\n\t\t\tconst stream = this._streamResponseChunks(messages, options, runManager);\n\t\t\tconst finalChunks = {};\n\t\t\tfor await (const chunk of stream) {\n\t\t\t\tchunk.message.response_metadata = {\n\t\t\t\t\t...chunk.generationInfo,\n\t\t\t\t\t...chunk.message.response_metadata\n\t\t\t\t};\n\t\t\t\tconst index = chunk.generationInfo?.completion ?? 0;\n\t\t\t\tif (finalChunks[index] === void 0) finalChunks[index] = chunk;\n\t\t\t\telse finalChunks[index] = finalChunks[index].concat(chunk);\n\t\t\t}\n\t\t\tconst generations = Object.entries(finalChunks).sort(([aKey], [bKey]) => parseInt(aKey, 10) - parseInt(bKey, 10)).map(([_, value]) => value);\n\t\t\tconst { functions, function_call } = this.invocationParams(options);\n\t\t\tconst promptTokenUsage = await this._getEstimatedTokenCountFromPrompt(messages, functions, function_call);\n\t\t\tconst completionTokenUsage = await this._getNumTokensFromGenerations(generations);\n\t\t\tusageMetadata.input_tokens = promptTokenUsage;\n\t\t\tusageMetadata.output_tokens = completionTokenUsage;\n\t\t\tusageMetadata.total_tokens = promptTokenUsage + completionTokenUsage;\n\t\t\treturn {\n\t\t\t\tgenerations,\n\t\t\t\tllmOutput: { estimatedTokenUsage: {\n\t\t\t\t\tpromptTokens: usageMetadata.input_tokens,\n\t\t\t\t\tcompletionTokens: usageMetadata.output_tokens,\n\t\t\t\t\ttotalTokens: usageMetadata.total_tokens\n\t\t\t\t} }\n\t\t\t};\n\t\t} else {\n\t\t\tconst data = await this.completionWithRetry({\n\t\t\t\t...params,\n\t\t\t\tstream: false,\n\t\t\t\tmessages: messagesMapped\n\t\t\t}, {\n\t\t\t\tsignal: options?.signal,\n\t\t\t\t...options?.options\n\t\t\t});\n\t\t\tconst { completion_tokens: completionTokens, prompt_tokens: promptTokens, total_tokens: totalTokens, prompt_tokens_details: promptTokensDetails, completion_tokens_details: completionTokensDetails } = data?.usage ?? {};\n\t\t\tif (completionTokens) usageMetadata.output_tokens = (usageMetadata.output_tokens ?? 0) + completionTokens;\n\t\t\tif (promptTokens) usageMetadata.input_tokens = (usageMetadata.input_tokens ?? 0) + promptTokens;\n\t\t\tif (totalTokens) usageMetadata.total_tokens = (usageMetadata.total_tokens ?? 0) + totalTokens;\n\t\t\tif (promptTokensDetails?.audio_tokens !== null || promptTokensDetails?.cached_tokens !== null) usageMetadata.input_token_details = {\n\t\t\t\t...promptTokensDetails?.audio_tokens !== null && { audio: promptTokensDetails?.audio_tokens },\n\t\t\t\t...promptTokensDetails?.cached_tokens !== null && { cache_read: promptTokensDetails?.cached_tokens }\n\t\t\t};\n\t\t\tif (completionTokensDetails?.audio_tokens !== null || completionTokensDetails?.reasoning_tokens !== null) usageMetadata.output_token_details = {\n\t\t\t\t...completionTokensDetails?.audio_tokens !== null && { audio: completionTokensDetails?.audio_tokens },\n\t\t\t\t...completionTokensDetails?.reasoning_tokens !== null && { reasoning: completionTokensDetails?.reasoning_tokens }\n\t\t\t};\n\t\t\tconst generations = [];\n\t\t\tfor (const part of data?.choices ?? []) {\n\t\t\t\tconst text = part.message?.content ?? \"\";\n\t\t\t\tconst generation = {\n\t\t\t\t\ttext,\n\t\t\t\t\tmessage: this._convertCompletionsMessageToBaseMessage(part.message ?? { role: \"assistant\" }, data)\n\t\t\t\t};\n\t\t\t\tgeneration.generationInfo = {\n\t\t\t\t\t...part.finish_reason ? { finish_reason: part.finish_reason } : {},\n\t\t\t\t\t...part.logprobs ? { logprobs: part.logprobs } : {}\n\t\t\t\t};\n\t\t\t\tif ((0,_langchain_core_messages__WEBPACK_IMPORTED_MODULE_5__.isAIMessage)(generation.message)) generation.message.usage_metadata = usageMetadata;\n\t\t\t\tgeneration.message = new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_5__.AIMessage(Object.fromEntries(Object.entries(generation.message).filter(([key]) => !key.startsWith(\"lc_\"))));\n\t\t\t\tgenerations.push(generation);\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tgenerations,\n\t\t\t\tllmOutput: { tokenUsage: {\n\t\t\t\t\tpromptTokens: usageMetadata.input_tokens,\n\t\t\t\t\tcompletionTokens: usageMetadata.output_tokens,\n\t\t\t\t\ttotalTokens: usageMetadata.total_tokens\n\t\t\t\t} }\n\t\t\t};\n\t\t}\n\t}\n\tasync *_streamResponseChunks(messages, options, runManager) {\n\t\tconst messagesMapped = (0,_converters_completions_js__WEBPACK_IMPORTED_MODULE_4__.convertMessagesToCompletionsMessageParams)({\n\t\t\tmessages,\n\t\t\tmodel: this.model\n\t\t});\n\t\tconst params = {\n\t\t\t...this.invocationParams(options, { streaming: true }),\n\t\t\tmessages: messagesMapped,\n\t\t\tstream: true\n\t\t};\n\t\tlet defaultRole;\n\t\tconst streamIterable = await this.completionWithRetry(params, options);\n\t\tlet usage;\n\t\tfor await (const data of streamIterable) {\n\t\t\tconst choice = data?.choices?.[0];\n\t\t\tif (data.usage) usage = data.usage;\n\t\t\tif (!choice) continue;\n\t\t\tconst { delta } = choice;\n\t\t\tif (!delta) continue;\n\t\t\tconst chunk = this._convertCompletionsDeltaToBaseMessageChunk(delta, data, defaultRole);\n\t\t\tdefaultRole = delta.role ?? defaultRole;\n\t\t\tconst newTokenIndices = {\n\t\t\t\tprompt: options.promptIndex ?? 0,\n\t\t\t\tcompletion: choice.index ?? 0\n\t\t\t};\n\t\t\tif (typeof chunk.content !== \"string\") {\n\t\t\t\tconsole.log(\"[WARNING]: Received non-string content from OpenAI. This is currently not supported.\");\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tconst generationInfo = { ...newTokenIndices };\n\t\t\tif (choice.finish_reason != null) {\n\t\t\t\tgenerationInfo.finish_reason = choice.finish_reason;\n\t\t\t\tgenerationInfo.system_fingerprint = data.system_fingerprint;\n\t\t\t\tgenerationInfo.model_name = data.model;\n\t\t\t\tgenerationInfo.service_tier = data.service_tier;\n\t\t\t}\n\t\t\tif (this.logprobs) generationInfo.logprobs = choice.logprobs;\n\t\t\tconst generationChunk = new _langchain_core_outputs__WEBPACK_IMPORTED_MODULE_6__.ChatGenerationChunk({\n\t\t\t\tmessage: chunk,\n\t\t\t\ttext: chunk.content,\n\t\t\t\tgenerationInfo\n\t\t\t});\n\t\t\tyield generationChunk;\n\t\t\tawait runManager?.handleLLMNewToken(generationChunk.text ?? \"\", newTokenIndices, void 0, void 0, void 0, { chunk: generationChunk });\n\t\t}\n\t\tif (usage) {\n\t\t\tconst inputTokenDetails = {\n\t\t\t\t...usage.prompt_tokens_details?.audio_tokens !== null && { audio: usage.prompt_tokens_details?.audio_tokens },\n\t\t\t\t...usage.prompt_tokens_details?.cached_tokens !== null && { cache_read: usage.prompt_tokens_details?.cached_tokens }\n\t\t\t};\n\t\t\tconst outputTokenDetails = {\n\t\t\t\t...usage.completion_tokens_details?.audio_tokens !== null && { audio: usage.completion_tokens_details?.audio_tokens },\n\t\t\t\t...usage.completion_tokens_details?.reasoning_tokens !== null && { reasoning: usage.completion_tokens_details?.reasoning_tokens }\n\t\t\t};\n\t\t\tconst generationChunk = new _langchain_core_outputs__WEBPACK_IMPORTED_MODULE_6__.ChatGenerationChunk({\n\t\t\t\tmessage: new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_5__.AIMessageChunk({\n\t\t\t\t\tcontent: \"\",\n\t\t\t\t\tresponse_metadata: { usage: { ...usage } },\n\t\t\t\t\tusage_metadata: {\n\t\t\t\t\t\tinput_tokens: usage.prompt_tokens,\n\t\t\t\t\t\toutput_tokens: usage.completion_tokens,\n\t\t\t\t\t\ttotal_tokens: usage.total_tokens,\n\t\t\t\t\t\t...Object.keys(inputTokenDetails).length > 0 && { input_token_details: inputTokenDetails },\n\t\t\t\t\t\t...Object.keys(outputTokenDetails).length > 0 && { output_token_details: outputTokenDetails }\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\ttext: \"\"\n\t\t\t});\n\t\t\tyield generationChunk;\n\t\t}\n\t\tif (options.signal?.aborted) throw new Error(\"AbortError\");\n\t}\n\tasync completionWithRetry(request, requestOptions) {\n\t\tconst clientOptions = this._getClientOptions(requestOptions);\n\t\tconst isParseableFormat = request.response_format && request.response_format.type === \"json_schema\";\n\t\treturn this.caller.call(async () => {\n\t\t\ttry {\n\t\t\t\tif (isParseableFormat && !request.stream) return await this.client.chat.completions.parse(request, clientOptions);\n\t\t\t\telse return await this.client.chat.completions.create(request, clientOptions);\n\t\t\t} catch (e) {\n\t\t\t\tconst error = (0,_utils_client_js__WEBPACK_IMPORTED_MODULE_0__.wrapOpenAIClientError)(e);\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t});\n\t}\n\t/**\n\t* @deprecated\n\t* This function was hoisted into a publicly accessible function from a\n\t* different export, but to maintain backwards compatibility with chat models\n\t* that depend on ChatOpenAICompletions, we'll keep it here as an overridable\n\t* method. This will be removed in a future release\n\t*/\n\t_convertCompletionsDeltaToBaseMessageChunk(delta, rawResponse, defaultRole) {\n\t\treturn (0,_converters_completions_js__WEBPACK_IMPORTED_MODULE_4__.convertCompletionsDeltaToBaseMessageChunk)({\n\t\t\tdelta,\n\t\t\trawResponse,\n\t\t\tincludeRawResponse: this.__includeRawResponse,\n\t\t\tdefaultRole\n\t\t});\n\t}\n\t/**\n\t* @deprecated\n\t* This function was hoisted into a publicly accessible function from a\n\t* different export, but to maintain backwards compatibility with chat models\n\t* that depend on ChatOpenAICompletions, we'll keep it here as an overridable\n\t* method. This will be removed in a future release\n\t*/\n\t_convertCompletionsMessageToBaseMessage(message, rawResponse) {\n\t\treturn (0,_converters_completions_js__WEBPACK_IMPORTED_MODULE_4__.convertCompletionsMessageToBaseMessage)({\n\t\t\tmessage,\n\t\t\trawResponse,\n\t\t\tincludeRawResponse: this.__includeRawResponse\n\t\t});\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=completions.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L2NoYXRfbW9kZWxzL2NvbXBsZXRpb25zLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQTJEO0FBQ0U7QUFDVDtBQUNUO0FBQ2lJO0FBQzFGO0FBQ3BCOztBQUU5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLG9EQUFjO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRTtBQUNsRSw2RkFBNkYsa0JBQWtCO0FBQy9HO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9IQUFvSCxRQUFRO0FBQzVILGdCQUFnQix5RUFBd0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsc0NBQXNDLElBQUk7QUFDakYsaURBQWlELHFEQUFxRCxJQUFJO0FBQzFHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxnRUFBZ0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHFHQUF5QztBQUNsRTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVywyQkFBMkI7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKLFdBQVcsOExBQThMO0FBQ3pNO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELDBDQUEwQztBQUNqRyx3REFBd0Q7QUFDeEQ7QUFDQTtBQUNBLDJEQUEyRCw4Q0FBOEM7QUFDekcsK0RBQStEO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZFQUE2RSxtQkFBbUI7QUFDaEc7QUFDQTtBQUNBLCtCQUErQixvQ0FBb0MsSUFBSTtBQUN2RSwwQkFBMEIsMEJBQTBCO0FBQ3BEO0FBQ0EsUUFBUSxxRUFBVztBQUNuQiw2QkFBNkIsK0RBQVM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixxR0FBeUM7QUFDbEU7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLHVDQUF1QyxpQkFBaUI7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQix3RUFBbUI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsOEdBQThHLHdCQUF3QjtBQUN0STtBQUNBO0FBQ0E7QUFDQSwrREFBK0Qsa0RBQWtEO0FBQ2pILGdFQUFnRTtBQUNoRTtBQUNBO0FBQ0EsbUVBQW1FLHNEQUFzRDtBQUN6SCx1RUFBdUU7QUFDdkU7QUFDQSwrQkFBK0Isd0VBQW1CO0FBQ2xELGlCQUFpQixvRUFBYztBQUMvQjtBQUNBLDBCQUEwQixTQUFTLFlBQVk7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0Qsd0NBQXdDO0FBQ2hHLHlEQUF5RDtBQUN6RDtBQUNBLEtBQUs7QUFDTDtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGtCQUFrQix1RUFBcUI7QUFDdkM7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHFHQUF5QztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLGtHQUFzQztBQUMvQztBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNpQztBQUNqQyIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitvcGVuYWlAMS4yLjNfQGxhbmdjaGFpbitjb3JlQDEuMS4xNy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9vcGVuYWkvZGlzdC9jaGF0X21vZGVscy9jb21wbGV0aW9ucy5qcz81ZTkyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHdyYXBPcGVuQUlDbGllbnRFcnJvciB9IGZyb20gXCIuLi91dGlscy9jbGllbnQuanNcIjtcbmltcG9ydCB7IGZvcm1hdFRvT3BlbkFJVG9vbENob2ljZSB9IGZyb20gXCIuLi91dGlscy90b29scy5qc1wiO1xuaW1wb3J0IHsgaXNSZWFzb25pbmdNb2RlbCB9IGZyb20gXCIuLi91dGlscy9taXNjLmpzXCI7XG5pbXBvcnQgeyBCYXNlQ2hhdE9wZW5BSSB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCB7IGNvbnZlcnRDb21wbGV0aW9uc0RlbHRhVG9CYXNlTWVzc2FnZUNodW5rLCBjb252ZXJ0Q29tcGxldGlvbnNNZXNzYWdlVG9CYXNlTWVzc2FnZSwgY29udmVydE1lc3NhZ2VzVG9Db21wbGV0aW9uc01lc3NhZ2VQYXJhbXMgfSBmcm9tIFwiLi4vY29udmVydGVycy9jb21wbGV0aW9ucy5qc1wiO1xuaW1wb3J0IHsgQUlNZXNzYWdlLCBBSU1lc3NhZ2VDaHVuaywgaXNBSU1lc3NhZ2UgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL21lc3NhZ2VzXCI7XG5pbXBvcnQgeyBDaGF0R2VuZXJhdGlvbkNodW5rIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9vdXRwdXRzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvY2hhdF9tb2RlbHMvY29tcGxldGlvbnMudHNcbi8qKlxuKiBPcGVuQUkgQ29tcGxldGlvbnMgQVBJIGltcGxlbWVudGF0aW9uLlxuKiBAaW50ZXJuYWxcbiovXG52YXIgQ2hhdE9wZW5BSUNvbXBsZXRpb25zID0gY2xhc3MgZXh0ZW5kcyBCYXNlQ2hhdE9wZW5BSSB7XG5cdC8qKiBAaW50ZXJuYWwgKi9cblx0aW52b2NhdGlvblBhcmFtcyhvcHRpb25zLCBleHRyYSkge1xuXHRcdGxldCBzdHJpY3Q7XG5cdFx0aWYgKG9wdGlvbnM/LnN0cmljdCAhPT0gdm9pZCAwKSBzdHJpY3QgPSBvcHRpb25zLnN0cmljdDtcblx0XHRlbHNlIGlmICh0aGlzLnN1cHBvcnRzU3RyaWN0VG9vbENhbGxpbmcgIT09IHZvaWQgMCkgc3RyaWN0ID0gdGhpcy5zdXBwb3J0c1N0cmljdFRvb2xDYWxsaW5nO1xuXHRcdGxldCBzdHJlYW1PcHRpb25zQ29uZmlnID0ge307XG5cdFx0aWYgKG9wdGlvbnM/LnN0cmVhbV9vcHRpb25zICE9PSB2b2lkIDApIHN0cmVhbU9wdGlvbnNDb25maWcgPSB7IHN0cmVhbV9vcHRpb25zOiBvcHRpb25zLnN0cmVhbV9vcHRpb25zIH07XG5cdFx0ZWxzZSBpZiAodGhpcy5zdHJlYW1Vc2FnZSAmJiAodGhpcy5zdHJlYW1pbmcgfHwgZXh0cmE/LnN0cmVhbWluZykpIHN0cmVhbU9wdGlvbnNDb25maWcgPSB7IHN0cmVhbV9vcHRpb25zOiB7IGluY2x1ZGVfdXNhZ2U6IHRydWUgfSB9O1xuXHRcdGNvbnN0IHBhcmFtcyA9IHtcblx0XHRcdG1vZGVsOiB0aGlzLm1vZGVsLFxuXHRcdFx0dGVtcGVyYXR1cmU6IHRoaXMudGVtcGVyYXR1cmUsXG5cdFx0XHR0b3BfcDogdGhpcy50b3BQLFxuXHRcdFx0ZnJlcXVlbmN5X3BlbmFsdHk6IHRoaXMuZnJlcXVlbmN5UGVuYWx0eSxcblx0XHRcdHByZXNlbmNlX3BlbmFsdHk6IHRoaXMucHJlc2VuY2VQZW5hbHR5LFxuXHRcdFx0bG9ncHJvYnM6IHRoaXMubG9ncHJvYnMsXG5cdFx0XHR0b3BfbG9ncHJvYnM6IHRoaXMudG9wTG9ncHJvYnMsXG5cdFx0XHRuOiB0aGlzLm4sXG5cdFx0XHRsb2dpdF9iaWFzOiB0aGlzLmxvZ2l0Qmlhcyxcblx0XHRcdHN0b3A6IG9wdGlvbnM/LnN0b3AgPz8gdGhpcy5zdG9wU2VxdWVuY2VzLFxuXHRcdFx0dXNlcjogdGhpcy51c2VyLFxuXHRcdFx0c3RyZWFtOiB0aGlzLnN0cmVhbWluZyxcblx0XHRcdGZ1bmN0aW9uczogb3B0aW9ucz8uZnVuY3Rpb25zLFxuXHRcdFx0ZnVuY3Rpb25fY2FsbDogb3B0aW9ucz8uZnVuY3Rpb25fY2FsbCxcblx0XHRcdHRvb2xzOiBvcHRpb25zPy50b29scz8ubGVuZ3RoID8gb3B0aW9ucy50b29scy5tYXAoKHRvb2wpID0+IHRoaXMuX2NvbnZlcnRDaGF0T3BlbkFJVG9vbFRvQ29tcGxldGlvbnNUb29sKHRvb2wsIHsgc3RyaWN0IH0pKSA6IHZvaWQgMCxcblx0XHRcdHRvb2xfY2hvaWNlOiBmb3JtYXRUb09wZW5BSVRvb2xDaG9pY2Uob3B0aW9ucz8udG9vbF9jaG9pY2UpLFxuXHRcdFx0cmVzcG9uc2VfZm9ybWF0OiB0aGlzLl9nZXRSZXNwb25zZUZvcm1hdChvcHRpb25zPy5yZXNwb25zZV9mb3JtYXQpLFxuXHRcdFx0c2VlZDogb3B0aW9ucz8uc2VlZCxcblx0XHRcdC4uLnN0cmVhbU9wdGlvbnNDb25maWcsXG5cdFx0XHRwYXJhbGxlbF90b29sX2NhbGxzOiBvcHRpb25zPy5wYXJhbGxlbF90b29sX2NhbGxzLFxuXHRcdFx0Li4udGhpcy5hdWRpbyB8fCBvcHRpb25zPy5hdWRpbyA/IHsgYXVkaW86IHRoaXMuYXVkaW8gfHwgb3B0aW9ucz8uYXVkaW8gfSA6IHt9LFxuXHRcdFx0Li4udGhpcy5tb2RhbGl0aWVzIHx8IG9wdGlvbnM/Lm1vZGFsaXRpZXMgPyB7IG1vZGFsaXRpZXM6IHRoaXMubW9kYWxpdGllcyB8fCBvcHRpb25zPy5tb2RhbGl0aWVzIH0gOiB7fSxcblx0XHRcdC4uLnRoaXMubW9kZWxLd2FyZ3MsXG5cdFx0XHRwcm9tcHRfY2FjaGVfa2V5OiBvcHRpb25zPy5wcm9tcHRDYWNoZUtleSA/PyB0aGlzLnByb21wdENhY2hlS2V5LFxuXHRcdFx0cHJvbXB0X2NhY2hlX3JldGVudGlvbjogb3B0aW9ucz8ucHJvbXB0Q2FjaGVSZXRlbnRpb24gPz8gdGhpcy5wcm9tcHRDYWNoZVJldGVudGlvbixcblx0XHRcdHZlcmJvc2l0eTogb3B0aW9ucz8udmVyYm9zaXR5ID8/IHRoaXMudmVyYm9zaXR5XG5cdFx0fTtcblx0XHRpZiAob3B0aW9ucz8ucHJlZGljdGlvbiAhPT0gdm9pZCAwKSBwYXJhbXMucHJlZGljdGlvbiA9IG9wdGlvbnMucHJlZGljdGlvbjtcblx0XHRpZiAodGhpcy5zZXJ2aWNlX3RpZXIgIT09IHZvaWQgMCkgcGFyYW1zLnNlcnZpY2VfdGllciA9IHRoaXMuc2VydmljZV90aWVyO1xuXHRcdGlmIChvcHRpb25zPy5zZXJ2aWNlX3RpZXIgIT09IHZvaWQgMCkgcGFyYW1zLnNlcnZpY2VfdGllciA9IG9wdGlvbnMuc2VydmljZV90aWVyO1xuXHRcdGNvbnN0IHJlYXNvbmluZyA9IHRoaXMuX2dldFJlYXNvbmluZ1BhcmFtcyhvcHRpb25zKTtcblx0XHRpZiAocmVhc29uaW5nICE9PSB2b2lkIDAgJiYgcmVhc29uaW5nLmVmZm9ydCAhPT0gdm9pZCAwKSBwYXJhbXMucmVhc29uaW5nX2VmZm9ydCA9IHJlYXNvbmluZy5lZmZvcnQ7XG5cdFx0aWYgKGlzUmVhc29uaW5nTW9kZWwocGFyYW1zLm1vZGVsKSkgcGFyYW1zLm1heF9jb21wbGV0aW9uX3Rva2VucyA9IHRoaXMubWF4VG9rZW5zID09PSAtMSA/IHZvaWQgMCA6IHRoaXMubWF4VG9rZW5zO1xuXHRcdGVsc2UgcGFyYW1zLm1heF90b2tlbnMgPSB0aGlzLm1heFRva2VucyA9PT0gLTEgPyB2b2lkIDAgOiB0aGlzLm1heFRva2Vucztcblx0XHRyZXR1cm4gcGFyYW1zO1xuXHR9XG5cdGFzeW5jIF9nZW5lcmF0ZShtZXNzYWdlcywgb3B0aW9ucywgcnVuTWFuYWdlcikge1xuXHRcdGNvbnN0IHVzYWdlTWV0YWRhdGEgPSB7fTtcblx0XHRjb25zdCBwYXJhbXMgPSB0aGlzLmludm9jYXRpb25QYXJhbXMob3B0aW9ucyk7XG5cdFx0Y29uc3QgbWVzc2FnZXNNYXBwZWQgPSBjb252ZXJ0TWVzc2FnZXNUb0NvbXBsZXRpb25zTWVzc2FnZVBhcmFtcyh7XG5cdFx0XHRtZXNzYWdlcyxcblx0XHRcdG1vZGVsOiB0aGlzLm1vZGVsXG5cdFx0fSk7XG5cdFx0aWYgKHBhcmFtcy5zdHJlYW0pIHtcblx0XHRcdGNvbnN0IHN0cmVhbSA9IHRoaXMuX3N0cmVhbVJlc3BvbnNlQ2h1bmtzKG1lc3NhZ2VzLCBvcHRpb25zLCBydW5NYW5hZ2VyKTtcblx0XHRcdGNvbnN0IGZpbmFsQ2h1bmtzID0ge307XG5cdFx0XHRmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHN0cmVhbSkge1xuXHRcdFx0XHRjaHVuay5tZXNzYWdlLnJlc3BvbnNlX21ldGFkYXRhID0ge1xuXHRcdFx0XHRcdC4uLmNodW5rLmdlbmVyYXRpb25JbmZvLFxuXHRcdFx0XHRcdC4uLmNodW5rLm1lc3NhZ2UucmVzcG9uc2VfbWV0YWRhdGFcblx0XHRcdFx0fTtcblx0XHRcdFx0Y29uc3QgaW5kZXggPSBjaHVuay5nZW5lcmF0aW9uSW5mbz8uY29tcGxldGlvbiA/PyAwO1xuXHRcdFx0XHRpZiAoZmluYWxDaHVua3NbaW5kZXhdID09PSB2b2lkIDApIGZpbmFsQ2h1bmtzW2luZGV4XSA9IGNodW5rO1xuXHRcdFx0XHRlbHNlIGZpbmFsQ2h1bmtzW2luZGV4XSA9IGZpbmFsQ2h1bmtzW2luZGV4XS5jb25jYXQoY2h1bmspO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3QgZ2VuZXJhdGlvbnMgPSBPYmplY3QuZW50cmllcyhmaW5hbENodW5rcykuc29ydCgoW2FLZXldLCBbYktleV0pID0+IHBhcnNlSW50KGFLZXksIDEwKSAtIHBhcnNlSW50KGJLZXksIDEwKSkubWFwKChbXywgdmFsdWVdKSA9PiB2YWx1ZSk7XG5cdFx0XHRjb25zdCB7IGZ1bmN0aW9ucywgZnVuY3Rpb25fY2FsbCB9ID0gdGhpcy5pbnZvY2F0aW9uUGFyYW1zKG9wdGlvbnMpO1xuXHRcdFx0Y29uc3QgcHJvbXB0VG9rZW5Vc2FnZSA9IGF3YWl0IHRoaXMuX2dldEVzdGltYXRlZFRva2VuQ291bnRGcm9tUHJvbXB0KG1lc3NhZ2VzLCBmdW5jdGlvbnMsIGZ1bmN0aW9uX2NhbGwpO1xuXHRcdFx0Y29uc3QgY29tcGxldGlvblRva2VuVXNhZ2UgPSBhd2FpdCB0aGlzLl9nZXROdW1Ub2tlbnNGcm9tR2VuZXJhdGlvbnMoZ2VuZXJhdGlvbnMpO1xuXHRcdFx0dXNhZ2VNZXRhZGF0YS5pbnB1dF90b2tlbnMgPSBwcm9tcHRUb2tlblVzYWdlO1xuXHRcdFx0dXNhZ2VNZXRhZGF0YS5vdXRwdXRfdG9rZW5zID0gY29tcGxldGlvblRva2VuVXNhZ2U7XG5cdFx0XHR1c2FnZU1ldGFkYXRhLnRvdGFsX3Rva2VucyA9IHByb21wdFRva2VuVXNhZ2UgKyBjb21wbGV0aW9uVG9rZW5Vc2FnZTtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGdlbmVyYXRpb25zLFxuXHRcdFx0XHRsbG1PdXRwdXQ6IHsgZXN0aW1hdGVkVG9rZW5Vc2FnZToge1xuXHRcdFx0XHRcdHByb21wdFRva2VuczogdXNhZ2VNZXRhZGF0YS5pbnB1dF90b2tlbnMsXG5cdFx0XHRcdFx0Y29tcGxldGlvblRva2VuczogdXNhZ2VNZXRhZGF0YS5vdXRwdXRfdG9rZW5zLFxuXHRcdFx0XHRcdHRvdGFsVG9rZW5zOiB1c2FnZU1ldGFkYXRhLnRvdGFsX3Rva2Vuc1xuXHRcdFx0XHR9IH1cblx0XHRcdH07XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLmNvbXBsZXRpb25XaXRoUmV0cnkoe1xuXHRcdFx0XHQuLi5wYXJhbXMsXG5cdFx0XHRcdHN0cmVhbTogZmFsc2UsXG5cdFx0XHRcdG1lc3NhZ2VzOiBtZXNzYWdlc01hcHBlZFxuXHRcdFx0fSwge1xuXHRcdFx0XHRzaWduYWw6IG9wdGlvbnM/LnNpZ25hbCxcblx0XHRcdFx0Li4ub3B0aW9ucz8ub3B0aW9uc1xuXHRcdFx0fSk7XG5cdFx0XHRjb25zdCB7IGNvbXBsZXRpb25fdG9rZW5zOiBjb21wbGV0aW9uVG9rZW5zLCBwcm9tcHRfdG9rZW5zOiBwcm9tcHRUb2tlbnMsIHRvdGFsX3Rva2VuczogdG90YWxUb2tlbnMsIHByb21wdF90b2tlbnNfZGV0YWlsczogcHJvbXB0VG9rZW5zRGV0YWlscywgY29tcGxldGlvbl90b2tlbnNfZGV0YWlsczogY29tcGxldGlvblRva2Vuc0RldGFpbHMgfSA9IGRhdGE/LnVzYWdlID8/IHt9O1xuXHRcdFx0aWYgKGNvbXBsZXRpb25Ub2tlbnMpIHVzYWdlTWV0YWRhdGEub3V0cHV0X3Rva2VucyA9ICh1c2FnZU1ldGFkYXRhLm91dHB1dF90b2tlbnMgPz8gMCkgKyBjb21wbGV0aW9uVG9rZW5zO1xuXHRcdFx0aWYgKHByb21wdFRva2VucykgdXNhZ2VNZXRhZGF0YS5pbnB1dF90b2tlbnMgPSAodXNhZ2VNZXRhZGF0YS5pbnB1dF90b2tlbnMgPz8gMCkgKyBwcm9tcHRUb2tlbnM7XG5cdFx0XHRpZiAodG90YWxUb2tlbnMpIHVzYWdlTWV0YWRhdGEudG90YWxfdG9rZW5zID0gKHVzYWdlTWV0YWRhdGEudG90YWxfdG9rZW5zID8/IDApICsgdG90YWxUb2tlbnM7XG5cdFx0XHRpZiAocHJvbXB0VG9rZW5zRGV0YWlscz8uYXVkaW9fdG9rZW5zICE9PSBudWxsIHx8IHByb21wdFRva2Vuc0RldGFpbHM/LmNhY2hlZF90b2tlbnMgIT09IG51bGwpIHVzYWdlTWV0YWRhdGEuaW5wdXRfdG9rZW5fZGV0YWlscyA9IHtcblx0XHRcdFx0Li4ucHJvbXB0VG9rZW5zRGV0YWlscz8uYXVkaW9fdG9rZW5zICE9PSBudWxsICYmIHsgYXVkaW86IHByb21wdFRva2Vuc0RldGFpbHM/LmF1ZGlvX3Rva2VucyB9LFxuXHRcdFx0XHQuLi5wcm9tcHRUb2tlbnNEZXRhaWxzPy5jYWNoZWRfdG9rZW5zICE9PSBudWxsICYmIHsgY2FjaGVfcmVhZDogcHJvbXB0VG9rZW5zRGV0YWlscz8uY2FjaGVkX3Rva2VucyB9XG5cdFx0XHR9O1xuXHRcdFx0aWYgKGNvbXBsZXRpb25Ub2tlbnNEZXRhaWxzPy5hdWRpb190b2tlbnMgIT09IG51bGwgfHwgY29tcGxldGlvblRva2Vuc0RldGFpbHM/LnJlYXNvbmluZ190b2tlbnMgIT09IG51bGwpIHVzYWdlTWV0YWRhdGEub3V0cHV0X3Rva2VuX2RldGFpbHMgPSB7XG5cdFx0XHRcdC4uLmNvbXBsZXRpb25Ub2tlbnNEZXRhaWxzPy5hdWRpb190b2tlbnMgIT09IG51bGwgJiYgeyBhdWRpbzogY29tcGxldGlvblRva2Vuc0RldGFpbHM/LmF1ZGlvX3Rva2VucyB9LFxuXHRcdFx0XHQuLi5jb21wbGV0aW9uVG9rZW5zRGV0YWlscz8ucmVhc29uaW5nX3Rva2VucyAhPT0gbnVsbCAmJiB7IHJlYXNvbmluZzogY29tcGxldGlvblRva2Vuc0RldGFpbHM/LnJlYXNvbmluZ190b2tlbnMgfVxuXHRcdFx0fTtcblx0XHRcdGNvbnN0IGdlbmVyYXRpb25zID0gW107XG5cdFx0XHRmb3IgKGNvbnN0IHBhcnQgb2YgZGF0YT8uY2hvaWNlcyA/PyBbXSkge1xuXHRcdFx0XHRjb25zdCB0ZXh0ID0gcGFydC5tZXNzYWdlPy5jb250ZW50ID8/IFwiXCI7XG5cdFx0XHRcdGNvbnN0IGdlbmVyYXRpb24gPSB7XG5cdFx0XHRcdFx0dGV4dCxcblx0XHRcdFx0XHRtZXNzYWdlOiB0aGlzLl9jb252ZXJ0Q29tcGxldGlvbnNNZXNzYWdlVG9CYXNlTWVzc2FnZShwYXJ0Lm1lc3NhZ2UgPz8geyByb2xlOiBcImFzc2lzdGFudFwiIH0sIGRhdGEpXG5cdFx0XHRcdH07XG5cdFx0XHRcdGdlbmVyYXRpb24uZ2VuZXJhdGlvbkluZm8gPSB7XG5cdFx0XHRcdFx0Li4ucGFydC5maW5pc2hfcmVhc29uID8geyBmaW5pc2hfcmVhc29uOiBwYXJ0LmZpbmlzaF9yZWFzb24gfSA6IHt9LFxuXHRcdFx0XHRcdC4uLnBhcnQubG9ncHJvYnMgPyB7IGxvZ3Byb2JzOiBwYXJ0LmxvZ3Byb2JzIH0gOiB7fVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRpZiAoaXNBSU1lc3NhZ2UoZ2VuZXJhdGlvbi5tZXNzYWdlKSkgZ2VuZXJhdGlvbi5tZXNzYWdlLnVzYWdlX21ldGFkYXRhID0gdXNhZ2VNZXRhZGF0YTtcblx0XHRcdFx0Z2VuZXJhdGlvbi5tZXNzYWdlID0gbmV3IEFJTWVzc2FnZShPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMoZ2VuZXJhdGlvbi5tZXNzYWdlKS5maWx0ZXIoKFtrZXldKSA9PiAha2V5LnN0YXJ0c1dpdGgoXCJsY19cIikpKSk7XG5cdFx0XHRcdGdlbmVyYXRpb25zLnB1c2goZ2VuZXJhdGlvbik7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRnZW5lcmF0aW9ucyxcblx0XHRcdFx0bGxtT3V0cHV0OiB7IHRva2VuVXNhZ2U6IHtcblx0XHRcdFx0XHRwcm9tcHRUb2tlbnM6IHVzYWdlTWV0YWRhdGEuaW5wdXRfdG9rZW5zLFxuXHRcdFx0XHRcdGNvbXBsZXRpb25Ub2tlbnM6IHVzYWdlTWV0YWRhdGEub3V0cHV0X3Rva2Vucyxcblx0XHRcdFx0XHR0b3RhbFRva2VuczogdXNhZ2VNZXRhZGF0YS50b3RhbF90b2tlbnNcblx0XHRcdFx0fSB9XG5cdFx0XHR9O1xuXHRcdH1cblx0fVxuXHRhc3luYyAqX3N0cmVhbVJlc3BvbnNlQ2h1bmtzKG1lc3NhZ2VzLCBvcHRpb25zLCBydW5NYW5hZ2VyKSB7XG5cdFx0Y29uc3QgbWVzc2FnZXNNYXBwZWQgPSBjb252ZXJ0TWVzc2FnZXNUb0NvbXBsZXRpb25zTWVzc2FnZVBhcmFtcyh7XG5cdFx0XHRtZXNzYWdlcyxcblx0XHRcdG1vZGVsOiB0aGlzLm1vZGVsXG5cdFx0fSk7XG5cdFx0Y29uc3QgcGFyYW1zID0ge1xuXHRcdFx0Li4udGhpcy5pbnZvY2F0aW9uUGFyYW1zKG9wdGlvbnMsIHsgc3RyZWFtaW5nOiB0cnVlIH0pLFxuXHRcdFx0bWVzc2FnZXM6IG1lc3NhZ2VzTWFwcGVkLFxuXHRcdFx0c3RyZWFtOiB0cnVlXG5cdFx0fTtcblx0XHRsZXQgZGVmYXVsdFJvbGU7XG5cdFx0Y29uc3Qgc3RyZWFtSXRlcmFibGUgPSBhd2FpdCB0aGlzLmNvbXBsZXRpb25XaXRoUmV0cnkocGFyYW1zLCBvcHRpb25zKTtcblx0XHRsZXQgdXNhZ2U7XG5cdFx0Zm9yIGF3YWl0IChjb25zdCBkYXRhIG9mIHN0cmVhbUl0ZXJhYmxlKSB7XG5cdFx0XHRjb25zdCBjaG9pY2UgPSBkYXRhPy5jaG9pY2VzPy5bMF07XG5cdFx0XHRpZiAoZGF0YS51c2FnZSkgdXNhZ2UgPSBkYXRhLnVzYWdlO1xuXHRcdFx0aWYgKCFjaG9pY2UpIGNvbnRpbnVlO1xuXHRcdFx0Y29uc3QgeyBkZWx0YSB9ID0gY2hvaWNlO1xuXHRcdFx0aWYgKCFkZWx0YSkgY29udGludWU7XG5cdFx0XHRjb25zdCBjaHVuayA9IHRoaXMuX2NvbnZlcnRDb21wbGV0aW9uc0RlbHRhVG9CYXNlTWVzc2FnZUNodW5rKGRlbHRhLCBkYXRhLCBkZWZhdWx0Um9sZSk7XG5cdFx0XHRkZWZhdWx0Um9sZSA9IGRlbHRhLnJvbGUgPz8gZGVmYXVsdFJvbGU7XG5cdFx0XHRjb25zdCBuZXdUb2tlbkluZGljZXMgPSB7XG5cdFx0XHRcdHByb21wdDogb3B0aW9ucy5wcm9tcHRJbmRleCA/PyAwLFxuXHRcdFx0XHRjb21wbGV0aW9uOiBjaG9pY2UuaW5kZXggPz8gMFxuXHRcdFx0fTtcblx0XHRcdGlmICh0eXBlb2YgY2h1bmsuY29udGVudCAhPT0gXCJzdHJpbmdcIikge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhcIltXQVJOSU5HXTogUmVjZWl2ZWQgbm9uLXN0cmluZyBjb250ZW50IGZyb20gT3BlbkFJLiBUaGlzIGlzIGN1cnJlbnRseSBub3Qgc3VwcG9ydGVkLlwiKTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRjb25zdCBnZW5lcmF0aW9uSW5mbyA9IHsgLi4ubmV3VG9rZW5JbmRpY2VzIH07XG5cdFx0XHRpZiAoY2hvaWNlLmZpbmlzaF9yZWFzb24gIT0gbnVsbCkge1xuXHRcdFx0XHRnZW5lcmF0aW9uSW5mby5maW5pc2hfcmVhc29uID0gY2hvaWNlLmZpbmlzaF9yZWFzb247XG5cdFx0XHRcdGdlbmVyYXRpb25JbmZvLnN5c3RlbV9maW5nZXJwcmludCA9IGRhdGEuc3lzdGVtX2ZpbmdlcnByaW50O1xuXHRcdFx0XHRnZW5lcmF0aW9uSW5mby5tb2RlbF9uYW1lID0gZGF0YS5tb2RlbDtcblx0XHRcdFx0Z2VuZXJhdGlvbkluZm8uc2VydmljZV90aWVyID0gZGF0YS5zZXJ2aWNlX3RpZXI7XG5cdFx0XHR9XG5cdFx0XHRpZiAodGhpcy5sb2dwcm9icykgZ2VuZXJhdGlvbkluZm8ubG9ncHJvYnMgPSBjaG9pY2UubG9ncHJvYnM7XG5cdFx0XHRjb25zdCBnZW5lcmF0aW9uQ2h1bmsgPSBuZXcgQ2hhdEdlbmVyYXRpb25DaHVuayh7XG5cdFx0XHRcdG1lc3NhZ2U6IGNodW5rLFxuXHRcdFx0XHR0ZXh0OiBjaHVuay5jb250ZW50LFxuXHRcdFx0XHRnZW5lcmF0aW9uSW5mb1xuXHRcdFx0fSk7XG5cdFx0XHR5aWVsZCBnZW5lcmF0aW9uQ2h1bms7XG5cdFx0XHRhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVMTE1OZXdUb2tlbihnZW5lcmF0aW9uQ2h1bmsudGV4dCA/PyBcIlwiLCBuZXdUb2tlbkluZGljZXMsIHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIHsgY2h1bms6IGdlbmVyYXRpb25DaHVuayB9KTtcblx0XHR9XG5cdFx0aWYgKHVzYWdlKSB7XG5cdFx0XHRjb25zdCBpbnB1dFRva2VuRGV0YWlscyA9IHtcblx0XHRcdFx0Li4udXNhZ2UucHJvbXB0X3Rva2Vuc19kZXRhaWxzPy5hdWRpb190b2tlbnMgIT09IG51bGwgJiYgeyBhdWRpbzogdXNhZ2UucHJvbXB0X3Rva2Vuc19kZXRhaWxzPy5hdWRpb190b2tlbnMgfSxcblx0XHRcdFx0Li4udXNhZ2UucHJvbXB0X3Rva2Vuc19kZXRhaWxzPy5jYWNoZWRfdG9rZW5zICE9PSBudWxsICYmIHsgY2FjaGVfcmVhZDogdXNhZ2UucHJvbXB0X3Rva2Vuc19kZXRhaWxzPy5jYWNoZWRfdG9rZW5zIH1cblx0XHRcdH07XG5cdFx0XHRjb25zdCBvdXRwdXRUb2tlbkRldGFpbHMgPSB7XG5cdFx0XHRcdC4uLnVzYWdlLmNvbXBsZXRpb25fdG9rZW5zX2RldGFpbHM/LmF1ZGlvX3Rva2VucyAhPT0gbnVsbCAmJiB7IGF1ZGlvOiB1c2FnZS5jb21wbGV0aW9uX3Rva2Vuc19kZXRhaWxzPy5hdWRpb190b2tlbnMgfSxcblx0XHRcdFx0Li4udXNhZ2UuY29tcGxldGlvbl90b2tlbnNfZGV0YWlscz8ucmVhc29uaW5nX3Rva2VucyAhPT0gbnVsbCAmJiB7IHJlYXNvbmluZzogdXNhZ2UuY29tcGxldGlvbl90b2tlbnNfZGV0YWlscz8ucmVhc29uaW5nX3Rva2VucyB9XG5cdFx0XHR9O1xuXHRcdFx0Y29uc3QgZ2VuZXJhdGlvbkNodW5rID0gbmV3IENoYXRHZW5lcmF0aW9uQ2h1bmsoe1xuXHRcdFx0XHRtZXNzYWdlOiBuZXcgQUlNZXNzYWdlQ2h1bmsoe1xuXHRcdFx0XHRcdGNvbnRlbnQ6IFwiXCIsXG5cdFx0XHRcdFx0cmVzcG9uc2VfbWV0YWRhdGE6IHsgdXNhZ2U6IHsgLi4udXNhZ2UgfSB9LFxuXHRcdFx0XHRcdHVzYWdlX21ldGFkYXRhOiB7XG5cdFx0XHRcdFx0XHRpbnB1dF90b2tlbnM6IHVzYWdlLnByb21wdF90b2tlbnMsXG5cdFx0XHRcdFx0XHRvdXRwdXRfdG9rZW5zOiB1c2FnZS5jb21wbGV0aW9uX3Rva2Vucyxcblx0XHRcdFx0XHRcdHRvdGFsX3Rva2VuczogdXNhZ2UudG90YWxfdG9rZW5zLFxuXHRcdFx0XHRcdFx0Li4uT2JqZWN0LmtleXMoaW5wdXRUb2tlbkRldGFpbHMpLmxlbmd0aCA+IDAgJiYgeyBpbnB1dF90b2tlbl9kZXRhaWxzOiBpbnB1dFRva2VuRGV0YWlscyB9LFxuXHRcdFx0XHRcdFx0Li4uT2JqZWN0LmtleXMob3V0cHV0VG9rZW5EZXRhaWxzKS5sZW5ndGggPiAwICYmIHsgb3V0cHV0X3Rva2VuX2RldGFpbHM6IG91dHB1dFRva2VuRGV0YWlscyB9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KSxcblx0XHRcdFx0dGV4dDogXCJcIlxuXHRcdFx0fSk7XG5cdFx0XHR5aWVsZCBnZW5lcmF0aW9uQ2h1bms7XG5cdFx0fVxuXHRcdGlmIChvcHRpb25zLnNpZ25hbD8uYWJvcnRlZCkgdGhyb3cgbmV3IEVycm9yKFwiQWJvcnRFcnJvclwiKTtcblx0fVxuXHRhc3luYyBjb21wbGV0aW9uV2l0aFJldHJ5KHJlcXVlc3QsIHJlcXVlc3RPcHRpb25zKSB7XG5cdFx0Y29uc3QgY2xpZW50T3B0aW9ucyA9IHRoaXMuX2dldENsaWVudE9wdGlvbnMocmVxdWVzdE9wdGlvbnMpO1xuXHRcdGNvbnN0IGlzUGFyc2VhYmxlRm9ybWF0ID0gcmVxdWVzdC5yZXNwb25zZV9mb3JtYXQgJiYgcmVxdWVzdC5yZXNwb25zZV9mb3JtYXQudHlwZSA9PT0gXCJqc29uX3NjaGVtYVwiO1xuXHRcdHJldHVybiB0aGlzLmNhbGxlci5jYWxsKGFzeW5jICgpID0+IHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGlmIChpc1BhcnNlYWJsZUZvcm1hdCAmJiAhcmVxdWVzdC5zdHJlYW0pIHJldHVybiBhd2FpdCB0aGlzLmNsaWVudC5jaGF0LmNvbXBsZXRpb25zLnBhcnNlKHJlcXVlc3QsIGNsaWVudE9wdGlvbnMpO1xuXHRcdFx0XHRlbHNlIHJldHVybiBhd2FpdCB0aGlzLmNsaWVudC5jaGF0LmNvbXBsZXRpb25zLmNyZWF0ZShyZXF1ZXN0LCBjbGllbnRPcHRpb25zKTtcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0Y29uc3QgZXJyb3IgPSB3cmFwT3BlbkFJQ2xpZW50RXJyb3IoZSk7XG5cdFx0XHRcdHRocm93IGVycm9yO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cdC8qKlxuXHQqIEBkZXByZWNhdGVkXG5cdCogVGhpcyBmdW5jdGlvbiB3YXMgaG9pc3RlZCBpbnRvIGEgcHVibGljbHkgYWNjZXNzaWJsZSBmdW5jdGlvbiBmcm9tIGFcblx0KiBkaWZmZXJlbnQgZXhwb3J0LCBidXQgdG8gbWFpbnRhaW4gYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgd2l0aCBjaGF0IG1vZGVsc1xuXHQqIHRoYXQgZGVwZW5kIG9uIENoYXRPcGVuQUlDb21wbGV0aW9ucywgd2UnbGwga2VlcCBpdCBoZXJlIGFzIGFuIG92ZXJyaWRhYmxlXG5cdCogbWV0aG9kLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSByZWxlYXNlXG5cdCovXG5cdF9jb252ZXJ0Q29tcGxldGlvbnNEZWx0YVRvQmFzZU1lc3NhZ2VDaHVuayhkZWx0YSwgcmF3UmVzcG9uc2UsIGRlZmF1bHRSb2xlKSB7XG5cdFx0cmV0dXJuIGNvbnZlcnRDb21wbGV0aW9uc0RlbHRhVG9CYXNlTWVzc2FnZUNodW5rKHtcblx0XHRcdGRlbHRhLFxuXHRcdFx0cmF3UmVzcG9uc2UsXG5cdFx0XHRpbmNsdWRlUmF3UmVzcG9uc2U6IHRoaXMuX19pbmNsdWRlUmF3UmVzcG9uc2UsXG5cdFx0XHRkZWZhdWx0Um9sZVxuXHRcdH0pO1xuXHR9XG5cdC8qKlxuXHQqIEBkZXByZWNhdGVkXG5cdCogVGhpcyBmdW5jdGlvbiB3YXMgaG9pc3RlZCBpbnRvIGEgcHVibGljbHkgYWNjZXNzaWJsZSBmdW5jdGlvbiBmcm9tIGFcblx0KiBkaWZmZXJlbnQgZXhwb3J0LCBidXQgdG8gbWFpbnRhaW4gYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgd2l0aCBjaGF0IG1vZGVsc1xuXHQqIHRoYXQgZGVwZW5kIG9uIENoYXRPcGVuQUlDb21wbGV0aW9ucywgd2UnbGwga2VlcCBpdCBoZXJlIGFzIGFuIG92ZXJyaWRhYmxlXG5cdCogbWV0aG9kLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSByZWxlYXNlXG5cdCovXG5cdF9jb252ZXJ0Q29tcGxldGlvbnNNZXNzYWdlVG9CYXNlTWVzc2FnZShtZXNzYWdlLCByYXdSZXNwb25zZSkge1xuXHRcdHJldHVybiBjb252ZXJ0Q29tcGxldGlvbnNNZXNzYWdlVG9CYXNlTWVzc2FnZSh7XG5cdFx0XHRtZXNzYWdlLFxuXHRcdFx0cmF3UmVzcG9uc2UsXG5cdFx0XHRpbmNsdWRlUmF3UmVzcG9uc2U6IHRoaXMuX19pbmNsdWRlUmF3UmVzcG9uc2Vcblx0XHR9KTtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBDaGF0T3BlbkFJQ29tcGxldGlvbnMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXBsZXRpb25zLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/chat_models/completions.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/chat_models/index.js":
/*!***********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/chat_models/index.js ***!
  \***********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatOpenAI: () => (/* binding */ ChatOpenAI)\n/* harmony export */ });\n/* harmony import */ var _utils_tools_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/tools.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/tools.js\");\n/* harmony import */ var _utils_misc_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/misc.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/misc.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/chat_models/base.js\");\n/* harmony import */ var _completions_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./completions.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/chat_models/completions.js\");\n/* harmony import */ var _responses_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./responses.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/chat_models/responses.js\");\n\n\n\n\n\n\n//#region src/chat_models/index.ts\n/**\n* OpenAI chat model integration.\n*\n* To use with Azure, import the `AzureChatOpenAI` class.\n*\n* Setup:\n* Install `@langchain/openai` and set an environment variable named `OPENAI_API_KEY`.\n*\n* ```bash\n* npm install @langchain/openai\n* export OPENAI_API_KEY=\"your-api-key\"\n* ```\n*\n* ## [Constructor args](https://api.js.langchain.com/classes/langchain_openai.ChatOpenAI.html#constructor)\n*\n* ## [Runtime args](https://api.js.langchain.com/interfaces/langchain_openai.ChatOpenAICallOptions.html)\n*\n* Runtime args can be passed as the second argument to any of the base runnable methods `.invoke`. `.stream`, `.batch`, etc.\n* They can also be passed via `.withConfig`, or the second arg in `.bindTools`, like shown in the examples below:\n*\n* ```typescript\n* // When calling `.withConfig`, call options should be passed via the first argument\n* const llmWithArgsBound = llm.withConfig({\n*   stop: [\"\\n\"],\n*   tools: [...],\n* });\n*\n* // When calling `.bindTools`, call options should be passed via the second argument\n* const llmWithTools = llm.bindTools(\n*   [...],\n*   {\n*     tool_choice: \"auto\",\n*   }\n* );\n* ```\n*\n* ## Examples\n*\n* <details open>\n* <summary><strong>Instantiate</strong></summary>\n*\n* ```typescript\n* import { ChatOpenAI } from '@langchain/openai';\n*\n* const llm = new ChatOpenAI({\n*   model: \"gpt-4o-mini\",\n*   temperature: 0,\n*   maxTokens: undefined,\n*   timeout: undefined,\n*   maxRetries: 2,\n*   // apiKey: \"...\",\n*   // configuration: {\n*   //   baseURL: \"...\",\n*   // }\n*   // organization: \"...\",\n*   // other params...\n* });\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Invoking</strong></summary>\n*\n* ```typescript\n* const input = `Translate \"I love programming\" into French.`;\n*\n* // Models also accept a list of chat messages or a formatted prompt\n* const result = await llm.invoke(input);\n* console.log(result);\n* ```\n*\n* ```txt\n* AIMessage {\n*   \"id\": \"chatcmpl-9u4Mpu44CbPjwYFkTbeoZgvzB00Tz\",\n*   \"content\": \"J'adore la programmation.\",\n*   \"response_metadata\": {\n*     \"tokenUsage\": {\n*       \"completionTokens\": 5,\n*       \"promptTokens\": 28,\n*       \"totalTokens\": 33\n*     },\n*     \"finish_reason\": \"stop\",\n*     \"system_fingerprint\": \"fp_3aa7262c27\"\n*   },\n*   \"usage_metadata\": {\n*     \"input_tokens\": 28,\n*     \"output_tokens\": 5,\n*     \"total_tokens\": 33\n*   }\n* }\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Streaming Chunks</strong></summary>\n*\n* ```typescript\n* for await (const chunk of await llm.stream(input)) {\n*   console.log(chunk);\n* }\n* ```\n*\n* ```txt\n* AIMessageChunk {\n*   \"id\": \"chatcmpl-9u4NWB7yUeHCKdLr6jP3HpaOYHTqs\",\n*   \"content\": \"\"\n* }\n* AIMessageChunk {\n*   \"content\": \"J\"\n* }\n* AIMessageChunk {\n*   \"content\": \"'adore\"\n* }\n* AIMessageChunk {\n*   \"content\": \" la\"\n* }\n* AIMessageChunk {\n*   \"content\": \" programmation\",,\n* }\n* AIMessageChunk {\n*   \"content\": \".\",,\n* }\n* AIMessageChunk {\n*   \"content\": \"\",\n*   \"response_metadata\": {\n*     \"finish_reason\": \"stop\",\n*     \"system_fingerprint\": \"fp_c9aa9c0491\"\n*   },\n* }\n* AIMessageChunk {\n*   \"content\": \"\",\n*   \"usage_metadata\": {\n*     \"input_tokens\": 28,\n*     \"output_tokens\": 5,\n*     \"total_tokens\": 33\n*   }\n* }\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Aggregate Streamed Chunks</strong></summary>\n*\n* ```typescript\n* import { AIMessageChunk } from '@langchain/core/messages';\n* import { concat } from '@langchain/core/utils/stream';\n*\n* const stream = await llm.stream(input);\n* let full: AIMessageChunk | undefined;\n* for await (const chunk of stream) {\n*   full = !full ? chunk : concat(full, chunk);\n* }\n* console.log(full);\n* ```\n*\n* ```txt\n* AIMessageChunk {\n*   \"id\": \"chatcmpl-9u4PnX6Fy7OmK46DASy0bH6cxn5Xu\",\n*   \"content\": \"J'adore la programmation.\",\n*   \"response_metadata\": {\n*     \"prompt\": 0,\n*     \"completion\": 0,\n*     \"finish_reason\": \"stop\",\n*   },\n*   \"usage_metadata\": {\n*     \"input_tokens\": 28,\n*     \"output_tokens\": 5,\n*     \"total_tokens\": 33\n*   }\n* }\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Bind tools</strong></summary>\n*\n* ```typescript\n* import { z } from 'zod';\n*\n* const GetWeather = {\n*   name: \"GetWeather\",\n*   description: \"Get the current weather in a given location\",\n*   schema: z.object({\n*     location: z.string().describe(\"The city and state, e.g. San Francisco, CA\")\n*   }),\n* }\n*\n* const GetPopulation = {\n*   name: \"GetPopulation\",\n*   description: \"Get the current population in a given location\",\n*   schema: z.object({\n*     location: z.string().describe(\"The city and state, e.g. San Francisco, CA\")\n*   }),\n* }\n*\n* const llmWithTools = llm.bindTools(\n*   [GetWeather, GetPopulation],\n*   {\n*     // strict: true  // enforce tool args schema is respected\n*   }\n* );\n* const aiMsg = await llmWithTools.invoke(\n*   \"Which city is hotter today and which is bigger: LA or NY?\"\n* );\n* console.log(aiMsg.tool_calls);\n* ```\n*\n* ```txt\n* [\n*   {\n*     name: 'GetWeather',\n*     args: { location: 'Los Angeles, CA' },\n*     type: 'tool_call',\n*     id: 'call_uPU4FiFzoKAtMxfmPnfQL6UK'\n*   },\n*   {\n*     name: 'GetWeather',\n*     args: { location: 'New York, NY' },\n*     type: 'tool_call',\n*     id: 'call_UNkEwuQsHrGYqgDQuH9nPAtX'\n*   },\n*   {\n*     name: 'GetPopulation',\n*     args: { location: 'Los Angeles, CA' },\n*     type: 'tool_call',\n*     id: 'call_kL3OXxaq9OjIKqRTpvjaCH14'\n*   },\n*   {\n*     name: 'GetPopulation',\n*     args: { location: 'New York, NY' },\n*     type: 'tool_call',\n*     id: 'call_s9KQB1UWj45LLGaEnjz0179q'\n*   }\n* ]\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Structured Output</strong></summary>\n*\n* ```typescript\n* import { z } from 'zod';\n*\n* const Joke = z.object({\n*   setup: z.string().describe(\"The setup of the joke\"),\n*   punchline: z.string().describe(\"The punchline to the joke\"),\n*   rating: z.number().nullable().describe(\"How funny the joke is, from 1 to 10\")\n* }).describe('Joke to tell user.');\n*\n* const structuredLlm = llm.withStructuredOutput(Joke, {\n*   name: \"Joke\",\n*   strict: true, // Optionally enable OpenAI structured outputs\n* });\n* const jokeResult = await structuredLlm.invoke(\"Tell me a joke about cats\");\n* console.log(jokeResult);\n* ```\n*\n* ```txt\n* {\n*   setup: 'Why was the cat sitting on the computer?',\n*   punchline: 'Because it wanted to keep an eye on the mouse!',\n*   rating: 7\n* }\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>JSON Object Response Format</strong></summary>\n*\n* ```typescript\n* const jsonLlm = llm.withConfig({ response_format: { type: \"json_object\" } });\n* const jsonLlmAiMsg = await jsonLlm.invoke(\n*   \"Return a JSON object with key 'randomInts' and a value of 10 random ints in [0-99]\"\n* );\n* console.log(jsonLlmAiMsg.content);\n* ```\n*\n* ```txt\n* {\n*   \"randomInts\": [23, 87, 45, 12, 78, 34, 56, 90, 11, 67]\n* }\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Multimodal</strong></summary>\n*\n* ```typescript\n* import { HumanMessage } from '@langchain/core/messages';\n*\n* const imageUrl = \"https://example.com/image.jpg\";\n* const imageData = await fetch(imageUrl).then(res => res.arrayBuffer());\n* const base64Image = Buffer.from(imageData).toString('base64');\n*\n* const message = new HumanMessage({\n*   content: [\n*     { type: \"text\", text: \"describe the weather in this image\" },\n*     {\n*       type: \"image_url\",\n*       image_url: { url: `data:image/jpeg;base64,${base64Image}` },\n*     },\n*   ]\n* });\n*\n* const imageDescriptionAiMsg = await llm.invoke([message]);\n* console.log(imageDescriptionAiMsg.content);\n* ```\n*\n* ```txt\n* The weather in the image appears to be clear and sunny. The sky is mostly blue with a few scattered white clouds, indicating fair weather. The bright sunlight is casting shadows on the green, grassy hill, suggesting it is a pleasant day with good visibility. There are no signs of rain or stormy conditions.\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Usage Metadata</strong></summary>\n*\n* ```typescript\n* const aiMsgForMetadata = await llm.invoke(input);\n* console.log(aiMsgForMetadata.usage_metadata);\n* ```\n*\n* ```txt\n* { input_tokens: 28, output_tokens: 5, total_tokens: 33 }\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Logprobs</strong></summary>\n*\n* ```typescript\n* const logprobsLlm = new ChatOpenAI({ model: \"gpt-4o-mini\", logprobs: true });\n* const aiMsgForLogprobs = await logprobsLlm.invoke(input);\n* console.log(aiMsgForLogprobs.response_metadata.logprobs);\n* ```\n*\n* ```txt\n* {\n*   content: [\n*     {\n*       token: 'J',\n*       logprob: -0.000050616763,\n*       bytes: [Array],\n*       top_logprobs: []\n*     },\n*     {\n*       token: \"'\",\n*       logprob: -0.01868736,\n*       bytes: [Array],\n*       top_logprobs: []\n*     },\n*     {\n*       token: 'ad',\n*       logprob: -0.0000030545007,\n*       bytes: [Array],\n*       top_logprobs: []\n*     },\n*     { token: 'ore', logprob: 0, bytes: [Array], top_logprobs: [] },\n*     {\n*       token: ' la',\n*       logprob: -0.515404,\n*       bytes: [Array],\n*       top_logprobs: []\n*     },\n*     {\n*       token: ' programm',\n*       logprob: -0.0000118755715,\n*       bytes: [Array],\n*       top_logprobs: []\n*     },\n*     { token: 'ation', logprob: 0, bytes: [Array], top_logprobs: [] },\n*     {\n*       token: '.',\n*       logprob: -0.0000037697225,\n*       bytes: [Array],\n*       top_logprobs: []\n*     }\n*   ],\n*   refusal: null\n* }\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Response Metadata</strong></summary>\n*\n* ```typescript\n* const aiMsgForResponseMetadata = await llm.invoke(input);\n* console.log(aiMsgForResponseMetadata.response_metadata);\n* ```\n*\n* ```txt\n* {\n*   tokenUsage: { completionTokens: 5, promptTokens: 28, totalTokens: 33 },\n*   finish_reason: 'stop',\n*   system_fingerprint: 'fp_3aa7262c27'\n* }\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>JSON Schema Structured Output</strong></summary>\n*\n* ```typescript\n* const llmForJsonSchema = new ChatOpenAI({\n*   model: \"gpt-4o-2024-08-06\",\n* }).withStructuredOutput(\n*   z.object({\n*     command: z.string().describe(\"The command to execute\"),\n*     expectedOutput: z.string().describe(\"The expected output of the command\"),\n*     options: z\n*       .array(z.string())\n*       .describe(\"The options you can pass to the command\"),\n*   }),\n*   {\n*     method: \"jsonSchema\",\n*     strict: true, // Optional when using the `jsonSchema` method\n*   }\n* );\n*\n* const jsonSchemaRes = await llmForJsonSchema.invoke(\n*   \"What is the command to list files in a directory?\"\n* );\n* console.log(jsonSchemaRes);\n* ```\n*\n* ```txt\n* {\n*   command: 'ls',\n*   expectedOutput: 'A list of files and subdirectories within the specified directory.',\n*   options: [\n*     '-a: include directory entries whose names begin with a dot (.).',\n*     '-l: use a long listing format.',\n*     '-h: with -l, print sizes in human readable format (e.g., 1K, 234M, 2G).',\n*     '-t: sort by time, newest first.',\n*     '-r: reverse order while sorting.',\n*     '-S: sort by file size, largest first.',\n*     '-R: list subdirectories recursively.'\n*   ]\n* }\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Audio Outputs</strong></summary>\n*\n* ```typescript\n* import { ChatOpenAI } from \"@langchain/openai\";\n*\n* const modelWithAudioOutput = new ChatOpenAI({\n*   model: \"gpt-4o-audio-preview\",\n*   // You may also pass these fields to `.withConfig` as a call argument.\n*   modalities: [\"text\", \"audio\"], // Specifies that the model should output audio.\n*   audio: {\n*     voice: \"alloy\",\n*     format: \"wav\",\n*   },\n* });\n*\n* const audioOutputResult = await modelWithAudioOutput.invoke(\"Tell me a joke about cats.\");\n* const castMessageContent = audioOutputResult.content[0] as Record<string, any>;\n*\n* console.log({\n*   ...castMessageContent,\n*   data: castMessageContent.data.slice(0, 100) // Sliced for brevity\n* })\n* ```\n*\n* ```txt\n* {\n*   id: 'audio_67117718c6008190a3afad3e3054b9b6',\n*   data: 'UklGRqYwBgBXQVZFZm10IBAAAAABAAEAwF0AAIC7AAACABAATElTVBoAAABJTkZPSVNGVA4AAABMYXZmNTguMjkuMTAwAGRhdGFg',\n*   expires_at: 1729201448,\n*   transcript: 'Sure! Why did the cat sit on the computer? Because it wanted to keep an eye on the mouse!'\n* }\n* ```\n* </details>\n*\n* <br />\n*\n* <details>\n* <summary><strong>Audio Outputs</strong></summary>\n*\n* ```typescript\n* import { ChatOpenAI } from \"@langchain/openai\";\n*\n* const modelWithAudioOutput = new ChatOpenAI({\n*   model: \"gpt-4o-audio-preview\",\n*   // You may also pass these fields to `.withConfig` as a call argument.\n*   modalities: [\"text\", \"audio\"], // Specifies that the model should output audio.\n*   audio: {\n*     voice: \"alloy\",\n*     format: \"wav\",\n*   },\n* });\n*\n* const audioOutputResult = await modelWithAudioOutput.invoke(\"Tell me a joke about cats.\");\n* const castAudioContent = audioOutputResult.additional_kwargs.audio as Record<string, any>;\n*\n* console.log({\n*   ...castAudioContent,\n*   data: castAudioContent.data.slice(0, 100) // Sliced for brevity\n* })\n* ```\n*\n* ```txt\n* {\n*   id: 'audio_67117718c6008190a3afad3e3054b9b6',\n*   data: 'UklGRqYwBgBXQVZFZm10IBAAAAABAAEAwF0AAIC7AAACABAATElTVBoAAABJTkZPSVNGVA4AAABMYXZmNTguMjkuMTAwAGRhdGFg',\n*   expires_at: 1729201448,\n*   transcript: 'Sure! Why did the cat sit on the computer? Because it wanted to keep an eye on the mouse!'\n* }\n* ```\n* </details>\n*\n* <br />\n*/\nvar ChatOpenAI = class ChatOpenAI extends _base_js__WEBPACK_IMPORTED_MODULE_2__.BaseChatOpenAI {\n\t/**\n\t* Whether to use the responses API for all requests. If `false` the responses API will be used\n\t* only when required in order to fulfill the request.\n\t*/\n\tuseResponsesApi = false;\n\tresponses;\n\tcompletions;\n\tget lc_serializable_keys() {\n\t\treturn [...super.lc_serializable_keys, \"useResponsesApi\"];\n\t}\n\tget callKeys() {\n\t\treturn [...super.callKeys, \"useResponsesApi\"];\n\t}\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.fields = fields;\n\t\tthis.useResponsesApi = fields?.useResponsesApi ?? false;\n\t\tthis.responses = fields?.responses ?? new _responses_js__WEBPACK_IMPORTED_MODULE_4__.ChatOpenAIResponses(fields);\n\t\tthis.completions = fields?.completions ?? new _completions_js__WEBPACK_IMPORTED_MODULE_3__.ChatOpenAICompletions(fields);\n\t}\n\t_useResponsesApi(options) {\n\t\tconst usesBuiltInTools = options?.tools?.some(_utils_tools_js__WEBPACK_IMPORTED_MODULE_0__.isBuiltInTool);\n\t\tconst hasResponsesOnlyKwargs = options?.previous_response_id != null || options?.text != null || options?.truncation != null || options?.include != null || options?.reasoning?.summary != null || this.reasoning?.summary != null;\n\t\tconst hasCustomTools = options?.tools?.some(_utils_tools_js__WEBPACK_IMPORTED_MODULE_0__.isOpenAICustomTool) || options?.tools?.some(_utils_tools_js__WEBPACK_IMPORTED_MODULE_0__.isCustomTool);\n\t\treturn this.useResponsesApi || usesBuiltInTools || hasResponsesOnlyKwargs || hasCustomTools || (0,_utils_misc_js__WEBPACK_IMPORTED_MODULE_1__._modelPrefersResponsesAPI)(this.model);\n\t}\n\tgetLsParams(options) {\n\t\tconst optionsWithDefaults = this._combineCallOptions(options);\n\t\tif (this._useResponsesApi(options)) return this.responses.getLsParams(optionsWithDefaults);\n\t\treturn this.completions.getLsParams(optionsWithDefaults);\n\t}\n\tinvocationParams(options) {\n\t\tconst optionsWithDefaults = this._combineCallOptions(options);\n\t\tif (this._useResponsesApi(options)) return this.responses.invocationParams(optionsWithDefaults);\n\t\treturn this.completions.invocationParams(optionsWithDefaults);\n\t}\n\t/** @ignore */\n\tasync _generate(messages, options, runManager) {\n\t\tif (this._useResponsesApi(options)) return this.responses._generate(messages, options);\n\t\treturn this.completions._generate(messages, options, runManager);\n\t}\n\tasync *_streamResponseChunks(messages, options, runManager) {\n\t\tif (this._useResponsesApi(options)) {\n\t\t\tyield* this.responses._streamResponseChunks(messages, this._combineCallOptions(options), runManager);\n\t\t\treturn;\n\t\t}\n\t\tyield* this.completions._streamResponseChunks(messages, this._combineCallOptions(options), runManager);\n\t}\n\twithConfig(config) {\n\t\tconst newModel = new ChatOpenAI(this.fields);\n\t\tnewModel.defaultOptions = {\n\t\t\t...this.defaultOptions,\n\t\t\t...config\n\t\t};\n\t\treturn newModel;\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L2NoYXRfbW9kZWxzL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFvRjtBQUN2QjtBQUNsQjtBQUNjO0FBQ0o7O0FBRXJEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGFBQWE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpQkFBaUI7QUFDNUIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxJQUFJO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsNkJBQTZCO0FBQzNDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGNBQWMsMEJBQTBCO0FBQ3hDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGNBQWMsNkJBQTZCO0FBQzNDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGNBQWMsMEJBQTBCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxJQUFJO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxtQkFBbUIsdUJBQXVCO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxlQUFlO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwwREFBMEQ7QUFDbEU7QUFDQTtBQUNBLHFCQUFxQixzQkFBc0IsU0FBUyxZQUFZLEdBQUc7QUFDbkUsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsc0NBQXNDO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsUUFBUSw0REFBNEQ7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLFFBQVEsOERBQThEO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix3REFBd0Q7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsYUFBYTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGFBQWE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxvREFBYztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLDhEQUFtQjtBQUMvRCxnREFBZ0Qsa0VBQXFCO0FBQ3JFO0FBQ0E7QUFDQSxnREFBZ0QsMERBQWE7QUFDN0Q7QUFDQSw4Q0FBOEMsK0RBQWtCLDBCQUEwQix5REFBWTtBQUN0RyxpR0FBaUcseUVBQXlCO0FBQzFIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDc0I7QUFDdEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rb3BlbmFpQDEuMi4zX0BsYW5nY2hhaW4rY29yZUAxLjEuMTcvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvY2hhdF9tb2RlbHMvaW5kZXguanM/MGI0ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0J1aWx0SW5Ub29sLCBpc0N1c3RvbVRvb2wsIGlzT3BlbkFJQ3VzdG9tVG9vbCB9IGZyb20gXCIuLi91dGlscy90b29scy5qc1wiO1xuaW1wb3J0IHsgX21vZGVsUHJlZmVyc1Jlc3BvbnNlc0FQSSB9IGZyb20gXCIuLi91dGlscy9taXNjLmpzXCI7XG5pbXBvcnQgeyBCYXNlQ2hhdE9wZW5BSSB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCB7IENoYXRPcGVuQUlDb21wbGV0aW9ucyB9IGZyb20gXCIuL2NvbXBsZXRpb25zLmpzXCI7XG5pbXBvcnQgeyBDaGF0T3BlbkFJUmVzcG9uc2VzIH0gZnJvbSBcIi4vcmVzcG9uc2VzLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvY2hhdF9tb2RlbHMvaW5kZXgudHNcbi8qKlxuKiBPcGVuQUkgY2hhdCBtb2RlbCBpbnRlZ3JhdGlvbi5cbipcbiogVG8gdXNlIHdpdGggQXp1cmUsIGltcG9ydCB0aGUgYEF6dXJlQ2hhdE9wZW5BSWAgY2xhc3MuXG4qXG4qIFNldHVwOlxuKiBJbnN0YWxsIGBAbGFuZ2NoYWluL29wZW5haWAgYW5kIHNldCBhbiBlbnZpcm9ubWVudCB2YXJpYWJsZSBuYW1lZCBgT1BFTkFJX0FQSV9LRVlgLlxuKlxuKiBgYGBiYXNoXG4qIG5wbSBpbnN0YWxsIEBsYW5nY2hhaW4vb3BlbmFpXG4qIGV4cG9ydCBPUEVOQUlfQVBJX0tFWT1cInlvdXItYXBpLWtleVwiXG4qIGBgYFxuKlxuKiAjIyBbQ29uc3RydWN0b3IgYXJnc10oaHR0cHM6Ly9hcGkuanMubGFuZ2NoYWluLmNvbS9jbGFzc2VzL2xhbmdjaGFpbl9vcGVuYWkuQ2hhdE9wZW5BSS5odG1sI2NvbnN0cnVjdG9yKVxuKlxuKiAjIyBbUnVudGltZSBhcmdzXShodHRwczovL2FwaS5qcy5sYW5nY2hhaW4uY29tL2ludGVyZmFjZXMvbGFuZ2NoYWluX29wZW5haS5DaGF0T3BlbkFJQ2FsbE9wdGlvbnMuaHRtbClcbipcbiogUnVudGltZSBhcmdzIGNhbiBiZSBwYXNzZWQgYXMgdGhlIHNlY29uZCBhcmd1bWVudCB0byBhbnkgb2YgdGhlIGJhc2UgcnVubmFibGUgbWV0aG9kcyBgLmludm9rZWAuIGAuc3RyZWFtYCwgYC5iYXRjaGAsIGV0Yy5cbiogVGhleSBjYW4gYWxzbyBiZSBwYXNzZWQgdmlhIGAud2l0aENvbmZpZ2AsIG9yIHRoZSBzZWNvbmQgYXJnIGluIGAuYmluZFRvb2xzYCwgbGlrZSBzaG93biBpbiB0aGUgZXhhbXBsZXMgYmVsb3c6XG4qXG4qIGBgYHR5cGVzY3JpcHRcbiogLy8gV2hlbiBjYWxsaW5nIGAud2l0aENvbmZpZ2AsIGNhbGwgb3B0aW9ucyBzaG91bGQgYmUgcGFzc2VkIHZpYSB0aGUgZmlyc3QgYXJndW1lbnRcbiogY29uc3QgbGxtV2l0aEFyZ3NCb3VuZCA9IGxsbS53aXRoQ29uZmlnKHtcbiogICBzdG9wOiBbXCJcXG5cIl0sXG4qICAgdG9vbHM6IFsuLi5dLFxuKiB9KTtcbipcbiogLy8gV2hlbiBjYWxsaW5nIGAuYmluZFRvb2xzYCwgY2FsbCBvcHRpb25zIHNob3VsZCBiZSBwYXNzZWQgdmlhIHRoZSBzZWNvbmQgYXJndW1lbnRcbiogY29uc3QgbGxtV2l0aFRvb2xzID0gbGxtLmJpbmRUb29scyhcbiogICBbLi4uXSxcbiogICB7XG4qICAgICB0b29sX2Nob2ljZTogXCJhdXRvXCIsXG4qICAgfVxuKiApO1xuKiBgYGBcbipcbiogIyMgRXhhbXBsZXNcbipcbiogPGRldGFpbHMgb3Blbj5cbiogPHN1bW1hcnk+PHN0cm9uZz5JbnN0YW50aWF0ZTwvc3Ryb25nPjwvc3VtbWFyeT5cbipcbiogYGBgdHlwZXNjcmlwdFxuKiBpbXBvcnQgeyBDaGF0T3BlbkFJIH0gZnJvbSAnQGxhbmdjaGFpbi9vcGVuYWknO1xuKlxuKiBjb25zdCBsbG0gPSBuZXcgQ2hhdE9wZW5BSSh7XG4qICAgbW9kZWw6IFwiZ3B0LTRvLW1pbmlcIixcbiogICB0ZW1wZXJhdHVyZTogMCxcbiogICBtYXhUb2tlbnM6IHVuZGVmaW5lZCxcbiogICB0aW1lb3V0OiB1bmRlZmluZWQsXG4qICAgbWF4UmV0cmllczogMixcbiogICAvLyBhcGlLZXk6IFwiLi4uXCIsXG4qICAgLy8gY29uZmlndXJhdGlvbjoge1xuKiAgIC8vICAgYmFzZVVSTDogXCIuLi5cIixcbiogICAvLyB9XG4qICAgLy8gb3JnYW5pemF0aW9uOiBcIi4uLlwiLFxuKiAgIC8vIG90aGVyIHBhcmFtcy4uLlxuKiB9KTtcbiogYGBgXG4qIDwvZGV0YWlscz5cbipcbiogPGJyIC8+XG4qXG4qIDxkZXRhaWxzPlxuKiA8c3VtbWFyeT48c3Ryb25nPkludm9raW5nPC9zdHJvbmc+PC9zdW1tYXJ5PlxuKlxuKiBgYGB0eXBlc2NyaXB0XG4qIGNvbnN0IGlucHV0ID0gYFRyYW5zbGF0ZSBcIkkgbG92ZSBwcm9ncmFtbWluZ1wiIGludG8gRnJlbmNoLmA7XG4qXG4qIC8vIE1vZGVscyBhbHNvIGFjY2VwdCBhIGxpc3Qgb2YgY2hhdCBtZXNzYWdlcyBvciBhIGZvcm1hdHRlZCBwcm9tcHRcbiogY29uc3QgcmVzdWx0ID0gYXdhaXQgbGxtLmludm9rZShpbnB1dCk7XG4qIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4qIGBgYFxuKlxuKiBgYGB0eHRcbiogQUlNZXNzYWdlIHtcbiogICBcImlkXCI6IFwiY2hhdGNtcGwtOXU0TXB1NDRDYlBqd1lGa1RiZW9aZ3Z6QjAwVHpcIixcbiogICBcImNvbnRlbnRcIjogXCJKJ2Fkb3JlIGxhIHByb2dyYW1tYXRpb24uXCIsXG4qICAgXCJyZXNwb25zZV9tZXRhZGF0YVwiOiB7XG4qICAgICBcInRva2VuVXNhZ2VcIjoge1xuKiAgICAgICBcImNvbXBsZXRpb25Ub2tlbnNcIjogNSxcbiogICAgICAgXCJwcm9tcHRUb2tlbnNcIjogMjgsXG4qICAgICAgIFwidG90YWxUb2tlbnNcIjogMzNcbiogICAgIH0sXG4qICAgICBcImZpbmlzaF9yZWFzb25cIjogXCJzdG9wXCIsXG4qICAgICBcInN5c3RlbV9maW5nZXJwcmludFwiOiBcImZwXzNhYTcyNjJjMjdcIlxuKiAgIH0sXG4qICAgXCJ1c2FnZV9tZXRhZGF0YVwiOiB7XG4qICAgICBcImlucHV0X3Rva2Vuc1wiOiAyOCxcbiogICAgIFwib3V0cHV0X3Rva2Vuc1wiOiA1LFxuKiAgICAgXCJ0b3RhbF90b2tlbnNcIjogMzNcbiogICB9XG4qIH1cbiogYGBgXG4qIDwvZGV0YWlscz5cbipcbiogPGJyIC8+XG4qXG4qIDxkZXRhaWxzPlxuKiA8c3VtbWFyeT48c3Ryb25nPlN0cmVhbWluZyBDaHVua3M8L3N0cm9uZz48L3N1bW1hcnk+XG4qXG4qIGBgYHR5cGVzY3JpcHRcbiogZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBhd2FpdCBsbG0uc3RyZWFtKGlucHV0KSkge1xuKiAgIGNvbnNvbGUubG9nKGNodW5rKTtcbiogfVxuKiBgYGBcbipcbiogYGBgdHh0XG4qIEFJTWVzc2FnZUNodW5rIHtcbiogICBcImlkXCI6IFwiY2hhdGNtcGwtOXU0TldCN3lVZUhDS2RMcjZqUDNIcGFPWUhUcXNcIixcbiogICBcImNvbnRlbnRcIjogXCJcIlxuKiB9XG4qIEFJTWVzc2FnZUNodW5rIHtcbiogICBcImNvbnRlbnRcIjogXCJKXCJcbiogfVxuKiBBSU1lc3NhZ2VDaHVuayB7XG4qICAgXCJjb250ZW50XCI6IFwiJ2Fkb3JlXCJcbiogfVxuKiBBSU1lc3NhZ2VDaHVuayB7XG4qICAgXCJjb250ZW50XCI6IFwiIGxhXCJcbiogfVxuKiBBSU1lc3NhZ2VDaHVuayB7XG4qICAgXCJjb250ZW50XCI6IFwiIHByb2dyYW1tYXRpb25cIiwsXG4qIH1cbiogQUlNZXNzYWdlQ2h1bmsge1xuKiAgIFwiY29udGVudFwiOiBcIi5cIiwsXG4qIH1cbiogQUlNZXNzYWdlQ2h1bmsge1xuKiAgIFwiY29udGVudFwiOiBcIlwiLFxuKiAgIFwicmVzcG9uc2VfbWV0YWRhdGFcIjoge1xuKiAgICAgXCJmaW5pc2hfcmVhc29uXCI6IFwic3RvcFwiLFxuKiAgICAgXCJzeXN0ZW1fZmluZ2VycHJpbnRcIjogXCJmcF9jOWFhOWMwNDkxXCJcbiogICB9LFxuKiB9XG4qIEFJTWVzc2FnZUNodW5rIHtcbiogICBcImNvbnRlbnRcIjogXCJcIixcbiogICBcInVzYWdlX21ldGFkYXRhXCI6IHtcbiogICAgIFwiaW5wdXRfdG9rZW5zXCI6IDI4LFxuKiAgICAgXCJvdXRwdXRfdG9rZW5zXCI6IDUsXG4qICAgICBcInRvdGFsX3Rva2Vuc1wiOiAzM1xuKiAgIH1cbiogfVxuKiBgYGBcbiogPC9kZXRhaWxzPlxuKlxuKiA8YnIgLz5cbipcbiogPGRldGFpbHM+XG4qIDxzdW1tYXJ5PjxzdHJvbmc+QWdncmVnYXRlIFN0cmVhbWVkIENodW5rczwvc3Ryb25nPjwvc3VtbWFyeT5cbipcbiogYGBgdHlwZXNjcmlwdFxuKiBpbXBvcnQgeyBBSU1lc3NhZ2VDaHVuayB9IGZyb20gJ0BsYW5nY2hhaW4vY29yZS9tZXNzYWdlcyc7XG4qIGltcG9ydCB7IGNvbmNhdCB9IGZyb20gJ0BsYW5nY2hhaW4vY29yZS91dGlscy9zdHJlYW0nO1xuKlxuKiBjb25zdCBzdHJlYW0gPSBhd2FpdCBsbG0uc3RyZWFtKGlucHV0KTtcbiogbGV0IGZ1bGw6IEFJTWVzc2FnZUNodW5rIHwgdW5kZWZpbmVkO1xuKiBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHN0cmVhbSkge1xuKiAgIGZ1bGwgPSAhZnVsbCA/IGNodW5rIDogY29uY2F0KGZ1bGwsIGNodW5rKTtcbiogfVxuKiBjb25zb2xlLmxvZyhmdWxsKTtcbiogYGBgXG4qXG4qIGBgYHR4dFxuKiBBSU1lc3NhZ2VDaHVuayB7XG4qICAgXCJpZFwiOiBcImNoYXRjbXBsLTl1NFBuWDZGeTdPbUs0NkRBU3kwYkg2Y3huNVh1XCIsXG4qICAgXCJjb250ZW50XCI6IFwiSidhZG9yZSBsYSBwcm9ncmFtbWF0aW9uLlwiLFxuKiAgIFwicmVzcG9uc2VfbWV0YWRhdGFcIjoge1xuKiAgICAgXCJwcm9tcHRcIjogMCxcbiogICAgIFwiY29tcGxldGlvblwiOiAwLFxuKiAgICAgXCJmaW5pc2hfcmVhc29uXCI6IFwic3RvcFwiLFxuKiAgIH0sXG4qICAgXCJ1c2FnZV9tZXRhZGF0YVwiOiB7XG4qICAgICBcImlucHV0X3Rva2Vuc1wiOiAyOCxcbiogICAgIFwib3V0cHV0X3Rva2Vuc1wiOiA1LFxuKiAgICAgXCJ0b3RhbF90b2tlbnNcIjogMzNcbiogICB9XG4qIH1cbiogYGBgXG4qIDwvZGV0YWlscz5cbipcbiogPGJyIC8+XG4qXG4qIDxkZXRhaWxzPlxuKiA8c3VtbWFyeT48c3Ryb25nPkJpbmQgdG9vbHM8L3N0cm9uZz48L3N1bW1hcnk+XG4qXG4qIGBgYHR5cGVzY3JpcHRcbiogaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG4qXG4qIGNvbnN0IEdldFdlYXRoZXIgPSB7XG4qICAgbmFtZTogXCJHZXRXZWF0aGVyXCIsXG4qICAgZGVzY3JpcHRpb246IFwiR2V0IHRoZSBjdXJyZW50IHdlYXRoZXIgaW4gYSBnaXZlbiBsb2NhdGlvblwiLFxuKiAgIHNjaGVtYTogei5vYmplY3Qoe1xuKiAgICAgbG9jYXRpb246IHouc3RyaW5nKCkuZGVzY3JpYmUoXCJUaGUgY2l0eSBhbmQgc3RhdGUsIGUuZy4gU2FuIEZyYW5jaXNjbywgQ0FcIilcbiogICB9KSxcbiogfVxuKlxuKiBjb25zdCBHZXRQb3B1bGF0aW9uID0ge1xuKiAgIG5hbWU6IFwiR2V0UG9wdWxhdGlvblwiLFxuKiAgIGRlc2NyaXB0aW9uOiBcIkdldCB0aGUgY3VycmVudCBwb3B1bGF0aW9uIGluIGEgZ2l2ZW4gbG9jYXRpb25cIixcbiogICBzY2hlbWE6IHoub2JqZWN0KHtcbiogICAgIGxvY2F0aW9uOiB6LnN0cmluZygpLmRlc2NyaWJlKFwiVGhlIGNpdHkgYW5kIHN0YXRlLCBlLmcuIFNhbiBGcmFuY2lzY28sIENBXCIpXG4qICAgfSksXG4qIH1cbipcbiogY29uc3QgbGxtV2l0aFRvb2xzID0gbGxtLmJpbmRUb29scyhcbiogICBbR2V0V2VhdGhlciwgR2V0UG9wdWxhdGlvbl0sXG4qICAge1xuKiAgICAgLy8gc3RyaWN0OiB0cnVlICAvLyBlbmZvcmNlIHRvb2wgYXJncyBzY2hlbWEgaXMgcmVzcGVjdGVkXG4qICAgfVxuKiApO1xuKiBjb25zdCBhaU1zZyA9IGF3YWl0IGxsbVdpdGhUb29scy5pbnZva2UoXG4qICAgXCJXaGljaCBjaXR5IGlzIGhvdHRlciB0b2RheSBhbmQgd2hpY2ggaXMgYmlnZ2VyOiBMQSBvciBOWT9cIlxuKiApO1xuKiBjb25zb2xlLmxvZyhhaU1zZy50b29sX2NhbGxzKTtcbiogYGBgXG4qXG4qIGBgYHR4dFxuKiBbXG4qICAge1xuKiAgICAgbmFtZTogJ0dldFdlYXRoZXInLFxuKiAgICAgYXJnczogeyBsb2NhdGlvbjogJ0xvcyBBbmdlbGVzLCBDQScgfSxcbiogICAgIHR5cGU6ICd0b29sX2NhbGwnLFxuKiAgICAgaWQ6ICdjYWxsX3VQVTRGaUZ6b0tBdE14Zm1QbmZRTDZVSydcbiogICB9LFxuKiAgIHtcbiogICAgIG5hbWU6ICdHZXRXZWF0aGVyJyxcbiogICAgIGFyZ3M6IHsgbG9jYXRpb246ICdOZXcgWW9yaywgTlknIH0sXG4qICAgICB0eXBlOiAndG9vbF9jYWxsJyxcbiogICAgIGlkOiAnY2FsbF9VTmtFd3VRc0hyR1lxZ0RRdUg5blBBdFgnXG4qICAgfSxcbiogICB7XG4qICAgICBuYW1lOiAnR2V0UG9wdWxhdGlvbicsXG4qICAgICBhcmdzOiB7IGxvY2F0aW9uOiAnTG9zIEFuZ2VsZXMsIENBJyB9LFxuKiAgICAgdHlwZTogJ3Rvb2xfY2FsbCcsXG4qICAgICBpZDogJ2NhbGxfa0wzT1h4YXE5T2pJS3FSVHB2amFDSDE0J1xuKiAgIH0sXG4qICAge1xuKiAgICAgbmFtZTogJ0dldFBvcHVsYXRpb24nLFxuKiAgICAgYXJnczogeyBsb2NhdGlvbjogJ05ldyBZb3JrLCBOWScgfSxcbiogICAgIHR5cGU6ICd0b29sX2NhbGwnLFxuKiAgICAgaWQ6ICdjYWxsX3M5S1FCMVVXajQ1TExHYUVuanowMTc5cSdcbiogICB9XG4qIF1cbiogYGBgXG4qIDwvZGV0YWlscz5cbipcbiogPGJyIC8+XG4qXG4qIDxkZXRhaWxzPlxuKiA8c3VtbWFyeT48c3Ryb25nPlN0cnVjdHVyZWQgT3V0cHV0PC9zdHJvbmc+PC9zdW1tYXJ5PlxuKlxuKiBgYGB0eXBlc2NyaXB0XG4qIGltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xuKlxuKiBjb25zdCBKb2tlID0gei5vYmplY3Qoe1xuKiAgIHNldHVwOiB6LnN0cmluZygpLmRlc2NyaWJlKFwiVGhlIHNldHVwIG9mIHRoZSBqb2tlXCIpLFxuKiAgIHB1bmNobGluZTogei5zdHJpbmcoKS5kZXNjcmliZShcIlRoZSBwdW5jaGxpbmUgdG8gdGhlIGpva2VcIiksXG4qICAgcmF0aW5nOiB6Lm51bWJlcigpLm51bGxhYmxlKCkuZGVzY3JpYmUoXCJIb3cgZnVubnkgdGhlIGpva2UgaXMsIGZyb20gMSB0byAxMFwiKVxuKiB9KS5kZXNjcmliZSgnSm9rZSB0byB0ZWxsIHVzZXIuJyk7XG4qXG4qIGNvbnN0IHN0cnVjdHVyZWRMbG0gPSBsbG0ud2l0aFN0cnVjdHVyZWRPdXRwdXQoSm9rZSwge1xuKiAgIG5hbWU6IFwiSm9rZVwiLFxuKiAgIHN0cmljdDogdHJ1ZSwgLy8gT3B0aW9uYWxseSBlbmFibGUgT3BlbkFJIHN0cnVjdHVyZWQgb3V0cHV0c1xuKiB9KTtcbiogY29uc3Qgam9rZVJlc3VsdCA9IGF3YWl0IHN0cnVjdHVyZWRMbG0uaW52b2tlKFwiVGVsbCBtZSBhIGpva2UgYWJvdXQgY2F0c1wiKTtcbiogY29uc29sZS5sb2coam9rZVJlc3VsdCk7XG4qIGBgYFxuKlxuKiBgYGB0eHRcbioge1xuKiAgIHNldHVwOiAnV2h5IHdhcyB0aGUgY2F0IHNpdHRpbmcgb24gdGhlIGNvbXB1dGVyPycsXG4qICAgcHVuY2hsaW5lOiAnQmVjYXVzZSBpdCB3YW50ZWQgdG8ga2VlcCBhbiBleWUgb24gdGhlIG1vdXNlIScsXG4qICAgcmF0aW5nOiA3XG4qIH1cbiogYGBgXG4qIDwvZGV0YWlscz5cbipcbiogPGJyIC8+XG4qXG4qIDxkZXRhaWxzPlxuKiA8c3VtbWFyeT48c3Ryb25nPkpTT04gT2JqZWN0IFJlc3BvbnNlIEZvcm1hdDwvc3Ryb25nPjwvc3VtbWFyeT5cbipcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBqc29uTGxtID0gbGxtLndpdGhDb25maWcoeyByZXNwb25zZV9mb3JtYXQ6IHsgdHlwZTogXCJqc29uX29iamVjdFwiIH0gfSk7XG4qIGNvbnN0IGpzb25MbG1BaU1zZyA9IGF3YWl0IGpzb25MbG0uaW52b2tlKFxuKiAgIFwiUmV0dXJuIGEgSlNPTiBvYmplY3Qgd2l0aCBrZXkgJ3JhbmRvbUludHMnIGFuZCBhIHZhbHVlIG9mIDEwIHJhbmRvbSBpbnRzIGluIFswLTk5XVwiXG4qICk7XG4qIGNvbnNvbGUubG9nKGpzb25MbG1BaU1zZy5jb250ZW50KTtcbiogYGBgXG4qXG4qIGBgYHR4dFxuKiB7XG4qICAgXCJyYW5kb21JbnRzXCI6IFsyMywgODcsIDQ1LCAxMiwgNzgsIDM0LCA1NiwgOTAsIDExLCA2N11cbiogfVxuKiBgYGBcbiogPC9kZXRhaWxzPlxuKlxuKiA8YnIgLz5cbipcbiogPGRldGFpbHM+XG4qIDxzdW1tYXJ5PjxzdHJvbmc+TXVsdGltb2RhbDwvc3Ryb25nPjwvc3VtbWFyeT5cbipcbiogYGBgdHlwZXNjcmlwdFxuKiBpbXBvcnQgeyBIdW1hbk1lc3NhZ2UgfSBmcm9tICdAbGFuZ2NoYWluL2NvcmUvbWVzc2FnZXMnO1xuKlxuKiBjb25zdCBpbWFnZVVybCA9IFwiaHR0cHM6Ly9leGFtcGxlLmNvbS9pbWFnZS5qcGdcIjtcbiogY29uc3QgaW1hZ2VEYXRhID0gYXdhaXQgZmV0Y2goaW1hZ2VVcmwpLnRoZW4ocmVzID0+IHJlcy5hcnJheUJ1ZmZlcigpKTtcbiogY29uc3QgYmFzZTY0SW1hZ2UgPSBCdWZmZXIuZnJvbShpbWFnZURhdGEpLnRvU3RyaW5nKCdiYXNlNjQnKTtcbipcbiogY29uc3QgbWVzc2FnZSA9IG5ldyBIdW1hbk1lc3NhZ2Uoe1xuKiAgIGNvbnRlbnQ6IFtcbiogICAgIHsgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IFwiZGVzY3JpYmUgdGhlIHdlYXRoZXIgaW4gdGhpcyBpbWFnZVwiIH0sXG4qICAgICB7XG4qICAgICAgIHR5cGU6IFwiaW1hZ2VfdXJsXCIsXG4qICAgICAgIGltYWdlX3VybDogeyB1cmw6IGBkYXRhOmltYWdlL2pwZWc7YmFzZTY0LCR7YmFzZTY0SW1hZ2V9YCB9LFxuKiAgICAgfSxcbiogICBdXG4qIH0pO1xuKlxuKiBjb25zdCBpbWFnZURlc2NyaXB0aW9uQWlNc2cgPSBhd2FpdCBsbG0uaW52b2tlKFttZXNzYWdlXSk7XG4qIGNvbnNvbGUubG9nKGltYWdlRGVzY3JpcHRpb25BaU1zZy5jb250ZW50KTtcbiogYGBgXG4qXG4qIGBgYHR4dFxuKiBUaGUgd2VhdGhlciBpbiB0aGUgaW1hZ2UgYXBwZWFycyB0byBiZSBjbGVhciBhbmQgc3VubnkuIFRoZSBza3kgaXMgbW9zdGx5IGJsdWUgd2l0aCBhIGZldyBzY2F0dGVyZWQgd2hpdGUgY2xvdWRzLCBpbmRpY2F0aW5nIGZhaXIgd2VhdGhlci4gVGhlIGJyaWdodCBzdW5saWdodCBpcyBjYXN0aW5nIHNoYWRvd3Mgb24gdGhlIGdyZWVuLCBncmFzc3kgaGlsbCwgc3VnZ2VzdGluZyBpdCBpcyBhIHBsZWFzYW50IGRheSB3aXRoIGdvb2QgdmlzaWJpbGl0eS4gVGhlcmUgYXJlIG5vIHNpZ25zIG9mIHJhaW4gb3Igc3Rvcm15IGNvbmRpdGlvbnMuXG4qIGBgYFxuKiA8L2RldGFpbHM+XG4qXG4qIDxiciAvPlxuKlxuKiA8ZGV0YWlscz5cbiogPHN1bW1hcnk+PHN0cm9uZz5Vc2FnZSBNZXRhZGF0YTwvc3Ryb25nPjwvc3VtbWFyeT5cbipcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBhaU1zZ0Zvck1ldGFkYXRhID0gYXdhaXQgbGxtLmludm9rZShpbnB1dCk7XG4qIGNvbnNvbGUubG9nKGFpTXNnRm9yTWV0YWRhdGEudXNhZ2VfbWV0YWRhdGEpO1xuKiBgYGBcbipcbiogYGBgdHh0XG4qIHsgaW5wdXRfdG9rZW5zOiAyOCwgb3V0cHV0X3Rva2VuczogNSwgdG90YWxfdG9rZW5zOiAzMyB9XG4qIGBgYFxuKiA8L2RldGFpbHM+XG4qXG4qIDxiciAvPlxuKlxuKiA8ZGV0YWlscz5cbiogPHN1bW1hcnk+PHN0cm9uZz5Mb2dwcm9iczwvc3Ryb25nPjwvc3VtbWFyeT5cbipcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBsb2dwcm9ic0xsbSA9IG5ldyBDaGF0T3BlbkFJKHsgbW9kZWw6IFwiZ3B0LTRvLW1pbmlcIiwgbG9ncHJvYnM6IHRydWUgfSk7XG4qIGNvbnN0IGFpTXNnRm9yTG9ncHJvYnMgPSBhd2FpdCBsb2dwcm9ic0xsbS5pbnZva2UoaW5wdXQpO1xuKiBjb25zb2xlLmxvZyhhaU1zZ0ZvckxvZ3Byb2JzLnJlc3BvbnNlX21ldGFkYXRhLmxvZ3Byb2JzKTtcbiogYGBgXG4qXG4qIGBgYHR4dFxuKiB7XG4qICAgY29udGVudDogW1xuKiAgICAge1xuKiAgICAgICB0b2tlbjogJ0onLFxuKiAgICAgICBsb2dwcm9iOiAtMC4wMDAwNTA2MTY3NjMsXG4qICAgICAgIGJ5dGVzOiBbQXJyYXldLFxuKiAgICAgICB0b3BfbG9ncHJvYnM6IFtdXG4qICAgICB9LFxuKiAgICAge1xuKiAgICAgICB0b2tlbjogXCInXCIsXG4qICAgICAgIGxvZ3Byb2I6IC0wLjAxODY4NzM2LFxuKiAgICAgICBieXRlczogW0FycmF5XSxcbiogICAgICAgdG9wX2xvZ3Byb2JzOiBbXVxuKiAgICAgfSxcbiogICAgIHtcbiogICAgICAgdG9rZW46ICdhZCcsXG4qICAgICAgIGxvZ3Byb2I6IC0wLjAwMDAwMzA1NDUwMDcsXG4qICAgICAgIGJ5dGVzOiBbQXJyYXldLFxuKiAgICAgICB0b3BfbG9ncHJvYnM6IFtdXG4qICAgICB9LFxuKiAgICAgeyB0b2tlbjogJ29yZScsIGxvZ3Byb2I6IDAsIGJ5dGVzOiBbQXJyYXldLCB0b3BfbG9ncHJvYnM6IFtdIH0sXG4qICAgICB7XG4qICAgICAgIHRva2VuOiAnIGxhJyxcbiogICAgICAgbG9ncHJvYjogLTAuNTE1NDA0LFxuKiAgICAgICBieXRlczogW0FycmF5XSxcbiogICAgICAgdG9wX2xvZ3Byb2JzOiBbXVxuKiAgICAgfSxcbiogICAgIHtcbiogICAgICAgdG9rZW46ICcgcHJvZ3JhbW0nLFxuKiAgICAgICBsb2dwcm9iOiAtMC4wMDAwMTE4NzU1NzE1LFxuKiAgICAgICBieXRlczogW0FycmF5XSxcbiogICAgICAgdG9wX2xvZ3Byb2JzOiBbXVxuKiAgICAgfSxcbiogICAgIHsgdG9rZW46ICdhdGlvbicsIGxvZ3Byb2I6IDAsIGJ5dGVzOiBbQXJyYXldLCB0b3BfbG9ncHJvYnM6IFtdIH0sXG4qICAgICB7XG4qICAgICAgIHRva2VuOiAnLicsXG4qICAgICAgIGxvZ3Byb2I6IC0wLjAwMDAwMzc2OTcyMjUsXG4qICAgICAgIGJ5dGVzOiBbQXJyYXldLFxuKiAgICAgICB0b3BfbG9ncHJvYnM6IFtdXG4qICAgICB9XG4qICAgXSxcbiogICByZWZ1c2FsOiBudWxsXG4qIH1cbiogYGBgXG4qIDwvZGV0YWlscz5cbipcbiogPGJyIC8+XG4qXG4qIDxkZXRhaWxzPlxuKiA8c3VtbWFyeT48c3Ryb25nPlJlc3BvbnNlIE1ldGFkYXRhPC9zdHJvbmc+PC9zdW1tYXJ5PlxuKlxuKiBgYGB0eXBlc2NyaXB0XG4qIGNvbnN0IGFpTXNnRm9yUmVzcG9uc2VNZXRhZGF0YSA9IGF3YWl0IGxsbS5pbnZva2UoaW5wdXQpO1xuKiBjb25zb2xlLmxvZyhhaU1zZ0ZvclJlc3BvbnNlTWV0YWRhdGEucmVzcG9uc2VfbWV0YWRhdGEpO1xuKiBgYGBcbipcbiogYGBgdHh0XG4qIHtcbiogICB0b2tlblVzYWdlOiB7IGNvbXBsZXRpb25Ub2tlbnM6IDUsIHByb21wdFRva2VuczogMjgsIHRvdGFsVG9rZW5zOiAzMyB9LFxuKiAgIGZpbmlzaF9yZWFzb246ICdzdG9wJyxcbiogICBzeXN0ZW1fZmluZ2VycHJpbnQ6ICdmcF8zYWE3MjYyYzI3J1xuKiB9XG4qIGBgYFxuKiA8L2RldGFpbHM+XG4qXG4qIDxiciAvPlxuKlxuKiA8ZGV0YWlscz5cbiogPHN1bW1hcnk+PHN0cm9uZz5KU09OIFNjaGVtYSBTdHJ1Y3R1cmVkIE91dHB1dDwvc3Ryb25nPjwvc3VtbWFyeT5cbipcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBsbG1Gb3JKc29uU2NoZW1hID0gbmV3IENoYXRPcGVuQUkoe1xuKiAgIG1vZGVsOiBcImdwdC00by0yMDI0LTA4LTA2XCIsXG4qIH0pLndpdGhTdHJ1Y3R1cmVkT3V0cHV0KFxuKiAgIHoub2JqZWN0KHtcbiogICAgIGNvbW1hbmQ6IHouc3RyaW5nKCkuZGVzY3JpYmUoXCJUaGUgY29tbWFuZCB0byBleGVjdXRlXCIpLFxuKiAgICAgZXhwZWN0ZWRPdXRwdXQ6IHouc3RyaW5nKCkuZGVzY3JpYmUoXCJUaGUgZXhwZWN0ZWQgb3V0cHV0IG9mIHRoZSBjb21tYW5kXCIpLFxuKiAgICAgb3B0aW9uczogelxuKiAgICAgICAuYXJyYXkoei5zdHJpbmcoKSlcbiogICAgICAgLmRlc2NyaWJlKFwiVGhlIG9wdGlvbnMgeW91IGNhbiBwYXNzIHRvIHRoZSBjb21tYW5kXCIpLFxuKiAgIH0pLFxuKiAgIHtcbiogICAgIG1ldGhvZDogXCJqc29uU2NoZW1hXCIsXG4qICAgICBzdHJpY3Q6IHRydWUsIC8vIE9wdGlvbmFsIHdoZW4gdXNpbmcgdGhlIGBqc29uU2NoZW1hYCBtZXRob2RcbiogICB9XG4qICk7XG4qXG4qIGNvbnN0IGpzb25TY2hlbWFSZXMgPSBhd2FpdCBsbG1Gb3JKc29uU2NoZW1hLmludm9rZShcbiogICBcIldoYXQgaXMgdGhlIGNvbW1hbmQgdG8gbGlzdCBmaWxlcyBpbiBhIGRpcmVjdG9yeT9cIlxuKiApO1xuKiBjb25zb2xlLmxvZyhqc29uU2NoZW1hUmVzKTtcbiogYGBgXG4qXG4qIGBgYHR4dFxuKiB7XG4qICAgY29tbWFuZDogJ2xzJyxcbiogICBleHBlY3RlZE91dHB1dDogJ0EgbGlzdCBvZiBmaWxlcyBhbmQgc3ViZGlyZWN0b3JpZXMgd2l0aGluIHRoZSBzcGVjaWZpZWQgZGlyZWN0b3J5LicsXG4qICAgb3B0aW9uczogW1xuKiAgICAgJy1hOiBpbmNsdWRlIGRpcmVjdG9yeSBlbnRyaWVzIHdob3NlIG5hbWVzIGJlZ2luIHdpdGggYSBkb3QgKC4pLicsXG4qICAgICAnLWw6IHVzZSBhIGxvbmcgbGlzdGluZyBmb3JtYXQuJyxcbiogICAgICctaDogd2l0aCAtbCwgcHJpbnQgc2l6ZXMgaW4gaHVtYW4gcmVhZGFibGUgZm9ybWF0IChlLmcuLCAxSywgMjM0TSwgMkcpLicsXG4qICAgICAnLXQ6IHNvcnQgYnkgdGltZSwgbmV3ZXN0IGZpcnN0LicsXG4qICAgICAnLXI6IHJldmVyc2Ugb3JkZXIgd2hpbGUgc29ydGluZy4nLFxuKiAgICAgJy1TOiBzb3J0IGJ5IGZpbGUgc2l6ZSwgbGFyZ2VzdCBmaXJzdC4nLFxuKiAgICAgJy1SOiBsaXN0IHN1YmRpcmVjdG9yaWVzIHJlY3Vyc2l2ZWx5LidcbiogICBdXG4qIH1cbiogYGBgXG4qIDwvZGV0YWlscz5cbipcbiogPGJyIC8+XG4qXG4qIDxkZXRhaWxzPlxuKiA8c3VtbWFyeT48c3Ryb25nPkF1ZGlvIE91dHB1dHM8L3N0cm9uZz48L3N1bW1hcnk+XG4qXG4qIGBgYHR5cGVzY3JpcHRcbiogaW1wb3J0IHsgQ2hhdE9wZW5BSSB9IGZyb20gXCJAbGFuZ2NoYWluL29wZW5haVwiO1xuKlxuKiBjb25zdCBtb2RlbFdpdGhBdWRpb091dHB1dCA9IG5ldyBDaGF0T3BlbkFJKHtcbiogICBtb2RlbDogXCJncHQtNG8tYXVkaW8tcHJldmlld1wiLFxuKiAgIC8vIFlvdSBtYXkgYWxzbyBwYXNzIHRoZXNlIGZpZWxkcyB0byBgLndpdGhDb25maWdgIGFzIGEgY2FsbCBhcmd1bWVudC5cbiogICBtb2RhbGl0aWVzOiBbXCJ0ZXh0XCIsIFwiYXVkaW9cIl0sIC8vIFNwZWNpZmllcyB0aGF0IHRoZSBtb2RlbCBzaG91bGQgb3V0cHV0IGF1ZGlvLlxuKiAgIGF1ZGlvOiB7XG4qICAgICB2b2ljZTogXCJhbGxveVwiLFxuKiAgICAgZm9ybWF0OiBcIndhdlwiLFxuKiAgIH0sXG4qIH0pO1xuKlxuKiBjb25zdCBhdWRpb091dHB1dFJlc3VsdCA9IGF3YWl0IG1vZGVsV2l0aEF1ZGlvT3V0cHV0Lmludm9rZShcIlRlbGwgbWUgYSBqb2tlIGFib3V0IGNhdHMuXCIpO1xuKiBjb25zdCBjYXN0TWVzc2FnZUNvbnRlbnQgPSBhdWRpb091dHB1dFJlc3VsdC5jb250ZW50WzBdIGFzIFJlY29yZDxzdHJpbmcsIGFueT47XG4qXG4qIGNvbnNvbGUubG9nKHtcbiogICAuLi5jYXN0TWVzc2FnZUNvbnRlbnQsXG4qICAgZGF0YTogY2FzdE1lc3NhZ2VDb250ZW50LmRhdGEuc2xpY2UoMCwgMTAwKSAvLyBTbGljZWQgZm9yIGJyZXZpdHlcbiogfSlcbiogYGBgXG4qXG4qIGBgYHR4dFxuKiB7XG4qICAgaWQ6ICdhdWRpb182NzExNzcxOGM2MDA4MTkwYTNhZmFkM2UzMDU0YjliNicsXG4qICAgZGF0YTogJ1VrbEdScVl3QmdCWFFWWkZabTEwSUJBQUFBQUJBQUVBd0YwQUFJQzdBQUFDQUJBQVRFbFRWQm9BQUFCSlRrWlBTVk5HVkE0QUFBQk1ZWFptTlRndU1qa3VNVEF3QUdSaGRHRmcnLFxuKiAgIGV4cGlyZXNfYXQ6IDE3MjkyMDE0NDgsXG4qICAgdHJhbnNjcmlwdDogJ1N1cmUhIFdoeSBkaWQgdGhlIGNhdCBzaXQgb24gdGhlIGNvbXB1dGVyPyBCZWNhdXNlIGl0IHdhbnRlZCB0byBrZWVwIGFuIGV5ZSBvbiB0aGUgbW91c2UhJ1xuKiB9XG4qIGBgYFxuKiA8L2RldGFpbHM+XG4qXG4qIDxiciAvPlxuKlxuKiA8ZGV0YWlscz5cbiogPHN1bW1hcnk+PHN0cm9uZz5BdWRpbyBPdXRwdXRzPC9zdHJvbmc+PC9zdW1tYXJ5PlxuKlxuKiBgYGB0eXBlc2NyaXB0XG4qIGltcG9ydCB7IENoYXRPcGVuQUkgfSBmcm9tIFwiQGxhbmdjaGFpbi9vcGVuYWlcIjtcbipcbiogY29uc3QgbW9kZWxXaXRoQXVkaW9PdXRwdXQgPSBuZXcgQ2hhdE9wZW5BSSh7XG4qICAgbW9kZWw6IFwiZ3B0LTRvLWF1ZGlvLXByZXZpZXdcIixcbiogICAvLyBZb3UgbWF5IGFsc28gcGFzcyB0aGVzZSBmaWVsZHMgdG8gYC53aXRoQ29uZmlnYCBhcyBhIGNhbGwgYXJndW1lbnQuXG4qICAgbW9kYWxpdGllczogW1widGV4dFwiLCBcImF1ZGlvXCJdLCAvLyBTcGVjaWZpZXMgdGhhdCB0aGUgbW9kZWwgc2hvdWxkIG91dHB1dCBhdWRpby5cbiogICBhdWRpbzoge1xuKiAgICAgdm9pY2U6IFwiYWxsb3lcIixcbiogICAgIGZvcm1hdDogXCJ3YXZcIixcbiogICB9LFxuKiB9KTtcbipcbiogY29uc3QgYXVkaW9PdXRwdXRSZXN1bHQgPSBhd2FpdCBtb2RlbFdpdGhBdWRpb091dHB1dC5pbnZva2UoXCJUZWxsIG1lIGEgam9rZSBhYm91dCBjYXRzLlwiKTtcbiogY29uc3QgY2FzdEF1ZGlvQ29udGVudCA9IGF1ZGlvT3V0cHV0UmVzdWx0LmFkZGl0aW9uYWxfa3dhcmdzLmF1ZGlvIGFzIFJlY29yZDxzdHJpbmcsIGFueT47XG4qXG4qIGNvbnNvbGUubG9nKHtcbiogICAuLi5jYXN0QXVkaW9Db250ZW50LFxuKiAgIGRhdGE6IGNhc3RBdWRpb0NvbnRlbnQuZGF0YS5zbGljZSgwLCAxMDApIC8vIFNsaWNlZCBmb3IgYnJldml0eVxuKiB9KVxuKiBgYGBcbipcbiogYGBgdHh0XG4qIHtcbiogICBpZDogJ2F1ZGlvXzY3MTE3NzE4YzYwMDgxOTBhM2FmYWQzZTMwNTRiOWI2JyxcbiogICBkYXRhOiAnVWtsR1JxWXdCZ0JYUVZaRlptMTBJQkFBQUFBQkFBRUF3RjBBQUlDN0FBQUNBQkFBVEVsVFZCb0FBQUJKVGtaUFNWTkdWQTRBQUFCTVlYWm1OVGd1TWprdU1UQXdBR1JoZEdGZycsXG4qICAgZXhwaXJlc19hdDogMTcyOTIwMTQ0OCxcbiogICB0cmFuc2NyaXB0OiAnU3VyZSEgV2h5IGRpZCB0aGUgY2F0IHNpdCBvbiB0aGUgY29tcHV0ZXI/IEJlY2F1c2UgaXQgd2FudGVkIHRvIGtlZXAgYW4gZXllIG9uIHRoZSBtb3VzZSEnXG4qIH1cbiogYGBgXG4qIDwvZGV0YWlscz5cbipcbiogPGJyIC8+XG4qL1xudmFyIENoYXRPcGVuQUkgPSBjbGFzcyBDaGF0T3BlbkFJIGV4dGVuZHMgQmFzZUNoYXRPcGVuQUkge1xuXHQvKipcblx0KiBXaGV0aGVyIHRvIHVzZSB0aGUgcmVzcG9uc2VzIEFQSSBmb3IgYWxsIHJlcXVlc3RzLiBJZiBgZmFsc2VgIHRoZSByZXNwb25zZXMgQVBJIHdpbGwgYmUgdXNlZFxuXHQqIG9ubHkgd2hlbiByZXF1aXJlZCBpbiBvcmRlciB0byBmdWxmaWxsIHRoZSByZXF1ZXN0LlxuXHQqL1xuXHR1c2VSZXNwb25zZXNBcGkgPSBmYWxzZTtcblx0cmVzcG9uc2VzO1xuXHRjb21wbGV0aW9ucztcblx0Z2V0IGxjX3NlcmlhbGl6YWJsZV9rZXlzKCkge1xuXHRcdHJldHVybiBbLi4uc3VwZXIubGNfc2VyaWFsaXphYmxlX2tleXMsIFwidXNlUmVzcG9uc2VzQXBpXCJdO1xuXHR9XG5cdGdldCBjYWxsS2V5cygpIHtcblx0XHRyZXR1cm4gWy4uLnN1cGVyLmNhbGxLZXlzLCBcInVzZVJlc3BvbnNlc0FwaVwiXTtcblx0fVxuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRzdXBlcihmaWVsZHMpO1xuXHRcdHRoaXMuZmllbGRzID0gZmllbGRzO1xuXHRcdHRoaXMudXNlUmVzcG9uc2VzQXBpID0gZmllbGRzPy51c2VSZXNwb25zZXNBcGkgPz8gZmFsc2U7XG5cdFx0dGhpcy5yZXNwb25zZXMgPSBmaWVsZHM/LnJlc3BvbnNlcyA/PyBuZXcgQ2hhdE9wZW5BSVJlc3BvbnNlcyhmaWVsZHMpO1xuXHRcdHRoaXMuY29tcGxldGlvbnMgPSBmaWVsZHM/LmNvbXBsZXRpb25zID8/IG5ldyBDaGF0T3BlbkFJQ29tcGxldGlvbnMoZmllbGRzKTtcblx0fVxuXHRfdXNlUmVzcG9uc2VzQXBpKG9wdGlvbnMpIHtcblx0XHRjb25zdCB1c2VzQnVpbHRJblRvb2xzID0gb3B0aW9ucz8udG9vbHM/LnNvbWUoaXNCdWlsdEluVG9vbCk7XG5cdFx0Y29uc3QgaGFzUmVzcG9uc2VzT25seUt3YXJncyA9IG9wdGlvbnM/LnByZXZpb3VzX3Jlc3BvbnNlX2lkICE9IG51bGwgfHwgb3B0aW9ucz8udGV4dCAhPSBudWxsIHx8IG9wdGlvbnM/LnRydW5jYXRpb24gIT0gbnVsbCB8fCBvcHRpb25zPy5pbmNsdWRlICE9IG51bGwgfHwgb3B0aW9ucz8ucmVhc29uaW5nPy5zdW1tYXJ5ICE9IG51bGwgfHwgdGhpcy5yZWFzb25pbmc/LnN1bW1hcnkgIT0gbnVsbDtcblx0XHRjb25zdCBoYXNDdXN0b21Ub29scyA9IG9wdGlvbnM/LnRvb2xzPy5zb21lKGlzT3BlbkFJQ3VzdG9tVG9vbCkgfHwgb3B0aW9ucz8udG9vbHM/LnNvbWUoaXNDdXN0b21Ub29sKTtcblx0XHRyZXR1cm4gdGhpcy51c2VSZXNwb25zZXNBcGkgfHwgdXNlc0J1aWx0SW5Ub29scyB8fCBoYXNSZXNwb25zZXNPbmx5S3dhcmdzIHx8IGhhc0N1c3RvbVRvb2xzIHx8IF9tb2RlbFByZWZlcnNSZXNwb25zZXNBUEkodGhpcy5tb2RlbCk7XG5cdH1cblx0Z2V0THNQYXJhbXMob3B0aW9ucykge1xuXHRcdGNvbnN0IG9wdGlvbnNXaXRoRGVmYXVsdHMgPSB0aGlzLl9jb21iaW5lQ2FsbE9wdGlvbnMob3B0aW9ucyk7XG5cdFx0aWYgKHRoaXMuX3VzZVJlc3BvbnNlc0FwaShvcHRpb25zKSkgcmV0dXJuIHRoaXMucmVzcG9uc2VzLmdldExzUGFyYW1zKG9wdGlvbnNXaXRoRGVmYXVsdHMpO1xuXHRcdHJldHVybiB0aGlzLmNvbXBsZXRpb25zLmdldExzUGFyYW1zKG9wdGlvbnNXaXRoRGVmYXVsdHMpO1xuXHR9XG5cdGludm9jYXRpb25QYXJhbXMob3B0aW9ucykge1xuXHRcdGNvbnN0IG9wdGlvbnNXaXRoRGVmYXVsdHMgPSB0aGlzLl9jb21iaW5lQ2FsbE9wdGlvbnMob3B0aW9ucyk7XG5cdFx0aWYgKHRoaXMuX3VzZVJlc3BvbnNlc0FwaShvcHRpb25zKSkgcmV0dXJuIHRoaXMucmVzcG9uc2VzLmludm9jYXRpb25QYXJhbXMob3B0aW9uc1dpdGhEZWZhdWx0cyk7XG5cdFx0cmV0dXJuIHRoaXMuY29tcGxldGlvbnMuaW52b2NhdGlvblBhcmFtcyhvcHRpb25zV2l0aERlZmF1bHRzKTtcblx0fVxuXHQvKiogQGlnbm9yZSAqL1xuXHRhc3luYyBfZ2VuZXJhdGUobWVzc2FnZXMsIG9wdGlvbnMsIHJ1bk1hbmFnZXIpIHtcblx0XHRpZiAodGhpcy5fdXNlUmVzcG9uc2VzQXBpKG9wdGlvbnMpKSByZXR1cm4gdGhpcy5yZXNwb25zZXMuX2dlbmVyYXRlKG1lc3NhZ2VzLCBvcHRpb25zKTtcblx0XHRyZXR1cm4gdGhpcy5jb21wbGV0aW9ucy5fZ2VuZXJhdGUobWVzc2FnZXMsIG9wdGlvbnMsIHJ1bk1hbmFnZXIpO1xuXHR9XG5cdGFzeW5jICpfc3RyZWFtUmVzcG9uc2VDaHVua3MobWVzc2FnZXMsIG9wdGlvbnMsIHJ1bk1hbmFnZXIpIHtcblx0XHRpZiAodGhpcy5fdXNlUmVzcG9uc2VzQXBpKG9wdGlvbnMpKSB7XG5cdFx0XHR5aWVsZCogdGhpcy5yZXNwb25zZXMuX3N0cmVhbVJlc3BvbnNlQ2h1bmtzKG1lc3NhZ2VzLCB0aGlzLl9jb21iaW5lQ2FsbE9wdGlvbnMob3B0aW9ucyksIHJ1bk1hbmFnZXIpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHR5aWVsZCogdGhpcy5jb21wbGV0aW9ucy5fc3RyZWFtUmVzcG9uc2VDaHVua3MobWVzc2FnZXMsIHRoaXMuX2NvbWJpbmVDYWxsT3B0aW9ucyhvcHRpb25zKSwgcnVuTWFuYWdlcik7XG5cdH1cblx0d2l0aENvbmZpZyhjb25maWcpIHtcblx0XHRjb25zdCBuZXdNb2RlbCA9IG5ldyBDaGF0T3BlbkFJKHRoaXMuZmllbGRzKTtcblx0XHRuZXdNb2RlbC5kZWZhdWx0T3B0aW9ucyA9IHtcblx0XHRcdC4uLnRoaXMuZGVmYXVsdE9wdGlvbnMsXG5cdFx0XHQuLi5jb25maWdcblx0XHR9O1xuXHRcdHJldHVybiBuZXdNb2RlbDtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBDaGF0T3BlbkFJIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/chat_models/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/chat_models/profiles.js":
/*!**************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/chat_models/profiles.js ***!
  \**************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ profiles_default)\n/* harmony export */ });\n//#region src/chat_models/profiles.ts\nconst PROFILES = {\n\t\"gpt-4.1-nano\": {\n\t\tmaxInputTokens: 1047576,\n\t\timageInputs: true,\n\t\taudioInputs: false,\n\t\tpdfInputs: true,\n\t\tvideoInputs: false,\n\t\tmaxOutputTokens: 32768,\n\t\treasoningOutput: false,\n\t\timageOutputs: false,\n\t\taudioOutputs: false,\n\t\tvideoOutputs: false,\n\t\ttoolCalling: true,\n\t\tstructuredOutput: true,\n\t\timageUrlInputs: true,\n\t\tpdfToolMessage: true,\n\t\timageToolMessage: true,\n\t\ttoolChoice: true\n\t},\n\t\"text-embedding-3-small\": {\n\t\tmaxInputTokens: 8191,\n\t\timageInputs: false,\n\t\taudioInputs: false,\n\t\tpdfInputs: true,\n\t\tvideoInputs: false,\n\t\tmaxOutputTokens: 1536,\n\t\treasoningOutput: false,\n\t\timageOutputs: false,\n\t\taudioOutputs: false,\n\t\tvideoOutputs: false,\n\t\ttoolCalling: false,\n\t\tstructuredOutput: true,\n\t\timageUrlInputs: true,\n\t\tpdfToolMessage: true,\n\t\timageToolMessage: true,\n\t\ttoolChoice: true\n\t},\n\t\"gpt-4\": {\n\t\tmaxInputTokens: 8192,\n\t\timageInputs: false,\n\t\taudioInputs: false,\n\t\tpdfInputs: true,\n\t\tvideoInputs: false,\n\t\tmaxOutputTokens: 8192,\n\t\treasoningOutput: false,\n\t\timageOutputs: false,\n\t\taudioOutputs: false,\n\t\tvideoOutputs: false,\n\t\ttoolCalling: true,\n\t\tstructuredOutput: true,\n\t\timageUrlInputs: true,\n\t\tpdfToolMessage: true,\n\t\timageToolMessage: true,\n\t\ttoolChoice: true\n\t},\n\t\"o1-pro\": {\n\t\tmaxInputTokens: 2e5,\n\t\timageInputs: true,\n\t\taudioInputs: false,\n\t\tpdfInputs: true,\n\t\tvideoInputs: false,\n\t\tmaxOutputTokens: 1e5,\n\t\treasoningOutput: true,\n\t\timageOutputs: false,\n\t\taudioOutputs: false,\n\t\tvideoOutputs: false,\n\t\ttoolCalling: true,\n\t\tstructuredOutput: true,\n\t\timageUrlInputs: true,\n\t\tpdfToolMessage: true,\n\t\timageToolMessage: true,\n\t\ttoolChoice: true\n\t},\n\t\"gpt-4o-2024-05-13\": {\n\t\tmaxInputTokens: 128e3,\n\t\timageInputs: true,\n\t\taudioInputs: false,\n\t\tpdfInputs: true,\n\t\tvideoInputs: false,\n\t\tmaxOutputTokens: 4096,\n\t\treasoningOutput: false,\n\t\timageOutputs: false,\n\t\taudioOutputs: false,\n\t\tvideoOutputs: false,\n\t\ttoolCalling: true,\n\t\tstructuredOutput: true,\n\t\timageUrlInputs: true,\n\t\tpdfToolMessage: true,\n\t\timageToolMessage: true,\n\t\ttoolChoice: true\n\t},\n\t\"gpt-4o-2024-08-06\": {\n\t\tmaxInputTokens: 128e3,\n\t\timageInputs: true,\n\t\taudioInputs: false,\n\t\tpdfInputs: true,\n\t\tvideoInputs: false,\n\t\tmaxOutputTokens: 16384,\n\t\treasoningOutput: false,\n\t\timageOutputs: false,\n\t\taudioOutputs: false,\n\t\tvideoOutputs: false,\n\t\ttoolCalling: true,\n\t\tstructuredOutput: true,\n\t\timageUrlInputs: true,\n\t\tpdfToolMessage: true,\n\t\timageToolMessage: true,\n\t\ttoolChoice: true\n\t},\n\t\"gpt-4.1-mini\": {\n\t\tmaxInputTokens: 1047576,\n\t\timageInputs: true,\n\t\taudioInputs: false,\n\t\tpdfInputs: true,\n\t\tvideoInputs: false,\n\t\tmaxOutputTokens: 32768,\n\t\treasoningOutput: false,\n\t\timageOutputs: false,\n\t\taudioOutputs: false,\n\t\tvideoOutputs: false,\n\t\ttoolCalling: true,\n\t\tstructuredOutput: true,\n\t\timageUrlInputs: true,\n\t\tpdfToolMessage: true,\n\t\timageToolMessage: true,\n\t\ttoolChoice: true\n\t},\n\t\"o3-deep-research\": {\n\t\tmaxInputTokens: 2e5,\n\t\timageInputs: true,\n\t\taudioInputs: false,\n\t\tpdfInputs: true,\n\t\tvideoInputs: false,\n\t\tmaxOutputTokens: 1e5,\n\t\treasoningOutput: true,\n\t\timageOutputs: false,\n\t\taudioOutputs: false,\n\t\tvideoOutputs: false,\n\t\ttoolCalling: true,\n\t\tstructuredOutput: true,\n\t\timageUrlInputs: true,\n\t\tpdfToolMessage: true,\n\t\timageToolMessage: true,\n\t\ttoolChoice: true\n\t},\n\t\"gpt-3.5-turbo\": {\n\t\tmaxInputTokens: 16385,\n\t\timageInputs: false,\n\t\taudioInputs: false,\n\t\tpdfInputs: false,\n\t\tvideoInputs: false,\n\t\tmaxOutputTokens: 4096,\n\t\treasoningOutput: false,\n\t\timageOutputs: false,\n\t\taudioOutputs: false,\n\t\tvideoOutputs: false,\n\t\ttoolCalling: false,\n\t\tstructuredOutput: false,\n\t\timageUrlInputs: false,\n\t\tpdfToolMessage: false,\n\t\timageToolMessage: false,\n\t\ttoolChoice: true\n\t},\n\t\"text-embedding-3-large\": {\n\t\tmaxInputTokens: 8191,\n\t\timageInputs: false,\n\t\taudioInputs: false,\n\t\tpdfInputs: true,\n\t\tvideoInputs: false,\n\t\tmaxOutputTokens: 3072,\n\t\treasoningOutput: false,\n\t\timageOutputs: false,\n\t\taudioOutputs: false,\n\t\tvideoOutputs: false,\n\t\ttoolCalling: false,\n\t\tstructuredOutput: true,\n\t\timageUrlInputs: true,\n\t\tpdfToolMessage: true,\n\t\timageToolMessage: true,\n\t\ttoolChoice: true\n\t},\n\t\"gpt-4-turbo\": {\n\t\tmaxInputTokens: 128e3,\n\t\timageInputs: true,\n\t\taudioInputs: false,\n\t\tpdfInputs: true,\n\t\tvideoInputs: false,\n\t\tmaxOutputTokens: 4096,\n\t\treasoningOutput: false,\n\t\timageOutputs: false,\n\t\taudioOutputs: false,\n\t\tvideoOutputs: false,\n\t\ttoolCalling: true,\n\t\tstructuredOutput: true,\n\t\timageUrlInputs: true,\n\t\tpdfToolMessage: true,\n\t\timageToolMessage: true,\n\t\ttoolChoice: true\n\t},\n\t\"o1-preview\": {\n\t\tmaxInputTokens: 128e3,\n\t\timageInputs: false,\n\t\taudioInputs: false,\n\t\tpdfInputs: true,\n\t\tvideoInputs: false,\n\t\tmaxOutputTokens: 32768,\n\t\treasoningOutput: true,\n\t\timageOutputs: false,\n\t\taudioOutputs: false,\n\t\tvideoOutputs: false,\n\t\ttoolCalling: false,\n\t\tstructuredOutput: true,\n\t\timageUrlInputs: true,\n\t\tpdfToolMessage: true,\n\t\timageToolMessage: true,\n\t\ttoolChoice: true\n\t},\n\t\"o3-mini\": {\n\t\tmaxInputTokens: 2e5,\n\t\timageInputs: false,\n\t\taudioInputs: false,\n\t\tpdfInputs: true,\n\t\tvideoInputs: false,\n\t\tmaxOutputTokens: 1e5,\n\t\treasoningOutput: true,\n\t\timageOutputs: false,\n\t\taudioOutputs: false,\n\t\tvideoOutputs: false,\n\t\ttoolCalling: true,\n\t\tstructuredOutput: true,\n\t\timageUrlInputs: true,\n\t\tpdfToolMessage: true,\n\t\timageToolMessage: true,\n\t\ttoolChoice: true\n\t},\n\t\"codex-mini-latest\": {\n\t\tmaxInputTokens: 2e5,\n\t\timageInputs: false,\n\t\taudioInputs: false,\n\t\tpdfInputs: true,\n\t\tvideoInputs: false,\n\t\tmaxOutputTokens: 1e5,\n\t\treasoningOutput: true,\n\t\timageOutputs: false,\n\t\taudioOutputs: false,\n\t\tvideoOutputs: false,\n\t\ttoolCalling: true,\n\t\tstructuredOutput: true,\n\t\timageUrlInputs: true,\n\t\tpdfToolMessage: true,\n\t\timageToolMessage: true,\n\t\ttoolChoice: true\n\t},\n\t\"gpt-5-nano\": {\n\t\tmaxInputTokens: 4e5,\n\t\timageInputs: true,\n\t\taudioInputs: false,\n\t\tpdfInputs: true,\n\t\tvideoInputs: false,\n\t\tmaxOutputTokens: 128e3,\n\t\treasoningOutput: true,\n\t\timageOutputs: false,\n\t\taudioOutputs: false,\n\t\tvideoOutputs: false,\n\t\ttoolCalling: true,\n\t\tstructuredOutput: true,\n\t\timageUrlInputs: true,\n\t\tpdfToolMessage: true,\n\t\timageToolMessage: true,\n\t\ttoolChoice: true\n\t},\n\t\"gpt-5-codex\": {\n\t\tmaxInputTokens: 4e5,\n\t\timageInputs: true,\n\t\taudioInputs: false,\n\t\tpdfInputs: true,\n\t\tvideoInputs: false,\n\t\tmaxOutputTokens: 128e3,\n\t\treasoningOutput: true,\n\t\timageOutputs: false,\n\t\taudioOutputs: false,\n\t\tvideoOutputs: false,\n\t\ttoolCalling: true,\n\t\tstructuredOutput: true,\n\t\timageUrlInputs: true,\n\t\tpdfToolMessage: true,\n\t\timageToolMessage: true,\n\t\ttoolChoice: true\n\t},\n\t\"gpt-4o\": {\n\t\tmaxInputTokens: 128e3,\n\t\timageInputs: true,\n\t\taudioInputs: false,\n\t\tpdfInputs: true,\n\t\tvideoInputs: false,\n\t\tmaxOutputTokens: 16384,\n\t\treasoningOutput: false,\n\t\timageOutputs: false,\n\t\taudioOutputs: false,\n\t\tvideoOutputs: false,\n\t\ttoolCalling: true,\n\t\tstructuredOutput: true,\n\t\timageUrlInputs: true,\n\t\tpdfToolMessage: true,\n\t\timageToolMessage: true,\n\t\ttoolChoice: true\n\t},\n\t\"gpt-4.1\": {\n\t\tmaxInputTokens: 1047576,\n\t\timageInputs: true,\n\t\taudioInputs: false,\n\t\tpdfInputs: true,\n\t\tvideoInputs: false,\n\t\tmaxOutputTokens: 32768,\n\t\treasoningOutput: false,\n\t\timageOutputs: false,\n\t\taudioOutputs: false,\n\t\tvideoOutputs: false,\n\t\ttoolCalling: true,\n\t\tstructuredOutput: true,\n\t\timageUrlInputs: true,\n\t\tpdfToolMessage: true,\n\t\timageToolMessage: true,\n\t\ttoolChoice: true\n\t},\n\t\"o4-mini\": {\n\t\tmaxInputTokens: 2e5,\n\t\timageInputs: true,\n\t\taudioInputs: false,\n\t\tpdfInputs: true,\n\t\tvideoInputs: false,\n\t\tmaxOutputTokens: 1e5,\n\t\treasoningOutput: true,\n\t\timageOutputs: false,\n\t\taudioOutputs: false,\n\t\tvideoOutputs: false,\n\t\ttoolCalling: true,\n\t\tstructuredOutput: true,\n\t\timageUrlInputs: true,\n\t\tpdfToolMessage: true,\n\t\timageToolMessage: true,\n\t\ttoolChoice: true\n\t},\n\to1: {\n\t\tmaxInputTokens: 2e5,\n\t\timageInputs: true,\n\t\taudioInputs: false,\n\t\tpdfInputs: true,\n\t\tvideoInputs: false,\n\t\tmaxOutputTokens: 1e5,\n\t\treasoningOutput: true,\n\t\timageOutputs: false,\n\t\taudioOutputs: false,\n\t\tvideoOutputs: false,\n\t\ttoolCalling: true,\n\t\tstructuredOutput: true,\n\t\timageUrlInputs: true,\n\t\tpdfToolMessage: true,\n\t\timageToolMessage: true,\n\t\ttoolChoice: true\n\t},\n\t\"gpt-5-mini\": {\n\t\tmaxInputTokens: 4e5,\n\t\timageInputs: true,\n\t\taudioInputs: false,\n\t\tpdfInputs: true,\n\t\tvideoInputs: false,\n\t\tmaxOutputTokens: 128e3,\n\t\treasoningOutput: true,\n\t\timageOutputs: false,\n\t\taudioOutputs: false,\n\t\tvideoOutputs: false,\n\t\ttoolCalling: true,\n\t\tstructuredOutput: true,\n\t\timageUrlInputs: true,\n\t\tpdfToolMessage: true,\n\t\timageToolMessage: true,\n\t\ttoolChoice: true\n\t},\n\t\"o1-mini\": {\n\t\tmaxInputTokens: 128e3,\n\t\timageInputs: false,\n\t\taudioInputs: false,\n\t\tpdfInputs: true,\n\t\tvideoInputs: false,\n\t\tmaxOutputTokens: 65536,\n\t\treasoningOutput: true,\n\t\timageOutputs: false,\n\t\taudioOutputs: false,\n\t\tvideoOutputs: false,\n\t\ttoolCalling: false,\n\t\tstructuredOutput: true,\n\t\timageUrlInputs: true,\n\t\tpdfToolMessage: true,\n\t\timageToolMessage: true,\n\t\ttoolChoice: true\n\t},\n\t\"text-embedding-ada-002\": {\n\t\tmaxInputTokens: 8192,\n\t\timageInputs: false,\n\t\taudioInputs: false,\n\t\tpdfInputs: true,\n\t\tvideoInputs: false,\n\t\tmaxOutputTokens: 1536,\n\t\treasoningOutput: false,\n\t\timageOutputs: false,\n\t\taudioOutputs: false,\n\t\tvideoOutputs: false,\n\t\ttoolCalling: false,\n\t\tstructuredOutput: true,\n\t\timageUrlInputs: true,\n\t\tpdfToolMessage: true,\n\t\timageToolMessage: true,\n\t\ttoolChoice: true\n\t},\n\t\"o3-pro\": {\n\t\tmaxInputTokens: 2e5,\n\t\timageInputs: true,\n\t\taudioInputs: false,\n\t\tpdfInputs: true,\n\t\tvideoInputs: false,\n\t\tmaxOutputTokens: 1e5,\n\t\treasoningOutput: true,\n\t\timageOutputs: false,\n\t\taudioOutputs: false,\n\t\tvideoOutputs: false,\n\t\ttoolCalling: true,\n\t\tstructuredOutput: true,\n\t\timageUrlInputs: true,\n\t\tpdfToolMessage: true,\n\t\timageToolMessage: true,\n\t\ttoolChoice: true\n\t},\n\t\"gpt-4o-2024-11-20\": {\n\t\tmaxInputTokens: 128e3,\n\t\timageInputs: true,\n\t\taudioInputs: false,\n\t\tpdfInputs: true,\n\t\tvideoInputs: false,\n\t\tmaxOutputTokens: 16384,\n\t\treasoningOutput: false,\n\t\timageOutputs: false,\n\t\taudioOutputs: false,\n\t\tvideoOutputs: false,\n\t\ttoolCalling: true,\n\t\tstructuredOutput: true,\n\t\timageUrlInputs: true,\n\t\tpdfToolMessage: true,\n\t\timageToolMessage: true,\n\t\ttoolChoice: true\n\t},\n\to3: {\n\t\tmaxInputTokens: 2e5,\n\t\timageInputs: true,\n\t\taudioInputs: false,\n\t\tpdfInputs: true,\n\t\tvideoInputs: false,\n\t\tmaxOutputTokens: 1e5,\n\t\treasoningOutput: true,\n\t\timageOutputs: false,\n\t\taudioOutputs: false,\n\t\tvideoOutputs: false,\n\t\ttoolCalling: true,\n\t\tstructuredOutput: true,\n\t\timageUrlInputs: true,\n\t\tpdfToolMessage: true,\n\t\timageToolMessage: true,\n\t\ttoolChoice: true\n\t},\n\t\"o4-mini-deep-research\": {\n\t\tmaxInputTokens: 2e5,\n\t\timageInputs: true,\n\t\taudioInputs: false,\n\t\tpdfInputs: true,\n\t\tvideoInputs: false,\n\t\tmaxOutputTokens: 1e5,\n\t\treasoningOutput: true,\n\t\timageOutputs: false,\n\t\taudioOutputs: false,\n\t\tvideoOutputs: false,\n\t\ttoolCalling: true,\n\t\tstructuredOutput: true,\n\t\timageUrlInputs: true,\n\t\tpdfToolMessage: true,\n\t\timageToolMessage: true,\n\t\ttoolChoice: true\n\t},\n\t\"gpt-5-chat-latest\": {\n\t\tmaxInputTokens: 4e5,\n\t\timageInputs: true,\n\t\taudioInputs: false,\n\t\tpdfInputs: true,\n\t\tvideoInputs: false,\n\t\tmaxOutputTokens: 128e3,\n\t\treasoningOutput: true,\n\t\timageOutputs: false,\n\t\taudioOutputs: false,\n\t\tvideoOutputs: false,\n\t\ttoolCalling: false,\n\t\tstructuredOutput: true,\n\t\timageUrlInputs: true,\n\t\tpdfToolMessage: true,\n\t\timageToolMessage: true,\n\t\ttoolChoice: true\n\t},\n\t\"gpt-4o-mini\": {\n\t\tmaxInputTokens: 128e3,\n\t\timageInputs: true,\n\t\taudioInputs: false,\n\t\tpdfInputs: true,\n\t\tvideoInputs: false,\n\t\tmaxOutputTokens: 16384,\n\t\treasoningOutput: false,\n\t\timageOutputs: false,\n\t\taudioOutputs: false,\n\t\tvideoOutputs: false,\n\t\ttoolCalling: true,\n\t\tstructuredOutput: true,\n\t\timageUrlInputs: true,\n\t\tpdfToolMessage: true,\n\t\timageToolMessage: true,\n\t\ttoolChoice: true\n\t},\n\t\"gpt-5\": {\n\t\tmaxInputTokens: 4e5,\n\t\timageInputs: true,\n\t\taudioInputs: false,\n\t\tpdfInputs: true,\n\t\tvideoInputs: false,\n\t\tmaxOutputTokens: 128e3,\n\t\treasoningOutput: true,\n\t\timageOutputs: false,\n\t\taudioOutputs: false,\n\t\tvideoOutputs: false,\n\t\ttoolCalling: true,\n\t\tstructuredOutput: true,\n\t\timageUrlInputs: true,\n\t\tpdfToolMessage: true,\n\t\timageToolMessage: true,\n\t\ttoolChoice: true\n\t},\n\t\"gpt-5-pro\": {\n\t\tmaxInputTokens: 4e5,\n\t\timageInputs: true,\n\t\taudioInputs: false,\n\t\tpdfInputs: true,\n\t\tvideoInputs: false,\n\t\tmaxOutputTokens: 272e3,\n\t\treasoningOutput: true,\n\t\timageOutputs: false,\n\t\taudioOutputs: false,\n\t\tvideoOutputs: false,\n\t\ttoolCalling: true,\n\t\tstructuredOutput: true,\n\t\timageUrlInputs: true,\n\t\tpdfToolMessage: true,\n\t\timageToolMessage: true,\n\t\ttoolChoice: true\n\t}\n};\nvar profiles_default = PROFILES;\n\n//#endregion\n\n//# sourceMappingURL=profiles.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L2NoYXRfbW9kZWxzL3Byb2ZpbGVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUN1QztBQUN2QyIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitvcGVuYWlAMS4yLjNfQGxhbmdjaGFpbitjb3JlQDEuMS4xNy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9vcGVuYWkvZGlzdC9jaGF0X21vZGVscy9wcm9maWxlcy5qcz9mMTJlIl0sInNvdXJjZXNDb250ZW50IjpbIi8vI3JlZ2lvbiBzcmMvY2hhdF9tb2RlbHMvcHJvZmlsZXMudHNcbmNvbnN0IFBST0ZJTEVTID0ge1xuXHRcImdwdC00LjEtbmFub1wiOiB7XG5cdFx0bWF4SW5wdXRUb2tlbnM6IDEwNDc1NzYsXG5cdFx0aW1hZ2VJbnB1dHM6IHRydWUsXG5cdFx0YXVkaW9JbnB1dHM6IGZhbHNlLFxuXHRcdHBkZklucHV0czogdHJ1ZSxcblx0XHR2aWRlb0lucHV0czogZmFsc2UsXG5cdFx0bWF4T3V0cHV0VG9rZW5zOiAzMjc2OCxcblx0XHRyZWFzb25pbmdPdXRwdXQ6IGZhbHNlLFxuXHRcdGltYWdlT3V0cHV0czogZmFsc2UsXG5cdFx0YXVkaW9PdXRwdXRzOiBmYWxzZSxcblx0XHR2aWRlb091dHB1dHM6IGZhbHNlLFxuXHRcdHRvb2xDYWxsaW5nOiB0cnVlLFxuXHRcdHN0cnVjdHVyZWRPdXRwdXQ6IHRydWUsXG5cdFx0aW1hZ2VVcmxJbnB1dHM6IHRydWUsXG5cdFx0cGRmVG9vbE1lc3NhZ2U6IHRydWUsXG5cdFx0aW1hZ2VUb29sTWVzc2FnZTogdHJ1ZSxcblx0XHR0b29sQ2hvaWNlOiB0cnVlXG5cdH0sXG5cdFwidGV4dC1lbWJlZGRpbmctMy1zbWFsbFwiOiB7XG5cdFx0bWF4SW5wdXRUb2tlbnM6IDgxOTEsXG5cdFx0aW1hZ2VJbnB1dHM6IGZhbHNlLFxuXHRcdGF1ZGlvSW5wdXRzOiBmYWxzZSxcblx0XHRwZGZJbnB1dHM6IHRydWUsXG5cdFx0dmlkZW9JbnB1dHM6IGZhbHNlLFxuXHRcdG1heE91dHB1dFRva2VuczogMTUzNixcblx0XHRyZWFzb25pbmdPdXRwdXQ6IGZhbHNlLFxuXHRcdGltYWdlT3V0cHV0czogZmFsc2UsXG5cdFx0YXVkaW9PdXRwdXRzOiBmYWxzZSxcblx0XHR2aWRlb091dHB1dHM6IGZhbHNlLFxuXHRcdHRvb2xDYWxsaW5nOiBmYWxzZSxcblx0XHRzdHJ1Y3R1cmVkT3V0cHV0OiB0cnVlLFxuXHRcdGltYWdlVXJsSW5wdXRzOiB0cnVlLFxuXHRcdHBkZlRvb2xNZXNzYWdlOiB0cnVlLFxuXHRcdGltYWdlVG9vbE1lc3NhZ2U6IHRydWUsXG5cdFx0dG9vbENob2ljZTogdHJ1ZVxuXHR9LFxuXHRcImdwdC00XCI6IHtcblx0XHRtYXhJbnB1dFRva2VuczogODE5Mixcblx0XHRpbWFnZUlucHV0czogZmFsc2UsXG5cdFx0YXVkaW9JbnB1dHM6IGZhbHNlLFxuXHRcdHBkZklucHV0czogdHJ1ZSxcblx0XHR2aWRlb0lucHV0czogZmFsc2UsXG5cdFx0bWF4T3V0cHV0VG9rZW5zOiA4MTkyLFxuXHRcdHJlYXNvbmluZ091dHB1dDogZmFsc2UsXG5cdFx0aW1hZ2VPdXRwdXRzOiBmYWxzZSxcblx0XHRhdWRpb091dHB1dHM6IGZhbHNlLFxuXHRcdHZpZGVvT3V0cHV0czogZmFsc2UsXG5cdFx0dG9vbENhbGxpbmc6IHRydWUsXG5cdFx0c3RydWN0dXJlZE91dHB1dDogdHJ1ZSxcblx0XHRpbWFnZVVybElucHV0czogdHJ1ZSxcblx0XHRwZGZUb29sTWVzc2FnZTogdHJ1ZSxcblx0XHRpbWFnZVRvb2xNZXNzYWdlOiB0cnVlLFxuXHRcdHRvb2xDaG9pY2U6IHRydWVcblx0fSxcblx0XCJvMS1wcm9cIjoge1xuXHRcdG1heElucHV0VG9rZW5zOiAyZTUsXG5cdFx0aW1hZ2VJbnB1dHM6IHRydWUsXG5cdFx0YXVkaW9JbnB1dHM6IGZhbHNlLFxuXHRcdHBkZklucHV0czogdHJ1ZSxcblx0XHR2aWRlb0lucHV0czogZmFsc2UsXG5cdFx0bWF4T3V0cHV0VG9rZW5zOiAxZTUsXG5cdFx0cmVhc29uaW5nT3V0cHV0OiB0cnVlLFxuXHRcdGltYWdlT3V0cHV0czogZmFsc2UsXG5cdFx0YXVkaW9PdXRwdXRzOiBmYWxzZSxcblx0XHR2aWRlb091dHB1dHM6IGZhbHNlLFxuXHRcdHRvb2xDYWxsaW5nOiB0cnVlLFxuXHRcdHN0cnVjdHVyZWRPdXRwdXQ6IHRydWUsXG5cdFx0aW1hZ2VVcmxJbnB1dHM6IHRydWUsXG5cdFx0cGRmVG9vbE1lc3NhZ2U6IHRydWUsXG5cdFx0aW1hZ2VUb29sTWVzc2FnZTogdHJ1ZSxcblx0XHR0b29sQ2hvaWNlOiB0cnVlXG5cdH0sXG5cdFwiZ3B0LTRvLTIwMjQtMDUtMTNcIjoge1xuXHRcdG1heElucHV0VG9rZW5zOiAxMjhlMyxcblx0XHRpbWFnZUlucHV0czogdHJ1ZSxcblx0XHRhdWRpb0lucHV0czogZmFsc2UsXG5cdFx0cGRmSW5wdXRzOiB0cnVlLFxuXHRcdHZpZGVvSW5wdXRzOiBmYWxzZSxcblx0XHRtYXhPdXRwdXRUb2tlbnM6IDQwOTYsXG5cdFx0cmVhc29uaW5nT3V0cHV0OiBmYWxzZSxcblx0XHRpbWFnZU91dHB1dHM6IGZhbHNlLFxuXHRcdGF1ZGlvT3V0cHV0czogZmFsc2UsXG5cdFx0dmlkZW9PdXRwdXRzOiBmYWxzZSxcblx0XHR0b29sQ2FsbGluZzogdHJ1ZSxcblx0XHRzdHJ1Y3R1cmVkT3V0cHV0OiB0cnVlLFxuXHRcdGltYWdlVXJsSW5wdXRzOiB0cnVlLFxuXHRcdHBkZlRvb2xNZXNzYWdlOiB0cnVlLFxuXHRcdGltYWdlVG9vbE1lc3NhZ2U6IHRydWUsXG5cdFx0dG9vbENob2ljZTogdHJ1ZVxuXHR9LFxuXHRcImdwdC00by0yMDI0LTA4LTA2XCI6IHtcblx0XHRtYXhJbnB1dFRva2VuczogMTI4ZTMsXG5cdFx0aW1hZ2VJbnB1dHM6IHRydWUsXG5cdFx0YXVkaW9JbnB1dHM6IGZhbHNlLFxuXHRcdHBkZklucHV0czogdHJ1ZSxcblx0XHR2aWRlb0lucHV0czogZmFsc2UsXG5cdFx0bWF4T3V0cHV0VG9rZW5zOiAxNjM4NCxcblx0XHRyZWFzb25pbmdPdXRwdXQ6IGZhbHNlLFxuXHRcdGltYWdlT3V0cHV0czogZmFsc2UsXG5cdFx0YXVkaW9PdXRwdXRzOiBmYWxzZSxcblx0XHR2aWRlb091dHB1dHM6IGZhbHNlLFxuXHRcdHRvb2xDYWxsaW5nOiB0cnVlLFxuXHRcdHN0cnVjdHVyZWRPdXRwdXQ6IHRydWUsXG5cdFx0aW1hZ2VVcmxJbnB1dHM6IHRydWUsXG5cdFx0cGRmVG9vbE1lc3NhZ2U6IHRydWUsXG5cdFx0aW1hZ2VUb29sTWVzc2FnZTogdHJ1ZSxcblx0XHR0b29sQ2hvaWNlOiB0cnVlXG5cdH0sXG5cdFwiZ3B0LTQuMS1taW5pXCI6IHtcblx0XHRtYXhJbnB1dFRva2VuczogMTA0NzU3Nixcblx0XHRpbWFnZUlucHV0czogdHJ1ZSxcblx0XHRhdWRpb0lucHV0czogZmFsc2UsXG5cdFx0cGRmSW5wdXRzOiB0cnVlLFxuXHRcdHZpZGVvSW5wdXRzOiBmYWxzZSxcblx0XHRtYXhPdXRwdXRUb2tlbnM6IDMyNzY4LFxuXHRcdHJlYXNvbmluZ091dHB1dDogZmFsc2UsXG5cdFx0aW1hZ2VPdXRwdXRzOiBmYWxzZSxcblx0XHRhdWRpb091dHB1dHM6IGZhbHNlLFxuXHRcdHZpZGVvT3V0cHV0czogZmFsc2UsXG5cdFx0dG9vbENhbGxpbmc6IHRydWUsXG5cdFx0c3RydWN0dXJlZE91dHB1dDogdHJ1ZSxcblx0XHRpbWFnZVVybElucHV0czogdHJ1ZSxcblx0XHRwZGZUb29sTWVzc2FnZTogdHJ1ZSxcblx0XHRpbWFnZVRvb2xNZXNzYWdlOiB0cnVlLFxuXHRcdHRvb2xDaG9pY2U6IHRydWVcblx0fSxcblx0XCJvMy1kZWVwLXJlc2VhcmNoXCI6IHtcblx0XHRtYXhJbnB1dFRva2VuczogMmU1LFxuXHRcdGltYWdlSW5wdXRzOiB0cnVlLFxuXHRcdGF1ZGlvSW5wdXRzOiBmYWxzZSxcblx0XHRwZGZJbnB1dHM6IHRydWUsXG5cdFx0dmlkZW9JbnB1dHM6IGZhbHNlLFxuXHRcdG1heE91dHB1dFRva2VuczogMWU1LFxuXHRcdHJlYXNvbmluZ091dHB1dDogdHJ1ZSxcblx0XHRpbWFnZU91dHB1dHM6IGZhbHNlLFxuXHRcdGF1ZGlvT3V0cHV0czogZmFsc2UsXG5cdFx0dmlkZW9PdXRwdXRzOiBmYWxzZSxcblx0XHR0b29sQ2FsbGluZzogdHJ1ZSxcblx0XHRzdHJ1Y3R1cmVkT3V0cHV0OiB0cnVlLFxuXHRcdGltYWdlVXJsSW5wdXRzOiB0cnVlLFxuXHRcdHBkZlRvb2xNZXNzYWdlOiB0cnVlLFxuXHRcdGltYWdlVG9vbE1lc3NhZ2U6IHRydWUsXG5cdFx0dG9vbENob2ljZTogdHJ1ZVxuXHR9LFxuXHRcImdwdC0zLjUtdHVyYm9cIjoge1xuXHRcdG1heElucHV0VG9rZW5zOiAxNjM4NSxcblx0XHRpbWFnZUlucHV0czogZmFsc2UsXG5cdFx0YXVkaW9JbnB1dHM6IGZhbHNlLFxuXHRcdHBkZklucHV0czogZmFsc2UsXG5cdFx0dmlkZW9JbnB1dHM6IGZhbHNlLFxuXHRcdG1heE91dHB1dFRva2VuczogNDA5Nixcblx0XHRyZWFzb25pbmdPdXRwdXQ6IGZhbHNlLFxuXHRcdGltYWdlT3V0cHV0czogZmFsc2UsXG5cdFx0YXVkaW9PdXRwdXRzOiBmYWxzZSxcblx0XHR2aWRlb091dHB1dHM6IGZhbHNlLFxuXHRcdHRvb2xDYWxsaW5nOiBmYWxzZSxcblx0XHRzdHJ1Y3R1cmVkT3V0cHV0OiBmYWxzZSxcblx0XHRpbWFnZVVybElucHV0czogZmFsc2UsXG5cdFx0cGRmVG9vbE1lc3NhZ2U6IGZhbHNlLFxuXHRcdGltYWdlVG9vbE1lc3NhZ2U6IGZhbHNlLFxuXHRcdHRvb2xDaG9pY2U6IHRydWVcblx0fSxcblx0XCJ0ZXh0LWVtYmVkZGluZy0zLWxhcmdlXCI6IHtcblx0XHRtYXhJbnB1dFRva2VuczogODE5MSxcblx0XHRpbWFnZUlucHV0czogZmFsc2UsXG5cdFx0YXVkaW9JbnB1dHM6IGZhbHNlLFxuXHRcdHBkZklucHV0czogdHJ1ZSxcblx0XHR2aWRlb0lucHV0czogZmFsc2UsXG5cdFx0bWF4T3V0cHV0VG9rZW5zOiAzMDcyLFxuXHRcdHJlYXNvbmluZ091dHB1dDogZmFsc2UsXG5cdFx0aW1hZ2VPdXRwdXRzOiBmYWxzZSxcblx0XHRhdWRpb091dHB1dHM6IGZhbHNlLFxuXHRcdHZpZGVvT3V0cHV0czogZmFsc2UsXG5cdFx0dG9vbENhbGxpbmc6IGZhbHNlLFxuXHRcdHN0cnVjdHVyZWRPdXRwdXQ6IHRydWUsXG5cdFx0aW1hZ2VVcmxJbnB1dHM6IHRydWUsXG5cdFx0cGRmVG9vbE1lc3NhZ2U6IHRydWUsXG5cdFx0aW1hZ2VUb29sTWVzc2FnZTogdHJ1ZSxcblx0XHR0b29sQ2hvaWNlOiB0cnVlXG5cdH0sXG5cdFwiZ3B0LTQtdHVyYm9cIjoge1xuXHRcdG1heElucHV0VG9rZW5zOiAxMjhlMyxcblx0XHRpbWFnZUlucHV0czogdHJ1ZSxcblx0XHRhdWRpb0lucHV0czogZmFsc2UsXG5cdFx0cGRmSW5wdXRzOiB0cnVlLFxuXHRcdHZpZGVvSW5wdXRzOiBmYWxzZSxcblx0XHRtYXhPdXRwdXRUb2tlbnM6IDQwOTYsXG5cdFx0cmVhc29uaW5nT3V0cHV0OiBmYWxzZSxcblx0XHRpbWFnZU91dHB1dHM6IGZhbHNlLFxuXHRcdGF1ZGlvT3V0cHV0czogZmFsc2UsXG5cdFx0dmlkZW9PdXRwdXRzOiBmYWxzZSxcblx0XHR0b29sQ2FsbGluZzogdHJ1ZSxcblx0XHRzdHJ1Y3R1cmVkT3V0cHV0OiB0cnVlLFxuXHRcdGltYWdlVXJsSW5wdXRzOiB0cnVlLFxuXHRcdHBkZlRvb2xNZXNzYWdlOiB0cnVlLFxuXHRcdGltYWdlVG9vbE1lc3NhZ2U6IHRydWUsXG5cdFx0dG9vbENob2ljZTogdHJ1ZVxuXHR9LFxuXHRcIm8xLXByZXZpZXdcIjoge1xuXHRcdG1heElucHV0VG9rZW5zOiAxMjhlMyxcblx0XHRpbWFnZUlucHV0czogZmFsc2UsXG5cdFx0YXVkaW9JbnB1dHM6IGZhbHNlLFxuXHRcdHBkZklucHV0czogdHJ1ZSxcblx0XHR2aWRlb0lucHV0czogZmFsc2UsXG5cdFx0bWF4T3V0cHV0VG9rZW5zOiAzMjc2OCxcblx0XHRyZWFzb25pbmdPdXRwdXQ6IHRydWUsXG5cdFx0aW1hZ2VPdXRwdXRzOiBmYWxzZSxcblx0XHRhdWRpb091dHB1dHM6IGZhbHNlLFxuXHRcdHZpZGVvT3V0cHV0czogZmFsc2UsXG5cdFx0dG9vbENhbGxpbmc6IGZhbHNlLFxuXHRcdHN0cnVjdHVyZWRPdXRwdXQ6IHRydWUsXG5cdFx0aW1hZ2VVcmxJbnB1dHM6IHRydWUsXG5cdFx0cGRmVG9vbE1lc3NhZ2U6IHRydWUsXG5cdFx0aW1hZ2VUb29sTWVzc2FnZTogdHJ1ZSxcblx0XHR0b29sQ2hvaWNlOiB0cnVlXG5cdH0sXG5cdFwibzMtbWluaVwiOiB7XG5cdFx0bWF4SW5wdXRUb2tlbnM6IDJlNSxcblx0XHRpbWFnZUlucHV0czogZmFsc2UsXG5cdFx0YXVkaW9JbnB1dHM6IGZhbHNlLFxuXHRcdHBkZklucHV0czogdHJ1ZSxcblx0XHR2aWRlb0lucHV0czogZmFsc2UsXG5cdFx0bWF4T3V0cHV0VG9rZW5zOiAxZTUsXG5cdFx0cmVhc29uaW5nT3V0cHV0OiB0cnVlLFxuXHRcdGltYWdlT3V0cHV0czogZmFsc2UsXG5cdFx0YXVkaW9PdXRwdXRzOiBmYWxzZSxcblx0XHR2aWRlb091dHB1dHM6IGZhbHNlLFxuXHRcdHRvb2xDYWxsaW5nOiB0cnVlLFxuXHRcdHN0cnVjdHVyZWRPdXRwdXQ6IHRydWUsXG5cdFx0aW1hZ2VVcmxJbnB1dHM6IHRydWUsXG5cdFx0cGRmVG9vbE1lc3NhZ2U6IHRydWUsXG5cdFx0aW1hZ2VUb29sTWVzc2FnZTogdHJ1ZSxcblx0XHR0b29sQ2hvaWNlOiB0cnVlXG5cdH0sXG5cdFwiY29kZXgtbWluaS1sYXRlc3RcIjoge1xuXHRcdG1heElucHV0VG9rZW5zOiAyZTUsXG5cdFx0aW1hZ2VJbnB1dHM6IGZhbHNlLFxuXHRcdGF1ZGlvSW5wdXRzOiBmYWxzZSxcblx0XHRwZGZJbnB1dHM6IHRydWUsXG5cdFx0dmlkZW9JbnB1dHM6IGZhbHNlLFxuXHRcdG1heE91dHB1dFRva2VuczogMWU1LFxuXHRcdHJlYXNvbmluZ091dHB1dDogdHJ1ZSxcblx0XHRpbWFnZU91dHB1dHM6IGZhbHNlLFxuXHRcdGF1ZGlvT3V0cHV0czogZmFsc2UsXG5cdFx0dmlkZW9PdXRwdXRzOiBmYWxzZSxcblx0XHR0b29sQ2FsbGluZzogdHJ1ZSxcblx0XHRzdHJ1Y3R1cmVkT3V0cHV0OiB0cnVlLFxuXHRcdGltYWdlVXJsSW5wdXRzOiB0cnVlLFxuXHRcdHBkZlRvb2xNZXNzYWdlOiB0cnVlLFxuXHRcdGltYWdlVG9vbE1lc3NhZ2U6IHRydWUsXG5cdFx0dG9vbENob2ljZTogdHJ1ZVxuXHR9LFxuXHRcImdwdC01LW5hbm9cIjoge1xuXHRcdG1heElucHV0VG9rZW5zOiA0ZTUsXG5cdFx0aW1hZ2VJbnB1dHM6IHRydWUsXG5cdFx0YXVkaW9JbnB1dHM6IGZhbHNlLFxuXHRcdHBkZklucHV0czogdHJ1ZSxcblx0XHR2aWRlb0lucHV0czogZmFsc2UsXG5cdFx0bWF4T3V0cHV0VG9rZW5zOiAxMjhlMyxcblx0XHRyZWFzb25pbmdPdXRwdXQ6IHRydWUsXG5cdFx0aW1hZ2VPdXRwdXRzOiBmYWxzZSxcblx0XHRhdWRpb091dHB1dHM6IGZhbHNlLFxuXHRcdHZpZGVvT3V0cHV0czogZmFsc2UsXG5cdFx0dG9vbENhbGxpbmc6IHRydWUsXG5cdFx0c3RydWN0dXJlZE91dHB1dDogdHJ1ZSxcblx0XHRpbWFnZVVybElucHV0czogdHJ1ZSxcblx0XHRwZGZUb29sTWVzc2FnZTogdHJ1ZSxcblx0XHRpbWFnZVRvb2xNZXNzYWdlOiB0cnVlLFxuXHRcdHRvb2xDaG9pY2U6IHRydWVcblx0fSxcblx0XCJncHQtNS1jb2RleFwiOiB7XG5cdFx0bWF4SW5wdXRUb2tlbnM6IDRlNSxcblx0XHRpbWFnZUlucHV0czogdHJ1ZSxcblx0XHRhdWRpb0lucHV0czogZmFsc2UsXG5cdFx0cGRmSW5wdXRzOiB0cnVlLFxuXHRcdHZpZGVvSW5wdXRzOiBmYWxzZSxcblx0XHRtYXhPdXRwdXRUb2tlbnM6IDEyOGUzLFxuXHRcdHJlYXNvbmluZ091dHB1dDogdHJ1ZSxcblx0XHRpbWFnZU91dHB1dHM6IGZhbHNlLFxuXHRcdGF1ZGlvT3V0cHV0czogZmFsc2UsXG5cdFx0dmlkZW9PdXRwdXRzOiBmYWxzZSxcblx0XHR0b29sQ2FsbGluZzogdHJ1ZSxcblx0XHRzdHJ1Y3R1cmVkT3V0cHV0OiB0cnVlLFxuXHRcdGltYWdlVXJsSW5wdXRzOiB0cnVlLFxuXHRcdHBkZlRvb2xNZXNzYWdlOiB0cnVlLFxuXHRcdGltYWdlVG9vbE1lc3NhZ2U6IHRydWUsXG5cdFx0dG9vbENob2ljZTogdHJ1ZVxuXHR9LFxuXHRcImdwdC00b1wiOiB7XG5cdFx0bWF4SW5wdXRUb2tlbnM6IDEyOGUzLFxuXHRcdGltYWdlSW5wdXRzOiB0cnVlLFxuXHRcdGF1ZGlvSW5wdXRzOiBmYWxzZSxcblx0XHRwZGZJbnB1dHM6IHRydWUsXG5cdFx0dmlkZW9JbnB1dHM6IGZhbHNlLFxuXHRcdG1heE91dHB1dFRva2VuczogMTYzODQsXG5cdFx0cmVhc29uaW5nT3V0cHV0OiBmYWxzZSxcblx0XHRpbWFnZU91dHB1dHM6IGZhbHNlLFxuXHRcdGF1ZGlvT3V0cHV0czogZmFsc2UsXG5cdFx0dmlkZW9PdXRwdXRzOiBmYWxzZSxcblx0XHR0b29sQ2FsbGluZzogdHJ1ZSxcblx0XHRzdHJ1Y3R1cmVkT3V0cHV0OiB0cnVlLFxuXHRcdGltYWdlVXJsSW5wdXRzOiB0cnVlLFxuXHRcdHBkZlRvb2xNZXNzYWdlOiB0cnVlLFxuXHRcdGltYWdlVG9vbE1lc3NhZ2U6IHRydWUsXG5cdFx0dG9vbENob2ljZTogdHJ1ZVxuXHR9LFxuXHRcImdwdC00LjFcIjoge1xuXHRcdG1heElucHV0VG9rZW5zOiAxMDQ3NTc2LFxuXHRcdGltYWdlSW5wdXRzOiB0cnVlLFxuXHRcdGF1ZGlvSW5wdXRzOiBmYWxzZSxcblx0XHRwZGZJbnB1dHM6IHRydWUsXG5cdFx0dmlkZW9JbnB1dHM6IGZhbHNlLFxuXHRcdG1heE91dHB1dFRva2VuczogMzI3NjgsXG5cdFx0cmVhc29uaW5nT3V0cHV0OiBmYWxzZSxcblx0XHRpbWFnZU91dHB1dHM6IGZhbHNlLFxuXHRcdGF1ZGlvT3V0cHV0czogZmFsc2UsXG5cdFx0dmlkZW9PdXRwdXRzOiBmYWxzZSxcblx0XHR0b29sQ2FsbGluZzogdHJ1ZSxcblx0XHRzdHJ1Y3R1cmVkT3V0cHV0OiB0cnVlLFxuXHRcdGltYWdlVXJsSW5wdXRzOiB0cnVlLFxuXHRcdHBkZlRvb2xNZXNzYWdlOiB0cnVlLFxuXHRcdGltYWdlVG9vbE1lc3NhZ2U6IHRydWUsXG5cdFx0dG9vbENob2ljZTogdHJ1ZVxuXHR9LFxuXHRcIm80LW1pbmlcIjoge1xuXHRcdG1heElucHV0VG9rZW5zOiAyZTUsXG5cdFx0aW1hZ2VJbnB1dHM6IHRydWUsXG5cdFx0YXVkaW9JbnB1dHM6IGZhbHNlLFxuXHRcdHBkZklucHV0czogdHJ1ZSxcblx0XHR2aWRlb0lucHV0czogZmFsc2UsXG5cdFx0bWF4T3V0cHV0VG9rZW5zOiAxZTUsXG5cdFx0cmVhc29uaW5nT3V0cHV0OiB0cnVlLFxuXHRcdGltYWdlT3V0cHV0czogZmFsc2UsXG5cdFx0YXVkaW9PdXRwdXRzOiBmYWxzZSxcblx0XHR2aWRlb091dHB1dHM6IGZhbHNlLFxuXHRcdHRvb2xDYWxsaW5nOiB0cnVlLFxuXHRcdHN0cnVjdHVyZWRPdXRwdXQ6IHRydWUsXG5cdFx0aW1hZ2VVcmxJbnB1dHM6IHRydWUsXG5cdFx0cGRmVG9vbE1lc3NhZ2U6IHRydWUsXG5cdFx0aW1hZ2VUb29sTWVzc2FnZTogdHJ1ZSxcblx0XHR0b29sQ2hvaWNlOiB0cnVlXG5cdH0sXG5cdG8xOiB7XG5cdFx0bWF4SW5wdXRUb2tlbnM6IDJlNSxcblx0XHRpbWFnZUlucHV0czogdHJ1ZSxcblx0XHRhdWRpb0lucHV0czogZmFsc2UsXG5cdFx0cGRmSW5wdXRzOiB0cnVlLFxuXHRcdHZpZGVvSW5wdXRzOiBmYWxzZSxcblx0XHRtYXhPdXRwdXRUb2tlbnM6IDFlNSxcblx0XHRyZWFzb25pbmdPdXRwdXQ6IHRydWUsXG5cdFx0aW1hZ2VPdXRwdXRzOiBmYWxzZSxcblx0XHRhdWRpb091dHB1dHM6IGZhbHNlLFxuXHRcdHZpZGVvT3V0cHV0czogZmFsc2UsXG5cdFx0dG9vbENhbGxpbmc6IHRydWUsXG5cdFx0c3RydWN0dXJlZE91dHB1dDogdHJ1ZSxcblx0XHRpbWFnZVVybElucHV0czogdHJ1ZSxcblx0XHRwZGZUb29sTWVzc2FnZTogdHJ1ZSxcblx0XHRpbWFnZVRvb2xNZXNzYWdlOiB0cnVlLFxuXHRcdHRvb2xDaG9pY2U6IHRydWVcblx0fSxcblx0XCJncHQtNS1taW5pXCI6IHtcblx0XHRtYXhJbnB1dFRva2VuczogNGU1LFxuXHRcdGltYWdlSW5wdXRzOiB0cnVlLFxuXHRcdGF1ZGlvSW5wdXRzOiBmYWxzZSxcblx0XHRwZGZJbnB1dHM6IHRydWUsXG5cdFx0dmlkZW9JbnB1dHM6IGZhbHNlLFxuXHRcdG1heE91dHB1dFRva2VuczogMTI4ZTMsXG5cdFx0cmVhc29uaW5nT3V0cHV0OiB0cnVlLFxuXHRcdGltYWdlT3V0cHV0czogZmFsc2UsXG5cdFx0YXVkaW9PdXRwdXRzOiBmYWxzZSxcblx0XHR2aWRlb091dHB1dHM6IGZhbHNlLFxuXHRcdHRvb2xDYWxsaW5nOiB0cnVlLFxuXHRcdHN0cnVjdHVyZWRPdXRwdXQ6IHRydWUsXG5cdFx0aW1hZ2VVcmxJbnB1dHM6IHRydWUsXG5cdFx0cGRmVG9vbE1lc3NhZ2U6IHRydWUsXG5cdFx0aW1hZ2VUb29sTWVzc2FnZTogdHJ1ZSxcblx0XHR0b29sQ2hvaWNlOiB0cnVlXG5cdH0sXG5cdFwibzEtbWluaVwiOiB7XG5cdFx0bWF4SW5wdXRUb2tlbnM6IDEyOGUzLFxuXHRcdGltYWdlSW5wdXRzOiBmYWxzZSxcblx0XHRhdWRpb0lucHV0czogZmFsc2UsXG5cdFx0cGRmSW5wdXRzOiB0cnVlLFxuXHRcdHZpZGVvSW5wdXRzOiBmYWxzZSxcblx0XHRtYXhPdXRwdXRUb2tlbnM6IDY1NTM2LFxuXHRcdHJlYXNvbmluZ091dHB1dDogdHJ1ZSxcblx0XHRpbWFnZU91dHB1dHM6IGZhbHNlLFxuXHRcdGF1ZGlvT3V0cHV0czogZmFsc2UsXG5cdFx0dmlkZW9PdXRwdXRzOiBmYWxzZSxcblx0XHR0b29sQ2FsbGluZzogZmFsc2UsXG5cdFx0c3RydWN0dXJlZE91dHB1dDogdHJ1ZSxcblx0XHRpbWFnZVVybElucHV0czogdHJ1ZSxcblx0XHRwZGZUb29sTWVzc2FnZTogdHJ1ZSxcblx0XHRpbWFnZVRvb2xNZXNzYWdlOiB0cnVlLFxuXHRcdHRvb2xDaG9pY2U6IHRydWVcblx0fSxcblx0XCJ0ZXh0LWVtYmVkZGluZy1hZGEtMDAyXCI6IHtcblx0XHRtYXhJbnB1dFRva2VuczogODE5Mixcblx0XHRpbWFnZUlucHV0czogZmFsc2UsXG5cdFx0YXVkaW9JbnB1dHM6IGZhbHNlLFxuXHRcdHBkZklucHV0czogdHJ1ZSxcblx0XHR2aWRlb0lucHV0czogZmFsc2UsXG5cdFx0bWF4T3V0cHV0VG9rZW5zOiAxNTM2LFxuXHRcdHJlYXNvbmluZ091dHB1dDogZmFsc2UsXG5cdFx0aW1hZ2VPdXRwdXRzOiBmYWxzZSxcblx0XHRhdWRpb091dHB1dHM6IGZhbHNlLFxuXHRcdHZpZGVvT3V0cHV0czogZmFsc2UsXG5cdFx0dG9vbENhbGxpbmc6IGZhbHNlLFxuXHRcdHN0cnVjdHVyZWRPdXRwdXQ6IHRydWUsXG5cdFx0aW1hZ2VVcmxJbnB1dHM6IHRydWUsXG5cdFx0cGRmVG9vbE1lc3NhZ2U6IHRydWUsXG5cdFx0aW1hZ2VUb29sTWVzc2FnZTogdHJ1ZSxcblx0XHR0b29sQ2hvaWNlOiB0cnVlXG5cdH0sXG5cdFwibzMtcHJvXCI6IHtcblx0XHRtYXhJbnB1dFRva2VuczogMmU1LFxuXHRcdGltYWdlSW5wdXRzOiB0cnVlLFxuXHRcdGF1ZGlvSW5wdXRzOiBmYWxzZSxcblx0XHRwZGZJbnB1dHM6IHRydWUsXG5cdFx0dmlkZW9JbnB1dHM6IGZhbHNlLFxuXHRcdG1heE91dHB1dFRva2VuczogMWU1LFxuXHRcdHJlYXNvbmluZ091dHB1dDogdHJ1ZSxcblx0XHRpbWFnZU91dHB1dHM6IGZhbHNlLFxuXHRcdGF1ZGlvT3V0cHV0czogZmFsc2UsXG5cdFx0dmlkZW9PdXRwdXRzOiBmYWxzZSxcblx0XHR0b29sQ2FsbGluZzogdHJ1ZSxcblx0XHRzdHJ1Y3R1cmVkT3V0cHV0OiB0cnVlLFxuXHRcdGltYWdlVXJsSW5wdXRzOiB0cnVlLFxuXHRcdHBkZlRvb2xNZXNzYWdlOiB0cnVlLFxuXHRcdGltYWdlVG9vbE1lc3NhZ2U6IHRydWUsXG5cdFx0dG9vbENob2ljZTogdHJ1ZVxuXHR9LFxuXHRcImdwdC00by0yMDI0LTExLTIwXCI6IHtcblx0XHRtYXhJbnB1dFRva2VuczogMTI4ZTMsXG5cdFx0aW1hZ2VJbnB1dHM6IHRydWUsXG5cdFx0YXVkaW9JbnB1dHM6IGZhbHNlLFxuXHRcdHBkZklucHV0czogdHJ1ZSxcblx0XHR2aWRlb0lucHV0czogZmFsc2UsXG5cdFx0bWF4T3V0cHV0VG9rZW5zOiAxNjM4NCxcblx0XHRyZWFzb25pbmdPdXRwdXQ6IGZhbHNlLFxuXHRcdGltYWdlT3V0cHV0czogZmFsc2UsXG5cdFx0YXVkaW9PdXRwdXRzOiBmYWxzZSxcblx0XHR2aWRlb091dHB1dHM6IGZhbHNlLFxuXHRcdHRvb2xDYWxsaW5nOiB0cnVlLFxuXHRcdHN0cnVjdHVyZWRPdXRwdXQ6IHRydWUsXG5cdFx0aW1hZ2VVcmxJbnB1dHM6IHRydWUsXG5cdFx0cGRmVG9vbE1lc3NhZ2U6IHRydWUsXG5cdFx0aW1hZ2VUb29sTWVzc2FnZTogdHJ1ZSxcblx0XHR0b29sQ2hvaWNlOiB0cnVlXG5cdH0sXG5cdG8zOiB7XG5cdFx0bWF4SW5wdXRUb2tlbnM6IDJlNSxcblx0XHRpbWFnZUlucHV0czogdHJ1ZSxcblx0XHRhdWRpb0lucHV0czogZmFsc2UsXG5cdFx0cGRmSW5wdXRzOiB0cnVlLFxuXHRcdHZpZGVvSW5wdXRzOiBmYWxzZSxcblx0XHRtYXhPdXRwdXRUb2tlbnM6IDFlNSxcblx0XHRyZWFzb25pbmdPdXRwdXQ6IHRydWUsXG5cdFx0aW1hZ2VPdXRwdXRzOiBmYWxzZSxcblx0XHRhdWRpb091dHB1dHM6IGZhbHNlLFxuXHRcdHZpZGVvT3V0cHV0czogZmFsc2UsXG5cdFx0dG9vbENhbGxpbmc6IHRydWUsXG5cdFx0c3RydWN0dXJlZE91dHB1dDogdHJ1ZSxcblx0XHRpbWFnZVVybElucHV0czogdHJ1ZSxcblx0XHRwZGZUb29sTWVzc2FnZTogdHJ1ZSxcblx0XHRpbWFnZVRvb2xNZXNzYWdlOiB0cnVlLFxuXHRcdHRvb2xDaG9pY2U6IHRydWVcblx0fSxcblx0XCJvNC1taW5pLWRlZXAtcmVzZWFyY2hcIjoge1xuXHRcdG1heElucHV0VG9rZW5zOiAyZTUsXG5cdFx0aW1hZ2VJbnB1dHM6IHRydWUsXG5cdFx0YXVkaW9JbnB1dHM6IGZhbHNlLFxuXHRcdHBkZklucHV0czogdHJ1ZSxcblx0XHR2aWRlb0lucHV0czogZmFsc2UsXG5cdFx0bWF4T3V0cHV0VG9rZW5zOiAxZTUsXG5cdFx0cmVhc29uaW5nT3V0cHV0OiB0cnVlLFxuXHRcdGltYWdlT3V0cHV0czogZmFsc2UsXG5cdFx0YXVkaW9PdXRwdXRzOiBmYWxzZSxcblx0XHR2aWRlb091dHB1dHM6IGZhbHNlLFxuXHRcdHRvb2xDYWxsaW5nOiB0cnVlLFxuXHRcdHN0cnVjdHVyZWRPdXRwdXQ6IHRydWUsXG5cdFx0aW1hZ2VVcmxJbnB1dHM6IHRydWUsXG5cdFx0cGRmVG9vbE1lc3NhZ2U6IHRydWUsXG5cdFx0aW1hZ2VUb29sTWVzc2FnZTogdHJ1ZSxcblx0XHR0b29sQ2hvaWNlOiB0cnVlXG5cdH0sXG5cdFwiZ3B0LTUtY2hhdC1sYXRlc3RcIjoge1xuXHRcdG1heElucHV0VG9rZW5zOiA0ZTUsXG5cdFx0aW1hZ2VJbnB1dHM6IHRydWUsXG5cdFx0YXVkaW9JbnB1dHM6IGZhbHNlLFxuXHRcdHBkZklucHV0czogdHJ1ZSxcblx0XHR2aWRlb0lucHV0czogZmFsc2UsXG5cdFx0bWF4T3V0cHV0VG9rZW5zOiAxMjhlMyxcblx0XHRyZWFzb25pbmdPdXRwdXQ6IHRydWUsXG5cdFx0aW1hZ2VPdXRwdXRzOiBmYWxzZSxcblx0XHRhdWRpb091dHB1dHM6IGZhbHNlLFxuXHRcdHZpZGVvT3V0cHV0czogZmFsc2UsXG5cdFx0dG9vbENhbGxpbmc6IGZhbHNlLFxuXHRcdHN0cnVjdHVyZWRPdXRwdXQ6IHRydWUsXG5cdFx0aW1hZ2VVcmxJbnB1dHM6IHRydWUsXG5cdFx0cGRmVG9vbE1lc3NhZ2U6IHRydWUsXG5cdFx0aW1hZ2VUb29sTWVzc2FnZTogdHJ1ZSxcblx0XHR0b29sQ2hvaWNlOiB0cnVlXG5cdH0sXG5cdFwiZ3B0LTRvLW1pbmlcIjoge1xuXHRcdG1heElucHV0VG9rZW5zOiAxMjhlMyxcblx0XHRpbWFnZUlucHV0czogdHJ1ZSxcblx0XHRhdWRpb0lucHV0czogZmFsc2UsXG5cdFx0cGRmSW5wdXRzOiB0cnVlLFxuXHRcdHZpZGVvSW5wdXRzOiBmYWxzZSxcblx0XHRtYXhPdXRwdXRUb2tlbnM6IDE2Mzg0LFxuXHRcdHJlYXNvbmluZ091dHB1dDogZmFsc2UsXG5cdFx0aW1hZ2VPdXRwdXRzOiBmYWxzZSxcblx0XHRhdWRpb091dHB1dHM6IGZhbHNlLFxuXHRcdHZpZGVvT3V0cHV0czogZmFsc2UsXG5cdFx0dG9vbENhbGxpbmc6IHRydWUsXG5cdFx0c3RydWN0dXJlZE91dHB1dDogdHJ1ZSxcblx0XHRpbWFnZVVybElucHV0czogdHJ1ZSxcblx0XHRwZGZUb29sTWVzc2FnZTogdHJ1ZSxcblx0XHRpbWFnZVRvb2xNZXNzYWdlOiB0cnVlLFxuXHRcdHRvb2xDaG9pY2U6IHRydWVcblx0fSxcblx0XCJncHQtNVwiOiB7XG5cdFx0bWF4SW5wdXRUb2tlbnM6IDRlNSxcblx0XHRpbWFnZUlucHV0czogdHJ1ZSxcblx0XHRhdWRpb0lucHV0czogZmFsc2UsXG5cdFx0cGRmSW5wdXRzOiB0cnVlLFxuXHRcdHZpZGVvSW5wdXRzOiBmYWxzZSxcblx0XHRtYXhPdXRwdXRUb2tlbnM6IDEyOGUzLFxuXHRcdHJlYXNvbmluZ091dHB1dDogdHJ1ZSxcblx0XHRpbWFnZU91dHB1dHM6IGZhbHNlLFxuXHRcdGF1ZGlvT3V0cHV0czogZmFsc2UsXG5cdFx0dmlkZW9PdXRwdXRzOiBmYWxzZSxcblx0XHR0b29sQ2FsbGluZzogdHJ1ZSxcblx0XHRzdHJ1Y3R1cmVkT3V0cHV0OiB0cnVlLFxuXHRcdGltYWdlVXJsSW5wdXRzOiB0cnVlLFxuXHRcdHBkZlRvb2xNZXNzYWdlOiB0cnVlLFxuXHRcdGltYWdlVG9vbE1lc3NhZ2U6IHRydWUsXG5cdFx0dG9vbENob2ljZTogdHJ1ZVxuXHR9LFxuXHRcImdwdC01LXByb1wiOiB7XG5cdFx0bWF4SW5wdXRUb2tlbnM6IDRlNSxcblx0XHRpbWFnZUlucHV0czogdHJ1ZSxcblx0XHRhdWRpb0lucHV0czogZmFsc2UsXG5cdFx0cGRmSW5wdXRzOiB0cnVlLFxuXHRcdHZpZGVvSW5wdXRzOiBmYWxzZSxcblx0XHRtYXhPdXRwdXRUb2tlbnM6IDI3MmUzLFxuXHRcdHJlYXNvbmluZ091dHB1dDogdHJ1ZSxcblx0XHRpbWFnZU91dHB1dHM6IGZhbHNlLFxuXHRcdGF1ZGlvT3V0cHV0czogZmFsc2UsXG5cdFx0dmlkZW9PdXRwdXRzOiBmYWxzZSxcblx0XHR0b29sQ2FsbGluZzogdHJ1ZSxcblx0XHRzdHJ1Y3R1cmVkT3V0cHV0OiB0cnVlLFxuXHRcdGltYWdlVXJsSW5wdXRzOiB0cnVlLFxuXHRcdHBkZlRvb2xNZXNzYWdlOiB0cnVlLFxuXHRcdGltYWdlVG9vbE1lc3NhZ2U6IHRydWUsXG5cdFx0dG9vbENob2ljZTogdHJ1ZVxuXHR9XG59O1xudmFyIHByb2ZpbGVzX2RlZmF1bHQgPSBQUk9GSUxFUztcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBwcm9maWxlc19kZWZhdWx0IGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb2ZpbGVzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/chat_models/profiles.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/chat_models/responses.js":
/*!***************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/chat_models/responses.js ***!
  \***************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatOpenAIResponses: () => (/* binding */ ChatOpenAIResponses)\n/* harmony export */ });\n/* harmony import */ var _utils_client_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/client.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/client.js\");\n/* harmony import */ var _utils_tools_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/tools.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/tools.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/chat_models/base.js\");\n/* harmony import */ var _converters_responses_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../converters/responses.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/converters/responses.js\");\n/* harmony import */ var _langchain_core_language_models_base__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @langchain/core/language_models/base */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/language_models/base.js\");\n\n\n\n\n\n\n//#region src/chat_models/responses.ts\n/**\n* OpenAI Responses API implementation.\n*\n* Will be exported in a later version of @langchain/openai.\n*\n* @internal\n*/\nvar ChatOpenAIResponses = class extends _base_js__WEBPACK_IMPORTED_MODULE_2__.BaseChatOpenAI {\n\tinvocationParams(options) {\n\t\tlet strict;\n\t\tif (options?.strict !== void 0) strict = options.strict;\n\t\tif (strict === void 0 && this.supportsStrictToolCalling !== void 0) strict = this.supportsStrictToolCalling;\n\t\tconst params = {\n\t\t\tmodel: this.model,\n\t\t\ttemperature: this.temperature,\n\t\t\ttop_p: this.topP,\n\t\t\tuser: this.user,\n\t\t\tstream: this.streaming,\n\t\t\tprevious_response_id: options?.previous_response_id,\n\t\t\ttruncation: options?.truncation,\n\t\t\tinclude: options?.include,\n\t\t\ttools: options?.tools?.length ? this._reduceChatOpenAITools(options.tools, {\n\t\t\t\tstream: this.streaming,\n\t\t\t\tstrict\n\t\t\t}) : void 0,\n\t\t\ttool_choice: (0,_utils_tools_js__WEBPACK_IMPORTED_MODULE_1__.isBuiltInToolChoice)(options?.tool_choice) ? options?.tool_choice : (() => {\n\t\t\t\tconst formatted = (0,_utils_tools_js__WEBPACK_IMPORTED_MODULE_1__.formatToOpenAIToolChoice)(options?.tool_choice);\n\t\t\t\tif (typeof formatted === \"object\" && \"type\" in formatted) {\n\t\t\t\t\tif (formatted.type === \"function\") return {\n\t\t\t\t\t\ttype: \"function\",\n\t\t\t\t\t\tname: formatted.function.name\n\t\t\t\t\t};\n\t\t\t\t\telse if (formatted.type === \"allowed_tools\") return {\n\t\t\t\t\t\ttype: \"allowed_tools\",\n\t\t\t\t\t\tmode: formatted.allowed_tools.mode,\n\t\t\t\t\t\ttools: formatted.allowed_tools.tools\n\t\t\t\t\t};\n\t\t\t\t\telse if (formatted.type === \"custom\") return {\n\t\t\t\t\t\ttype: \"custom\",\n\t\t\t\t\t\tname: formatted.custom.name\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\treturn void 0;\n\t\t\t})(),\n\t\t\ttext: (() => {\n\t\t\t\tif (options?.text) return options.text;\n\t\t\t\tconst format = this._getResponseFormat(options?.response_format);\n\t\t\t\tif (format?.type === \"json_schema\") {\n\t\t\t\t\tif (format.json_schema.schema != null) return {\n\t\t\t\t\t\tformat: {\n\t\t\t\t\t\t\ttype: \"json_schema\",\n\t\t\t\t\t\t\tschema: format.json_schema.schema,\n\t\t\t\t\t\t\tdescription: format.json_schema.description,\n\t\t\t\t\t\t\tname: format.json_schema.name,\n\t\t\t\t\t\t\tstrict: format.json_schema.strict\n\t\t\t\t\t\t},\n\t\t\t\t\t\tverbosity: options?.verbosity\n\t\t\t\t\t};\n\t\t\t\t\treturn void 0;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tformat,\n\t\t\t\t\tverbosity: options?.verbosity\n\t\t\t\t};\n\t\t\t})(),\n\t\t\tparallel_tool_calls: options?.parallel_tool_calls,\n\t\t\tmax_output_tokens: this.maxTokens === -1 ? void 0 : this.maxTokens,\n\t\t\tprompt_cache_key: options?.promptCacheKey ?? this.promptCacheKey,\n\t\t\tprompt_cache_retention: options?.promptCacheRetention ?? this.promptCacheRetention,\n\t\t\t...this.zdrEnabled ? { store: false } : {},\n\t\t\t...this.modelKwargs\n\t\t};\n\t\tconst reasoning = this._getReasoningParams(options);\n\t\tif (reasoning !== void 0) params.reasoning = reasoning;\n\t\treturn params;\n\t}\n\tasync _generate(messages, options, runManager) {\n\t\tconst invocationParams = this.invocationParams(options);\n\t\tif (invocationParams.stream) {\n\t\t\tconst stream = this._streamResponseChunks(messages, options, runManager);\n\t\t\tlet finalChunk;\n\t\t\tfor await (const chunk of stream) {\n\t\t\t\tchunk.message.response_metadata = {\n\t\t\t\t\t...chunk.generationInfo,\n\t\t\t\t\t...chunk.message.response_metadata\n\t\t\t\t};\n\t\t\t\tfinalChunk = finalChunk?.concat(chunk) ?? chunk;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tgenerations: finalChunk ? [finalChunk] : [],\n\t\t\t\tllmOutput: { estimatedTokenUsage: (finalChunk?.message)?.usage_metadata }\n\t\t\t};\n\t\t} else {\n\t\t\tconst data = await this.completionWithRetry({\n\t\t\t\tinput: (0,_converters_responses_js__WEBPACK_IMPORTED_MODULE_3__.convertMessagesToResponsesInput)({\n\t\t\t\t\tmessages,\n\t\t\t\t\tzdrEnabled: this.zdrEnabled ?? false,\n\t\t\t\t\tmodel: this.model\n\t\t\t\t}),\n\t\t\t\t...invocationParams,\n\t\t\t\tstream: false\n\t\t\t}, {\n\t\t\t\tsignal: options?.signal,\n\t\t\t\t...options?.options\n\t\t\t});\n\t\t\treturn {\n\t\t\t\tgenerations: [{\n\t\t\t\t\ttext: data.output_text,\n\t\t\t\t\tmessage: (0,_converters_responses_js__WEBPACK_IMPORTED_MODULE_3__.convertResponsesMessageToAIMessage)(data)\n\t\t\t\t}],\n\t\t\t\tllmOutput: {\n\t\t\t\t\tid: data.id,\n\t\t\t\t\testimatedTokenUsage: data.usage ? {\n\t\t\t\t\t\tpromptTokens: data.usage.input_tokens,\n\t\t\t\t\t\tcompletionTokens: data.usage.output_tokens,\n\t\t\t\t\t\ttotalTokens: data.usage.total_tokens\n\t\t\t\t\t} : void 0\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n\tasync *_streamResponseChunks(messages, options, runManager) {\n\t\tconst streamIterable = await this.completionWithRetry({\n\t\t\t...this.invocationParams(options),\n\t\t\tinput: (0,_converters_responses_js__WEBPACK_IMPORTED_MODULE_3__.convertMessagesToResponsesInput)({\n\t\t\t\tmessages,\n\t\t\t\tzdrEnabled: this.zdrEnabled ?? false,\n\t\t\t\tmodel: this.model\n\t\t\t}),\n\t\t\tstream: true\n\t\t}, options);\n\t\tfor await (const data of streamIterable) {\n\t\t\tconst chunk = (0,_converters_responses_js__WEBPACK_IMPORTED_MODULE_3__.convertResponsesDeltaToChatGenerationChunk)(data);\n\t\t\tif (chunk == null) continue;\n\t\t\tyield chunk;\n\t\t\tawait runManager?.handleLLMNewToken(chunk.text || \"\", {\n\t\t\t\tprompt: options.promptIndex ?? 0,\n\t\t\t\tcompletion: 0\n\t\t\t}, void 0, void 0, void 0, { chunk });\n\t\t}\n\t}\n\tasync completionWithRetry(request, requestOptions) {\n\t\treturn this.caller.call(async () => {\n\t\t\tconst clientOptions = this._getClientOptions(requestOptions);\n\t\t\ttry {\n\t\t\t\tif (request.text?.format?.type === \"json_schema\" && !request.stream) return await this.client.responses.parse(request, clientOptions);\n\t\t\t\treturn await this.client.responses.create(request, clientOptions);\n\t\t\t} catch (e) {\n\t\t\t\tconst error = (0,_utils_client_js__WEBPACK_IMPORTED_MODULE_0__.wrapOpenAIClientError)(e);\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t});\n\t}\n\t/** @internal */\n\t_reduceChatOpenAITools(tools, fields) {\n\t\tconst reducedTools = [];\n\t\tfor (const tool of tools) if ((0,_utils_tools_js__WEBPACK_IMPORTED_MODULE_1__.isBuiltInTool)(tool)) {\n\t\t\tif (tool.type === \"image_generation\" && fields?.stream) tool.partial_images = 1;\n\t\t\treducedTools.push(tool);\n\t\t} else if ((0,_utils_tools_js__WEBPACK_IMPORTED_MODULE_1__.isCustomTool)(tool)) {\n\t\t\tconst customToolData = tool.metadata.customTool;\n\t\t\treducedTools.push({\n\t\t\t\ttype: \"custom\",\n\t\t\t\tname: customToolData.name,\n\t\t\t\tdescription: customToolData.description,\n\t\t\t\tformat: customToolData.format\n\t\t\t});\n\t\t} else if ((0,_langchain_core_language_models_base__WEBPACK_IMPORTED_MODULE_4__.isOpenAITool)(tool)) reducedTools.push({\n\t\t\ttype: \"function\",\n\t\t\tname: tool.function.name,\n\t\t\tparameters: tool.function.parameters,\n\t\t\tdescription: tool.function.description,\n\t\t\tstrict: fields?.strict ?? null\n\t\t});\n\t\telse if ((0,_utils_tools_js__WEBPACK_IMPORTED_MODULE_1__.isOpenAICustomTool)(tool)) reducedTools.push((0,_utils_tools_js__WEBPACK_IMPORTED_MODULE_1__.convertCompletionsCustomTool)(tool));\n\t\treturn reducedTools;\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=responses.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L2NoYXRfbW9kZWxzL3Jlc3BvbnNlcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBMkQ7QUFDc0c7QUFDdEg7QUFDa0g7QUFDekY7O0FBRXBFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0Msb0RBQWM7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osZ0JBQWdCLG9FQUFtQjtBQUNuQyxzQkFBc0IseUVBQXdCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixlQUFlLElBQUk7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLElBQUk7QUFDSjtBQUNBLFdBQVcseUZBQStCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsY0FBYyw0RkFBa0M7QUFDaEQsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUseUZBQStCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLEdBQUc7QUFDSDtBQUNBLGlCQUFpQixvR0FBMEM7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksNEJBQTRCLE9BQU87QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxrQkFBa0IsdUVBQXFCO0FBQ3ZDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsOERBQWE7QUFDN0M7QUFDQTtBQUNBLElBQUksU0FBUyw2REFBWTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osSUFBSSxTQUFTLGtGQUFZO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsV0FBVyxtRUFBa0IsMEJBQTBCLDZFQUE0QjtBQUNuRjtBQUNBO0FBQ0E7O0FBRUE7QUFDK0I7QUFDL0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rb3BlbmFpQDEuMi4zX0BsYW5nY2hhaW4rY29yZUAxLjEuMTcvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvY2hhdF9tb2RlbHMvcmVzcG9uc2VzLmpzPzA3ZjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgd3JhcE9wZW5BSUNsaWVudEVycm9yIH0gZnJvbSBcIi4uL3V0aWxzL2NsaWVudC5qc1wiO1xuaW1wb3J0IHsgY29udmVydENvbXBsZXRpb25zQ3VzdG9tVG9vbCwgZm9ybWF0VG9PcGVuQUlUb29sQ2hvaWNlLCBpc0J1aWx0SW5Ub29sLCBpc0J1aWx0SW5Ub29sQ2hvaWNlLCBpc0N1c3RvbVRvb2wsIGlzT3BlbkFJQ3VzdG9tVG9vbCB9IGZyb20gXCIuLi91dGlscy90b29scy5qc1wiO1xuaW1wb3J0IHsgQmFzZUNoYXRPcGVuQUkgfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5pbXBvcnQgeyBjb252ZXJ0TWVzc2FnZXNUb1Jlc3BvbnNlc0lucHV0LCBjb252ZXJ0UmVzcG9uc2VzRGVsdGFUb0NoYXRHZW5lcmF0aW9uQ2h1bmssIGNvbnZlcnRSZXNwb25zZXNNZXNzYWdlVG9BSU1lc3NhZ2UgfSBmcm9tIFwiLi4vY29udmVydGVycy9yZXNwb25zZXMuanNcIjtcbmltcG9ydCB7IGlzT3BlbkFJVG9vbCB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvbGFuZ3VhZ2VfbW9kZWxzL2Jhc2VcIjtcblxuLy8jcmVnaW9uIHNyYy9jaGF0X21vZGVscy9yZXNwb25zZXMudHNcbi8qKlxuKiBPcGVuQUkgUmVzcG9uc2VzIEFQSSBpbXBsZW1lbnRhdGlvbi5cbipcbiogV2lsbCBiZSBleHBvcnRlZCBpbiBhIGxhdGVyIHZlcnNpb24gb2YgQGxhbmdjaGFpbi9vcGVuYWkuXG4qXG4qIEBpbnRlcm5hbFxuKi9cbnZhciBDaGF0T3BlbkFJUmVzcG9uc2VzID0gY2xhc3MgZXh0ZW5kcyBCYXNlQ2hhdE9wZW5BSSB7XG5cdGludm9jYXRpb25QYXJhbXMob3B0aW9ucykge1xuXHRcdGxldCBzdHJpY3Q7XG5cdFx0aWYgKG9wdGlvbnM/LnN0cmljdCAhPT0gdm9pZCAwKSBzdHJpY3QgPSBvcHRpb25zLnN0cmljdDtcblx0XHRpZiAoc3RyaWN0ID09PSB2b2lkIDAgJiYgdGhpcy5zdXBwb3J0c1N0cmljdFRvb2xDYWxsaW5nICE9PSB2b2lkIDApIHN0cmljdCA9IHRoaXMuc3VwcG9ydHNTdHJpY3RUb29sQ2FsbGluZztcblx0XHRjb25zdCBwYXJhbXMgPSB7XG5cdFx0XHRtb2RlbDogdGhpcy5tb2RlbCxcblx0XHRcdHRlbXBlcmF0dXJlOiB0aGlzLnRlbXBlcmF0dXJlLFxuXHRcdFx0dG9wX3A6IHRoaXMudG9wUCxcblx0XHRcdHVzZXI6IHRoaXMudXNlcixcblx0XHRcdHN0cmVhbTogdGhpcy5zdHJlYW1pbmcsXG5cdFx0XHRwcmV2aW91c19yZXNwb25zZV9pZDogb3B0aW9ucz8ucHJldmlvdXNfcmVzcG9uc2VfaWQsXG5cdFx0XHR0cnVuY2F0aW9uOiBvcHRpb25zPy50cnVuY2F0aW9uLFxuXHRcdFx0aW5jbHVkZTogb3B0aW9ucz8uaW5jbHVkZSxcblx0XHRcdHRvb2xzOiBvcHRpb25zPy50b29scz8ubGVuZ3RoID8gdGhpcy5fcmVkdWNlQ2hhdE9wZW5BSVRvb2xzKG9wdGlvbnMudG9vbHMsIHtcblx0XHRcdFx0c3RyZWFtOiB0aGlzLnN0cmVhbWluZyxcblx0XHRcdFx0c3RyaWN0XG5cdFx0XHR9KSA6IHZvaWQgMCxcblx0XHRcdHRvb2xfY2hvaWNlOiBpc0J1aWx0SW5Ub29sQ2hvaWNlKG9wdGlvbnM/LnRvb2xfY2hvaWNlKSA/IG9wdGlvbnM/LnRvb2xfY2hvaWNlIDogKCgpID0+IHtcblx0XHRcdFx0Y29uc3QgZm9ybWF0dGVkID0gZm9ybWF0VG9PcGVuQUlUb29sQ2hvaWNlKG9wdGlvbnM/LnRvb2xfY2hvaWNlKTtcblx0XHRcdFx0aWYgKHR5cGVvZiBmb3JtYXR0ZWQgPT09IFwib2JqZWN0XCIgJiYgXCJ0eXBlXCIgaW4gZm9ybWF0dGVkKSB7XG5cdFx0XHRcdFx0aWYgKGZvcm1hdHRlZC50eXBlID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB7XG5cdFx0XHRcdFx0XHR0eXBlOiBcImZ1bmN0aW9uXCIsXG5cdFx0XHRcdFx0XHRuYW1lOiBmb3JtYXR0ZWQuZnVuY3Rpb24ubmFtZVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0ZWxzZSBpZiAoZm9ybWF0dGVkLnR5cGUgPT09IFwiYWxsb3dlZF90b29sc1wiKSByZXR1cm4ge1xuXHRcdFx0XHRcdFx0dHlwZTogXCJhbGxvd2VkX3Rvb2xzXCIsXG5cdFx0XHRcdFx0XHRtb2RlOiBmb3JtYXR0ZWQuYWxsb3dlZF90b29scy5tb2RlLFxuXHRcdFx0XHRcdFx0dG9vbHM6IGZvcm1hdHRlZC5hbGxvd2VkX3Rvb2xzLnRvb2xzXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRlbHNlIGlmIChmb3JtYXR0ZWQudHlwZSA9PT0gXCJjdXN0b21cIikgcmV0dXJuIHtcblx0XHRcdFx0XHRcdHR5cGU6IFwiY3VzdG9tXCIsXG5cdFx0XHRcdFx0XHRuYW1lOiBmb3JtYXR0ZWQuY3VzdG9tLm5hbWVcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB2b2lkIDA7XG5cdFx0XHR9KSgpLFxuXHRcdFx0dGV4dDogKCgpID0+IHtcblx0XHRcdFx0aWYgKG9wdGlvbnM/LnRleHQpIHJldHVybiBvcHRpb25zLnRleHQ7XG5cdFx0XHRcdGNvbnN0IGZvcm1hdCA9IHRoaXMuX2dldFJlc3BvbnNlRm9ybWF0KG9wdGlvbnM/LnJlc3BvbnNlX2Zvcm1hdCk7XG5cdFx0XHRcdGlmIChmb3JtYXQ/LnR5cGUgPT09IFwianNvbl9zY2hlbWFcIikge1xuXHRcdFx0XHRcdGlmIChmb3JtYXQuanNvbl9zY2hlbWEuc2NoZW1hICE9IG51bGwpIHJldHVybiB7XG5cdFx0XHRcdFx0XHRmb3JtYXQ6IHtcblx0XHRcdFx0XHRcdFx0dHlwZTogXCJqc29uX3NjaGVtYVwiLFxuXHRcdFx0XHRcdFx0XHRzY2hlbWE6IGZvcm1hdC5qc29uX3NjaGVtYS5zY2hlbWEsXG5cdFx0XHRcdFx0XHRcdGRlc2NyaXB0aW9uOiBmb3JtYXQuanNvbl9zY2hlbWEuZGVzY3JpcHRpb24sXG5cdFx0XHRcdFx0XHRcdG5hbWU6IGZvcm1hdC5qc29uX3NjaGVtYS5uYW1lLFxuXHRcdFx0XHRcdFx0XHRzdHJpY3Q6IGZvcm1hdC5qc29uX3NjaGVtYS5zdHJpY3Rcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHR2ZXJib3NpdHk6IG9wdGlvbnM/LnZlcmJvc2l0eVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0cmV0dXJuIHZvaWQgMDtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdGZvcm1hdCxcblx0XHRcdFx0XHR2ZXJib3NpdHk6IG9wdGlvbnM/LnZlcmJvc2l0eVxuXHRcdFx0XHR9O1xuXHRcdFx0fSkoKSxcblx0XHRcdHBhcmFsbGVsX3Rvb2xfY2FsbHM6IG9wdGlvbnM/LnBhcmFsbGVsX3Rvb2xfY2FsbHMsXG5cdFx0XHRtYXhfb3V0cHV0X3Rva2VuczogdGhpcy5tYXhUb2tlbnMgPT09IC0xID8gdm9pZCAwIDogdGhpcy5tYXhUb2tlbnMsXG5cdFx0XHRwcm9tcHRfY2FjaGVfa2V5OiBvcHRpb25zPy5wcm9tcHRDYWNoZUtleSA/PyB0aGlzLnByb21wdENhY2hlS2V5LFxuXHRcdFx0cHJvbXB0X2NhY2hlX3JldGVudGlvbjogb3B0aW9ucz8ucHJvbXB0Q2FjaGVSZXRlbnRpb24gPz8gdGhpcy5wcm9tcHRDYWNoZVJldGVudGlvbixcblx0XHRcdC4uLnRoaXMuemRyRW5hYmxlZCA/IHsgc3RvcmU6IGZhbHNlIH0gOiB7fSxcblx0XHRcdC4uLnRoaXMubW9kZWxLd2FyZ3Ncblx0XHR9O1xuXHRcdGNvbnN0IHJlYXNvbmluZyA9IHRoaXMuX2dldFJlYXNvbmluZ1BhcmFtcyhvcHRpb25zKTtcblx0XHRpZiAocmVhc29uaW5nICE9PSB2b2lkIDApIHBhcmFtcy5yZWFzb25pbmcgPSByZWFzb25pbmc7XG5cdFx0cmV0dXJuIHBhcmFtcztcblx0fVxuXHRhc3luYyBfZ2VuZXJhdGUobWVzc2FnZXMsIG9wdGlvbnMsIHJ1bk1hbmFnZXIpIHtcblx0XHRjb25zdCBpbnZvY2F0aW9uUGFyYW1zID0gdGhpcy5pbnZvY2F0aW9uUGFyYW1zKG9wdGlvbnMpO1xuXHRcdGlmIChpbnZvY2F0aW9uUGFyYW1zLnN0cmVhbSkge1xuXHRcdFx0Y29uc3Qgc3RyZWFtID0gdGhpcy5fc3RyZWFtUmVzcG9uc2VDaHVua3MobWVzc2FnZXMsIG9wdGlvbnMsIHJ1bk1hbmFnZXIpO1xuXHRcdFx0bGV0IGZpbmFsQ2h1bms7XG5cdFx0XHRmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHN0cmVhbSkge1xuXHRcdFx0XHRjaHVuay5tZXNzYWdlLnJlc3BvbnNlX21ldGFkYXRhID0ge1xuXHRcdFx0XHRcdC4uLmNodW5rLmdlbmVyYXRpb25JbmZvLFxuXHRcdFx0XHRcdC4uLmNodW5rLm1lc3NhZ2UucmVzcG9uc2VfbWV0YWRhdGFcblx0XHRcdFx0fTtcblx0XHRcdFx0ZmluYWxDaHVuayA9IGZpbmFsQ2h1bms/LmNvbmNhdChjaHVuaykgPz8gY2h1bms7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRnZW5lcmF0aW9uczogZmluYWxDaHVuayA/IFtmaW5hbENodW5rXSA6IFtdLFxuXHRcdFx0XHRsbG1PdXRwdXQ6IHsgZXN0aW1hdGVkVG9rZW5Vc2FnZTogKGZpbmFsQ2h1bms/Lm1lc3NhZ2UpPy51c2FnZV9tZXRhZGF0YSB9XG5cdFx0XHR9O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5jb21wbGV0aW9uV2l0aFJldHJ5KHtcblx0XHRcdFx0aW5wdXQ6IGNvbnZlcnRNZXNzYWdlc1RvUmVzcG9uc2VzSW5wdXQoe1xuXHRcdFx0XHRcdG1lc3NhZ2VzLFxuXHRcdFx0XHRcdHpkckVuYWJsZWQ6IHRoaXMuemRyRW5hYmxlZCA/PyBmYWxzZSxcblx0XHRcdFx0XHRtb2RlbDogdGhpcy5tb2RlbFxuXHRcdFx0XHR9KSxcblx0XHRcdFx0Li4uaW52b2NhdGlvblBhcmFtcyxcblx0XHRcdFx0c3RyZWFtOiBmYWxzZVxuXHRcdFx0fSwge1xuXHRcdFx0XHRzaWduYWw6IG9wdGlvbnM/LnNpZ25hbCxcblx0XHRcdFx0Li4ub3B0aW9ucz8ub3B0aW9uc1xuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRnZW5lcmF0aW9uczogW3tcblx0XHRcdFx0XHR0ZXh0OiBkYXRhLm91dHB1dF90ZXh0LFxuXHRcdFx0XHRcdG1lc3NhZ2U6IGNvbnZlcnRSZXNwb25zZXNNZXNzYWdlVG9BSU1lc3NhZ2UoZGF0YSlcblx0XHRcdFx0fV0sXG5cdFx0XHRcdGxsbU91dHB1dDoge1xuXHRcdFx0XHRcdGlkOiBkYXRhLmlkLFxuXHRcdFx0XHRcdGVzdGltYXRlZFRva2VuVXNhZ2U6IGRhdGEudXNhZ2UgPyB7XG5cdFx0XHRcdFx0XHRwcm9tcHRUb2tlbnM6IGRhdGEudXNhZ2UuaW5wdXRfdG9rZW5zLFxuXHRcdFx0XHRcdFx0Y29tcGxldGlvblRva2VuczogZGF0YS51c2FnZS5vdXRwdXRfdG9rZW5zLFxuXHRcdFx0XHRcdFx0dG90YWxUb2tlbnM6IGRhdGEudXNhZ2UudG90YWxfdG9rZW5zXG5cdFx0XHRcdFx0fSA6IHZvaWQgMFxuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdH1cblx0fVxuXHRhc3luYyAqX3N0cmVhbVJlc3BvbnNlQ2h1bmtzKG1lc3NhZ2VzLCBvcHRpb25zLCBydW5NYW5hZ2VyKSB7XG5cdFx0Y29uc3Qgc3RyZWFtSXRlcmFibGUgPSBhd2FpdCB0aGlzLmNvbXBsZXRpb25XaXRoUmV0cnkoe1xuXHRcdFx0Li4udGhpcy5pbnZvY2F0aW9uUGFyYW1zKG9wdGlvbnMpLFxuXHRcdFx0aW5wdXQ6IGNvbnZlcnRNZXNzYWdlc1RvUmVzcG9uc2VzSW5wdXQoe1xuXHRcdFx0XHRtZXNzYWdlcyxcblx0XHRcdFx0emRyRW5hYmxlZDogdGhpcy56ZHJFbmFibGVkID8/IGZhbHNlLFxuXHRcdFx0XHRtb2RlbDogdGhpcy5tb2RlbFxuXHRcdFx0fSksXG5cdFx0XHRzdHJlYW06IHRydWVcblx0XHR9LCBvcHRpb25zKTtcblx0XHRmb3IgYXdhaXQgKGNvbnN0IGRhdGEgb2Ygc3RyZWFtSXRlcmFibGUpIHtcblx0XHRcdGNvbnN0IGNodW5rID0gY29udmVydFJlc3BvbnNlc0RlbHRhVG9DaGF0R2VuZXJhdGlvbkNodW5rKGRhdGEpO1xuXHRcdFx0aWYgKGNodW5rID09IG51bGwpIGNvbnRpbnVlO1xuXHRcdFx0eWllbGQgY2h1bms7XG5cdFx0XHRhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVMTE1OZXdUb2tlbihjaHVuay50ZXh0IHx8IFwiXCIsIHtcblx0XHRcdFx0cHJvbXB0OiBvcHRpb25zLnByb21wdEluZGV4ID8/IDAsXG5cdFx0XHRcdGNvbXBsZXRpb246IDBcblx0XHRcdH0sIHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIHsgY2h1bmsgfSk7XG5cdFx0fVxuXHR9XG5cdGFzeW5jIGNvbXBsZXRpb25XaXRoUmV0cnkocmVxdWVzdCwgcmVxdWVzdE9wdGlvbnMpIHtcblx0XHRyZXR1cm4gdGhpcy5jYWxsZXIuY2FsbChhc3luYyAoKSA9PiB7XG5cdFx0XHRjb25zdCBjbGllbnRPcHRpb25zID0gdGhpcy5fZ2V0Q2xpZW50T3B0aW9ucyhyZXF1ZXN0T3B0aW9ucyk7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRpZiAocmVxdWVzdC50ZXh0Py5mb3JtYXQ/LnR5cGUgPT09IFwianNvbl9zY2hlbWFcIiAmJiAhcmVxdWVzdC5zdHJlYW0pIHJldHVybiBhd2FpdCB0aGlzLmNsaWVudC5yZXNwb25zZXMucGFyc2UocmVxdWVzdCwgY2xpZW50T3B0aW9ucyk7XG5cdFx0XHRcdHJldHVybiBhd2FpdCB0aGlzLmNsaWVudC5yZXNwb25zZXMuY3JlYXRlKHJlcXVlc3QsIGNsaWVudE9wdGlvbnMpO1xuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRjb25zdCBlcnJvciA9IHdyYXBPcGVuQUlDbGllbnRFcnJvcihlKTtcblx0XHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRfcmVkdWNlQ2hhdE9wZW5BSVRvb2xzKHRvb2xzLCBmaWVsZHMpIHtcblx0XHRjb25zdCByZWR1Y2VkVG9vbHMgPSBbXTtcblx0XHRmb3IgKGNvbnN0IHRvb2wgb2YgdG9vbHMpIGlmIChpc0J1aWx0SW5Ub29sKHRvb2wpKSB7XG5cdFx0XHRpZiAodG9vbC50eXBlID09PSBcImltYWdlX2dlbmVyYXRpb25cIiAmJiBmaWVsZHM/LnN0cmVhbSkgdG9vbC5wYXJ0aWFsX2ltYWdlcyA9IDE7XG5cdFx0XHRyZWR1Y2VkVG9vbHMucHVzaCh0b29sKTtcblx0XHR9IGVsc2UgaWYgKGlzQ3VzdG9tVG9vbCh0b29sKSkge1xuXHRcdFx0Y29uc3QgY3VzdG9tVG9vbERhdGEgPSB0b29sLm1ldGFkYXRhLmN1c3RvbVRvb2w7XG5cdFx0XHRyZWR1Y2VkVG9vbHMucHVzaCh7XG5cdFx0XHRcdHR5cGU6IFwiY3VzdG9tXCIsXG5cdFx0XHRcdG5hbWU6IGN1c3RvbVRvb2xEYXRhLm5hbWUsXG5cdFx0XHRcdGRlc2NyaXB0aW9uOiBjdXN0b21Ub29sRGF0YS5kZXNjcmlwdGlvbixcblx0XHRcdFx0Zm9ybWF0OiBjdXN0b21Ub29sRGF0YS5mb3JtYXRcblx0XHRcdH0pO1xuXHRcdH0gZWxzZSBpZiAoaXNPcGVuQUlUb29sKHRvb2wpKSByZWR1Y2VkVG9vbHMucHVzaCh7XG5cdFx0XHR0eXBlOiBcImZ1bmN0aW9uXCIsXG5cdFx0XHRuYW1lOiB0b29sLmZ1bmN0aW9uLm5hbWUsXG5cdFx0XHRwYXJhbWV0ZXJzOiB0b29sLmZ1bmN0aW9uLnBhcmFtZXRlcnMsXG5cdFx0XHRkZXNjcmlwdGlvbjogdG9vbC5mdW5jdGlvbi5kZXNjcmlwdGlvbixcblx0XHRcdHN0cmljdDogZmllbGRzPy5zdHJpY3QgPz8gbnVsbFxuXHRcdH0pO1xuXHRcdGVsc2UgaWYgKGlzT3BlbkFJQ3VzdG9tVG9vbCh0b29sKSkgcmVkdWNlZFRvb2xzLnB1c2goY29udmVydENvbXBsZXRpb25zQ3VzdG9tVG9vbCh0b29sKSk7XG5cdFx0cmV0dXJuIHJlZHVjZWRUb29scztcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBDaGF0T3BlbkFJUmVzcG9uc2VzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXNwb25zZXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/chat_models/responses.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/converters/completions.js":
/*!****************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/converters/completions.js ***!
  \****************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   completionsApiContentBlockConverter: () => (/* binding */ completionsApiContentBlockConverter),\n/* harmony export */   convertCompletionsDeltaToBaseMessageChunk: () => (/* binding */ convertCompletionsDeltaToBaseMessageChunk),\n/* harmony export */   convertCompletionsMessageToBaseMessage: () => (/* binding */ convertCompletionsMessageToBaseMessage),\n/* harmony export */   convertMessagesToCompletionsMessageParams: () => (/* binding */ convertMessagesToCompletionsMessageParams),\n/* harmony export */   convertStandardContentBlockToCompletionsContentPart: () => (/* binding */ convertStandardContentBlockToCompletionsContentPart),\n/* harmony export */   convertStandardContentMessageToCompletionsMessage: () => (/* binding */ convertStandardContentMessageToCompletionsMessage)\n/* harmony export */ });\n/* harmony import */ var _utils_misc_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/misc.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/misc.js\");\n/* harmony import */ var _utils_output_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/output.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/output.js\");\n/* harmony import */ var _langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @langchain/core/messages */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/index.js\");\n/* harmony import */ var _langchain_core_output_parsers_openai_tools__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @langchain/core/output_parsers/openai_tools */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/openai_tools/index.js\");\n\n\n\n\n\n//#region src/converters/completions.ts\n/**\n* @deprecated This converter is an internal detail of the OpenAI provider. Do not use it directly. This will be revisited in a future release.\n*/\nconst completionsApiContentBlockConverter = {\n\tproviderName: \"ChatOpenAI\",\n\tfromStandardTextBlock(block) {\n\t\treturn {\n\t\t\ttype: \"text\",\n\t\t\ttext: block.text\n\t\t};\n\t},\n\tfromStandardImageBlock(block) {\n\t\tif (block.source_type === \"url\") return {\n\t\t\ttype: \"image_url\",\n\t\t\timage_url: {\n\t\t\t\turl: block.url,\n\t\t\t\t...block.metadata?.detail ? { detail: block.metadata.detail } : {}\n\t\t\t}\n\t\t};\n\t\tif (block.source_type === \"base64\") {\n\t\t\tconst url = `data:${block.mime_type ?? \"\"};base64,${block.data}`;\n\t\t\treturn {\n\t\t\t\ttype: \"image_url\",\n\t\t\t\timage_url: {\n\t\t\t\t\turl,\n\t\t\t\t\t...block.metadata?.detail ? { detail: block.metadata.detail } : {}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tthrow new Error(`Image content blocks with source_type ${block.source_type} are not supported for ChatOpenAI`);\n\t},\n\tfromStandardAudioBlock(block) {\n\t\tif (block.source_type === \"url\") {\n\t\t\tconst data = (0,_langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.parseBase64DataUrl)({ dataUrl: block.url });\n\t\t\tif (!data) throw new Error(`URL audio blocks with source_type ${block.source_type} must be formatted as a data URL for ChatOpenAI`);\n\t\t\tconst rawMimeType = data.mime_type || block.mime_type || \"\";\n\t\t\tlet mimeType;\n\t\t\ttry {\n\t\t\t\tmimeType = (0,_langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.parseMimeType)(rawMimeType);\n\t\t\t} catch {\n\t\t\t\tthrow new Error(`Audio blocks with source_type ${block.source_type} must have mime type of audio/wav or audio/mp3`);\n\t\t\t}\n\t\t\tif (mimeType.type !== \"audio\" || mimeType.subtype !== \"wav\" && mimeType.subtype !== \"mp3\") throw new Error(`Audio blocks with source_type ${block.source_type} must have mime type of audio/wav or audio/mp3`);\n\t\t\treturn {\n\t\t\t\ttype: \"input_audio\",\n\t\t\t\tinput_audio: {\n\t\t\t\t\tformat: mimeType.subtype,\n\t\t\t\t\tdata: data.data\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tif (block.source_type === \"base64\") {\n\t\t\tlet mimeType;\n\t\t\ttry {\n\t\t\t\tmimeType = (0,_langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.parseMimeType)(block.mime_type ?? \"\");\n\t\t\t} catch {\n\t\t\t\tthrow new Error(`Audio blocks with source_type ${block.source_type} must have mime type of audio/wav or audio/mp3`);\n\t\t\t}\n\t\t\tif (mimeType.type !== \"audio\" || mimeType.subtype !== \"wav\" && mimeType.subtype !== \"mp3\") throw new Error(`Audio blocks with source_type ${block.source_type} must have mime type of audio/wav or audio/mp3`);\n\t\t\treturn {\n\t\t\t\ttype: \"input_audio\",\n\t\t\t\tinput_audio: {\n\t\t\t\t\tformat: mimeType.subtype,\n\t\t\t\t\tdata: block.data\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tthrow new Error(`Audio content blocks with source_type ${block.source_type} are not supported for ChatOpenAI`);\n\t},\n\tfromStandardFileBlock(block) {\n\t\tif (block.source_type === \"url\") {\n\t\t\tconst data = (0,_langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.parseBase64DataUrl)({ dataUrl: block.url });\n\t\t\tconst filename = (0,_utils_misc_js__WEBPACK_IMPORTED_MODULE_0__.getRequiredFilenameFromMetadata)(block);\n\t\t\tif (!data) throw new Error(`URL file blocks with source_type ${block.source_type} must be formatted as a data URL for ChatOpenAI`);\n\t\t\treturn {\n\t\t\t\ttype: \"file\",\n\t\t\t\tfile: {\n\t\t\t\t\tfile_data: block.url,\n\t\t\t\t\t...block.metadata?.filename || block.metadata?.name ? { filename } : {}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tif (block.source_type === \"base64\") {\n\t\t\tconst filename = (0,_utils_misc_js__WEBPACK_IMPORTED_MODULE_0__.getRequiredFilenameFromMetadata)(block);\n\t\t\treturn {\n\t\t\t\ttype: \"file\",\n\t\t\t\tfile: {\n\t\t\t\t\tfile_data: `data:${block.mime_type ?? \"\"};base64,${block.data}`,\n\t\t\t\t\t...block.metadata?.filename || block.metadata?.name || block.metadata?.title ? { filename } : {}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tif (block.source_type === \"id\") return {\n\t\t\ttype: \"file\",\n\t\t\tfile: { file_id: block.id }\n\t\t};\n\t\tthrow new Error(`File content blocks with source_type ${block.source_type} are not supported for ChatOpenAI`);\n\t}\n};\n/**\n* Converts an OpenAI Chat Completions API message to a LangChain BaseMessage.\n*\n* This converter transforms messages from OpenAI's Chat Completions API format into\n* LangChain's internal message representation, handling various message types and\n* preserving metadata, tool calls, and other relevant information.\n*\n* @remarks\n* The converter handles the following message roles:\n* - `assistant`: Converted to {@link AIMessage} with support for tool calls, function calls,\n*   audio content, and multi-modal outputs\n* - Other roles: Converted to generic {@link ChatMessage}\n*\n* For assistant messages, the converter:\n* - Parses and validates tool calls, separating valid and invalid calls\n* - Preserves function call information in additional_kwargs\n* - Includes usage statistics and system fingerprint in response_metadata\n* - Handles multi-modal content (text, images, audio)\n* - Optionally includes the raw API response for debugging\n*\n* @param params - Conversion parameters\n* @param params.message - The OpenAI chat completion message to convert\n* @param params.rawResponse - The complete raw response from OpenAI's API, used to extract\n*   metadata like model name, usage statistics, and system fingerprint\n* @param params.includeRawResponse - If true, includes the raw OpenAI response in the\n*   message's additional_kwargs under the `__raw_response` key. Useful for debugging\n*   or accessing provider-specific fields. Defaults to false.\n*\n* @returns A LangChain BaseMessage instance:\n*   - {@link AIMessage} for assistant messages with tool calls, metadata, and content\n*   - {@link ChatMessage} for all other message types\n*\n* @example\n* ```typescript\n* const baseMessage = convertCompletionsMessageToBaseMessage({\n*   message: {\n*     role: \"assistant\",\n*     content: \"Hello! How can I help you?\",\n*     tool_calls: [\n*       {\n*         id: \"call_123\",\n*         type: \"function\",\n*         function: { name: \"get_weather\", arguments: '{\"location\":\"NYC\"}' }\n*       }\n*     ]\n*   },\n*   rawResponse: completionResponse,\n*   includeRawResponse: true\n* });\n* // Returns an AIMessage with parsed tool calls and metadata\n* ```\n*\n* @throws {Error} If tool call parsing fails, the invalid tool call is captured in\n*   the `invalid_tool_calls` array rather than throwing an error\n*\n*/\nconst convertCompletionsMessageToBaseMessage = ({ message, rawResponse, includeRawResponse }) => {\n\tconst rawToolCalls = message.tool_calls;\n\tswitch (message.role) {\n\t\tcase \"assistant\": {\n\t\t\tconst toolCalls = [];\n\t\t\tconst invalidToolCalls = [];\n\t\t\tfor (const rawToolCall of rawToolCalls ?? []) try {\n\t\t\t\ttoolCalls.push((0,_langchain_core_output_parsers_openai_tools__WEBPACK_IMPORTED_MODULE_3__.parseToolCall)(rawToolCall, { returnId: true }));\n\t\t\t} catch (e) {\n\t\t\t\tinvalidToolCalls.push((0,_langchain_core_output_parsers_openai_tools__WEBPACK_IMPORTED_MODULE_3__.makeInvalidToolCall)(rawToolCall, e.message));\n\t\t\t}\n\t\t\tconst additional_kwargs = {\n\t\t\t\tfunction_call: message.function_call,\n\t\t\t\ttool_calls: rawToolCalls\n\t\t\t};\n\t\t\tif (includeRawResponse !== void 0) additional_kwargs.__raw_response = rawResponse;\n\t\t\tconst response_metadata = {\n\t\t\t\tmodel_provider: \"openai\",\n\t\t\t\tmodel_name: rawResponse.model,\n\t\t\t\t...rawResponse.system_fingerprint ? {\n\t\t\t\t\tusage: { ...rawResponse.usage },\n\t\t\t\t\tsystem_fingerprint: rawResponse.system_fingerprint\n\t\t\t\t} : {}\n\t\t\t};\n\t\t\tif (message.audio) additional_kwargs.audio = message.audio;\n\t\t\tconst content = (0,_utils_output_js__WEBPACK_IMPORTED_MODULE_1__.handleMultiModalOutput)(message.content || \"\", rawResponse.choices?.[0]?.message);\n\t\t\treturn new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.AIMessage({\n\t\t\t\tcontent,\n\t\t\t\ttool_calls: toolCalls,\n\t\t\t\tinvalid_tool_calls: invalidToolCalls,\n\t\t\t\tadditional_kwargs,\n\t\t\t\tresponse_metadata,\n\t\t\t\tid: rawResponse.id\n\t\t\t});\n\t\t}\n\t\tdefault: return new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.ChatMessage(message.content || \"\", message.role ?? \"unknown\");\n\t}\n};\n/**\n* Converts an OpenAI Chat Completions API delta (streaming chunk) to a LangChain BaseMessageChunk.\n*\n* This converter is used during streaming responses to transform incremental updates from OpenAI's\n* Chat Completions API into LangChain message chunks. It handles various message types, tool calls,\n* function calls, audio content, and role-specific message chunk creation.\n*\n* @param params - Conversion parameters\n* @param params.delta - The delta object from an OpenAI streaming chunk containing incremental\n*   message updates. May include content, role, tool_calls, function_call, audio, etc.\n* @param params.rawResponse - The complete raw ChatCompletionChunk response from OpenAI,\n*   containing metadata like model info, usage stats, and the delta\n* @param params.includeRawResponse - Optional flag to include the raw OpenAI response in the\n*   message chunk's additional_kwargs. Useful for debugging or accessing provider-specific data\n* @param params.defaultRole - Optional default role to use if the delta doesn't specify one.\n*   Typically used to maintain role consistency across chunks in a streaming response\n*\n* @returns A BaseMessageChunk subclass appropriate for the message role:\n*   - HumanMessageChunk for \"user\" role\n*   - AIMessageChunk for \"assistant\" role (includes tool call chunks)\n*   - SystemMessageChunk for \"system\" or \"developer\" roles\n*   - FunctionMessageChunk for \"function\" role\n*   - ToolMessageChunk for \"tool\" role\n*   - ChatMessageChunk for any other role\n*\n* @example\n* Basic streaming text chunk:\n* ```typescript\n* const chunk = convertCompletionsDeltaToBaseMessageChunk({\n*   delta: { role: \"assistant\", content: \"Hello\" },\n*   rawResponse: { id: \"chatcmpl-123\", model: \"gpt-4\", ... }\n* });\n* // Returns: AIMessageChunk with content \"Hello\"\n* ```\n*\n* @example\n* Streaming chunk with tool call:\n* ```typescript\n* const chunk = convertCompletionsDeltaToBaseMessageChunk({\n*   delta: {\n*     role: \"assistant\",\n*     tool_calls: [{\n*       index: 0,\n*       id: \"call_123\",\n*       function: { name: \"get_weather\", arguments: '{\"location\":' }\n*     }]\n*   },\n*   rawResponse: { id: \"chatcmpl-123\", ... }\n* });\n* // Returns: AIMessageChunk with tool_call_chunks containing partial tool call data\n* ```\n*\n* @remarks\n* - Tool calls are converted to ToolCallChunk objects with incremental data\n* - Audio content includes the chunk index from the raw response\n* - The \"developer\" role is mapped to SystemMessageChunk with a special marker\n* - Response metadata includes model provider info and usage statistics\n* - Function calls and tool calls are stored in additional_kwargs for compatibility\n*/\nconst convertCompletionsDeltaToBaseMessageChunk = ({ delta, rawResponse, includeRawResponse, defaultRole }) => {\n\tconst role = delta.role ?? defaultRole;\n\tconst content = delta.content ?? \"\";\n\tlet additional_kwargs;\n\tif (delta.function_call) additional_kwargs = { function_call: delta.function_call };\n\telse if (delta.tool_calls) additional_kwargs = { tool_calls: delta.tool_calls };\n\telse additional_kwargs = {};\n\tif (includeRawResponse) additional_kwargs.__raw_response = rawResponse;\n\tif (delta.audio) additional_kwargs.audio = {\n\t\t...delta.audio,\n\t\tindex: rawResponse.choices[0].index\n\t};\n\tconst response_metadata = {\n\t\tmodel_provider: \"openai\",\n\t\tusage: { ...rawResponse.usage }\n\t};\n\tif (role === \"user\") return new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.HumanMessageChunk({\n\t\tcontent,\n\t\tresponse_metadata\n\t});\n\telse if (role === \"assistant\") {\n\t\tconst toolCallChunks = [];\n\t\tif (Array.isArray(delta.tool_calls)) for (const rawToolCall of delta.tool_calls) toolCallChunks.push({\n\t\t\tname: rawToolCall.function?.name,\n\t\t\targs: rawToolCall.function?.arguments,\n\t\t\tid: rawToolCall.id,\n\t\t\tindex: rawToolCall.index,\n\t\t\ttype: \"tool_call_chunk\"\n\t\t});\n\t\treturn new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.AIMessageChunk({\n\t\t\tcontent,\n\t\t\ttool_call_chunks: toolCallChunks,\n\t\t\tadditional_kwargs,\n\t\t\tid: rawResponse.id,\n\t\t\tresponse_metadata\n\t\t});\n\t} else if (role === \"system\") return new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.SystemMessageChunk({\n\t\tcontent,\n\t\tresponse_metadata\n\t});\n\telse if (role === \"developer\") return new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.SystemMessageChunk({\n\t\tcontent,\n\t\tresponse_metadata,\n\t\tadditional_kwargs: { __openai_role__: \"developer\" }\n\t});\n\telse if (role === \"function\") return new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.FunctionMessageChunk({\n\t\tcontent,\n\t\tadditional_kwargs,\n\t\tname: delta.name,\n\t\tresponse_metadata\n\t});\n\telse if (role === \"tool\") return new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.ToolMessageChunk({\n\t\tcontent,\n\t\tadditional_kwargs,\n\t\ttool_call_id: delta.tool_call_id,\n\t\tresponse_metadata\n\t});\n\telse return new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.ChatMessageChunk({\n\t\tcontent,\n\t\trole,\n\t\tresponse_metadata\n\t});\n};\n/**\n* Converts a standard LangChain content block to an OpenAI Completions API content part.\n*\n* This converter transforms LangChain's standardized content blocks (image, audio, file)\n* into the format expected by OpenAI's Chat Completions API. It handles various content\n* types including images (URL or base64), audio (base64), and files (data or file ID).\n*\n* @param block - The standard content block to convert. Can be an image, audio, or file block.\n*\n* @returns An OpenAI Chat Completions content part object, or undefined if the block\n*   cannot be converted (e.g., missing required data).\n*\n* @example\n* Image with URL:\n* ```typescript\n* const block = { type: \"image\", url: \"https://example.com/image.jpg\" };\n* const part = convertStandardContentBlockToCompletionsContentPart(block);\n* // Returns: { type: \"image_url\", image_url: { url: \"https://example.com/image.jpg\" } }\n* ```\n*\n* @example\n* Image with base64 data:\n* ```typescript\n* const block = { type: \"image\", data: \"iVBORw0KGgo...\", mimeType: \"image/png\" };\n* const part = convertStandardContentBlockToCompletionsContentPart(block);\n* // Returns: { type: \"image_url\", image_url: { url: \"data:image/png;base64,iVBORw0KGgo...\" } }\n* ```\n*/\nconst convertStandardContentBlockToCompletionsContentPart = (block) => {\n\tif (block.type === \"image\") {\n\t\tif (block.url) return {\n\t\t\ttype: \"image_url\",\n\t\t\timage_url: { url: block.url }\n\t\t};\n\t\telse if (block.data) return {\n\t\t\ttype: \"image_url\",\n\t\t\timage_url: { url: `data:${block.mimeType};base64,${block.data}` }\n\t\t};\n\t}\n\tif (block.type === \"audio\") {\n\t\tif (block.data) {\n\t\t\tconst format = (0,_langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.iife)(() => {\n\t\t\t\tconst [, format$1] = block.mimeType.split(\"/\");\n\t\t\t\tif (format$1 === \"wav\" || format$1 === \"mp3\") return format$1;\n\t\t\t\treturn \"wav\";\n\t\t\t});\n\t\t\treturn {\n\t\t\t\ttype: \"input_audio\",\n\t\t\t\tinput_audio: {\n\t\t\t\t\tdata: block.data.toString(),\n\t\t\t\t\tformat\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n\tif (block.type === \"file\") {\n\t\tif (block.data) {\n\t\t\tconst filename = (0,_utils_misc_js__WEBPACK_IMPORTED_MODULE_0__.getRequiredFilenameFromMetadata)(block);\n\t\t\treturn {\n\t\t\t\ttype: \"file\",\n\t\t\t\tfile: {\n\t\t\t\t\tfile_data: `data:${block.mimeType};base64,${block.data}`,\n\t\t\t\t\tfilename\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tif (block.fileId) return {\n\t\t\ttype: \"file\",\n\t\t\tfile: { file_id: block.fileId }\n\t\t};\n\t}\n\treturn void 0;\n};\n/**\n* Converts a LangChain BaseMessage with standard content blocks to an OpenAI Chat Completions API message parameter.\n*\n* This converter transforms LangChain's standardized message format (using contentBlocks) into the format\n* expected by OpenAI's Chat Completions API. It handles role mapping, content filtering, and multi-modal\n* content conversion for various message types.\n*\n* @remarks\n* The converter performs the following transformations:\n* - Maps LangChain message roles to OpenAI API roles (user, assistant, system, developer, tool, function)\n* - For reasoning models, automatically converts \"system\" role to \"developer\" role\n* - Filters content blocks based on message role (most roles only include text blocks)\n* - For user messages, converts multi-modal content blocks (images, audio, files) to OpenAI format\n* - Preserves tool call IDs for tool messages and function names for function messages\n*\n* Role-specific behavior:\n* - **developer**: Returns only text content blocks (used for reasoning models)\n* - **system**: Returns only text content blocks\n* - **assistant**: Returns only text content blocks\n* - **tool**: Returns only text content blocks with tool_call_id preserved\n* - **function**: Returns text content blocks joined as a single string with function name\n* - **user** (default): Returns multi-modal content including text, images, audio, and files\n*\n* @param params - Conversion parameters\n* @param params.message - The LangChain BaseMessage to convert. Must have contentBlocks property\n*   containing an array of standard content blocks (text, image, audio, file, etc.)\n* @param params.model - Optional model name. Used to determine if special role mapping is needed\n*   (e.g., \"system\" -> \"developer\" for reasoning models like o1)\n*\n* @returns An OpenAI ChatCompletionMessageParam object formatted for the Chat Completions API.\n*   The structure varies by role:\n*   - Developer/System/Assistant: `{ role, content: TextBlock[] }`\n*   - Tool: `{ role: \"tool\", tool_call_id, content: TextBlock[] }`\n*   - Function: `{ role: \"function\", name, content: string }`\n*   - User: `{ role: \"user\", content: Array<TextPart | ImagePart | AudioPart | FilePart> }`\n*\n* @example\n* Simple text message:\n* ```typescript\n* const message = new HumanMessage({\n*   content: [{ type: \"text\", text: \"Hello!\" }]\n* });\n* const param = convertStandardContentMessageToCompletionsMessage({ message });\n* // Returns: { role: \"user\", content: [{ type: \"text\", text: \"Hello!\" }] }\n* ```\n*\n* @example\n* Multi-modal user message with image:\n* ```typescript\n* const message = new HumanMessage({\n*   content: [\n*     { type: \"text\", text: \"What's in this image?\" },\n*     { type: \"image\", url: \"https://example.com/image.jpg\" }\n*   ]\n* });\n* const param = convertStandardContentMessageToCompletionsMessage({ message });\n* // Returns: {\n* //   role: \"user\",\n* //   content: [\n* //     { type: \"text\", text: \"What's in this image?\" },\n* //     { type: \"image_url\", image_url: { url: \"https://example.com/image.jpg\" } }\n* //   ]\n* // }\n* ```\n*/\nconst convertStandardContentMessageToCompletionsMessage = ({ message, model }) => {\n\tlet role = (0,_utils_misc_js__WEBPACK_IMPORTED_MODULE_0__.messageToOpenAIRole)(message);\n\tif (role === \"system\" && (0,_utils_misc_js__WEBPACK_IMPORTED_MODULE_0__.isReasoningModel)(model)) role = \"developer\";\n\tif (role === \"developer\") return {\n\t\trole: \"developer\",\n\t\tcontent: message.contentBlocks.filter((block) => block.type === \"text\")\n\t};\n\telse if (role === \"system\") return {\n\t\trole: \"system\",\n\t\tcontent: message.contentBlocks.filter((block) => block.type === \"text\")\n\t};\n\telse if (role === \"assistant\") return {\n\t\trole: \"assistant\",\n\t\tcontent: message.contentBlocks.filter((block) => block.type === \"text\")\n\t};\n\telse if (role === \"tool\" && _langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.ToolMessage.isInstance(message)) return {\n\t\trole: \"tool\",\n\t\ttool_call_id: message.tool_call_id,\n\t\tcontent: message.contentBlocks.filter((block) => block.type === \"text\")\n\t};\n\telse if (role === \"function\") return {\n\t\trole: \"function\",\n\t\tname: message.name ?? \"\",\n\t\tcontent: message.contentBlocks.filter((block) => block.type === \"text\").join(\"\")\n\t};\n\tfunction* iterateUserContent(blocks) {\n\t\tfor (const block of blocks) {\n\t\t\tif (block.type === \"text\") yield {\n\t\t\t\ttype: \"text\",\n\t\t\t\ttext: block.text\n\t\t\t};\n\t\t\tconst data = convertStandardContentBlockToCompletionsContentPart(block);\n\t\t\tif (data) yield data;\n\t\t}\n\t}\n\treturn {\n\t\trole: \"user\",\n\t\tcontent: Array.from(iterateUserContent(message.contentBlocks))\n\t};\n};\n/**\n* Converts an array of LangChain BaseMessages to OpenAI Chat Completions API message parameters.\n*\n* This converter transforms LangChain's internal message representation into the format required\n* by OpenAI's Chat Completions API. It handles various message types, roles, content formats,\n* tool calls, function calls, audio messages, and special model-specific requirements.\n*\n* @remarks\n* The converter performs several key transformations:\n* - Maps LangChain message types to OpenAI roles (user, assistant, system, tool, function, developer)\n* - Converts standard content blocks (v1 format) using a specialized converter\n* - Handles multimodal content including text, images, audio, and data blocks\n* - Preserves tool calls and function calls with proper formatting\n* - Applies model-specific role mappings (e.g., \"system\"  \"developer\" for reasoning models)\n* - Splits audio messages into separate message parameters when needed\n*\n* @param params - Conversion parameters\n* @param params.messages - Array of LangChain BaseMessages to convert. Can include any message\n*   type: HumanMessage, AIMessage, SystemMessage, ToolMessage, FunctionMessage, etc.\n* @param params.model - Optional model name used to determine if special role mapping is needed.\n*   For reasoning models (o1, o3, etc.), \"system\" role is converted to \"developer\" role.\n*\n* @returns Array of ChatCompletionMessageParam objects formatted for OpenAI's Chat Completions API.\n*   Some messages may be split into multiple parameters (e.g., audio messages).\n*\n* @example\n* Basic message conversion:\n* ```typescript\n* const messages = [\n*   new HumanMessage(\"What's the weather like?\"),\n*   new AIMessage(\"Let me check that for you.\")\n* ];\n*\n* const params = convertMessagesToCompletionsMessageParams({\n*   messages,\n*   model: \"gpt-4\"\n* });\n* // Returns:\n* // [\n* //   { role: \"user\", content: \"What's the weather like?\" },\n* //   { role: \"assistant\", content: \"Let me check that for you.\" }\n* // ]\n* ```\n*\n* @example\n* Message with tool calls:\n* ```typescript\n* const messages = [\n*   new AIMessage({\n*     content: \"\",\n*     tool_calls: [{\n*       id: \"call_123\",\n*       name: \"get_weather\",\n*       args: { location: \"San Francisco\" }\n*     }]\n*   })\n* ];\n*\n* const params = convertMessagesToCompletionsMessageParams({ messages });\n* // Returns:\n* // [{\n* //   role: \"assistant\",\n* //   content: \"\",\n* //   tool_calls: [{\n* //     id: \"call_123\",\n* //     type: \"function\",\n* //     function: { name: \"get_weather\", arguments: '{\"location\":\"San Francisco\"}' }\n* //   }]\n* // }]\n* ```\n*/\nconst convertMessagesToCompletionsMessageParams = ({ messages, model }) => {\n\treturn messages.flatMap((message) => {\n\t\tif (\"output_version\" in message.response_metadata && message.response_metadata?.output_version === \"v1\") return convertStandardContentMessageToCompletionsMessage({ message });\n\t\tlet role = (0,_utils_misc_js__WEBPACK_IMPORTED_MODULE_0__.messageToOpenAIRole)(message);\n\t\tif (role === \"system\" && (0,_utils_misc_js__WEBPACK_IMPORTED_MODULE_0__.isReasoningModel)(model)) role = \"developer\";\n\t\tconst content = typeof message.content === \"string\" ? message.content : message.content.map((m) => {\n\t\t\tif ((0,_langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.isDataContentBlock)(m)) return (0,_langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.convertToProviderContentBlock)(m, completionsApiContentBlockConverter);\n\t\t\treturn m;\n\t\t});\n\t\tconst completionParam = {\n\t\t\trole,\n\t\t\tcontent\n\t\t};\n\t\tif (message.name != null) completionParam.name = message.name;\n\t\tif (message.additional_kwargs.function_call != null) completionParam.function_call = message.additional_kwargs.function_call;\n\t\tif (_langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.AIMessage.isInstance(message) && !!message.tool_calls?.length) completionParam.tool_calls = message.tool_calls.map(_langchain_core_output_parsers_openai_tools__WEBPACK_IMPORTED_MODULE_3__.convertLangChainToolCallToOpenAI);\n\t\telse {\n\t\t\tif (message.additional_kwargs.tool_calls != null) completionParam.tool_calls = message.additional_kwargs.tool_calls;\n\t\t\tif (_langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.ToolMessage.isInstance(message) && message.tool_call_id != null) completionParam.tool_call_id = message.tool_call_id;\n\t\t}\n\t\tif (message.additional_kwargs.audio && typeof message.additional_kwargs.audio === \"object\" && \"id\" in message.additional_kwargs.audio) {\n\t\t\tconst audioMessage = {\n\t\t\t\trole: \"assistant\",\n\t\t\t\taudio: { id: message.additional_kwargs.audio.id }\n\t\t\t};\n\t\t\treturn [completionParam, audioMessage];\n\t\t}\n\t\treturn completionParam;\n\t});\n};\n\n//#endregion\n\n//# sourceMappingURL=completions.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L2NvbnZlcnRlcnMvY29tcGxldGlvbnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUEwRztBQUM5QztBQUNnTztBQUN6Sjs7QUFFbkk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGdDQUFnQztBQUNsRTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsdUJBQXVCLFNBQVMsV0FBVztBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxnQ0FBZ0M7QUFDbkU7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELG1CQUFtQjtBQUM5RSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLGdCQUFnQiw0RUFBa0IsR0FBRyxvQkFBb0I7QUFDekQsbUVBQW1FLG1CQUFtQjtBQUN0RjtBQUNBO0FBQ0E7QUFDQSxlQUFlLHVFQUFhO0FBQzVCLEtBQUs7QUFDTCxxREFBcUQsbUJBQW1CO0FBQ3hFO0FBQ0EsK0lBQStJLG1CQUFtQjtBQUNsSztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSx1RUFBYTtBQUM1QixLQUFLO0FBQ0wscURBQXFELG1CQUFtQjtBQUN4RTtBQUNBLCtJQUErSSxtQkFBbUI7QUFDbEs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCxtQkFBbUI7QUFDOUUsRUFBRTtBQUNGO0FBQ0E7QUFDQSxnQkFBZ0IsNEVBQWtCLEdBQUcsb0JBQW9CO0FBQ3pELG9CQUFvQiwrRUFBK0I7QUFDbkQsa0VBQWtFLG1CQUFtQjtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxXQUFXO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLCtFQUErQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsdUJBQXVCLFNBQVMsV0FBVztBQUNuRSxzRkFBc0YsV0FBVztBQUNqRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsMERBQTBELG1CQUFtQjtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGlCQUFpQjtBQUNoRDtBQUNBLHVDQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxpQkFBaUI7QUFDeEIsT0FBTyxtQkFBbUI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixrQ0FBa0MsaUJBQWlCO0FBQ3pFO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELDBDQUEwQztBQUM1RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsMEZBQWEsZ0JBQWdCLGdCQUFnQjtBQUNoRSxLQUFLO0FBQ0wsMEJBQTBCLGdHQUFtQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsc0JBQXNCO0FBQ3BDO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxtQkFBbUIsd0VBQXNCO0FBQ3pDLGNBQWMsK0RBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0Esc0JBQXNCLGlFQUFXO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxxQ0FBcUM7QUFDbEQsbUJBQW1CO0FBQ25CLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isa0NBQWtDO0FBQ3RELE9BQU87QUFDUCxLQUFLO0FBQ0wsbUJBQW1CO0FBQ25CLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxxREFBcUQ7QUFDMUc7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdEO0FBQ2hELGtEQUFrRDtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsaUNBQWlDLHVFQUFpQjtBQUNsRDtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsYUFBYSxvRUFBYztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEdBQUcsdUNBQXVDLHdFQUFrQjtBQUM1RDtBQUNBO0FBQ0EsRUFBRTtBQUNGLDJDQUEyQyx3RUFBa0I7QUFDN0Q7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QixFQUFFO0FBQ0YsMENBQTBDLDBFQUFvQjtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRixzQ0FBc0Msc0VBQWdCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGLGlCQUFpQixzRUFBZ0I7QUFDakM7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0EsZ0JBQWdCLGdDQUFnQztBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0EsZ0JBQWdCLGdDQUFnQyxxQkFBcUI7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixhQUFhLGdCQUFnQixTQUFTLFdBQVc7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsOERBQUk7QUFDdEI7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsK0VBQStCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnQkFBZ0IsU0FBUyxXQUFXO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLDRCQUE0QjtBQUNqRSxlQUFlLGtEQUFrRDtBQUNqRSxtQkFBbUIseUNBQXlDO0FBQzVELGVBQWUsMkVBQTJFO0FBQzFGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsOEJBQThCO0FBQzlDLEdBQUc7QUFDSCxvRUFBb0UsU0FBUztBQUM3RSxnQkFBZ0IsMEJBQTBCLDhCQUE4QjtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNkNBQTZDO0FBQ3JELFFBQVE7QUFDUjtBQUNBLEdBQUc7QUFDSCxvRUFBb0UsU0FBUztBQUM3RTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDZDQUE2QztBQUN4RCxXQUFXLGdDQUFnQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxnQkFBZ0I7QUFDN0UsWUFBWSxtRUFBbUI7QUFDL0IsMEJBQTBCLGdFQUFnQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsaUVBQVc7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxTQUFTLG1EQUFtRDtBQUM1RCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBLDZEQUE2RCxVQUFVO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGtDQUFrQywyQkFBMkI7QUFDbEYsUUFBUTtBQUNSLE1BQU07QUFDTjtBQUNBO0FBQ0EscURBQXFELGlCQUFpQjtBQUN0RTtBQUNBLHNLQUFzSyxTQUFTO0FBQy9LLGFBQWEsbUVBQW1CO0FBQ2hDLDJCQUEyQixnRUFBZ0I7QUFDM0M7QUFDQSxPQUFPLDRFQUFrQixZQUFZLHVGQUE2QjtBQUNsRTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLCtEQUFTLDBHQUEwRyx5R0FBZ0M7QUFDeko7QUFDQTtBQUNBLE9BQU8saUVBQVc7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDcVI7QUFDclIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rb3BlbmFpQDEuMi4zX0BsYW5nY2hhaW4rY29yZUAxLjEuMTcvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvY29udmVydGVycy9jb21wbGV0aW9ucy5qcz80ZTU3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFJlcXVpcmVkRmlsZW5hbWVGcm9tTWV0YWRhdGEsIGlzUmVhc29uaW5nTW9kZWwsIG1lc3NhZ2VUb09wZW5BSVJvbGUgfSBmcm9tIFwiLi4vdXRpbHMvbWlzYy5qc1wiO1xuaW1wb3J0IHsgaGFuZGxlTXVsdGlNb2RhbE91dHB1dCB9IGZyb20gXCIuLi91dGlscy9vdXRwdXQuanNcIjtcbmltcG9ydCB7IEFJTWVzc2FnZSwgQUlNZXNzYWdlQ2h1bmssIENoYXRNZXNzYWdlLCBDaGF0TWVzc2FnZUNodW5rLCBGdW5jdGlvbk1lc3NhZ2VDaHVuaywgSHVtYW5NZXNzYWdlQ2h1bmssIFN5c3RlbU1lc3NhZ2VDaHVuaywgVG9vbE1lc3NhZ2UsIFRvb2xNZXNzYWdlQ2h1bmssIGNvbnZlcnRUb1Byb3ZpZGVyQ29udGVudEJsb2NrLCBpaWZlLCBpc0RhdGFDb250ZW50QmxvY2ssIHBhcnNlQmFzZTY0RGF0YVVybCwgcGFyc2VNaW1lVHlwZSB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvbWVzc2FnZXNcIjtcbmltcG9ydCB7IGNvbnZlcnRMYW5nQ2hhaW5Ub29sQ2FsbFRvT3BlbkFJLCBtYWtlSW52YWxpZFRvb2xDYWxsLCBwYXJzZVRvb2xDYWxsIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9vdXRwdXRfcGFyc2Vycy9vcGVuYWlfdG9vbHNcIjtcblxuLy8jcmVnaW9uIHNyYy9jb252ZXJ0ZXJzL2NvbXBsZXRpb25zLnRzXG4vKipcbiogQGRlcHJlY2F0ZWQgVGhpcyBjb252ZXJ0ZXIgaXMgYW4gaW50ZXJuYWwgZGV0YWlsIG9mIHRoZSBPcGVuQUkgcHJvdmlkZXIuIERvIG5vdCB1c2UgaXQgZGlyZWN0bHkuIFRoaXMgd2lsbCBiZSByZXZpc2l0ZWQgaW4gYSBmdXR1cmUgcmVsZWFzZS5cbiovXG5jb25zdCBjb21wbGV0aW9uc0FwaUNvbnRlbnRCbG9ja0NvbnZlcnRlciA9IHtcblx0cHJvdmlkZXJOYW1lOiBcIkNoYXRPcGVuQUlcIixcblx0ZnJvbVN0YW5kYXJkVGV4dEJsb2NrKGJsb2NrKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHR5cGU6IFwidGV4dFwiLFxuXHRcdFx0dGV4dDogYmxvY2sudGV4dFxuXHRcdH07XG5cdH0sXG5cdGZyb21TdGFuZGFyZEltYWdlQmxvY2soYmxvY2spIHtcblx0XHRpZiAoYmxvY2suc291cmNlX3R5cGUgPT09IFwidXJsXCIpIHJldHVybiB7XG5cdFx0XHR0eXBlOiBcImltYWdlX3VybFwiLFxuXHRcdFx0aW1hZ2VfdXJsOiB7XG5cdFx0XHRcdHVybDogYmxvY2sudXJsLFxuXHRcdFx0XHQuLi5ibG9jay5tZXRhZGF0YT8uZGV0YWlsID8geyBkZXRhaWw6IGJsb2NrLm1ldGFkYXRhLmRldGFpbCB9IDoge31cblx0XHRcdH1cblx0XHR9O1xuXHRcdGlmIChibG9jay5zb3VyY2VfdHlwZSA9PT0gXCJiYXNlNjRcIikge1xuXHRcdFx0Y29uc3QgdXJsID0gYGRhdGE6JHtibG9jay5taW1lX3R5cGUgPz8gXCJcIn07YmFzZTY0LCR7YmxvY2suZGF0YX1gO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0dHlwZTogXCJpbWFnZV91cmxcIixcblx0XHRcdFx0aW1hZ2VfdXJsOiB7XG5cdFx0XHRcdFx0dXJsLFxuXHRcdFx0XHRcdC4uLmJsb2NrLm1ldGFkYXRhPy5kZXRhaWwgPyB7IGRldGFpbDogYmxvY2subWV0YWRhdGEuZGV0YWlsIH0gOiB7fVxuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdH1cblx0XHR0aHJvdyBuZXcgRXJyb3IoYEltYWdlIGNvbnRlbnQgYmxvY2tzIHdpdGggc291cmNlX3R5cGUgJHtibG9jay5zb3VyY2VfdHlwZX0gYXJlIG5vdCBzdXBwb3J0ZWQgZm9yIENoYXRPcGVuQUlgKTtcblx0fSxcblx0ZnJvbVN0YW5kYXJkQXVkaW9CbG9jayhibG9jaykge1xuXHRcdGlmIChibG9jay5zb3VyY2VfdHlwZSA9PT0gXCJ1cmxcIikge1xuXHRcdFx0Y29uc3QgZGF0YSA9IHBhcnNlQmFzZTY0RGF0YVVybCh7IGRhdGFVcmw6IGJsb2NrLnVybCB9KTtcblx0XHRcdGlmICghZGF0YSkgdGhyb3cgbmV3IEVycm9yKGBVUkwgYXVkaW8gYmxvY2tzIHdpdGggc291cmNlX3R5cGUgJHtibG9jay5zb3VyY2VfdHlwZX0gbXVzdCBiZSBmb3JtYXR0ZWQgYXMgYSBkYXRhIFVSTCBmb3IgQ2hhdE9wZW5BSWApO1xuXHRcdFx0Y29uc3QgcmF3TWltZVR5cGUgPSBkYXRhLm1pbWVfdHlwZSB8fCBibG9jay5taW1lX3R5cGUgfHwgXCJcIjtcblx0XHRcdGxldCBtaW1lVHlwZTtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdG1pbWVUeXBlID0gcGFyc2VNaW1lVHlwZShyYXdNaW1lVHlwZSk7XG5cdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBBdWRpbyBibG9ja3Mgd2l0aCBzb3VyY2VfdHlwZSAke2Jsb2NrLnNvdXJjZV90eXBlfSBtdXN0IGhhdmUgbWltZSB0eXBlIG9mIGF1ZGlvL3dhdiBvciBhdWRpby9tcDNgKTtcblx0XHRcdH1cblx0XHRcdGlmIChtaW1lVHlwZS50eXBlICE9PSBcImF1ZGlvXCIgfHwgbWltZVR5cGUuc3VidHlwZSAhPT0gXCJ3YXZcIiAmJiBtaW1lVHlwZS5zdWJ0eXBlICE9PSBcIm1wM1wiKSB0aHJvdyBuZXcgRXJyb3IoYEF1ZGlvIGJsb2NrcyB3aXRoIHNvdXJjZV90eXBlICR7YmxvY2suc291cmNlX3R5cGV9IG11c3QgaGF2ZSBtaW1lIHR5cGUgb2YgYXVkaW8vd2F2IG9yIGF1ZGlvL21wM2ApO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0dHlwZTogXCJpbnB1dF9hdWRpb1wiLFxuXHRcdFx0XHRpbnB1dF9hdWRpbzoge1xuXHRcdFx0XHRcdGZvcm1hdDogbWltZVR5cGUuc3VidHlwZSxcblx0XHRcdFx0XHRkYXRhOiBkYXRhLmRhdGFcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9XG5cdFx0aWYgKGJsb2NrLnNvdXJjZV90eXBlID09PSBcImJhc2U2NFwiKSB7XG5cdFx0XHRsZXQgbWltZVR5cGU7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRtaW1lVHlwZSA9IHBhcnNlTWltZVR5cGUoYmxvY2subWltZV90eXBlID8/IFwiXCIpO1xuXHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgQXVkaW8gYmxvY2tzIHdpdGggc291cmNlX3R5cGUgJHtibG9jay5zb3VyY2VfdHlwZX0gbXVzdCBoYXZlIG1pbWUgdHlwZSBvZiBhdWRpby93YXYgb3IgYXVkaW8vbXAzYCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAobWltZVR5cGUudHlwZSAhPT0gXCJhdWRpb1wiIHx8IG1pbWVUeXBlLnN1YnR5cGUgIT09IFwid2F2XCIgJiYgbWltZVR5cGUuc3VidHlwZSAhPT0gXCJtcDNcIikgdGhyb3cgbmV3IEVycm9yKGBBdWRpbyBibG9ja3Mgd2l0aCBzb3VyY2VfdHlwZSAke2Jsb2NrLnNvdXJjZV90eXBlfSBtdXN0IGhhdmUgbWltZSB0eXBlIG9mIGF1ZGlvL3dhdiBvciBhdWRpby9tcDNgKTtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHR5cGU6IFwiaW5wdXRfYXVkaW9cIixcblx0XHRcdFx0aW5wdXRfYXVkaW86IHtcblx0XHRcdFx0XHRmb3JtYXQ6IG1pbWVUeXBlLnN1YnR5cGUsXG5cdFx0XHRcdFx0ZGF0YTogYmxvY2suZGF0YVxuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdH1cblx0XHR0aHJvdyBuZXcgRXJyb3IoYEF1ZGlvIGNvbnRlbnQgYmxvY2tzIHdpdGggc291cmNlX3R5cGUgJHtibG9jay5zb3VyY2VfdHlwZX0gYXJlIG5vdCBzdXBwb3J0ZWQgZm9yIENoYXRPcGVuQUlgKTtcblx0fSxcblx0ZnJvbVN0YW5kYXJkRmlsZUJsb2NrKGJsb2NrKSB7XG5cdFx0aWYgKGJsb2NrLnNvdXJjZV90eXBlID09PSBcInVybFwiKSB7XG5cdFx0XHRjb25zdCBkYXRhID0gcGFyc2VCYXNlNjREYXRhVXJsKHsgZGF0YVVybDogYmxvY2sudXJsIH0pO1xuXHRcdFx0Y29uc3QgZmlsZW5hbWUgPSBnZXRSZXF1aXJlZEZpbGVuYW1lRnJvbU1ldGFkYXRhKGJsb2NrKTtcblx0XHRcdGlmICghZGF0YSkgdGhyb3cgbmV3IEVycm9yKGBVUkwgZmlsZSBibG9ja3Mgd2l0aCBzb3VyY2VfdHlwZSAke2Jsb2NrLnNvdXJjZV90eXBlfSBtdXN0IGJlIGZvcm1hdHRlZCBhcyBhIGRhdGEgVVJMIGZvciBDaGF0T3BlbkFJYCk7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHR0eXBlOiBcImZpbGVcIixcblx0XHRcdFx0ZmlsZToge1xuXHRcdFx0XHRcdGZpbGVfZGF0YTogYmxvY2sudXJsLFxuXHRcdFx0XHRcdC4uLmJsb2NrLm1ldGFkYXRhPy5maWxlbmFtZSB8fCBibG9jay5tZXRhZGF0YT8ubmFtZSA/IHsgZmlsZW5hbWUgfSA6IHt9XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fVxuXHRcdGlmIChibG9jay5zb3VyY2VfdHlwZSA9PT0gXCJiYXNlNjRcIikge1xuXHRcdFx0Y29uc3QgZmlsZW5hbWUgPSBnZXRSZXF1aXJlZEZpbGVuYW1lRnJvbU1ldGFkYXRhKGJsb2NrKTtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHR5cGU6IFwiZmlsZVwiLFxuXHRcdFx0XHRmaWxlOiB7XG5cdFx0XHRcdFx0ZmlsZV9kYXRhOiBgZGF0YToke2Jsb2NrLm1pbWVfdHlwZSA/PyBcIlwifTtiYXNlNjQsJHtibG9jay5kYXRhfWAsXG5cdFx0XHRcdFx0Li4uYmxvY2subWV0YWRhdGE/LmZpbGVuYW1lIHx8IGJsb2NrLm1ldGFkYXRhPy5uYW1lIHx8IGJsb2NrLm1ldGFkYXRhPy50aXRsZSA/IHsgZmlsZW5hbWUgfSA6IHt9XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fVxuXHRcdGlmIChibG9jay5zb3VyY2VfdHlwZSA9PT0gXCJpZFwiKSByZXR1cm4ge1xuXHRcdFx0dHlwZTogXCJmaWxlXCIsXG5cdFx0XHRmaWxlOiB7IGZpbGVfaWQ6IGJsb2NrLmlkIH1cblx0XHR9O1xuXHRcdHRocm93IG5ldyBFcnJvcihgRmlsZSBjb250ZW50IGJsb2NrcyB3aXRoIHNvdXJjZV90eXBlICR7YmxvY2suc291cmNlX3R5cGV9IGFyZSBub3Qgc3VwcG9ydGVkIGZvciBDaGF0T3BlbkFJYCk7XG5cdH1cbn07XG4vKipcbiogQ29udmVydHMgYW4gT3BlbkFJIENoYXQgQ29tcGxldGlvbnMgQVBJIG1lc3NhZ2UgdG8gYSBMYW5nQ2hhaW4gQmFzZU1lc3NhZ2UuXG4qXG4qIFRoaXMgY29udmVydGVyIHRyYW5zZm9ybXMgbWVzc2FnZXMgZnJvbSBPcGVuQUkncyBDaGF0IENvbXBsZXRpb25zIEFQSSBmb3JtYXQgaW50b1xuKiBMYW5nQ2hhaW4ncyBpbnRlcm5hbCBtZXNzYWdlIHJlcHJlc2VudGF0aW9uLCBoYW5kbGluZyB2YXJpb3VzIG1lc3NhZ2UgdHlwZXMgYW5kXG4qIHByZXNlcnZpbmcgbWV0YWRhdGEsIHRvb2wgY2FsbHMsIGFuZCBvdGhlciByZWxldmFudCBpbmZvcm1hdGlvbi5cbipcbiogQHJlbWFya3NcbiogVGhlIGNvbnZlcnRlciBoYW5kbGVzIHRoZSBmb2xsb3dpbmcgbWVzc2FnZSByb2xlczpcbiogLSBgYXNzaXN0YW50YDogQ29udmVydGVkIHRvIHtAbGluayBBSU1lc3NhZ2V9IHdpdGggc3VwcG9ydCBmb3IgdG9vbCBjYWxscywgZnVuY3Rpb24gY2FsbHMsXG4qICAgYXVkaW8gY29udGVudCwgYW5kIG11bHRpLW1vZGFsIG91dHB1dHNcbiogLSBPdGhlciByb2xlczogQ29udmVydGVkIHRvIGdlbmVyaWMge0BsaW5rIENoYXRNZXNzYWdlfVxuKlxuKiBGb3IgYXNzaXN0YW50IG1lc3NhZ2VzLCB0aGUgY29udmVydGVyOlxuKiAtIFBhcnNlcyBhbmQgdmFsaWRhdGVzIHRvb2wgY2FsbHMsIHNlcGFyYXRpbmcgdmFsaWQgYW5kIGludmFsaWQgY2FsbHNcbiogLSBQcmVzZXJ2ZXMgZnVuY3Rpb24gY2FsbCBpbmZvcm1hdGlvbiBpbiBhZGRpdGlvbmFsX2t3YXJnc1xuKiAtIEluY2x1ZGVzIHVzYWdlIHN0YXRpc3RpY3MgYW5kIHN5c3RlbSBmaW5nZXJwcmludCBpbiByZXNwb25zZV9tZXRhZGF0YVxuKiAtIEhhbmRsZXMgbXVsdGktbW9kYWwgY29udGVudCAodGV4dCwgaW1hZ2VzLCBhdWRpbylcbiogLSBPcHRpb25hbGx5IGluY2x1ZGVzIHRoZSByYXcgQVBJIHJlc3BvbnNlIGZvciBkZWJ1Z2dpbmdcbipcbiogQHBhcmFtIHBhcmFtcyAtIENvbnZlcnNpb24gcGFyYW1ldGVyc1xuKiBAcGFyYW0gcGFyYW1zLm1lc3NhZ2UgLSBUaGUgT3BlbkFJIGNoYXQgY29tcGxldGlvbiBtZXNzYWdlIHRvIGNvbnZlcnRcbiogQHBhcmFtIHBhcmFtcy5yYXdSZXNwb25zZSAtIFRoZSBjb21wbGV0ZSByYXcgcmVzcG9uc2UgZnJvbSBPcGVuQUkncyBBUEksIHVzZWQgdG8gZXh0cmFjdFxuKiAgIG1ldGFkYXRhIGxpa2UgbW9kZWwgbmFtZSwgdXNhZ2Ugc3RhdGlzdGljcywgYW5kIHN5c3RlbSBmaW5nZXJwcmludFxuKiBAcGFyYW0gcGFyYW1zLmluY2x1ZGVSYXdSZXNwb25zZSAtIElmIHRydWUsIGluY2x1ZGVzIHRoZSByYXcgT3BlbkFJIHJlc3BvbnNlIGluIHRoZVxuKiAgIG1lc3NhZ2UncyBhZGRpdGlvbmFsX2t3YXJncyB1bmRlciB0aGUgYF9fcmF3X3Jlc3BvbnNlYCBrZXkuIFVzZWZ1bCBmb3IgZGVidWdnaW5nXG4qICAgb3IgYWNjZXNzaW5nIHByb3ZpZGVyLXNwZWNpZmljIGZpZWxkcy4gRGVmYXVsdHMgdG8gZmFsc2UuXG4qXG4qIEByZXR1cm5zIEEgTGFuZ0NoYWluIEJhc2VNZXNzYWdlIGluc3RhbmNlOlxuKiAgIC0ge0BsaW5rIEFJTWVzc2FnZX0gZm9yIGFzc2lzdGFudCBtZXNzYWdlcyB3aXRoIHRvb2wgY2FsbHMsIG1ldGFkYXRhLCBhbmQgY29udGVudFxuKiAgIC0ge0BsaW5rIENoYXRNZXNzYWdlfSBmb3IgYWxsIG90aGVyIG1lc3NhZ2UgdHlwZXNcbipcbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBiYXNlTWVzc2FnZSA9IGNvbnZlcnRDb21wbGV0aW9uc01lc3NhZ2VUb0Jhc2VNZXNzYWdlKHtcbiogICBtZXNzYWdlOiB7XG4qICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuKiAgICAgY29udGVudDogXCJIZWxsbyEgSG93IGNhbiBJIGhlbHAgeW91P1wiLFxuKiAgICAgdG9vbF9jYWxsczogW1xuKiAgICAgICB7XG4qICAgICAgICAgaWQ6IFwiY2FsbF8xMjNcIixcbiogICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCIsXG4qICAgICAgICAgZnVuY3Rpb246IHsgbmFtZTogXCJnZXRfd2VhdGhlclwiLCBhcmd1bWVudHM6ICd7XCJsb2NhdGlvblwiOlwiTllDXCJ9JyB9XG4qICAgICAgIH1cbiogICAgIF1cbiogICB9LFxuKiAgIHJhd1Jlc3BvbnNlOiBjb21wbGV0aW9uUmVzcG9uc2UsXG4qICAgaW5jbHVkZVJhd1Jlc3BvbnNlOiB0cnVlXG4qIH0pO1xuKiAvLyBSZXR1cm5zIGFuIEFJTWVzc2FnZSB3aXRoIHBhcnNlZCB0b29sIGNhbGxzIGFuZCBtZXRhZGF0YVxuKiBgYGBcbipcbiogQHRocm93cyB7RXJyb3J9IElmIHRvb2wgY2FsbCBwYXJzaW5nIGZhaWxzLCB0aGUgaW52YWxpZCB0b29sIGNhbGwgaXMgY2FwdHVyZWQgaW5cbiogICB0aGUgYGludmFsaWRfdG9vbF9jYWxsc2AgYXJyYXkgcmF0aGVyIHRoYW4gdGhyb3dpbmcgYW4gZXJyb3JcbipcbiovXG5jb25zdCBjb252ZXJ0Q29tcGxldGlvbnNNZXNzYWdlVG9CYXNlTWVzc2FnZSA9ICh7IG1lc3NhZ2UsIHJhd1Jlc3BvbnNlLCBpbmNsdWRlUmF3UmVzcG9uc2UgfSkgPT4ge1xuXHRjb25zdCByYXdUb29sQ2FsbHMgPSBtZXNzYWdlLnRvb2xfY2FsbHM7XG5cdHN3aXRjaCAobWVzc2FnZS5yb2xlKSB7XG5cdFx0Y2FzZSBcImFzc2lzdGFudFwiOiB7XG5cdFx0XHRjb25zdCB0b29sQ2FsbHMgPSBbXTtcblx0XHRcdGNvbnN0IGludmFsaWRUb29sQ2FsbHMgPSBbXTtcblx0XHRcdGZvciAoY29uc3QgcmF3VG9vbENhbGwgb2YgcmF3VG9vbENhbGxzID8/IFtdKSB0cnkge1xuXHRcdFx0XHR0b29sQ2FsbHMucHVzaChwYXJzZVRvb2xDYWxsKHJhd1Rvb2xDYWxsLCB7IHJldHVybklkOiB0cnVlIH0pKTtcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0aW52YWxpZFRvb2xDYWxscy5wdXNoKG1ha2VJbnZhbGlkVG9vbENhbGwocmF3VG9vbENhbGwsIGUubWVzc2FnZSkpO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3QgYWRkaXRpb25hbF9rd2FyZ3MgPSB7XG5cdFx0XHRcdGZ1bmN0aW9uX2NhbGw6IG1lc3NhZ2UuZnVuY3Rpb25fY2FsbCxcblx0XHRcdFx0dG9vbF9jYWxsczogcmF3VG9vbENhbGxzXG5cdFx0XHR9O1xuXHRcdFx0aWYgKGluY2x1ZGVSYXdSZXNwb25zZSAhPT0gdm9pZCAwKSBhZGRpdGlvbmFsX2t3YXJncy5fX3Jhd19yZXNwb25zZSA9IHJhd1Jlc3BvbnNlO1xuXHRcdFx0Y29uc3QgcmVzcG9uc2VfbWV0YWRhdGEgPSB7XG5cdFx0XHRcdG1vZGVsX3Byb3ZpZGVyOiBcIm9wZW5haVwiLFxuXHRcdFx0XHRtb2RlbF9uYW1lOiByYXdSZXNwb25zZS5tb2RlbCxcblx0XHRcdFx0Li4ucmF3UmVzcG9uc2Uuc3lzdGVtX2ZpbmdlcnByaW50ID8ge1xuXHRcdFx0XHRcdHVzYWdlOiB7IC4uLnJhd1Jlc3BvbnNlLnVzYWdlIH0sXG5cdFx0XHRcdFx0c3lzdGVtX2ZpbmdlcnByaW50OiByYXdSZXNwb25zZS5zeXN0ZW1fZmluZ2VycHJpbnRcblx0XHRcdFx0fSA6IHt9XG5cdFx0XHR9O1xuXHRcdFx0aWYgKG1lc3NhZ2UuYXVkaW8pIGFkZGl0aW9uYWxfa3dhcmdzLmF1ZGlvID0gbWVzc2FnZS5hdWRpbztcblx0XHRcdGNvbnN0IGNvbnRlbnQgPSBoYW5kbGVNdWx0aU1vZGFsT3V0cHV0KG1lc3NhZ2UuY29udGVudCB8fCBcIlwiLCByYXdSZXNwb25zZS5jaG9pY2VzPy5bMF0/Lm1lc3NhZ2UpO1xuXHRcdFx0cmV0dXJuIG5ldyBBSU1lc3NhZ2Uoe1xuXHRcdFx0XHRjb250ZW50LFxuXHRcdFx0XHR0b29sX2NhbGxzOiB0b29sQ2FsbHMsXG5cdFx0XHRcdGludmFsaWRfdG9vbF9jYWxsczogaW52YWxpZFRvb2xDYWxscyxcblx0XHRcdFx0YWRkaXRpb25hbF9rd2FyZ3MsXG5cdFx0XHRcdHJlc3BvbnNlX21ldGFkYXRhLFxuXHRcdFx0XHRpZDogcmF3UmVzcG9uc2UuaWRcblx0XHRcdH0pO1xuXHRcdH1cblx0XHRkZWZhdWx0OiByZXR1cm4gbmV3IENoYXRNZXNzYWdlKG1lc3NhZ2UuY29udGVudCB8fCBcIlwiLCBtZXNzYWdlLnJvbGUgPz8gXCJ1bmtub3duXCIpO1xuXHR9XG59O1xuLyoqXG4qIENvbnZlcnRzIGFuIE9wZW5BSSBDaGF0IENvbXBsZXRpb25zIEFQSSBkZWx0YSAoc3RyZWFtaW5nIGNodW5rKSB0byBhIExhbmdDaGFpbiBCYXNlTWVzc2FnZUNodW5rLlxuKlxuKiBUaGlzIGNvbnZlcnRlciBpcyB1c2VkIGR1cmluZyBzdHJlYW1pbmcgcmVzcG9uc2VzIHRvIHRyYW5zZm9ybSBpbmNyZW1lbnRhbCB1cGRhdGVzIGZyb20gT3BlbkFJJ3NcbiogQ2hhdCBDb21wbGV0aW9ucyBBUEkgaW50byBMYW5nQ2hhaW4gbWVzc2FnZSBjaHVua3MuIEl0IGhhbmRsZXMgdmFyaW91cyBtZXNzYWdlIHR5cGVzLCB0b29sIGNhbGxzLFxuKiBmdW5jdGlvbiBjYWxscywgYXVkaW8gY29udGVudCwgYW5kIHJvbGUtc3BlY2lmaWMgbWVzc2FnZSBjaHVuayBjcmVhdGlvbi5cbipcbiogQHBhcmFtIHBhcmFtcyAtIENvbnZlcnNpb24gcGFyYW1ldGVyc1xuKiBAcGFyYW0gcGFyYW1zLmRlbHRhIC0gVGhlIGRlbHRhIG9iamVjdCBmcm9tIGFuIE9wZW5BSSBzdHJlYW1pbmcgY2h1bmsgY29udGFpbmluZyBpbmNyZW1lbnRhbFxuKiAgIG1lc3NhZ2UgdXBkYXRlcy4gTWF5IGluY2x1ZGUgY29udGVudCwgcm9sZSwgdG9vbF9jYWxscywgZnVuY3Rpb25fY2FsbCwgYXVkaW8sIGV0Yy5cbiogQHBhcmFtIHBhcmFtcy5yYXdSZXNwb25zZSAtIFRoZSBjb21wbGV0ZSByYXcgQ2hhdENvbXBsZXRpb25DaHVuayByZXNwb25zZSBmcm9tIE9wZW5BSSxcbiogICBjb250YWluaW5nIG1ldGFkYXRhIGxpa2UgbW9kZWwgaW5mbywgdXNhZ2Ugc3RhdHMsIGFuZCB0aGUgZGVsdGFcbiogQHBhcmFtIHBhcmFtcy5pbmNsdWRlUmF3UmVzcG9uc2UgLSBPcHRpb25hbCBmbGFnIHRvIGluY2x1ZGUgdGhlIHJhdyBPcGVuQUkgcmVzcG9uc2UgaW4gdGhlXG4qICAgbWVzc2FnZSBjaHVuaydzIGFkZGl0aW9uYWxfa3dhcmdzLiBVc2VmdWwgZm9yIGRlYnVnZ2luZyBvciBhY2Nlc3NpbmcgcHJvdmlkZXItc3BlY2lmaWMgZGF0YVxuKiBAcGFyYW0gcGFyYW1zLmRlZmF1bHRSb2xlIC0gT3B0aW9uYWwgZGVmYXVsdCByb2xlIHRvIHVzZSBpZiB0aGUgZGVsdGEgZG9lc24ndCBzcGVjaWZ5IG9uZS5cbiogICBUeXBpY2FsbHkgdXNlZCB0byBtYWludGFpbiByb2xlIGNvbnNpc3RlbmN5IGFjcm9zcyBjaHVua3MgaW4gYSBzdHJlYW1pbmcgcmVzcG9uc2VcbipcbiogQHJldHVybnMgQSBCYXNlTWVzc2FnZUNodW5rIHN1YmNsYXNzIGFwcHJvcHJpYXRlIGZvciB0aGUgbWVzc2FnZSByb2xlOlxuKiAgIC0gSHVtYW5NZXNzYWdlQ2h1bmsgZm9yIFwidXNlclwiIHJvbGVcbiogICAtIEFJTWVzc2FnZUNodW5rIGZvciBcImFzc2lzdGFudFwiIHJvbGUgKGluY2x1ZGVzIHRvb2wgY2FsbCBjaHVua3MpXG4qICAgLSBTeXN0ZW1NZXNzYWdlQ2h1bmsgZm9yIFwic3lzdGVtXCIgb3IgXCJkZXZlbG9wZXJcIiByb2xlc1xuKiAgIC0gRnVuY3Rpb25NZXNzYWdlQ2h1bmsgZm9yIFwiZnVuY3Rpb25cIiByb2xlXG4qICAgLSBUb29sTWVzc2FnZUNodW5rIGZvciBcInRvb2xcIiByb2xlXG4qICAgLSBDaGF0TWVzc2FnZUNodW5rIGZvciBhbnkgb3RoZXIgcm9sZVxuKlxuKiBAZXhhbXBsZVxuKiBCYXNpYyBzdHJlYW1pbmcgdGV4dCBjaHVuazpcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBjaHVuayA9IGNvbnZlcnRDb21wbGV0aW9uc0RlbHRhVG9CYXNlTWVzc2FnZUNodW5rKHtcbiogICBkZWx0YTogeyByb2xlOiBcImFzc2lzdGFudFwiLCBjb250ZW50OiBcIkhlbGxvXCIgfSxcbiogICByYXdSZXNwb25zZTogeyBpZDogXCJjaGF0Y21wbC0xMjNcIiwgbW9kZWw6IFwiZ3B0LTRcIiwgLi4uIH1cbiogfSk7XG4qIC8vIFJldHVybnM6IEFJTWVzc2FnZUNodW5rIHdpdGggY29udGVudCBcIkhlbGxvXCJcbiogYGBgXG4qXG4qIEBleGFtcGxlXG4qIFN0cmVhbWluZyBjaHVuayB3aXRoIHRvb2wgY2FsbDpcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBjaHVuayA9IGNvbnZlcnRDb21wbGV0aW9uc0RlbHRhVG9CYXNlTWVzc2FnZUNodW5rKHtcbiogICBkZWx0YToge1xuKiAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiogICAgIHRvb2xfY2FsbHM6IFt7XG4qICAgICAgIGluZGV4OiAwLFxuKiAgICAgICBpZDogXCJjYWxsXzEyM1wiLFxuKiAgICAgICBmdW5jdGlvbjogeyBuYW1lOiBcImdldF93ZWF0aGVyXCIsIGFyZ3VtZW50czogJ3tcImxvY2F0aW9uXCI6JyB9XG4qICAgICB9XVxuKiAgIH0sXG4qICAgcmF3UmVzcG9uc2U6IHsgaWQ6IFwiY2hhdGNtcGwtMTIzXCIsIC4uLiB9XG4qIH0pO1xuKiAvLyBSZXR1cm5zOiBBSU1lc3NhZ2VDaHVuayB3aXRoIHRvb2xfY2FsbF9jaHVua3MgY29udGFpbmluZyBwYXJ0aWFsIHRvb2wgY2FsbCBkYXRhXG4qIGBgYFxuKlxuKiBAcmVtYXJrc1xuKiAtIFRvb2wgY2FsbHMgYXJlIGNvbnZlcnRlZCB0byBUb29sQ2FsbENodW5rIG9iamVjdHMgd2l0aCBpbmNyZW1lbnRhbCBkYXRhXG4qIC0gQXVkaW8gY29udGVudCBpbmNsdWRlcyB0aGUgY2h1bmsgaW5kZXggZnJvbSB0aGUgcmF3IHJlc3BvbnNlXG4qIC0gVGhlIFwiZGV2ZWxvcGVyXCIgcm9sZSBpcyBtYXBwZWQgdG8gU3lzdGVtTWVzc2FnZUNodW5rIHdpdGggYSBzcGVjaWFsIG1hcmtlclxuKiAtIFJlc3BvbnNlIG1ldGFkYXRhIGluY2x1ZGVzIG1vZGVsIHByb3ZpZGVyIGluZm8gYW5kIHVzYWdlIHN0YXRpc3RpY3NcbiogLSBGdW5jdGlvbiBjYWxscyBhbmQgdG9vbCBjYWxscyBhcmUgc3RvcmVkIGluIGFkZGl0aW9uYWxfa3dhcmdzIGZvciBjb21wYXRpYmlsaXR5XG4qL1xuY29uc3QgY29udmVydENvbXBsZXRpb25zRGVsdGFUb0Jhc2VNZXNzYWdlQ2h1bmsgPSAoeyBkZWx0YSwgcmF3UmVzcG9uc2UsIGluY2x1ZGVSYXdSZXNwb25zZSwgZGVmYXVsdFJvbGUgfSkgPT4ge1xuXHRjb25zdCByb2xlID0gZGVsdGEucm9sZSA/PyBkZWZhdWx0Um9sZTtcblx0Y29uc3QgY29udGVudCA9IGRlbHRhLmNvbnRlbnQgPz8gXCJcIjtcblx0bGV0IGFkZGl0aW9uYWxfa3dhcmdzO1xuXHRpZiAoZGVsdGEuZnVuY3Rpb25fY2FsbCkgYWRkaXRpb25hbF9rd2FyZ3MgPSB7IGZ1bmN0aW9uX2NhbGw6IGRlbHRhLmZ1bmN0aW9uX2NhbGwgfTtcblx0ZWxzZSBpZiAoZGVsdGEudG9vbF9jYWxscykgYWRkaXRpb25hbF9rd2FyZ3MgPSB7IHRvb2xfY2FsbHM6IGRlbHRhLnRvb2xfY2FsbHMgfTtcblx0ZWxzZSBhZGRpdGlvbmFsX2t3YXJncyA9IHt9O1xuXHRpZiAoaW5jbHVkZVJhd1Jlc3BvbnNlKSBhZGRpdGlvbmFsX2t3YXJncy5fX3Jhd19yZXNwb25zZSA9IHJhd1Jlc3BvbnNlO1xuXHRpZiAoZGVsdGEuYXVkaW8pIGFkZGl0aW9uYWxfa3dhcmdzLmF1ZGlvID0ge1xuXHRcdC4uLmRlbHRhLmF1ZGlvLFxuXHRcdGluZGV4OiByYXdSZXNwb25zZS5jaG9pY2VzWzBdLmluZGV4XG5cdH07XG5cdGNvbnN0IHJlc3BvbnNlX21ldGFkYXRhID0ge1xuXHRcdG1vZGVsX3Byb3ZpZGVyOiBcIm9wZW5haVwiLFxuXHRcdHVzYWdlOiB7IC4uLnJhd1Jlc3BvbnNlLnVzYWdlIH1cblx0fTtcblx0aWYgKHJvbGUgPT09IFwidXNlclwiKSByZXR1cm4gbmV3IEh1bWFuTWVzc2FnZUNodW5rKHtcblx0XHRjb250ZW50LFxuXHRcdHJlc3BvbnNlX21ldGFkYXRhXG5cdH0pO1xuXHRlbHNlIGlmIChyb2xlID09PSBcImFzc2lzdGFudFwiKSB7XG5cdFx0Y29uc3QgdG9vbENhbGxDaHVua3MgPSBbXTtcblx0XHRpZiAoQXJyYXkuaXNBcnJheShkZWx0YS50b29sX2NhbGxzKSkgZm9yIChjb25zdCByYXdUb29sQ2FsbCBvZiBkZWx0YS50b29sX2NhbGxzKSB0b29sQ2FsbENodW5rcy5wdXNoKHtcblx0XHRcdG5hbWU6IHJhd1Rvb2xDYWxsLmZ1bmN0aW9uPy5uYW1lLFxuXHRcdFx0YXJnczogcmF3VG9vbENhbGwuZnVuY3Rpb24/LmFyZ3VtZW50cyxcblx0XHRcdGlkOiByYXdUb29sQ2FsbC5pZCxcblx0XHRcdGluZGV4OiByYXdUb29sQ2FsbC5pbmRleCxcblx0XHRcdHR5cGU6IFwidG9vbF9jYWxsX2NodW5rXCJcblx0XHR9KTtcblx0XHRyZXR1cm4gbmV3IEFJTWVzc2FnZUNodW5rKHtcblx0XHRcdGNvbnRlbnQsXG5cdFx0XHR0b29sX2NhbGxfY2h1bmtzOiB0b29sQ2FsbENodW5rcyxcblx0XHRcdGFkZGl0aW9uYWxfa3dhcmdzLFxuXHRcdFx0aWQ6IHJhd1Jlc3BvbnNlLmlkLFxuXHRcdFx0cmVzcG9uc2VfbWV0YWRhdGFcblx0XHR9KTtcblx0fSBlbHNlIGlmIChyb2xlID09PSBcInN5c3RlbVwiKSByZXR1cm4gbmV3IFN5c3RlbU1lc3NhZ2VDaHVuayh7XG5cdFx0Y29udGVudCxcblx0XHRyZXNwb25zZV9tZXRhZGF0YVxuXHR9KTtcblx0ZWxzZSBpZiAocm9sZSA9PT0gXCJkZXZlbG9wZXJcIikgcmV0dXJuIG5ldyBTeXN0ZW1NZXNzYWdlQ2h1bmsoe1xuXHRcdGNvbnRlbnQsXG5cdFx0cmVzcG9uc2VfbWV0YWRhdGEsXG5cdFx0YWRkaXRpb25hbF9rd2FyZ3M6IHsgX19vcGVuYWlfcm9sZV9fOiBcImRldmVsb3BlclwiIH1cblx0fSk7XG5cdGVsc2UgaWYgKHJvbGUgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIG5ldyBGdW5jdGlvbk1lc3NhZ2VDaHVuayh7XG5cdFx0Y29udGVudCxcblx0XHRhZGRpdGlvbmFsX2t3YXJncyxcblx0XHRuYW1lOiBkZWx0YS5uYW1lLFxuXHRcdHJlc3BvbnNlX21ldGFkYXRhXG5cdH0pO1xuXHRlbHNlIGlmIChyb2xlID09PSBcInRvb2xcIikgcmV0dXJuIG5ldyBUb29sTWVzc2FnZUNodW5rKHtcblx0XHRjb250ZW50LFxuXHRcdGFkZGl0aW9uYWxfa3dhcmdzLFxuXHRcdHRvb2xfY2FsbF9pZDogZGVsdGEudG9vbF9jYWxsX2lkLFxuXHRcdHJlc3BvbnNlX21ldGFkYXRhXG5cdH0pO1xuXHRlbHNlIHJldHVybiBuZXcgQ2hhdE1lc3NhZ2VDaHVuayh7XG5cdFx0Y29udGVudCxcblx0XHRyb2xlLFxuXHRcdHJlc3BvbnNlX21ldGFkYXRhXG5cdH0pO1xufTtcbi8qKlxuKiBDb252ZXJ0cyBhIHN0YW5kYXJkIExhbmdDaGFpbiBjb250ZW50IGJsb2NrIHRvIGFuIE9wZW5BSSBDb21wbGV0aW9ucyBBUEkgY29udGVudCBwYXJ0LlxuKlxuKiBUaGlzIGNvbnZlcnRlciB0cmFuc2Zvcm1zIExhbmdDaGFpbidzIHN0YW5kYXJkaXplZCBjb250ZW50IGJsb2NrcyAoaW1hZ2UsIGF1ZGlvLCBmaWxlKVxuKiBpbnRvIHRoZSBmb3JtYXQgZXhwZWN0ZWQgYnkgT3BlbkFJJ3MgQ2hhdCBDb21wbGV0aW9ucyBBUEkuIEl0IGhhbmRsZXMgdmFyaW91cyBjb250ZW50XG4qIHR5cGVzIGluY2x1ZGluZyBpbWFnZXMgKFVSTCBvciBiYXNlNjQpLCBhdWRpbyAoYmFzZTY0KSwgYW5kIGZpbGVzIChkYXRhIG9yIGZpbGUgSUQpLlxuKlxuKiBAcGFyYW0gYmxvY2sgLSBUaGUgc3RhbmRhcmQgY29udGVudCBibG9jayB0byBjb252ZXJ0LiBDYW4gYmUgYW4gaW1hZ2UsIGF1ZGlvLCBvciBmaWxlIGJsb2NrLlxuKlxuKiBAcmV0dXJucyBBbiBPcGVuQUkgQ2hhdCBDb21wbGV0aW9ucyBjb250ZW50IHBhcnQgb2JqZWN0LCBvciB1bmRlZmluZWQgaWYgdGhlIGJsb2NrXG4qICAgY2Fubm90IGJlIGNvbnZlcnRlZCAoZS5nLiwgbWlzc2luZyByZXF1aXJlZCBkYXRhKS5cbipcbiogQGV4YW1wbGVcbiogSW1hZ2Ugd2l0aCBVUkw6XG4qIGBgYHR5cGVzY3JpcHRcbiogY29uc3QgYmxvY2sgPSB7IHR5cGU6IFwiaW1hZ2VcIiwgdXJsOiBcImh0dHBzOi8vZXhhbXBsZS5jb20vaW1hZ2UuanBnXCIgfTtcbiogY29uc3QgcGFydCA9IGNvbnZlcnRTdGFuZGFyZENvbnRlbnRCbG9ja1RvQ29tcGxldGlvbnNDb250ZW50UGFydChibG9jayk7XG4qIC8vIFJldHVybnM6IHsgdHlwZTogXCJpbWFnZV91cmxcIiwgaW1hZ2VfdXJsOiB7IHVybDogXCJodHRwczovL2V4YW1wbGUuY29tL2ltYWdlLmpwZ1wiIH0gfVxuKiBgYGBcbipcbiogQGV4YW1wbGVcbiogSW1hZ2Ugd2l0aCBiYXNlNjQgZGF0YTpcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBibG9jayA9IHsgdHlwZTogXCJpbWFnZVwiLCBkYXRhOiBcImlWQk9SdzBLR2dvLi4uXCIsIG1pbWVUeXBlOiBcImltYWdlL3BuZ1wiIH07XG4qIGNvbnN0IHBhcnQgPSBjb252ZXJ0U3RhbmRhcmRDb250ZW50QmxvY2tUb0NvbXBsZXRpb25zQ29udGVudFBhcnQoYmxvY2spO1xuKiAvLyBSZXR1cm5zOiB7IHR5cGU6IFwiaW1hZ2VfdXJsXCIsIGltYWdlX3VybDogeyB1cmw6IFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvLi4uXCIgfSB9XG4qIGBgYFxuKi9cbmNvbnN0IGNvbnZlcnRTdGFuZGFyZENvbnRlbnRCbG9ja1RvQ29tcGxldGlvbnNDb250ZW50UGFydCA9IChibG9jaykgPT4ge1xuXHRpZiAoYmxvY2sudHlwZSA9PT0gXCJpbWFnZVwiKSB7XG5cdFx0aWYgKGJsb2NrLnVybCkgcmV0dXJuIHtcblx0XHRcdHR5cGU6IFwiaW1hZ2VfdXJsXCIsXG5cdFx0XHRpbWFnZV91cmw6IHsgdXJsOiBibG9jay51cmwgfVxuXHRcdH07XG5cdFx0ZWxzZSBpZiAoYmxvY2suZGF0YSkgcmV0dXJuIHtcblx0XHRcdHR5cGU6IFwiaW1hZ2VfdXJsXCIsXG5cdFx0XHRpbWFnZV91cmw6IHsgdXJsOiBgZGF0YToke2Jsb2NrLm1pbWVUeXBlfTtiYXNlNjQsJHtibG9jay5kYXRhfWAgfVxuXHRcdH07XG5cdH1cblx0aWYgKGJsb2NrLnR5cGUgPT09IFwiYXVkaW9cIikge1xuXHRcdGlmIChibG9jay5kYXRhKSB7XG5cdFx0XHRjb25zdCBmb3JtYXQgPSBpaWZlKCgpID0+IHtcblx0XHRcdFx0Y29uc3QgWywgZm9ybWF0JDFdID0gYmxvY2subWltZVR5cGUuc3BsaXQoXCIvXCIpO1xuXHRcdFx0XHRpZiAoZm9ybWF0JDEgPT09IFwid2F2XCIgfHwgZm9ybWF0JDEgPT09IFwibXAzXCIpIHJldHVybiBmb3JtYXQkMTtcblx0XHRcdFx0cmV0dXJuIFwid2F2XCI7XG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHR5cGU6IFwiaW5wdXRfYXVkaW9cIixcblx0XHRcdFx0aW5wdXRfYXVkaW86IHtcblx0XHRcdFx0XHRkYXRhOiBibG9jay5kYXRhLnRvU3RyaW5nKCksXG5cdFx0XHRcdFx0Zm9ybWF0XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fVxuXHR9XG5cdGlmIChibG9jay50eXBlID09PSBcImZpbGVcIikge1xuXHRcdGlmIChibG9jay5kYXRhKSB7XG5cdFx0XHRjb25zdCBmaWxlbmFtZSA9IGdldFJlcXVpcmVkRmlsZW5hbWVGcm9tTWV0YWRhdGEoYmxvY2spO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0dHlwZTogXCJmaWxlXCIsXG5cdFx0XHRcdGZpbGU6IHtcblx0XHRcdFx0XHRmaWxlX2RhdGE6IGBkYXRhOiR7YmxvY2subWltZVR5cGV9O2Jhc2U2NCwke2Jsb2NrLmRhdGF9YCxcblx0XHRcdFx0XHRmaWxlbmFtZVxuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdH1cblx0XHRpZiAoYmxvY2suZmlsZUlkKSByZXR1cm4ge1xuXHRcdFx0dHlwZTogXCJmaWxlXCIsXG5cdFx0XHRmaWxlOiB7IGZpbGVfaWQ6IGJsb2NrLmZpbGVJZCB9XG5cdFx0fTtcblx0fVxuXHRyZXR1cm4gdm9pZCAwO1xufTtcbi8qKlxuKiBDb252ZXJ0cyBhIExhbmdDaGFpbiBCYXNlTWVzc2FnZSB3aXRoIHN0YW5kYXJkIGNvbnRlbnQgYmxvY2tzIHRvIGFuIE9wZW5BSSBDaGF0IENvbXBsZXRpb25zIEFQSSBtZXNzYWdlIHBhcmFtZXRlci5cbipcbiogVGhpcyBjb252ZXJ0ZXIgdHJhbnNmb3JtcyBMYW5nQ2hhaW4ncyBzdGFuZGFyZGl6ZWQgbWVzc2FnZSBmb3JtYXQgKHVzaW5nIGNvbnRlbnRCbG9ja3MpIGludG8gdGhlIGZvcm1hdFxuKiBleHBlY3RlZCBieSBPcGVuQUkncyBDaGF0IENvbXBsZXRpb25zIEFQSS4gSXQgaGFuZGxlcyByb2xlIG1hcHBpbmcsIGNvbnRlbnQgZmlsdGVyaW5nLCBhbmQgbXVsdGktbW9kYWxcbiogY29udGVudCBjb252ZXJzaW9uIGZvciB2YXJpb3VzIG1lc3NhZ2UgdHlwZXMuXG4qXG4qIEByZW1hcmtzXG4qIFRoZSBjb252ZXJ0ZXIgcGVyZm9ybXMgdGhlIGZvbGxvd2luZyB0cmFuc2Zvcm1hdGlvbnM6XG4qIC0gTWFwcyBMYW5nQ2hhaW4gbWVzc2FnZSByb2xlcyB0byBPcGVuQUkgQVBJIHJvbGVzICh1c2VyLCBhc3Npc3RhbnQsIHN5c3RlbSwgZGV2ZWxvcGVyLCB0b29sLCBmdW5jdGlvbilcbiogLSBGb3IgcmVhc29uaW5nIG1vZGVscywgYXV0b21hdGljYWxseSBjb252ZXJ0cyBcInN5c3RlbVwiIHJvbGUgdG8gXCJkZXZlbG9wZXJcIiByb2xlXG4qIC0gRmlsdGVycyBjb250ZW50IGJsb2NrcyBiYXNlZCBvbiBtZXNzYWdlIHJvbGUgKG1vc3Qgcm9sZXMgb25seSBpbmNsdWRlIHRleHQgYmxvY2tzKVxuKiAtIEZvciB1c2VyIG1lc3NhZ2VzLCBjb252ZXJ0cyBtdWx0aS1tb2RhbCBjb250ZW50IGJsb2NrcyAoaW1hZ2VzLCBhdWRpbywgZmlsZXMpIHRvIE9wZW5BSSBmb3JtYXRcbiogLSBQcmVzZXJ2ZXMgdG9vbCBjYWxsIElEcyBmb3IgdG9vbCBtZXNzYWdlcyBhbmQgZnVuY3Rpb24gbmFtZXMgZm9yIGZ1bmN0aW9uIG1lc3NhZ2VzXG4qXG4qIFJvbGUtc3BlY2lmaWMgYmVoYXZpb3I6XG4qIC0gKipkZXZlbG9wZXIqKjogUmV0dXJucyBvbmx5IHRleHQgY29udGVudCBibG9ja3MgKHVzZWQgZm9yIHJlYXNvbmluZyBtb2RlbHMpXG4qIC0gKipzeXN0ZW0qKjogUmV0dXJucyBvbmx5IHRleHQgY29udGVudCBibG9ja3NcbiogLSAqKmFzc2lzdGFudCoqOiBSZXR1cm5zIG9ubHkgdGV4dCBjb250ZW50IGJsb2Nrc1xuKiAtICoqdG9vbCoqOiBSZXR1cm5zIG9ubHkgdGV4dCBjb250ZW50IGJsb2NrcyB3aXRoIHRvb2xfY2FsbF9pZCBwcmVzZXJ2ZWRcbiogLSAqKmZ1bmN0aW9uKio6IFJldHVybnMgdGV4dCBjb250ZW50IGJsb2NrcyBqb2luZWQgYXMgYSBzaW5nbGUgc3RyaW5nIHdpdGggZnVuY3Rpb24gbmFtZVxuKiAtICoqdXNlcioqIChkZWZhdWx0KTogUmV0dXJucyBtdWx0aS1tb2RhbCBjb250ZW50IGluY2x1ZGluZyB0ZXh0LCBpbWFnZXMsIGF1ZGlvLCBhbmQgZmlsZXNcbipcbiogQHBhcmFtIHBhcmFtcyAtIENvbnZlcnNpb24gcGFyYW1ldGVyc1xuKiBAcGFyYW0gcGFyYW1zLm1lc3NhZ2UgLSBUaGUgTGFuZ0NoYWluIEJhc2VNZXNzYWdlIHRvIGNvbnZlcnQuIE11c3QgaGF2ZSBjb250ZW50QmxvY2tzIHByb3BlcnR5XG4qICAgY29udGFpbmluZyBhbiBhcnJheSBvZiBzdGFuZGFyZCBjb250ZW50IGJsb2NrcyAodGV4dCwgaW1hZ2UsIGF1ZGlvLCBmaWxlLCBldGMuKVxuKiBAcGFyYW0gcGFyYW1zLm1vZGVsIC0gT3B0aW9uYWwgbW9kZWwgbmFtZS4gVXNlZCB0byBkZXRlcm1pbmUgaWYgc3BlY2lhbCByb2xlIG1hcHBpbmcgaXMgbmVlZGVkXG4qICAgKGUuZy4sIFwic3lzdGVtXCIgLT4gXCJkZXZlbG9wZXJcIiBmb3IgcmVhc29uaW5nIG1vZGVscyBsaWtlIG8xKVxuKlxuKiBAcmV0dXJucyBBbiBPcGVuQUkgQ2hhdENvbXBsZXRpb25NZXNzYWdlUGFyYW0gb2JqZWN0IGZvcm1hdHRlZCBmb3IgdGhlIENoYXQgQ29tcGxldGlvbnMgQVBJLlxuKiAgIFRoZSBzdHJ1Y3R1cmUgdmFyaWVzIGJ5IHJvbGU6XG4qICAgLSBEZXZlbG9wZXIvU3lzdGVtL0Fzc2lzdGFudDogYHsgcm9sZSwgY29udGVudDogVGV4dEJsb2NrW10gfWBcbiogICAtIFRvb2w6IGB7IHJvbGU6IFwidG9vbFwiLCB0b29sX2NhbGxfaWQsIGNvbnRlbnQ6IFRleHRCbG9ja1tdIH1gXG4qICAgLSBGdW5jdGlvbjogYHsgcm9sZTogXCJmdW5jdGlvblwiLCBuYW1lLCBjb250ZW50OiBzdHJpbmcgfWBcbiogICAtIFVzZXI6IGB7IHJvbGU6IFwidXNlclwiLCBjb250ZW50OiBBcnJheTxUZXh0UGFydCB8IEltYWdlUGFydCB8IEF1ZGlvUGFydCB8IEZpbGVQYXJ0PiB9YFxuKlxuKiBAZXhhbXBsZVxuKiBTaW1wbGUgdGV4dCBtZXNzYWdlOlxuKiBgYGB0eXBlc2NyaXB0XG4qIGNvbnN0IG1lc3NhZ2UgPSBuZXcgSHVtYW5NZXNzYWdlKHtcbiogICBjb250ZW50OiBbeyB0eXBlOiBcInRleHRcIiwgdGV4dDogXCJIZWxsbyFcIiB9XVxuKiB9KTtcbiogY29uc3QgcGFyYW0gPSBjb252ZXJ0U3RhbmRhcmRDb250ZW50TWVzc2FnZVRvQ29tcGxldGlvbnNNZXNzYWdlKHsgbWVzc2FnZSB9KTtcbiogLy8gUmV0dXJuczogeyByb2xlOiBcInVzZXJcIiwgY29udGVudDogW3sgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IFwiSGVsbG8hXCIgfV0gfVxuKiBgYGBcbipcbiogQGV4YW1wbGVcbiogTXVsdGktbW9kYWwgdXNlciBtZXNzYWdlIHdpdGggaW1hZ2U6XG4qIGBgYHR5cGVzY3JpcHRcbiogY29uc3QgbWVzc2FnZSA9IG5ldyBIdW1hbk1lc3NhZ2Uoe1xuKiAgIGNvbnRlbnQ6IFtcbiogICAgIHsgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IFwiV2hhdCdzIGluIHRoaXMgaW1hZ2U/XCIgfSxcbiogICAgIHsgdHlwZTogXCJpbWFnZVwiLCB1cmw6IFwiaHR0cHM6Ly9leGFtcGxlLmNvbS9pbWFnZS5qcGdcIiB9XG4qICAgXVxuKiB9KTtcbiogY29uc3QgcGFyYW0gPSBjb252ZXJ0U3RhbmRhcmRDb250ZW50TWVzc2FnZVRvQ29tcGxldGlvbnNNZXNzYWdlKHsgbWVzc2FnZSB9KTtcbiogLy8gUmV0dXJuczoge1xuKiAvLyAgIHJvbGU6IFwidXNlclwiLFxuKiAvLyAgIGNvbnRlbnQ6IFtcbiogLy8gICAgIHsgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IFwiV2hhdCdzIGluIHRoaXMgaW1hZ2U/XCIgfSxcbiogLy8gICAgIHsgdHlwZTogXCJpbWFnZV91cmxcIiwgaW1hZ2VfdXJsOiB7IHVybDogXCJodHRwczovL2V4YW1wbGUuY29tL2ltYWdlLmpwZ1wiIH0gfVxuKiAvLyAgIF1cbiogLy8gfVxuKiBgYGBcbiovXG5jb25zdCBjb252ZXJ0U3RhbmRhcmRDb250ZW50TWVzc2FnZVRvQ29tcGxldGlvbnNNZXNzYWdlID0gKHsgbWVzc2FnZSwgbW9kZWwgfSkgPT4ge1xuXHRsZXQgcm9sZSA9IG1lc3NhZ2VUb09wZW5BSVJvbGUobWVzc2FnZSk7XG5cdGlmIChyb2xlID09PSBcInN5c3RlbVwiICYmIGlzUmVhc29uaW5nTW9kZWwobW9kZWwpKSByb2xlID0gXCJkZXZlbG9wZXJcIjtcblx0aWYgKHJvbGUgPT09IFwiZGV2ZWxvcGVyXCIpIHJldHVybiB7XG5cdFx0cm9sZTogXCJkZXZlbG9wZXJcIixcblx0XHRjb250ZW50OiBtZXNzYWdlLmNvbnRlbnRCbG9ja3MuZmlsdGVyKChibG9jaykgPT4gYmxvY2sudHlwZSA9PT0gXCJ0ZXh0XCIpXG5cdH07XG5cdGVsc2UgaWYgKHJvbGUgPT09IFwic3lzdGVtXCIpIHJldHVybiB7XG5cdFx0cm9sZTogXCJzeXN0ZW1cIixcblx0XHRjb250ZW50OiBtZXNzYWdlLmNvbnRlbnRCbG9ja3MuZmlsdGVyKChibG9jaykgPT4gYmxvY2sudHlwZSA9PT0gXCJ0ZXh0XCIpXG5cdH07XG5cdGVsc2UgaWYgKHJvbGUgPT09IFwiYXNzaXN0YW50XCIpIHJldHVybiB7XG5cdFx0cm9sZTogXCJhc3Npc3RhbnRcIixcblx0XHRjb250ZW50OiBtZXNzYWdlLmNvbnRlbnRCbG9ja3MuZmlsdGVyKChibG9jaykgPT4gYmxvY2sudHlwZSA9PT0gXCJ0ZXh0XCIpXG5cdH07XG5cdGVsc2UgaWYgKHJvbGUgPT09IFwidG9vbFwiICYmIFRvb2xNZXNzYWdlLmlzSW5zdGFuY2UobWVzc2FnZSkpIHJldHVybiB7XG5cdFx0cm9sZTogXCJ0b29sXCIsXG5cdFx0dG9vbF9jYWxsX2lkOiBtZXNzYWdlLnRvb2xfY2FsbF9pZCxcblx0XHRjb250ZW50OiBtZXNzYWdlLmNvbnRlbnRCbG9ja3MuZmlsdGVyKChibG9jaykgPT4gYmxvY2sudHlwZSA9PT0gXCJ0ZXh0XCIpXG5cdH07XG5cdGVsc2UgaWYgKHJvbGUgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHtcblx0XHRyb2xlOiBcImZ1bmN0aW9uXCIsXG5cdFx0bmFtZTogbWVzc2FnZS5uYW1lID8/IFwiXCIsXG5cdFx0Y29udGVudDogbWVzc2FnZS5jb250ZW50QmxvY2tzLmZpbHRlcigoYmxvY2spID0+IGJsb2NrLnR5cGUgPT09IFwidGV4dFwiKS5qb2luKFwiXCIpXG5cdH07XG5cdGZ1bmN0aW9uKiBpdGVyYXRlVXNlckNvbnRlbnQoYmxvY2tzKSB7XG5cdFx0Zm9yIChjb25zdCBibG9jayBvZiBibG9ja3MpIHtcblx0XHRcdGlmIChibG9jay50eXBlID09PSBcInRleHRcIikgeWllbGQge1xuXHRcdFx0XHR0eXBlOiBcInRleHRcIixcblx0XHRcdFx0dGV4dDogYmxvY2sudGV4dFxuXHRcdFx0fTtcblx0XHRcdGNvbnN0IGRhdGEgPSBjb252ZXJ0U3RhbmRhcmRDb250ZW50QmxvY2tUb0NvbXBsZXRpb25zQ29udGVudFBhcnQoYmxvY2spO1xuXHRcdFx0aWYgKGRhdGEpIHlpZWxkIGRhdGE7XG5cdFx0fVxuXHR9XG5cdHJldHVybiB7XG5cdFx0cm9sZTogXCJ1c2VyXCIsXG5cdFx0Y29udGVudDogQXJyYXkuZnJvbShpdGVyYXRlVXNlckNvbnRlbnQobWVzc2FnZS5jb250ZW50QmxvY2tzKSlcblx0fTtcbn07XG4vKipcbiogQ29udmVydHMgYW4gYXJyYXkgb2YgTGFuZ0NoYWluIEJhc2VNZXNzYWdlcyB0byBPcGVuQUkgQ2hhdCBDb21wbGV0aW9ucyBBUEkgbWVzc2FnZSBwYXJhbWV0ZXJzLlxuKlxuKiBUaGlzIGNvbnZlcnRlciB0cmFuc2Zvcm1zIExhbmdDaGFpbidzIGludGVybmFsIG1lc3NhZ2UgcmVwcmVzZW50YXRpb24gaW50byB0aGUgZm9ybWF0IHJlcXVpcmVkXG4qIGJ5IE9wZW5BSSdzIENoYXQgQ29tcGxldGlvbnMgQVBJLiBJdCBoYW5kbGVzIHZhcmlvdXMgbWVzc2FnZSB0eXBlcywgcm9sZXMsIGNvbnRlbnQgZm9ybWF0cyxcbiogdG9vbCBjYWxscywgZnVuY3Rpb24gY2FsbHMsIGF1ZGlvIG1lc3NhZ2VzLCBhbmQgc3BlY2lhbCBtb2RlbC1zcGVjaWZpYyByZXF1aXJlbWVudHMuXG4qXG4qIEByZW1hcmtzXG4qIFRoZSBjb252ZXJ0ZXIgcGVyZm9ybXMgc2V2ZXJhbCBrZXkgdHJhbnNmb3JtYXRpb25zOlxuKiAtIE1hcHMgTGFuZ0NoYWluIG1lc3NhZ2UgdHlwZXMgdG8gT3BlbkFJIHJvbGVzICh1c2VyLCBhc3Npc3RhbnQsIHN5c3RlbSwgdG9vbCwgZnVuY3Rpb24sIGRldmVsb3BlcilcbiogLSBDb252ZXJ0cyBzdGFuZGFyZCBjb250ZW50IGJsb2NrcyAodjEgZm9ybWF0KSB1c2luZyBhIHNwZWNpYWxpemVkIGNvbnZlcnRlclxuKiAtIEhhbmRsZXMgbXVsdGltb2RhbCBjb250ZW50IGluY2x1ZGluZyB0ZXh0LCBpbWFnZXMsIGF1ZGlvLCBhbmQgZGF0YSBibG9ja3NcbiogLSBQcmVzZXJ2ZXMgdG9vbCBjYWxscyBhbmQgZnVuY3Rpb24gY2FsbHMgd2l0aCBwcm9wZXIgZm9ybWF0dGluZ1xuKiAtIEFwcGxpZXMgbW9kZWwtc3BlY2lmaWMgcm9sZSBtYXBwaW5ncyAoZS5nLiwgXCJzeXN0ZW1cIiDihpIgXCJkZXZlbG9wZXJcIiBmb3IgcmVhc29uaW5nIG1vZGVscylcbiogLSBTcGxpdHMgYXVkaW8gbWVzc2FnZXMgaW50byBzZXBhcmF0ZSBtZXNzYWdlIHBhcmFtZXRlcnMgd2hlbiBuZWVkZWRcbipcbiogQHBhcmFtIHBhcmFtcyAtIENvbnZlcnNpb24gcGFyYW1ldGVyc1xuKiBAcGFyYW0gcGFyYW1zLm1lc3NhZ2VzIC0gQXJyYXkgb2YgTGFuZ0NoYWluIEJhc2VNZXNzYWdlcyB0byBjb252ZXJ0LiBDYW4gaW5jbHVkZSBhbnkgbWVzc2FnZVxuKiAgIHR5cGU6IEh1bWFuTWVzc2FnZSwgQUlNZXNzYWdlLCBTeXN0ZW1NZXNzYWdlLCBUb29sTWVzc2FnZSwgRnVuY3Rpb25NZXNzYWdlLCBldGMuXG4qIEBwYXJhbSBwYXJhbXMubW9kZWwgLSBPcHRpb25hbCBtb2RlbCBuYW1lIHVzZWQgdG8gZGV0ZXJtaW5lIGlmIHNwZWNpYWwgcm9sZSBtYXBwaW5nIGlzIG5lZWRlZC5cbiogICBGb3IgcmVhc29uaW5nIG1vZGVscyAobzEsIG8zLCBldGMuKSwgXCJzeXN0ZW1cIiByb2xlIGlzIGNvbnZlcnRlZCB0byBcImRldmVsb3BlclwiIHJvbGUuXG4qXG4qIEByZXR1cm5zIEFycmF5IG9mIENoYXRDb21wbGV0aW9uTWVzc2FnZVBhcmFtIG9iamVjdHMgZm9ybWF0dGVkIGZvciBPcGVuQUkncyBDaGF0IENvbXBsZXRpb25zIEFQSS5cbiogICBTb21lIG1lc3NhZ2VzIG1heSBiZSBzcGxpdCBpbnRvIG11bHRpcGxlIHBhcmFtZXRlcnMgKGUuZy4sIGF1ZGlvIG1lc3NhZ2VzKS5cbipcbiogQGV4YW1wbGVcbiogQmFzaWMgbWVzc2FnZSBjb252ZXJzaW9uOlxuKiBgYGB0eXBlc2NyaXB0XG4qIGNvbnN0IG1lc3NhZ2VzID0gW1xuKiAgIG5ldyBIdW1hbk1lc3NhZ2UoXCJXaGF0J3MgdGhlIHdlYXRoZXIgbGlrZT9cIiksXG4qICAgbmV3IEFJTWVzc2FnZShcIkxldCBtZSBjaGVjayB0aGF0IGZvciB5b3UuXCIpXG4qIF07XG4qXG4qIGNvbnN0IHBhcmFtcyA9IGNvbnZlcnRNZXNzYWdlc1RvQ29tcGxldGlvbnNNZXNzYWdlUGFyYW1zKHtcbiogICBtZXNzYWdlcyxcbiogICBtb2RlbDogXCJncHQtNFwiXG4qIH0pO1xuKiAvLyBSZXR1cm5zOlxuKiAvLyBbXG4qIC8vICAgeyByb2xlOiBcInVzZXJcIiwgY29udGVudDogXCJXaGF0J3MgdGhlIHdlYXRoZXIgbGlrZT9cIiB9LFxuKiAvLyAgIHsgcm9sZTogXCJhc3Npc3RhbnRcIiwgY29udGVudDogXCJMZXQgbWUgY2hlY2sgdGhhdCBmb3IgeW91LlwiIH1cbiogLy8gXVxuKiBgYGBcbipcbiogQGV4YW1wbGVcbiogTWVzc2FnZSB3aXRoIHRvb2wgY2FsbHM6XG4qIGBgYHR5cGVzY3JpcHRcbiogY29uc3QgbWVzc2FnZXMgPSBbXG4qICAgbmV3IEFJTWVzc2FnZSh7XG4qICAgICBjb250ZW50OiBcIlwiLFxuKiAgICAgdG9vbF9jYWxsczogW3tcbiogICAgICAgaWQ6IFwiY2FsbF8xMjNcIixcbiogICAgICAgbmFtZTogXCJnZXRfd2VhdGhlclwiLFxuKiAgICAgICBhcmdzOiB7IGxvY2F0aW9uOiBcIlNhbiBGcmFuY2lzY29cIiB9XG4qICAgICB9XVxuKiAgIH0pXG4qIF07XG4qXG4qIGNvbnN0IHBhcmFtcyA9IGNvbnZlcnRNZXNzYWdlc1RvQ29tcGxldGlvbnNNZXNzYWdlUGFyYW1zKHsgbWVzc2FnZXMgfSk7XG4qIC8vIFJldHVybnM6XG4qIC8vIFt7XG4qIC8vICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiogLy8gICBjb250ZW50OiBcIlwiLFxuKiAvLyAgIHRvb2xfY2FsbHM6IFt7XG4qIC8vICAgICBpZDogXCJjYWxsXzEyM1wiLFxuKiAvLyAgICAgdHlwZTogXCJmdW5jdGlvblwiLFxuKiAvLyAgICAgZnVuY3Rpb246IHsgbmFtZTogXCJnZXRfd2VhdGhlclwiLCBhcmd1bWVudHM6ICd7XCJsb2NhdGlvblwiOlwiU2FuIEZyYW5jaXNjb1wifScgfVxuKiAvLyAgIH1dXG4qIC8vIH1dXG4qIGBgYFxuKi9cbmNvbnN0IGNvbnZlcnRNZXNzYWdlc1RvQ29tcGxldGlvbnNNZXNzYWdlUGFyYW1zID0gKHsgbWVzc2FnZXMsIG1vZGVsIH0pID0+IHtcblx0cmV0dXJuIG1lc3NhZ2VzLmZsYXRNYXAoKG1lc3NhZ2UpID0+IHtcblx0XHRpZiAoXCJvdXRwdXRfdmVyc2lvblwiIGluIG1lc3NhZ2UucmVzcG9uc2VfbWV0YWRhdGEgJiYgbWVzc2FnZS5yZXNwb25zZV9tZXRhZGF0YT8ub3V0cHV0X3ZlcnNpb24gPT09IFwidjFcIikgcmV0dXJuIGNvbnZlcnRTdGFuZGFyZENvbnRlbnRNZXNzYWdlVG9Db21wbGV0aW9uc01lc3NhZ2UoeyBtZXNzYWdlIH0pO1xuXHRcdGxldCByb2xlID0gbWVzc2FnZVRvT3BlbkFJUm9sZShtZXNzYWdlKTtcblx0XHRpZiAocm9sZSA9PT0gXCJzeXN0ZW1cIiAmJiBpc1JlYXNvbmluZ01vZGVsKG1vZGVsKSkgcm9sZSA9IFwiZGV2ZWxvcGVyXCI7XG5cdFx0Y29uc3QgY29udGVudCA9IHR5cGVvZiBtZXNzYWdlLmNvbnRlbnQgPT09IFwic3RyaW5nXCIgPyBtZXNzYWdlLmNvbnRlbnQgOiBtZXNzYWdlLmNvbnRlbnQubWFwKChtKSA9PiB7XG5cdFx0XHRpZiAoaXNEYXRhQ29udGVudEJsb2NrKG0pKSByZXR1cm4gY29udmVydFRvUHJvdmlkZXJDb250ZW50QmxvY2sobSwgY29tcGxldGlvbnNBcGlDb250ZW50QmxvY2tDb252ZXJ0ZXIpO1xuXHRcdFx0cmV0dXJuIG07XG5cdFx0fSk7XG5cdFx0Y29uc3QgY29tcGxldGlvblBhcmFtID0ge1xuXHRcdFx0cm9sZSxcblx0XHRcdGNvbnRlbnRcblx0XHR9O1xuXHRcdGlmIChtZXNzYWdlLm5hbWUgIT0gbnVsbCkgY29tcGxldGlvblBhcmFtLm5hbWUgPSBtZXNzYWdlLm5hbWU7XG5cdFx0aWYgKG1lc3NhZ2UuYWRkaXRpb25hbF9rd2FyZ3MuZnVuY3Rpb25fY2FsbCAhPSBudWxsKSBjb21wbGV0aW9uUGFyYW0uZnVuY3Rpb25fY2FsbCA9IG1lc3NhZ2UuYWRkaXRpb25hbF9rd2FyZ3MuZnVuY3Rpb25fY2FsbDtcblx0XHRpZiAoQUlNZXNzYWdlLmlzSW5zdGFuY2UobWVzc2FnZSkgJiYgISFtZXNzYWdlLnRvb2xfY2FsbHM/Lmxlbmd0aCkgY29tcGxldGlvblBhcmFtLnRvb2xfY2FsbHMgPSBtZXNzYWdlLnRvb2xfY2FsbHMubWFwKGNvbnZlcnRMYW5nQ2hhaW5Ub29sQ2FsbFRvT3BlbkFJKTtcblx0XHRlbHNlIHtcblx0XHRcdGlmIChtZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzLnRvb2xfY2FsbHMgIT0gbnVsbCkgY29tcGxldGlvblBhcmFtLnRvb2xfY2FsbHMgPSBtZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzLnRvb2xfY2FsbHM7XG5cdFx0XHRpZiAoVG9vbE1lc3NhZ2UuaXNJbnN0YW5jZShtZXNzYWdlKSAmJiBtZXNzYWdlLnRvb2xfY2FsbF9pZCAhPSBudWxsKSBjb21wbGV0aW9uUGFyYW0udG9vbF9jYWxsX2lkID0gbWVzc2FnZS50b29sX2NhbGxfaWQ7XG5cdFx0fVxuXHRcdGlmIChtZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzLmF1ZGlvICYmIHR5cGVvZiBtZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzLmF1ZGlvID09PSBcIm9iamVjdFwiICYmIFwiaWRcIiBpbiBtZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzLmF1ZGlvKSB7XG5cdFx0XHRjb25zdCBhdWRpb01lc3NhZ2UgPSB7XG5cdFx0XHRcdHJvbGU6IFwiYXNzaXN0YW50XCIsXG5cdFx0XHRcdGF1ZGlvOiB7IGlkOiBtZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzLmF1ZGlvLmlkIH1cblx0XHRcdH07XG5cdFx0XHRyZXR1cm4gW2NvbXBsZXRpb25QYXJhbSwgYXVkaW9NZXNzYWdlXTtcblx0XHR9XG5cdFx0cmV0dXJuIGNvbXBsZXRpb25QYXJhbTtcblx0fSk7XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IGNvbXBsZXRpb25zQXBpQ29udGVudEJsb2NrQ29udmVydGVyLCBjb252ZXJ0Q29tcGxldGlvbnNEZWx0YVRvQmFzZU1lc3NhZ2VDaHVuaywgY29udmVydENvbXBsZXRpb25zTWVzc2FnZVRvQmFzZU1lc3NhZ2UsIGNvbnZlcnRNZXNzYWdlc1RvQ29tcGxldGlvbnNNZXNzYWdlUGFyYW1zLCBjb252ZXJ0U3RhbmRhcmRDb250ZW50QmxvY2tUb0NvbXBsZXRpb25zQ29udGVudFBhcnQsIGNvbnZlcnRTdGFuZGFyZENvbnRlbnRNZXNzYWdlVG9Db21wbGV0aW9uc01lc3NhZ2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXBsZXRpb25zLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/converters/completions.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/converters/index.js":
/*!**********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/converters/index.js ***!
  \**********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _completions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./completions.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/converters/completions.js\");\n/* harmony import */ var _responses_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./responses.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/converters/responses.js\");\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L2NvbnZlcnRlcnMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7O0FBQTZTO0FBQ3RCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L2NvbnZlcnRlcnMvaW5kZXguanM/OGU2MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb21wbGV0aW9uc0FwaUNvbnRlbnRCbG9ja0NvbnZlcnRlciwgY29udmVydENvbXBsZXRpb25zRGVsdGFUb0Jhc2VNZXNzYWdlQ2h1bmssIGNvbnZlcnRDb21wbGV0aW9uc01lc3NhZ2VUb0Jhc2VNZXNzYWdlLCBjb252ZXJ0TWVzc2FnZXNUb0NvbXBsZXRpb25zTWVzc2FnZVBhcmFtcywgY29udmVydFN0YW5kYXJkQ29udGVudEJsb2NrVG9Db21wbGV0aW9uc0NvbnRlbnRQYXJ0LCBjb252ZXJ0U3RhbmRhcmRDb250ZW50TWVzc2FnZVRvQ29tcGxldGlvbnNNZXNzYWdlIH0gZnJvbSBcIi4vY29tcGxldGlvbnMuanNcIjtcbmltcG9ydCB7IGNvbnZlcnRNZXNzYWdlc1RvUmVzcG9uc2VzSW5wdXQsIGNvbnZlcnRSZWFzb25pbmdTdW1tYXJ5VG9SZXNwb25zZXNSZWFzb25pbmdJdGVtLCBjb252ZXJ0UmVzcG9uc2VzRGVsdGFUb0NoYXRHZW5lcmF0aW9uQ2h1bmssIGNvbnZlcnRSZXNwb25zZXNNZXNzYWdlVG9BSU1lc3NhZ2UsIGNvbnZlcnRSZXNwb25zZXNVc2FnZVRvVXNhZ2VNZXRhZGF0YSwgY29udmVydFN0YW5kYXJkQ29udGVudE1lc3NhZ2VUb1Jlc3BvbnNlc0lucHV0IH0gZnJvbSBcIi4vcmVzcG9uc2VzLmpzXCI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/converters/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/converters/responses.js":
/*!**************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/converters/responses.js ***!
  \**************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   convertMessagesToResponsesInput: () => (/* binding */ convertMessagesToResponsesInput),\n/* harmony export */   convertReasoningSummaryToResponsesReasoningItem: () => (/* binding */ convertReasoningSummaryToResponsesReasoningItem),\n/* harmony export */   convertResponsesDeltaToChatGenerationChunk: () => (/* binding */ convertResponsesDeltaToChatGenerationChunk),\n/* harmony export */   convertResponsesMessageToAIMessage: () => (/* binding */ convertResponsesMessageToAIMessage),\n/* harmony export */   convertResponsesUsageToUsageMetadata: () => (/* binding */ convertResponsesUsageToUsageMetadata),\n/* harmony export */   convertStandardContentMessageToResponsesInput: () => (/* binding */ convertStandardContentMessageToResponsesInput)\n/* harmony export */ });\n/* harmony import */ var _utils_tools_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/tools.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/tools.js\");\n/* harmony import */ var _utils_misc_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/misc.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/misc.js\");\n/* harmony import */ var _completions_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./completions.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/converters/completions.js\");\n/* harmony import */ var _langchain_core_messages__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @langchain/core/messages */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/index.js\");\n/* harmony import */ var _langchain_core_outputs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @langchain/core/outputs */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/outputs.js\");\n/* harmony import */ var _langchain_core_output_parsers_openai_tools__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @langchain/core/output_parsers/openai_tools */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/openai_tools/index.js\");\n\n\n\n\n\n\n\n//#region src/converters/responses.ts\nconst _FUNCTION_CALL_IDS_MAP_KEY = \"__openai_function_call_ids__\";\n/**\n* Converts an OpenAI annotation to a LangChain Citation or BaseContentBlock.\n*\n* OpenAI has several annotation types:\n* - `url_citation`: Web citations with url, title, start_index, end_index\n* - `file_citation`: File citations with file_id, filename, index\n* - `container_file_citation`: Container file citations with container_id, file_id, filename, start_index, end_index\n* - `file_path`: File paths with file_id, index\n*\n* This function maps them to LangChain's Citation format or preserves them as non-standard blocks.\n*/\nfunction convertOpenAIAnnotationToLangChain(annotation) {\n\tif (annotation.type === \"url_citation\") return {\n\t\ttype: \"citation\",\n\t\tsource: \"url_citation\",\n\t\turl: annotation.url,\n\t\ttitle: annotation.title,\n\t\tstartIndex: annotation.start_index,\n\t\tendIndex: annotation.end_index\n\t};\n\tif (annotation.type === \"file_citation\") return {\n\t\ttype: \"citation\",\n\t\tsource: \"file_citation\",\n\t\ttitle: annotation.filename,\n\t\tstartIndex: annotation.index,\n\t\tfile_id: annotation.file_id\n\t};\n\tif (annotation.type === \"container_file_citation\") return {\n\t\ttype: \"citation\",\n\t\tsource: \"container_file_citation\",\n\t\ttitle: annotation.filename,\n\t\tstartIndex: annotation.start_index,\n\t\tendIndex: annotation.end_index,\n\t\tfile_id: annotation.file_id,\n\t\tcontainer_id: annotation.container_id\n\t};\n\tif (annotation.type === \"file_path\") return {\n\t\ttype: \"citation\",\n\t\tsource: \"file_path\",\n\t\tstartIndex: annotation.index,\n\t\tfile_id: annotation.file_id\n\t};\n\treturn {\n\t\ttype: \"non_standard\",\n\t\tvalue: annotation\n\t};\n}\n/**\n* Converts OpenAI Responses API usage statistics to LangChain's UsageMetadata format.\n*\n* This converter transforms token usage information from OpenAI's Responses API into\n* the standardized UsageMetadata format used throughout LangChain. It handles both\n* basic token counts and detailed token breakdowns including cached tokens and\n* reasoning tokens.\n*\n* @param usage - The usage statistics object from OpenAI's Responses API containing\n*                token counts and optional detailed breakdowns.\n*\n* @returns A UsageMetadata object containing:\n*   - `input_tokens`: Total number of tokens in the input/prompt (defaults to 0 if not provided)\n*   - `output_tokens`: Total number of tokens in the model's output (defaults to 0 if not provided)\n*   - `total_tokens`: Combined total of input and output tokens (defaults to 0 if not provided)\n*   - `input_token_details`: Object containing detailed input token information:\n*     - `cache_read`: Number of tokens read from cache (only included if available)\n*   - `output_token_details`: Object containing detailed output token information:\n*     - `reasoning`: Number of tokens used for reasoning (only included if available)\n*\n* @example\n* ```typescript\n* const usage = {\n*   input_tokens: 100,\n*   output_tokens: 50,\n*   total_tokens: 150,\n*   input_tokens_details: { cached_tokens: 20 },\n*   output_tokens_details: { reasoning_tokens: 10 }\n* };\n*\n* const metadata = convertResponsesUsageToUsageMetadata(usage);\n* // Returns:\n* // {\n* //   input_tokens: 100,\n* //   output_tokens: 50,\n* //   total_tokens: 150,\n* //   input_token_details: { cache_read: 20 },\n* //   output_token_details: { reasoning: 10 }\n* // }\n* ```\n*\n* @remarks\n* - The function safely handles undefined or null values by using optional chaining\n*   and nullish coalescing operators\n* - Detailed token information (cache_read, reasoning) is only included in the result\n*   if the corresponding values are present in the input\n* - Token counts default to 0 if not provided in the usage object\n* - This converter is specifically designed for OpenAI's Responses API format and\n*   may differ from other OpenAI API endpoints\n*/\nconst convertResponsesUsageToUsageMetadata = (usage) => {\n\tconst inputTokenDetails = { ...usage?.input_tokens_details?.cached_tokens != null && { cache_read: usage?.input_tokens_details?.cached_tokens } };\n\tconst outputTokenDetails = { ...usage?.output_tokens_details?.reasoning_tokens != null && { reasoning: usage?.output_tokens_details?.reasoning_tokens } };\n\treturn {\n\t\tinput_tokens: usage?.input_tokens ?? 0,\n\t\toutput_tokens: usage?.output_tokens ?? 0,\n\t\ttotal_tokens: usage?.total_tokens ?? 0,\n\t\tinput_token_details: inputTokenDetails,\n\t\toutput_token_details: outputTokenDetails\n\t};\n};\n/**\n* Converts an OpenAI Responses API response to a LangChain AIMessage.\n*\n* This converter processes the output from OpenAI's Responses API (both `create` and `parse` methods)\n* and transforms it into a LangChain AIMessage object with all relevant metadata, tool calls, and content.\n*\n* @param response - The response object from OpenAI's Responses API. Can be either:\n*   - ResponsesCreateInvoke: Result from `responses.create()`\n*   - ResponsesParseInvoke: Result from `responses.parse()`\n*\n* @returns An AIMessage containing:\n*   - `id`: The message ID from the response output\n*   - `content`: Array of message content blocks (text, images, etc.)\n*   - `tool_calls`: Array of successfully parsed tool calls\n*   - `invalid_tool_calls`: Array of tool calls that failed to parse\n*   - `usage_metadata`: Token usage information converted to LangChain format\n*   - `additional_kwargs`: Extra data including:\n*     - `refusal`: Refusal text if the model refused to respond\n*     - `reasoning`: Reasoning output for reasoning models\n*     - `tool_outputs`: Results from built-in tools (web search, file search, etc.)\n*     - `parsed`: Parsed structured output when using json_schema format\n*     - Function call ID mappings for tracking\n*   - `response_metadata`: Metadata about the response including model, timestamps, status, etc.\n*\n* @throws Error if the response contains an error object. The error message and code are extracted\n*   from the response.error field.\n*\n* @example\n* ```typescript\n* const response = await client.responses.create({\n*   model: \"gpt-4\",\n*   input: [{ type: \"message\", content: \"Hello\" }]\n* });\n* const message = convertResponsesMessageToAIMessage(response);\n* console.log(message.content); // Message content\n* console.log(message.tool_calls); // Any tool calls made\n* ```\n*\n* @remarks\n* The converter handles multiple output item types:\n* - `message`: Text and structured content from the model\n* - `function_call`: Tool/function calls that need to be executed\n* - `reasoning`: Reasoning traces from reasoning models (o1, o3, etc.)\n* - `custom_tool_call`: Custom tool invocations\n* - Built-in tool outputs: web_search, file_search, code_interpreter, etc.\n*\n* Tool calls are parsed and validated. Invalid tool calls (malformed JSON, etc.) are captured\n* in the `invalid_tool_calls` array rather than throwing errors.\n*/\nconst convertResponsesMessageToAIMessage = (response) => {\n\tif (response.error) {\n\t\tconst error = new Error(response.error.message);\n\t\terror.name = response.error.code;\n\t\tthrow error;\n\t}\n\tlet messageId;\n\tconst content = [];\n\tconst tool_calls = [];\n\tconst invalid_tool_calls = [];\n\tconst response_metadata = {\n\t\tmodel_provider: \"openai\",\n\t\tmodel: response.model,\n\t\tcreated_at: response.created_at,\n\t\tid: response.id,\n\t\tincomplete_details: response.incomplete_details,\n\t\tmetadata: response.metadata,\n\t\tobject: response.object,\n\t\tstatus: response.status,\n\t\tuser: response.user,\n\t\tservice_tier: response.service_tier,\n\t\tmodel_name: response.model\n\t};\n\tconst additional_kwargs = {};\n\tfor (const item of response.output) if (item.type === \"message\") {\n\t\tmessageId = item.id;\n\t\tcontent.push(...item.content.flatMap((part) => {\n\t\t\tif (part.type === \"output_text\") {\n\t\t\t\tif (\"parsed\" in part && part.parsed != null) additional_kwargs.parsed = part.parsed;\n\t\t\t\treturn {\n\t\t\t\t\ttype: \"text\",\n\t\t\t\t\ttext: part.text,\n\t\t\t\t\tannotations: part.annotations.map(convertOpenAIAnnotationToLangChain)\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (part.type === \"refusal\") {\n\t\t\t\tadditional_kwargs.refusal = part.refusal;\n\t\t\t\treturn [];\n\t\t\t}\n\t\t\treturn part;\n\t\t}));\n\t} else if (item.type === \"function_call\") {\n\t\tconst fnAdapter = {\n\t\t\tfunction: {\n\t\t\t\tname: item.name,\n\t\t\t\targuments: item.arguments\n\t\t\t},\n\t\t\tid: item.call_id\n\t\t};\n\t\ttry {\n\t\t\ttool_calls.push((0,_langchain_core_output_parsers_openai_tools__WEBPACK_IMPORTED_MODULE_5__.parseToolCall)(fnAdapter, { returnId: true }));\n\t\t} catch (e) {\n\t\t\tlet errMessage;\n\t\t\tif (typeof e === \"object\" && e != null && \"message\" in e && typeof e.message === \"string\") errMessage = e.message;\n\t\t\tinvalid_tool_calls.push((0,_langchain_core_output_parsers_openai_tools__WEBPACK_IMPORTED_MODULE_5__.makeInvalidToolCall)(fnAdapter, errMessage));\n\t\t}\n\t\tadditional_kwargs[_FUNCTION_CALL_IDS_MAP_KEY] ??= {};\n\t\tif (item.id) additional_kwargs[_FUNCTION_CALL_IDS_MAP_KEY][item.call_id] = item.id;\n\t} else if (item.type === \"reasoning\") {\n\t\tadditional_kwargs.reasoning = item;\n\t\tconst reasoningText = item.summary?.map((s) => s.text).filter(Boolean).join(\"\");\n\t\tif (reasoningText) content.push({\n\t\t\ttype: \"reasoning\",\n\t\t\treasoning: reasoningText\n\t\t});\n\t} else if (item.type === \"custom_tool_call\") {\n\t\tconst parsed = (0,_utils_tools_js__WEBPACK_IMPORTED_MODULE_0__.parseCustomToolCall)(item);\n\t\tif (parsed) tool_calls.push(parsed);\n\t\telse invalid_tool_calls.push((0,_langchain_core_output_parsers_openai_tools__WEBPACK_IMPORTED_MODULE_5__.makeInvalidToolCall)(item, \"Malformed custom tool call\"));\n\t} else if (item.type === \"computer_call\") {\n\t\tconst parsed = (0,_utils_tools_js__WEBPACK_IMPORTED_MODULE_0__.parseComputerCall)(item);\n\t\tif (parsed) tool_calls.push(parsed);\n\t\telse invalid_tool_calls.push((0,_langchain_core_output_parsers_openai_tools__WEBPACK_IMPORTED_MODULE_5__.makeInvalidToolCall)(item, \"Malformed computer call\"));\n\t} else if (item.type === \"image_generation_call\") {\n\t\tif (item.result) content.push({\n\t\t\ttype: \"image\",\n\t\t\tmimeType: \"image/png\",\n\t\t\tdata: item.result,\n\t\t\tid: item.id,\n\t\t\tmetadata: { status: item.status }\n\t\t});\n\t\tadditional_kwargs.tool_outputs ??= [];\n\t\tadditional_kwargs.tool_outputs.push(item);\n\t} else {\n\t\tadditional_kwargs.tool_outputs ??= [];\n\t\tadditional_kwargs.tool_outputs.push(item);\n\t}\n\treturn new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_3__.AIMessage({\n\t\tid: messageId,\n\t\tcontent,\n\t\ttool_calls,\n\t\tinvalid_tool_calls,\n\t\tusage_metadata: convertResponsesUsageToUsageMetadata(response.usage),\n\t\tadditional_kwargs,\n\t\tresponse_metadata\n\t});\n};\n/**\n* Converts a LangChain ChatOpenAI reasoning summary to an OpenAI Responses API reasoning item.\n*\n* This converter transforms reasoning summaries that have been accumulated during streaming\n* (where summary parts may arrive in multiple chunks with the same index) into the final\n* consolidated format expected by OpenAI's Responses API. It combines summary parts that\n* share the same index and removes the index field from the final output.\n*\n* @param reasoning - A ChatOpenAI reasoning summary object containing:\n*   - `id`: The reasoning item ID\n*   - `type`: The type of reasoning (typically \"reasoning\")\n*   - `summary`: Array of summary parts, each with:\n*     - `text`: The summary text content\n*     - `type`: The summary type (e.g., \"summary_text\")\n*     - `index`: The index used to group related summary parts during streaming\n*\n* @returns An OpenAI Responses API ResponseReasoningItem with:\n*   - All properties from the input reasoning object\n*   - `summary`: Consolidated array of summary objects with:\n*     - `text`: Combined text from all parts with the same index\n*     - `type`: The summary type\n*     - No `index` field (removed after consolidation)\n*\n* @example\n* ```typescript\n* // Input: Reasoning summary with multiple parts at the same index\n* const reasoning = {\n*   id: \"reasoning_123\",\n*   type: \"reasoning\",\n*   summary: [\n*     { text: \"First \", type: \"summary_text\", index: 0 },\n*     { text: \"part\", type: \"summary_text\", index: 0 },\n*     { text: \"Second part\", type: \"summary_text\", index: 1 }\n*   ]\n* };\n*\n* const result = convertReasoningSummaryToResponsesReasoningItem(reasoning);\n* // Returns:\n* // {\n* //   id: \"reasoning_123\",\n* //   type: \"reasoning\",\n* //   summary: [\n* //     { text: \"First part\", type: \"summary_text\" },\n* //     { text: \"Second part\", type: \"summary_text\" }\n* //   ]\n* // }\n* ```\n*\n* @remarks\n* - This converter is primarily used when reconstructing complete reasoning items from\n*   streaming chunks, where summary parts may arrive incrementally with index markers\n* - Summary parts with the same index are concatenated in the order they appear\n* - If the reasoning summary contains only one part, no reduction is performed\n* - The index field is used internally during streaming to track which summary parts\n*   belong together, but is removed from the final output as it's not part of the\n*   OpenAI Responses API schema\n* - This is the inverse operation of the streaming accumulation that happens in\n*   `convertResponsesDeltaToChatGenerationChunk`\n*/\nconst convertReasoningSummaryToResponsesReasoningItem = (reasoning) => {\n\tconst summary = (reasoning.summary.length > 1 ? reasoning.summary.reduce((acc, curr) => {\n\t\tconst last = acc[acc.length - 1];\n\t\tif (last.index === curr.index) last.text += curr.text;\n\t\telse acc.push(curr);\n\t\treturn acc;\n\t}, [{ ...reasoning.summary[0] }]) : reasoning.summary).map((s) => Object.fromEntries(Object.entries(s).filter(([k]) => k !== \"index\")));\n\treturn {\n\t\t...reasoning,\n\t\tsummary\n\t};\n};\n/**\n* Converts OpenAI Responses API stream events to LangChain ChatGenerationChunk objects.\n*\n* This converter processes streaming events from OpenAI's Responses API and transforms them\n* into LangChain ChatGenerationChunk objects that can be used in streaming chat applications.\n* It handles various event types including text deltas, tool calls, reasoning, and metadata updates.\n*\n* @param event - A streaming event from OpenAI's Responses API\n*\n* @returns A ChatGenerationChunk containing:\n*   - `text`: Concatenated text content from all text parts in the event\n*   - `message`: An AIMessageChunk with:\n*     - `id`: Message ID (set when a message output item is added)\n*     - `content`: Array of content blocks (text with optional annotations)\n*     - `tool_call_chunks`: Incremental tool call data (name, args, id)\n*     - `usage_metadata`: Token usage information (only in completion events)\n*     - `additional_kwargs`: Extra data including:\n*       - `refusal`: Refusal text if the model refused to respond\n*       - `reasoning`: Reasoning output for reasoning models (id, type, summary)\n*       - `tool_outputs`: Results from built-in tools (web search, file search, etc.)\n*       - `parsed`: Parsed structured output when using json_schema format\n*       - Function call ID mappings for tracking\n*     - `response_metadata`: Metadata about the response (model, id, etc.)\n*   - `generationInfo`: Additional generation information (e.g., tool output status)\n*\n*   Returns `null` for events that don't produce meaningful chunks:\n*   - Partial image generation events (to avoid storing all partial images in history)\n*   - Unrecognized event types\n*\n* @example\n* ```typescript\n* const stream = await client.responses.create({\n*   model: \"gpt-4\",\n*   input: [{ type: \"message\", content: \"Hello\" }],\n*   stream: true\n* });\n*\n* for await (const event of stream) {\n*   const chunk = convertResponsesDeltaToChatGenerationChunk(event);\n*   if (chunk) {\n*     console.log(chunk.text); // Incremental text\n*     console.log(chunk.message.tool_call_chunks); // Tool call updates\n*   }\n* }\n* ```\n*\n* @remarks\n* - Text content is accumulated in an array with index tracking for proper ordering\n* - Tool call chunks include incremental arguments that need to be concatenated by the consumer\n* - Reasoning summaries are built incrementally across multiple events\n* - Function call IDs are tracked in `additional_kwargs` to map call_id to item id\n* - The `text` field is provided for legacy compatibility with `onLLMNewToken` callbacks\n* - Usage metadata is only available in `response.completed` events\n* - Partial images are intentionally ignored to prevent memory bloat in conversation history\n*/\nconst convertResponsesDeltaToChatGenerationChunk = (event) => {\n\tconst content = [];\n\tlet generationInfo = {};\n\tlet usage_metadata;\n\tconst tool_call_chunks = [];\n\tconst response_metadata = { model_provider: \"openai\" };\n\tconst additional_kwargs = {};\n\tlet id;\n\tif (event.type === \"response.output_text.delta\") content.push({\n\t\ttype: \"text\",\n\t\ttext: event.delta,\n\t\tindex: event.content_index\n\t});\n\telse if (event.type === \"response.output_text.annotation.added\") content.push({\n\t\ttype: \"text\",\n\t\ttext: \"\",\n\t\tannotations: [convertOpenAIAnnotationToLangChain(event.annotation)],\n\t\tindex: event.content_index\n\t});\n\telse if (event.type === \"response.output_item.added\" && event.item.type === \"message\") id = event.item.id;\n\telse if (event.type === \"response.output_item.added\" && event.item.type === \"function_call\") {\n\t\ttool_call_chunks.push({\n\t\t\ttype: \"tool_call_chunk\",\n\t\t\tname: event.item.name,\n\t\t\targs: event.item.arguments,\n\t\t\tid: event.item.call_id,\n\t\t\tindex: event.output_index\n\t\t});\n\t\tadditional_kwargs[_FUNCTION_CALL_IDS_MAP_KEY] = { [event.item.call_id]: event.item.id };\n\t} else if (event.type === \"response.output_item.done\" && event.item.type === \"computer_call\") {\n\t\ttool_call_chunks.push({\n\t\t\ttype: \"tool_call_chunk\",\n\t\t\tname: \"computer_use\",\n\t\t\targs: JSON.stringify({ action: event.item.action }),\n\t\t\tid: event.item.call_id,\n\t\t\tindex: event.output_index\n\t\t});\n\t\tadditional_kwargs.tool_outputs = [event.item];\n\t} else if (event.type === \"response.output_item.done\" && event.item.type === \"image_generation_call\") {\n\t\tif (event.item.result) content.push({\n\t\t\ttype: \"image\",\n\t\t\tmimeType: \"image/png\",\n\t\t\tdata: event.item.result,\n\t\t\tid: event.item.id,\n\t\t\tmetadata: { status: event.item.status }\n\t\t});\n\t\tadditional_kwargs.tool_outputs = [event.item];\n\t} else if (event.type === \"response.output_item.done\" && [\n\t\t\"web_search_call\",\n\t\t\"file_search_call\",\n\t\t\"code_interpreter_call\",\n\t\t\"mcp_call\",\n\t\t\"mcp_list_tools\",\n\t\t\"mcp_approval_request\",\n\t\t\"custom_tool_call\"\n\t].includes(event.item.type)) additional_kwargs.tool_outputs = [event.item];\n\telse if (event.type === \"response.created\") {\n\t\tresponse_metadata.id = event.response.id;\n\t\tresponse_metadata.model_name = event.response.model;\n\t\tresponse_metadata.model = event.response.model;\n\t} else if (event.type === \"response.completed\") {\n\t\tconst msg = convertResponsesMessageToAIMessage(event.response);\n\t\tusage_metadata = convertResponsesUsageToUsageMetadata(event.response.usage);\n\t\tif (event.response.text?.format?.type === \"json_schema\") additional_kwargs.parsed ??= JSON.parse(msg.text);\n\t\tfor (const [key, value] of Object.entries(event.response)) if (key !== \"id\") response_metadata[key] = value;\n\t} else if (event.type === \"response.function_call_arguments.delta\" || event.type === \"response.custom_tool_call_input.delta\") tool_call_chunks.push({\n\t\ttype: \"tool_call_chunk\",\n\t\targs: event.delta,\n\t\tindex: event.output_index\n\t});\n\telse if (event.type === \"response.web_search_call.completed\" || event.type === \"response.file_search_call.completed\") generationInfo = { tool_outputs: {\n\t\tid: event.item_id,\n\t\ttype: event.type.replace(\"response.\", \"\").replace(\".completed\", \"\"),\n\t\tstatus: \"completed\"\n\t} };\n\telse if (event.type === \"response.refusal.done\") additional_kwargs.refusal = event.refusal;\n\telse if (event.type === \"response.output_item.added\" && \"item\" in event && event.item.type === \"reasoning\") {\n\t\tconst summary = event.item.summary ? event.item.summary.map((s, index) => ({\n\t\t\t...s,\n\t\t\tindex\n\t\t})) : void 0;\n\t\tadditional_kwargs.reasoning = {\n\t\t\tid: event.item.id,\n\t\t\ttype: event.item.type,\n\t\t\t...summary ? { summary } : {}\n\t\t};\n\t\tconst reasoningText = event.item.summary?.map((s) => s.text).filter(Boolean).join(\"\");\n\t\tif (reasoningText) content.push({\n\t\t\ttype: \"reasoning\",\n\t\t\treasoning: reasoningText\n\t\t});\n\t} else if (event.type === \"response.reasoning_summary_part.added\") {\n\t\tadditional_kwargs.reasoning = {\n\t\t\ttype: \"reasoning\",\n\t\t\tsummary: [{\n\t\t\t\t...event.part,\n\t\t\t\tindex: event.summary_index\n\t\t\t}]\n\t\t};\n\t\tif (event.part.text) content.push({\n\t\t\ttype: \"reasoning\",\n\t\t\treasoning: event.part.text\n\t\t});\n\t} else if (event.type === \"response.reasoning_summary_text.delta\") {\n\t\tadditional_kwargs.reasoning = {\n\t\t\ttype: \"reasoning\",\n\t\t\tsummary: [{\n\t\t\t\ttext: event.delta,\n\t\t\t\ttype: \"summary_text\",\n\t\t\t\tindex: event.summary_index\n\t\t\t}]\n\t\t};\n\t\tif (event.delta) content.push({\n\t\t\ttype: \"reasoning\",\n\t\t\treasoning: event.delta\n\t\t});\n\t} else if (event.type === \"response.image_generation_call.partial_image\") return null;\n\telse return null;\n\treturn new _langchain_core_outputs__WEBPACK_IMPORTED_MODULE_4__.ChatGenerationChunk({\n\t\ttext: content.map((part) => part.text).join(\"\"),\n\t\tmessage: new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_3__.AIMessageChunk({\n\t\t\tid,\n\t\t\tcontent,\n\t\t\ttool_call_chunks,\n\t\t\tusage_metadata,\n\t\t\tadditional_kwargs,\n\t\t\tresponse_metadata\n\t\t}),\n\t\tgenerationInfo\n\t});\n};\n/**\n* Converts a single LangChain BaseMessage to OpenAI Responses API input format.\n*\n* This converter transforms a LangChain message into one or more ResponseInputItem objects\n* that can be used with OpenAI's Responses API. It handles complex message structures including\n* tool calls, reasoning blocks, multimodal content, and various content block types.\n*\n* @param message - The LangChain BaseMessage to convert. Can be any message type including\n*   HumanMessage, AIMessage, SystemMessage, ToolMessage, etc.\n*\n* @returns An array of ResponseInputItem objects.\n*\n* @example\n* Basic text message conversion:\n* ```typescript\n* const message = new HumanMessage(\"Hello, how are you?\");\n* const items = convertStandardContentMessageToResponsesInput(message);\n* // Returns: [{ type: \"message\", role: \"user\", content: [{ type: \"input_text\", text: \"Hello, how are you?\" }] }]\n* ```\n*\n* @example\n* AI message with tool calls:\n* ```typescript\n* const message = new AIMessage({\n*   content: \"I'll check the weather for you.\",\n*   tool_calls: [{\n*     id: \"call_123\",\n*     name: \"get_weather\",\n*     args: { location: \"San Francisco\" }\n*   }]\n* });\n* const items = convertStandardContentMessageToResponsesInput(message);\n* // Returns:\n* // [\n* //   { type: \"message\", role: \"assistant\", content: [{ type: \"input_text\", text: \"I'll check the weather for you.\" }] },\n* //   { type: \"function_call\", call_id: \"call_123\", name: \"get_weather\", arguments: '{\"location\":\"San Francisco\"}' }\n* // ]\n* ```\n*/\nconst convertStandardContentMessageToResponsesInput = (message) => {\n\tconst isResponsesMessage = _langchain_core_messages__WEBPACK_IMPORTED_MODULE_3__.AIMessage.isInstance(message) && message.response_metadata?.model_provider === \"openai\";\n\tfunction* iterateItems() {\n\t\tconst messageRole = (0,_utils_misc_js__WEBPACK_IMPORTED_MODULE_1__.iife)(() => {\n\t\t\ttry {\n\t\t\t\tconst role = (0,_utils_misc_js__WEBPACK_IMPORTED_MODULE_1__.messageToOpenAIRole)(message);\n\t\t\t\tif (role === \"system\" || role === \"developer\" || role === \"assistant\" || role === \"user\") return role;\n\t\t\t\treturn \"assistant\";\n\t\t\t} catch {\n\t\t\t\treturn \"assistant\";\n\t\t\t}\n\t\t});\n\t\tlet currentMessage = void 0;\n\t\tconst functionCallIdsWithBlocks = /* @__PURE__ */ new Set();\n\t\tconst serverFunctionCallIdsWithBlocks = /* @__PURE__ */ new Set();\n\t\tconst pendingFunctionChunks = /* @__PURE__ */ new Map();\n\t\tconst pendingServerFunctionChunks = /* @__PURE__ */ new Map();\n\t\tfunction* flushMessage() {\n\t\t\tif (!currentMessage) return;\n\t\t\tconst content = currentMessage.content;\n\t\t\tif (typeof content === \"string\" && content.length > 0 || Array.isArray(content) && content.length > 0) yield currentMessage;\n\t\t\tcurrentMessage = void 0;\n\t\t}\n\t\tconst pushMessageContent = (content) => {\n\t\t\tif (!currentMessage) currentMessage = {\n\t\t\t\ttype: \"message\",\n\t\t\t\trole: messageRole,\n\t\t\t\tcontent: []\n\t\t\t};\n\t\t\tif (typeof currentMessage.content === \"string\") currentMessage.content = currentMessage.content.length > 0 ? [{\n\t\t\t\ttype: \"input_text\",\n\t\t\t\ttext: currentMessage.content\n\t\t\t}, ...content] : [...content];\n\t\t\telse currentMessage.content.push(...content);\n\t\t};\n\t\tconst toJsonString = (value) => {\n\t\t\tif (typeof value === \"string\") return value;\n\t\t\ttry {\n\t\t\t\treturn JSON.stringify(value ?? {});\n\t\t\t} catch {\n\t\t\t\treturn \"{}\";\n\t\t\t}\n\t\t};\n\t\tconst resolveImageItem = (block) => {\n\t\t\tconst detail = (0,_utils_misc_js__WEBPACK_IMPORTED_MODULE_1__.iife)(() => {\n\t\t\t\tconst raw = block.metadata?.detail;\n\t\t\t\tif (raw === \"low\" || raw === \"high\" || raw === \"auto\") return raw;\n\t\t\t\treturn \"auto\";\n\t\t\t});\n\t\t\tif (block.fileId) return {\n\t\t\t\ttype: \"input_image\",\n\t\t\t\tdetail,\n\t\t\t\tfile_id: block.fileId\n\t\t\t};\n\t\t\tif (block.url) return {\n\t\t\t\ttype: \"input_image\",\n\t\t\t\tdetail,\n\t\t\t\timage_url: block.url\n\t\t\t};\n\t\t\tif (block.data) {\n\t\t\t\tconst base64Data = typeof block.data === \"string\" ? block.data : Buffer.from(block.data).toString(\"base64\");\n\t\t\t\tconst mimeType = block.mimeType ?? \"image/png\";\n\t\t\t\treturn {\n\t\t\t\t\ttype: \"input_image\",\n\t\t\t\t\tdetail,\n\t\t\t\t\timage_url: `data:${mimeType};base64,${base64Data}`\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn void 0;\n\t\t};\n\t\tconst resolveFileItem = (block) => {\n\t\t\tconst filename = (0,_utils_misc_js__WEBPACK_IMPORTED_MODULE_1__.getRequiredFilenameFromMetadata)(block);\n\t\t\tif (block.fileId && typeof filename === \"string\") return {\n\t\t\t\ttype: \"input_file\",\n\t\t\t\tfile_id: block.fileId,\n\t\t\t\t...filename ? { filename } : {}\n\t\t\t};\n\t\t\tif (block.url && typeof filename === \"string\") return {\n\t\t\t\ttype: \"input_file\",\n\t\t\t\tfile_url: block.url,\n\t\t\t\t...filename ? { filename } : {}\n\t\t\t};\n\t\t\tif (block.data && typeof filename === \"string\") {\n\t\t\t\tconst encoded = typeof block.data === \"string\" ? block.data : Buffer.from(block.data).toString(\"base64\");\n\t\t\t\tconst mimeType = block.mimeType ?? \"application/octet-stream\";\n\t\t\t\treturn {\n\t\t\t\t\ttype: \"input_file\",\n\t\t\t\t\tfile_data: `data:${mimeType};base64,${encoded}`,\n\t\t\t\t\t...filename ? { filename } : {}\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn void 0;\n\t\t};\n\t\tconst convertReasoningBlock = (block) => {\n\t\t\tconst summaryEntries = (0,_utils_misc_js__WEBPACK_IMPORTED_MODULE_1__.iife)(() => {\n\t\t\t\tif (Array.isArray(block.summary)) {\n\t\t\t\t\tconst candidate = block.summary;\n\t\t\t\t\tconst mapped = candidate?.map((item) => item?.text).filter((text) => typeof text === \"string\") ?? [];\n\t\t\t\t\tif (mapped.length > 0) return mapped;\n\t\t\t\t}\n\t\t\t\treturn block.reasoning ? [block.reasoning] : [];\n\t\t\t});\n\t\t\tconst summary = summaryEntries.length > 0 ? summaryEntries.map((text) => ({\n\t\t\t\ttype: \"summary_text\",\n\t\t\t\ttext\n\t\t\t})) : [{\n\t\t\t\ttype: \"summary_text\",\n\t\t\t\ttext: \"\"\n\t\t\t}];\n\t\t\tconst reasoningItem = {\n\t\t\t\ttype: \"reasoning\",\n\t\t\t\tid: block.id ?? \"\",\n\t\t\t\tsummary\n\t\t\t};\n\t\t\tif (block.reasoning) reasoningItem.content = [{\n\t\t\t\ttype: \"reasoning_text\",\n\t\t\t\ttext: block.reasoning\n\t\t\t}];\n\t\t\treturn reasoningItem;\n\t\t};\n\t\tconst convertFunctionCall = (block) => ({\n\t\t\ttype: \"function_call\",\n\t\t\tname: block.name ?? \"\",\n\t\t\tcall_id: block.id ?? \"\",\n\t\t\targuments: toJsonString(block.args)\n\t\t});\n\t\tconst convertFunctionCallOutput = (block) => {\n\t\t\tconst output = toJsonString(block.output);\n\t\t\tconst status = block.status === \"success\" ? \"completed\" : block.status === \"error\" ? \"incomplete\" : void 0;\n\t\t\treturn {\n\t\t\t\ttype: \"function_call_output\",\n\t\t\t\tcall_id: block.toolCallId ?? \"\",\n\t\t\t\toutput,\n\t\t\t\t...status ? { status } : {}\n\t\t\t};\n\t\t};\n\t\tfor (const block of message.contentBlocks) if (block.type === \"text\") pushMessageContent([{\n\t\t\ttype: \"input_text\",\n\t\t\ttext: block.text\n\t\t}]);\n\t\telse if (block.type === \"invalid_tool_call\") {} else if (block.type === \"reasoning\") {\n\t\t\tyield* flushMessage();\n\t\t\tyield convertReasoningBlock(block);\n\t\t} else if (block.type === \"tool_call\") {\n\t\t\tyield* flushMessage();\n\t\t\tconst id = block.id ?? \"\";\n\t\t\tif (id) {\n\t\t\t\tfunctionCallIdsWithBlocks.add(id);\n\t\t\t\tpendingFunctionChunks.delete(id);\n\t\t\t}\n\t\t\tyield convertFunctionCall(block);\n\t\t} else if (block.type === \"tool_call_chunk\") {\n\t\t\tif (block.id) {\n\t\t\t\tconst existing = pendingFunctionChunks.get(block.id) ?? {\n\t\t\t\t\tname: block.name,\n\t\t\t\t\targs: []\n\t\t\t\t};\n\t\t\t\tif (block.name) existing.name = block.name;\n\t\t\t\tif (block.args) existing.args.push(block.args);\n\t\t\t\tpendingFunctionChunks.set(block.id, existing);\n\t\t\t}\n\t\t} else if (block.type === \"server_tool_call\") {\n\t\t\tyield* flushMessage();\n\t\t\tconst id = block.id ?? \"\";\n\t\t\tif (id) {\n\t\t\t\tserverFunctionCallIdsWithBlocks.add(id);\n\t\t\t\tpendingServerFunctionChunks.delete(id);\n\t\t\t}\n\t\t\tyield convertFunctionCall(block);\n\t\t} else if (block.type === \"server_tool_call_chunk\") {\n\t\t\tif (block.id) {\n\t\t\t\tconst existing = pendingServerFunctionChunks.get(block.id) ?? {\n\t\t\t\t\tname: block.name,\n\t\t\t\t\targs: []\n\t\t\t\t};\n\t\t\t\tif (block.name) existing.name = block.name;\n\t\t\t\tif (block.args) existing.args.push(block.args);\n\t\t\t\tpendingServerFunctionChunks.set(block.id, existing);\n\t\t\t}\n\t\t} else if (block.type === \"server_tool_call_result\") {\n\t\t\tyield* flushMessage();\n\t\t\tyield convertFunctionCallOutput(block);\n\t\t} else if (block.type === \"audio\") {} else if (block.type === \"file\") {\n\t\t\tconst fileItem = resolveFileItem(block);\n\t\t\tif (fileItem) pushMessageContent([fileItem]);\n\t\t} else if (block.type === \"image\") {\n\t\t\tconst imageItem = resolveImageItem(block);\n\t\t\tif (imageItem) pushMessageContent([imageItem]);\n\t\t} else if (block.type === \"video\") {\n\t\t\tconst videoItem = resolveFileItem(block);\n\t\t\tif (videoItem) pushMessageContent([videoItem]);\n\t\t} else if (block.type === \"text-plain\") {\n\t\t\tif (block.text) pushMessageContent([{\n\t\t\t\ttype: \"input_text\",\n\t\t\t\ttext: block.text\n\t\t\t}]);\n\t\t} else if (block.type === \"non_standard\" && isResponsesMessage) {\n\t\t\tyield* flushMessage();\n\t\t\tyield block.value;\n\t\t}\n\t\tyield* flushMessage();\n\t\tfor (const [id, chunk] of pendingFunctionChunks) {\n\t\t\tif (!id || functionCallIdsWithBlocks.has(id)) continue;\n\t\t\tconst args = chunk.args.join(\"\");\n\t\t\tif (!chunk.name && !args) continue;\n\t\t\tyield {\n\t\t\t\ttype: \"function_call\",\n\t\t\t\tcall_id: id,\n\t\t\t\tname: chunk.name ?? \"\",\n\t\t\t\targuments: args\n\t\t\t};\n\t\t}\n\t\tfor (const [id, chunk] of pendingServerFunctionChunks) {\n\t\t\tif (!id || serverFunctionCallIdsWithBlocks.has(id)) continue;\n\t\t\tconst args = chunk.args.join(\"\");\n\t\t\tif (!chunk.name && !args) continue;\n\t\t\tyield {\n\t\t\t\ttype: \"function_call\",\n\t\t\t\tcall_id: id,\n\t\t\t\tname: chunk.name ?? \"\",\n\t\t\t\targuments: args\n\t\t\t};\n\t\t}\n\t}\n\treturn Array.from(iterateItems());\n};\n/**\n* - MCP (Model Context Protocol) approval responses\n* - Zero Data Retention (ZDR) mode handling\n*\n* @param params - Conversion parameters\n* @param params.messages - Array of LangChain BaseMessages to convert\n* @param params.zdrEnabled - Whether Zero Data Retention mode is enabled. When true, certain\n*   metadata like message IDs and function call IDs are omitted from the output\n* @param params.model - The model name being used. Used to determine if special role mapping\n*   is needed (e.g., \"system\" -> \"developer\" for reasoning models)\n*\n* @returns Array of ResponsesInputItem objects formatted for the OpenAI Responses API\n*\n* @throws {Error} When a function message is encountered (not supported)\n* @throws {Error} When computer call output format is invalid\n*\n* @example\n* ```typescript\n* const messages = [\n*   new HumanMessage(\"Hello\"),\n*   new AIMessage({ content: \"Hi there!\", tool_calls: [...] })\n* ];\n*\n* const input = convertMessagesToResponsesInput({\n*   messages,\n*   zdrEnabled: false,\n*   model: \"gpt-4\"\n* });\n* ```\n*/\nconst convertMessagesToResponsesInput = ({ messages, zdrEnabled, model }) => {\n\treturn messages.flatMap((lcMsg) => {\n\t\tconst responseMetadata = lcMsg.response_metadata;\n\t\tif (responseMetadata?.output_version === \"v1\") return convertStandardContentMessageToResponsesInput(lcMsg);\n\t\tconst additional_kwargs = lcMsg.additional_kwargs;\n\t\tlet role = (0,_utils_misc_js__WEBPACK_IMPORTED_MODULE_1__.messageToOpenAIRole)(lcMsg);\n\t\tif (role === \"system\" && (0,_utils_misc_js__WEBPACK_IMPORTED_MODULE_1__.isReasoningModel)(model)) role = \"developer\";\n\t\tif (role === \"function\") throw new Error(\"Function messages are not supported in Responses API\");\n\t\tif (role === \"tool\") {\n\t\t\tconst toolMessage = lcMsg;\n\t\t\tif (additional_kwargs?.type === \"computer_call_output\") {\n\t\t\t\tconst output = (() => {\n\t\t\t\t\tif (typeof toolMessage.content === \"string\") return {\n\t\t\t\t\t\ttype: \"input_image\",\n\t\t\t\t\t\timage_url: toolMessage.content\n\t\t\t\t\t};\n\t\t\t\t\tif (Array.isArray(toolMessage.content)) {\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t* Check for input_image type first (computer-use-preview format)\n\t\t\t\t\t\t*/\n\t\t\t\t\t\tconst inputImage = toolMessage.content.find((i) => i.type === \"input_image\");\n\t\t\t\t\t\tif (inputImage) return inputImage;\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t* Check for computer_screenshot type (legacy format)\n\t\t\t\t\t\t*/\n\t\t\t\t\t\tconst oaiScreenshot = toolMessage.content.find((i) => i.type === \"computer_screenshot\");\n\t\t\t\t\t\tif (oaiScreenshot) return oaiScreenshot;\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t* Convert image_url content block to input_image format\n\t\t\t\t\t\t*/\n\t\t\t\t\t\tconst lcImage = toolMessage.content.find((i) => i.type === \"image_url\");\n\t\t\t\t\t\tif (lcImage) return {\n\t\t\t\t\t\t\ttype: \"input_image\",\n\t\t\t\t\t\t\timage_url: typeof lcImage.image_url === \"string\" ? lcImage.image_url : lcImage.image_url.url\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\tthrow new Error(\"Invalid computer call output\");\n\t\t\t\t})();\n\t\t\t\t/**\n\t\t\t\t* Cast needed because OpenAI SDK types don't yet include input_image\n\t\t\t\t* for computer-use-preview model output format\n\t\t\t\t*/\n\t\t\t\treturn {\n\t\t\t\t\ttype: \"computer_call_output\",\n\t\t\t\t\toutput,\n\t\t\t\t\tcall_id: toolMessage.tool_call_id\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (toolMessage.additional_kwargs?.customTool) return {\n\t\t\t\ttype: \"custom_tool_call_output\",\n\t\t\t\tcall_id: toolMessage.tool_call_id,\n\t\t\t\toutput: toolMessage.content\n\t\t\t};\n\t\t\tconst isProviderNativeContent = Array.isArray(toolMessage.content) && toolMessage.content.every((item) => typeof item === \"object\" && item !== null && \"type\" in item && (item.type === \"input_file\" || item.type === \"input_image\" || item.type === \"input_text\"));\n\t\t\treturn {\n\t\t\t\ttype: \"function_call_output\",\n\t\t\t\tcall_id: toolMessage.tool_call_id,\n\t\t\t\tid: toolMessage.id?.startsWith(\"fc_\") ? toolMessage.id : void 0,\n\t\t\t\toutput: isProviderNativeContent ? toolMessage.content : typeof toolMessage.content !== \"string\" ? JSON.stringify(toolMessage.content) : toolMessage.content\n\t\t\t};\n\t\t}\n\t\tif (role === \"assistant\") {\n\t\t\tif (!zdrEnabled && responseMetadata?.output != null && Array.isArray(responseMetadata?.output) && responseMetadata?.output.length > 0 && responseMetadata?.output.every((item) => \"type\" in item)) return responseMetadata?.output;\n\t\t\tconst input = [];\n\t\t\tif (additional_kwargs?.reasoning && !zdrEnabled) {\n\t\t\t\tconst reasoningItem = convertReasoningSummaryToResponsesReasoningItem(additional_kwargs.reasoning);\n\t\t\t\tinput.push(reasoningItem);\n\t\t\t}\n\t\t\tlet { content } = lcMsg;\n\t\t\tif (additional_kwargs?.refusal) {\n\t\t\t\tif (typeof content === \"string\") content = [{\n\t\t\t\t\ttype: \"output_text\",\n\t\t\t\t\ttext: content,\n\t\t\t\t\tannotations: []\n\t\t\t\t}];\n\t\t\t\tcontent = [...content, {\n\t\t\t\t\ttype: \"refusal\",\n\t\t\t\t\trefusal: additional_kwargs.refusal\n\t\t\t\t}];\n\t\t\t}\n\t\t\tif (typeof content === \"string\" || content.length > 0) input.push({\n\t\t\t\ttype: \"message\",\n\t\t\t\trole: \"assistant\",\n\t\t\t\t...lcMsg.id && !zdrEnabled && lcMsg.id.startsWith(\"msg_\") ? { id: lcMsg.id } : {},\n\t\t\t\tcontent: (0,_utils_misc_js__WEBPACK_IMPORTED_MODULE_1__.iife)(() => {\n\t\t\t\t\tif (typeof content === \"string\") return content;\n\t\t\t\t\treturn content.flatMap((item) => {\n\t\t\t\t\t\tif (item.type === \"text\") return {\n\t\t\t\t\t\t\ttype: \"output_text\",\n\t\t\t\t\t\t\ttext: item.text,\n\t\t\t\t\t\t\tannotations: item.annotations ?? []\n\t\t\t\t\t\t};\n\t\t\t\t\t\tif (item.type === \"output_text\" || item.type === \"refusal\") return item;\n\t\t\t\t\t\treturn [];\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t});\n\t\t\tconst functionCallIds = additional_kwargs?.[_FUNCTION_CALL_IDS_MAP_KEY];\n\t\t\tif (_langchain_core_messages__WEBPACK_IMPORTED_MODULE_3__.AIMessage.isInstance(lcMsg) && !!lcMsg.tool_calls?.length) input.push(...lcMsg.tool_calls.map((toolCall) => {\n\t\t\t\tif ((0,_utils_tools_js__WEBPACK_IMPORTED_MODULE_0__.isCustomToolCall)(toolCall)) return {\n\t\t\t\t\ttype: \"custom_tool_call\",\n\t\t\t\t\tid: toolCall.call_id,\n\t\t\t\t\tcall_id: toolCall.id ?? \"\",\n\t\t\t\t\tinput: toolCall.args.input,\n\t\t\t\t\tname: toolCall.name\n\t\t\t\t};\n\t\t\t\tif ((0,_utils_tools_js__WEBPACK_IMPORTED_MODULE_0__.isComputerToolCall)(toolCall)) return {\n\t\t\t\t\ttype: \"computer_call\",\n\t\t\t\t\tid: toolCall.call_id,\n\t\t\t\t\tcall_id: toolCall.id ?? \"\",\n\t\t\t\t\taction: toolCall.args.action\n\t\t\t\t};\n\t\t\t\treturn {\n\t\t\t\t\ttype: \"function_call\",\n\t\t\t\t\tname: toolCall.name,\n\t\t\t\t\targuments: JSON.stringify(toolCall.args),\n\t\t\t\t\tcall_id: toolCall.id,\n\t\t\t\t\t...!zdrEnabled ? { id: functionCallIds?.[toolCall.id] } : {}\n\t\t\t\t};\n\t\t\t}));\n\t\t\telse if (additional_kwargs?.tool_calls) input.push(...additional_kwargs.tool_calls.map((toolCall) => ({\n\t\t\t\ttype: \"function_call\",\n\t\t\t\tname: toolCall.function.name,\n\t\t\t\tcall_id: toolCall.id,\n\t\t\t\targuments: toolCall.function.arguments,\n\t\t\t\t...!zdrEnabled ? { id: functionCallIds?.[toolCall.id] } : {}\n\t\t\t})));\n\t\t\tconst toolOutputs = (responseMetadata?.output)?.length ? responseMetadata?.output : additional_kwargs.tool_outputs;\n\t\t\tconst fallthroughCallTypes = [\n\t\t\t\t\"computer_call\",\n\t\t\t\t\"mcp_call\",\n\t\t\t\t\"code_interpreter_call\",\n\t\t\t\t\"image_generation_call\"\n\t\t\t];\n\t\t\tif (toolOutputs != null) {\n\t\t\t\tconst castToolOutputs = toolOutputs;\n\t\t\t\tconst fallthroughCalls = castToolOutputs?.filter((item) => fallthroughCallTypes.includes(item.type));\n\t\t\t\tif (fallthroughCalls.length > 0) input.push(...fallthroughCalls);\n\t\t\t}\n\t\t\treturn input;\n\t\t}\n\t\tif (role === \"user\" || role === \"system\" || role === \"developer\") {\n\t\t\tif (typeof lcMsg.content === \"string\") return {\n\t\t\t\ttype: \"message\",\n\t\t\t\trole,\n\t\t\t\tcontent: lcMsg.content\n\t\t\t};\n\t\t\tconst messages$1 = [];\n\t\t\tconst content = lcMsg.content.flatMap((item) => {\n\t\t\t\tif (item.type === \"mcp_approval_response\") messages$1.push({\n\t\t\t\t\ttype: \"mcp_approval_response\",\n\t\t\t\t\tapproval_request_id: item.approval_request_id,\n\t\t\t\t\tapprove: item.approve\n\t\t\t\t});\n\t\t\t\tif ((0,_langchain_core_messages__WEBPACK_IMPORTED_MODULE_3__.isDataContentBlock)(item)) return (0,_langchain_core_messages__WEBPACK_IMPORTED_MODULE_3__.convertToProviderContentBlock)(item, _completions_js__WEBPACK_IMPORTED_MODULE_2__.completionsApiContentBlockConverter);\n\t\t\t\tif (item.type === \"text\") return {\n\t\t\t\t\ttype: \"input_text\",\n\t\t\t\t\ttext: item.text\n\t\t\t\t};\n\t\t\t\tif (item.type === \"image_url\") {\n\t\t\t\t\tconst imageUrl = (0,_utils_misc_js__WEBPACK_IMPORTED_MODULE_1__.iife)(() => {\n\t\t\t\t\t\tif (typeof item.image_url === \"string\") return item.image_url;\n\t\t\t\t\t\telse if (typeof item.image_url === \"object\" && item.image_url !== null && \"url\" in item.image_url) return item.image_url.url;\n\t\t\t\t\t\treturn void 0;\n\t\t\t\t\t});\n\t\t\t\t\tconst detail = (0,_utils_misc_js__WEBPACK_IMPORTED_MODULE_1__.iife)(() => {\n\t\t\t\t\t\tif (typeof item.image_url === \"string\") return \"auto\";\n\t\t\t\t\t\telse if (typeof item.image_url === \"object\" && item.image_url !== null && \"detail\" in item.image_url) return item.image_url.detail;\n\t\t\t\t\t\treturn void 0;\n\t\t\t\t\t});\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: \"input_image\",\n\t\t\t\t\t\timage_url: imageUrl,\n\t\t\t\t\t\tdetail\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (item.type === \"input_text\" || item.type === \"input_image\" || item.type === \"input_file\") return item;\n\t\t\t\treturn [];\n\t\t\t});\n\t\t\tif (content.length > 0) messages$1.push({\n\t\t\t\ttype: \"message\",\n\t\t\t\trole,\n\t\t\t\tcontent\n\t\t\t});\n\t\t\treturn messages$1;\n\t\t}\n\t\tconsole.warn(`Unsupported role found when converting to OpenAI Responses API: ${role}`);\n\t\treturn [];\n\t});\n};\n\n//#endregion\n\n//# sourceMappingURL=responses.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L2NvbnZlcnRlcnMvcmVzcG9uc2VzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFpSDtBQUNEO0FBQ3pDO0FBQ2lEO0FBQzFEO0FBQ21DOztBQUVqRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsbUJBQW1CO0FBQy9DLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGdCQUFnQjtBQUM5QywrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsMkRBQTJEO0FBQ3hGLDhCQUE4QiwrREFBK0Q7QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxtQ0FBbUM7QUFDakQsR0FBRztBQUNIO0FBQ0EsZ0NBQWdDO0FBQ2hDLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsMEZBQWEsY0FBYyxnQkFBZ0I7QUFDOUQsSUFBSTtBQUNKO0FBQ0E7QUFDQSwyQkFBMkIsZ0dBQW1CO0FBQzlDO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEdBQUc7QUFDSCxpQkFBaUIsb0VBQW1CO0FBQ3BDO0FBQ0EsK0JBQStCLGdHQUFtQjtBQUNsRCxHQUFHO0FBQ0gsaUJBQWlCLGtFQUFpQjtBQUNsQztBQUNBLCtCQUErQixnR0FBbUI7QUFDbEQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2YsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsWUFBWSwrREFBUztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsZ0RBQWdEO0FBQ3hELFFBQVEsOENBQThDO0FBQ3RELFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDBDQUEwQztBQUNyRCxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSxLQUFLLHlCQUF5QjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxtQ0FBbUM7QUFDakQ7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0IsbURBQW1EO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILG9EQUFvRDtBQUNwRCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDJCQUEyQjtBQUNyRDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2YsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0YsMElBQTBJO0FBQzFJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsVUFBVTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsR0FBRztBQUNIO0FBQ0EsWUFBWSx3RUFBbUI7QUFDL0I7QUFDQSxlQUFlLG9FQUFjO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsMkNBQTJDLGlEQUFpRCxHQUFHO0FBQ2hIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsU0FBUyxnREFBZ0QsNkRBQTZELEdBQUc7QUFDekgsU0FBUyw4RUFBOEUsMkJBQTJCO0FBQ2xIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLCtEQUFTO0FBQ3JDO0FBQ0Esc0JBQXNCLG9EQUFJO0FBQzFCO0FBQ0EsaUJBQWlCLG1FQUFtQjtBQUNwQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDLEtBQUs7QUFDTCxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLG9EQUFJO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixVQUFVLFNBQVMsV0FBVztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLCtFQUErQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsV0FBVztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixXQUFXO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixVQUFVLFNBQVMsUUFBUTtBQUNuRCxxQkFBcUIsV0FBVztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLG9EQUFJO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFNBQVM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJLG9DQUFvQztBQUN4QztBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix5Q0FBeUM7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSwyQ0FBMkMsNkJBQTZCO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxtRUFBbUI7QUFDaEMsMkJBQTJCLGdFQUFnQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxVQUFVO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLGVBQWUsSUFBSTtBQUNyRixhQUFhLG9EQUFJO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0EsT0FBTywrREFBUztBQUNoQixRQUFRLGlFQUFnQjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLG1FQUFrQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixxQ0FBcUM7QUFDN0Q7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixxQ0FBcUM7QUFDNUQsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsUUFBUSw0RUFBa0IsZUFBZSx1RkFBNkIsT0FBTyxnRkFBbUM7QUFDaEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixvREFBSTtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sb0JBQW9CLG9EQUFJO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxrRkFBa0YsS0FBSztBQUN2RjtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNpUTtBQUNqUSIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitvcGVuYWlAMS4yLjNfQGxhbmdjaGFpbitjb3JlQDEuMS4xNy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9vcGVuYWkvZGlzdC9jb252ZXJ0ZXJzL3Jlc3BvbnNlcy5qcz9mZmNkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzQ29tcHV0ZXJUb29sQ2FsbCwgaXNDdXN0b21Ub29sQ2FsbCwgcGFyc2VDb21wdXRlckNhbGwsIHBhcnNlQ3VzdG9tVG9vbENhbGwgfSBmcm9tIFwiLi4vdXRpbHMvdG9vbHMuanNcIjtcbmltcG9ydCB7IGdldFJlcXVpcmVkRmlsZW5hbWVGcm9tTWV0YWRhdGEsIGlpZmUsIGlzUmVhc29uaW5nTW9kZWwsIG1lc3NhZ2VUb09wZW5BSVJvbGUgfSBmcm9tIFwiLi4vdXRpbHMvbWlzYy5qc1wiO1xuaW1wb3J0IHsgY29tcGxldGlvbnNBcGlDb250ZW50QmxvY2tDb252ZXJ0ZXIgfSBmcm9tIFwiLi9jb21wbGV0aW9ucy5qc1wiO1xuaW1wb3J0IHsgQUlNZXNzYWdlLCBBSU1lc3NhZ2VDaHVuaywgY29udmVydFRvUHJvdmlkZXJDb250ZW50QmxvY2ssIGlzRGF0YUNvbnRlbnRCbG9jayB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvbWVzc2FnZXNcIjtcbmltcG9ydCB7IENoYXRHZW5lcmF0aW9uQ2h1bmsgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL291dHB1dHNcIjtcbmltcG9ydCB7IG1ha2VJbnZhbGlkVG9vbENhbGwsIHBhcnNlVG9vbENhbGwgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL291dHB1dF9wYXJzZXJzL29wZW5haV90b29sc1wiO1xuXG4vLyNyZWdpb24gc3JjL2NvbnZlcnRlcnMvcmVzcG9uc2VzLnRzXG5jb25zdCBfRlVOQ1RJT05fQ0FMTF9JRFNfTUFQX0tFWSA9IFwiX19vcGVuYWlfZnVuY3Rpb25fY2FsbF9pZHNfX1wiO1xuLyoqXG4qIENvbnZlcnRzIGFuIE9wZW5BSSBhbm5vdGF0aW9uIHRvIGEgTGFuZ0NoYWluIENpdGF0aW9uIG9yIEJhc2VDb250ZW50QmxvY2suXG4qXG4qIE9wZW5BSSBoYXMgc2V2ZXJhbCBhbm5vdGF0aW9uIHR5cGVzOlxuKiAtIGB1cmxfY2l0YXRpb25gOiBXZWIgY2l0YXRpb25zIHdpdGggdXJsLCB0aXRsZSwgc3RhcnRfaW5kZXgsIGVuZF9pbmRleFxuKiAtIGBmaWxlX2NpdGF0aW9uYDogRmlsZSBjaXRhdGlvbnMgd2l0aCBmaWxlX2lkLCBmaWxlbmFtZSwgaW5kZXhcbiogLSBgY29udGFpbmVyX2ZpbGVfY2l0YXRpb25gOiBDb250YWluZXIgZmlsZSBjaXRhdGlvbnMgd2l0aCBjb250YWluZXJfaWQsIGZpbGVfaWQsIGZpbGVuYW1lLCBzdGFydF9pbmRleCwgZW5kX2luZGV4XG4qIC0gYGZpbGVfcGF0aGA6IEZpbGUgcGF0aHMgd2l0aCBmaWxlX2lkLCBpbmRleFxuKlxuKiBUaGlzIGZ1bmN0aW9uIG1hcHMgdGhlbSB0byBMYW5nQ2hhaW4ncyBDaXRhdGlvbiBmb3JtYXQgb3IgcHJlc2VydmVzIHRoZW0gYXMgbm9uLXN0YW5kYXJkIGJsb2Nrcy5cbiovXG5mdW5jdGlvbiBjb252ZXJ0T3BlbkFJQW5ub3RhdGlvblRvTGFuZ0NoYWluKGFubm90YXRpb24pIHtcblx0aWYgKGFubm90YXRpb24udHlwZSA9PT0gXCJ1cmxfY2l0YXRpb25cIikgcmV0dXJuIHtcblx0XHR0eXBlOiBcImNpdGF0aW9uXCIsXG5cdFx0c291cmNlOiBcInVybF9jaXRhdGlvblwiLFxuXHRcdHVybDogYW5ub3RhdGlvbi51cmwsXG5cdFx0dGl0bGU6IGFubm90YXRpb24udGl0bGUsXG5cdFx0c3RhcnRJbmRleDogYW5ub3RhdGlvbi5zdGFydF9pbmRleCxcblx0XHRlbmRJbmRleDogYW5ub3RhdGlvbi5lbmRfaW5kZXhcblx0fTtcblx0aWYgKGFubm90YXRpb24udHlwZSA9PT0gXCJmaWxlX2NpdGF0aW9uXCIpIHJldHVybiB7XG5cdFx0dHlwZTogXCJjaXRhdGlvblwiLFxuXHRcdHNvdXJjZTogXCJmaWxlX2NpdGF0aW9uXCIsXG5cdFx0dGl0bGU6IGFubm90YXRpb24uZmlsZW5hbWUsXG5cdFx0c3RhcnRJbmRleDogYW5ub3RhdGlvbi5pbmRleCxcblx0XHRmaWxlX2lkOiBhbm5vdGF0aW9uLmZpbGVfaWRcblx0fTtcblx0aWYgKGFubm90YXRpb24udHlwZSA9PT0gXCJjb250YWluZXJfZmlsZV9jaXRhdGlvblwiKSByZXR1cm4ge1xuXHRcdHR5cGU6IFwiY2l0YXRpb25cIixcblx0XHRzb3VyY2U6IFwiY29udGFpbmVyX2ZpbGVfY2l0YXRpb25cIixcblx0XHR0aXRsZTogYW5ub3RhdGlvbi5maWxlbmFtZSxcblx0XHRzdGFydEluZGV4OiBhbm5vdGF0aW9uLnN0YXJ0X2luZGV4LFxuXHRcdGVuZEluZGV4OiBhbm5vdGF0aW9uLmVuZF9pbmRleCxcblx0XHRmaWxlX2lkOiBhbm5vdGF0aW9uLmZpbGVfaWQsXG5cdFx0Y29udGFpbmVyX2lkOiBhbm5vdGF0aW9uLmNvbnRhaW5lcl9pZFxuXHR9O1xuXHRpZiAoYW5ub3RhdGlvbi50eXBlID09PSBcImZpbGVfcGF0aFwiKSByZXR1cm4ge1xuXHRcdHR5cGU6IFwiY2l0YXRpb25cIixcblx0XHRzb3VyY2U6IFwiZmlsZV9wYXRoXCIsXG5cdFx0c3RhcnRJbmRleDogYW5ub3RhdGlvbi5pbmRleCxcblx0XHRmaWxlX2lkOiBhbm5vdGF0aW9uLmZpbGVfaWRcblx0fTtcblx0cmV0dXJuIHtcblx0XHR0eXBlOiBcIm5vbl9zdGFuZGFyZFwiLFxuXHRcdHZhbHVlOiBhbm5vdGF0aW9uXG5cdH07XG59XG4vKipcbiogQ29udmVydHMgT3BlbkFJIFJlc3BvbnNlcyBBUEkgdXNhZ2Ugc3RhdGlzdGljcyB0byBMYW5nQ2hhaW4ncyBVc2FnZU1ldGFkYXRhIGZvcm1hdC5cbipcbiogVGhpcyBjb252ZXJ0ZXIgdHJhbnNmb3JtcyB0b2tlbiB1c2FnZSBpbmZvcm1hdGlvbiBmcm9tIE9wZW5BSSdzIFJlc3BvbnNlcyBBUEkgaW50b1xuKiB0aGUgc3RhbmRhcmRpemVkIFVzYWdlTWV0YWRhdGEgZm9ybWF0IHVzZWQgdGhyb3VnaG91dCBMYW5nQ2hhaW4uIEl0IGhhbmRsZXMgYm90aFxuKiBiYXNpYyB0b2tlbiBjb3VudHMgYW5kIGRldGFpbGVkIHRva2VuIGJyZWFrZG93bnMgaW5jbHVkaW5nIGNhY2hlZCB0b2tlbnMgYW5kXG4qIHJlYXNvbmluZyB0b2tlbnMuXG4qXG4qIEBwYXJhbSB1c2FnZSAtIFRoZSB1c2FnZSBzdGF0aXN0aWNzIG9iamVjdCBmcm9tIE9wZW5BSSdzIFJlc3BvbnNlcyBBUEkgY29udGFpbmluZ1xuKiAgICAgICAgICAgICAgICB0b2tlbiBjb3VudHMgYW5kIG9wdGlvbmFsIGRldGFpbGVkIGJyZWFrZG93bnMuXG4qXG4qIEByZXR1cm5zIEEgVXNhZ2VNZXRhZGF0YSBvYmplY3QgY29udGFpbmluZzpcbiogICAtIGBpbnB1dF90b2tlbnNgOiBUb3RhbCBudW1iZXIgb2YgdG9rZW5zIGluIHRoZSBpbnB1dC9wcm9tcHQgKGRlZmF1bHRzIHRvIDAgaWYgbm90IHByb3ZpZGVkKVxuKiAgIC0gYG91dHB1dF90b2tlbnNgOiBUb3RhbCBudW1iZXIgb2YgdG9rZW5zIGluIHRoZSBtb2RlbCdzIG91dHB1dCAoZGVmYXVsdHMgdG8gMCBpZiBub3QgcHJvdmlkZWQpXG4qICAgLSBgdG90YWxfdG9rZW5zYDogQ29tYmluZWQgdG90YWwgb2YgaW5wdXQgYW5kIG91dHB1dCB0b2tlbnMgKGRlZmF1bHRzIHRvIDAgaWYgbm90IHByb3ZpZGVkKVxuKiAgIC0gYGlucHV0X3Rva2VuX2RldGFpbHNgOiBPYmplY3QgY29udGFpbmluZyBkZXRhaWxlZCBpbnB1dCB0b2tlbiBpbmZvcm1hdGlvbjpcbiogICAgIC0gYGNhY2hlX3JlYWRgOiBOdW1iZXIgb2YgdG9rZW5zIHJlYWQgZnJvbSBjYWNoZSAob25seSBpbmNsdWRlZCBpZiBhdmFpbGFibGUpXG4qICAgLSBgb3V0cHV0X3Rva2VuX2RldGFpbHNgOiBPYmplY3QgY29udGFpbmluZyBkZXRhaWxlZCBvdXRwdXQgdG9rZW4gaW5mb3JtYXRpb246XG4qICAgICAtIGByZWFzb25pbmdgOiBOdW1iZXIgb2YgdG9rZW5zIHVzZWQgZm9yIHJlYXNvbmluZyAob25seSBpbmNsdWRlZCBpZiBhdmFpbGFibGUpXG4qXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogY29uc3QgdXNhZ2UgPSB7XG4qICAgaW5wdXRfdG9rZW5zOiAxMDAsXG4qICAgb3V0cHV0X3Rva2VuczogNTAsXG4qICAgdG90YWxfdG9rZW5zOiAxNTAsXG4qICAgaW5wdXRfdG9rZW5zX2RldGFpbHM6IHsgY2FjaGVkX3Rva2VuczogMjAgfSxcbiogICBvdXRwdXRfdG9rZW5zX2RldGFpbHM6IHsgcmVhc29uaW5nX3Rva2VuczogMTAgfVxuKiB9O1xuKlxuKiBjb25zdCBtZXRhZGF0YSA9IGNvbnZlcnRSZXNwb25zZXNVc2FnZVRvVXNhZ2VNZXRhZGF0YSh1c2FnZSk7XG4qIC8vIFJldHVybnM6XG4qIC8vIHtcbiogLy8gICBpbnB1dF90b2tlbnM6IDEwMCxcbiogLy8gICBvdXRwdXRfdG9rZW5zOiA1MCxcbiogLy8gICB0b3RhbF90b2tlbnM6IDE1MCxcbiogLy8gICBpbnB1dF90b2tlbl9kZXRhaWxzOiB7IGNhY2hlX3JlYWQ6IDIwIH0sXG4qIC8vICAgb3V0cHV0X3Rva2VuX2RldGFpbHM6IHsgcmVhc29uaW5nOiAxMCB9XG4qIC8vIH1cbiogYGBgXG4qXG4qIEByZW1hcmtzXG4qIC0gVGhlIGZ1bmN0aW9uIHNhZmVseSBoYW5kbGVzIHVuZGVmaW5lZCBvciBudWxsIHZhbHVlcyBieSB1c2luZyBvcHRpb25hbCBjaGFpbmluZ1xuKiAgIGFuZCBudWxsaXNoIGNvYWxlc2Npbmcgb3BlcmF0b3JzXG4qIC0gRGV0YWlsZWQgdG9rZW4gaW5mb3JtYXRpb24gKGNhY2hlX3JlYWQsIHJlYXNvbmluZykgaXMgb25seSBpbmNsdWRlZCBpbiB0aGUgcmVzdWx0XG4qICAgaWYgdGhlIGNvcnJlc3BvbmRpbmcgdmFsdWVzIGFyZSBwcmVzZW50IGluIHRoZSBpbnB1dFxuKiAtIFRva2VuIGNvdW50cyBkZWZhdWx0IHRvIDAgaWYgbm90IHByb3ZpZGVkIGluIHRoZSB1c2FnZSBvYmplY3RcbiogLSBUaGlzIGNvbnZlcnRlciBpcyBzcGVjaWZpY2FsbHkgZGVzaWduZWQgZm9yIE9wZW5BSSdzIFJlc3BvbnNlcyBBUEkgZm9ybWF0IGFuZFxuKiAgIG1heSBkaWZmZXIgZnJvbSBvdGhlciBPcGVuQUkgQVBJIGVuZHBvaW50c1xuKi9cbmNvbnN0IGNvbnZlcnRSZXNwb25zZXNVc2FnZVRvVXNhZ2VNZXRhZGF0YSA9ICh1c2FnZSkgPT4ge1xuXHRjb25zdCBpbnB1dFRva2VuRGV0YWlscyA9IHsgLi4udXNhZ2U/LmlucHV0X3Rva2Vuc19kZXRhaWxzPy5jYWNoZWRfdG9rZW5zICE9IG51bGwgJiYgeyBjYWNoZV9yZWFkOiB1c2FnZT8uaW5wdXRfdG9rZW5zX2RldGFpbHM/LmNhY2hlZF90b2tlbnMgfSB9O1xuXHRjb25zdCBvdXRwdXRUb2tlbkRldGFpbHMgPSB7IC4uLnVzYWdlPy5vdXRwdXRfdG9rZW5zX2RldGFpbHM/LnJlYXNvbmluZ190b2tlbnMgIT0gbnVsbCAmJiB7IHJlYXNvbmluZzogdXNhZ2U/Lm91dHB1dF90b2tlbnNfZGV0YWlscz8ucmVhc29uaW5nX3Rva2VucyB9IH07XG5cdHJldHVybiB7XG5cdFx0aW5wdXRfdG9rZW5zOiB1c2FnZT8uaW5wdXRfdG9rZW5zID8/IDAsXG5cdFx0b3V0cHV0X3Rva2VuczogdXNhZ2U/Lm91dHB1dF90b2tlbnMgPz8gMCxcblx0XHR0b3RhbF90b2tlbnM6IHVzYWdlPy50b3RhbF90b2tlbnMgPz8gMCxcblx0XHRpbnB1dF90b2tlbl9kZXRhaWxzOiBpbnB1dFRva2VuRGV0YWlscyxcblx0XHRvdXRwdXRfdG9rZW5fZGV0YWlsczogb3V0cHV0VG9rZW5EZXRhaWxzXG5cdH07XG59O1xuLyoqXG4qIENvbnZlcnRzIGFuIE9wZW5BSSBSZXNwb25zZXMgQVBJIHJlc3BvbnNlIHRvIGEgTGFuZ0NoYWluIEFJTWVzc2FnZS5cbipcbiogVGhpcyBjb252ZXJ0ZXIgcHJvY2Vzc2VzIHRoZSBvdXRwdXQgZnJvbSBPcGVuQUkncyBSZXNwb25zZXMgQVBJIChib3RoIGBjcmVhdGVgIGFuZCBgcGFyc2VgIG1ldGhvZHMpXG4qIGFuZCB0cmFuc2Zvcm1zIGl0IGludG8gYSBMYW5nQ2hhaW4gQUlNZXNzYWdlIG9iamVjdCB3aXRoIGFsbCByZWxldmFudCBtZXRhZGF0YSwgdG9vbCBjYWxscywgYW5kIGNvbnRlbnQuXG4qXG4qIEBwYXJhbSByZXNwb25zZSAtIFRoZSByZXNwb25zZSBvYmplY3QgZnJvbSBPcGVuQUkncyBSZXNwb25zZXMgQVBJLiBDYW4gYmUgZWl0aGVyOlxuKiAgIC0gUmVzcG9uc2VzQ3JlYXRlSW52b2tlOiBSZXN1bHQgZnJvbSBgcmVzcG9uc2VzLmNyZWF0ZSgpYFxuKiAgIC0gUmVzcG9uc2VzUGFyc2VJbnZva2U6IFJlc3VsdCBmcm9tIGByZXNwb25zZXMucGFyc2UoKWBcbipcbiogQHJldHVybnMgQW4gQUlNZXNzYWdlIGNvbnRhaW5pbmc6XG4qICAgLSBgaWRgOiBUaGUgbWVzc2FnZSBJRCBmcm9tIHRoZSByZXNwb25zZSBvdXRwdXRcbiogICAtIGBjb250ZW50YDogQXJyYXkgb2YgbWVzc2FnZSBjb250ZW50IGJsb2NrcyAodGV4dCwgaW1hZ2VzLCBldGMuKVxuKiAgIC0gYHRvb2xfY2FsbHNgOiBBcnJheSBvZiBzdWNjZXNzZnVsbHkgcGFyc2VkIHRvb2wgY2FsbHNcbiogICAtIGBpbnZhbGlkX3Rvb2xfY2FsbHNgOiBBcnJheSBvZiB0b29sIGNhbGxzIHRoYXQgZmFpbGVkIHRvIHBhcnNlXG4qICAgLSBgdXNhZ2VfbWV0YWRhdGFgOiBUb2tlbiB1c2FnZSBpbmZvcm1hdGlvbiBjb252ZXJ0ZWQgdG8gTGFuZ0NoYWluIGZvcm1hdFxuKiAgIC0gYGFkZGl0aW9uYWxfa3dhcmdzYDogRXh0cmEgZGF0YSBpbmNsdWRpbmc6XG4qICAgICAtIGByZWZ1c2FsYDogUmVmdXNhbCB0ZXh0IGlmIHRoZSBtb2RlbCByZWZ1c2VkIHRvIHJlc3BvbmRcbiogICAgIC0gYHJlYXNvbmluZ2A6IFJlYXNvbmluZyBvdXRwdXQgZm9yIHJlYXNvbmluZyBtb2RlbHNcbiogICAgIC0gYHRvb2xfb3V0cHV0c2A6IFJlc3VsdHMgZnJvbSBidWlsdC1pbiB0b29scyAod2ViIHNlYXJjaCwgZmlsZSBzZWFyY2gsIGV0Yy4pXG4qICAgICAtIGBwYXJzZWRgOiBQYXJzZWQgc3RydWN0dXJlZCBvdXRwdXQgd2hlbiB1c2luZyBqc29uX3NjaGVtYSBmb3JtYXRcbiogICAgIC0gRnVuY3Rpb24gY2FsbCBJRCBtYXBwaW5ncyBmb3IgdHJhY2tpbmdcbiogICAtIGByZXNwb25zZV9tZXRhZGF0YWA6IE1ldGFkYXRhIGFib3V0IHRoZSByZXNwb25zZSBpbmNsdWRpbmcgbW9kZWwsIHRpbWVzdGFtcHMsIHN0YXR1cywgZXRjLlxuKlxuKiBAdGhyb3dzIEVycm9yIGlmIHRoZSByZXNwb25zZSBjb250YWlucyBhbiBlcnJvciBvYmplY3QuIFRoZSBlcnJvciBtZXNzYWdlIGFuZCBjb2RlIGFyZSBleHRyYWN0ZWRcbiogICBmcm9tIHRoZSByZXNwb25zZS5lcnJvciBmaWVsZC5cbipcbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IGNsaWVudC5yZXNwb25zZXMuY3JlYXRlKHtcbiogICBtb2RlbDogXCJncHQtNFwiLFxuKiAgIGlucHV0OiBbeyB0eXBlOiBcIm1lc3NhZ2VcIiwgY29udGVudDogXCJIZWxsb1wiIH1dXG4qIH0pO1xuKiBjb25zdCBtZXNzYWdlID0gY29udmVydFJlc3BvbnNlc01lc3NhZ2VUb0FJTWVzc2FnZShyZXNwb25zZSk7XG4qIGNvbnNvbGUubG9nKG1lc3NhZ2UuY29udGVudCk7IC8vIE1lc3NhZ2UgY29udGVudFxuKiBjb25zb2xlLmxvZyhtZXNzYWdlLnRvb2xfY2FsbHMpOyAvLyBBbnkgdG9vbCBjYWxscyBtYWRlXG4qIGBgYFxuKlxuKiBAcmVtYXJrc1xuKiBUaGUgY29udmVydGVyIGhhbmRsZXMgbXVsdGlwbGUgb3V0cHV0IGl0ZW0gdHlwZXM6XG4qIC0gYG1lc3NhZ2VgOiBUZXh0IGFuZCBzdHJ1Y3R1cmVkIGNvbnRlbnQgZnJvbSB0aGUgbW9kZWxcbiogLSBgZnVuY3Rpb25fY2FsbGA6IFRvb2wvZnVuY3Rpb24gY2FsbHMgdGhhdCBuZWVkIHRvIGJlIGV4ZWN1dGVkXG4qIC0gYHJlYXNvbmluZ2A6IFJlYXNvbmluZyB0cmFjZXMgZnJvbSByZWFzb25pbmcgbW9kZWxzIChvMSwgbzMsIGV0Yy4pXG4qIC0gYGN1c3RvbV90b29sX2NhbGxgOiBDdXN0b20gdG9vbCBpbnZvY2F0aW9uc1xuKiAtIEJ1aWx0LWluIHRvb2wgb3V0cHV0czogd2ViX3NlYXJjaCwgZmlsZV9zZWFyY2gsIGNvZGVfaW50ZXJwcmV0ZXIsIGV0Yy5cbipcbiogVG9vbCBjYWxscyBhcmUgcGFyc2VkIGFuZCB2YWxpZGF0ZWQuIEludmFsaWQgdG9vbCBjYWxscyAobWFsZm9ybWVkIEpTT04sIGV0Yy4pIGFyZSBjYXB0dXJlZFxuKiBpbiB0aGUgYGludmFsaWRfdG9vbF9jYWxsc2AgYXJyYXkgcmF0aGVyIHRoYW4gdGhyb3dpbmcgZXJyb3JzLlxuKi9cbmNvbnN0IGNvbnZlcnRSZXNwb25zZXNNZXNzYWdlVG9BSU1lc3NhZ2UgPSAocmVzcG9uc2UpID0+IHtcblx0aWYgKHJlc3BvbnNlLmVycm9yKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IocmVzcG9uc2UuZXJyb3IubWVzc2FnZSk7XG5cdFx0ZXJyb3IubmFtZSA9IHJlc3BvbnNlLmVycm9yLmNvZGU7XG5cdFx0dGhyb3cgZXJyb3I7XG5cdH1cblx0bGV0IG1lc3NhZ2VJZDtcblx0Y29uc3QgY29udGVudCA9IFtdO1xuXHRjb25zdCB0b29sX2NhbGxzID0gW107XG5cdGNvbnN0IGludmFsaWRfdG9vbF9jYWxscyA9IFtdO1xuXHRjb25zdCByZXNwb25zZV9tZXRhZGF0YSA9IHtcblx0XHRtb2RlbF9wcm92aWRlcjogXCJvcGVuYWlcIixcblx0XHRtb2RlbDogcmVzcG9uc2UubW9kZWwsXG5cdFx0Y3JlYXRlZF9hdDogcmVzcG9uc2UuY3JlYXRlZF9hdCxcblx0XHRpZDogcmVzcG9uc2UuaWQsXG5cdFx0aW5jb21wbGV0ZV9kZXRhaWxzOiByZXNwb25zZS5pbmNvbXBsZXRlX2RldGFpbHMsXG5cdFx0bWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhLFxuXHRcdG9iamVjdDogcmVzcG9uc2Uub2JqZWN0LFxuXHRcdHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuXHRcdHVzZXI6IHJlc3BvbnNlLnVzZXIsXG5cdFx0c2VydmljZV90aWVyOiByZXNwb25zZS5zZXJ2aWNlX3RpZXIsXG5cdFx0bW9kZWxfbmFtZTogcmVzcG9uc2UubW9kZWxcblx0fTtcblx0Y29uc3QgYWRkaXRpb25hbF9rd2FyZ3MgPSB7fTtcblx0Zm9yIChjb25zdCBpdGVtIG9mIHJlc3BvbnNlLm91dHB1dCkgaWYgKGl0ZW0udHlwZSA9PT0gXCJtZXNzYWdlXCIpIHtcblx0XHRtZXNzYWdlSWQgPSBpdGVtLmlkO1xuXHRcdGNvbnRlbnQucHVzaCguLi5pdGVtLmNvbnRlbnQuZmxhdE1hcCgocGFydCkgPT4ge1xuXHRcdFx0aWYgKHBhcnQudHlwZSA9PT0gXCJvdXRwdXRfdGV4dFwiKSB7XG5cdFx0XHRcdGlmIChcInBhcnNlZFwiIGluIHBhcnQgJiYgcGFydC5wYXJzZWQgIT0gbnVsbCkgYWRkaXRpb25hbF9rd2FyZ3MucGFyc2VkID0gcGFydC5wYXJzZWQ7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHRcdFx0dGV4dDogcGFydC50ZXh0LFxuXHRcdFx0XHRcdGFubm90YXRpb25zOiBwYXJ0LmFubm90YXRpb25zLm1hcChjb252ZXJ0T3BlbkFJQW5ub3RhdGlvblRvTGFuZ0NoYWluKVxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdFx0aWYgKHBhcnQudHlwZSA9PT0gXCJyZWZ1c2FsXCIpIHtcblx0XHRcdFx0YWRkaXRpb25hbF9rd2FyZ3MucmVmdXNhbCA9IHBhcnQucmVmdXNhbDtcblx0XHRcdFx0cmV0dXJuIFtdO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHBhcnQ7XG5cdFx0fSkpO1xuXHR9IGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gXCJmdW5jdGlvbl9jYWxsXCIpIHtcblx0XHRjb25zdCBmbkFkYXB0ZXIgPSB7XG5cdFx0XHRmdW5jdGlvbjoge1xuXHRcdFx0XHRuYW1lOiBpdGVtLm5hbWUsXG5cdFx0XHRcdGFyZ3VtZW50czogaXRlbS5hcmd1bWVudHNcblx0XHRcdH0sXG5cdFx0XHRpZDogaXRlbS5jYWxsX2lkXG5cdFx0fTtcblx0XHR0cnkge1xuXHRcdFx0dG9vbF9jYWxscy5wdXNoKHBhcnNlVG9vbENhbGwoZm5BZGFwdGVyLCB7IHJldHVybklkOiB0cnVlIH0pKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRsZXQgZXJyTWVzc2FnZTtcblx0XHRcdGlmICh0eXBlb2YgZSA9PT0gXCJvYmplY3RcIiAmJiBlICE9IG51bGwgJiYgXCJtZXNzYWdlXCIgaW4gZSAmJiB0eXBlb2YgZS5tZXNzYWdlID09PSBcInN0cmluZ1wiKSBlcnJNZXNzYWdlID0gZS5tZXNzYWdlO1xuXHRcdFx0aW52YWxpZF90b29sX2NhbGxzLnB1c2gobWFrZUludmFsaWRUb29sQ2FsbChmbkFkYXB0ZXIsIGVyck1lc3NhZ2UpKTtcblx0XHR9XG5cdFx0YWRkaXRpb25hbF9rd2FyZ3NbX0ZVTkNUSU9OX0NBTExfSURTX01BUF9LRVldID8/PSB7fTtcblx0XHRpZiAoaXRlbS5pZCkgYWRkaXRpb25hbF9rd2FyZ3NbX0ZVTkNUSU9OX0NBTExfSURTX01BUF9LRVldW2l0ZW0uY2FsbF9pZF0gPSBpdGVtLmlkO1xuXHR9IGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gXCJyZWFzb25pbmdcIikge1xuXHRcdGFkZGl0aW9uYWxfa3dhcmdzLnJlYXNvbmluZyA9IGl0ZW07XG5cdFx0Y29uc3QgcmVhc29uaW5nVGV4dCA9IGl0ZW0uc3VtbWFyeT8ubWFwKChzKSA9PiBzLnRleHQpLmZpbHRlcihCb29sZWFuKS5qb2luKFwiXCIpO1xuXHRcdGlmIChyZWFzb25pbmdUZXh0KSBjb250ZW50LnB1c2goe1xuXHRcdFx0dHlwZTogXCJyZWFzb25pbmdcIixcblx0XHRcdHJlYXNvbmluZzogcmVhc29uaW5nVGV4dFxuXHRcdH0pO1xuXHR9IGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gXCJjdXN0b21fdG9vbF9jYWxsXCIpIHtcblx0XHRjb25zdCBwYXJzZWQgPSBwYXJzZUN1c3RvbVRvb2xDYWxsKGl0ZW0pO1xuXHRcdGlmIChwYXJzZWQpIHRvb2xfY2FsbHMucHVzaChwYXJzZWQpO1xuXHRcdGVsc2UgaW52YWxpZF90b29sX2NhbGxzLnB1c2gobWFrZUludmFsaWRUb29sQ2FsbChpdGVtLCBcIk1hbGZvcm1lZCBjdXN0b20gdG9vbCBjYWxsXCIpKTtcblx0fSBlbHNlIGlmIChpdGVtLnR5cGUgPT09IFwiY29tcHV0ZXJfY2FsbFwiKSB7XG5cdFx0Y29uc3QgcGFyc2VkID0gcGFyc2VDb21wdXRlckNhbGwoaXRlbSk7XG5cdFx0aWYgKHBhcnNlZCkgdG9vbF9jYWxscy5wdXNoKHBhcnNlZCk7XG5cdFx0ZWxzZSBpbnZhbGlkX3Rvb2xfY2FsbHMucHVzaChtYWtlSW52YWxpZFRvb2xDYWxsKGl0ZW0sIFwiTWFsZm9ybWVkIGNvbXB1dGVyIGNhbGxcIikpO1xuXHR9IGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gXCJpbWFnZV9nZW5lcmF0aW9uX2NhbGxcIikge1xuXHRcdGlmIChpdGVtLnJlc3VsdCkgY29udGVudC5wdXNoKHtcblx0XHRcdHR5cGU6IFwiaW1hZ2VcIixcblx0XHRcdG1pbWVUeXBlOiBcImltYWdlL3BuZ1wiLFxuXHRcdFx0ZGF0YTogaXRlbS5yZXN1bHQsXG5cdFx0XHRpZDogaXRlbS5pZCxcblx0XHRcdG1ldGFkYXRhOiB7IHN0YXR1czogaXRlbS5zdGF0dXMgfVxuXHRcdH0pO1xuXHRcdGFkZGl0aW9uYWxfa3dhcmdzLnRvb2xfb3V0cHV0cyA/Pz0gW107XG5cdFx0YWRkaXRpb25hbF9rd2FyZ3MudG9vbF9vdXRwdXRzLnB1c2goaXRlbSk7XG5cdH0gZWxzZSB7XG5cdFx0YWRkaXRpb25hbF9rd2FyZ3MudG9vbF9vdXRwdXRzID8/PSBbXTtcblx0XHRhZGRpdGlvbmFsX2t3YXJncy50b29sX291dHB1dHMucHVzaChpdGVtKTtcblx0fVxuXHRyZXR1cm4gbmV3IEFJTWVzc2FnZSh7XG5cdFx0aWQ6IG1lc3NhZ2VJZCxcblx0XHRjb250ZW50LFxuXHRcdHRvb2xfY2FsbHMsXG5cdFx0aW52YWxpZF90b29sX2NhbGxzLFxuXHRcdHVzYWdlX21ldGFkYXRhOiBjb252ZXJ0UmVzcG9uc2VzVXNhZ2VUb1VzYWdlTWV0YWRhdGEocmVzcG9uc2UudXNhZ2UpLFxuXHRcdGFkZGl0aW9uYWxfa3dhcmdzLFxuXHRcdHJlc3BvbnNlX21ldGFkYXRhXG5cdH0pO1xufTtcbi8qKlxuKiBDb252ZXJ0cyBhIExhbmdDaGFpbiBDaGF0T3BlbkFJIHJlYXNvbmluZyBzdW1tYXJ5IHRvIGFuIE9wZW5BSSBSZXNwb25zZXMgQVBJIHJlYXNvbmluZyBpdGVtLlxuKlxuKiBUaGlzIGNvbnZlcnRlciB0cmFuc2Zvcm1zIHJlYXNvbmluZyBzdW1tYXJpZXMgdGhhdCBoYXZlIGJlZW4gYWNjdW11bGF0ZWQgZHVyaW5nIHN0cmVhbWluZ1xuKiAod2hlcmUgc3VtbWFyeSBwYXJ0cyBtYXkgYXJyaXZlIGluIG11bHRpcGxlIGNodW5rcyB3aXRoIHRoZSBzYW1lIGluZGV4KSBpbnRvIHRoZSBmaW5hbFxuKiBjb25zb2xpZGF0ZWQgZm9ybWF0IGV4cGVjdGVkIGJ5IE9wZW5BSSdzIFJlc3BvbnNlcyBBUEkuIEl0IGNvbWJpbmVzIHN1bW1hcnkgcGFydHMgdGhhdFxuKiBzaGFyZSB0aGUgc2FtZSBpbmRleCBhbmQgcmVtb3ZlcyB0aGUgaW5kZXggZmllbGQgZnJvbSB0aGUgZmluYWwgb3V0cHV0LlxuKlxuKiBAcGFyYW0gcmVhc29uaW5nIC0gQSBDaGF0T3BlbkFJIHJlYXNvbmluZyBzdW1tYXJ5IG9iamVjdCBjb250YWluaW5nOlxuKiAgIC0gYGlkYDogVGhlIHJlYXNvbmluZyBpdGVtIElEXG4qICAgLSBgdHlwZWA6IFRoZSB0eXBlIG9mIHJlYXNvbmluZyAodHlwaWNhbGx5IFwicmVhc29uaW5nXCIpXG4qICAgLSBgc3VtbWFyeWA6IEFycmF5IG9mIHN1bW1hcnkgcGFydHMsIGVhY2ggd2l0aDpcbiogICAgIC0gYHRleHRgOiBUaGUgc3VtbWFyeSB0ZXh0IGNvbnRlbnRcbiogICAgIC0gYHR5cGVgOiBUaGUgc3VtbWFyeSB0eXBlIChlLmcuLCBcInN1bW1hcnlfdGV4dFwiKVxuKiAgICAgLSBgaW5kZXhgOiBUaGUgaW5kZXggdXNlZCB0byBncm91cCByZWxhdGVkIHN1bW1hcnkgcGFydHMgZHVyaW5nIHN0cmVhbWluZ1xuKlxuKiBAcmV0dXJucyBBbiBPcGVuQUkgUmVzcG9uc2VzIEFQSSBSZXNwb25zZVJlYXNvbmluZ0l0ZW0gd2l0aDpcbiogICAtIEFsbCBwcm9wZXJ0aWVzIGZyb20gdGhlIGlucHV0IHJlYXNvbmluZyBvYmplY3RcbiogICAtIGBzdW1tYXJ5YDogQ29uc29saWRhdGVkIGFycmF5IG9mIHN1bW1hcnkgb2JqZWN0cyB3aXRoOlxuKiAgICAgLSBgdGV4dGA6IENvbWJpbmVkIHRleHQgZnJvbSBhbGwgcGFydHMgd2l0aCB0aGUgc2FtZSBpbmRleFxuKiAgICAgLSBgdHlwZWA6IFRoZSBzdW1tYXJ5IHR5cGVcbiogICAgIC0gTm8gYGluZGV4YCBmaWVsZCAocmVtb3ZlZCBhZnRlciBjb25zb2xpZGF0aW9uKVxuKlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIC8vIElucHV0OiBSZWFzb25pbmcgc3VtbWFyeSB3aXRoIG11bHRpcGxlIHBhcnRzIGF0IHRoZSBzYW1lIGluZGV4XG4qIGNvbnN0IHJlYXNvbmluZyA9IHtcbiogICBpZDogXCJyZWFzb25pbmdfMTIzXCIsXG4qICAgdHlwZTogXCJyZWFzb25pbmdcIixcbiogICBzdW1tYXJ5OiBbXG4qICAgICB7IHRleHQ6IFwiRmlyc3QgXCIsIHR5cGU6IFwic3VtbWFyeV90ZXh0XCIsIGluZGV4OiAwIH0sXG4qICAgICB7IHRleHQ6IFwicGFydFwiLCB0eXBlOiBcInN1bW1hcnlfdGV4dFwiLCBpbmRleDogMCB9LFxuKiAgICAgeyB0ZXh0OiBcIlNlY29uZCBwYXJ0XCIsIHR5cGU6IFwic3VtbWFyeV90ZXh0XCIsIGluZGV4OiAxIH1cbiogICBdXG4qIH07XG4qXG4qIGNvbnN0IHJlc3VsdCA9IGNvbnZlcnRSZWFzb25pbmdTdW1tYXJ5VG9SZXNwb25zZXNSZWFzb25pbmdJdGVtKHJlYXNvbmluZyk7XG4qIC8vIFJldHVybnM6XG4qIC8vIHtcbiogLy8gICBpZDogXCJyZWFzb25pbmdfMTIzXCIsXG4qIC8vICAgdHlwZTogXCJyZWFzb25pbmdcIixcbiogLy8gICBzdW1tYXJ5OiBbXG4qIC8vICAgICB7IHRleHQ6IFwiRmlyc3QgcGFydFwiLCB0eXBlOiBcInN1bW1hcnlfdGV4dFwiIH0sXG4qIC8vICAgICB7IHRleHQ6IFwiU2Vjb25kIHBhcnRcIiwgdHlwZTogXCJzdW1tYXJ5X3RleHRcIiB9XG4qIC8vICAgXVxuKiAvLyB9XG4qIGBgYFxuKlxuKiBAcmVtYXJrc1xuKiAtIFRoaXMgY29udmVydGVyIGlzIHByaW1hcmlseSB1c2VkIHdoZW4gcmVjb25zdHJ1Y3RpbmcgY29tcGxldGUgcmVhc29uaW5nIGl0ZW1zIGZyb21cbiogICBzdHJlYW1pbmcgY2h1bmtzLCB3aGVyZSBzdW1tYXJ5IHBhcnRzIG1heSBhcnJpdmUgaW5jcmVtZW50YWxseSB3aXRoIGluZGV4IG1hcmtlcnNcbiogLSBTdW1tYXJ5IHBhcnRzIHdpdGggdGhlIHNhbWUgaW5kZXggYXJlIGNvbmNhdGVuYXRlZCBpbiB0aGUgb3JkZXIgdGhleSBhcHBlYXJcbiogLSBJZiB0aGUgcmVhc29uaW5nIHN1bW1hcnkgY29udGFpbnMgb25seSBvbmUgcGFydCwgbm8gcmVkdWN0aW9uIGlzIHBlcmZvcm1lZFxuKiAtIFRoZSBpbmRleCBmaWVsZCBpcyB1c2VkIGludGVybmFsbHkgZHVyaW5nIHN0cmVhbWluZyB0byB0cmFjayB3aGljaCBzdW1tYXJ5IHBhcnRzXG4qICAgYmVsb25nIHRvZ2V0aGVyLCBidXQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBmaW5hbCBvdXRwdXQgYXMgaXQncyBub3QgcGFydCBvZiB0aGVcbiogICBPcGVuQUkgUmVzcG9uc2VzIEFQSSBzY2hlbWFcbiogLSBUaGlzIGlzIHRoZSBpbnZlcnNlIG9wZXJhdGlvbiBvZiB0aGUgc3RyZWFtaW5nIGFjY3VtdWxhdGlvbiB0aGF0IGhhcHBlbnMgaW5cbiogICBgY29udmVydFJlc3BvbnNlc0RlbHRhVG9DaGF0R2VuZXJhdGlvbkNodW5rYFxuKi9cbmNvbnN0IGNvbnZlcnRSZWFzb25pbmdTdW1tYXJ5VG9SZXNwb25zZXNSZWFzb25pbmdJdGVtID0gKHJlYXNvbmluZykgPT4ge1xuXHRjb25zdCBzdW1tYXJ5ID0gKHJlYXNvbmluZy5zdW1tYXJ5Lmxlbmd0aCA+IDEgPyByZWFzb25pbmcuc3VtbWFyeS5yZWR1Y2UoKGFjYywgY3VycikgPT4ge1xuXHRcdGNvbnN0IGxhc3QgPSBhY2NbYWNjLmxlbmd0aCAtIDFdO1xuXHRcdGlmIChsYXN0LmluZGV4ID09PSBjdXJyLmluZGV4KSBsYXN0LnRleHQgKz0gY3Vyci50ZXh0O1xuXHRcdGVsc2UgYWNjLnB1c2goY3Vycik7XG5cdFx0cmV0dXJuIGFjYztcblx0fSwgW3sgLi4ucmVhc29uaW5nLnN1bW1hcnlbMF0gfV0pIDogcmVhc29uaW5nLnN1bW1hcnkpLm1hcCgocykgPT4gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHMpLmZpbHRlcigoW2tdKSA9PiBrICE9PSBcImluZGV4XCIpKSk7XG5cdHJldHVybiB7XG5cdFx0Li4ucmVhc29uaW5nLFxuXHRcdHN1bW1hcnlcblx0fTtcbn07XG4vKipcbiogQ29udmVydHMgT3BlbkFJIFJlc3BvbnNlcyBBUEkgc3RyZWFtIGV2ZW50cyB0byBMYW5nQ2hhaW4gQ2hhdEdlbmVyYXRpb25DaHVuayBvYmplY3RzLlxuKlxuKiBUaGlzIGNvbnZlcnRlciBwcm9jZXNzZXMgc3RyZWFtaW5nIGV2ZW50cyBmcm9tIE9wZW5BSSdzIFJlc3BvbnNlcyBBUEkgYW5kIHRyYW5zZm9ybXMgdGhlbVxuKiBpbnRvIExhbmdDaGFpbiBDaGF0R2VuZXJhdGlvbkNodW5rIG9iamVjdHMgdGhhdCBjYW4gYmUgdXNlZCBpbiBzdHJlYW1pbmcgY2hhdCBhcHBsaWNhdGlvbnMuXG4qIEl0IGhhbmRsZXMgdmFyaW91cyBldmVudCB0eXBlcyBpbmNsdWRpbmcgdGV4dCBkZWx0YXMsIHRvb2wgY2FsbHMsIHJlYXNvbmluZywgYW5kIG1ldGFkYXRhIHVwZGF0ZXMuXG4qXG4qIEBwYXJhbSBldmVudCAtIEEgc3RyZWFtaW5nIGV2ZW50IGZyb20gT3BlbkFJJ3MgUmVzcG9uc2VzIEFQSVxuKlxuKiBAcmV0dXJucyBBIENoYXRHZW5lcmF0aW9uQ2h1bmsgY29udGFpbmluZzpcbiogICAtIGB0ZXh0YDogQ29uY2F0ZW5hdGVkIHRleHQgY29udGVudCBmcm9tIGFsbCB0ZXh0IHBhcnRzIGluIHRoZSBldmVudFxuKiAgIC0gYG1lc3NhZ2VgOiBBbiBBSU1lc3NhZ2VDaHVuayB3aXRoOlxuKiAgICAgLSBgaWRgOiBNZXNzYWdlIElEIChzZXQgd2hlbiBhIG1lc3NhZ2Ugb3V0cHV0IGl0ZW0gaXMgYWRkZWQpXG4qICAgICAtIGBjb250ZW50YDogQXJyYXkgb2YgY29udGVudCBibG9ja3MgKHRleHQgd2l0aCBvcHRpb25hbCBhbm5vdGF0aW9ucylcbiogICAgIC0gYHRvb2xfY2FsbF9jaHVua3NgOiBJbmNyZW1lbnRhbCB0b29sIGNhbGwgZGF0YSAobmFtZSwgYXJncywgaWQpXG4qICAgICAtIGB1c2FnZV9tZXRhZGF0YWA6IFRva2VuIHVzYWdlIGluZm9ybWF0aW9uIChvbmx5IGluIGNvbXBsZXRpb24gZXZlbnRzKVxuKiAgICAgLSBgYWRkaXRpb25hbF9rd2FyZ3NgOiBFeHRyYSBkYXRhIGluY2x1ZGluZzpcbiogICAgICAgLSBgcmVmdXNhbGA6IFJlZnVzYWwgdGV4dCBpZiB0aGUgbW9kZWwgcmVmdXNlZCB0byByZXNwb25kXG4qICAgICAgIC0gYHJlYXNvbmluZ2A6IFJlYXNvbmluZyBvdXRwdXQgZm9yIHJlYXNvbmluZyBtb2RlbHMgKGlkLCB0eXBlLCBzdW1tYXJ5KVxuKiAgICAgICAtIGB0b29sX291dHB1dHNgOiBSZXN1bHRzIGZyb20gYnVpbHQtaW4gdG9vbHMgKHdlYiBzZWFyY2gsIGZpbGUgc2VhcmNoLCBldGMuKVxuKiAgICAgICAtIGBwYXJzZWRgOiBQYXJzZWQgc3RydWN0dXJlZCBvdXRwdXQgd2hlbiB1c2luZyBqc29uX3NjaGVtYSBmb3JtYXRcbiogICAgICAgLSBGdW5jdGlvbiBjYWxsIElEIG1hcHBpbmdzIGZvciB0cmFja2luZ1xuKiAgICAgLSBgcmVzcG9uc2VfbWV0YWRhdGFgOiBNZXRhZGF0YSBhYm91dCB0aGUgcmVzcG9uc2UgKG1vZGVsLCBpZCwgZXRjLilcbiogICAtIGBnZW5lcmF0aW9uSW5mb2A6IEFkZGl0aW9uYWwgZ2VuZXJhdGlvbiBpbmZvcm1hdGlvbiAoZS5nLiwgdG9vbCBvdXRwdXQgc3RhdHVzKVxuKlxuKiAgIFJldHVybnMgYG51bGxgIGZvciBldmVudHMgdGhhdCBkb24ndCBwcm9kdWNlIG1lYW5pbmdmdWwgY2h1bmtzOlxuKiAgIC0gUGFydGlhbCBpbWFnZSBnZW5lcmF0aW9uIGV2ZW50cyAodG8gYXZvaWQgc3RvcmluZyBhbGwgcGFydGlhbCBpbWFnZXMgaW4gaGlzdG9yeSlcbiogICAtIFVucmVjb2duaXplZCBldmVudCB0eXBlc1xuKlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIGNvbnN0IHN0cmVhbSA9IGF3YWl0IGNsaWVudC5yZXNwb25zZXMuY3JlYXRlKHtcbiogICBtb2RlbDogXCJncHQtNFwiLFxuKiAgIGlucHV0OiBbeyB0eXBlOiBcIm1lc3NhZ2VcIiwgY29udGVudDogXCJIZWxsb1wiIH1dLFxuKiAgIHN0cmVhbTogdHJ1ZVxuKiB9KTtcbipcbiogZm9yIGF3YWl0IChjb25zdCBldmVudCBvZiBzdHJlYW0pIHtcbiogICBjb25zdCBjaHVuayA9IGNvbnZlcnRSZXNwb25zZXNEZWx0YVRvQ2hhdEdlbmVyYXRpb25DaHVuayhldmVudCk7XG4qICAgaWYgKGNodW5rKSB7XG4qICAgICBjb25zb2xlLmxvZyhjaHVuay50ZXh0KTsgLy8gSW5jcmVtZW50YWwgdGV4dFxuKiAgICAgY29uc29sZS5sb2coY2h1bmsubWVzc2FnZS50b29sX2NhbGxfY2h1bmtzKTsgLy8gVG9vbCBjYWxsIHVwZGF0ZXNcbiogICB9XG4qIH1cbiogYGBgXG4qXG4qIEByZW1hcmtzXG4qIC0gVGV4dCBjb250ZW50IGlzIGFjY3VtdWxhdGVkIGluIGFuIGFycmF5IHdpdGggaW5kZXggdHJhY2tpbmcgZm9yIHByb3BlciBvcmRlcmluZ1xuKiAtIFRvb2wgY2FsbCBjaHVua3MgaW5jbHVkZSBpbmNyZW1lbnRhbCBhcmd1bWVudHMgdGhhdCBuZWVkIHRvIGJlIGNvbmNhdGVuYXRlZCBieSB0aGUgY29uc3VtZXJcbiogLSBSZWFzb25pbmcgc3VtbWFyaWVzIGFyZSBidWlsdCBpbmNyZW1lbnRhbGx5IGFjcm9zcyBtdWx0aXBsZSBldmVudHNcbiogLSBGdW5jdGlvbiBjYWxsIElEcyBhcmUgdHJhY2tlZCBpbiBgYWRkaXRpb25hbF9rd2FyZ3NgIHRvIG1hcCBjYWxsX2lkIHRvIGl0ZW0gaWRcbiogLSBUaGUgYHRleHRgIGZpZWxkIGlzIHByb3ZpZGVkIGZvciBsZWdhY3kgY29tcGF0aWJpbGl0eSB3aXRoIGBvbkxMTU5ld1Rva2VuYCBjYWxsYmFja3NcbiogLSBVc2FnZSBtZXRhZGF0YSBpcyBvbmx5IGF2YWlsYWJsZSBpbiBgcmVzcG9uc2UuY29tcGxldGVkYCBldmVudHNcbiogLSBQYXJ0aWFsIGltYWdlcyBhcmUgaW50ZW50aW9uYWxseSBpZ25vcmVkIHRvIHByZXZlbnQgbWVtb3J5IGJsb2F0IGluIGNvbnZlcnNhdGlvbiBoaXN0b3J5XG4qL1xuY29uc3QgY29udmVydFJlc3BvbnNlc0RlbHRhVG9DaGF0R2VuZXJhdGlvbkNodW5rID0gKGV2ZW50KSA9PiB7XG5cdGNvbnN0IGNvbnRlbnQgPSBbXTtcblx0bGV0IGdlbmVyYXRpb25JbmZvID0ge307XG5cdGxldCB1c2FnZV9tZXRhZGF0YTtcblx0Y29uc3QgdG9vbF9jYWxsX2NodW5rcyA9IFtdO1xuXHRjb25zdCByZXNwb25zZV9tZXRhZGF0YSA9IHsgbW9kZWxfcHJvdmlkZXI6IFwib3BlbmFpXCIgfTtcblx0Y29uc3QgYWRkaXRpb25hbF9rd2FyZ3MgPSB7fTtcblx0bGV0IGlkO1xuXHRpZiAoZXZlbnQudHlwZSA9PT0gXCJyZXNwb25zZS5vdXRwdXRfdGV4dC5kZWx0YVwiKSBjb250ZW50LnB1c2goe1xuXHRcdHR5cGU6IFwidGV4dFwiLFxuXHRcdHRleHQ6IGV2ZW50LmRlbHRhLFxuXHRcdGluZGV4OiBldmVudC5jb250ZW50X2luZGV4XG5cdH0pO1xuXHRlbHNlIGlmIChldmVudC50eXBlID09PSBcInJlc3BvbnNlLm91dHB1dF90ZXh0LmFubm90YXRpb24uYWRkZWRcIikgY29udGVudC5wdXNoKHtcblx0XHR0eXBlOiBcInRleHRcIixcblx0XHR0ZXh0OiBcIlwiLFxuXHRcdGFubm90YXRpb25zOiBbY29udmVydE9wZW5BSUFubm90YXRpb25Ub0xhbmdDaGFpbihldmVudC5hbm5vdGF0aW9uKV0sXG5cdFx0aW5kZXg6IGV2ZW50LmNvbnRlbnRfaW5kZXhcblx0fSk7XG5cdGVsc2UgaWYgKGV2ZW50LnR5cGUgPT09IFwicmVzcG9uc2Uub3V0cHV0X2l0ZW0uYWRkZWRcIiAmJiBldmVudC5pdGVtLnR5cGUgPT09IFwibWVzc2FnZVwiKSBpZCA9IGV2ZW50Lml0ZW0uaWQ7XG5cdGVsc2UgaWYgKGV2ZW50LnR5cGUgPT09IFwicmVzcG9uc2Uub3V0cHV0X2l0ZW0uYWRkZWRcIiAmJiBldmVudC5pdGVtLnR5cGUgPT09IFwiZnVuY3Rpb25fY2FsbFwiKSB7XG5cdFx0dG9vbF9jYWxsX2NodW5rcy5wdXNoKHtcblx0XHRcdHR5cGU6IFwidG9vbF9jYWxsX2NodW5rXCIsXG5cdFx0XHRuYW1lOiBldmVudC5pdGVtLm5hbWUsXG5cdFx0XHRhcmdzOiBldmVudC5pdGVtLmFyZ3VtZW50cyxcblx0XHRcdGlkOiBldmVudC5pdGVtLmNhbGxfaWQsXG5cdFx0XHRpbmRleDogZXZlbnQub3V0cHV0X2luZGV4XG5cdFx0fSk7XG5cdFx0YWRkaXRpb25hbF9rd2FyZ3NbX0ZVTkNUSU9OX0NBTExfSURTX01BUF9LRVldID0geyBbZXZlbnQuaXRlbS5jYWxsX2lkXTogZXZlbnQuaXRlbS5pZCB9O1xuXHR9IGVsc2UgaWYgKGV2ZW50LnR5cGUgPT09IFwicmVzcG9uc2Uub3V0cHV0X2l0ZW0uZG9uZVwiICYmIGV2ZW50Lml0ZW0udHlwZSA9PT0gXCJjb21wdXRlcl9jYWxsXCIpIHtcblx0XHR0b29sX2NhbGxfY2h1bmtzLnB1c2goe1xuXHRcdFx0dHlwZTogXCJ0b29sX2NhbGxfY2h1bmtcIixcblx0XHRcdG5hbWU6IFwiY29tcHV0ZXJfdXNlXCIsXG5cdFx0XHRhcmdzOiBKU09OLnN0cmluZ2lmeSh7IGFjdGlvbjogZXZlbnQuaXRlbS5hY3Rpb24gfSksXG5cdFx0XHRpZDogZXZlbnQuaXRlbS5jYWxsX2lkLFxuXHRcdFx0aW5kZXg6IGV2ZW50Lm91dHB1dF9pbmRleFxuXHRcdH0pO1xuXHRcdGFkZGl0aW9uYWxfa3dhcmdzLnRvb2xfb3V0cHV0cyA9IFtldmVudC5pdGVtXTtcblx0fSBlbHNlIGlmIChldmVudC50eXBlID09PSBcInJlc3BvbnNlLm91dHB1dF9pdGVtLmRvbmVcIiAmJiBldmVudC5pdGVtLnR5cGUgPT09IFwiaW1hZ2VfZ2VuZXJhdGlvbl9jYWxsXCIpIHtcblx0XHRpZiAoZXZlbnQuaXRlbS5yZXN1bHQpIGNvbnRlbnQucHVzaCh7XG5cdFx0XHR0eXBlOiBcImltYWdlXCIsXG5cdFx0XHRtaW1lVHlwZTogXCJpbWFnZS9wbmdcIixcblx0XHRcdGRhdGE6IGV2ZW50Lml0ZW0ucmVzdWx0LFxuXHRcdFx0aWQ6IGV2ZW50Lml0ZW0uaWQsXG5cdFx0XHRtZXRhZGF0YTogeyBzdGF0dXM6IGV2ZW50Lml0ZW0uc3RhdHVzIH1cblx0XHR9KTtcblx0XHRhZGRpdGlvbmFsX2t3YXJncy50b29sX291dHB1dHMgPSBbZXZlbnQuaXRlbV07XG5cdH0gZWxzZSBpZiAoZXZlbnQudHlwZSA9PT0gXCJyZXNwb25zZS5vdXRwdXRfaXRlbS5kb25lXCIgJiYgW1xuXHRcdFwid2ViX3NlYXJjaF9jYWxsXCIsXG5cdFx0XCJmaWxlX3NlYXJjaF9jYWxsXCIsXG5cdFx0XCJjb2RlX2ludGVycHJldGVyX2NhbGxcIixcblx0XHRcIm1jcF9jYWxsXCIsXG5cdFx0XCJtY3BfbGlzdF90b29sc1wiLFxuXHRcdFwibWNwX2FwcHJvdmFsX3JlcXVlc3RcIixcblx0XHRcImN1c3RvbV90b29sX2NhbGxcIlxuXHRdLmluY2x1ZGVzKGV2ZW50Lml0ZW0udHlwZSkpIGFkZGl0aW9uYWxfa3dhcmdzLnRvb2xfb3V0cHV0cyA9IFtldmVudC5pdGVtXTtcblx0ZWxzZSBpZiAoZXZlbnQudHlwZSA9PT0gXCJyZXNwb25zZS5jcmVhdGVkXCIpIHtcblx0XHRyZXNwb25zZV9tZXRhZGF0YS5pZCA9IGV2ZW50LnJlc3BvbnNlLmlkO1xuXHRcdHJlc3BvbnNlX21ldGFkYXRhLm1vZGVsX25hbWUgPSBldmVudC5yZXNwb25zZS5tb2RlbDtcblx0XHRyZXNwb25zZV9tZXRhZGF0YS5tb2RlbCA9IGV2ZW50LnJlc3BvbnNlLm1vZGVsO1xuXHR9IGVsc2UgaWYgKGV2ZW50LnR5cGUgPT09IFwicmVzcG9uc2UuY29tcGxldGVkXCIpIHtcblx0XHRjb25zdCBtc2cgPSBjb252ZXJ0UmVzcG9uc2VzTWVzc2FnZVRvQUlNZXNzYWdlKGV2ZW50LnJlc3BvbnNlKTtcblx0XHR1c2FnZV9tZXRhZGF0YSA9IGNvbnZlcnRSZXNwb25zZXNVc2FnZVRvVXNhZ2VNZXRhZGF0YShldmVudC5yZXNwb25zZS51c2FnZSk7XG5cdFx0aWYgKGV2ZW50LnJlc3BvbnNlLnRleHQ/LmZvcm1hdD8udHlwZSA9PT0gXCJqc29uX3NjaGVtYVwiKSBhZGRpdGlvbmFsX2t3YXJncy5wYXJzZWQgPz89IEpTT04ucGFyc2UobXNnLnRleHQpO1xuXHRcdGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGV2ZW50LnJlc3BvbnNlKSkgaWYgKGtleSAhPT0gXCJpZFwiKSByZXNwb25zZV9tZXRhZGF0YVtrZXldID0gdmFsdWU7XG5cdH0gZWxzZSBpZiAoZXZlbnQudHlwZSA9PT0gXCJyZXNwb25zZS5mdW5jdGlvbl9jYWxsX2FyZ3VtZW50cy5kZWx0YVwiIHx8IGV2ZW50LnR5cGUgPT09IFwicmVzcG9uc2UuY3VzdG9tX3Rvb2xfY2FsbF9pbnB1dC5kZWx0YVwiKSB0b29sX2NhbGxfY2h1bmtzLnB1c2goe1xuXHRcdHR5cGU6IFwidG9vbF9jYWxsX2NodW5rXCIsXG5cdFx0YXJnczogZXZlbnQuZGVsdGEsXG5cdFx0aW5kZXg6IGV2ZW50Lm91dHB1dF9pbmRleFxuXHR9KTtcblx0ZWxzZSBpZiAoZXZlbnQudHlwZSA9PT0gXCJyZXNwb25zZS53ZWJfc2VhcmNoX2NhbGwuY29tcGxldGVkXCIgfHwgZXZlbnQudHlwZSA9PT0gXCJyZXNwb25zZS5maWxlX3NlYXJjaF9jYWxsLmNvbXBsZXRlZFwiKSBnZW5lcmF0aW9uSW5mbyA9IHsgdG9vbF9vdXRwdXRzOiB7XG5cdFx0aWQ6IGV2ZW50Lml0ZW1faWQsXG5cdFx0dHlwZTogZXZlbnQudHlwZS5yZXBsYWNlKFwicmVzcG9uc2UuXCIsIFwiXCIpLnJlcGxhY2UoXCIuY29tcGxldGVkXCIsIFwiXCIpLFxuXHRcdHN0YXR1czogXCJjb21wbGV0ZWRcIlxuXHR9IH07XG5cdGVsc2UgaWYgKGV2ZW50LnR5cGUgPT09IFwicmVzcG9uc2UucmVmdXNhbC5kb25lXCIpIGFkZGl0aW9uYWxfa3dhcmdzLnJlZnVzYWwgPSBldmVudC5yZWZ1c2FsO1xuXHRlbHNlIGlmIChldmVudC50eXBlID09PSBcInJlc3BvbnNlLm91dHB1dF9pdGVtLmFkZGVkXCIgJiYgXCJpdGVtXCIgaW4gZXZlbnQgJiYgZXZlbnQuaXRlbS50eXBlID09PSBcInJlYXNvbmluZ1wiKSB7XG5cdFx0Y29uc3Qgc3VtbWFyeSA9IGV2ZW50Lml0ZW0uc3VtbWFyeSA/IGV2ZW50Lml0ZW0uc3VtbWFyeS5tYXAoKHMsIGluZGV4KSA9PiAoe1xuXHRcdFx0Li4ucyxcblx0XHRcdGluZGV4XG5cdFx0fSkpIDogdm9pZCAwO1xuXHRcdGFkZGl0aW9uYWxfa3dhcmdzLnJlYXNvbmluZyA9IHtcblx0XHRcdGlkOiBldmVudC5pdGVtLmlkLFxuXHRcdFx0dHlwZTogZXZlbnQuaXRlbS50eXBlLFxuXHRcdFx0Li4uc3VtbWFyeSA/IHsgc3VtbWFyeSB9IDoge31cblx0XHR9O1xuXHRcdGNvbnN0IHJlYXNvbmluZ1RleHQgPSBldmVudC5pdGVtLnN1bW1hcnk/Lm1hcCgocykgPT4gcy50ZXh0KS5maWx0ZXIoQm9vbGVhbikuam9pbihcIlwiKTtcblx0XHRpZiAocmVhc29uaW5nVGV4dCkgY29udGVudC5wdXNoKHtcblx0XHRcdHR5cGU6IFwicmVhc29uaW5nXCIsXG5cdFx0XHRyZWFzb25pbmc6IHJlYXNvbmluZ1RleHRcblx0XHR9KTtcblx0fSBlbHNlIGlmIChldmVudC50eXBlID09PSBcInJlc3BvbnNlLnJlYXNvbmluZ19zdW1tYXJ5X3BhcnQuYWRkZWRcIikge1xuXHRcdGFkZGl0aW9uYWxfa3dhcmdzLnJlYXNvbmluZyA9IHtcblx0XHRcdHR5cGU6IFwicmVhc29uaW5nXCIsXG5cdFx0XHRzdW1tYXJ5OiBbe1xuXHRcdFx0XHQuLi5ldmVudC5wYXJ0LFxuXHRcdFx0XHRpbmRleDogZXZlbnQuc3VtbWFyeV9pbmRleFxuXHRcdFx0fV1cblx0XHR9O1xuXHRcdGlmIChldmVudC5wYXJ0LnRleHQpIGNvbnRlbnQucHVzaCh7XG5cdFx0XHR0eXBlOiBcInJlYXNvbmluZ1wiLFxuXHRcdFx0cmVhc29uaW5nOiBldmVudC5wYXJ0LnRleHRcblx0XHR9KTtcblx0fSBlbHNlIGlmIChldmVudC50eXBlID09PSBcInJlc3BvbnNlLnJlYXNvbmluZ19zdW1tYXJ5X3RleHQuZGVsdGFcIikge1xuXHRcdGFkZGl0aW9uYWxfa3dhcmdzLnJlYXNvbmluZyA9IHtcblx0XHRcdHR5cGU6IFwicmVhc29uaW5nXCIsXG5cdFx0XHRzdW1tYXJ5OiBbe1xuXHRcdFx0XHR0ZXh0OiBldmVudC5kZWx0YSxcblx0XHRcdFx0dHlwZTogXCJzdW1tYXJ5X3RleHRcIixcblx0XHRcdFx0aW5kZXg6IGV2ZW50LnN1bW1hcnlfaW5kZXhcblx0XHRcdH1dXG5cdFx0fTtcblx0XHRpZiAoZXZlbnQuZGVsdGEpIGNvbnRlbnQucHVzaCh7XG5cdFx0XHR0eXBlOiBcInJlYXNvbmluZ1wiLFxuXHRcdFx0cmVhc29uaW5nOiBldmVudC5kZWx0YVxuXHRcdH0pO1xuXHR9IGVsc2UgaWYgKGV2ZW50LnR5cGUgPT09IFwicmVzcG9uc2UuaW1hZ2VfZ2VuZXJhdGlvbl9jYWxsLnBhcnRpYWxfaW1hZ2VcIikgcmV0dXJuIG51bGw7XG5cdGVsc2UgcmV0dXJuIG51bGw7XG5cdHJldHVybiBuZXcgQ2hhdEdlbmVyYXRpb25DaHVuayh7XG5cdFx0dGV4dDogY29udGVudC5tYXAoKHBhcnQpID0+IHBhcnQudGV4dCkuam9pbihcIlwiKSxcblx0XHRtZXNzYWdlOiBuZXcgQUlNZXNzYWdlQ2h1bmsoe1xuXHRcdFx0aWQsXG5cdFx0XHRjb250ZW50LFxuXHRcdFx0dG9vbF9jYWxsX2NodW5rcyxcblx0XHRcdHVzYWdlX21ldGFkYXRhLFxuXHRcdFx0YWRkaXRpb25hbF9rd2FyZ3MsXG5cdFx0XHRyZXNwb25zZV9tZXRhZGF0YVxuXHRcdH0pLFxuXHRcdGdlbmVyYXRpb25JbmZvXG5cdH0pO1xufTtcbi8qKlxuKiBDb252ZXJ0cyBhIHNpbmdsZSBMYW5nQ2hhaW4gQmFzZU1lc3NhZ2UgdG8gT3BlbkFJIFJlc3BvbnNlcyBBUEkgaW5wdXQgZm9ybWF0LlxuKlxuKiBUaGlzIGNvbnZlcnRlciB0cmFuc2Zvcm1zIGEgTGFuZ0NoYWluIG1lc3NhZ2UgaW50byBvbmUgb3IgbW9yZSBSZXNwb25zZUlucHV0SXRlbSBvYmplY3RzXG4qIHRoYXQgY2FuIGJlIHVzZWQgd2l0aCBPcGVuQUkncyBSZXNwb25zZXMgQVBJLiBJdCBoYW5kbGVzIGNvbXBsZXggbWVzc2FnZSBzdHJ1Y3R1cmVzIGluY2x1ZGluZ1xuKiB0b29sIGNhbGxzLCByZWFzb25pbmcgYmxvY2tzLCBtdWx0aW1vZGFsIGNvbnRlbnQsIGFuZCB2YXJpb3VzIGNvbnRlbnQgYmxvY2sgdHlwZXMuXG4qXG4qIEBwYXJhbSBtZXNzYWdlIC0gVGhlIExhbmdDaGFpbiBCYXNlTWVzc2FnZSB0byBjb252ZXJ0LiBDYW4gYmUgYW55IG1lc3NhZ2UgdHlwZSBpbmNsdWRpbmdcbiogICBIdW1hbk1lc3NhZ2UsIEFJTWVzc2FnZSwgU3lzdGVtTWVzc2FnZSwgVG9vbE1lc3NhZ2UsIGV0Yy5cbipcbiogQHJldHVybnMgQW4gYXJyYXkgb2YgUmVzcG9uc2VJbnB1dEl0ZW0gb2JqZWN0cy5cbipcbiogQGV4YW1wbGVcbiogQmFzaWMgdGV4dCBtZXNzYWdlIGNvbnZlcnNpb246XG4qIGBgYHR5cGVzY3JpcHRcbiogY29uc3QgbWVzc2FnZSA9IG5ldyBIdW1hbk1lc3NhZ2UoXCJIZWxsbywgaG93IGFyZSB5b3U/XCIpO1xuKiBjb25zdCBpdGVtcyA9IGNvbnZlcnRTdGFuZGFyZENvbnRlbnRNZXNzYWdlVG9SZXNwb25zZXNJbnB1dChtZXNzYWdlKTtcbiogLy8gUmV0dXJuczogW3sgdHlwZTogXCJtZXNzYWdlXCIsIHJvbGU6IFwidXNlclwiLCBjb250ZW50OiBbeyB0eXBlOiBcImlucHV0X3RleHRcIiwgdGV4dDogXCJIZWxsbywgaG93IGFyZSB5b3U/XCIgfV0gfV1cbiogYGBgXG4qXG4qIEBleGFtcGxlXG4qIEFJIG1lc3NhZ2Ugd2l0aCB0b29sIGNhbGxzOlxuKiBgYGB0eXBlc2NyaXB0XG4qIGNvbnN0IG1lc3NhZ2UgPSBuZXcgQUlNZXNzYWdlKHtcbiogICBjb250ZW50OiBcIkknbGwgY2hlY2sgdGhlIHdlYXRoZXIgZm9yIHlvdS5cIixcbiogICB0b29sX2NhbGxzOiBbe1xuKiAgICAgaWQ6IFwiY2FsbF8xMjNcIixcbiogICAgIG5hbWU6IFwiZ2V0X3dlYXRoZXJcIixcbiogICAgIGFyZ3M6IHsgbG9jYXRpb246IFwiU2FuIEZyYW5jaXNjb1wiIH1cbiogICB9XVxuKiB9KTtcbiogY29uc3QgaXRlbXMgPSBjb252ZXJ0U3RhbmRhcmRDb250ZW50TWVzc2FnZVRvUmVzcG9uc2VzSW5wdXQobWVzc2FnZSk7XG4qIC8vIFJldHVybnM6XG4qIC8vIFtcbiogLy8gICB7IHR5cGU6IFwibWVzc2FnZVwiLCByb2xlOiBcImFzc2lzdGFudFwiLCBjb250ZW50OiBbeyB0eXBlOiBcImlucHV0X3RleHRcIiwgdGV4dDogXCJJJ2xsIGNoZWNrIHRoZSB3ZWF0aGVyIGZvciB5b3UuXCIgfV0gfSxcbiogLy8gICB7IHR5cGU6IFwiZnVuY3Rpb25fY2FsbFwiLCBjYWxsX2lkOiBcImNhbGxfMTIzXCIsIG5hbWU6IFwiZ2V0X3dlYXRoZXJcIiwgYXJndW1lbnRzOiAne1wibG9jYXRpb25cIjpcIlNhbiBGcmFuY2lzY29cIn0nIH1cbiogLy8gXVxuKiBgYGBcbiovXG5jb25zdCBjb252ZXJ0U3RhbmRhcmRDb250ZW50TWVzc2FnZVRvUmVzcG9uc2VzSW5wdXQgPSAobWVzc2FnZSkgPT4ge1xuXHRjb25zdCBpc1Jlc3BvbnNlc01lc3NhZ2UgPSBBSU1lc3NhZ2UuaXNJbnN0YW5jZShtZXNzYWdlKSAmJiBtZXNzYWdlLnJlc3BvbnNlX21ldGFkYXRhPy5tb2RlbF9wcm92aWRlciA9PT0gXCJvcGVuYWlcIjtcblx0ZnVuY3Rpb24qIGl0ZXJhdGVJdGVtcygpIHtcblx0XHRjb25zdCBtZXNzYWdlUm9sZSA9IGlpZmUoKCkgPT4ge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29uc3Qgcm9sZSA9IG1lc3NhZ2VUb09wZW5BSVJvbGUobWVzc2FnZSk7XG5cdFx0XHRcdGlmIChyb2xlID09PSBcInN5c3RlbVwiIHx8IHJvbGUgPT09IFwiZGV2ZWxvcGVyXCIgfHwgcm9sZSA9PT0gXCJhc3Npc3RhbnRcIiB8fCByb2xlID09PSBcInVzZXJcIikgcmV0dXJuIHJvbGU7XG5cdFx0XHRcdHJldHVybiBcImFzc2lzdGFudFwiO1xuXHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdHJldHVybiBcImFzc2lzdGFudFwiO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdGxldCBjdXJyZW50TWVzc2FnZSA9IHZvaWQgMDtcblx0XHRjb25zdCBmdW5jdGlvbkNhbGxJZHNXaXRoQmxvY2tzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcblx0XHRjb25zdCBzZXJ2ZXJGdW5jdGlvbkNhbGxJZHNXaXRoQmxvY2tzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcblx0XHRjb25zdCBwZW5kaW5nRnVuY3Rpb25DaHVua3MgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuXHRcdGNvbnN0IHBlbmRpbmdTZXJ2ZXJGdW5jdGlvbkNodW5rcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG5cdFx0ZnVuY3Rpb24qIGZsdXNoTWVzc2FnZSgpIHtcblx0XHRcdGlmICghY3VycmVudE1lc3NhZ2UpIHJldHVybjtcblx0XHRcdGNvbnN0IGNvbnRlbnQgPSBjdXJyZW50TWVzc2FnZS5jb250ZW50O1xuXHRcdFx0aWYgKHR5cGVvZiBjb250ZW50ID09PSBcInN0cmluZ1wiICYmIGNvbnRlbnQubGVuZ3RoID4gMCB8fCBBcnJheS5pc0FycmF5KGNvbnRlbnQpICYmIGNvbnRlbnQubGVuZ3RoID4gMCkgeWllbGQgY3VycmVudE1lc3NhZ2U7XG5cdFx0XHRjdXJyZW50TWVzc2FnZSA9IHZvaWQgMDtcblx0XHR9XG5cdFx0Y29uc3QgcHVzaE1lc3NhZ2VDb250ZW50ID0gKGNvbnRlbnQpID0+IHtcblx0XHRcdGlmICghY3VycmVudE1lc3NhZ2UpIGN1cnJlbnRNZXNzYWdlID0ge1xuXHRcdFx0XHR0eXBlOiBcIm1lc3NhZ2VcIixcblx0XHRcdFx0cm9sZTogbWVzc2FnZVJvbGUsXG5cdFx0XHRcdGNvbnRlbnQ6IFtdXG5cdFx0XHR9O1xuXHRcdFx0aWYgKHR5cGVvZiBjdXJyZW50TWVzc2FnZS5jb250ZW50ID09PSBcInN0cmluZ1wiKSBjdXJyZW50TWVzc2FnZS5jb250ZW50ID0gY3VycmVudE1lc3NhZ2UuY29udGVudC5sZW5ndGggPiAwID8gW3tcblx0XHRcdFx0dHlwZTogXCJpbnB1dF90ZXh0XCIsXG5cdFx0XHRcdHRleHQ6IGN1cnJlbnRNZXNzYWdlLmNvbnRlbnRcblx0XHRcdH0sIC4uLmNvbnRlbnRdIDogWy4uLmNvbnRlbnRdO1xuXHRcdFx0ZWxzZSBjdXJyZW50TWVzc2FnZS5jb250ZW50LnB1c2goLi4uY29udGVudCk7XG5cdFx0fTtcblx0XHRjb25zdCB0b0pzb25TdHJpbmcgPSAodmFsdWUpID0+IHtcblx0XHRcdGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHJldHVybiB2YWx1ZTtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWx1ZSA/PyB7fSk7XG5cdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0cmV0dXJuIFwie31cIjtcblx0XHRcdH1cblx0XHR9O1xuXHRcdGNvbnN0IHJlc29sdmVJbWFnZUl0ZW0gPSAoYmxvY2spID0+IHtcblx0XHRcdGNvbnN0IGRldGFpbCA9IGlpZmUoKCkgPT4ge1xuXHRcdFx0XHRjb25zdCByYXcgPSBibG9jay5tZXRhZGF0YT8uZGV0YWlsO1xuXHRcdFx0XHRpZiAocmF3ID09PSBcImxvd1wiIHx8IHJhdyA9PT0gXCJoaWdoXCIgfHwgcmF3ID09PSBcImF1dG9cIikgcmV0dXJuIHJhdztcblx0XHRcdFx0cmV0dXJuIFwiYXV0b1wiO1xuXHRcdFx0fSk7XG5cdFx0XHRpZiAoYmxvY2suZmlsZUlkKSByZXR1cm4ge1xuXHRcdFx0XHR0eXBlOiBcImlucHV0X2ltYWdlXCIsXG5cdFx0XHRcdGRldGFpbCxcblx0XHRcdFx0ZmlsZV9pZDogYmxvY2suZmlsZUlkXG5cdFx0XHR9O1xuXHRcdFx0aWYgKGJsb2NrLnVybCkgcmV0dXJuIHtcblx0XHRcdFx0dHlwZTogXCJpbnB1dF9pbWFnZVwiLFxuXHRcdFx0XHRkZXRhaWwsXG5cdFx0XHRcdGltYWdlX3VybDogYmxvY2sudXJsXG5cdFx0XHR9O1xuXHRcdFx0aWYgKGJsb2NrLmRhdGEpIHtcblx0XHRcdFx0Y29uc3QgYmFzZTY0RGF0YSA9IHR5cGVvZiBibG9jay5kYXRhID09PSBcInN0cmluZ1wiID8gYmxvY2suZGF0YSA6IEJ1ZmZlci5mcm9tKGJsb2NrLmRhdGEpLnRvU3RyaW5nKFwiYmFzZTY0XCIpO1xuXHRcdFx0XHRjb25zdCBtaW1lVHlwZSA9IGJsb2NrLm1pbWVUeXBlID8/IFwiaW1hZ2UvcG5nXCI7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0dHlwZTogXCJpbnB1dF9pbWFnZVwiLFxuXHRcdFx0XHRcdGRldGFpbCxcblx0XHRcdFx0XHRpbWFnZV91cmw6IGBkYXRhOiR7bWltZVR5cGV9O2Jhc2U2NCwke2Jhc2U2NERhdGF9YFxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHZvaWQgMDtcblx0XHR9O1xuXHRcdGNvbnN0IHJlc29sdmVGaWxlSXRlbSA9IChibG9jaykgPT4ge1xuXHRcdFx0Y29uc3QgZmlsZW5hbWUgPSBnZXRSZXF1aXJlZEZpbGVuYW1lRnJvbU1ldGFkYXRhKGJsb2NrKTtcblx0XHRcdGlmIChibG9jay5maWxlSWQgJiYgdHlwZW9mIGZpbGVuYW1lID09PSBcInN0cmluZ1wiKSByZXR1cm4ge1xuXHRcdFx0XHR0eXBlOiBcImlucHV0X2ZpbGVcIixcblx0XHRcdFx0ZmlsZV9pZDogYmxvY2suZmlsZUlkLFxuXHRcdFx0XHQuLi5maWxlbmFtZSA/IHsgZmlsZW5hbWUgfSA6IHt9XG5cdFx0XHR9O1xuXHRcdFx0aWYgKGJsb2NrLnVybCAmJiB0eXBlb2YgZmlsZW5hbWUgPT09IFwic3RyaW5nXCIpIHJldHVybiB7XG5cdFx0XHRcdHR5cGU6IFwiaW5wdXRfZmlsZVwiLFxuXHRcdFx0XHRmaWxlX3VybDogYmxvY2sudXJsLFxuXHRcdFx0XHQuLi5maWxlbmFtZSA/IHsgZmlsZW5hbWUgfSA6IHt9XG5cdFx0XHR9O1xuXHRcdFx0aWYgKGJsb2NrLmRhdGEgJiYgdHlwZW9mIGZpbGVuYW1lID09PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRcdGNvbnN0IGVuY29kZWQgPSB0eXBlb2YgYmxvY2suZGF0YSA9PT0gXCJzdHJpbmdcIiA/IGJsb2NrLmRhdGEgOiBCdWZmZXIuZnJvbShibG9jay5kYXRhKS50b1N0cmluZyhcImJhc2U2NFwiKTtcblx0XHRcdFx0Y29uc3QgbWltZVR5cGUgPSBibG9jay5taW1lVHlwZSA/PyBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiO1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdHR5cGU6IFwiaW5wdXRfZmlsZVwiLFxuXHRcdFx0XHRcdGZpbGVfZGF0YTogYGRhdGE6JHttaW1lVHlwZX07YmFzZTY0LCR7ZW5jb2RlZH1gLFxuXHRcdFx0XHRcdC4uLmZpbGVuYW1lID8geyBmaWxlbmFtZSB9IDoge31cblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB2b2lkIDA7XG5cdFx0fTtcblx0XHRjb25zdCBjb252ZXJ0UmVhc29uaW5nQmxvY2sgPSAoYmxvY2spID0+IHtcblx0XHRcdGNvbnN0IHN1bW1hcnlFbnRyaWVzID0gaWlmZSgoKSA9PiB7XG5cdFx0XHRcdGlmIChBcnJheS5pc0FycmF5KGJsb2NrLnN1bW1hcnkpKSB7XG5cdFx0XHRcdFx0Y29uc3QgY2FuZGlkYXRlID0gYmxvY2suc3VtbWFyeTtcblx0XHRcdFx0XHRjb25zdCBtYXBwZWQgPSBjYW5kaWRhdGU/Lm1hcCgoaXRlbSkgPT4gaXRlbT8udGV4dCkuZmlsdGVyKCh0ZXh0KSA9PiB0eXBlb2YgdGV4dCA9PT0gXCJzdHJpbmdcIikgPz8gW107XG5cdFx0XHRcdFx0aWYgKG1hcHBlZC5sZW5ndGggPiAwKSByZXR1cm4gbWFwcGVkO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBibG9jay5yZWFzb25pbmcgPyBbYmxvY2sucmVhc29uaW5nXSA6IFtdO1xuXHRcdFx0fSk7XG5cdFx0XHRjb25zdCBzdW1tYXJ5ID0gc3VtbWFyeUVudHJpZXMubGVuZ3RoID4gMCA/IHN1bW1hcnlFbnRyaWVzLm1hcCgodGV4dCkgPT4gKHtcblx0XHRcdFx0dHlwZTogXCJzdW1tYXJ5X3RleHRcIixcblx0XHRcdFx0dGV4dFxuXHRcdFx0fSkpIDogW3tcblx0XHRcdFx0dHlwZTogXCJzdW1tYXJ5X3RleHRcIixcblx0XHRcdFx0dGV4dDogXCJcIlxuXHRcdFx0fV07XG5cdFx0XHRjb25zdCByZWFzb25pbmdJdGVtID0ge1xuXHRcdFx0XHR0eXBlOiBcInJlYXNvbmluZ1wiLFxuXHRcdFx0XHRpZDogYmxvY2suaWQgPz8gXCJcIixcblx0XHRcdFx0c3VtbWFyeVxuXHRcdFx0fTtcblx0XHRcdGlmIChibG9jay5yZWFzb25pbmcpIHJlYXNvbmluZ0l0ZW0uY29udGVudCA9IFt7XG5cdFx0XHRcdHR5cGU6IFwicmVhc29uaW5nX3RleHRcIixcblx0XHRcdFx0dGV4dDogYmxvY2sucmVhc29uaW5nXG5cdFx0XHR9XTtcblx0XHRcdHJldHVybiByZWFzb25pbmdJdGVtO1xuXHRcdH07XG5cdFx0Y29uc3QgY29udmVydEZ1bmN0aW9uQ2FsbCA9IChibG9jaykgPT4gKHtcblx0XHRcdHR5cGU6IFwiZnVuY3Rpb25fY2FsbFwiLFxuXHRcdFx0bmFtZTogYmxvY2submFtZSA/PyBcIlwiLFxuXHRcdFx0Y2FsbF9pZDogYmxvY2suaWQgPz8gXCJcIixcblx0XHRcdGFyZ3VtZW50czogdG9Kc29uU3RyaW5nKGJsb2NrLmFyZ3MpXG5cdFx0fSk7XG5cdFx0Y29uc3QgY29udmVydEZ1bmN0aW9uQ2FsbE91dHB1dCA9IChibG9jaykgPT4ge1xuXHRcdFx0Y29uc3Qgb3V0cHV0ID0gdG9Kc29uU3RyaW5nKGJsb2NrLm91dHB1dCk7XG5cdFx0XHRjb25zdCBzdGF0dXMgPSBibG9jay5zdGF0dXMgPT09IFwic3VjY2Vzc1wiID8gXCJjb21wbGV0ZWRcIiA6IGJsb2NrLnN0YXR1cyA9PT0gXCJlcnJvclwiID8gXCJpbmNvbXBsZXRlXCIgOiB2b2lkIDA7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHR0eXBlOiBcImZ1bmN0aW9uX2NhbGxfb3V0cHV0XCIsXG5cdFx0XHRcdGNhbGxfaWQ6IGJsb2NrLnRvb2xDYWxsSWQgPz8gXCJcIixcblx0XHRcdFx0b3V0cHV0LFxuXHRcdFx0XHQuLi5zdGF0dXMgPyB7IHN0YXR1cyB9IDoge31cblx0XHRcdH07XG5cdFx0fTtcblx0XHRmb3IgKGNvbnN0IGJsb2NrIG9mIG1lc3NhZ2UuY29udGVudEJsb2NrcykgaWYgKGJsb2NrLnR5cGUgPT09IFwidGV4dFwiKSBwdXNoTWVzc2FnZUNvbnRlbnQoW3tcblx0XHRcdHR5cGU6IFwiaW5wdXRfdGV4dFwiLFxuXHRcdFx0dGV4dDogYmxvY2sudGV4dFxuXHRcdH1dKTtcblx0XHRlbHNlIGlmIChibG9jay50eXBlID09PSBcImludmFsaWRfdG9vbF9jYWxsXCIpIHt9IGVsc2UgaWYgKGJsb2NrLnR5cGUgPT09IFwicmVhc29uaW5nXCIpIHtcblx0XHRcdHlpZWxkKiBmbHVzaE1lc3NhZ2UoKTtcblx0XHRcdHlpZWxkIGNvbnZlcnRSZWFzb25pbmdCbG9jayhibG9jayk7XG5cdFx0fSBlbHNlIGlmIChibG9jay50eXBlID09PSBcInRvb2xfY2FsbFwiKSB7XG5cdFx0XHR5aWVsZCogZmx1c2hNZXNzYWdlKCk7XG5cdFx0XHRjb25zdCBpZCA9IGJsb2NrLmlkID8/IFwiXCI7XG5cdFx0XHRpZiAoaWQpIHtcblx0XHRcdFx0ZnVuY3Rpb25DYWxsSWRzV2l0aEJsb2Nrcy5hZGQoaWQpO1xuXHRcdFx0XHRwZW5kaW5nRnVuY3Rpb25DaHVua3MuZGVsZXRlKGlkKTtcblx0XHRcdH1cblx0XHRcdHlpZWxkIGNvbnZlcnRGdW5jdGlvbkNhbGwoYmxvY2spO1xuXHRcdH0gZWxzZSBpZiAoYmxvY2sudHlwZSA9PT0gXCJ0b29sX2NhbGxfY2h1bmtcIikge1xuXHRcdFx0aWYgKGJsb2NrLmlkKSB7XG5cdFx0XHRcdGNvbnN0IGV4aXN0aW5nID0gcGVuZGluZ0Z1bmN0aW9uQ2h1bmtzLmdldChibG9jay5pZCkgPz8ge1xuXHRcdFx0XHRcdG5hbWU6IGJsb2NrLm5hbWUsXG5cdFx0XHRcdFx0YXJnczogW11cblx0XHRcdFx0fTtcblx0XHRcdFx0aWYgKGJsb2NrLm5hbWUpIGV4aXN0aW5nLm5hbWUgPSBibG9jay5uYW1lO1xuXHRcdFx0XHRpZiAoYmxvY2suYXJncykgZXhpc3RpbmcuYXJncy5wdXNoKGJsb2NrLmFyZ3MpO1xuXHRcdFx0XHRwZW5kaW5nRnVuY3Rpb25DaHVua3Muc2V0KGJsb2NrLmlkLCBleGlzdGluZyk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmIChibG9jay50eXBlID09PSBcInNlcnZlcl90b29sX2NhbGxcIikge1xuXHRcdFx0eWllbGQqIGZsdXNoTWVzc2FnZSgpO1xuXHRcdFx0Y29uc3QgaWQgPSBibG9jay5pZCA/PyBcIlwiO1xuXHRcdFx0aWYgKGlkKSB7XG5cdFx0XHRcdHNlcnZlckZ1bmN0aW9uQ2FsbElkc1dpdGhCbG9ja3MuYWRkKGlkKTtcblx0XHRcdFx0cGVuZGluZ1NlcnZlckZ1bmN0aW9uQ2h1bmtzLmRlbGV0ZShpZCk7XG5cdFx0XHR9XG5cdFx0XHR5aWVsZCBjb252ZXJ0RnVuY3Rpb25DYWxsKGJsb2NrKTtcblx0XHR9IGVsc2UgaWYgKGJsb2NrLnR5cGUgPT09IFwic2VydmVyX3Rvb2xfY2FsbF9jaHVua1wiKSB7XG5cdFx0XHRpZiAoYmxvY2suaWQpIHtcblx0XHRcdFx0Y29uc3QgZXhpc3RpbmcgPSBwZW5kaW5nU2VydmVyRnVuY3Rpb25DaHVua3MuZ2V0KGJsb2NrLmlkKSA/PyB7XG5cdFx0XHRcdFx0bmFtZTogYmxvY2submFtZSxcblx0XHRcdFx0XHRhcmdzOiBbXVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRpZiAoYmxvY2submFtZSkgZXhpc3RpbmcubmFtZSA9IGJsb2NrLm5hbWU7XG5cdFx0XHRcdGlmIChibG9jay5hcmdzKSBleGlzdGluZy5hcmdzLnB1c2goYmxvY2suYXJncyk7XG5cdFx0XHRcdHBlbmRpbmdTZXJ2ZXJGdW5jdGlvbkNodW5rcy5zZXQoYmxvY2suaWQsIGV4aXN0aW5nKTtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKGJsb2NrLnR5cGUgPT09IFwic2VydmVyX3Rvb2xfY2FsbF9yZXN1bHRcIikge1xuXHRcdFx0eWllbGQqIGZsdXNoTWVzc2FnZSgpO1xuXHRcdFx0eWllbGQgY29udmVydEZ1bmN0aW9uQ2FsbE91dHB1dChibG9jayk7XG5cdFx0fSBlbHNlIGlmIChibG9jay50eXBlID09PSBcImF1ZGlvXCIpIHt9IGVsc2UgaWYgKGJsb2NrLnR5cGUgPT09IFwiZmlsZVwiKSB7XG5cdFx0XHRjb25zdCBmaWxlSXRlbSA9IHJlc29sdmVGaWxlSXRlbShibG9jayk7XG5cdFx0XHRpZiAoZmlsZUl0ZW0pIHB1c2hNZXNzYWdlQ29udGVudChbZmlsZUl0ZW1dKTtcblx0XHR9IGVsc2UgaWYgKGJsb2NrLnR5cGUgPT09IFwiaW1hZ2VcIikge1xuXHRcdFx0Y29uc3QgaW1hZ2VJdGVtID0gcmVzb2x2ZUltYWdlSXRlbShibG9jayk7XG5cdFx0XHRpZiAoaW1hZ2VJdGVtKSBwdXNoTWVzc2FnZUNvbnRlbnQoW2ltYWdlSXRlbV0pO1xuXHRcdH0gZWxzZSBpZiAoYmxvY2sudHlwZSA9PT0gXCJ2aWRlb1wiKSB7XG5cdFx0XHRjb25zdCB2aWRlb0l0ZW0gPSByZXNvbHZlRmlsZUl0ZW0oYmxvY2spO1xuXHRcdFx0aWYgKHZpZGVvSXRlbSkgcHVzaE1lc3NhZ2VDb250ZW50KFt2aWRlb0l0ZW1dKTtcblx0XHR9IGVsc2UgaWYgKGJsb2NrLnR5cGUgPT09IFwidGV4dC1wbGFpblwiKSB7XG5cdFx0XHRpZiAoYmxvY2sudGV4dCkgcHVzaE1lc3NhZ2VDb250ZW50KFt7XG5cdFx0XHRcdHR5cGU6IFwiaW5wdXRfdGV4dFwiLFxuXHRcdFx0XHR0ZXh0OiBibG9jay50ZXh0XG5cdFx0XHR9XSk7XG5cdFx0fSBlbHNlIGlmIChibG9jay50eXBlID09PSBcIm5vbl9zdGFuZGFyZFwiICYmIGlzUmVzcG9uc2VzTWVzc2FnZSkge1xuXHRcdFx0eWllbGQqIGZsdXNoTWVzc2FnZSgpO1xuXHRcdFx0eWllbGQgYmxvY2sudmFsdWU7XG5cdFx0fVxuXHRcdHlpZWxkKiBmbHVzaE1lc3NhZ2UoKTtcblx0XHRmb3IgKGNvbnN0IFtpZCwgY2h1bmtdIG9mIHBlbmRpbmdGdW5jdGlvbkNodW5rcykge1xuXHRcdFx0aWYgKCFpZCB8fCBmdW5jdGlvbkNhbGxJZHNXaXRoQmxvY2tzLmhhcyhpZCkpIGNvbnRpbnVlO1xuXHRcdFx0Y29uc3QgYXJncyA9IGNodW5rLmFyZ3Muam9pbihcIlwiKTtcblx0XHRcdGlmICghY2h1bmsubmFtZSAmJiAhYXJncykgY29udGludWU7XG5cdFx0XHR5aWVsZCB7XG5cdFx0XHRcdHR5cGU6IFwiZnVuY3Rpb25fY2FsbFwiLFxuXHRcdFx0XHRjYWxsX2lkOiBpZCxcblx0XHRcdFx0bmFtZTogY2h1bmsubmFtZSA/PyBcIlwiLFxuXHRcdFx0XHRhcmd1bWVudHM6IGFyZ3Ncblx0XHRcdH07XG5cdFx0fVxuXHRcdGZvciAoY29uc3QgW2lkLCBjaHVua10gb2YgcGVuZGluZ1NlcnZlckZ1bmN0aW9uQ2h1bmtzKSB7XG5cdFx0XHRpZiAoIWlkIHx8IHNlcnZlckZ1bmN0aW9uQ2FsbElkc1dpdGhCbG9ja3MuaGFzKGlkKSkgY29udGludWU7XG5cdFx0XHRjb25zdCBhcmdzID0gY2h1bmsuYXJncy5qb2luKFwiXCIpO1xuXHRcdFx0aWYgKCFjaHVuay5uYW1lICYmICFhcmdzKSBjb250aW51ZTtcblx0XHRcdHlpZWxkIHtcblx0XHRcdFx0dHlwZTogXCJmdW5jdGlvbl9jYWxsXCIsXG5cdFx0XHRcdGNhbGxfaWQ6IGlkLFxuXHRcdFx0XHRuYW1lOiBjaHVuay5uYW1lID8/IFwiXCIsXG5cdFx0XHRcdGFyZ3VtZW50czogYXJnc1xuXHRcdFx0fTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIEFycmF5LmZyb20oaXRlcmF0ZUl0ZW1zKCkpO1xufTtcbi8qKlxuKiAtIE1DUCAoTW9kZWwgQ29udGV4dCBQcm90b2NvbCkgYXBwcm92YWwgcmVzcG9uc2VzXG4qIC0gWmVybyBEYXRhIFJldGVudGlvbiAoWkRSKSBtb2RlIGhhbmRsaW5nXG4qXG4qIEBwYXJhbSBwYXJhbXMgLSBDb252ZXJzaW9uIHBhcmFtZXRlcnNcbiogQHBhcmFtIHBhcmFtcy5tZXNzYWdlcyAtIEFycmF5IG9mIExhbmdDaGFpbiBCYXNlTWVzc2FnZXMgdG8gY29udmVydFxuKiBAcGFyYW0gcGFyYW1zLnpkckVuYWJsZWQgLSBXaGV0aGVyIFplcm8gRGF0YSBSZXRlbnRpb24gbW9kZSBpcyBlbmFibGVkLiBXaGVuIHRydWUsIGNlcnRhaW5cbiogICBtZXRhZGF0YSBsaWtlIG1lc3NhZ2UgSURzIGFuZCBmdW5jdGlvbiBjYWxsIElEcyBhcmUgb21pdHRlZCBmcm9tIHRoZSBvdXRwdXRcbiogQHBhcmFtIHBhcmFtcy5tb2RlbCAtIFRoZSBtb2RlbCBuYW1lIGJlaW5nIHVzZWQuIFVzZWQgdG8gZGV0ZXJtaW5lIGlmIHNwZWNpYWwgcm9sZSBtYXBwaW5nXG4qICAgaXMgbmVlZGVkIChlLmcuLCBcInN5c3RlbVwiIC0+IFwiZGV2ZWxvcGVyXCIgZm9yIHJlYXNvbmluZyBtb2RlbHMpXG4qXG4qIEByZXR1cm5zIEFycmF5IG9mIFJlc3BvbnNlc0lucHV0SXRlbSBvYmplY3RzIGZvcm1hdHRlZCBmb3IgdGhlIE9wZW5BSSBSZXNwb25zZXMgQVBJXG4qXG4qIEB0aHJvd3Mge0Vycm9yfSBXaGVuIGEgZnVuY3Rpb24gbWVzc2FnZSBpcyBlbmNvdW50ZXJlZCAobm90IHN1cHBvcnRlZClcbiogQHRocm93cyB7RXJyb3J9IFdoZW4gY29tcHV0ZXIgY2FsbCBvdXRwdXQgZm9ybWF0IGlzIGludmFsaWRcbipcbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBtZXNzYWdlcyA9IFtcbiogICBuZXcgSHVtYW5NZXNzYWdlKFwiSGVsbG9cIiksXG4qICAgbmV3IEFJTWVzc2FnZSh7IGNvbnRlbnQ6IFwiSGkgdGhlcmUhXCIsIHRvb2xfY2FsbHM6IFsuLi5dIH0pXG4qIF07XG4qXG4qIGNvbnN0IGlucHV0ID0gY29udmVydE1lc3NhZ2VzVG9SZXNwb25zZXNJbnB1dCh7XG4qICAgbWVzc2FnZXMsXG4qICAgemRyRW5hYmxlZDogZmFsc2UsXG4qICAgbW9kZWw6IFwiZ3B0LTRcIlxuKiB9KTtcbiogYGBgXG4qL1xuY29uc3QgY29udmVydE1lc3NhZ2VzVG9SZXNwb25zZXNJbnB1dCA9ICh7IG1lc3NhZ2VzLCB6ZHJFbmFibGVkLCBtb2RlbCB9KSA9PiB7XG5cdHJldHVybiBtZXNzYWdlcy5mbGF0TWFwKChsY01zZykgPT4ge1xuXHRcdGNvbnN0IHJlc3BvbnNlTWV0YWRhdGEgPSBsY01zZy5yZXNwb25zZV9tZXRhZGF0YTtcblx0XHRpZiAocmVzcG9uc2VNZXRhZGF0YT8ub3V0cHV0X3ZlcnNpb24gPT09IFwidjFcIikgcmV0dXJuIGNvbnZlcnRTdGFuZGFyZENvbnRlbnRNZXNzYWdlVG9SZXNwb25zZXNJbnB1dChsY01zZyk7XG5cdFx0Y29uc3QgYWRkaXRpb25hbF9rd2FyZ3MgPSBsY01zZy5hZGRpdGlvbmFsX2t3YXJncztcblx0XHRsZXQgcm9sZSA9IG1lc3NhZ2VUb09wZW5BSVJvbGUobGNNc2cpO1xuXHRcdGlmIChyb2xlID09PSBcInN5c3RlbVwiICYmIGlzUmVhc29uaW5nTW9kZWwobW9kZWwpKSByb2xlID0gXCJkZXZlbG9wZXJcIjtcblx0XHRpZiAocm9sZSA9PT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgRXJyb3IoXCJGdW5jdGlvbiBtZXNzYWdlcyBhcmUgbm90IHN1cHBvcnRlZCBpbiBSZXNwb25zZXMgQVBJXCIpO1xuXHRcdGlmIChyb2xlID09PSBcInRvb2xcIikge1xuXHRcdFx0Y29uc3QgdG9vbE1lc3NhZ2UgPSBsY01zZztcblx0XHRcdGlmIChhZGRpdGlvbmFsX2t3YXJncz8udHlwZSA9PT0gXCJjb21wdXRlcl9jYWxsX291dHB1dFwiKSB7XG5cdFx0XHRcdGNvbnN0IG91dHB1dCA9ICgoKSA9PiB7XG5cdFx0XHRcdFx0aWYgKHR5cGVvZiB0b29sTWVzc2FnZS5jb250ZW50ID09PSBcInN0cmluZ1wiKSByZXR1cm4ge1xuXHRcdFx0XHRcdFx0dHlwZTogXCJpbnB1dF9pbWFnZVwiLFxuXHRcdFx0XHRcdFx0aW1hZ2VfdXJsOiB0b29sTWVzc2FnZS5jb250ZW50XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRpZiAoQXJyYXkuaXNBcnJheSh0b29sTWVzc2FnZS5jb250ZW50KSkge1xuXHRcdFx0XHRcdFx0LyoqXG5cdFx0XHRcdFx0XHQqIENoZWNrIGZvciBpbnB1dF9pbWFnZSB0eXBlIGZpcnN0IChjb21wdXRlci11c2UtcHJldmlldyBmb3JtYXQpXG5cdFx0XHRcdFx0XHQqL1xuXHRcdFx0XHRcdFx0Y29uc3QgaW5wdXRJbWFnZSA9IHRvb2xNZXNzYWdlLmNvbnRlbnQuZmluZCgoaSkgPT4gaS50eXBlID09PSBcImlucHV0X2ltYWdlXCIpO1xuXHRcdFx0XHRcdFx0aWYgKGlucHV0SW1hZ2UpIHJldHVybiBpbnB1dEltYWdlO1xuXHRcdFx0XHRcdFx0LyoqXG5cdFx0XHRcdFx0XHQqIENoZWNrIGZvciBjb21wdXRlcl9zY3JlZW5zaG90IHR5cGUgKGxlZ2FjeSBmb3JtYXQpXG5cdFx0XHRcdFx0XHQqL1xuXHRcdFx0XHRcdFx0Y29uc3Qgb2FpU2NyZWVuc2hvdCA9IHRvb2xNZXNzYWdlLmNvbnRlbnQuZmluZCgoaSkgPT4gaS50eXBlID09PSBcImNvbXB1dGVyX3NjcmVlbnNob3RcIik7XG5cdFx0XHRcdFx0XHRpZiAob2FpU2NyZWVuc2hvdCkgcmV0dXJuIG9haVNjcmVlbnNob3Q7XG5cdFx0XHRcdFx0XHQvKipcblx0XHRcdFx0XHRcdCogQ29udmVydCBpbWFnZV91cmwgY29udGVudCBibG9jayB0byBpbnB1dF9pbWFnZSBmb3JtYXRcblx0XHRcdFx0XHRcdCovXG5cdFx0XHRcdFx0XHRjb25zdCBsY0ltYWdlID0gdG9vbE1lc3NhZ2UuY29udGVudC5maW5kKChpKSA9PiBpLnR5cGUgPT09IFwiaW1hZ2VfdXJsXCIpO1xuXHRcdFx0XHRcdFx0aWYgKGxjSW1hZ2UpIHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdHR5cGU6IFwiaW5wdXRfaW1hZ2VcIixcblx0XHRcdFx0XHRcdFx0aW1hZ2VfdXJsOiB0eXBlb2YgbGNJbWFnZS5pbWFnZV91cmwgPT09IFwic3RyaW5nXCIgPyBsY0ltYWdlLmltYWdlX3VybCA6IGxjSW1hZ2UuaW1hZ2VfdXJsLnVybFxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjb21wdXRlciBjYWxsIG91dHB1dFwiKTtcblx0XHRcdFx0fSkoKTtcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCogQ2FzdCBuZWVkZWQgYmVjYXVzZSBPcGVuQUkgU0RLIHR5cGVzIGRvbid0IHlldCBpbmNsdWRlIGlucHV0X2ltYWdlXG5cdFx0XHRcdCogZm9yIGNvbXB1dGVyLXVzZS1wcmV2aWV3IG1vZGVsIG91dHB1dCBmb3JtYXRcblx0XHRcdFx0Ki9cblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHR0eXBlOiBcImNvbXB1dGVyX2NhbGxfb3V0cHV0XCIsXG5cdFx0XHRcdFx0b3V0cHV0LFxuXHRcdFx0XHRcdGNhbGxfaWQ6IHRvb2xNZXNzYWdlLnRvb2xfY2FsbF9pZFxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdFx0aWYgKHRvb2xNZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzPy5jdXN0b21Ub29sKSByZXR1cm4ge1xuXHRcdFx0XHR0eXBlOiBcImN1c3RvbV90b29sX2NhbGxfb3V0cHV0XCIsXG5cdFx0XHRcdGNhbGxfaWQ6IHRvb2xNZXNzYWdlLnRvb2xfY2FsbF9pZCxcblx0XHRcdFx0b3V0cHV0OiB0b29sTWVzc2FnZS5jb250ZW50XG5cdFx0XHR9O1xuXHRcdFx0Y29uc3QgaXNQcm92aWRlck5hdGl2ZUNvbnRlbnQgPSBBcnJheS5pc0FycmF5KHRvb2xNZXNzYWdlLmNvbnRlbnQpICYmIHRvb2xNZXNzYWdlLmNvbnRlbnQuZXZlcnkoKGl0ZW0pID0+IHR5cGVvZiBpdGVtID09PSBcIm9iamVjdFwiICYmIGl0ZW0gIT09IG51bGwgJiYgXCJ0eXBlXCIgaW4gaXRlbSAmJiAoaXRlbS50eXBlID09PSBcImlucHV0X2ZpbGVcIiB8fCBpdGVtLnR5cGUgPT09IFwiaW5wdXRfaW1hZ2VcIiB8fCBpdGVtLnR5cGUgPT09IFwiaW5wdXRfdGV4dFwiKSk7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHR0eXBlOiBcImZ1bmN0aW9uX2NhbGxfb3V0cHV0XCIsXG5cdFx0XHRcdGNhbGxfaWQ6IHRvb2xNZXNzYWdlLnRvb2xfY2FsbF9pZCxcblx0XHRcdFx0aWQ6IHRvb2xNZXNzYWdlLmlkPy5zdGFydHNXaXRoKFwiZmNfXCIpID8gdG9vbE1lc3NhZ2UuaWQgOiB2b2lkIDAsXG5cdFx0XHRcdG91dHB1dDogaXNQcm92aWRlck5hdGl2ZUNvbnRlbnQgPyB0b29sTWVzc2FnZS5jb250ZW50IDogdHlwZW9mIHRvb2xNZXNzYWdlLmNvbnRlbnQgIT09IFwic3RyaW5nXCIgPyBKU09OLnN0cmluZ2lmeSh0b29sTWVzc2FnZS5jb250ZW50KSA6IHRvb2xNZXNzYWdlLmNvbnRlbnRcblx0XHRcdH07XG5cdFx0fVxuXHRcdGlmIChyb2xlID09PSBcImFzc2lzdGFudFwiKSB7XG5cdFx0XHRpZiAoIXpkckVuYWJsZWQgJiYgcmVzcG9uc2VNZXRhZGF0YT8ub3V0cHV0ICE9IG51bGwgJiYgQXJyYXkuaXNBcnJheShyZXNwb25zZU1ldGFkYXRhPy5vdXRwdXQpICYmIHJlc3BvbnNlTWV0YWRhdGE/Lm91dHB1dC5sZW5ndGggPiAwICYmIHJlc3BvbnNlTWV0YWRhdGE/Lm91dHB1dC5ldmVyeSgoaXRlbSkgPT4gXCJ0eXBlXCIgaW4gaXRlbSkpIHJldHVybiByZXNwb25zZU1ldGFkYXRhPy5vdXRwdXQ7XG5cdFx0XHRjb25zdCBpbnB1dCA9IFtdO1xuXHRcdFx0aWYgKGFkZGl0aW9uYWxfa3dhcmdzPy5yZWFzb25pbmcgJiYgIXpkckVuYWJsZWQpIHtcblx0XHRcdFx0Y29uc3QgcmVhc29uaW5nSXRlbSA9IGNvbnZlcnRSZWFzb25pbmdTdW1tYXJ5VG9SZXNwb25zZXNSZWFzb25pbmdJdGVtKGFkZGl0aW9uYWxfa3dhcmdzLnJlYXNvbmluZyk7XG5cdFx0XHRcdGlucHV0LnB1c2gocmVhc29uaW5nSXRlbSk7XG5cdFx0XHR9XG5cdFx0XHRsZXQgeyBjb250ZW50IH0gPSBsY01zZztcblx0XHRcdGlmIChhZGRpdGlvbmFsX2t3YXJncz8ucmVmdXNhbCkge1xuXHRcdFx0XHRpZiAodHlwZW9mIGNvbnRlbnQgPT09IFwic3RyaW5nXCIpIGNvbnRlbnQgPSBbe1xuXHRcdFx0XHRcdHR5cGU6IFwib3V0cHV0X3RleHRcIixcblx0XHRcdFx0XHR0ZXh0OiBjb250ZW50LFxuXHRcdFx0XHRcdGFubm90YXRpb25zOiBbXVxuXHRcdFx0XHR9XTtcblx0XHRcdFx0Y29udGVudCA9IFsuLi5jb250ZW50LCB7XG5cdFx0XHRcdFx0dHlwZTogXCJyZWZ1c2FsXCIsXG5cdFx0XHRcdFx0cmVmdXNhbDogYWRkaXRpb25hbF9rd2FyZ3MucmVmdXNhbFxuXHRcdFx0XHR9XTtcblx0XHRcdH1cblx0XHRcdGlmICh0eXBlb2YgY29udGVudCA9PT0gXCJzdHJpbmdcIiB8fCBjb250ZW50Lmxlbmd0aCA+IDApIGlucHV0LnB1c2goe1xuXHRcdFx0XHR0eXBlOiBcIm1lc3NhZ2VcIixcblx0XHRcdFx0cm9sZTogXCJhc3Npc3RhbnRcIixcblx0XHRcdFx0Li4ubGNNc2cuaWQgJiYgIXpkckVuYWJsZWQgJiYgbGNNc2cuaWQuc3RhcnRzV2l0aChcIm1zZ19cIikgPyB7IGlkOiBsY01zZy5pZCB9IDoge30sXG5cdFx0XHRcdGNvbnRlbnQ6IGlpZmUoKCkgPT4ge1xuXHRcdFx0XHRcdGlmICh0eXBlb2YgY29udGVudCA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIGNvbnRlbnQ7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRlbnQuZmxhdE1hcCgoaXRlbSkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKGl0ZW0udHlwZSA9PT0gXCJ0ZXh0XCIpIHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdHR5cGU6IFwib3V0cHV0X3RleHRcIixcblx0XHRcdFx0XHRcdFx0dGV4dDogaXRlbS50ZXh0LFxuXHRcdFx0XHRcdFx0XHRhbm5vdGF0aW9uczogaXRlbS5hbm5vdGF0aW9ucyA/PyBbXVxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdGlmIChpdGVtLnR5cGUgPT09IFwib3V0cHV0X3RleHRcIiB8fCBpdGVtLnR5cGUgPT09IFwicmVmdXNhbFwiKSByZXR1cm4gaXRlbTtcblx0XHRcdFx0XHRcdHJldHVybiBbXTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSlcblx0XHRcdH0pO1xuXHRcdFx0Y29uc3QgZnVuY3Rpb25DYWxsSWRzID0gYWRkaXRpb25hbF9rd2FyZ3M/LltfRlVOQ1RJT05fQ0FMTF9JRFNfTUFQX0tFWV07XG5cdFx0XHRpZiAoQUlNZXNzYWdlLmlzSW5zdGFuY2UobGNNc2cpICYmICEhbGNNc2cudG9vbF9jYWxscz8ubGVuZ3RoKSBpbnB1dC5wdXNoKC4uLmxjTXNnLnRvb2xfY2FsbHMubWFwKCh0b29sQ2FsbCkgPT4ge1xuXHRcdFx0XHRpZiAoaXNDdXN0b21Ub29sQ2FsbCh0b29sQ2FsbCkpIHJldHVybiB7XG5cdFx0XHRcdFx0dHlwZTogXCJjdXN0b21fdG9vbF9jYWxsXCIsXG5cdFx0XHRcdFx0aWQ6IHRvb2xDYWxsLmNhbGxfaWQsXG5cdFx0XHRcdFx0Y2FsbF9pZDogdG9vbENhbGwuaWQgPz8gXCJcIixcblx0XHRcdFx0XHRpbnB1dDogdG9vbENhbGwuYXJncy5pbnB1dCxcblx0XHRcdFx0XHRuYW1lOiB0b29sQ2FsbC5uYW1lXG5cdFx0XHRcdH07XG5cdFx0XHRcdGlmIChpc0NvbXB1dGVyVG9vbENhbGwodG9vbENhbGwpKSByZXR1cm4ge1xuXHRcdFx0XHRcdHR5cGU6IFwiY29tcHV0ZXJfY2FsbFwiLFxuXHRcdFx0XHRcdGlkOiB0b29sQ2FsbC5jYWxsX2lkLFxuXHRcdFx0XHRcdGNhbGxfaWQ6IHRvb2xDYWxsLmlkID8/IFwiXCIsXG5cdFx0XHRcdFx0YWN0aW9uOiB0b29sQ2FsbC5hcmdzLmFjdGlvblxuXHRcdFx0XHR9O1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdHR5cGU6IFwiZnVuY3Rpb25fY2FsbFwiLFxuXHRcdFx0XHRcdG5hbWU6IHRvb2xDYWxsLm5hbWUsXG5cdFx0XHRcdFx0YXJndW1lbnRzOiBKU09OLnN0cmluZ2lmeSh0b29sQ2FsbC5hcmdzKSxcblx0XHRcdFx0XHRjYWxsX2lkOiB0b29sQ2FsbC5pZCxcblx0XHRcdFx0XHQuLi4hemRyRW5hYmxlZCA/IHsgaWQ6IGZ1bmN0aW9uQ2FsbElkcz8uW3Rvb2xDYWxsLmlkXSB9IDoge31cblx0XHRcdFx0fTtcblx0XHRcdH0pKTtcblx0XHRcdGVsc2UgaWYgKGFkZGl0aW9uYWxfa3dhcmdzPy50b29sX2NhbGxzKSBpbnB1dC5wdXNoKC4uLmFkZGl0aW9uYWxfa3dhcmdzLnRvb2xfY2FsbHMubWFwKCh0b29sQ2FsbCkgPT4gKHtcblx0XHRcdFx0dHlwZTogXCJmdW5jdGlvbl9jYWxsXCIsXG5cdFx0XHRcdG5hbWU6IHRvb2xDYWxsLmZ1bmN0aW9uLm5hbWUsXG5cdFx0XHRcdGNhbGxfaWQ6IHRvb2xDYWxsLmlkLFxuXHRcdFx0XHRhcmd1bWVudHM6IHRvb2xDYWxsLmZ1bmN0aW9uLmFyZ3VtZW50cyxcblx0XHRcdFx0Li4uIXpkckVuYWJsZWQgPyB7IGlkOiBmdW5jdGlvbkNhbGxJZHM/Llt0b29sQ2FsbC5pZF0gfSA6IHt9XG5cdFx0XHR9KSkpO1xuXHRcdFx0Y29uc3QgdG9vbE91dHB1dHMgPSAocmVzcG9uc2VNZXRhZGF0YT8ub3V0cHV0KT8ubGVuZ3RoID8gcmVzcG9uc2VNZXRhZGF0YT8ub3V0cHV0IDogYWRkaXRpb25hbF9rd2FyZ3MudG9vbF9vdXRwdXRzO1xuXHRcdFx0Y29uc3QgZmFsbHRocm91Z2hDYWxsVHlwZXMgPSBbXG5cdFx0XHRcdFwiY29tcHV0ZXJfY2FsbFwiLFxuXHRcdFx0XHRcIm1jcF9jYWxsXCIsXG5cdFx0XHRcdFwiY29kZV9pbnRlcnByZXRlcl9jYWxsXCIsXG5cdFx0XHRcdFwiaW1hZ2VfZ2VuZXJhdGlvbl9jYWxsXCJcblx0XHRcdF07XG5cdFx0XHRpZiAodG9vbE91dHB1dHMgIT0gbnVsbCkge1xuXHRcdFx0XHRjb25zdCBjYXN0VG9vbE91dHB1dHMgPSB0b29sT3V0cHV0cztcblx0XHRcdFx0Y29uc3QgZmFsbHRocm91Z2hDYWxscyA9IGNhc3RUb29sT3V0cHV0cz8uZmlsdGVyKChpdGVtKSA9PiBmYWxsdGhyb3VnaENhbGxUeXBlcy5pbmNsdWRlcyhpdGVtLnR5cGUpKTtcblx0XHRcdFx0aWYgKGZhbGx0aHJvdWdoQ2FsbHMubGVuZ3RoID4gMCkgaW5wdXQucHVzaCguLi5mYWxsdGhyb3VnaENhbGxzKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBpbnB1dDtcblx0XHR9XG5cdFx0aWYgKHJvbGUgPT09IFwidXNlclwiIHx8IHJvbGUgPT09IFwic3lzdGVtXCIgfHwgcm9sZSA9PT0gXCJkZXZlbG9wZXJcIikge1xuXHRcdFx0aWYgKHR5cGVvZiBsY01zZy5jb250ZW50ID09PSBcInN0cmluZ1wiKSByZXR1cm4ge1xuXHRcdFx0XHR0eXBlOiBcIm1lc3NhZ2VcIixcblx0XHRcdFx0cm9sZSxcblx0XHRcdFx0Y29udGVudDogbGNNc2cuY29udGVudFxuXHRcdFx0fTtcblx0XHRcdGNvbnN0IG1lc3NhZ2VzJDEgPSBbXTtcblx0XHRcdGNvbnN0IGNvbnRlbnQgPSBsY01zZy5jb250ZW50LmZsYXRNYXAoKGl0ZW0pID0+IHtcblx0XHRcdFx0aWYgKGl0ZW0udHlwZSA9PT0gXCJtY3BfYXBwcm92YWxfcmVzcG9uc2VcIikgbWVzc2FnZXMkMS5wdXNoKHtcblx0XHRcdFx0XHR0eXBlOiBcIm1jcF9hcHByb3ZhbF9yZXNwb25zZVwiLFxuXHRcdFx0XHRcdGFwcHJvdmFsX3JlcXVlc3RfaWQ6IGl0ZW0uYXBwcm92YWxfcmVxdWVzdF9pZCxcblx0XHRcdFx0XHRhcHByb3ZlOiBpdGVtLmFwcHJvdmVcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGlmIChpc0RhdGFDb250ZW50QmxvY2soaXRlbSkpIHJldHVybiBjb252ZXJ0VG9Qcm92aWRlckNvbnRlbnRCbG9jayhpdGVtLCBjb21wbGV0aW9uc0FwaUNvbnRlbnRCbG9ja0NvbnZlcnRlcik7XG5cdFx0XHRcdGlmIChpdGVtLnR5cGUgPT09IFwidGV4dFwiKSByZXR1cm4ge1xuXHRcdFx0XHRcdHR5cGU6IFwiaW5wdXRfdGV4dFwiLFxuXHRcdFx0XHRcdHRleHQ6IGl0ZW0udGV4dFxuXHRcdFx0XHR9O1xuXHRcdFx0XHRpZiAoaXRlbS50eXBlID09PSBcImltYWdlX3VybFwiKSB7XG5cdFx0XHRcdFx0Y29uc3QgaW1hZ2VVcmwgPSBpaWZlKCgpID0+IHtcblx0XHRcdFx0XHRcdGlmICh0eXBlb2YgaXRlbS5pbWFnZV91cmwgPT09IFwic3RyaW5nXCIpIHJldHVybiBpdGVtLmltYWdlX3VybDtcblx0XHRcdFx0XHRcdGVsc2UgaWYgKHR5cGVvZiBpdGVtLmltYWdlX3VybCA9PT0gXCJvYmplY3RcIiAmJiBpdGVtLmltYWdlX3VybCAhPT0gbnVsbCAmJiBcInVybFwiIGluIGl0ZW0uaW1hZ2VfdXJsKSByZXR1cm4gaXRlbS5pbWFnZV91cmwudXJsO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHZvaWQgMDtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRjb25zdCBkZXRhaWwgPSBpaWZlKCgpID0+IHtcblx0XHRcdFx0XHRcdGlmICh0eXBlb2YgaXRlbS5pbWFnZV91cmwgPT09IFwic3RyaW5nXCIpIHJldHVybiBcImF1dG9cIjtcblx0XHRcdFx0XHRcdGVsc2UgaWYgKHR5cGVvZiBpdGVtLmltYWdlX3VybCA9PT0gXCJvYmplY3RcIiAmJiBpdGVtLmltYWdlX3VybCAhPT0gbnVsbCAmJiBcImRldGFpbFwiIGluIGl0ZW0uaW1hZ2VfdXJsKSByZXR1cm4gaXRlbS5pbWFnZV91cmwuZGV0YWlsO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHZvaWQgMDtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0dHlwZTogXCJpbnB1dF9pbWFnZVwiLFxuXHRcdFx0XHRcdFx0aW1hZ2VfdXJsOiBpbWFnZVVybCxcblx0XHRcdFx0XHRcdGRldGFpbFxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGl0ZW0udHlwZSA9PT0gXCJpbnB1dF90ZXh0XCIgfHwgaXRlbS50eXBlID09PSBcImlucHV0X2ltYWdlXCIgfHwgaXRlbS50eXBlID09PSBcImlucHV0X2ZpbGVcIikgcmV0dXJuIGl0ZW07XG5cdFx0XHRcdHJldHVybiBbXTtcblx0XHRcdH0pO1xuXHRcdFx0aWYgKGNvbnRlbnQubGVuZ3RoID4gMCkgbWVzc2FnZXMkMS5wdXNoKHtcblx0XHRcdFx0dHlwZTogXCJtZXNzYWdlXCIsXG5cdFx0XHRcdHJvbGUsXG5cdFx0XHRcdGNvbnRlbnRcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIG1lc3NhZ2VzJDE7XG5cdFx0fVxuXHRcdGNvbnNvbGUud2FybihgVW5zdXBwb3J0ZWQgcm9sZSBmb3VuZCB3aGVuIGNvbnZlcnRpbmcgdG8gT3BlbkFJIFJlc3BvbnNlcyBBUEk6ICR7cm9sZX1gKTtcblx0XHRyZXR1cm4gW107XG5cdH0pO1xufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBjb252ZXJ0TWVzc2FnZXNUb1Jlc3BvbnNlc0lucHV0LCBjb252ZXJ0UmVhc29uaW5nU3VtbWFyeVRvUmVzcG9uc2VzUmVhc29uaW5nSXRlbSwgY29udmVydFJlc3BvbnNlc0RlbHRhVG9DaGF0R2VuZXJhdGlvbkNodW5rLCBjb252ZXJ0UmVzcG9uc2VzTWVzc2FnZVRvQUlNZXNzYWdlLCBjb252ZXJ0UmVzcG9uc2VzVXNhZ2VUb1VzYWdlTWV0YWRhdGEsIGNvbnZlcnRTdGFuZGFyZENvbnRlbnRNZXNzYWdlVG9SZXNwb25zZXNJbnB1dCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVzcG9uc2VzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/converters/responses.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/embeddings.js":
/*!****************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/embeddings.js ***!
  \****************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OpenAIEmbeddings: () => (/* binding */ OpenAIEmbeddings)\n/* harmony export */ });\n/* harmony import */ var _utils_client_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/client.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/client.js\");\n/* harmony import */ var _utils_azure_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/azure.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/azure.js\");\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! openai */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+openai@6.16.0_zod@4.3.6/node_modules/openai/index.mjs\");\n/* harmony import */ var _langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @langchain/core/utils/env */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/env.js\");\n/* harmony import */ var _langchain_core_utils_chunk_array__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @langchain/core/utils/chunk_array */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/chunk_array.js\");\n/* harmony import */ var _langchain_core_embeddings__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @langchain/core/embeddings */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/embeddings.js\");\n\n\n\n\n\n\n\n//#region src/embeddings.ts\n/**\n* Class for generating embeddings using the OpenAI API.\n*\n* To use with Azure, import the `AzureOpenAIEmbeddings` class.\n*\n* @example\n* ```typescript\n* // Embed a query using OpenAIEmbeddings to generate embeddings for a given text\n* const model = new OpenAIEmbeddings();\n* const res = await model.embedQuery(\n*   \"What would be a good company name for a company that makes colorful socks?\",\n* );\n* console.log({ res });\n*\n* ```\n*/\nvar OpenAIEmbeddings = class extends _langchain_core_embeddings__WEBPACK_IMPORTED_MODULE_5__.Embeddings {\n\tmodel = \"text-embedding-ada-002\";\n\t/** @deprecated Use \"model\" instead */\n\tmodelName;\n\tbatchSize = 512;\n\tstripNewLines = true;\n\t/**\n\t* The number of dimensions the resulting output embeddings should have.\n\t* Only supported in `text-embedding-3` and later models.\n\t*/\n\tdimensions;\n\ttimeout;\n\torganization;\n\tencodingFormat;\n\tclient;\n\tclientConfig;\n\tapiKey;\n\tconstructor(fields) {\n\t\tconst fieldsWithDefaults = {\n\t\t\tmaxConcurrency: 2,\n\t\t\t...fields\n\t\t};\n\t\tsuper(fieldsWithDefaults);\n\t\tconst apiKey = fieldsWithDefaults?.apiKey ?? fieldsWithDefaults?.openAIApiKey ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_3__.getEnvironmentVariable)(\"OPENAI_API_KEY\");\n\t\tthis.organization = fieldsWithDefaults?.configuration?.organization ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_3__.getEnvironmentVariable)(\"OPENAI_ORGANIZATION\");\n\t\tthis.model = fieldsWithDefaults?.model ?? fieldsWithDefaults?.modelName ?? this.model;\n\t\tthis.modelName = this.model;\n\t\tthis.batchSize = fieldsWithDefaults?.batchSize ?? this.batchSize;\n\t\tthis.stripNewLines = fieldsWithDefaults?.stripNewLines ?? this.stripNewLines;\n\t\tthis.timeout = fieldsWithDefaults?.timeout;\n\t\tthis.dimensions = fieldsWithDefaults?.dimensions;\n\t\tthis.encodingFormat = fieldsWithDefaults?.encodingFormat;\n\t\tthis.clientConfig = {\n\t\t\tapiKey,\n\t\t\torganization: this.organization,\n\t\t\tdangerouslyAllowBrowser: true,\n\t\t\t...fields?.configuration\n\t\t};\n\t}\n\t/**\n\t* Method to generate embeddings for an array of documents. Splits the\n\t* documents into batches and makes requests to the OpenAI API to generate\n\t* embeddings.\n\t* @param texts Array of documents to generate embeddings for.\n\t* @returns Promise that resolves to a 2D array of embeddings for each document.\n\t*/\n\tasync embedDocuments(texts) {\n\t\tconst batches = (0,_langchain_core_utils_chunk_array__WEBPACK_IMPORTED_MODULE_4__.chunkArray)(this.stripNewLines ? texts.map((t) => t.replace(/\\n/g, \" \")) : texts, this.batchSize);\n\t\tconst batchRequests = batches.map((batch) => {\n\t\t\tconst params = {\n\t\t\t\tmodel: this.model,\n\t\t\t\tinput: batch\n\t\t\t};\n\t\t\tif (this.dimensions) params.dimensions = this.dimensions;\n\t\t\tif (this.encodingFormat) params.encoding_format = this.encodingFormat;\n\t\t\treturn this.embeddingWithRetry(params);\n\t\t});\n\t\tconst batchResponses = await Promise.all(batchRequests);\n\t\tconst embeddings = [];\n\t\tfor (let i = 0; i < batchResponses.length; i += 1) {\n\t\t\tconst batch = batches[i];\n\t\t\tconst { data: batchResponse } = batchResponses[i];\n\t\t\tfor (let j = 0; j < batch.length; j += 1) embeddings.push(batchResponse[j].embedding);\n\t\t}\n\t\treturn embeddings;\n\t}\n\t/**\n\t* Method to generate an embedding for a single document. Calls the\n\t* embeddingWithRetry method with the document as the input.\n\t* @param text Document to generate an embedding for.\n\t* @returns Promise that resolves to an embedding for the document.\n\t*/\n\tasync embedQuery(text) {\n\t\tconst params = {\n\t\t\tmodel: this.model,\n\t\t\tinput: this.stripNewLines ? text.replace(/\\n/g, \" \") : text\n\t\t};\n\t\tif (this.dimensions) params.dimensions = this.dimensions;\n\t\tif (this.encodingFormat) params.encoding_format = this.encodingFormat;\n\t\tconst { data } = await this.embeddingWithRetry(params);\n\t\treturn data[0].embedding;\n\t}\n\t/**\n\t* Private method to make a request to the OpenAI API to generate\n\t* embeddings. Handles the retry logic and returns the response from the\n\t* API.\n\t* @param request Request to send to the OpenAI API.\n\t* @returns Promise that resolves to the response from the API.\n\t*/\n\tasync embeddingWithRetry(request) {\n\t\tif (!this.client) {\n\t\t\tconst openAIEndpointConfig = { baseURL: this.clientConfig.baseURL };\n\t\t\tconst endpoint = (0,_utils_azure_js__WEBPACK_IMPORTED_MODULE_1__.getEndpoint)(openAIEndpointConfig);\n\t\t\tconst params = {\n\t\t\t\t...this.clientConfig,\n\t\t\t\tbaseURL: endpoint,\n\t\t\t\ttimeout: this.timeout,\n\t\t\t\tmaxRetries: 0\n\t\t\t};\n\t\t\tif (!params.baseURL) delete params.baseURL;\n\t\t\tparams.defaultHeaders = (0,_utils_azure_js__WEBPACK_IMPORTED_MODULE_1__.getHeadersWithUserAgent)(params.defaultHeaders);\n\t\t\tthis.client = new openai__WEBPACK_IMPORTED_MODULE_2__.OpenAI(params);\n\t\t}\n\t\tconst requestOptions = {};\n\t\treturn this.caller.call(async () => {\n\t\t\ttry {\n\t\t\t\tconst res = await this.client.embeddings.create(request, requestOptions);\n\t\t\t\treturn res;\n\t\t\t} catch (e) {\n\t\t\t\tconst error = (0,_utils_client_js__WEBPACK_IMPORTED_MODULE_0__.wrapOpenAIClientError)(e);\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t});\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=embeddings.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L2VtYmVkZGluZ3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUEwRDtBQUNjO0FBQzVCO0FBQ3VCO0FBQ0o7QUFDUDs7QUFFeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsS0FBSztBQUNyQjtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsa0VBQVU7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRkFBbUYsaUZBQXNCO0FBQ3pHLHlFQUF5RSxpRkFBc0I7QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsNkVBQVU7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0Esa0JBQWtCLDJCQUEyQjtBQUM3QztBQUNBLFdBQVcsc0JBQXNCO0FBQ2pDLG1CQUFtQixrQkFBa0I7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLE9BQU87QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQyxvQkFBb0IsNERBQVc7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsd0VBQXVCO0FBQ2xELHFCQUFxQiwwQ0FBUTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsa0JBQWtCLHVFQUFxQjtBQUN2QztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDNEI7QUFDNUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rb3BlbmFpQDEuMi4zX0BsYW5nY2hhaW4rY29yZUAxLjEuMTcvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvZW1iZWRkaW5ncy5qcz85YTE2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHdyYXBPcGVuQUlDbGllbnRFcnJvciB9IGZyb20gXCIuL3V0aWxzL2NsaWVudC5qc1wiO1xuaW1wb3J0IHsgZ2V0RW5kcG9pbnQsIGdldEhlYWRlcnNXaXRoVXNlckFnZW50IH0gZnJvbSBcIi4vdXRpbHMvYXp1cmUuanNcIjtcbmltcG9ydCB7IE9wZW5BSSBhcyBPcGVuQUkkMSB9IGZyb20gXCJvcGVuYWlcIjtcbmltcG9ydCB7IGdldEVudmlyb25tZW50VmFyaWFibGUgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3V0aWxzL2VudlwiO1xuaW1wb3J0IHsgY2h1bmtBcnJheSB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvdXRpbHMvY2h1bmtfYXJyYXlcIjtcbmltcG9ydCB7IEVtYmVkZGluZ3MgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL2VtYmVkZGluZ3NcIjtcblxuLy8jcmVnaW9uIHNyYy9lbWJlZGRpbmdzLnRzXG4vKipcbiogQ2xhc3MgZm9yIGdlbmVyYXRpbmcgZW1iZWRkaW5ncyB1c2luZyB0aGUgT3BlbkFJIEFQSS5cbipcbiogVG8gdXNlIHdpdGggQXp1cmUsIGltcG9ydCB0aGUgYEF6dXJlT3BlbkFJRW1iZWRkaW5nc2AgY2xhc3MuXG4qXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogLy8gRW1iZWQgYSBxdWVyeSB1c2luZyBPcGVuQUlFbWJlZGRpbmdzIHRvIGdlbmVyYXRlIGVtYmVkZGluZ3MgZm9yIGEgZ2l2ZW4gdGV4dFxuKiBjb25zdCBtb2RlbCA9IG5ldyBPcGVuQUlFbWJlZGRpbmdzKCk7XG4qIGNvbnN0IHJlcyA9IGF3YWl0IG1vZGVsLmVtYmVkUXVlcnkoXG4qICAgXCJXaGF0IHdvdWxkIGJlIGEgZ29vZCBjb21wYW55IG5hbWUgZm9yIGEgY29tcGFueSB0aGF0IG1ha2VzIGNvbG9yZnVsIHNvY2tzP1wiLFxuKiApO1xuKiBjb25zb2xlLmxvZyh7IHJlcyB9KTtcbipcbiogYGBgXG4qL1xudmFyIE9wZW5BSUVtYmVkZGluZ3MgPSBjbGFzcyBleHRlbmRzIEVtYmVkZGluZ3Mge1xuXHRtb2RlbCA9IFwidGV4dC1lbWJlZGRpbmctYWRhLTAwMlwiO1xuXHQvKiogQGRlcHJlY2F0ZWQgVXNlIFwibW9kZWxcIiBpbnN0ZWFkICovXG5cdG1vZGVsTmFtZTtcblx0YmF0Y2hTaXplID0gNTEyO1xuXHRzdHJpcE5ld0xpbmVzID0gdHJ1ZTtcblx0LyoqXG5cdCogVGhlIG51bWJlciBvZiBkaW1lbnNpb25zIHRoZSByZXN1bHRpbmcgb3V0cHV0IGVtYmVkZGluZ3Mgc2hvdWxkIGhhdmUuXG5cdCogT25seSBzdXBwb3J0ZWQgaW4gYHRleHQtZW1iZWRkaW5nLTNgIGFuZCBsYXRlciBtb2RlbHMuXG5cdCovXG5cdGRpbWVuc2lvbnM7XG5cdHRpbWVvdXQ7XG5cdG9yZ2FuaXphdGlvbjtcblx0ZW5jb2RpbmdGb3JtYXQ7XG5cdGNsaWVudDtcblx0Y2xpZW50Q29uZmlnO1xuXHRhcGlLZXk7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdGNvbnN0IGZpZWxkc1dpdGhEZWZhdWx0cyA9IHtcblx0XHRcdG1heENvbmN1cnJlbmN5OiAyLFxuXHRcdFx0Li4uZmllbGRzXG5cdFx0fTtcblx0XHRzdXBlcihmaWVsZHNXaXRoRGVmYXVsdHMpO1xuXHRcdGNvbnN0IGFwaUtleSA9IGZpZWxkc1dpdGhEZWZhdWx0cz8uYXBpS2V5ID8/IGZpZWxkc1dpdGhEZWZhdWx0cz8ub3BlbkFJQXBpS2V5ID8/IGdldEVudmlyb25tZW50VmFyaWFibGUoXCJPUEVOQUlfQVBJX0tFWVwiKTtcblx0XHR0aGlzLm9yZ2FuaXphdGlvbiA9IGZpZWxkc1dpdGhEZWZhdWx0cz8uY29uZmlndXJhdGlvbj8ub3JnYW5pemF0aW9uID8/IGdldEVudmlyb25tZW50VmFyaWFibGUoXCJPUEVOQUlfT1JHQU5JWkFUSU9OXCIpO1xuXHRcdHRoaXMubW9kZWwgPSBmaWVsZHNXaXRoRGVmYXVsdHM/Lm1vZGVsID8/IGZpZWxkc1dpdGhEZWZhdWx0cz8ubW9kZWxOYW1lID8/IHRoaXMubW9kZWw7XG5cdFx0dGhpcy5tb2RlbE5hbWUgPSB0aGlzLm1vZGVsO1xuXHRcdHRoaXMuYmF0Y2hTaXplID0gZmllbGRzV2l0aERlZmF1bHRzPy5iYXRjaFNpemUgPz8gdGhpcy5iYXRjaFNpemU7XG5cdFx0dGhpcy5zdHJpcE5ld0xpbmVzID0gZmllbGRzV2l0aERlZmF1bHRzPy5zdHJpcE5ld0xpbmVzID8/IHRoaXMuc3RyaXBOZXdMaW5lcztcblx0XHR0aGlzLnRpbWVvdXQgPSBmaWVsZHNXaXRoRGVmYXVsdHM/LnRpbWVvdXQ7XG5cdFx0dGhpcy5kaW1lbnNpb25zID0gZmllbGRzV2l0aERlZmF1bHRzPy5kaW1lbnNpb25zO1xuXHRcdHRoaXMuZW5jb2RpbmdGb3JtYXQgPSBmaWVsZHNXaXRoRGVmYXVsdHM/LmVuY29kaW5nRm9ybWF0O1xuXHRcdHRoaXMuY2xpZW50Q29uZmlnID0ge1xuXHRcdFx0YXBpS2V5LFxuXHRcdFx0b3JnYW5pemF0aW9uOiB0aGlzLm9yZ2FuaXphdGlvbixcblx0XHRcdGRhbmdlcm91c2x5QWxsb3dCcm93c2VyOiB0cnVlLFxuXHRcdFx0Li4uZmllbGRzPy5jb25maWd1cmF0aW9uXG5cdFx0fTtcblx0fVxuXHQvKipcblx0KiBNZXRob2QgdG8gZ2VuZXJhdGUgZW1iZWRkaW5ncyBmb3IgYW4gYXJyYXkgb2YgZG9jdW1lbnRzLiBTcGxpdHMgdGhlXG5cdCogZG9jdW1lbnRzIGludG8gYmF0Y2hlcyBhbmQgbWFrZXMgcmVxdWVzdHMgdG8gdGhlIE9wZW5BSSBBUEkgdG8gZ2VuZXJhdGVcblx0KiBlbWJlZGRpbmdzLlxuXHQqIEBwYXJhbSB0ZXh0cyBBcnJheSBvZiBkb2N1bWVudHMgdG8gZ2VuZXJhdGUgZW1iZWRkaW5ncyBmb3IuXG5cdCogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGEgMkQgYXJyYXkgb2YgZW1iZWRkaW5ncyBmb3IgZWFjaCBkb2N1bWVudC5cblx0Ki9cblx0YXN5bmMgZW1iZWREb2N1bWVudHModGV4dHMpIHtcblx0XHRjb25zdCBiYXRjaGVzID0gY2h1bmtBcnJheSh0aGlzLnN0cmlwTmV3TGluZXMgPyB0ZXh0cy5tYXAoKHQpID0+IHQucmVwbGFjZSgvXFxuL2csIFwiIFwiKSkgOiB0ZXh0cywgdGhpcy5iYXRjaFNpemUpO1xuXHRcdGNvbnN0IGJhdGNoUmVxdWVzdHMgPSBiYXRjaGVzLm1hcCgoYmF0Y2gpID0+IHtcblx0XHRcdGNvbnN0IHBhcmFtcyA9IHtcblx0XHRcdFx0bW9kZWw6IHRoaXMubW9kZWwsXG5cdFx0XHRcdGlucHV0OiBiYXRjaFxuXHRcdFx0fTtcblx0XHRcdGlmICh0aGlzLmRpbWVuc2lvbnMpIHBhcmFtcy5kaW1lbnNpb25zID0gdGhpcy5kaW1lbnNpb25zO1xuXHRcdFx0aWYgKHRoaXMuZW5jb2RpbmdGb3JtYXQpIHBhcmFtcy5lbmNvZGluZ19mb3JtYXQgPSB0aGlzLmVuY29kaW5nRm9ybWF0O1xuXHRcdFx0cmV0dXJuIHRoaXMuZW1iZWRkaW5nV2l0aFJldHJ5KHBhcmFtcyk7XG5cdFx0fSk7XG5cdFx0Y29uc3QgYmF0Y2hSZXNwb25zZXMgPSBhd2FpdCBQcm9taXNlLmFsbChiYXRjaFJlcXVlc3RzKTtcblx0XHRjb25zdCBlbWJlZGRpbmdzID0gW107XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBiYXRjaFJlc3BvbnNlcy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0Y29uc3QgYmF0Y2ggPSBiYXRjaGVzW2ldO1xuXHRcdFx0Y29uc3QgeyBkYXRhOiBiYXRjaFJlc3BvbnNlIH0gPSBiYXRjaFJlc3BvbnNlc1tpXTtcblx0XHRcdGZvciAobGV0IGogPSAwOyBqIDwgYmF0Y2gubGVuZ3RoOyBqICs9IDEpIGVtYmVkZGluZ3MucHVzaChiYXRjaFJlc3BvbnNlW2pdLmVtYmVkZGluZyk7XG5cdFx0fVxuXHRcdHJldHVybiBlbWJlZGRpbmdzO1xuXHR9XG5cdC8qKlxuXHQqIE1ldGhvZCB0byBnZW5lcmF0ZSBhbiBlbWJlZGRpbmcgZm9yIGEgc2luZ2xlIGRvY3VtZW50LiBDYWxscyB0aGVcblx0KiBlbWJlZGRpbmdXaXRoUmV0cnkgbWV0aG9kIHdpdGggdGhlIGRvY3VtZW50IGFzIHRoZSBpbnB1dC5cblx0KiBAcGFyYW0gdGV4dCBEb2N1bWVudCB0byBnZW5lcmF0ZSBhbiBlbWJlZGRpbmcgZm9yLlxuXHQqIEByZXR1cm5zIFByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhbiBlbWJlZGRpbmcgZm9yIHRoZSBkb2N1bWVudC5cblx0Ki9cblx0YXN5bmMgZW1iZWRRdWVyeSh0ZXh0KSB7XG5cdFx0Y29uc3QgcGFyYW1zID0ge1xuXHRcdFx0bW9kZWw6IHRoaXMubW9kZWwsXG5cdFx0XHRpbnB1dDogdGhpcy5zdHJpcE5ld0xpbmVzID8gdGV4dC5yZXBsYWNlKC9cXG4vZywgXCIgXCIpIDogdGV4dFxuXHRcdH07XG5cdFx0aWYgKHRoaXMuZGltZW5zaW9ucykgcGFyYW1zLmRpbWVuc2lvbnMgPSB0aGlzLmRpbWVuc2lvbnM7XG5cdFx0aWYgKHRoaXMuZW5jb2RpbmdGb3JtYXQpIHBhcmFtcy5lbmNvZGluZ19mb3JtYXQgPSB0aGlzLmVuY29kaW5nRm9ybWF0O1xuXHRcdGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5lbWJlZGRpbmdXaXRoUmV0cnkocGFyYW1zKTtcblx0XHRyZXR1cm4gZGF0YVswXS5lbWJlZGRpbmc7XG5cdH1cblx0LyoqXG5cdCogUHJpdmF0ZSBtZXRob2QgdG8gbWFrZSBhIHJlcXVlc3QgdG8gdGhlIE9wZW5BSSBBUEkgdG8gZ2VuZXJhdGVcblx0KiBlbWJlZGRpbmdzLiBIYW5kbGVzIHRoZSByZXRyeSBsb2dpYyBhbmQgcmV0dXJucyB0aGUgcmVzcG9uc2UgZnJvbSB0aGVcblx0KiBBUEkuXG5cdCogQHBhcmFtIHJlcXVlc3QgUmVxdWVzdCB0byBzZW5kIHRvIHRoZSBPcGVuQUkgQVBJLlxuXHQqIEByZXR1cm5zIFByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgcmVzcG9uc2UgZnJvbSB0aGUgQVBJLlxuXHQqL1xuXHRhc3luYyBlbWJlZGRpbmdXaXRoUmV0cnkocmVxdWVzdCkge1xuXHRcdGlmICghdGhpcy5jbGllbnQpIHtcblx0XHRcdGNvbnN0IG9wZW5BSUVuZHBvaW50Q29uZmlnID0geyBiYXNlVVJMOiB0aGlzLmNsaWVudENvbmZpZy5iYXNlVVJMIH07XG5cdFx0XHRjb25zdCBlbmRwb2ludCA9IGdldEVuZHBvaW50KG9wZW5BSUVuZHBvaW50Q29uZmlnKTtcblx0XHRcdGNvbnN0IHBhcmFtcyA9IHtcblx0XHRcdFx0Li4udGhpcy5jbGllbnRDb25maWcsXG5cdFx0XHRcdGJhc2VVUkw6IGVuZHBvaW50LFxuXHRcdFx0XHR0aW1lb3V0OiB0aGlzLnRpbWVvdXQsXG5cdFx0XHRcdG1heFJldHJpZXM6IDBcblx0XHRcdH07XG5cdFx0XHRpZiAoIXBhcmFtcy5iYXNlVVJMKSBkZWxldGUgcGFyYW1zLmJhc2VVUkw7XG5cdFx0XHRwYXJhbXMuZGVmYXVsdEhlYWRlcnMgPSBnZXRIZWFkZXJzV2l0aFVzZXJBZ2VudChwYXJhbXMuZGVmYXVsdEhlYWRlcnMpO1xuXHRcdFx0dGhpcy5jbGllbnQgPSBuZXcgT3BlbkFJJDEocGFyYW1zKTtcblx0XHR9XG5cdFx0Y29uc3QgcmVxdWVzdE9wdGlvbnMgPSB7fTtcblx0XHRyZXR1cm4gdGhpcy5jYWxsZXIuY2FsbChhc3luYyAoKSA9PiB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCByZXMgPSBhd2FpdCB0aGlzLmNsaWVudC5lbWJlZGRpbmdzLmNyZWF0ZShyZXF1ZXN0LCByZXF1ZXN0T3B0aW9ucyk7XG5cdFx0XHRcdHJldHVybiByZXM7XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdGNvbnN0IGVycm9yID0gd3JhcE9wZW5BSUNsaWVudEVycm9yKGUpO1xuXHRcdFx0XHR0aHJvdyBlcnJvcjtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBPcGVuQUlFbWJlZGRpbmdzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbWJlZGRpbmdzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/embeddings.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/index.js":
/*!***********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/index.js ***!
  \***********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AzureChatOpenAI: () => (/* reexport safe */ _azure_chat_models_index_js__WEBPACK_IMPORTED_MODULE_11__.AzureChatOpenAI),\n/* harmony export */   AzureChatOpenAICompletions: () => (/* reexport safe */ _azure_chat_models_completions_js__WEBPACK_IMPORTED_MODULE_6__.AzureChatOpenAICompletions),\n/* harmony export */   AzureChatOpenAIResponses: () => (/* reexport safe */ _azure_chat_models_responses_js__WEBPACK_IMPORTED_MODULE_9__.AzureChatOpenAIResponses),\n/* harmony export */   AzureOpenAI: () => (/* reexport safe */ _azure_llms_js__WEBPACK_IMPORTED_MODULE_13__.AzureOpenAI),\n/* harmony export */   AzureOpenAIEmbeddings: () => (/* reexport safe */ _azure_embeddings_js__WEBPACK_IMPORTED_MODULE_15__.AzureOpenAIEmbeddings),\n/* harmony export */   BaseChatOpenAI: () => (/* reexport safe */ _chat_models_base_js__WEBPACK_IMPORTED_MODULE_3__.BaseChatOpenAI),\n/* harmony export */   ChatOpenAI: () => (/* reexport safe */ _chat_models_index_js__WEBPACK_IMPORTED_MODULE_10__.ChatOpenAI),\n/* harmony export */   ChatOpenAICompletions: () => (/* reexport safe */ _chat_models_completions_js__WEBPACK_IMPORTED_MODULE_5__.ChatOpenAICompletions),\n/* harmony export */   ChatOpenAIResponses: () => (/* reexport safe */ _chat_models_responses_js__WEBPACK_IMPORTED_MODULE_8__.ChatOpenAIResponses),\n/* harmony export */   DallEAPIWrapper: () => (/* reexport safe */ _tools_dalle_js__WEBPACK_IMPORTED_MODULE_16__.DallEAPIWrapper),\n/* harmony export */   OpenAI: () => (/* reexport safe */ _llms_js__WEBPACK_IMPORTED_MODULE_12__.OpenAI),\n/* harmony export */   OpenAIClient: () => (/* reexport safe */ openai__WEBPACK_IMPORTED_MODULE_21__.OpenAI),\n/* harmony export */   OpenAIEmbeddings: () => (/* reexport safe */ _embeddings_js__WEBPACK_IMPORTED_MODULE_14__.OpenAIEmbeddings),\n/* harmony export */   completionsApiContentBlockConverter: () => (/* reexport safe */ _converters_completions_js__WEBPACK_IMPORTED_MODULE_4__.completionsApiContentBlockConverter),\n/* harmony export */   convertCompletionsDeltaToBaseMessageChunk: () => (/* reexport safe */ _converters_completions_js__WEBPACK_IMPORTED_MODULE_4__.convertCompletionsDeltaToBaseMessageChunk),\n/* harmony export */   convertCompletionsMessageToBaseMessage: () => (/* reexport safe */ _converters_completions_js__WEBPACK_IMPORTED_MODULE_4__.convertCompletionsMessageToBaseMessage),\n/* harmony export */   convertMessagesToCompletionsMessageParams: () => (/* reexport safe */ _converters_completions_js__WEBPACK_IMPORTED_MODULE_4__.convertMessagesToCompletionsMessageParams),\n/* harmony export */   convertMessagesToResponsesInput: () => (/* reexport safe */ _converters_responses_js__WEBPACK_IMPORTED_MODULE_7__.convertMessagesToResponsesInput),\n/* harmony export */   convertPromptToOpenAI: () => (/* reexport safe */ _utils_prompts_js__WEBPACK_IMPORTED_MODULE_19__.convertPromptToOpenAI),\n/* harmony export */   convertReasoningSummaryToResponsesReasoningItem: () => (/* reexport safe */ _converters_responses_js__WEBPACK_IMPORTED_MODULE_7__.convertReasoningSummaryToResponsesReasoningItem),\n/* harmony export */   convertResponsesDeltaToChatGenerationChunk: () => (/* reexport safe */ _converters_responses_js__WEBPACK_IMPORTED_MODULE_7__.convertResponsesDeltaToChatGenerationChunk),\n/* harmony export */   convertResponsesMessageToAIMessage: () => (/* reexport safe */ _converters_responses_js__WEBPACK_IMPORTED_MODULE_7__.convertResponsesMessageToAIMessage),\n/* harmony export */   convertResponsesUsageToUsageMetadata: () => (/* reexport safe */ _converters_responses_js__WEBPACK_IMPORTED_MODULE_7__.convertResponsesUsageToUsageMetadata),\n/* harmony export */   convertStandardContentBlockToCompletionsContentPart: () => (/* reexport safe */ _converters_completions_js__WEBPACK_IMPORTED_MODULE_4__.convertStandardContentBlockToCompletionsContentPart),\n/* harmony export */   convertStandardContentMessageToCompletionsMessage: () => (/* reexport safe */ _converters_completions_js__WEBPACK_IMPORTED_MODULE_4__.convertStandardContentMessageToCompletionsMessage),\n/* harmony export */   convertStandardContentMessageToResponsesInput: () => (/* reexport safe */ _converters_responses_js__WEBPACK_IMPORTED_MODULE_7__.convertStandardContentMessageToResponsesInput),\n/* harmony export */   customTool: () => (/* reexport safe */ _tools_custom_js__WEBPACK_IMPORTED_MODULE_18__.customTool),\n/* harmony export */   getEndpoint: () => (/* reexport safe */ _utils_azure_js__WEBPACK_IMPORTED_MODULE_2__.getEndpoint),\n/* harmony export */   getFormattedEnv: () => (/* reexport safe */ _utils_azure_js__WEBPACK_IMPORTED_MODULE_2__.getFormattedEnv),\n/* harmony export */   getHeadersWithUserAgent: () => (/* reexport safe */ _utils_azure_js__WEBPACK_IMPORTED_MODULE_2__.getHeadersWithUserAgent),\n/* harmony export */   isHeaders: () => (/* reexport safe */ _utils_azure_js__WEBPACK_IMPORTED_MODULE_2__.isHeaders),\n/* harmony export */   messageToOpenAIRole: () => (/* reexport safe */ _utils_misc_js__WEBPACK_IMPORTED_MODULE_1__.messageToOpenAIRole),\n/* harmony export */   normalizeHeaders: () => (/* reexport safe */ _utils_azure_js__WEBPACK_IMPORTED_MODULE_2__.normalizeHeaders),\n/* harmony export */   toFile: () => (/* reexport safe */ openai__WEBPACK_IMPORTED_MODULE_21__.toFile),\n/* harmony export */   tools: () => (/* reexport safe */ _tools_index_js__WEBPACK_IMPORTED_MODULE_17__.tools),\n/* harmony export */   wrapOpenAIClientError: () => (/* reexport safe */ _utils_client_js__WEBPACK_IMPORTED_MODULE_0__.wrapOpenAIClientError)\n/* harmony export */ });\n/* harmony import */ var _utils_client_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/client.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/client.js\");\n/* harmony import */ var _utils_misc_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/misc.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/misc.js\");\n/* harmony import */ var _utils_azure_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/azure.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/azure.js\");\n/* harmony import */ var _chat_models_base_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chat_models/base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/chat_models/base.js\");\n/* harmony import */ var _converters_completions_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./converters/completions.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/converters/completions.js\");\n/* harmony import */ var _chat_models_completions_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chat_models/completions.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/chat_models/completions.js\");\n/* harmony import */ var _azure_chat_models_completions_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./azure/chat_models/completions.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/azure/chat_models/completions.js\");\n/* harmony import */ var _converters_responses_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./converters/responses.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/converters/responses.js\");\n/* harmony import */ var _chat_models_responses_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./chat_models/responses.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/chat_models/responses.js\");\n/* harmony import */ var _azure_chat_models_responses_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./azure/chat_models/responses.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/azure/chat_models/responses.js\");\n/* harmony import */ var _chat_models_index_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./chat_models/index.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/chat_models/index.js\");\n/* harmony import */ var _azure_chat_models_index_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./azure/chat_models/index.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/azure/chat_models/index.js\");\n/* harmony import */ var _llms_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./llms.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/llms.js\");\n/* harmony import */ var _azure_llms_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./azure/llms.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/azure/llms.js\");\n/* harmony import */ var _embeddings_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./embeddings.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/embeddings.js\");\n/* harmony import */ var _azure_embeddings_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./azure/embeddings.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/azure/embeddings.js\");\n/* harmony import */ var _tools_dalle_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./tools/dalle.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/dalle.js\");\n/* harmony import */ var _tools_index_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./tools/index.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/index.js\");\n/* harmony import */ var _tools_custom_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./tools/custom.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/custom.js\");\n/* harmony import */ var _utils_prompts_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./utils/prompts.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/prompts.js\");\n/* harmony import */ var _converters_index_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./converters/index.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/converters/index.js\");\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! openai */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+openai@6.16.0_zod@4.3.6/node_modules/openai/index.mjs\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMEQ7QUFDSjtBQUNnRTtBQUMvRDtBQUNpUTtBQUNuUDtBQUNXO0FBQ2tOO0FBQ2pPO0FBQ1c7QUFDeEI7QUFDVztBQUM1QjtBQUNXO0FBQ0s7QUFDVztBQUNYO0FBQ1Y7QUFDTTtBQUNZO0FBQzVCO0FBQ3lCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L2luZGV4LmpzPzIyZDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgd3JhcE9wZW5BSUNsaWVudEVycm9yIH0gZnJvbSBcIi4vdXRpbHMvY2xpZW50LmpzXCI7XG5pbXBvcnQgeyBtZXNzYWdlVG9PcGVuQUlSb2xlIH0gZnJvbSBcIi4vdXRpbHMvbWlzYy5qc1wiO1xuaW1wb3J0IHsgZ2V0RW5kcG9pbnQsIGdldEZvcm1hdHRlZEVudiwgZ2V0SGVhZGVyc1dpdGhVc2VyQWdlbnQsIGlzSGVhZGVycywgbm9ybWFsaXplSGVhZGVycyB9IGZyb20gXCIuL3V0aWxzL2F6dXJlLmpzXCI7XG5pbXBvcnQgeyBCYXNlQ2hhdE9wZW5BSSB9IGZyb20gXCIuL2NoYXRfbW9kZWxzL2Jhc2UuanNcIjtcbmltcG9ydCB7IGNvbXBsZXRpb25zQXBpQ29udGVudEJsb2NrQ29udmVydGVyLCBjb252ZXJ0Q29tcGxldGlvbnNEZWx0YVRvQmFzZU1lc3NhZ2VDaHVuaywgY29udmVydENvbXBsZXRpb25zTWVzc2FnZVRvQmFzZU1lc3NhZ2UsIGNvbnZlcnRNZXNzYWdlc1RvQ29tcGxldGlvbnNNZXNzYWdlUGFyYW1zLCBjb252ZXJ0U3RhbmRhcmRDb250ZW50QmxvY2tUb0NvbXBsZXRpb25zQ29udGVudFBhcnQsIGNvbnZlcnRTdGFuZGFyZENvbnRlbnRNZXNzYWdlVG9Db21wbGV0aW9uc01lc3NhZ2UgfSBmcm9tIFwiLi9jb252ZXJ0ZXJzL2NvbXBsZXRpb25zLmpzXCI7XG5pbXBvcnQgeyBDaGF0T3BlbkFJQ29tcGxldGlvbnMgfSBmcm9tIFwiLi9jaGF0X21vZGVscy9jb21wbGV0aW9ucy5qc1wiO1xuaW1wb3J0IHsgQXp1cmVDaGF0T3BlbkFJQ29tcGxldGlvbnMgfSBmcm9tIFwiLi9henVyZS9jaGF0X21vZGVscy9jb21wbGV0aW9ucy5qc1wiO1xuaW1wb3J0IHsgY29udmVydE1lc3NhZ2VzVG9SZXNwb25zZXNJbnB1dCwgY29udmVydFJlYXNvbmluZ1N1bW1hcnlUb1Jlc3BvbnNlc1JlYXNvbmluZ0l0ZW0sIGNvbnZlcnRSZXNwb25zZXNEZWx0YVRvQ2hhdEdlbmVyYXRpb25DaHVuaywgY29udmVydFJlc3BvbnNlc01lc3NhZ2VUb0FJTWVzc2FnZSwgY29udmVydFJlc3BvbnNlc1VzYWdlVG9Vc2FnZU1ldGFkYXRhLCBjb252ZXJ0U3RhbmRhcmRDb250ZW50TWVzc2FnZVRvUmVzcG9uc2VzSW5wdXQgfSBmcm9tIFwiLi9jb252ZXJ0ZXJzL3Jlc3BvbnNlcy5qc1wiO1xuaW1wb3J0IHsgQ2hhdE9wZW5BSVJlc3BvbnNlcyB9IGZyb20gXCIuL2NoYXRfbW9kZWxzL3Jlc3BvbnNlcy5qc1wiO1xuaW1wb3J0IHsgQXp1cmVDaGF0T3BlbkFJUmVzcG9uc2VzIH0gZnJvbSBcIi4vYXp1cmUvY2hhdF9tb2RlbHMvcmVzcG9uc2VzLmpzXCI7XG5pbXBvcnQgeyBDaGF0T3BlbkFJIH0gZnJvbSBcIi4vY2hhdF9tb2RlbHMvaW5kZXguanNcIjtcbmltcG9ydCB7IEF6dXJlQ2hhdE9wZW5BSSB9IGZyb20gXCIuL2F6dXJlL2NoYXRfbW9kZWxzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBPcGVuQUkgfSBmcm9tIFwiLi9sbG1zLmpzXCI7XG5pbXBvcnQgeyBBenVyZU9wZW5BSSB9IGZyb20gXCIuL2F6dXJlL2xsbXMuanNcIjtcbmltcG9ydCB7IE9wZW5BSUVtYmVkZGluZ3MgfSBmcm9tIFwiLi9lbWJlZGRpbmdzLmpzXCI7XG5pbXBvcnQgeyBBenVyZU9wZW5BSUVtYmVkZGluZ3MgfSBmcm9tIFwiLi9henVyZS9lbWJlZGRpbmdzLmpzXCI7XG5pbXBvcnQgeyBEYWxsRUFQSVdyYXBwZXIgfSBmcm9tIFwiLi90b29scy9kYWxsZS5qc1wiO1xuaW1wb3J0IHsgdG9vbHMgfSBmcm9tIFwiLi90b29scy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgY3VzdG9tVG9vbCB9IGZyb20gXCIuL3Rvb2xzL2N1c3RvbS5qc1wiO1xuaW1wb3J0IHsgY29udmVydFByb21wdFRvT3BlbkFJIH0gZnJvbSBcIi4vdXRpbHMvcHJvbXB0cy5qc1wiO1xuaW1wb3J0IFwiLi9jb252ZXJ0ZXJzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBPcGVuQUkgYXMgT3BlbkFJQ2xpZW50LCB0b0ZpbGUgfSBmcm9tIFwib3BlbmFpXCI7XG5cbmV4cG9ydCB7IEF6dXJlQ2hhdE9wZW5BSSwgQXp1cmVDaGF0T3BlbkFJQ29tcGxldGlvbnMsIEF6dXJlQ2hhdE9wZW5BSVJlc3BvbnNlcywgQXp1cmVPcGVuQUksIEF6dXJlT3BlbkFJRW1iZWRkaW5ncywgQmFzZUNoYXRPcGVuQUksIENoYXRPcGVuQUksIENoYXRPcGVuQUlDb21wbGV0aW9ucywgQ2hhdE9wZW5BSVJlc3BvbnNlcywgRGFsbEVBUElXcmFwcGVyLCBPcGVuQUksIE9wZW5BSUNsaWVudCwgT3BlbkFJRW1iZWRkaW5ncywgY29tcGxldGlvbnNBcGlDb250ZW50QmxvY2tDb252ZXJ0ZXIsIGNvbnZlcnRDb21wbGV0aW9uc0RlbHRhVG9CYXNlTWVzc2FnZUNodW5rLCBjb252ZXJ0Q29tcGxldGlvbnNNZXNzYWdlVG9CYXNlTWVzc2FnZSwgY29udmVydE1lc3NhZ2VzVG9Db21wbGV0aW9uc01lc3NhZ2VQYXJhbXMsIGNvbnZlcnRNZXNzYWdlc1RvUmVzcG9uc2VzSW5wdXQsIGNvbnZlcnRQcm9tcHRUb09wZW5BSSwgY29udmVydFJlYXNvbmluZ1N1bW1hcnlUb1Jlc3BvbnNlc1JlYXNvbmluZ0l0ZW0sIGNvbnZlcnRSZXNwb25zZXNEZWx0YVRvQ2hhdEdlbmVyYXRpb25DaHVuaywgY29udmVydFJlc3BvbnNlc01lc3NhZ2VUb0FJTWVzc2FnZSwgY29udmVydFJlc3BvbnNlc1VzYWdlVG9Vc2FnZU1ldGFkYXRhLCBjb252ZXJ0U3RhbmRhcmRDb250ZW50QmxvY2tUb0NvbXBsZXRpb25zQ29udGVudFBhcnQsIGNvbnZlcnRTdGFuZGFyZENvbnRlbnRNZXNzYWdlVG9Db21wbGV0aW9uc01lc3NhZ2UsIGNvbnZlcnRTdGFuZGFyZENvbnRlbnRNZXNzYWdlVG9SZXNwb25zZXNJbnB1dCwgY3VzdG9tVG9vbCwgZ2V0RW5kcG9pbnQsIGdldEZvcm1hdHRlZEVudiwgZ2V0SGVhZGVyc1dpdGhVc2VyQWdlbnQsIGlzSGVhZGVycywgbWVzc2FnZVRvT3BlbkFJUm9sZSwgbm9ybWFsaXplSGVhZGVycywgdG9GaWxlLCB0b29scywgd3JhcE9wZW5BSUNsaWVudEVycm9yIH07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/llms.js":
/*!**********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/llms.js ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OpenAI: () => (/* binding */ OpenAI$2)\n/* harmony export */ });\n/* harmony import */ var _utils_client_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/client.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/client.js\");\n/* harmony import */ var _utils_azure_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/azure.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/azure.js\");\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! openai */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+openai@6.16.0_zod@4.3.6/node_modules/openai/index.mjs\");\n/* harmony import */ var _langchain_core_outputs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @langchain/core/outputs */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/outputs.js\");\n/* harmony import */ var _langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @langchain/core/utils/env */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/env.js\");\n/* harmony import */ var _langchain_core_language_models_base__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @langchain/core/language_models/base */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/language_models/base.js\");\n/* harmony import */ var _langchain_core_language_models_llms__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @langchain/core/language_models/llms */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/language_models/llms.js\");\n/* harmony import */ var _langchain_core_utils_chunk_array__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @langchain/core/utils/chunk_array */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/chunk_array.js\");\n\n\n\n\n\n\n\n\n\n//#region src/llms.ts\n/**\n* Wrapper around OpenAI large language models.\n*\n* To use you should have the `openai` package installed, with the\n* `OPENAI_API_KEY` environment variable set.\n*\n* To use with Azure, import the `AzureOpenAI` class.\n*\n* @remarks\n* Any parameters that are valid to be passed to {@link\n* https://platform.openai.com/docs/api-reference/completions/create |\n* `openai.createCompletion`} can be passed through {@link modelKwargs}, even\n* if not explicitly available on this class.\n* @example\n* ```typescript\n* const model = new OpenAI({\n*   modelName: \"gpt-4\",\n*   temperature: 0.7,\n*   maxTokens: 1000,\n*   maxRetries: 5,\n* });\n*\n* const res = await model.invoke(\n*   \"Question: What would be a good company name for a company that makes colorful socks?\\nAnswer:\"\n* );\n* console.log({ res });\n* ```\n*/\nvar OpenAI$2 = class extends _langchain_core_language_models_llms__WEBPACK_IMPORTED_MODULE_6__.BaseLLM {\n\tstatic lc_name() {\n\t\treturn \"OpenAI\";\n\t}\n\tget callKeys() {\n\t\treturn [...super.callKeys, \"options\"];\n\t}\n\tlc_serializable = true;\n\tget lc_secrets() {\n\t\treturn {\n\t\t\topenAIApiKey: \"OPENAI_API_KEY\",\n\t\t\tapiKey: \"OPENAI_API_KEY\",\n\t\t\torganization: \"OPENAI_ORGANIZATION\"\n\t\t};\n\t}\n\tget lc_aliases() {\n\t\treturn {\n\t\t\tmodelName: \"model\",\n\t\t\topenAIApiKey: \"openai_api_key\",\n\t\t\tapiKey: \"openai_api_key\"\n\t\t};\n\t}\n\ttemperature;\n\tmaxTokens;\n\ttopP;\n\tfrequencyPenalty;\n\tpresencePenalty;\n\tn = 1;\n\tbestOf;\n\tlogitBias;\n\tmodel = \"gpt-3.5-turbo-instruct\";\n\t/** @deprecated Use \"model\" instead */\n\tmodelName;\n\tmodelKwargs;\n\tbatchSize = 20;\n\ttimeout;\n\tstop;\n\tstopSequences;\n\tuser;\n\tstreaming = false;\n\topenAIApiKey;\n\tapiKey;\n\torganization;\n\tclient;\n\tclientConfig;\n\tconstructor(fields) {\n\t\tsuper(fields ?? {});\n\t\tthis.openAIApiKey = fields?.apiKey ?? fields?.openAIApiKey ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_4__.getEnvironmentVariable)(\"OPENAI_API_KEY\");\n\t\tthis.apiKey = this.openAIApiKey;\n\t\tthis.organization = fields?.configuration?.organization ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_4__.getEnvironmentVariable)(\"OPENAI_ORGANIZATION\");\n\t\tthis.model = fields?.model ?? fields?.modelName ?? this.model;\n\t\tif ((this.model?.startsWith(\"gpt-3.5-turbo\") || this.model?.startsWith(\"gpt-4\") || this.model?.startsWith(\"o1\")) && !this.model?.includes(\"-instruct\")) throw new Error([\n\t\t\t`Your chosen OpenAI model, \"${this.model}\", is a chat model and not a text-in/text-out LLM.`,\n\t\t\t`Passing it into the \"OpenAI\" class is no longer supported.`,\n\t\t\t`Please use the \"ChatOpenAI\" class instead.`,\n\t\t\t\"\",\n\t\t\t`See this page for more information:`,\n\t\t\t\"|\",\n\t\t\t`> https://js.langchain.com/docs/integrations/chat/openai`\n\t\t].join(\"\\n\"));\n\t\tthis.modelName = this.model;\n\t\tthis.modelKwargs = fields?.modelKwargs ?? {};\n\t\tthis.batchSize = fields?.batchSize ?? this.batchSize;\n\t\tthis.timeout = fields?.timeout;\n\t\tthis.temperature = fields?.temperature ?? this.temperature;\n\t\tthis.maxTokens = fields?.maxTokens ?? this.maxTokens;\n\t\tthis.topP = fields?.topP ?? this.topP;\n\t\tthis.frequencyPenalty = fields?.frequencyPenalty ?? this.frequencyPenalty;\n\t\tthis.presencePenalty = fields?.presencePenalty ?? this.presencePenalty;\n\t\tthis.n = fields?.n ?? this.n;\n\t\tthis.bestOf = fields?.bestOf ?? this.bestOf;\n\t\tthis.logitBias = fields?.logitBias;\n\t\tthis.stop = fields?.stopSequences ?? fields?.stop;\n\t\tthis.stopSequences = this.stop;\n\t\tthis.user = fields?.user;\n\t\tthis.streaming = fields?.streaming ?? false;\n\t\tif (this.streaming && this.bestOf && this.bestOf > 1) throw new Error(\"Cannot stream results when bestOf > 1\");\n\t\tthis.clientConfig = {\n\t\t\tapiKey: this.apiKey,\n\t\t\torganization: this.organization,\n\t\t\tdangerouslyAllowBrowser: true,\n\t\t\t...fields?.configuration\n\t\t};\n\t}\n\t/**\n\t* Get the parameters used to invoke the model\n\t*/\n\tinvocationParams(options) {\n\t\treturn {\n\t\t\tmodel: this.model,\n\t\t\ttemperature: this.temperature,\n\t\t\tmax_tokens: this.maxTokens,\n\t\t\ttop_p: this.topP,\n\t\t\tfrequency_penalty: this.frequencyPenalty,\n\t\t\tpresence_penalty: this.presencePenalty,\n\t\t\tn: this.n,\n\t\t\tbest_of: this.bestOf,\n\t\t\tlogit_bias: this.logitBias,\n\t\t\tstop: options?.stop ?? this.stopSequences,\n\t\t\tuser: this.user,\n\t\t\tstream: this.streaming,\n\t\t\t...this.modelKwargs\n\t\t};\n\t}\n\t/** @ignore */\n\t_identifyingParams() {\n\t\treturn {\n\t\t\tmodel_name: this.model,\n\t\t\t...this.invocationParams(),\n\t\t\t...this.clientConfig\n\t\t};\n\t}\n\t/**\n\t* Get the identifying parameters for the model\n\t*/\n\tidentifyingParams() {\n\t\treturn this._identifyingParams();\n\t}\n\t/**\n\t* Call out to OpenAI's endpoint with k unique prompts\n\t*\n\t* @param [prompts] - The prompts to pass into the model.\n\t* @param [options] - Optional list of stop words to use when generating.\n\t* @param [runManager] - Optional callback manager to use when generating.\n\t*\n\t* @returns The full LLM output.\n\t*\n\t* @example\n\t* ```ts\n\t* import { OpenAI } from \"langchain/llms/openai\";\n\t* const openai = new OpenAI();\n\t* const response = await openai.generate([\"Tell me a joke.\"]);\n\t* ```\n\t*/\n\tasync _generate(prompts, options, runManager) {\n\t\tconst subPrompts = (0,_langchain_core_utils_chunk_array__WEBPACK_IMPORTED_MODULE_7__.chunkArray)(prompts, this.batchSize);\n\t\tconst choices = [];\n\t\tconst tokenUsage = {};\n\t\tconst params = this.invocationParams(options);\n\t\tif (params.max_tokens === -1) {\n\t\t\tif (prompts.length !== 1) throw new Error(\"max_tokens set to -1 not supported for multiple inputs\");\n\t\t\tparams.max_tokens = await (0,_langchain_core_language_models_base__WEBPACK_IMPORTED_MODULE_5__.calculateMaxTokens)({\n\t\t\t\tprompt: prompts[0],\n\t\t\t\tmodelName: this.model\n\t\t\t});\n\t\t}\n\t\tfor (let i = 0; i < subPrompts.length; i += 1) {\n\t\t\tconst data = params.stream ? await (async () => {\n\t\t\t\tconst choices$1 = [];\n\t\t\t\tlet response;\n\t\t\t\tconst stream = await this.completionWithRetry({\n\t\t\t\t\t...params,\n\t\t\t\t\tstream: true,\n\t\t\t\t\tprompt: subPrompts[i]\n\t\t\t\t}, options);\n\t\t\t\tfor await (const message of stream) {\n\t\t\t\t\tif (!response) response = {\n\t\t\t\t\t\tid: message.id,\n\t\t\t\t\t\tobject: message.object,\n\t\t\t\t\t\tcreated: message.created,\n\t\t\t\t\t\tmodel: message.model\n\t\t\t\t\t};\n\t\t\t\t\tfor (const part of message.choices) {\n\t\t\t\t\t\tif (!choices$1[part.index]) choices$1[part.index] = part;\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tconst choice = choices$1[part.index];\n\t\t\t\t\t\t\tchoice.text += part.text;\n\t\t\t\t\t\t\tchoice.finish_reason = part.finish_reason;\n\t\t\t\t\t\t\tchoice.logprobs = part.logprobs;\n\t\t\t\t\t\t}\n\t\t\t\t\t\trunManager?.handleLLMNewToken(part.text, {\n\t\t\t\t\t\t\tprompt: Math.floor(part.index / this.n),\n\t\t\t\t\t\t\tcompletion: part.index % this.n\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (options.signal?.aborted) throw new Error(\"AbortError\");\n\t\t\t\treturn {\n\t\t\t\t\t...response,\n\t\t\t\t\tchoices: choices$1\n\t\t\t\t};\n\t\t\t})() : await this.completionWithRetry({\n\t\t\t\t...params,\n\t\t\t\tstream: false,\n\t\t\t\tprompt: subPrompts[i]\n\t\t\t}, {\n\t\t\t\tsignal: options.signal,\n\t\t\t\t...options.options\n\t\t\t});\n\t\t\tchoices.push(...data.choices);\n\t\t\tconst { completion_tokens: completionTokens, prompt_tokens: promptTokens, total_tokens: totalTokens } = data.usage ? data.usage : {\n\t\t\t\tcompletion_tokens: void 0,\n\t\t\t\tprompt_tokens: void 0,\n\t\t\t\ttotal_tokens: void 0\n\t\t\t};\n\t\t\tif (completionTokens) tokenUsage.completionTokens = (tokenUsage.completionTokens ?? 0) + completionTokens;\n\t\t\tif (promptTokens) tokenUsage.promptTokens = (tokenUsage.promptTokens ?? 0) + promptTokens;\n\t\t\tif (totalTokens) tokenUsage.totalTokens = (tokenUsage.totalTokens ?? 0) + totalTokens;\n\t\t}\n\t\tconst generations = (0,_langchain_core_utils_chunk_array__WEBPACK_IMPORTED_MODULE_7__.chunkArray)(choices, this.n).map((promptChoices) => promptChoices.map((choice) => ({\n\t\t\ttext: choice.text ?? \"\",\n\t\t\tgenerationInfo: {\n\t\t\t\tfinishReason: choice.finish_reason,\n\t\t\t\tlogprobs: choice.logprobs\n\t\t\t}\n\t\t})));\n\t\treturn {\n\t\t\tgenerations,\n\t\t\tllmOutput: { tokenUsage }\n\t\t};\n\t}\n\tasync *_streamResponseChunks(input, options, runManager) {\n\t\tconst params = {\n\t\t\t...this.invocationParams(options),\n\t\t\tprompt: input,\n\t\t\tstream: true\n\t\t};\n\t\tconst stream = await this.completionWithRetry(params, options);\n\t\tfor await (const data of stream) {\n\t\t\tconst choice = data?.choices[0];\n\t\t\tif (!choice) continue;\n\t\t\tconst chunk = new _langchain_core_outputs__WEBPACK_IMPORTED_MODULE_3__.GenerationChunk({\n\t\t\t\ttext: choice.text,\n\t\t\t\tgenerationInfo: { finishReason: choice.finish_reason }\n\t\t\t});\n\t\t\tyield chunk;\n\t\t\trunManager?.handleLLMNewToken(chunk.text ?? \"\");\n\t\t}\n\t\tif (options.signal?.aborted) throw new Error(\"AbortError\");\n\t}\n\tasync completionWithRetry(request, options) {\n\t\tconst requestOptions = this._getClientOptions(options);\n\t\treturn this.caller.call(async () => {\n\t\t\ttry {\n\t\t\t\tconst res = await this.client.completions.create(request, requestOptions);\n\t\t\t\treturn res;\n\t\t\t} catch (e) {\n\t\t\t\tconst error = (0,_utils_client_js__WEBPACK_IMPORTED_MODULE_0__.wrapOpenAIClientError)(e);\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t});\n\t}\n\t/**\n\t* Calls the OpenAI API with retry logic in case of failures.\n\t* @param request The request to send to the OpenAI API.\n\t* @param options Optional configuration for the API call.\n\t* @returns The response from the OpenAI API.\n\t*/\n\t_getClientOptions(options) {\n\t\tif (!this.client) {\n\t\t\tconst openAIEndpointConfig = { baseURL: this.clientConfig.baseURL };\n\t\t\tconst endpoint = (0,_utils_azure_js__WEBPACK_IMPORTED_MODULE_1__.getEndpoint)(openAIEndpointConfig);\n\t\t\tconst params = {\n\t\t\t\t...this.clientConfig,\n\t\t\t\tbaseURL: endpoint,\n\t\t\t\ttimeout: this.timeout,\n\t\t\t\tmaxRetries: 0\n\t\t\t};\n\t\t\tif (!params.baseURL) delete params.baseURL;\n\t\t\tparams.defaultHeaders = (0,_utils_azure_js__WEBPACK_IMPORTED_MODULE_1__.getHeadersWithUserAgent)(params.defaultHeaders);\n\t\t\tthis.client = new openai__WEBPACK_IMPORTED_MODULE_2__.OpenAI(params);\n\t\t}\n\t\tconst requestOptions = {\n\t\t\t...this.clientConfig,\n\t\t\t...options\n\t\t};\n\t\treturn requestOptions;\n\t}\n\t_llmType() {\n\t\treturn \"openai\";\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=llms.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L2xsbXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQTBEO0FBQ2M7QUFDNUI7QUFDYztBQUNTO0FBQ087QUFDWDtBQUNBOztBQUUvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRDtBQUNBLDZCQUE2Qix1QkFBdUIsa0JBQWtCO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsS0FBSztBQUNyQjtBQUNBO0FBQ0EsNkJBQTZCLHlFQUFPO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQixnRUFBZ0UsaUZBQXNCO0FBQ3RGO0FBQ0EsNkRBQTZELGlGQUFzQjtBQUNuRjtBQUNBO0FBQ0EsaUNBQWlDLFdBQVc7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFNBQVM7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw2RUFBVTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHdGQUFrQjtBQUMvQztBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0Esa0JBQWtCLHVCQUF1QjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxXQUFXLDhGQUE4RjtBQUN6RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDZFQUFVO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsb0VBQWU7QUFDcEM7QUFDQSxzQkFBc0I7QUFDdEIsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsa0JBQWtCLHVFQUFxQjtBQUN2QztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQyxvQkFBb0IsNERBQVc7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsd0VBQXVCO0FBQ2xELHFCQUFxQiwwQ0FBUTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQzhCO0FBQzlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L2xsbXMuanM/NTE3ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB3cmFwT3BlbkFJQ2xpZW50RXJyb3IgfSBmcm9tIFwiLi91dGlscy9jbGllbnQuanNcIjtcbmltcG9ydCB7IGdldEVuZHBvaW50LCBnZXRIZWFkZXJzV2l0aFVzZXJBZ2VudCB9IGZyb20gXCIuL3V0aWxzL2F6dXJlLmpzXCI7XG5pbXBvcnQgeyBPcGVuQUkgYXMgT3BlbkFJJDEgfSBmcm9tIFwib3BlbmFpXCI7XG5pbXBvcnQgeyBHZW5lcmF0aW9uQ2h1bmsgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL291dHB1dHNcIjtcbmltcG9ydCB7IGdldEVudmlyb25tZW50VmFyaWFibGUgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3V0aWxzL2VudlwiO1xuaW1wb3J0IHsgY2FsY3VsYXRlTWF4VG9rZW5zIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9sYW5ndWFnZV9tb2RlbHMvYmFzZVwiO1xuaW1wb3J0IHsgQmFzZUxMTSB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvbGFuZ3VhZ2VfbW9kZWxzL2xsbXNcIjtcbmltcG9ydCB7IGNodW5rQXJyYXkgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3V0aWxzL2NodW5rX2FycmF5XCI7XG5cbi8vI3JlZ2lvbiBzcmMvbGxtcy50c1xuLyoqXG4qIFdyYXBwZXIgYXJvdW5kIE9wZW5BSSBsYXJnZSBsYW5ndWFnZSBtb2RlbHMuXG4qXG4qIFRvIHVzZSB5b3Ugc2hvdWxkIGhhdmUgdGhlIGBvcGVuYWlgIHBhY2thZ2UgaW5zdGFsbGVkLCB3aXRoIHRoZVxuKiBgT1BFTkFJX0FQSV9LRVlgIGVudmlyb25tZW50IHZhcmlhYmxlIHNldC5cbipcbiogVG8gdXNlIHdpdGggQXp1cmUsIGltcG9ydCB0aGUgYEF6dXJlT3BlbkFJYCBjbGFzcy5cbipcbiogQHJlbWFya3NcbiogQW55IHBhcmFtZXRlcnMgdGhhdCBhcmUgdmFsaWQgdG8gYmUgcGFzc2VkIHRvIHtAbGlua1xuKiBodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2NvbXBsZXRpb25zL2NyZWF0ZSB8XG4qIGBvcGVuYWkuY3JlYXRlQ29tcGxldGlvbmB9IGNhbiBiZSBwYXNzZWQgdGhyb3VnaCB7QGxpbmsgbW9kZWxLd2FyZ3N9LCBldmVuXG4qIGlmIG5vdCBleHBsaWNpdGx5IGF2YWlsYWJsZSBvbiB0aGlzIGNsYXNzLlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIGNvbnN0IG1vZGVsID0gbmV3IE9wZW5BSSh7XG4qICAgbW9kZWxOYW1lOiBcImdwdC00XCIsXG4qICAgdGVtcGVyYXR1cmU6IDAuNyxcbiogICBtYXhUb2tlbnM6IDEwMDAsXG4qICAgbWF4UmV0cmllczogNSxcbiogfSk7XG4qXG4qIGNvbnN0IHJlcyA9IGF3YWl0IG1vZGVsLmludm9rZShcbiogICBcIlF1ZXN0aW9uOiBXaGF0IHdvdWxkIGJlIGEgZ29vZCBjb21wYW55IG5hbWUgZm9yIGEgY29tcGFueSB0aGF0IG1ha2VzIGNvbG9yZnVsIHNvY2tzP1xcbkFuc3dlcjpcIlxuKiApO1xuKiBjb25zb2xlLmxvZyh7IHJlcyB9KTtcbiogYGBgXG4qL1xudmFyIE9wZW5BSSQyID0gY2xhc3MgZXh0ZW5kcyBCYXNlTExNIHtcblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiT3BlbkFJXCI7XG5cdH1cblx0Z2V0IGNhbGxLZXlzKCkge1xuXHRcdHJldHVybiBbLi4uc3VwZXIuY2FsbEtleXMsIFwib3B0aW9uc1wiXTtcblx0fVxuXHRsY19zZXJpYWxpemFibGUgPSB0cnVlO1xuXHRnZXQgbGNfc2VjcmV0cygpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0b3BlbkFJQXBpS2V5OiBcIk9QRU5BSV9BUElfS0VZXCIsXG5cdFx0XHRhcGlLZXk6IFwiT1BFTkFJX0FQSV9LRVlcIixcblx0XHRcdG9yZ2FuaXphdGlvbjogXCJPUEVOQUlfT1JHQU5JWkFUSU9OXCJcblx0XHR9O1xuXHR9XG5cdGdldCBsY19hbGlhc2VzKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRtb2RlbE5hbWU6IFwibW9kZWxcIixcblx0XHRcdG9wZW5BSUFwaUtleTogXCJvcGVuYWlfYXBpX2tleVwiLFxuXHRcdFx0YXBpS2V5OiBcIm9wZW5haV9hcGlfa2V5XCJcblx0XHR9O1xuXHR9XG5cdHRlbXBlcmF0dXJlO1xuXHRtYXhUb2tlbnM7XG5cdHRvcFA7XG5cdGZyZXF1ZW5jeVBlbmFsdHk7XG5cdHByZXNlbmNlUGVuYWx0eTtcblx0biA9IDE7XG5cdGJlc3RPZjtcblx0bG9naXRCaWFzO1xuXHRtb2RlbCA9IFwiZ3B0LTMuNS10dXJiby1pbnN0cnVjdFwiO1xuXHQvKiogQGRlcHJlY2F0ZWQgVXNlIFwibW9kZWxcIiBpbnN0ZWFkICovXG5cdG1vZGVsTmFtZTtcblx0bW9kZWxLd2FyZ3M7XG5cdGJhdGNoU2l6ZSA9IDIwO1xuXHR0aW1lb3V0O1xuXHRzdG9wO1xuXHRzdG9wU2VxdWVuY2VzO1xuXHR1c2VyO1xuXHRzdHJlYW1pbmcgPSBmYWxzZTtcblx0b3BlbkFJQXBpS2V5O1xuXHRhcGlLZXk7XG5cdG9yZ2FuaXphdGlvbjtcblx0Y2xpZW50O1xuXHRjbGllbnRDb25maWc7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdHN1cGVyKGZpZWxkcyA/PyB7fSk7XG5cdFx0dGhpcy5vcGVuQUlBcGlLZXkgPSBmaWVsZHM/LmFwaUtleSA/PyBmaWVsZHM/Lm9wZW5BSUFwaUtleSA/PyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiT1BFTkFJX0FQSV9LRVlcIik7XG5cdFx0dGhpcy5hcGlLZXkgPSB0aGlzLm9wZW5BSUFwaUtleTtcblx0XHR0aGlzLm9yZ2FuaXphdGlvbiA9IGZpZWxkcz8uY29uZmlndXJhdGlvbj8ub3JnYW5pemF0aW9uID8/IGdldEVudmlyb25tZW50VmFyaWFibGUoXCJPUEVOQUlfT1JHQU5JWkFUSU9OXCIpO1xuXHRcdHRoaXMubW9kZWwgPSBmaWVsZHM/Lm1vZGVsID8/IGZpZWxkcz8ubW9kZWxOYW1lID8/IHRoaXMubW9kZWw7XG5cdFx0aWYgKCh0aGlzLm1vZGVsPy5zdGFydHNXaXRoKFwiZ3B0LTMuNS10dXJib1wiKSB8fCB0aGlzLm1vZGVsPy5zdGFydHNXaXRoKFwiZ3B0LTRcIikgfHwgdGhpcy5tb2RlbD8uc3RhcnRzV2l0aChcIm8xXCIpKSAmJiAhdGhpcy5tb2RlbD8uaW5jbHVkZXMoXCItaW5zdHJ1Y3RcIikpIHRocm93IG5ldyBFcnJvcihbXG5cdFx0XHRgWW91ciBjaG9zZW4gT3BlbkFJIG1vZGVsLCBcIiR7dGhpcy5tb2RlbH1cIiwgaXMgYSBjaGF0IG1vZGVsIGFuZCBub3QgYSB0ZXh0LWluL3RleHQtb3V0IExMTS5gLFxuXHRcdFx0YFBhc3NpbmcgaXQgaW50byB0aGUgXCJPcGVuQUlcIiBjbGFzcyBpcyBubyBsb25nZXIgc3VwcG9ydGVkLmAsXG5cdFx0XHRgUGxlYXNlIHVzZSB0aGUgXCJDaGF0T3BlbkFJXCIgY2xhc3MgaW5zdGVhZC5gLFxuXHRcdFx0XCJcIixcblx0XHRcdGBTZWUgdGhpcyBwYWdlIGZvciBtb3JlIGluZm9ybWF0aW9uOmAsXG5cdFx0XHRcInxcIixcblx0XHRcdGDilJQ+IGh0dHBzOi8vanMubGFuZ2NoYWluLmNvbS9kb2NzL2ludGVncmF0aW9ucy9jaGF0L29wZW5haWBcblx0XHRdLmpvaW4oXCJcXG5cIikpO1xuXHRcdHRoaXMubW9kZWxOYW1lID0gdGhpcy5tb2RlbDtcblx0XHR0aGlzLm1vZGVsS3dhcmdzID0gZmllbGRzPy5tb2RlbEt3YXJncyA/PyB7fTtcblx0XHR0aGlzLmJhdGNoU2l6ZSA9IGZpZWxkcz8uYmF0Y2hTaXplID8/IHRoaXMuYmF0Y2hTaXplO1xuXHRcdHRoaXMudGltZW91dCA9IGZpZWxkcz8udGltZW91dDtcblx0XHR0aGlzLnRlbXBlcmF0dXJlID0gZmllbGRzPy50ZW1wZXJhdHVyZSA/PyB0aGlzLnRlbXBlcmF0dXJlO1xuXHRcdHRoaXMubWF4VG9rZW5zID0gZmllbGRzPy5tYXhUb2tlbnMgPz8gdGhpcy5tYXhUb2tlbnM7XG5cdFx0dGhpcy50b3BQID0gZmllbGRzPy50b3BQID8/IHRoaXMudG9wUDtcblx0XHR0aGlzLmZyZXF1ZW5jeVBlbmFsdHkgPSBmaWVsZHM/LmZyZXF1ZW5jeVBlbmFsdHkgPz8gdGhpcy5mcmVxdWVuY3lQZW5hbHR5O1xuXHRcdHRoaXMucHJlc2VuY2VQZW5hbHR5ID0gZmllbGRzPy5wcmVzZW5jZVBlbmFsdHkgPz8gdGhpcy5wcmVzZW5jZVBlbmFsdHk7XG5cdFx0dGhpcy5uID0gZmllbGRzPy5uID8/IHRoaXMubjtcblx0XHR0aGlzLmJlc3RPZiA9IGZpZWxkcz8uYmVzdE9mID8/IHRoaXMuYmVzdE9mO1xuXHRcdHRoaXMubG9naXRCaWFzID0gZmllbGRzPy5sb2dpdEJpYXM7XG5cdFx0dGhpcy5zdG9wID0gZmllbGRzPy5zdG9wU2VxdWVuY2VzID8/IGZpZWxkcz8uc3RvcDtcblx0XHR0aGlzLnN0b3BTZXF1ZW5jZXMgPSB0aGlzLnN0b3A7XG5cdFx0dGhpcy51c2VyID0gZmllbGRzPy51c2VyO1xuXHRcdHRoaXMuc3RyZWFtaW5nID0gZmllbGRzPy5zdHJlYW1pbmcgPz8gZmFsc2U7XG5cdFx0aWYgKHRoaXMuc3RyZWFtaW5nICYmIHRoaXMuYmVzdE9mICYmIHRoaXMuYmVzdE9mID4gMSkgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHN0cmVhbSByZXN1bHRzIHdoZW4gYmVzdE9mID4gMVwiKTtcblx0XHR0aGlzLmNsaWVudENvbmZpZyA9IHtcblx0XHRcdGFwaUtleTogdGhpcy5hcGlLZXksXG5cdFx0XHRvcmdhbml6YXRpb246IHRoaXMub3JnYW5pemF0aW9uLFxuXHRcdFx0ZGFuZ2Vyb3VzbHlBbGxvd0Jyb3dzZXI6IHRydWUsXG5cdFx0XHQuLi5maWVsZHM/LmNvbmZpZ3VyYXRpb25cblx0XHR9O1xuXHR9XG5cdC8qKlxuXHQqIEdldCB0aGUgcGFyYW1ldGVycyB1c2VkIHRvIGludm9rZSB0aGUgbW9kZWxcblx0Ki9cblx0aW52b2NhdGlvblBhcmFtcyhvcHRpb25zKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdG1vZGVsOiB0aGlzLm1vZGVsLFxuXHRcdFx0dGVtcGVyYXR1cmU6IHRoaXMudGVtcGVyYXR1cmUsXG5cdFx0XHRtYXhfdG9rZW5zOiB0aGlzLm1heFRva2Vucyxcblx0XHRcdHRvcF9wOiB0aGlzLnRvcFAsXG5cdFx0XHRmcmVxdWVuY3lfcGVuYWx0eTogdGhpcy5mcmVxdWVuY3lQZW5hbHR5LFxuXHRcdFx0cHJlc2VuY2VfcGVuYWx0eTogdGhpcy5wcmVzZW5jZVBlbmFsdHksXG5cdFx0XHRuOiB0aGlzLm4sXG5cdFx0XHRiZXN0X29mOiB0aGlzLmJlc3RPZixcblx0XHRcdGxvZ2l0X2JpYXM6IHRoaXMubG9naXRCaWFzLFxuXHRcdFx0c3RvcDogb3B0aW9ucz8uc3RvcCA/PyB0aGlzLnN0b3BTZXF1ZW5jZXMsXG5cdFx0XHR1c2VyOiB0aGlzLnVzZXIsXG5cdFx0XHRzdHJlYW06IHRoaXMuc3RyZWFtaW5nLFxuXHRcdFx0Li4udGhpcy5tb2RlbEt3YXJnc1xuXHRcdH07XG5cdH1cblx0LyoqIEBpZ25vcmUgKi9cblx0X2lkZW50aWZ5aW5nUGFyYW1zKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRtb2RlbF9uYW1lOiB0aGlzLm1vZGVsLFxuXHRcdFx0Li4udGhpcy5pbnZvY2F0aW9uUGFyYW1zKCksXG5cdFx0XHQuLi50aGlzLmNsaWVudENvbmZpZ1xuXHRcdH07XG5cdH1cblx0LyoqXG5cdCogR2V0IHRoZSBpZGVudGlmeWluZyBwYXJhbWV0ZXJzIGZvciB0aGUgbW9kZWxcblx0Ki9cblx0aWRlbnRpZnlpbmdQYXJhbXMoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2lkZW50aWZ5aW5nUGFyYW1zKCk7XG5cdH1cblx0LyoqXG5cdCogQ2FsbCBvdXQgdG8gT3BlbkFJJ3MgZW5kcG9pbnQgd2l0aCBrIHVuaXF1ZSBwcm9tcHRzXG5cdCpcblx0KiBAcGFyYW0gW3Byb21wdHNdIC0gVGhlIHByb21wdHMgdG8gcGFzcyBpbnRvIHRoZSBtb2RlbC5cblx0KiBAcGFyYW0gW29wdGlvbnNdIC0gT3B0aW9uYWwgbGlzdCBvZiBzdG9wIHdvcmRzIHRvIHVzZSB3aGVuIGdlbmVyYXRpbmcuXG5cdCogQHBhcmFtIFtydW5NYW5hZ2VyXSAtIE9wdGlvbmFsIGNhbGxiYWNrIG1hbmFnZXIgdG8gdXNlIHdoZW4gZ2VuZXJhdGluZy5cblx0KlxuXHQqIEByZXR1cm5zIFRoZSBmdWxsIExMTSBvdXRwdXQuXG5cdCpcblx0KiBAZXhhbXBsZVxuXHQqIGBgYHRzXG5cdCogaW1wb3J0IHsgT3BlbkFJIH0gZnJvbSBcImxhbmdjaGFpbi9sbG1zL29wZW5haVwiO1xuXHQqIGNvbnN0IG9wZW5haSA9IG5ldyBPcGVuQUkoKTtcblx0KiBjb25zdCByZXNwb25zZSA9IGF3YWl0IG9wZW5haS5nZW5lcmF0ZShbXCJUZWxsIG1lIGEgam9rZS5cIl0pO1xuXHQqIGBgYFxuXHQqL1xuXHRhc3luYyBfZ2VuZXJhdGUocHJvbXB0cywgb3B0aW9ucywgcnVuTWFuYWdlcikge1xuXHRcdGNvbnN0IHN1YlByb21wdHMgPSBjaHVua0FycmF5KHByb21wdHMsIHRoaXMuYmF0Y2hTaXplKTtcblx0XHRjb25zdCBjaG9pY2VzID0gW107XG5cdFx0Y29uc3QgdG9rZW5Vc2FnZSA9IHt9O1xuXHRcdGNvbnN0IHBhcmFtcyA9IHRoaXMuaW52b2NhdGlvblBhcmFtcyhvcHRpb25zKTtcblx0XHRpZiAocGFyYW1zLm1heF90b2tlbnMgPT09IC0xKSB7XG5cdFx0XHRpZiAocHJvbXB0cy5sZW5ndGggIT09IDEpIHRocm93IG5ldyBFcnJvcihcIm1heF90b2tlbnMgc2V0IHRvIC0xIG5vdCBzdXBwb3J0ZWQgZm9yIG11bHRpcGxlIGlucHV0c1wiKTtcblx0XHRcdHBhcmFtcy5tYXhfdG9rZW5zID0gYXdhaXQgY2FsY3VsYXRlTWF4VG9rZW5zKHtcblx0XHRcdFx0cHJvbXB0OiBwcm9tcHRzWzBdLFxuXHRcdFx0XHRtb2RlbE5hbWU6IHRoaXMubW9kZWxcblx0XHRcdH0pO1xuXHRcdH1cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHN1YlByb21wdHMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdGNvbnN0IGRhdGEgPSBwYXJhbXMuc3RyZWFtID8gYXdhaXQgKGFzeW5jICgpID0+IHtcblx0XHRcdFx0Y29uc3QgY2hvaWNlcyQxID0gW107XG5cdFx0XHRcdGxldCByZXNwb25zZTtcblx0XHRcdFx0Y29uc3Qgc3RyZWFtID0gYXdhaXQgdGhpcy5jb21wbGV0aW9uV2l0aFJldHJ5KHtcblx0XHRcdFx0XHQuLi5wYXJhbXMsXG5cdFx0XHRcdFx0c3RyZWFtOiB0cnVlLFxuXHRcdFx0XHRcdHByb21wdDogc3ViUHJvbXB0c1tpXVxuXHRcdFx0XHR9LCBvcHRpb25zKTtcblx0XHRcdFx0Zm9yIGF3YWl0IChjb25zdCBtZXNzYWdlIG9mIHN0cmVhbSkge1xuXHRcdFx0XHRcdGlmICghcmVzcG9uc2UpIHJlc3BvbnNlID0ge1xuXHRcdFx0XHRcdFx0aWQ6IG1lc3NhZ2UuaWQsXG5cdFx0XHRcdFx0XHRvYmplY3Q6IG1lc3NhZ2Uub2JqZWN0LFxuXHRcdFx0XHRcdFx0Y3JlYXRlZDogbWVzc2FnZS5jcmVhdGVkLFxuXHRcdFx0XHRcdFx0bW9kZWw6IG1lc3NhZ2UubW9kZWxcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdGZvciAoY29uc3QgcGFydCBvZiBtZXNzYWdlLmNob2ljZXMpIHtcblx0XHRcdFx0XHRcdGlmICghY2hvaWNlcyQxW3BhcnQuaW5kZXhdKSBjaG9pY2VzJDFbcGFydC5pbmRleF0gPSBwYXJ0O1xuXHRcdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGNob2ljZSA9IGNob2ljZXMkMVtwYXJ0LmluZGV4XTtcblx0XHRcdFx0XHRcdFx0Y2hvaWNlLnRleHQgKz0gcGFydC50ZXh0O1xuXHRcdFx0XHRcdFx0XHRjaG9pY2UuZmluaXNoX3JlYXNvbiA9IHBhcnQuZmluaXNoX3JlYXNvbjtcblx0XHRcdFx0XHRcdFx0Y2hvaWNlLmxvZ3Byb2JzID0gcGFydC5sb2dwcm9icztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHJ1bk1hbmFnZXI/LmhhbmRsZUxMTU5ld1Rva2VuKHBhcnQudGV4dCwge1xuXHRcdFx0XHRcdFx0XHRwcm9tcHQ6IE1hdGguZmxvb3IocGFydC5pbmRleCAvIHRoaXMubiksXG5cdFx0XHRcdFx0XHRcdGNvbXBsZXRpb246IHBhcnQuaW5kZXggJSB0aGlzLm5cblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAob3B0aW9ucy5zaWduYWw/LmFib3J0ZWQpIHRocm93IG5ldyBFcnJvcihcIkFib3J0RXJyb3JcIik7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0Li4ucmVzcG9uc2UsXG5cdFx0XHRcdFx0Y2hvaWNlczogY2hvaWNlcyQxXG5cdFx0XHRcdH07XG5cdFx0XHR9KSgpIDogYXdhaXQgdGhpcy5jb21wbGV0aW9uV2l0aFJldHJ5KHtcblx0XHRcdFx0Li4ucGFyYW1zLFxuXHRcdFx0XHRzdHJlYW06IGZhbHNlLFxuXHRcdFx0XHRwcm9tcHQ6IHN1YlByb21wdHNbaV1cblx0XHRcdH0sIHtcblx0XHRcdFx0c2lnbmFsOiBvcHRpb25zLnNpZ25hbCxcblx0XHRcdFx0Li4ub3B0aW9ucy5vcHRpb25zXG5cdFx0XHR9KTtcblx0XHRcdGNob2ljZXMucHVzaCguLi5kYXRhLmNob2ljZXMpO1xuXHRcdFx0Y29uc3QgeyBjb21wbGV0aW9uX3Rva2VuczogY29tcGxldGlvblRva2VucywgcHJvbXB0X3Rva2VuczogcHJvbXB0VG9rZW5zLCB0b3RhbF90b2tlbnM6IHRvdGFsVG9rZW5zIH0gPSBkYXRhLnVzYWdlID8gZGF0YS51c2FnZSA6IHtcblx0XHRcdFx0Y29tcGxldGlvbl90b2tlbnM6IHZvaWQgMCxcblx0XHRcdFx0cHJvbXB0X3Rva2Vuczogdm9pZCAwLFxuXHRcdFx0XHR0b3RhbF90b2tlbnM6IHZvaWQgMFxuXHRcdFx0fTtcblx0XHRcdGlmIChjb21wbGV0aW9uVG9rZW5zKSB0b2tlblVzYWdlLmNvbXBsZXRpb25Ub2tlbnMgPSAodG9rZW5Vc2FnZS5jb21wbGV0aW9uVG9rZW5zID8/IDApICsgY29tcGxldGlvblRva2Vucztcblx0XHRcdGlmIChwcm9tcHRUb2tlbnMpIHRva2VuVXNhZ2UucHJvbXB0VG9rZW5zID0gKHRva2VuVXNhZ2UucHJvbXB0VG9rZW5zID8/IDApICsgcHJvbXB0VG9rZW5zO1xuXHRcdFx0aWYgKHRvdGFsVG9rZW5zKSB0b2tlblVzYWdlLnRvdGFsVG9rZW5zID0gKHRva2VuVXNhZ2UudG90YWxUb2tlbnMgPz8gMCkgKyB0b3RhbFRva2Vucztcblx0XHR9XG5cdFx0Y29uc3QgZ2VuZXJhdGlvbnMgPSBjaHVua0FycmF5KGNob2ljZXMsIHRoaXMubikubWFwKChwcm9tcHRDaG9pY2VzKSA9PiBwcm9tcHRDaG9pY2VzLm1hcCgoY2hvaWNlKSA9PiAoe1xuXHRcdFx0dGV4dDogY2hvaWNlLnRleHQgPz8gXCJcIixcblx0XHRcdGdlbmVyYXRpb25JbmZvOiB7XG5cdFx0XHRcdGZpbmlzaFJlYXNvbjogY2hvaWNlLmZpbmlzaF9yZWFzb24sXG5cdFx0XHRcdGxvZ3Byb2JzOiBjaG9pY2UubG9ncHJvYnNcblx0XHRcdH1cblx0XHR9KSkpO1xuXHRcdHJldHVybiB7XG5cdFx0XHRnZW5lcmF0aW9ucyxcblx0XHRcdGxsbU91dHB1dDogeyB0b2tlblVzYWdlIH1cblx0XHR9O1xuXHR9XG5cdGFzeW5jICpfc3RyZWFtUmVzcG9uc2VDaHVua3MoaW5wdXQsIG9wdGlvbnMsIHJ1bk1hbmFnZXIpIHtcblx0XHRjb25zdCBwYXJhbXMgPSB7XG5cdFx0XHQuLi50aGlzLmludm9jYXRpb25QYXJhbXMob3B0aW9ucyksXG5cdFx0XHRwcm9tcHQ6IGlucHV0LFxuXHRcdFx0c3RyZWFtOiB0cnVlXG5cdFx0fTtcblx0XHRjb25zdCBzdHJlYW0gPSBhd2FpdCB0aGlzLmNvbXBsZXRpb25XaXRoUmV0cnkocGFyYW1zLCBvcHRpb25zKTtcblx0XHRmb3IgYXdhaXQgKGNvbnN0IGRhdGEgb2Ygc3RyZWFtKSB7XG5cdFx0XHRjb25zdCBjaG9pY2UgPSBkYXRhPy5jaG9pY2VzWzBdO1xuXHRcdFx0aWYgKCFjaG9pY2UpIGNvbnRpbnVlO1xuXHRcdFx0Y29uc3QgY2h1bmsgPSBuZXcgR2VuZXJhdGlvbkNodW5rKHtcblx0XHRcdFx0dGV4dDogY2hvaWNlLnRleHQsXG5cdFx0XHRcdGdlbmVyYXRpb25JbmZvOiB7IGZpbmlzaFJlYXNvbjogY2hvaWNlLmZpbmlzaF9yZWFzb24gfVxuXHRcdFx0fSk7XG5cdFx0XHR5aWVsZCBjaHVuaztcblx0XHRcdHJ1bk1hbmFnZXI/LmhhbmRsZUxMTU5ld1Rva2VuKGNodW5rLnRleHQgPz8gXCJcIik7XG5cdFx0fVxuXHRcdGlmIChvcHRpb25zLnNpZ25hbD8uYWJvcnRlZCkgdGhyb3cgbmV3IEVycm9yKFwiQWJvcnRFcnJvclwiKTtcblx0fVxuXHRhc3luYyBjb21wbGV0aW9uV2l0aFJldHJ5KHJlcXVlc3QsIG9wdGlvbnMpIHtcblx0XHRjb25zdCByZXF1ZXN0T3B0aW9ucyA9IHRoaXMuX2dldENsaWVudE9wdGlvbnMob3B0aW9ucyk7XG5cdFx0cmV0dXJuIHRoaXMuY2FsbGVyLmNhbGwoYXN5bmMgKCkgPT4ge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuY29tcGxldGlvbnMuY3JlYXRlKHJlcXVlc3QsIHJlcXVlc3RPcHRpb25zKTtcblx0XHRcdFx0cmV0dXJuIHJlcztcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0Y29uc3QgZXJyb3IgPSB3cmFwT3BlbkFJQ2xpZW50RXJyb3IoZSk7XG5cdFx0XHRcdHRocm93IGVycm9yO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cdC8qKlxuXHQqIENhbGxzIHRoZSBPcGVuQUkgQVBJIHdpdGggcmV0cnkgbG9naWMgaW4gY2FzZSBvZiBmYWlsdXJlcy5cblx0KiBAcGFyYW0gcmVxdWVzdCBUaGUgcmVxdWVzdCB0byBzZW5kIHRvIHRoZSBPcGVuQUkgQVBJLlxuXHQqIEBwYXJhbSBvcHRpb25zIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBBUEkgY2FsbC5cblx0KiBAcmV0dXJucyBUaGUgcmVzcG9uc2UgZnJvbSB0aGUgT3BlbkFJIEFQSS5cblx0Ki9cblx0X2dldENsaWVudE9wdGlvbnMob3B0aW9ucykge1xuXHRcdGlmICghdGhpcy5jbGllbnQpIHtcblx0XHRcdGNvbnN0IG9wZW5BSUVuZHBvaW50Q29uZmlnID0geyBiYXNlVVJMOiB0aGlzLmNsaWVudENvbmZpZy5iYXNlVVJMIH07XG5cdFx0XHRjb25zdCBlbmRwb2ludCA9IGdldEVuZHBvaW50KG9wZW5BSUVuZHBvaW50Q29uZmlnKTtcblx0XHRcdGNvbnN0IHBhcmFtcyA9IHtcblx0XHRcdFx0Li4udGhpcy5jbGllbnRDb25maWcsXG5cdFx0XHRcdGJhc2VVUkw6IGVuZHBvaW50LFxuXHRcdFx0XHR0aW1lb3V0OiB0aGlzLnRpbWVvdXQsXG5cdFx0XHRcdG1heFJldHJpZXM6IDBcblx0XHRcdH07XG5cdFx0XHRpZiAoIXBhcmFtcy5iYXNlVVJMKSBkZWxldGUgcGFyYW1zLmJhc2VVUkw7XG5cdFx0XHRwYXJhbXMuZGVmYXVsdEhlYWRlcnMgPSBnZXRIZWFkZXJzV2l0aFVzZXJBZ2VudChwYXJhbXMuZGVmYXVsdEhlYWRlcnMpO1xuXHRcdFx0dGhpcy5jbGllbnQgPSBuZXcgT3BlbkFJJDEocGFyYW1zKTtcblx0XHR9XG5cdFx0Y29uc3QgcmVxdWVzdE9wdGlvbnMgPSB7XG5cdFx0XHQuLi50aGlzLmNsaWVudENvbmZpZyxcblx0XHRcdC4uLm9wdGlvbnNcblx0XHR9O1xuXHRcdHJldHVybiByZXF1ZXN0T3B0aW9ucztcblx0fVxuXHRfbGxtVHlwZSgpIHtcblx0XHRyZXR1cm4gXCJvcGVuYWlcIjtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBPcGVuQUkkMiBhcyBPcGVuQUkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxsbXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/llms.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/applyPatch.js":
/*!**********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/applyPatch.js ***!
  \**********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   applyPatch: () => (/* binding */ applyPatch)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_tools__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/tools */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tools/index.js\");\n/* harmony import */ var zod_v4__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zod/v4 */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+zod@4.3.6/node_modules/zod/v4/index.js\");\n\n\n\n//#region src/tools/applyPatch.ts\nconst ApplyPatchCreateFileOperationSchema = zod_v4__WEBPACK_IMPORTED_MODULE_1__.z.object({\n\ttype: zod_v4__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"create_file\"),\n\tpath: zod_v4__WEBPACK_IMPORTED_MODULE_1__.z.string(),\n\tdiff: zod_v4__WEBPACK_IMPORTED_MODULE_1__.z.string()\n});\nconst ApplyPatchUpdateFileOperationSchema = zod_v4__WEBPACK_IMPORTED_MODULE_1__.z.object({\n\ttype: zod_v4__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"update_file\"),\n\tpath: zod_v4__WEBPACK_IMPORTED_MODULE_1__.z.string(),\n\tdiff: zod_v4__WEBPACK_IMPORTED_MODULE_1__.z.string()\n});\nconst ApplyPatchDeleteFileOperationSchema = zod_v4__WEBPACK_IMPORTED_MODULE_1__.z.object({\n\ttype: zod_v4__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"delete_file\"),\n\tpath: zod_v4__WEBPACK_IMPORTED_MODULE_1__.z.string()\n});\nconst ApplyPatchOperationSchema = zod_v4__WEBPACK_IMPORTED_MODULE_1__.z.discriminatedUnion(\"type\", [\n\tApplyPatchCreateFileOperationSchema,\n\tApplyPatchUpdateFileOperationSchema,\n\tApplyPatchDeleteFileOperationSchema\n]);\nconst TOOL_NAME = \"apply_patch\";\n/**\n* Creates an Apply Patch tool that allows models to propose structured diffs\n* that your integration applies. This enables iterative, multi-step code\n* editing workflows.\n*\n* **Apply Patch** lets GPT-5.1 create, update, and delete files in your codebase\n* using structured diffs. Instead of just suggesting edits, the model emits\n* patch operations that your application applies and then reports back on.\n*\n* **When to use**:\n* - **Multi-file refactors**  Rename symbols, extract helpers, or reorganize modules\n* - **Bug fixes**  Have the model both diagnose issues and emit precise patches\n* - **Tests & docs generation**  Create new test files, fixtures, and documentation\n* - **Migrations & mechanical edits**  Apply repetitive, structured updates\n*\n* **How it works**:\n* The tool operates in a continuous loop:\n* 1. Model sends patch operations (`apply_patch_call` with operation type)\n* 2. Your code applies the patch to your working directory or repo\n* 3. You return success/failure status and optional output\n* 4. Repeat until the task is complete\n*\n* **Security Warning**: Applying patches can modify files in your codebase.\n* Always validate paths, implement backups, and consider sandboxing.\n*\n* @see {@link https://platform.openai.com/docs/guides/tools-apply-patch | OpenAI Apply Patch Documentation}\n*\n* @param options - Configuration options for the Apply Patch tool\n* @returns An Apply Patch tool that can be passed to `bindTools`\n*\n* @example\n* ```typescript\n* import { ChatOpenAI, tools } from \"@langchain/openai\";\n* import { applyDiff } from \"@openai/agents\";\n* import * as fs from \"fs/promises\";\n*\n* const model = new ChatOpenAI({ model: \"gpt-5.1\" });\n*\n* // With execute callback for automatic patch handling\n* const patchTool = tools.applyPatch({\n*   execute: async (operation) => {\n*     if (operation.type === \"create_file\") {\n*       const content = applyDiff(\"\", operation.diff, \"create\");\n*       await fs.writeFile(operation.path, content);\n*       return `Created ${operation.path}`;\n*     }\n*     if (operation.type === \"update_file\") {\n*       const current = await fs.readFile(operation.path, \"utf-8\");\n*       const newContent = applyDiff(current, operation.diff);\n*       await fs.writeFile(operation.path, newContent);\n*       return `Updated ${operation.path}`;\n*     }\n*     if (operation.type === \"delete_file\") {\n*       await fs.unlink(operation.path);\n*       return `Deleted ${operation.path}`;\n*     }\n*     return \"Unknown operation type\";\n*   },\n* });\n*\n* const llmWithPatch = model.bindTools([patchTool]);\n* const response = await llmWithPatch.invoke(\n*   \"Rename the fib() function to fibonacci() in lib/fib.py\"\n* );\n* ```\n*\n* @remarks\n* - Only available through the Responses API (not Chat Completions)\n* - Designed for use with `gpt-5.1` model\n* - Operations include: `create_file`, `update_file`, `delete_file`\n* - Patches use V4A diff format for updates\n* - Always validate paths to prevent directory traversal attacks\n* - Consider backing up files before applying patches\n* - Implement \"all-or-nothing\" semantics if atomicity is required\n*/\nfunction applyPatch(options) {\n\tconst patchTool = (0,_langchain_core_tools__WEBPACK_IMPORTED_MODULE_0__.tool)(options.execute, {\n\t\tname: TOOL_NAME,\n\t\tdescription: \"Apply structured diffs to create, update, or delete files in the codebase.\",\n\t\tschema: ApplyPatchOperationSchema\n\t});\n\tpatchTool.extras = {\n\t\t...patchTool.extras ?? {},\n\t\tproviderToolDefinition: { type: \"apply_patch\" }\n\t};\n\treturn patchTool;\n}\n\n//#endregion\n\n//# sourceMappingURL=applyPatch.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L3Rvb2xzL2FwcGx5UGF0Y2guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTZDO0FBQ2xCOztBQUUzQjtBQUNBLDRDQUE0Qyw0Q0FBUTtBQUNwRCxPQUFPLDZDQUFTO0FBQ2hCLE9BQU8sNENBQVE7QUFDZixPQUFPLDRDQUFRO0FBQ2YsQ0FBQztBQUNELDRDQUE0Qyw0Q0FBUTtBQUNwRCxPQUFPLDZDQUFTO0FBQ2hCLE9BQU8sNENBQVE7QUFDZixPQUFPLDRDQUFRO0FBQ2YsQ0FBQztBQUNELDRDQUE0Qyw0Q0FBUTtBQUNwRCxPQUFPLDZDQUFTO0FBQ2hCLE9BQU8sNENBQVE7QUFDZixDQUFDO0FBQ0Qsa0NBQWtDLHdEQUFvQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxvQkFBb0I7QUFDL0IsV0FBVyxZQUFZO0FBQ3ZCO0FBQ0E7QUFDQSxpQ0FBaUMsa0JBQWtCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGVBQWU7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixlQUFlO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixlQUFlO0FBQ3pDO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsMkRBQUk7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0EsMkJBQTJCO0FBQzNCLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7O0FBRUE7QUFDc0I7QUFDdEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rb3BlbmFpQDEuMi4zX0BsYW5nY2hhaW4rY29yZUAxLjEuMTcvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvdG9vbHMvYXBwbHlQYXRjaC5qcz9mOWJiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHRvb2wgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3Rvb2xzXCI7XG5pbXBvcnQgeyB6IH0gZnJvbSBcInpvZC92NFwiO1xuXG4vLyNyZWdpb24gc3JjL3Rvb2xzL2FwcGx5UGF0Y2gudHNcbmNvbnN0IEFwcGx5UGF0Y2hDcmVhdGVGaWxlT3BlcmF0aW9uU2NoZW1hID0gei5vYmplY3Qoe1xuXHR0eXBlOiB6LmxpdGVyYWwoXCJjcmVhdGVfZmlsZVwiKSxcblx0cGF0aDogei5zdHJpbmcoKSxcblx0ZGlmZjogei5zdHJpbmcoKVxufSk7XG5jb25zdCBBcHBseVBhdGNoVXBkYXRlRmlsZU9wZXJhdGlvblNjaGVtYSA9IHoub2JqZWN0KHtcblx0dHlwZTogei5saXRlcmFsKFwidXBkYXRlX2ZpbGVcIiksXG5cdHBhdGg6IHouc3RyaW5nKCksXG5cdGRpZmY6IHouc3RyaW5nKClcbn0pO1xuY29uc3QgQXBwbHlQYXRjaERlbGV0ZUZpbGVPcGVyYXRpb25TY2hlbWEgPSB6Lm9iamVjdCh7XG5cdHR5cGU6IHoubGl0ZXJhbChcImRlbGV0ZV9maWxlXCIpLFxuXHRwYXRoOiB6LnN0cmluZygpXG59KTtcbmNvbnN0IEFwcGx5UGF0Y2hPcGVyYXRpb25TY2hlbWEgPSB6LmRpc2NyaW1pbmF0ZWRVbmlvbihcInR5cGVcIiwgW1xuXHRBcHBseVBhdGNoQ3JlYXRlRmlsZU9wZXJhdGlvblNjaGVtYSxcblx0QXBwbHlQYXRjaFVwZGF0ZUZpbGVPcGVyYXRpb25TY2hlbWEsXG5cdEFwcGx5UGF0Y2hEZWxldGVGaWxlT3BlcmF0aW9uU2NoZW1hXG5dKTtcbmNvbnN0IFRPT0xfTkFNRSA9IFwiYXBwbHlfcGF0Y2hcIjtcbi8qKlxuKiBDcmVhdGVzIGFuIEFwcGx5IFBhdGNoIHRvb2wgdGhhdCBhbGxvd3MgbW9kZWxzIHRvIHByb3Bvc2Ugc3RydWN0dXJlZCBkaWZmc1xuKiB0aGF0IHlvdXIgaW50ZWdyYXRpb24gYXBwbGllcy4gVGhpcyBlbmFibGVzIGl0ZXJhdGl2ZSwgbXVsdGktc3RlcCBjb2RlXG4qIGVkaXRpbmcgd29ya2Zsb3dzLlxuKlxuKiAqKkFwcGx5IFBhdGNoKiogbGV0cyBHUFQtNS4xIGNyZWF0ZSwgdXBkYXRlLCBhbmQgZGVsZXRlIGZpbGVzIGluIHlvdXIgY29kZWJhc2VcbiogdXNpbmcgc3RydWN0dXJlZCBkaWZmcy4gSW5zdGVhZCBvZiBqdXN0IHN1Z2dlc3RpbmcgZWRpdHMsIHRoZSBtb2RlbCBlbWl0c1xuKiBwYXRjaCBvcGVyYXRpb25zIHRoYXQgeW91ciBhcHBsaWNhdGlvbiBhcHBsaWVzIGFuZCB0aGVuIHJlcG9ydHMgYmFjayBvbi5cbipcbiogKipXaGVuIHRvIHVzZSoqOlxuKiAtICoqTXVsdGktZmlsZSByZWZhY3RvcnMqKiDigJMgUmVuYW1lIHN5bWJvbHMsIGV4dHJhY3QgaGVscGVycywgb3IgcmVvcmdhbml6ZSBtb2R1bGVzXG4qIC0gKipCdWcgZml4ZXMqKiDigJMgSGF2ZSB0aGUgbW9kZWwgYm90aCBkaWFnbm9zZSBpc3N1ZXMgYW5kIGVtaXQgcHJlY2lzZSBwYXRjaGVzXG4qIC0gKipUZXN0cyAmIGRvY3MgZ2VuZXJhdGlvbioqIOKAkyBDcmVhdGUgbmV3IHRlc3QgZmlsZXMsIGZpeHR1cmVzLCBhbmQgZG9jdW1lbnRhdGlvblxuKiAtICoqTWlncmF0aW9ucyAmIG1lY2hhbmljYWwgZWRpdHMqKiDigJMgQXBwbHkgcmVwZXRpdGl2ZSwgc3RydWN0dXJlZCB1cGRhdGVzXG4qXG4qICoqSG93IGl0IHdvcmtzKio6XG4qIFRoZSB0b29sIG9wZXJhdGVzIGluIGEgY29udGludW91cyBsb29wOlxuKiAxLiBNb2RlbCBzZW5kcyBwYXRjaCBvcGVyYXRpb25zIChgYXBwbHlfcGF0Y2hfY2FsbGAgd2l0aCBvcGVyYXRpb24gdHlwZSlcbiogMi4gWW91ciBjb2RlIGFwcGxpZXMgdGhlIHBhdGNoIHRvIHlvdXIgd29ya2luZyBkaXJlY3Rvcnkgb3IgcmVwb1xuKiAzLiBZb3UgcmV0dXJuIHN1Y2Nlc3MvZmFpbHVyZSBzdGF0dXMgYW5kIG9wdGlvbmFsIG91dHB1dFxuKiA0LiBSZXBlYXQgdW50aWwgdGhlIHRhc2sgaXMgY29tcGxldGVcbipcbiogKipTZWN1cml0eSBXYXJuaW5nKio6IEFwcGx5aW5nIHBhdGNoZXMgY2FuIG1vZGlmeSBmaWxlcyBpbiB5b3VyIGNvZGViYXNlLlxuKiBBbHdheXMgdmFsaWRhdGUgcGF0aHMsIGltcGxlbWVudCBiYWNrdXBzLCBhbmQgY29uc2lkZXIgc2FuZGJveGluZy5cbipcbiogQHNlZSB7QGxpbmsgaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3Rvb2xzLWFwcGx5LXBhdGNoIHwgT3BlbkFJIEFwcGx5IFBhdGNoIERvY3VtZW50YXRpb259XG4qXG4qIEBwYXJhbSBvcHRpb25zIC0gQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgQXBwbHkgUGF0Y2ggdG9vbFxuKiBAcmV0dXJucyBBbiBBcHBseSBQYXRjaCB0b29sIHRoYXQgY2FuIGJlIHBhc3NlZCB0byBgYmluZFRvb2xzYFxuKlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIGltcG9ydCB7IENoYXRPcGVuQUksIHRvb2xzIH0gZnJvbSBcIkBsYW5nY2hhaW4vb3BlbmFpXCI7XG4qIGltcG9ydCB7IGFwcGx5RGlmZiB9IGZyb20gXCJAb3BlbmFpL2FnZW50c1wiO1xuKiBpbXBvcnQgKiBhcyBmcyBmcm9tIFwiZnMvcHJvbWlzZXNcIjtcbipcbiogY29uc3QgbW9kZWwgPSBuZXcgQ2hhdE9wZW5BSSh7IG1vZGVsOiBcImdwdC01LjFcIiB9KTtcbipcbiogLy8gV2l0aCBleGVjdXRlIGNhbGxiYWNrIGZvciBhdXRvbWF0aWMgcGF0Y2ggaGFuZGxpbmdcbiogY29uc3QgcGF0Y2hUb29sID0gdG9vbHMuYXBwbHlQYXRjaCh7XG4qICAgZXhlY3V0ZTogYXN5bmMgKG9wZXJhdGlvbikgPT4ge1xuKiAgICAgaWYgKG9wZXJhdGlvbi50eXBlID09PSBcImNyZWF0ZV9maWxlXCIpIHtcbiogICAgICAgY29uc3QgY29udGVudCA9IGFwcGx5RGlmZihcIlwiLCBvcGVyYXRpb24uZGlmZiwgXCJjcmVhdGVcIik7XG4qICAgICAgIGF3YWl0IGZzLndyaXRlRmlsZShvcGVyYXRpb24ucGF0aCwgY29udGVudCk7XG4qICAgICAgIHJldHVybiBgQ3JlYXRlZCAke29wZXJhdGlvbi5wYXRofWA7XG4qICAgICB9XG4qICAgICBpZiAob3BlcmF0aW9uLnR5cGUgPT09IFwidXBkYXRlX2ZpbGVcIikge1xuKiAgICAgICBjb25zdCBjdXJyZW50ID0gYXdhaXQgZnMucmVhZEZpbGUob3BlcmF0aW9uLnBhdGgsIFwidXRmLThcIik7XG4qICAgICAgIGNvbnN0IG5ld0NvbnRlbnQgPSBhcHBseURpZmYoY3VycmVudCwgb3BlcmF0aW9uLmRpZmYpO1xuKiAgICAgICBhd2FpdCBmcy53cml0ZUZpbGUob3BlcmF0aW9uLnBhdGgsIG5ld0NvbnRlbnQpO1xuKiAgICAgICByZXR1cm4gYFVwZGF0ZWQgJHtvcGVyYXRpb24ucGF0aH1gO1xuKiAgICAgfVxuKiAgICAgaWYgKG9wZXJhdGlvbi50eXBlID09PSBcImRlbGV0ZV9maWxlXCIpIHtcbiogICAgICAgYXdhaXQgZnMudW5saW5rKG9wZXJhdGlvbi5wYXRoKTtcbiogICAgICAgcmV0dXJuIGBEZWxldGVkICR7b3BlcmF0aW9uLnBhdGh9YDtcbiogICAgIH1cbiogICAgIHJldHVybiBcIlVua25vd24gb3BlcmF0aW9uIHR5cGVcIjtcbiogICB9LFxuKiB9KTtcbipcbiogY29uc3QgbGxtV2l0aFBhdGNoID0gbW9kZWwuYmluZFRvb2xzKFtwYXRjaFRvb2xdKTtcbiogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBsbG1XaXRoUGF0Y2guaW52b2tlKFxuKiAgIFwiUmVuYW1lIHRoZSBmaWIoKSBmdW5jdGlvbiB0byBmaWJvbmFjY2koKSBpbiBsaWIvZmliLnB5XCJcbiogKTtcbiogYGBgXG4qXG4qIEByZW1hcmtzXG4qIC0gT25seSBhdmFpbGFibGUgdGhyb3VnaCB0aGUgUmVzcG9uc2VzIEFQSSAobm90IENoYXQgQ29tcGxldGlvbnMpXG4qIC0gRGVzaWduZWQgZm9yIHVzZSB3aXRoIGBncHQtNS4xYCBtb2RlbFxuKiAtIE9wZXJhdGlvbnMgaW5jbHVkZTogYGNyZWF0ZV9maWxlYCwgYHVwZGF0ZV9maWxlYCwgYGRlbGV0ZV9maWxlYFxuKiAtIFBhdGNoZXMgdXNlIFY0QSBkaWZmIGZvcm1hdCBmb3IgdXBkYXRlc1xuKiAtIEFsd2F5cyB2YWxpZGF0ZSBwYXRocyB0byBwcmV2ZW50IGRpcmVjdG9yeSB0cmF2ZXJzYWwgYXR0YWNrc1xuKiAtIENvbnNpZGVyIGJhY2tpbmcgdXAgZmlsZXMgYmVmb3JlIGFwcGx5aW5nIHBhdGNoZXNcbiogLSBJbXBsZW1lbnQgXCJhbGwtb3Itbm90aGluZ1wiIHNlbWFudGljcyBpZiBhdG9taWNpdHkgaXMgcmVxdWlyZWRcbiovXG5mdW5jdGlvbiBhcHBseVBhdGNoKG9wdGlvbnMpIHtcblx0Y29uc3QgcGF0Y2hUb29sID0gdG9vbChvcHRpb25zLmV4ZWN1dGUsIHtcblx0XHRuYW1lOiBUT09MX05BTUUsXG5cdFx0ZGVzY3JpcHRpb246IFwiQXBwbHkgc3RydWN0dXJlZCBkaWZmcyB0byBjcmVhdGUsIHVwZGF0ZSwgb3IgZGVsZXRlIGZpbGVzIGluIHRoZSBjb2RlYmFzZS5cIixcblx0XHRzY2hlbWE6IEFwcGx5UGF0Y2hPcGVyYXRpb25TY2hlbWFcblx0fSk7XG5cdHBhdGNoVG9vbC5leHRyYXMgPSB7XG5cdFx0Li4ucGF0Y2hUb29sLmV4dHJhcyA/PyB7fSxcblx0XHRwcm92aWRlclRvb2xEZWZpbml0aW9uOiB7IHR5cGU6IFwiYXBwbHlfcGF0Y2hcIiB9XG5cdH07XG5cdHJldHVybiBwYXRjaFRvb2w7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgYXBwbHlQYXRjaCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwbHlQYXRjaC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/applyPatch.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/codeInterpreter.js":
/*!***************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/codeInterpreter.js ***!
  \***************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   codeInterpreter: () => (/* binding */ codeInterpreter)\n/* harmony export */ });\n//#region src/tools/codeInterpreter.ts\n/**\n* Converts container options to the API format.\n*/\nfunction convertContainer(container) {\n\tif (typeof container === \"string\") return container;\n\treturn {\n\t\ttype: \"auto\",\n\t\tfile_ids: container?.fileIds,\n\t\tmemory_limit: container?.memoryLimit\n\t};\n}\n/**\n* Creates a Code Interpreter tool that allows models to write and run Python code\n* in a sandboxed environment to solve complex problems.\n*\n* Use Code Interpreter for:\n* - **Data analysis**: Processing files with diverse data and formatting\n* - **File generation**: Creating files with data and images of graphs\n* - **Iterative coding**: Writing and running code iteratively to solve problems\n* - **Visual intelligence**: Cropping, zooming, rotating, and transforming images\n*\n* The tool runs in a container, which is a fully sandboxed virtual machine.\n* Containers can be created automatically (auto mode) or explicitly via the\n* `/v1/containers` endpoint.\n*\n* @see {@link https://platform.openai.com/docs/guides/tools-code-interpreter | OpenAI Code Interpreter Documentation}\n*\n* @param options - Configuration options for the Code Interpreter tool\n* @returns A Code Interpreter tool definition to be passed to the OpenAI Responses API\n*\n* @example\n* ```typescript\n* import { ChatOpenAI, tools } from \"@langchain/openai\";\n*\n* const model = new ChatOpenAI({ model: \"gpt-4.1\" });\n*\n* // Basic usage with auto container (default 1GB memory)\n* const response = await model.invoke(\n*   \"Solve the equation 3x + 11 = 14\",\n*   { tools: [tools.codeInterpreter()] }\n* );\n*\n* // With increased memory limit for larger computations\n* const response = await model.invoke(\n*   \"Analyze this large dataset and create visualizations\",\n*   {\n*     tools: [tools.codeInterpreter({\n*       container: { memoryLimit: \"4g\" }\n*     })]\n*   }\n* );\n*\n* // With specific files available to the code\n* const response = await model.invoke(\n*   \"Process the uploaded CSV file\",\n*   {\n*     tools: [tools.codeInterpreter({\n*       container: {\n*         memoryLimit: \"4g\",\n*         fileIds: [\"file-abc123\", \"file-def456\"]\n*       }\n*     })]\n*   }\n* );\n*\n* // Using an explicit container ID (created via /v1/containers)\n* const response = await model.invoke(\n*   \"Continue working with the data\",\n*   {\n*     tools: [tools.codeInterpreter({\n*       container: \"cntr_abc123\"\n*     })]\n*   }\n* );\n* ```\n*\n* @remarks\n* - Containers expire after 20 minutes of inactivity\n* - While called \"Code Interpreter\", the model knows it as the \"python tool\"\n* - For explicit prompting, ask for \"the python tool\" in your prompts\n* - Files in model input are automatically uploaded to the container\n* - Generated files are returned as `container_file_citation` annotations\n*/\nfunction codeInterpreter(options) {\n\treturn {\n\t\ttype: \"code_interpreter\",\n\t\tcontainer: convertContainer(options?.container)\n\t};\n}\n\n//#endregion\n\n//# sourceMappingURL=codeInterpreter.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L3Rvb2xzL2NvZGVJbnRlcnByZXRlci5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG9CQUFvQjtBQUMvQjtBQUNBLGlDQUFpQyxrQkFBa0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUMyQjtBQUMzQiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitvcGVuYWlAMS4yLjNfQGxhbmdjaGFpbitjb3JlQDEuMS4xNy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9vcGVuYWkvZGlzdC90b29scy9jb2RlSW50ZXJwcmV0ZXIuanM/ZTM1MCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyNyZWdpb24gc3JjL3Rvb2xzL2NvZGVJbnRlcnByZXRlci50c1xuLyoqXG4qIENvbnZlcnRzIGNvbnRhaW5lciBvcHRpb25zIHRvIHRoZSBBUEkgZm9ybWF0LlxuKi9cbmZ1bmN0aW9uIGNvbnZlcnRDb250YWluZXIoY29udGFpbmVyKSB7XG5cdGlmICh0eXBlb2YgY29udGFpbmVyID09PSBcInN0cmluZ1wiKSByZXR1cm4gY29udGFpbmVyO1xuXHRyZXR1cm4ge1xuXHRcdHR5cGU6IFwiYXV0b1wiLFxuXHRcdGZpbGVfaWRzOiBjb250YWluZXI/LmZpbGVJZHMsXG5cdFx0bWVtb3J5X2xpbWl0OiBjb250YWluZXI/Lm1lbW9yeUxpbWl0XG5cdH07XG59XG4vKipcbiogQ3JlYXRlcyBhIENvZGUgSW50ZXJwcmV0ZXIgdG9vbCB0aGF0IGFsbG93cyBtb2RlbHMgdG8gd3JpdGUgYW5kIHJ1biBQeXRob24gY29kZVxuKiBpbiBhIHNhbmRib3hlZCBlbnZpcm9ubWVudCB0byBzb2x2ZSBjb21wbGV4IHByb2JsZW1zLlxuKlxuKiBVc2UgQ29kZSBJbnRlcnByZXRlciBmb3I6XG4qIC0gKipEYXRhIGFuYWx5c2lzKio6IFByb2Nlc3NpbmcgZmlsZXMgd2l0aCBkaXZlcnNlIGRhdGEgYW5kIGZvcm1hdHRpbmdcbiogLSAqKkZpbGUgZ2VuZXJhdGlvbioqOiBDcmVhdGluZyBmaWxlcyB3aXRoIGRhdGEgYW5kIGltYWdlcyBvZiBncmFwaHNcbiogLSAqKkl0ZXJhdGl2ZSBjb2RpbmcqKjogV3JpdGluZyBhbmQgcnVubmluZyBjb2RlIGl0ZXJhdGl2ZWx5IHRvIHNvbHZlIHByb2JsZW1zXG4qIC0gKipWaXN1YWwgaW50ZWxsaWdlbmNlKio6IENyb3BwaW5nLCB6b29taW5nLCByb3RhdGluZywgYW5kIHRyYW5zZm9ybWluZyBpbWFnZXNcbipcbiogVGhlIHRvb2wgcnVucyBpbiBhIGNvbnRhaW5lciwgd2hpY2ggaXMgYSBmdWxseSBzYW5kYm94ZWQgdmlydHVhbCBtYWNoaW5lLlxuKiBDb250YWluZXJzIGNhbiBiZSBjcmVhdGVkIGF1dG9tYXRpY2FsbHkgKGF1dG8gbW9kZSkgb3IgZXhwbGljaXRseSB2aWEgdGhlXG4qIGAvdjEvY29udGFpbmVyc2AgZW5kcG9pbnQuXG4qXG4qIEBzZWUge0BsaW5rIGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy90b29scy1jb2RlLWludGVycHJldGVyIHwgT3BlbkFJIENvZGUgSW50ZXJwcmV0ZXIgRG9jdW1lbnRhdGlvbn1cbipcbiogQHBhcmFtIG9wdGlvbnMgLSBDb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHRoZSBDb2RlIEludGVycHJldGVyIHRvb2xcbiogQHJldHVybnMgQSBDb2RlIEludGVycHJldGVyIHRvb2wgZGVmaW5pdGlvbiB0byBiZSBwYXNzZWQgdG8gdGhlIE9wZW5BSSBSZXNwb25zZXMgQVBJXG4qXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogaW1wb3J0IHsgQ2hhdE9wZW5BSSwgdG9vbHMgfSBmcm9tIFwiQGxhbmdjaGFpbi9vcGVuYWlcIjtcbipcbiogY29uc3QgbW9kZWwgPSBuZXcgQ2hhdE9wZW5BSSh7IG1vZGVsOiBcImdwdC00LjFcIiB9KTtcbipcbiogLy8gQmFzaWMgdXNhZ2Ugd2l0aCBhdXRvIGNvbnRhaW5lciAoZGVmYXVsdCAxR0IgbWVtb3J5KVxuKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IG1vZGVsLmludm9rZShcbiogICBcIlNvbHZlIHRoZSBlcXVhdGlvbiAzeCArIDExID0gMTRcIixcbiogICB7IHRvb2xzOiBbdG9vbHMuY29kZUludGVycHJldGVyKCldIH1cbiogKTtcbipcbiogLy8gV2l0aCBpbmNyZWFzZWQgbWVtb3J5IGxpbWl0IGZvciBsYXJnZXIgY29tcHV0YXRpb25zXG4qIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbW9kZWwuaW52b2tlKFxuKiAgIFwiQW5hbHl6ZSB0aGlzIGxhcmdlIGRhdGFzZXQgYW5kIGNyZWF0ZSB2aXN1YWxpemF0aW9uc1wiLFxuKiAgIHtcbiogICAgIHRvb2xzOiBbdG9vbHMuY29kZUludGVycHJldGVyKHtcbiogICAgICAgY29udGFpbmVyOiB7IG1lbW9yeUxpbWl0OiBcIjRnXCIgfVxuKiAgICAgfSldXG4qICAgfVxuKiApO1xuKlxuKiAvLyBXaXRoIHNwZWNpZmljIGZpbGVzIGF2YWlsYWJsZSB0byB0aGUgY29kZVxuKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IG1vZGVsLmludm9rZShcbiogICBcIlByb2Nlc3MgdGhlIHVwbG9hZGVkIENTViBmaWxlXCIsXG4qICAge1xuKiAgICAgdG9vbHM6IFt0b29scy5jb2RlSW50ZXJwcmV0ZXIoe1xuKiAgICAgICBjb250YWluZXI6IHtcbiogICAgICAgICBtZW1vcnlMaW1pdDogXCI0Z1wiLFxuKiAgICAgICAgIGZpbGVJZHM6IFtcImZpbGUtYWJjMTIzXCIsIFwiZmlsZS1kZWY0NTZcIl1cbiogICAgICAgfVxuKiAgICAgfSldXG4qICAgfVxuKiApO1xuKlxuKiAvLyBVc2luZyBhbiBleHBsaWNpdCBjb250YWluZXIgSUQgKGNyZWF0ZWQgdmlhIC92MS9jb250YWluZXJzKVxuKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IG1vZGVsLmludm9rZShcbiogICBcIkNvbnRpbnVlIHdvcmtpbmcgd2l0aCB0aGUgZGF0YVwiLFxuKiAgIHtcbiogICAgIHRvb2xzOiBbdG9vbHMuY29kZUludGVycHJldGVyKHtcbiogICAgICAgY29udGFpbmVyOiBcImNudHJfYWJjMTIzXCJcbiogICAgIH0pXVxuKiAgIH1cbiogKTtcbiogYGBgXG4qXG4qIEByZW1hcmtzXG4qIC0gQ29udGFpbmVycyBleHBpcmUgYWZ0ZXIgMjAgbWludXRlcyBvZiBpbmFjdGl2aXR5XG4qIC0gV2hpbGUgY2FsbGVkIFwiQ29kZSBJbnRlcnByZXRlclwiLCB0aGUgbW9kZWwga25vd3MgaXQgYXMgdGhlIFwicHl0aG9uIHRvb2xcIlxuKiAtIEZvciBleHBsaWNpdCBwcm9tcHRpbmcsIGFzayBmb3IgXCJ0aGUgcHl0aG9uIHRvb2xcIiBpbiB5b3VyIHByb21wdHNcbiogLSBGaWxlcyBpbiBtb2RlbCBpbnB1dCBhcmUgYXV0b21hdGljYWxseSB1cGxvYWRlZCB0byB0aGUgY29udGFpbmVyXG4qIC0gR2VuZXJhdGVkIGZpbGVzIGFyZSByZXR1cm5lZCBhcyBgY29udGFpbmVyX2ZpbGVfY2l0YXRpb25gIGFubm90YXRpb25zXG4qL1xuZnVuY3Rpb24gY29kZUludGVycHJldGVyKG9wdGlvbnMpIHtcblx0cmV0dXJuIHtcblx0XHR0eXBlOiBcImNvZGVfaW50ZXJwcmV0ZXJcIixcblx0XHRjb250YWluZXI6IGNvbnZlcnRDb250YWluZXIob3B0aW9ucz8uY29udGFpbmVyKVxuXHR9O1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IGNvZGVJbnRlcnByZXRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29kZUludGVycHJldGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/codeInterpreter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/computerUse.js":
/*!***********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/computerUse.js ***!
  \***********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   computerUse: () => (/* binding */ computerUse)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_messages__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/messages */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/index.js\");\n/* harmony import */ var _langchain_core_tools__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @langchain/core/tools */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tools/index.js\");\n/* harmony import */ var zod_v4__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zod/v4 */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+zod@4.3.6/node_modules/zod/v4/index.js\");\n\n\n\n\n//#region src/tools/computerUse.ts\nconst ComputerUseScreenshotActionSchema = zod_v4__WEBPACK_IMPORTED_MODULE_2__.z.object({ type: zod_v4__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"screenshot\") });\nconst ComputerUseClickActionSchema = zod_v4__WEBPACK_IMPORTED_MODULE_2__.z.object({\n\ttype: zod_v4__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"click\"),\n\tx: zod_v4__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n\ty: zod_v4__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n\tbutton: zod_v4__WEBPACK_IMPORTED_MODULE_2__.z[\"enum\"]([\n\t\t\"left\",\n\t\t\"right\",\n\t\t\"wheel\",\n\t\t\"back\",\n\t\t\"forward\"\n\t]).default(\"left\")\n});\nconst ComputerUseDoubleClickActionSchema = zod_v4__WEBPACK_IMPORTED_MODULE_2__.z.object({\n\ttype: zod_v4__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"double_click\"),\n\tx: zod_v4__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n\ty: zod_v4__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n\tbutton: zod_v4__WEBPACK_IMPORTED_MODULE_2__.z[\"enum\"]([\n\t\t\"left\",\n\t\t\"right\",\n\t\t\"wheel\",\n\t\t\"back\",\n\t\t\"forward\"\n\t]).default(\"left\")\n});\nconst ComputerUseDragActionSchema = zod_v4__WEBPACK_IMPORTED_MODULE_2__.z.object({\n\ttype: zod_v4__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"drag\"),\n\tpath: zod_v4__WEBPACK_IMPORTED_MODULE_2__.z.array(zod_v4__WEBPACK_IMPORTED_MODULE_2__.z.object({\n\t\tx: zod_v4__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n\t\ty: zod_v4__WEBPACK_IMPORTED_MODULE_2__.z.number()\n\t}))\n});\nconst ComputerUseKeypressActionSchema = zod_v4__WEBPACK_IMPORTED_MODULE_2__.z.object({\n\ttype: zod_v4__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"keypress\"),\n\tkeys: zod_v4__WEBPACK_IMPORTED_MODULE_2__.z.array(zod_v4__WEBPACK_IMPORTED_MODULE_2__.z.string())\n});\nconst ComputerUseMoveActionSchema = zod_v4__WEBPACK_IMPORTED_MODULE_2__.z.object({\n\ttype: zod_v4__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"move\"),\n\tx: zod_v4__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n\ty: zod_v4__WEBPACK_IMPORTED_MODULE_2__.z.number()\n});\nconst ComputerUseScrollActionSchema = zod_v4__WEBPACK_IMPORTED_MODULE_2__.z.object({\n\ttype: zod_v4__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"scroll\"),\n\tx: zod_v4__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n\ty: zod_v4__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n\tscroll_x: zod_v4__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n\tscroll_y: zod_v4__WEBPACK_IMPORTED_MODULE_2__.z.number()\n});\nconst ComputerUseTypeActionSchema = zod_v4__WEBPACK_IMPORTED_MODULE_2__.z.object({\n\ttype: zod_v4__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"type\"),\n\ttext: zod_v4__WEBPACK_IMPORTED_MODULE_2__.z.string()\n});\nconst ComputerUseWaitActionSchema = zod_v4__WEBPACK_IMPORTED_MODULE_2__.z.object({\n\ttype: zod_v4__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"wait\"),\n\tduration: zod_v4__WEBPACK_IMPORTED_MODULE_2__.z.number().optional()\n});\nconst ComputerUseActionUnionSchema = zod_v4__WEBPACK_IMPORTED_MODULE_2__.z.discriminatedUnion(\"type\", [\n\tComputerUseScreenshotActionSchema,\n\tComputerUseClickActionSchema,\n\tComputerUseDoubleClickActionSchema,\n\tComputerUseDragActionSchema,\n\tComputerUseKeypressActionSchema,\n\tComputerUseMoveActionSchema,\n\tComputerUseScrollActionSchema,\n\tComputerUseTypeActionSchema,\n\tComputerUseWaitActionSchema\n]);\nconst ComputerUseActionSchema = zod_v4__WEBPACK_IMPORTED_MODULE_2__.z.object({ action: ComputerUseActionUnionSchema });\nconst TOOL_NAME = \"computer_use\";\n/**\n* Creates a Computer Use tool that allows models to control computer interfaces\n* and perform tasks by simulating mouse clicks, keyboard input, scrolling, and more.\n*\n* **Computer Use** is a practical application of OpenAI's Computer-Using Agent (CUA)\n* model (`computer-use-preview`), which combines vision capabilities with advanced\n* reasoning to simulate controlling computer interfaces.\n*\n* **How it works**:\n* The tool operates in a continuous loop:\n* 1. Model sends computer actions (click, type, scroll, etc.)\n* 2. Your code executes these actions in a controlled environment\n* 3. You capture a screenshot of the result\n* 4. Send the screenshot back to the model\n* 5. Repeat until the task is complete\n*\n* **Important**: Computer use is in beta and requires careful consideration:\n* - Use in sandboxed environments only\n* - Do not use for high-stakes or authenticated tasks\n* - Always implement human-in-the-loop for important decisions\n* - Handle safety checks appropriately\n*\n* @see {@link https://platform.openai.com/docs/guides/tools-computer-use | OpenAI Computer Use Documentation}\n*\n* @param options - Configuration options for the Computer Use tool\n* @returns A Computer Use tool that can be passed to `bindTools`\n*\n* @example\n* ```typescript\n* import { ChatOpenAI, tools } from \"@langchain/openai\";\n*\n* const model = new ChatOpenAI({ model: \"computer-use-preview\" });\n*\n* // With execute callback for automatic action handling\n* const computer = tools.computerUse({\n*   displayWidth: 1024,\n*   displayHeight: 768,\n*   environment: \"browser\",\n*   execute: async (action) => {\n*     if (action.type === \"screenshot\") {\n*       return captureScreenshot();\n*     }\n*     if (action.type === \"click\") {\n*       await page.mouse.click(action.x, action.y, { button: action.button });\n*       return captureScreenshot();\n*     }\n*     if (action.type === \"type\") {\n*       await page.keyboard.type(action.text);\n*       return captureScreenshot();\n*     }\n*     // Handle other actions...\n*     return captureScreenshot();\n*   },\n* });\n*\n* const llmWithComputer = model.bindTools([computer]);\n* const response = await llmWithComputer.invoke(\n*   \"Check the latest news on bing.com\"\n* );\n* ```\n*\n* @example\n* ```typescript\n* // Without execute callback (manual action handling)\n* const computer = tools.computerUse({\n*   displayWidth: 1024,\n*   displayHeight: 768,\n*   environment: \"browser\",\n* });\n*\n* const response = await model.invoke(\"Check the news\", {\n*   tools: [computer],\n* });\n*\n* // Access the computer call from the response\n* const computerCall = response.additional_kwargs.tool_outputs?.find(\n*   (output) => output.type === \"computer_call\"\n* );\n* if (computerCall) {\n*   console.log(\"Action to execute:\", computerCall.action);\n*   // Execute the action manually, then send back a screenshot\n* }\n* ```\n*\n* @example\n* ```typescript\n* // For macOS desktop automation with Docker\n* const computer = tools.computerUse({\n*   displayWidth: 1920,\n*   displayHeight: 1080,\n*   environment: \"mac\",\n*   execute: async (action) => {\n*     if (action.type === \"click\") {\n*       await dockerExec(\n*         `DISPLAY=:99 xdotool mousemove ${action.x} ${action.y} click 1`,\n*         containerName\n*       );\n*     }\n*     // Capture screenshot from container\n*     return await getDockerScreenshot(containerName);\n*   },\n* });\n* ```\n*\n* @remarks\n* - Only available through the Responses API (not Chat Completions)\n* - Requires `computer-use-preview` model\n* - Actions include: click, double_click, drag, keypress, move, screenshot, scroll, type, wait\n* - Safety checks may be returned that require acknowledgment before proceeding\n* - Use `truncation: \"auto\"` parameter when making requests\n* - Recommended to use with `reasoning.summary` for debugging\n*/\nfunction computerUse(options) {\n\tconst computerTool = (0,_langchain_core_tools__WEBPACK_IMPORTED_MODULE_1__.tool)(async (input, runtime) => {\n\t\t/**\n\t\t* get computer_use call id from runtime\n\t\t*/\n\t\tconst aiMessage = runtime.state?.messages.at(-1);\n\t\tconst computerToolCall = aiMessage?.tool_calls?.find((tc) => tc.name === \"computer_use\");\n\t\tconst computerToolCallId = computerToolCall?.id;\n\t\tif (!computerToolCallId) throw new Error(\"Computer use call id not found\");\n\t\tconst result = await options.execute(input.action, runtime);\n\t\t/**\n\t\t* make sure {@link ToolMessage} is returned with the correct additional kwargs\n\t\t*/\n\t\tif (typeof result === \"string\") return new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_0__.ToolMessage({\n\t\t\tcontent: result,\n\t\t\ttool_call_id: computerToolCallId,\n\t\t\tadditional_kwargs: { type: \"computer_call_output\" }\n\t\t});\n\t\t/**\n\t\t* make sure {@link ToolMessage} is returned with the correct additional kwargs\n\t\t*/\n\t\treturn new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_0__.ToolMessage({\n\t\t\t...result,\n\t\t\ttool_call_id: computerToolCallId,\n\t\t\tadditional_kwargs: {\n\t\t\t\ttype: \"computer_call_output\",\n\t\t\t\t...result.additional_kwargs\n\t\t\t}\n\t\t});\n\t}, {\n\t\tname: TOOL_NAME,\n\t\tdescription: \"Control a computer interface by executing mouse clicks, keyboard input, scrolling, and other actions.\",\n\t\tschema: ComputerUseActionSchema\n\t});\n\tcomputerTool.extras = {\n\t\t...computerTool.extras ?? {},\n\t\tproviderToolDefinition: {\n\t\t\ttype: \"computer_use_preview\",\n\t\t\tdisplay_width: options.displayWidth,\n\t\t\tdisplay_height: options.displayHeight,\n\t\t\tenvironment: options.environment\n\t\t}\n\t};\n\t/**\n\t* return as typed {@link DynamicStructuredTool} so we don't get any type\n\t* errors like \"can't export tool without reference\"\n\t*/\n\treturn computerTool;\n}\n\n//#endregion\n\n//# sourceMappingURL=computerUse.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L3Rvb2xzL2NvbXB1dGVyVXNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBdUQ7QUFDVjtBQUNsQjs7QUFFM0I7QUFDQSwwQ0FBMEMsNENBQVEsR0FBRyxNQUFNLDZDQUFTLGdCQUFnQjtBQUNwRixxQ0FBcUMsNENBQVE7QUFDN0MsT0FBTyw2Q0FBUztBQUNoQixJQUFJLDRDQUFRO0FBQ1osSUFBSSw0Q0FBUTtBQUNaLFNBQVMsNkNBQU07QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsMkNBQTJDLDRDQUFRO0FBQ25ELE9BQU8sNkNBQVM7QUFDaEIsSUFBSSw0Q0FBUTtBQUNaLElBQUksNENBQVE7QUFDWixTQUFTLDZDQUFNO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELG9DQUFvQyw0Q0FBUTtBQUM1QyxPQUFPLDZDQUFTO0FBQ2hCLE9BQU8sMkNBQU8sQ0FBQyw0Q0FBUTtBQUN2QixLQUFLLDRDQUFRO0FBQ2IsS0FBSyw0Q0FBUTtBQUNiLEVBQUU7QUFDRixDQUFDO0FBQ0Qsd0NBQXdDLDRDQUFRO0FBQ2hELE9BQU8sNkNBQVM7QUFDaEIsT0FBTywyQ0FBTyxDQUFDLDRDQUFRO0FBQ3ZCLENBQUM7QUFDRCxvQ0FBb0MsNENBQVE7QUFDNUMsT0FBTyw2Q0FBUztBQUNoQixJQUFJLDRDQUFRO0FBQ1osSUFBSSw0Q0FBUTtBQUNaLENBQUM7QUFDRCxzQ0FBc0MsNENBQVE7QUFDOUMsT0FBTyw2Q0FBUztBQUNoQixJQUFJLDRDQUFRO0FBQ1osSUFBSSw0Q0FBUTtBQUNaLFdBQVcsNENBQVE7QUFDbkIsV0FBVyw0Q0FBUTtBQUNuQixDQUFDO0FBQ0Qsb0NBQW9DLDRDQUFRO0FBQzVDLE9BQU8sNkNBQVM7QUFDaEIsT0FBTyw0Q0FBUTtBQUNmLENBQUM7QUFDRCxvQ0FBb0MsNENBQVE7QUFDNUMsT0FBTyw2Q0FBUztBQUNoQixXQUFXLDRDQUFRO0FBQ25CLENBQUM7QUFDRCxxQ0FBcUMsd0RBQW9CO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDRDQUFRLEdBQUcsc0NBQXNDO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxvQkFBb0I7QUFDL0I7QUFDQSxpQ0FBaUMsK0JBQStCO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsdUJBQXVCO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxVQUFVLEVBQUUsVUFBVTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDJEQUFJO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsbUJBQW1CO0FBQ2xDO0FBQ0EsNkNBQTZDLGlFQUFXO0FBQ3hEO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEIsR0FBRztBQUNIO0FBQ0EsZUFBZSxtQkFBbUI7QUFDbEM7QUFDQSxhQUFhLGlFQUFXO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNkJBQTZCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3VCO0FBQ3ZCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L3Rvb2xzL2NvbXB1dGVyVXNlLmpzPzZiYTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVG9vbE1lc3NhZ2UgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL21lc3NhZ2VzXCI7XG5pbXBvcnQgeyB0b29sIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS90b29sc1wiO1xuaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2QvdjRcIjtcblxuLy8jcmVnaW9uIHNyYy90b29scy9jb21wdXRlclVzZS50c1xuY29uc3QgQ29tcHV0ZXJVc2VTY3JlZW5zaG90QWN0aW9uU2NoZW1hID0gei5vYmplY3QoeyB0eXBlOiB6LmxpdGVyYWwoXCJzY3JlZW5zaG90XCIpIH0pO1xuY29uc3QgQ29tcHV0ZXJVc2VDbGlja0FjdGlvblNjaGVtYSA9IHoub2JqZWN0KHtcblx0dHlwZTogei5saXRlcmFsKFwiY2xpY2tcIiksXG5cdHg6IHoubnVtYmVyKCksXG5cdHk6IHoubnVtYmVyKCksXG5cdGJ1dHRvbjogei5lbnVtKFtcblx0XHRcImxlZnRcIixcblx0XHRcInJpZ2h0XCIsXG5cdFx0XCJ3aGVlbFwiLFxuXHRcdFwiYmFja1wiLFxuXHRcdFwiZm9yd2FyZFwiXG5cdF0pLmRlZmF1bHQoXCJsZWZ0XCIpXG59KTtcbmNvbnN0IENvbXB1dGVyVXNlRG91YmxlQ2xpY2tBY3Rpb25TY2hlbWEgPSB6Lm9iamVjdCh7XG5cdHR5cGU6IHoubGl0ZXJhbChcImRvdWJsZV9jbGlja1wiKSxcblx0eDogei5udW1iZXIoKSxcblx0eTogei5udW1iZXIoKSxcblx0YnV0dG9uOiB6LmVudW0oW1xuXHRcdFwibGVmdFwiLFxuXHRcdFwicmlnaHRcIixcblx0XHRcIndoZWVsXCIsXG5cdFx0XCJiYWNrXCIsXG5cdFx0XCJmb3J3YXJkXCJcblx0XSkuZGVmYXVsdChcImxlZnRcIilcbn0pO1xuY29uc3QgQ29tcHV0ZXJVc2VEcmFnQWN0aW9uU2NoZW1hID0gei5vYmplY3Qoe1xuXHR0eXBlOiB6LmxpdGVyYWwoXCJkcmFnXCIpLFxuXHRwYXRoOiB6LmFycmF5KHoub2JqZWN0KHtcblx0XHR4OiB6Lm51bWJlcigpLFxuXHRcdHk6IHoubnVtYmVyKClcblx0fSkpXG59KTtcbmNvbnN0IENvbXB1dGVyVXNlS2V5cHJlc3NBY3Rpb25TY2hlbWEgPSB6Lm9iamVjdCh7XG5cdHR5cGU6IHoubGl0ZXJhbChcImtleXByZXNzXCIpLFxuXHRrZXlzOiB6LmFycmF5KHouc3RyaW5nKCkpXG59KTtcbmNvbnN0IENvbXB1dGVyVXNlTW92ZUFjdGlvblNjaGVtYSA9IHoub2JqZWN0KHtcblx0dHlwZTogei5saXRlcmFsKFwibW92ZVwiKSxcblx0eDogei5udW1iZXIoKSxcblx0eTogei5udW1iZXIoKVxufSk7XG5jb25zdCBDb21wdXRlclVzZVNjcm9sbEFjdGlvblNjaGVtYSA9IHoub2JqZWN0KHtcblx0dHlwZTogei5saXRlcmFsKFwic2Nyb2xsXCIpLFxuXHR4OiB6Lm51bWJlcigpLFxuXHR5OiB6Lm51bWJlcigpLFxuXHRzY3JvbGxfeDogei5udW1iZXIoKSxcblx0c2Nyb2xsX3k6IHoubnVtYmVyKClcbn0pO1xuY29uc3QgQ29tcHV0ZXJVc2VUeXBlQWN0aW9uU2NoZW1hID0gei5vYmplY3Qoe1xuXHR0eXBlOiB6LmxpdGVyYWwoXCJ0eXBlXCIpLFxuXHR0ZXh0OiB6LnN0cmluZygpXG59KTtcbmNvbnN0IENvbXB1dGVyVXNlV2FpdEFjdGlvblNjaGVtYSA9IHoub2JqZWN0KHtcblx0dHlwZTogei5saXRlcmFsKFwid2FpdFwiKSxcblx0ZHVyYXRpb246IHoubnVtYmVyKCkub3B0aW9uYWwoKVxufSk7XG5jb25zdCBDb21wdXRlclVzZUFjdGlvblVuaW9uU2NoZW1hID0gei5kaXNjcmltaW5hdGVkVW5pb24oXCJ0eXBlXCIsIFtcblx0Q29tcHV0ZXJVc2VTY3JlZW5zaG90QWN0aW9uU2NoZW1hLFxuXHRDb21wdXRlclVzZUNsaWNrQWN0aW9uU2NoZW1hLFxuXHRDb21wdXRlclVzZURvdWJsZUNsaWNrQWN0aW9uU2NoZW1hLFxuXHRDb21wdXRlclVzZURyYWdBY3Rpb25TY2hlbWEsXG5cdENvbXB1dGVyVXNlS2V5cHJlc3NBY3Rpb25TY2hlbWEsXG5cdENvbXB1dGVyVXNlTW92ZUFjdGlvblNjaGVtYSxcblx0Q29tcHV0ZXJVc2VTY3JvbGxBY3Rpb25TY2hlbWEsXG5cdENvbXB1dGVyVXNlVHlwZUFjdGlvblNjaGVtYSxcblx0Q29tcHV0ZXJVc2VXYWl0QWN0aW9uU2NoZW1hXG5dKTtcbmNvbnN0IENvbXB1dGVyVXNlQWN0aW9uU2NoZW1hID0gei5vYmplY3QoeyBhY3Rpb246IENvbXB1dGVyVXNlQWN0aW9uVW5pb25TY2hlbWEgfSk7XG5jb25zdCBUT09MX05BTUUgPSBcImNvbXB1dGVyX3VzZVwiO1xuLyoqXG4qIENyZWF0ZXMgYSBDb21wdXRlciBVc2UgdG9vbCB0aGF0IGFsbG93cyBtb2RlbHMgdG8gY29udHJvbCBjb21wdXRlciBpbnRlcmZhY2VzXG4qIGFuZCBwZXJmb3JtIHRhc2tzIGJ5IHNpbXVsYXRpbmcgbW91c2UgY2xpY2tzLCBrZXlib2FyZCBpbnB1dCwgc2Nyb2xsaW5nLCBhbmQgbW9yZS5cbipcbiogKipDb21wdXRlciBVc2UqKiBpcyBhIHByYWN0aWNhbCBhcHBsaWNhdGlvbiBvZiBPcGVuQUkncyBDb21wdXRlci1Vc2luZyBBZ2VudCAoQ1VBKVxuKiBtb2RlbCAoYGNvbXB1dGVyLXVzZS1wcmV2aWV3YCksIHdoaWNoIGNvbWJpbmVzIHZpc2lvbiBjYXBhYmlsaXRpZXMgd2l0aCBhZHZhbmNlZFxuKiByZWFzb25pbmcgdG8gc2ltdWxhdGUgY29udHJvbGxpbmcgY29tcHV0ZXIgaW50ZXJmYWNlcy5cbipcbiogKipIb3cgaXQgd29ya3MqKjpcbiogVGhlIHRvb2wgb3BlcmF0ZXMgaW4gYSBjb250aW51b3VzIGxvb3A6XG4qIDEuIE1vZGVsIHNlbmRzIGNvbXB1dGVyIGFjdGlvbnMgKGNsaWNrLCB0eXBlLCBzY3JvbGwsIGV0Yy4pXG4qIDIuIFlvdXIgY29kZSBleGVjdXRlcyB0aGVzZSBhY3Rpb25zIGluIGEgY29udHJvbGxlZCBlbnZpcm9ubWVudFxuKiAzLiBZb3UgY2FwdHVyZSBhIHNjcmVlbnNob3Qgb2YgdGhlIHJlc3VsdFxuKiA0LiBTZW5kIHRoZSBzY3JlZW5zaG90IGJhY2sgdG8gdGhlIG1vZGVsXG4qIDUuIFJlcGVhdCB1bnRpbCB0aGUgdGFzayBpcyBjb21wbGV0ZVxuKlxuKiAqKkltcG9ydGFudCoqOiBDb21wdXRlciB1c2UgaXMgaW4gYmV0YSBhbmQgcmVxdWlyZXMgY2FyZWZ1bCBjb25zaWRlcmF0aW9uOlxuKiAtIFVzZSBpbiBzYW5kYm94ZWQgZW52aXJvbm1lbnRzIG9ubHlcbiogLSBEbyBub3QgdXNlIGZvciBoaWdoLXN0YWtlcyBvciBhdXRoZW50aWNhdGVkIHRhc2tzXG4qIC0gQWx3YXlzIGltcGxlbWVudCBodW1hbi1pbi10aGUtbG9vcCBmb3IgaW1wb3J0YW50IGRlY2lzaW9uc1xuKiAtIEhhbmRsZSBzYWZldHkgY2hlY2tzIGFwcHJvcHJpYXRlbHlcbipcbiogQHNlZSB7QGxpbmsgaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3Rvb2xzLWNvbXB1dGVyLXVzZSB8IE9wZW5BSSBDb21wdXRlciBVc2UgRG9jdW1lbnRhdGlvbn1cbipcbiogQHBhcmFtIG9wdGlvbnMgLSBDb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHRoZSBDb21wdXRlciBVc2UgdG9vbFxuKiBAcmV0dXJucyBBIENvbXB1dGVyIFVzZSB0b29sIHRoYXQgY2FuIGJlIHBhc3NlZCB0byBgYmluZFRvb2xzYFxuKlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIGltcG9ydCB7IENoYXRPcGVuQUksIHRvb2xzIH0gZnJvbSBcIkBsYW5nY2hhaW4vb3BlbmFpXCI7XG4qXG4qIGNvbnN0IG1vZGVsID0gbmV3IENoYXRPcGVuQUkoeyBtb2RlbDogXCJjb21wdXRlci11c2UtcHJldmlld1wiIH0pO1xuKlxuKiAvLyBXaXRoIGV4ZWN1dGUgY2FsbGJhY2sgZm9yIGF1dG9tYXRpYyBhY3Rpb24gaGFuZGxpbmdcbiogY29uc3QgY29tcHV0ZXIgPSB0b29scy5jb21wdXRlclVzZSh7XG4qICAgZGlzcGxheVdpZHRoOiAxMDI0LFxuKiAgIGRpc3BsYXlIZWlnaHQ6IDc2OCxcbiogICBlbnZpcm9ubWVudDogXCJicm93c2VyXCIsXG4qICAgZXhlY3V0ZTogYXN5bmMgKGFjdGlvbikgPT4ge1xuKiAgICAgaWYgKGFjdGlvbi50eXBlID09PSBcInNjcmVlbnNob3RcIikge1xuKiAgICAgICByZXR1cm4gY2FwdHVyZVNjcmVlbnNob3QoKTtcbiogICAgIH1cbiogICAgIGlmIChhY3Rpb24udHlwZSA9PT0gXCJjbGlja1wiKSB7XG4qICAgICAgIGF3YWl0IHBhZ2UubW91c2UuY2xpY2soYWN0aW9uLngsIGFjdGlvbi55LCB7IGJ1dHRvbjogYWN0aW9uLmJ1dHRvbiB9KTtcbiogICAgICAgcmV0dXJuIGNhcHR1cmVTY3JlZW5zaG90KCk7XG4qICAgICB9XG4qICAgICBpZiAoYWN0aW9uLnR5cGUgPT09IFwidHlwZVwiKSB7XG4qICAgICAgIGF3YWl0IHBhZ2Uua2V5Ym9hcmQudHlwZShhY3Rpb24udGV4dCk7XG4qICAgICAgIHJldHVybiBjYXB0dXJlU2NyZWVuc2hvdCgpO1xuKiAgICAgfVxuKiAgICAgLy8gSGFuZGxlIG90aGVyIGFjdGlvbnMuLi5cbiogICAgIHJldHVybiBjYXB0dXJlU2NyZWVuc2hvdCgpO1xuKiAgIH0sXG4qIH0pO1xuKlxuKiBjb25zdCBsbG1XaXRoQ29tcHV0ZXIgPSBtb2RlbC5iaW5kVG9vbHMoW2NvbXB1dGVyXSk7XG4qIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbGxtV2l0aENvbXB1dGVyLmludm9rZShcbiogICBcIkNoZWNrIHRoZSBsYXRlc3QgbmV3cyBvbiBiaW5nLmNvbVwiXG4qICk7XG4qIGBgYFxuKlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIC8vIFdpdGhvdXQgZXhlY3V0ZSBjYWxsYmFjayAobWFudWFsIGFjdGlvbiBoYW5kbGluZylcbiogY29uc3QgY29tcHV0ZXIgPSB0b29scy5jb21wdXRlclVzZSh7XG4qICAgZGlzcGxheVdpZHRoOiAxMDI0LFxuKiAgIGRpc3BsYXlIZWlnaHQ6IDc2OCxcbiogICBlbnZpcm9ubWVudDogXCJicm93c2VyXCIsXG4qIH0pO1xuKlxuKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IG1vZGVsLmludm9rZShcIkNoZWNrIHRoZSBuZXdzXCIsIHtcbiogICB0b29sczogW2NvbXB1dGVyXSxcbiogfSk7XG4qXG4qIC8vIEFjY2VzcyB0aGUgY29tcHV0ZXIgY2FsbCBmcm9tIHRoZSByZXNwb25zZVxuKiBjb25zdCBjb21wdXRlckNhbGwgPSByZXNwb25zZS5hZGRpdGlvbmFsX2t3YXJncy50b29sX291dHB1dHM/LmZpbmQoXG4qICAgKG91dHB1dCkgPT4gb3V0cHV0LnR5cGUgPT09IFwiY29tcHV0ZXJfY2FsbFwiXG4qICk7XG4qIGlmIChjb21wdXRlckNhbGwpIHtcbiogICBjb25zb2xlLmxvZyhcIkFjdGlvbiB0byBleGVjdXRlOlwiLCBjb21wdXRlckNhbGwuYWN0aW9uKTtcbiogICAvLyBFeGVjdXRlIHRoZSBhY3Rpb24gbWFudWFsbHksIHRoZW4gc2VuZCBiYWNrIGEgc2NyZWVuc2hvdFxuKiB9XG4qIGBgYFxuKlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIC8vIEZvciBtYWNPUyBkZXNrdG9wIGF1dG9tYXRpb24gd2l0aCBEb2NrZXJcbiogY29uc3QgY29tcHV0ZXIgPSB0b29scy5jb21wdXRlclVzZSh7XG4qICAgZGlzcGxheVdpZHRoOiAxOTIwLFxuKiAgIGRpc3BsYXlIZWlnaHQ6IDEwODAsXG4qICAgZW52aXJvbm1lbnQ6IFwibWFjXCIsXG4qICAgZXhlY3V0ZTogYXN5bmMgKGFjdGlvbikgPT4ge1xuKiAgICAgaWYgKGFjdGlvbi50eXBlID09PSBcImNsaWNrXCIpIHtcbiogICAgICAgYXdhaXQgZG9ja2VyRXhlYyhcbiogICAgICAgICBgRElTUExBWT06OTkgeGRvdG9vbCBtb3VzZW1vdmUgJHthY3Rpb24ueH0gJHthY3Rpb24ueX0gY2xpY2sgMWAsXG4qICAgICAgICAgY29udGFpbmVyTmFtZVxuKiAgICAgICApO1xuKiAgICAgfVxuKiAgICAgLy8gQ2FwdHVyZSBzY3JlZW5zaG90IGZyb20gY29udGFpbmVyXG4qICAgICByZXR1cm4gYXdhaXQgZ2V0RG9ja2VyU2NyZWVuc2hvdChjb250YWluZXJOYW1lKTtcbiogICB9LFxuKiB9KTtcbiogYGBgXG4qXG4qIEByZW1hcmtzXG4qIC0gT25seSBhdmFpbGFibGUgdGhyb3VnaCB0aGUgUmVzcG9uc2VzIEFQSSAobm90IENoYXQgQ29tcGxldGlvbnMpXG4qIC0gUmVxdWlyZXMgYGNvbXB1dGVyLXVzZS1wcmV2aWV3YCBtb2RlbFxuKiAtIEFjdGlvbnMgaW5jbHVkZTogY2xpY2ssIGRvdWJsZV9jbGljaywgZHJhZywga2V5cHJlc3MsIG1vdmUsIHNjcmVlbnNob3QsIHNjcm9sbCwgdHlwZSwgd2FpdFxuKiAtIFNhZmV0eSBjaGVja3MgbWF5IGJlIHJldHVybmVkIHRoYXQgcmVxdWlyZSBhY2tub3dsZWRnbWVudCBiZWZvcmUgcHJvY2VlZGluZ1xuKiAtIFVzZSBgdHJ1bmNhdGlvbjogXCJhdXRvXCJgIHBhcmFtZXRlciB3aGVuIG1ha2luZyByZXF1ZXN0c1xuKiAtIFJlY29tbWVuZGVkIHRvIHVzZSB3aXRoIGByZWFzb25pbmcuc3VtbWFyeWAgZm9yIGRlYnVnZ2luZ1xuKi9cbmZ1bmN0aW9uIGNvbXB1dGVyVXNlKG9wdGlvbnMpIHtcblx0Y29uc3QgY29tcHV0ZXJUb29sID0gdG9vbChhc3luYyAoaW5wdXQsIHJ1bnRpbWUpID0+IHtcblx0XHQvKipcblx0XHQqIGdldCBjb21wdXRlcl91c2UgY2FsbCBpZCBmcm9tIHJ1bnRpbWVcblx0XHQqL1xuXHRcdGNvbnN0IGFpTWVzc2FnZSA9IHJ1bnRpbWUuc3RhdGU/Lm1lc3NhZ2VzLmF0KC0xKTtcblx0XHRjb25zdCBjb21wdXRlclRvb2xDYWxsID0gYWlNZXNzYWdlPy50b29sX2NhbGxzPy5maW5kKCh0YykgPT4gdGMubmFtZSA9PT0gXCJjb21wdXRlcl91c2VcIik7XG5cdFx0Y29uc3QgY29tcHV0ZXJUb29sQ2FsbElkID0gY29tcHV0ZXJUb29sQ2FsbD8uaWQ7XG5cdFx0aWYgKCFjb21wdXRlclRvb2xDYWxsSWQpIHRocm93IG5ldyBFcnJvcihcIkNvbXB1dGVyIHVzZSBjYWxsIGlkIG5vdCBmb3VuZFwiKTtcblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBvcHRpb25zLmV4ZWN1dGUoaW5wdXQuYWN0aW9uLCBydW50aW1lKTtcblx0XHQvKipcblx0XHQqIG1ha2Ugc3VyZSB7QGxpbmsgVG9vbE1lc3NhZ2V9IGlzIHJldHVybmVkIHdpdGggdGhlIGNvcnJlY3QgYWRkaXRpb25hbCBrd2FyZ3Ncblx0XHQqL1xuXHRcdGlmICh0eXBlb2YgcmVzdWx0ID09PSBcInN0cmluZ1wiKSByZXR1cm4gbmV3IFRvb2xNZXNzYWdlKHtcblx0XHRcdGNvbnRlbnQ6IHJlc3VsdCxcblx0XHRcdHRvb2xfY2FsbF9pZDogY29tcHV0ZXJUb29sQ2FsbElkLFxuXHRcdFx0YWRkaXRpb25hbF9rd2FyZ3M6IHsgdHlwZTogXCJjb21wdXRlcl9jYWxsX291dHB1dFwiIH1cblx0XHR9KTtcblx0XHQvKipcblx0XHQqIG1ha2Ugc3VyZSB7QGxpbmsgVG9vbE1lc3NhZ2V9IGlzIHJldHVybmVkIHdpdGggdGhlIGNvcnJlY3QgYWRkaXRpb25hbCBrd2FyZ3Ncblx0XHQqL1xuXHRcdHJldHVybiBuZXcgVG9vbE1lc3NhZ2Uoe1xuXHRcdFx0Li4ucmVzdWx0LFxuXHRcdFx0dG9vbF9jYWxsX2lkOiBjb21wdXRlclRvb2xDYWxsSWQsXG5cdFx0XHRhZGRpdGlvbmFsX2t3YXJnczoge1xuXHRcdFx0XHR0eXBlOiBcImNvbXB1dGVyX2NhbGxfb3V0cHV0XCIsXG5cdFx0XHRcdC4uLnJlc3VsdC5hZGRpdGlvbmFsX2t3YXJnc1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9LCB7XG5cdFx0bmFtZTogVE9PTF9OQU1FLFxuXHRcdGRlc2NyaXB0aW9uOiBcIkNvbnRyb2wgYSBjb21wdXRlciBpbnRlcmZhY2UgYnkgZXhlY3V0aW5nIG1vdXNlIGNsaWNrcywga2V5Ym9hcmQgaW5wdXQsIHNjcm9sbGluZywgYW5kIG90aGVyIGFjdGlvbnMuXCIsXG5cdFx0c2NoZW1hOiBDb21wdXRlclVzZUFjdGlvblNjaGVtYVxuXHR9KTtcblx0Y29tcHV0ZXJUb29sLmV4dHJhcyA9IHtcblx0XHQuLi5jb21wdXRlclRvb2wuZXh0cmFzID8/IHt9LFxuXHRcdHByb3ZpZGVyVG9vbERlZmluaXRpb246IHtcblx0XHRcdHR5cGU6IFwiY29tcHV0ZXJfdXNlX3ByZXZpZXdcIixcblx0XHRcdGRpc3BsYXlfd2lkdGg6IG9wdGlvbnMuZGlzcGxheVdpZHRoLFxuXHRcdFx0ZGlzcGxheV9oZWlnaHQ6IG9wdGlvbnMuZGlzcGxheUhlaWdodCxcblx0XHRcdGVudmlyb25tZW50OiBvcHRpb25zLmVudmlyb25tZW50XG5cdFx0fVxuXHR9O1xuXHQvKipcblx0KiByZXR1cm4gYXMgdHlwZWQge0BsaW5rIER5bmFtaWNTdHJ1Y3R1cmVkVG9vbH0gc28gd2UgZG9uJ3QgZ2V0IGFueSB0eXBlXG5cdCogZXJyb3JzIGxpa2UgXCJjYW4ndCBleHBvcnQgdG9vbCB3aXRob3V0IHJlZmVyZW5jZVwiXG5cdCovXG5cdHJldHVybiBjb21wdXRlclRvb2w7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgY29tcHV0ZXJVc2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXB1dGVyVXNlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/computerUse.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/custom.js":
/*!******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/custom.js ***!
  \******************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   customTool: () => (/* binding */ customTool)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/runnables */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/index.js\");\n/* harmony import */ var _langchain_core_tools__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @langchain/core/tools */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tools/index.js\");\n/* harmony import */ var _langchain_core_singletons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @langchain/core/singletons */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/index.js\");\n\n\n\n\n//#region src/tools/custom.ts\nfunction customTool(func, fields) {\n\treturn new _langchain_core_tools__WEBPACK_IMPORTED_MODULE_1__.DynamicTool({\n\t\t...fields,\n\t\tdescription: \"\",\n\t\tmetadata: { customTool: fields },\n\t\tfunc: async (input, runManager, config) => new Promise((resolve, reject) => {\n\t\t\tconst childConfig = (0,_langchain_core_runnables__WEBPACK_IMPORTED_MODULE_0__.patchConfig)(config, { callbacks: runManager?.getChild() });\n\t\t\t_langchain_core_singletons__WEBPACK_IMPORTED_MODULE_2__.AsyncLocalStorageProviderSingleton.runWithConfig((0,_langchain_core_runnables__WEBPACK_IMPORTED_MODULE_0__.pickRunnableConfigKeys)(childConfig), async () => {\n\t\t\t\ttry {\n\t\t\t\t\tresolve(func(input, childConfig));\n\t\t\t\t} catch (e) {\n\t\t\t\t\treject(e);\n\t\t\t\t}\n\t\t\t});\n\t\t})\n\t});\n}\n\n//#endregion\n\n//# sourceMappingURL=custom.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L3Rvb2xzL2N1c3RvbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWdGO0FBQzVCO0FBQzRCOztBQUVoRjtBQUNBO0FBQ0EsWUFBWSw4REFBVztBQUN2QjtBQUNBO0FBQ0EsY0FBYyxvQkFBb0I7QUFDbEM7QUFDQSx1QkFBdUIsc0VBQVcsV0FBVyxtQ0FBbUM7QUFDaEYsR0FBRywwRkFBa0MsZUFBZSxpRkFBc0I7QUFDMUU7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7QUFDSCxFQUFFO0FBQ0Y7O0FBRUE7QUFDc0I7QUFDdEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rb3BlbmFpQDEuMi4zX0BsYW5nY2hhaW4rY29yZUAxLjEuMTcvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvdG9vbHMvY3VzdG9tLmpzPzVlYzMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcGF0Y2hDb25maWcsIHBpY2tSdW5uYWJsZUNvbmZpZ0tleXMgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3J1bm5hYmxlc1wiO1xuaW1wb3J0IHsgRHluYW1pY1Rvb2wgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3Rvb2xzXCI7XG5pbXBvcnQgeyBBc3luY0xvY2FsU3RvcmFnZVByb3ZpZGVyU2luZ2xldG9uIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9zaW5nbGV0b25zXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdG9vbHMvY3VzdG9tLnRzXG5mdW5jdGlvbiBjdXN0b21Ub29sKGZ1bmMsIGZpZWxkcykge1xuXHRyZXR1cm4gbmV3IER5bmFtaWNUb29sKHtcblx0XHQuLi5maWVsZHMsXG5cdFx0ZGVzY3JpcHRpb246IFwiXCIsXG5cdFx0bWV0YWRhdGE6IHsgY3VzdG9tVG9vbDogZmllbGRzIH0sXG5cdFx0ZnVuYzogYXN5bmMgKGlucHV0LCBydW5NYW5hZ2VyLCBjb25maWcpID0+IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdGNvbnN0IGNoaWxkQ29uZmlnID0gcGF0Y2hDb25maWcoY29uZmlnLCB7IGNhbGxiYWNrczogcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoKSB9KTtcblx0XHRcdEFzeW5jTG9jYWxTdG9yYWdlUHJvdmlkZXJTaW5nbGV0b24ucnVuV2l0aENvbmZpZyhwaWNrUnVubmFibGVDb25maWdLZXlzKGNoaWxkQ29uZmlnKSwgYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdHJlc29sdmUoZnVuYyhpbnB1dCwgY2hpbGRDb25maWcpKTtcblx0XHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRcdHJlamVjdChlKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSlcblx0fSk7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgY3VzdG9tVG9vbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3VzdG9tLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/custom.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/dalle.js":
/*!*****************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/dalle.js ***!
  \*****************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DallEAPIWrapper: () => (/* binding */ DallEAPIWrapper)\n/* harmony export */ });\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! openai */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+openai@6.16.0_zod@4.3.6/node_modules/openai/index.mjs\");\n/* harmony import */ var _langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @langchain/core/utils/env */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/env.js\");\n/* harmony import */ var _langchain_core_tools__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @langchain/core/tools */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tools/index.js\");\n\n\n\n\n//#region src/tools/dalle.ts\n/**\n* A tool for generating images with Open AIs Dall-E 2 or 3 API.\n*/\nvar DallEAPIWrapper = class extends _langchain_core_tools__WEBPACK_IMPORTED_MODULE_2__.Tool {\n\tstatic lc_name() {\n\t\treturn \"DallEAPIWrapper\";\n\t}\n\tname = \"dalle_api_wrapper\";\n\tdescription = \"A wrapper around OpenAI DALL-E API. Useful for when you need to generate images from a text description. Input should be an image description.\";\n\tclient;\n\tstatic toolName = \"dalle_api_wrapper\";\n\tmodel = \"dall-e-3\";\n\tstyle = \"vivid\";\n\tquality = \"standard\";\n\tn = 1;\n\tsize = \"1024x1024\";\n\tdallEResponseFormat = \"url\";\n\tuser;\n\tconstructor(fields) {\n\t\tif (fields?.responseFormat !== void 0 && [\"url\", \"b64_json\"].includes(fields.responseFormat)) {\n\t\t\tfields.dallEResponseFormat = fields.responseFormat;\n\t\t\tfields.responseFormat = \"content\";\n\t\t}\n\t\tsuper(fields);\n\t\tconst openAIApiKey = fields?.apiKey ?? fields?.openAIApiKey ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_1__.getEnvironmentVariable)(\"OPENAI_API_KEY\");\n\t\tconst organization = fields?.organization ?? (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_1__.getEnvironmentVariable)(\"OPENAI_ORGANIZATION\");\n\t\tconst clientConfig = {\n\t\t\tapiKey: openAIApiKey,\n\t\t\torganization,\n\t\t\tdangerouslyAllowBrowser: true,\n\t\t\tbaseURL: fields?.baseUrl\n\t\t};\n\t\tthis.client = new openai__WEBPACK_IMPORTED_MODULE_0__.OpenAI(clientConfig);\n\t\tthis.model = fields?.model ?? fields?.modelName ?? this.model;\n\t\tthis.style = fields?.style ?? this.style;\n\t\tthis.quality = fields?.quality ?? this.quality;\n\t\tthis.n = fields?.n ?? this.n;\n\t\tthis.size = fields?.size ?? this.size;\n\t\tthis.dallEResponseFormat = fields?.dallEResponseFormat ?? this.dallEResponseFormat;\n\t\tthis.user = fields?.user;\n\t}\n\t/**\n\t* Processes the API response if multiple images are generated.\n\t* Returns a list of MessageContentImageUrl objects. If the response\n\t* format is `url`, then the `image_url` field will contain the URL.\n\t* If it is `b64_json`, then the `image_url` field will contain an object\n\t* with a `url` field with the base64 encoded image.\n\t*\n\t* @param {OpenAIClient.Images.ImagesResponse[]} response The API response\n\t* @returns {MessageContentImageUrl[]}\n\t*/\n\tprocessMultipleGeneratedUrls(response) {\n\t\tif (this.dallEResponseFormat === \"url\") return response.flatMap((res) => {\n\t\t\tconst imageUrlContent = res.data?.flatMap((item) => {\n\t\t\t\tif (!item.url) return [];\n\t\t\t\treturn {\n\t\t\t\t\ttype: \"image_url\",\n\t\t\t\t\timage_url: item.url\n\t\t\t\t};\n\t\t\t}).filter((item) => item !== void 0 && item.type === \"image_url\" && typeof item.image_url === \"string\" && item.image_url !== void 0) ?? [];\n\t\t\treturn imageUrlContent;\n\t\t});\n\t\telse return response.flatMap((res) => {\n\t\t\tconst b64Content = res.data?.flatMap((item) => {\n\t\t\t\tif (!item.b64_json) return [];\n\t\t\t\treturn {\n\t\t\t\t\ttype: \"image_url\",\n\t\t\t\t\timage_url: { url: item.b64_json }\n\t\t\t\t};\n\t\t\t}).filter((item) => item !== void 0 && item.type === \"image_url\" && typeof item.image_url === \"object\" && \"url\" in item.image_url && typeof item.image_url.url === \"string\" && item.image_url.url !== void 0) ?? [];\n\t\t\treturn b64Content;\n\t\t});\n\t}\n\t/** @ignore */\n\tasync _call(input) {\n\t\tconst generateImageFields = {\n\t\t\tmodel: this.model,\n\t\t\tprompt: input,\n\t\t\tn: 1,\n\t\t\tsize: this.size,\n\t\t\tresponse_format: this.dallEResponseFormat,\n\t\t\tstyle: this.style,\n\t\t\tquality: this.quality,\n\t\t\tuser: this.user\n\t\t};\n\t\tif (this.n > 1) {\n\t\t\tconst results = await Promise.all(Array.from({ length: this.n }).map(() => this.client.images.generate(generateImageFields)));\n\t\t\treturn this.processMultipleGeneratedUrls(results);\n\t\t}\n\t\tconst response = await this.client.images.generate(generateImageFields);\n\t\tlet data = \"\";\n\t\tif (this.dallEResponseFormat === \"url\") [data] = response.data?.map((item) => item.url).filter((url) => url !== \"undefined\") ?? [];\n\t\telse [data] = response.data?.map((item) => item.b64_json).filter((b64_json) => b64_json !== \"undefined\") ?? [];\n\t\treturn data;\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=dalle.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L3Rvb2xzL2RhbGxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBNEM7QUFDdUI7QUFDdEI7O0FBRTdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLHVEQUFJO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsaUZBQXNCO0FBQ3ZGLCtDQUErQyxpRkFBc0I7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDBDQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsc0NBQXNDO0FBQ2pELGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBLElBQUk7QUFDSjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELGdCQUFnQjtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDMkI7QUFDM0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rb3BlbmFpQDEuMi4zX0BsYW5nY2hhaW4rY29yZUAxLjEuMTcvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvdG9vbHMvZGFsbGUuanM/NWQ4NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBPcGVuQUkgYXMgT3BlbkFJJDEgfSBmcm9tIFwib3BlbmFpXCI7XG5pbXBvcnQgeyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS91dGlscy9lbnZcIjtcbmltcG9ydCB7IFRvb2wgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3Rvb2xzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdG9vbHMvZGFsbGUudHNcbi8qKlxuKiBBIHRvb2wgZm9yIGdlbmVyYXRpbmcgaW1hZ2VzIHdpdGggT3BlbiBBSXMgRGFsbC1FIDIgb3IgMyBBUEkuXG4qL1xudmFyIERhbGxFQVBJV3JhcHBlciA9IGNsYXNzIGV4dGVuZHMgVG9vbCB7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIkRhbGxFQVBJV3JhcHBlclwiO1xuXHR9XG5cdG5hbWUgPSBcImRhbGxlX2FwaV93cmFwcGVyXCI7XG5cdGRlc2NyaXB0aW9uID0gXCJBIHdyYXBwZXIgYXJvdW5kIE9wZW5BSSBEQUxMLUUgQVBJLiBVc2VmdWwgZm9yIHdoZW4geW91IG5lZWQgdG8gZ2VuZXJhdGUgaW1hZ2VzIGZyb20gYSB0ZXh0IGRlc2NyaXB0aW9uLiBJbnB1dCBzaG91bGQgYmUgYW4gaW1hZ2UgZGVzY3JpcHRpb24uXCI7XG5cdGNsaWVudDtcblx0c3RhdGljIHRvb2xOYW1lID0gXCJkYWxsZV9hcGlfd3JhcHBlclwiO1xuXHRtb2RlbCA9IFwiZGFsbC1lLTNcIjtcblx0c3R5bGUgPSBcInZpdmlkXCI7XG5cdHF1YWxpdHkgPSBcInN0YW5kYXJkXCI7XG5cdG4gPSAxO1xuXHRzaXplID0gXCIxMDI0eDEwMjRcIjtcblx0ZGFsbEVSZXNwb25zZUZvcm1hdCA9IFwidXJsXCI7XG5cdHVzZXI7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdGlmIChmaWVsZHM/LnJlc3BvbnNlRm9ybWF0ICE9PSB2b2lkIDAgJiYgW1widXJsXCIsIFwiYjY0X2pzb25cIl0uaW5jbHVkZXMoZmllbGRzLnJlc3BvbnNlRm9ybWF0KSkge1xuXHRcdFx0ZmllbGRzLmRhbGxFUmVzcG9uc2VGb3JtYXQgPSBmaWVsZHMucmVzcG9uc2VGb3JtYXQ7XG5cdFx0XHRmaWVsZHMucmVzcG9uc2VGb3JtYXQgPSBcImNvbnRlbnRcIjtcblx0XHR9XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHRjb25zdCBvcGVuQUlBcGlLZXkgPSBmaWVsZHM/LmFwaUtleSA/PyBmaWVsZHM/Lm9wZW5BSUFwaUtleSA/PyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiT1BFTkFJX0FQSV9LRVlcIik7XG5cdFx0Y29uc3Qgb3JnYW5pemF0aW9uID0gZmllbGRzPy5vcmdhbml6YXRpb24gPz8gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIk9QRU5BSV9PUkdBTklaQVRJT05cIik7XG5cdFx0Y29uc3QgY2xpZW50Q29uZmlnID0ge1xuXHRcdFx0YXBpS2V5OiBvcGVuQUlBcGlLZXksXG5cdFx0XHRvcmdhbml6YXRpb24sXG5cdFx0XHRkYW5nZXJvdXNseUFsbG93QnJvd3NlcjogdHJ1ZSxcblx0XHRcdGJhc2VVUkw6IGZpZWxkcz8uYmFzZVVybFxuXHRcdH07XG5cdFx0dGhpcy5jbGllbnQgPSBuZXcgT3BlbkFJJDEoY2xpZW50Q29uZmlnKTtcblx0XHR0aGlzLm1vZGVsID0gZmllbGRzPy5tb2RlbCA/PyBmaWVsZHM/Lm1vZGVsTmFtZSA/PyB0aGlzLm1vZGVsO1xuXHRcdHRoaXMuc3R5bGUgPSBmaWVsZHM/LnN0eWxlID8/IHRoaXMuc3R5bGU7XG5cdFx0dGhpcy5xdWFsaXR5ID0gZmllbGRzPy5xdWFsaXR5ID8/IHRoaXMucXVhbGl0eTtcblx0XHR0aGlzLm4gPSBmaWVsZHM/Lm4gPz8gdGhpcy5uO1xuXHRcdHRoaXMuc2l6ZSA9IGZpZWxkcz8uc2l6ZSA/PyB0aGlzLnNpemU7XG5cdFx0dGhpcy5kYWxsRVJlc3BvbnNlRm9ybWF0ID0gZmllbGRzPy5kYWxsRVJlc3BvbnNlRm9ybWF0ID8/IHRoaXMuZGFsbEVSZXNwb25zZUZvcm1hdDtcblx0XHR0aGlzLnVzZXIgPSBmaWVsZHM/LnVzZXI7XG5cdH1cblx0LyoqXG5cdCogUHJvY2Vzc2VzIHRoZSBBUEkgcmVzcG9uc2UgaWYgbXVsdGlwbGUgaW1hZ2VzIGFyZSBnZW5lcmF0ZWQuXG5cdCogUmV0dXJucyBhIGxpc3Qgb2YgTWVzc2FnZUNvbnRlbnRJbWFnZVVybCBvYmplY3RzLiBJZiB0aGUgcmVzcG9uc2Vcblx0KiBmb3JtYXQgaXMgYHVybGAsIHRoZW4gdGhlIGBpbWFnZV91cmxgIGZpZWxkIHdpbGwgY29udGFpbiB0aGUgVVJMLlxuXHQqIElmIGl0IGlzIGBiNjRfanNvbmAsIHRoZW4gdGhlIGBpbWFnZV91cmxgIGZpZWxkIHdpbGwgY29udGFpbiBhbiBvYmplY3Rcblx0KiB3aXRoIGEgYHVybGAgZmllbGQgd2l0aCB0aGUgYmFzZTY0IGVuY29kZWQgaW1hZ2UuXG5cdCpcblx0KiBAcGFyYW0ge09wZW5BSUNsaWVudC5JbWFnZXMuSW1hZ2VzUmVzcG9uc2VbXX0gcmVzcG9uc2UgVGhlIEFQSSByZXNwb25zZVxuXHQqIEByZXR1cm5zIHtNZXNzYWdlQ29udGVudEltYWdlVXJsW119XG5cdCovXG5cdHByb2Nlc3NNdWx0aXBsZUdlbmVyYXRlZFVybHMocmVzcG9uc2UpIHtcblx0XHRpZiAodGhpcy5kYWxsRVJlc3BvbnNlRm9ybWF0ID09PSBcInVybFwiKSByZXR1cm4gcmVzcG9uc2UuZmxhdE1hcCgocmVzKSA9PiB7XG5cdFx0XHRjb25zdCBpbWFnZVVybENvbnRlbnQgPSByZXMuZGF0YT8uZmxhdE1hcCgoaXRlbSkgPT4ge1xuXHRcdFx0XHRpZiAoIWl0ZW0udXJsKSByZXR1cm4gW107XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0dHlwZTogXCJpbWFnZV91cmxcIixcblx0XHRcdFx0XHRpbWFnZV91cmw6IGl0ZW0udXJsXG5cdFx0XHRcdH07XG5cdFx0XHR9KS5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0gIT09IHZvaWQgMCAmJiBpdGVtLnR5cGUgPT09IFwiaW1hZ2VfdXJsXCIgJiYgdHlwZW9mIGl0ZW0uaW1hZ2VfdXJsID09PSBcInN0cmluZ1wiICYmIGl0ZW0uaW1hZ2VfdXJsICE9PSB2b2lkIDApID8/IFtdO1xuXHRcdFx0cmV0dXJuIGltYWdlVXJsQ29udGVudDtcblx0XHR9KTtcblx0XHRlbHNlIHJldHVybiByZXNwb25zZS5mbGF0TWFwKChyZXMpID0+IHtcblx0XHRcdGNvbnN0IGI2NENvbnRlbnQgPSByZXMuZGF0YT8uZmxhdE1hcCgoaXRlbSkgPT4ge1xuXHRcdFx0XHRpZiAoIWl0ZW0uYjY0X2pzb24pIHJldHVybiBbXTtcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHR0eXBlOiBcImltYWdlX3VybFwiLFxuXHRcdFx0XHRcdGltYWdlX3VybDogeyB1cmw6IGl0ZW0uYjY0X2pzb24gfVxuXHRcdFx0XHR9O1xuXHRcdFx0fSkuZmlsdGVyKChpdGVtKSA9PiBpdGVtICE9PSB2b2lkIDAgJiYgaXRlbS50eXBlID09PSBcImltYWdlX3VybFwiICYmIHR5cGVvZiBpdGVtLmltYWdlX3VybCA9PT0gXCJvYmplY3RcIiAmJiBcInVybFwiIGluIGl0ZW0uaW1hZ2VfdXJsICYmIHR5cGVvZiBpdGVtLmltYWdlX3VybC51cmwgPT09IFwic3RyaW5nXCIgJiYgaXRlbS5pbWFnZV91cmwudXJsICE9PSB2b2lkIDApID8/IFtdO1xuXHRcdFx0cmV0dXJuIGI2NENvbnRlbnQ7XG5cdFx0fSk7XG5cdH1cblx0LyoqIEBpZ25vcmUgKi9cblx0YXN5bmMgX2NhbGwoaW5wdXQpIHtcblx0XHRjb25zdCBnZW5lcmF0ZUltYWdlRmllbGRzID0ge1xuXHRcdFx0bW9kZWw6IHRoaXMubW9kZWwsXG5cdFx0XHRwcm9tcHQ6IGlucHV0LFxuXHRcdFx0bjogMSxcblx0XHRcdHNpemU6IHRoaXMuc2l6ZSxcblx0XHRcdHJlc3BvbnNlX2Zvcm1hdDogdGhpcy5kYWxsRVJlc3BvbnNlRm9ybWF0LFxuXHRcdFx0c3R5bGU6IHRoaXMuc3R5bGUsXG5cdFx0XHRxdWFsaXR5OiB0aGlzLnF1YWxpdHksXG5cdFx0XHR1c2VyOiB0aGlzLnVzZXJcblx0XHR9O1xuXHRcdGlmICh0aGlzLm4gPiAxKSB7XG5cdFx0XHRjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwoQXJyYXkuZnJvbSh7IGxlbmd0aDogdGhpcy5uIH0pLm1hcCgoKSA9PiB0aGlzLmNsaWVudC5pbWFnZXMuZ2VuZXJhdGUoZ2VuZXJhdGVJbWFnZUZpZWxkcykpKTtcblx0XHRcdHJldHVybiB0aGlzLnByb2Nlc3NNdWx0aXBsZUdlbmVyYXRlZFVybHMocmVzdWx0cyk7XG5cdFx0fVxuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jbGllbnQuaW1hZ2VzLmdlbmVyYXRlKGdlbmVyYXRlSW1hZ2VGaWVsZHMpO1xuXHRcdGxldCBkYXRhID0gXCJcIjtcblx0XHRpZiAodGhpcy5kYWxsRVJlc3BvbnNlRm9ybWF0ID09PSBcInVybFwiKSBbZGF0YV0gPSByZXNwb25zZS5kYXRhPy5tYXAoKGl0ZW0pID0+IGl0ZW0udXJsKS5maWx0ZXIoKHVybCkgPT4gdXJsICE9PSBcInVuZGVmaW5lZFwiKSA/PyBbXTtcblx0XHRlbHNlIFtkYXRhXSA9IHJlc3BvbnNlLmRhdGE/Lm1hcCgoaXRlbSkgPT4gaXRlbS5iNjRfanNvbikuZmlsdGVyKChiNjRfanNvbikgPT4gYjY0X2pzb24gIT09IFwidW5kZWZpbmVkXCIpID8/IFtdO1xuXHRcdHJldHVybiBkYXRhO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IERhbGxFQVBJV3JhcHBlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGFsbGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/dalle.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/fileSearch.js":
/*!**********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/fileSearch.js ***!
  \**********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fileSearch: () => (/* binding */ fileSearch)\n/* harmony export */ });\n//#region src/tools/fileSearch.ts\n/**\n* Converts ranking options to the API format.\n*/\nfunction convertRankingOptions(options) {\n\tif (!options) return void 0;\n\treturn {\n\t\tranker: options.ranker,\n\t\tscore_threshold: options.scoreThreshold,\n\t\thybrid_search: options.hybridSearch ? {\n\t\t\tembedding_weight: options.hybridSearch.embeddingWeight,\n\t\t\ttext_weight: options.hybridSearch.textWeight\n\t\t} : void 0\n\t};\n}\n/**\n* Creates a File Search tool that allows models to search your files\n* for relevant information using semantic and keyword search.\n*\n* File Search enables models to retrieve information from a knowledge base\n* of previously uploaded files stored in vector stores. This is a hosted tool\n* managed by OpenAI - you don't need to implement the search execution yourself.\n*\n* **Prerequisites**: Before using File Search, you must:\n* 1. Upload files to the File API with `purpose: \"assistants\"`\n* 2. Create a vector store\n* 3. Add files to the vector store\n*\n* @see {@link https://platform.openai.com/docs/guides/tools-file-search | OpenAI File Search Documentation}\n*\n* @param options - Configuration options for the File Search tool\n* @returns A File Search tool definition to be passed to the OpenAI Responses API\n*\n* @example\n* ```typescript\n* import { ChatOpenAI, tools } from \"@langchain/openai\";\n*\n* const model = new ChatOpenAI({ model: \"gpt-4.1\" });\n*\n* // Basic usage with a vector store\n* const response = await model.invoke(\n*   \"What is deep research by OpenAI?\",\n*   {\n*     tools: [tools.fileSearch({\n*       vectorStoreIds: [\"vs_abc123\"]\n*     })]\n*   }\n* );\n*\n* // Limit the number of results for lower latency\n* const response = await model.invoke(\n*   \"Find information about pricing\",\n*   {\n*     tools: [tools.fileSearch({\n*       vectorStoreIds: [\"vs_abc123\"],\n*       maxNumResults: 5\n*     })]\n*   }\n* );\n*\n* // With metadata filtering\n* const response = await model.invoke(\n*   \"Find recent blog posts about AI\",\n*   {\n*     tools: [tools.fileSearch({\n*       vectorStoreIds: [\"vs_abc123\"],\n*       filters: {\n*         type: \"eq\",\n*         key: \"category\",\n*         value: \"blog\"\n*       }\n*     })]\n*   }\n* );\n*\n* // With compound filters (AND/OR)\n* const response = await model.invoke(\n*   \"Find technical docs from 2024\",\n*   {\n*     tools: [tools.fileSearch({\n*       vectorStoreIds: [\"vs_abc123\"],\n*       filters: {\n*         type: \"and\",\n*         filters: [\n*           { type: \"eq\", key: \"category\", value: \"technical\" },\n*           { type: \"gte\", key: \"year\", value: 2024 }\n*         ]\n*       }\n*     })]\n*   }\n* );\n*\n* // With ranking options for more relevant results\n* const response = await model.invoke(\n*   \"Find the most relevant information\",\n*   {\n*     tools: [tools.fileSearch({\n*       vectorStoreIds: [\"vs_abc123\"],\n*       rankingOptions: {\n*         scoreThreshold: 0.8,\n*         ranker: \"auto\"\n*       }\n*     })]\n*   }\n* );\n*\n* // Search multiple vector stores\n* const response = await model.invoke(\n*   \"Search across all knowledge bases\",\n*   {\n*     tools: [tools.fileSearch({\n*       vectorStoreIds: [\"vs_abc123\", \"vs_def456\"]\n*     })]\n*   }\n* );\n* ```\n*\n* @remarks\n* - Vector stores must be created and populated before using this tool\n* - The tool returns file citations in the response annotations\n* - Use `include: [\"file_search_call.results\"]` in the API call to get search results\n* - Supported file types include PDF, DOCX, TXT, MD, and many code file formats\n*/\nfunction fileSearch(options) {\n\treturn {\n\t\ttype: \"file_search\",\n\t\tvector_store_ids: options.vectorStoreIds,\n\t\tmax_num_results: options.maxNumResults,\n\t\tfilters: options.filters,\n\t\tranking_options: convertRankingOptions(options.rankingOptions)\n\t};\n}\n\n//#endregion\n\n//# sourceMappingURL=fileSearch.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L3Rvb2xzL2ZpbGVTZWFyY2guanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxvQkFBb0I7QUFDL0I7QUFDQSxpQ0FBaUMsa0JBQWtCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxpREFBaUQ7QUFDL0QsY0FBYztBQUNkO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3NCO0FBQ3RCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L3Rvb2xzL2ZpbGVTZWFyY2guanM/NjY4MyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyNyZWdpb24gc3JjL3Rvb2xzL2ZpbGVTZWFyY2gudHNcbi8qKlxuKiBDb252ZXJ0cyByYW5raW5nIG9wdGlvbnMgdG8gdGhlIEFQSSBmb3JtYXQuXG4qL1xuZnVuY3Rpb24gY29udmVydFJhbmtpbmdPcHRpb25zKG9wdGlvbnMpIHtcblx0aWYgKCFvcHRpb25zKSByZXR1cm4gdm9pZCAwO1xuXHRyZXR1cm4ge1xuXHRcdHJhbmtlcjogb3B0aW9ucy5yYW5rZXIsXG5cdFx0c2NvcmVfdGhyZXNob2xkOiBvcHRpb25zLnNjb3JlVGhyZXNob2xkLFxuXHRcdGh5YnJpZF9zZWFyY2g6IG9wdGlvbnMuaHlicmlkU2VhcmNoID8ge1xuXHRcdFx0ZW1iZWRkaW5nX3dlaWdodDogb3B0aW9ucy5oeWJyaWRTZWFyY2guZW1iZWRkaW5nV2VpZ2h0LFxuXHRcdFx0dGV4dF93ZWlnaHQ6IG9wdGlvbnMuaHlicmlkU2VhcmNoLnRleHRXZWlnaHRcblx0XHR9IDogdm9pZCAwXG5cdH07XG59XG4vKipcbiogQ3JlYXRlcyBhIEZpbGUgU2VhcmNoIHRvb2wgdGhhdCBhbGxvd3MgbW9kZWxzIHRvIHNlYXJjaCB5b3VyIGZpbGVzXG4qIGZvciByZWxldmFudCBpbmZvcm1hdGlvbiB1c2luZyBzZW1hbnRpYyBhbmQga2V5d29yZCBzZWFyY2guXG4qXG4qIEZpbGUgU2VhcmNoIGVuYWJsZXMgbW9kZWxzIHRvIHJldHJpZXZlIGluZm9ybWF0aW9uIGZyb20gYSBrbm93bGVkZ2UgYmFzZVxuKiBvZiBwcmV2aW91c2x5IHVwbG9hZGVkIGZpbGVzIHN0b3JlZCBpbiB2ZWN0b3Igc3RvcmVzLiBUaGlzIGlzIGEgaG9zdGVkIHRvb2xcbiogbWFuYWdlZCBieSBPcGVuQUkgLSB5b3UgZG9uJ3QgbmVlZCB0byBpbXBsZW1lbnQgdGhlIHNlYXJjaCBleGVjdXRpb24geW91cnNlbGYuXG4qXG4qICoqUHJlcmVxdWlzaXRlcyoqOiBCZWZvcmUgdXNpbmcgRmlsZSBTZWFyY2gsIHlvdSBtdXN0OlxuKiAxLiBVcGxvYWQgZmlsZXMgdG8gdGhlIEZpbGUgQVBJIHdpdGggYHB1cnBvc2U6IFwiYXNzaXN0YW50c1wiYFxuKiAyLiBDcmVhdGUgYSB2ZWN0b3Igc3RvcmVcbiogMy4gQWRkIGZpbGVzIHRvIHRoZSB2ZWN0b3Igc3RvcmVcbipcbiogQHNlZSB7QGxpbmsgaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3Rvb2xzLWZpbGUtc2VhcmNoIHwgT3BlbkFJIEZpbGUgU2VhcmNoIERvY3VtZW50YXRpb259XG4qXG4qIEBwYXJhbSBvcHRpb25zIC0gQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgRmlsZSBTZWFyY2ggdG9vbFxuKiBAcmV0dXJucyBBIEZpbGUgU2VhcmNoIHRvb2wgZGVmaW5pdGlvbiB0byBiZSBwYXNzZWQgdG8gdGhlIE9wZW5BSSBSZXNwb25zZXMgQVBJXG4qXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogaW1wb3J0IHsgQ2hhdE9wZW5BSSwgdG9vbHMgfSBmcm9tIFwiQGxhbmdjaGFpbi9vcGVuYWlcIjtcbipcbiogY29uc3QgbW9kZWwgPSBuZXcgQ2hhdE9wZW5BSSh7IG1vZGVsOiBcImdwdC00LjFcIiB9KTtcbipcbiogLy8gQmFzaWMgdXNhZ2Ugd2l0aCBhIHZlY3RvciBzdG9yZVxuKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IG1vZGVsLmludm9rZShcbiogICBcIldoYXQgaXMgZGVlcCByZXNlYXJjaCBieSBPcGVuQUk/XCIsXG4qICAge1xuKiAgICAgdG9vbHM6IFt0b29scy5maWxlU2VhcmNoKHtcbiogICAgICAgdmVjdG9yU3RvcmVJZHM6IFtcInZzX2FiYzEyM1wiXVxuKiAgICAgfSldXG4qICAgfVxuKiApO1xuKlxuKiAvLyBMaW1pdCB0aGUgbnVtYmVyIG9mIHJlc3VsdHMgZm9yIGxvd2VyIGxhdGVuY3lcbiogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBtb2RlbC5pbnZva2UoXG4qICAgXCJGaW5kIGluZm9ybWF0aW9uIGFib3V0IHByaWNpbmdcIixcbiogICB7XG4qICAgICB0b29sczogW3Rvb2xzLmZpbGVTZWFyY2goe1xuKiAgICAgICB2ZWN0b3JTdG9yZUlkczogW1widnNfYWJjMTIzXCJdLFxuKiAgICAgICBtYXhOdW1SZXN1bHRzOiA1XG4qICAgICB9KV1cbiogICB9XG4qICk7XG4qXG4qIC8vIFdpdGggbWV0YWRhdGEgZmlsdGVyaW5nXG4qIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbW9kZWwuaW52b2tlKFxuKiAgIFwiRmluZCByZWNlbnQgYmxvZyBwb3N0cyBhYm91dCBBSVwiLFxuKiAgIHtcbiogICAgIHRvb2xzOiBbdG9vbHMuZmlsZVNlYXJjaCh7XG4qICAgICAgIHZlY3RvclN0b3JlSWRzOiBbXCJ2c19hYmMxMjNcIl0sXG4qICAgICAgIGZpbHRlcnM6IHtcbiogICAgICAgICB0eXBlOiBcImVxXCIsXG4qICAgICAgICAga2V5OiBcImNhdGVnb3J5XCIsXG4qICAgICAgICAgdmFsdWU6IFwiYmxvZ1wiXG4qICAgICAgIH1cbiogICAgIH0pXVxuKiAgIH1cbiogKTtcbipcbiogLy8gV2l0aCBjb21wb3VuZCBmaWx0ZXJzIChBTkQvT1IpXG4qIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbW9kZWwuaW52b2tlKFxuKiAgIFwiRmluZCB0ZWNobmljYWwgZG9jcyBmcm9tIDIwMjRcIixcbiogICB7XG4qICAgICB0b29sczogW3Rvb2xzLmZpbGVTZWFyY2goe1xuKiAgICAgICB2ZWN0b3JTdG9yZUlkczogW1widnNfYWJjMTIzXCJdLFxuKiAgICAgICBmaWx0ZXJzOiB7XG4qICAgICAgICAgdHlwZTogXCJhbmRcIixcbiogICAgICAgICBmaWx0ZXJzOiBbXG4qICAgICAgICAgICB7IHR5cGU6IFwiZXFcIiwga2V5OiBcImNhdGVnb3J5XCIsIHZhbHVlOiBcInRlY2huaWNhbFwiIH0sXG4qICAgICAgICAgICB7IHR5cGU6IFwiZ3RlXCIsIGtleTogXCJ5ZWFyXCIsIHZhbHVlOiAyMDI0IH1cbiogICAgICAgICBdXG4qICAgICAgIH1cbiogICAgIH0pXVxuKiAgIH1cbiogKTtcbipcbiogLy8gV2l0aCByYW5raW5nIG9wdGlvbnMgZm9yIG1vcmUgcmVsZXZhbnQgcmVzdWx0c1xuKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IG1vZGVsLmludm9rZShcbiogICBcIkZpbmQgdGhlIG1vc3QgcmVsZXZhbnQgaW5mb3JtYXRpb25cIixcbiogICB7XG4qICAgICB0b29sczogW3Rvb2xzLmZpbGVTZWFyY2goe1xuKiAgICAgICB2ZWN0b3JTdG9yZUlkczogW1widnNfYWJjMTIzXCJdLFxuKiAgICAgICByYW5raW5nT3B0aW9uczoge1xuKiAgICAgICAgIHNjb3JlVGhyZXNob2xkOiAwLjgsXG4qICAgICAgICAgcmFua2VyOiBcImF1dG9cIlxuKiAgICAgICB9XG4qICAgICB9KV1cbiogICB9XG4qICk7XG4qXG4qIC8vIFNlYXJjaCBtdWx0aXBsZSB2ZWN0b3Igc3RvcmVzXG4qIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbW9kZWwuaW52b2tlKFxuKiAgIFwiU2VhcmNoIGFjcm9zcyBhbGwga25vd2xlZGdlIGJhc2VzXCIsXG4qICAge1xuKiAgICAgdG9vbHM6IFt0b29scy5maWxlU2VhcmNoKHtcbiogICAgICAgdmVjdG9yU3RvcmVJZHM6IFtcInZzX2FiYzEyM1wiLCBcInZzX2RlZjQ1NlwiXVxuKiAgICAgfSldXG4qICAgfVxuKiApO1xuKiBgYGBcbipcbiogQHJlbWFya3NcbiogLSBWZWN0b3Igc3RvcmVzIG11c3QgYmUgY3JlYXRlZCBhbmQgcG9wdWxhdGVkIGJlZm9yZSB1c2luZyB0aGlzIHRvb2xcbiogLSBUaGUgdG9vbCByZXR1cm5zIGZpbGUgY2l0YXRpb25zIGluIHRoZSByZXNwb25zZSBhbm5vdGF0aW9uc1xuKiAtIFVzZSBgaW5jbHVkZTogW1wiZmlsZV9zZWFyY2hfY2FsbC5yZXN1bHRzXCJdYCBpbiB0aGUgQVBJIGNhbGwgdG8gZ2V0IHNlYXJjaCByZXN1bHRzXG4qIC0gU3VwcG9ydGVkIGZpbGUgdHlwZXMgaW5jbHVkZSBQREYsIERPQ1gsIFRYVCwgTUQsIGFuZCBtYW55IGNvZGUgZmlsZSBmb3JtYXRzXG4qL1xuZnVuY3Rpb24gZmlsZVNlYXJjaChvcHRpb25zKSB7XG5cdHJldHVybiB7XG5cdFx0dHlwZTogXCJmaWxlX3NlYXJjaFwiLFxuXHRcdHZlY3Rvcl9zdG9yZV9pZHM6IG9wdGlvbnMudmVjdG9yU3RvcmVJZHMsXG5cdFx0bWF4X251bV9yZXN1bHRzOiBvcHRpb25zLm1heE51bVJlc3VsdHMsXG5cdFx0ZmlsdGVyczogb3B0aW9ucy5maWx0ZXJzLFxuXHRcdHJhbmtpbmdfb3B0aW9uczogY29udmVydFJhbmtpbmdPcHRpb25zKG9wdGlvbnMucmFua2luZ09wdGlvbnMpXG5cdH07XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgZmlsZVNlYXJjaCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsZVNlYXJjaC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/fileSearch.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/imageGeneration.js":
/*!***************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/imageGeneration.js ***!
  \***************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   imageGeneration: () => (/* binding */ imageGeneration)\n/* harmony export */ });\n//#region src/tools/imageGeneration.ts\n/**\n* Converts input mask options to the API format.\n*/\nfunction convertInputImageMask(mask) {\n\tif (!mask) return void 0;\n\treturn {\n\t\timage_url: mask.imageUrl,\n\t\tfile_id: mask.fileId\n\t};\n}\n/**\n* Creates an Image Generation tool that allows models to generate or edit images\n* using text prompts and optional image inputs.\n*\n* The image generation tool leverages the GPT Image model and automatically\n* optimizes text inputs for improved performance. When included in a request,\n* the model can decide when and how to generate images as part of the conversation.\n*\n* **Key Features**:\n* - Generate images from text descriptions\n* - Edit existing images with text instructions\n* - Multi-turn image editing by referencing previous responses\n* - Configurable output options (size, quality, format)\n* - Streaming support for partial image generation\n*\n* **Prompting Tips**:\n* - Use terms like \"draw\" or \"edit\" in your prompt for best results\n* - For combining images, say \"edit the first image by adding this element\" instead of \"combine\"\n*\n* @see {@link https://platform.openai.com/docs/guides/tools-image-generation | OpenAI Image Generation Documentation}\n*\n* @param options - Configuration options for the Image Generation tool\n* @returns An Image Generation tool definition to be passed to the OpenAI Responses API\n*\n* @example\n* ```typescript\n* import { ChatOpenAI, tools } from \"@langchain/openai\";\n*\n* const model = new ChatOpenAI({ model: \"gpt-4o\" });\n*\n* // Basic usage - generate an image\n* const response = await model.invoke(\n*   \"Generate an image of a gray tabby cat hugging an otter with an orange scarf\",\n*   { tools: [tools.imageGeneration()] }\n* );\n*\n* // Access the generated image\n* const imageData = response.additional_kwargs.tool_outputs?.find(\n*   (output) => output.type === \"image_generation_call\"\n* );\n* if (imageData?.result) {\n*   // imageData.result contains the base64-encoded image\n*   const fs = await import(\"fs\");\n*   fs.writeFileSync(\"output.png\", Buffer.from(imageData.result, \"base64\"));\n* }\n*\n* // With custom options\n* const response = await model.invoke(\n*   \"Draw a beautiful sunset over mountains\",\n*   {\n*     tools: [tools.imageGeneration({\n*       size: \"1536x1024\",      // Landscape format\n*       quality: \"high\",        // Higher quality output\n*       outputFormat: \"jpeg\",   // JPEG format\n*       outputCompression: 90,  // 90% compression\n*     })]\n*   }\n* );\n*\n* // With transparent background\n* const response = await model.invoke(\n*   \"Create a logo with a transparent background\",\n*   {\n*     tools: [tools.imageGeneration({\n*       background: \"transparent\",\n*       outputFormat: \"png\",\n*     })]\n*   }\n* );\n*\n* // Force the model to use image generation\n* const response = await model.invoke(\n*   \"A serene lake at dawn\",\n*   {\n*     tools: [tools.imageGeneration()],\n*     tool_choice: { type: \"image_generation\" },\n*   }\n* );\n*\n* // Enable streaming with partial images\n* const response = await model.invoke(\n*   \"Draw a detailed fantasy castle\",\n*   {\n*     tools: [tools.imageGeneration({\n*       partialImages: 2,  // Get 2 partial images during generation\n*     })]\n*   }\n* );\n* ```\n*\n* @remarks\n* - Supported models: gpt-4o, gpt-4o-mini, gpt-4.1, gpt-4.1-mini, gpt-4.1-nano, o3\n* - The image generation process always uses `gpt-image-1` model internally\n* - The model will automatically revise prompts for improved performance\n* - Access the revised prompt via `revised_prompt` field in the output\n* - Multi-turn editing is supported by passing previous response messages\n*/\nfunction imageGeneration(options) {\n\treturn {\n\t\ttype: \"image_generation\",\n\t\tbackground: options?.background,\n\t\tinput_fidelity: options?.inputFidelity,\n\t\tinput_image_mask: convertInputImageMask(options?.inputImageMask),\n\t\tmodel: options?.model,\n\t\tmoderation: options?.moderation,\n\t\toutput_compression: options?.outputCompression,\n\t\toutput_format: options?.outputFormat,\n\t\tpartial_images: options?.partialImages,\n\t\tquality: options?.quality,\n\t\tsize: options?.size\n\t};\n}\n\n//#endregion\n\n//# sourceMappingURL=imageGeneration.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L3Rvb2xzL2ltYWdlR2VuZXJhdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsb0JBQW9CO0FBQy9CO0FBQ0EsaUNBQWlDLGlCQUFpQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiwwQkFBMEI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDMkI7QUFDM0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rb3BlbmFpQDEuMi4zX0BsYW5nY2hhaW4rY29yZUAxLjEuMTcvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvdG9vbHMvaW1hZ2VHZW5lcmF0aW9uLmpzPzk3N2UiXSwic291cmNlc0NvbnRlbnQiOlsiLy8jcmVnaW9uIHNyYy90b29scy9pbWFnZUdlbmVyYXRpb24udHNcbi8qKlxuKiBDb252ZXJ0cyBpbnB1dCBtYXNrIG9wdGlvbnMgdG8gdGhlIEFQSSBmb3JtYXQuXG4qL1xuZnVuY3Rpb24gY29udmVydElucHV0SW1hZ2VNYXNrKG1hc2spIHtcblx0aWYgKCFtYXNrKSByZXR1cm4gdm9pZCAwO1xuXHRyZXR1cm4ge1xuXHRcdGltYWdlX3VybDogbWFzay5pbWFnZVVybCxcblx0XHRmaWxlX2lkOiBtYXNrLmZpbGVJZFxuXHR9O1xufVxuLyoqXG4qIENyZWF0ZXMgYW4gSW1hZ2UgR2VuZXJhdGlvbiB0b29sIHRoYXQgYWxsb3dzIG1vZGVscyB0byBnZW5lcmF0ZSBvciBlZGl0IGltYWdlc1xuKiB1c2luZyB0ZXh0IHByb21wdHMgYW5kIG9wdGlvbmFsIGltYWdlIGlucHV0cy5cbipcbiogVGhlIGltYWdlIGdlbmVyYXRpb24gdG9vbCBsZXZlcmFnZXMgdGhlIEdQVCBJbWFnZSBtb2RlbCBhbmQgYXV0b21hdGljYWxseVxuKiBvcHRpbWl6ZXMgdGV4dCBpbnB1dHMgZm9yIGltcHJvdmVkIHBlcmZvcm1hbmNlLiBXaGVuIGluY2x1ZGVkIGluIGEgcmVxdWVzdCxcbiogdGhlIG1vZGVsIGNhbiBkZWNpZGUgd2hlbiBhbmQgaG93IHRvIGdlbmVyYXRlIGltYWdlcyBhcyBwYXJ0IG9mIHRoZSBjb252ZXJzYXRpb24uXG4qXG4qICoqS2V5IEZlYXR1cmVzKio6XG4qIC0gR2VuZXJhdGUgaW1hZ2VzIGZyb20gdGV4dCBkZXNjcmlwdGlvbnNcbiogLSBFZGl0IGV4aXN0aW5nIGltYWdlcyB3aXRoIHRleHQgaW5zdHJ1Y3Rpb25zXG4qIC0gTXVsdGktdHVybiBpbWFnZSBlZGl0aW5nIGJ5IHJlZmVyZW5jaW5nIHByZXZpb3VzIHJlc3BvbnNlc1xuKiAtIENvbmZpZ3VyYWJsZSBvdXRwdXQgb3B0aW9ucyAoc2l6ZSwgcXVhbGl0eSwgZm9ybWF0KVxuKiAtIFN0cmVhbWluZyBzdXBwb3J0IGZvciBwYXJ0aWFsIGltYWdlIGdlbmVyYXRpb25cbipcbiogKipQcm9tcHRpbmcgVGlwcyoqOlxuKiAtIFVzZSB0ZXJtcyBsaWtlIFwiZHJhd1wiIG9yIFwiZWRpdFwiIGluIHlvdXIgcHJvbXB0IGZvciBiZXN0IHJlc3VsdHNcbiogLSBGb3IgY29tYmluaW5nIGltYWdlcywgc2F5IFwiZWRpdCB0aGUgZmlyc3QgaW1hZ2UgYnkgYWRkaW5nIHRoaXMgZWxlbWVudFwiIGluc3RlYWQgb2YgXCJjb21iaW5lXCJcbipcbiogQHNlZSB7QGxpbmsgaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3Rvb2xzLWltYWdlLWdlbmVyYXRpb24gfCBPcGVuQUkgSW1hZ2UgR2VuZXJhdGlvbiBEb2N1bWVudGF0aW9ufVxuKlxuKiBAcGFyYW0gb3B0aW9ucyAtIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIEltYWdlIEdlbmVyYXRpb24gdG9vbFxuKiBAcmV0dXJucyBBbiBJbWFnZSBHZW5lcmF0aW9uIHRvb2wgZGVmaW5pdGlvbiB0byBiZSBwYXNzZWQgdG8gdGhlIE9wZW5BSSBSZXNwb25zZXMgQVBJXG4qXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogaW1wb3J0IHsgQ2hhdE9wZW5BSSwgdG9vbHMgfSBmcm9tIFwiQGxhbmdjaGFpbi9vcGVuYWlcIjtcbipcbiogY29uc3QgbW9kZWwgPSBuZXcgQ2hhdE9wZW5BSSh7IG1vZGVsOiBcImdwdC00b1wiIH0pO1xuKlxuKiAvLyBCYXNpYyB1c2FnZSAtIGdlbmVyYXRlIGFuIGltYWdlXG4qIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbW9kZWwuaW52b2tlKFxuKiAgIFwiR2VuZXJhdGUgYW4gaW1hZ2Ugb2YgYSBncmF5IHRhYmJ5IGNhdCBodWdnaW5nIGFuIG90dGVyIHdpdGggYW4gb3JhbmdlIHNjYXJmXCIsXG4qICAgeyB0b29sczogW3Rvb2xzLmltYWdlR2VuZXJhdGlvbigpXSB9XG4qICk7XG4qXG4qIC8vIEFjY2VzcyB0aGUgZ2VuZXJhdGVkIGltYWdlXG4qIGNvbnN0IGltYWdlRGF0YSA9IHJlc3BvbnNlLmFkZGl0aW9uYWxfa3dhcmdzLnRvb2xfb3V0cHV0cz8uZmluZChcbiogICAob3V0cHV0KSA9PiBvdXRwdXQudHlwZSA9PT0gXCJpbWFnZV9nZW5lcmF0aW9uX2NhbGxcIlxuKiApO1xuKiBpZiAoaW1hZ2VEYXRhPy5yZXN1bHQpIHtcbiogICAvLyBpbWFnZURhdGEucmVzdWx0IGNvbnRhaW5zIHRoZSBiYXNlNjQtZW5jb2RlZCBpbWFnZVxuKiAgIGNvbnN0IGZzID0gYXdhaXQgaW1wb3J0KFwiZnNcIik7XG4qICAgZnMud3JpdGVGaWxlU3luYyhcIm91dHB1dC5wbmdcIiwgQnVmZmVyLmZyb20oaW1hZ2VEYXRhLnJlc3VsdCwgXCJiYXNlNjRcIikpO1xuKiB9XG4qXG4qIC8vIFdpdGggY3VzdG9tIG9wdGlvbnNcbiogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBtb2RlbC5pbnZva2UoXG4qICAgXCJEcmF3IGEgYmVhdXRpZnVsIHN1bnNldCBvdmVyIG1vdW50YWluc1wiLFxuKiAgIHtcbiogICAgIHRvb2xzOiBbdG9vbHMuaW1hZ2VHZW5lcmF0aW9uKHtcbiogICAgICAgc2l6ZTogXCIxNTM2eDEwMjRcIiwgICAgICAvLyBMYW5kc2NhcGUgZm9ybWF0XG4qICAgICAgIHF1YWxpdHk6IFwiaGlnaFwiLCAgICAgICAgLy8gSGlnaGVyIHF1YWxpdHkgb3V0cHV0XG4qICAgICAgIG91dHB1dEZvcm1hdDogXCJqcGVnXCIsICAgLy8gSlBFRyBmb3JtYXRcbiogICAgICAgb3V0cHV0Q29tcHJlc3Npb246IDkwLCAgLy8gOTAlIGNvbXByZXNzaW9uXG4qICAgICB9KV1cbiogICB9XG4qICk7XG4qXG4qIC8vIFdpdGggdHJhbnNwYXJlbnQgYmFja2dyb3VuZFxuKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IG1vZGVsLmludm9rZShcbiogICBcIkNyZWF0ZSBhIGxvZ28gd2l0aCBhIHRyYW5zcGFyZW50IGJhY2tncm91bmRcIixcbiogICB7XG4qICAgICB0b29sczogW3Rvb2xzLmltYWdlR2VuZXJhdGlvbih7XG4qICAgICAgIGJhY2tncm91bmQ6IFwidHJhbnNwYXJlbnRcIixcbiogICAgICAgb3V0cHV0Rm9ybWF0OiBcInBuZ1wiLFxuKiAgICAgfSldXG4qICAgfVxuKiApO1xuKlxuKiAvLyBGb3JjZSB0aGUgbW9kZWwgdG8gdXNlIGltYWdlIGdlbmVyYXRpb25cbiogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBtb2RlbC5pbnZva2UoXG4qICAgXCJBIHNlcmVuZSBsYWtlIGF0IGRhd25cIixcbiogICB7XG4qICAgICB0b29sczogW3Rvb2xzLmltYWdlR2VuZXJhdGlvbigpXSxcbiogICAgIHRvb2xfY2hvaWNlOiB7IHR5cGU6IFwiaW1hZ2VfZ2VuZXJhdGlvblwiIH0sXG4qICAgfVxuKiApO1xuKlxuKiAvLyBFbmFibGUgc3RyZWFtaW5nIHdpdGggcGFydGlhbCBpbWFnZXNcbiogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBtb2RlbC5pbnZva2UoXG4qICAgXCJEcmF3IGEgZGV0YWlsZWQgZmFudGFzeSBjYXN0bGVcIixcbiogICB7XG4qICAgICB0b29sczogW3Rvb2xzLmltYWdlR2VuZXJhdGlvbih7XG4qICAgICAgIHBhcnRpYWxJbWFnZXM6IDIsICAvLyBHZXQgMiBwYXJ0aWFsIGltYWdlcyBkdXJpbmcgZ2VuZXJhdGlvblxuKiAgICAgfSldXG4qICAgfVxuKiApO1xuKiBgYGBcbipcbiogQHJlbWFya3NcbiogLSBTdXBwb3J0ZWQgbW9kZWxzOiBncHQtNG8sIGdwdC00by1taW5pLCBncHQtNC4xLCBncHQtNC4xLW1pbmksIGdwdC00LjEtbmFubywgbzNcbiogLSBUaGUgaW1hZ2UgZ2VuZXJhdGlvbiBwcm9jZXNzIGFsd2F5cyB1c2VzIGBncHQtaW1hZ2UtMWAgbW9kZWwgaW50ZXJuYWxseVxuKiAtIFRoZSBtb2RlbCB3aWxsIGF1dG9tYXRpY2FsbHkgcmV2aXNlIHByb21wdHMgZm9yIGltcHJvdmVkIHBlcmZvcm1hbmNlXG4qIC0gQWNjZXNzIHRoZSByZXZpc2VkIHByb21wdCB2aWEgYHJldmlzZWRfcHJvbXB0YCBmaWVsZCBpbiB0aGUgb3V0cHV0XG4qIC0gTXVsdGktdHVybiBlZGl0aW5nIGlzIHN1cHBvcnRlZCBieSBwYXNzaW5nIHByZXZpb3VzIHJlc3BvbnNlIG1lc3NhZ2VzXG4qL1xuZnVuY3Rpb24gaW1hZ2VHZW5lcmF0aW9uKG9wdGlvbnMpIHtcblx0cmV0dXJuIHtcblx0XHR0eXBlOiBcImltYWdlX2dlbmVyYXRpb25cIixcblx0XHRiYWNrZ3JvdW5kOiBvcHRpb25zPy5iYWNrZ3JvdW5kLFxuXHRcdGlucHV0X2ZpZGVsaXR5OiBvcHRpb25zPy5pbnB1dEZpZGVsaXR5LFxuXHRcdGlucHV0X2ltYWdlX21hc2s6IGNvbnZlcnRJbnB1dEltYWdlTWFzayhvcHRpb25zPy5pbnB1dEltYWdlTWFzayksXG5cdFx0bW9kZWw6IG9wdGlvbnM/Lm1vZGVsLFxuXHRcdG1vZGVyYXRpb246IG9wdGlvbnM/Lm1vZGVyYXRpb24sXG5cdFx0b3V0cHV0X2NvbXByZXNzaW9uOiBvcHRpb25zPy5vdXRwdXRDb21wcmVzc2lvbixcblx0XHRvdXRwdXRfZm9ybWF0OiBvcHRpb25zPy5vdXRwdXRGb3JtYXQsXG5cdFx0cGFydGlhbF9pbWFnZXM6IG9wdGlvbnM/LnBhcnRpYWxJbWFnZXMsXG5cdFx0cXVhbGl0eTogb3B0aW9ucz8ucXVhbGl0eSxcblx0XHRzaXplOiBvcHRpb25zPy5zaXplXG5cdH07XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgaW1hZ2VHZW5lcmF0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZUdlbmVyYXRpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/imageGeneration.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/index.js":
/*!*****************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/index.js ***!
  \*****************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   tools: () => (/* binding */ tools)\n/* harmony export */ });\n/* harmony import */ var _dalle_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dalle.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/dalle.js\");\n/* harmony import */ var _webSearch_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./webSearch.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/webSearch.js\");\n/* harmony import */ var _mcp_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mcp.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/mcp.js\");\n/* harmony import */ var _codeInterpreter_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./codeInterpreter.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/codeInterpreter.js\");\n/* harmony import */ var _fileSearch_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./fileSearch.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/fileSearch.js\");\n/* harmony import */ var _imageGeneration_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./imageGeneration.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/imageGeneration.js\");\n/* harmony import */ var _computerUse_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./computerUse.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/computerUse.js\");\n/* harmony import */ var _localShell_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./localShell.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/localShell.js\");\n/* harmony import */ var _shell_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./shell.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/shell.js\");\n/* harmony import */ var _applyPatch_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./applyPatch.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/applyPatch.js\");\n\n\n\n\n\n\n\n\n\n\n\n//#region src/tools/index.ts\nconst tools = {\n\twebSearch: _webSearch_js__WEBPACK_IMPORTED_MODULE_1__.webSearch,\n\tmcp: _mcp_js__WEBPACK_IMPORTED_MODULE_2__.mcp,\n\tcodeInterpreter: _codeInterpreter_js__WEBPACK_IMPORTED_MODULE_3__.codeInterpreter,\n\tfileSearch: _fileSearch_js__WEBPACK_IMPORTED_MODULE_4__.fileSearch,\n\timageGeneration: _imageGeneration_js__WEBPACK_IMPORTED_MODULE_5__.imageGeneration,\n\tcomputerUse: _computerUse_js__WEBPACK_IMPORTED_MODULE_6__.computerUse,\n\tlocalShell: _localShell_js__WEBPACK_IMPORTED_MODULE_7__.localShell,\n\tshell: _shell_js__WEBPACK_IMPORTED_MODULE_8__.shell,\n\tapplyPatch: _applyPatch_js__WEBPACK_IMPORTED_MODULE_9__.applyPatch\n};\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L3Rvb2xzL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQTZDO0FBQ0Y7QUFDWjtBQUN3QjtBQUNWO0FBQ1U7QUFDUjtBQUNGO0FBQ1Y7QUFDVTs7QUFFN0M7QUFDQTtBQUNBLFVBQVU7QUFDVixJQUFJO0FBQ0osZ0JBQWdCO0FBQ2hCLFdBQVc7QUFDWCxnQkFBZ0I7QUFDaEIsWUFBWTtBQUNaLFdBQVc7QUFDWCxNQUFNO0FBQ04sV0FBVztBQUNYOztBQUVBO0FBQ2lCO0FBQ2pCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L3Rvb2xzL2luZGV4LmpzP2JmZGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGFsbEVBUElXcmFwcGVyIH0gZnJvbSBcIi4vZGFsbGUuanNcIjtcbmltcG9ydCB7IHdlYlNlYXJjaCB9IGZyb20gXCIuL3dlYlNlYXJjaC5qc1wiO1xuaW1wb3J0IHsgbWNwIH0gZnJvbSBcIi4vbWNwLmpzXCI7XG5pbXBvcnQgeyBjb2RlSW50ZXJwcmV0ZXIgfSBmcm9tIFwiLi9jb2RlSW50ZXJwcmV0ZXIuanNcIjtcbmltcG9ydCB7IGZpbGVTZWFyY2ggfSBmcm9tIFwiLi9maWxlU2VhcmNoLmpzXCI7XG5pbXBvcnQgeyBpbWFnZUdlbmVyYXRpb24gfSBmcm9tIFwiLi9pbWFnZUdlbmVyYXRpb24uanNcIjtcbmltcG9ydCB7IGNvbXB1dGVyVXNlIH0gZnJvbSBcIi4vY29tcHV0ZXJVc2UuanNcIjtcbmltcG9ydCB7IGxvY2FsU2hlbGwgfSBmcm9tIFwiLi9sb2NhbFNoZWxsLmpzXCI7XG5pbXBvcnQgeyBzaGVsbCB9IGZyb20gXCIuL3NoZWxsLmpzXCI7XG5pbXBvcnQgeyBhcHBseVBhdGNoIH0gZnJvbSBcIi4vYXBwbHlQYXRjaC5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3Rvb2xzL2luZGV4LnRzXG5jb25zdCB0b29scyA9IHtcblx0d2ViU2VhcmNoLFxuXHRtY3AsXG5cdGNvZGVJbnRlcnByZXRlcixcblx0ZmlsZVNlYXJjaCxcblx0aW1hZ2VHZW5lcmF0aW9uLFxuXHRjb21wdXRlclVzZSxcblx0bG9jYWxTaGVsbCxcblx0c2hlbGwsXG5cdGFwcGx5UGF0Y2hcbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgdG9vbHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/localShell.js":
/*!**********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/localShell.js ***!
  \**********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   localShell: () => (/* binding */ localShell)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_tools__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/tools */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tools/index.js\");\n/* harmony import */ var zod_v4__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zod/v4 */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+zod@4.3.6/node_modules/zod/v4/index.js\");\n\n\n\n//#region src/tools/localShell.ts\nconst LocalShellExecActionSchema = zod_v4__WEBPACK_IMPORTED_MODULE_1__.z.object({\n\ttype: zod_v4__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"exec\"),\n\tcommand: zod_v4__WEBPACK_IMPORTED_MODULE_1__.z.array(zod_v4__WEBPACK_IMPORTED_MODULE_1__.z.string()),\n\tenv: zod_v4__WEBPACK_IMPORTED_MODULE_1__.z.record(zod_v4__WEBPACK_IMPORTED_MODULE_1__.z.string(), zod_v4__WEBPACK_IMPORTED_MODULE_1__.z.string()).optional(),\n\tworking_directory: zod_v4__WEBPACK_IMPORTED_MODULE_1__.z.string().optional(),\n\ttimeout_ms: zod_v4__WEBPACK_IMPORTED_MODULE_1__.z.number().optional(),\n\tuser: zod_v4__WEBPACK_IMPORTED_MODULE_1__.z.string().optional()\n});\nconst LocalShellActionSchema = zod_v4__WEBPACK_IMPORTED_MODULE_1__.z.discriminatedUnion(\"type\", [LocalShellExecActionSchema]);\nconst TOOL_NAME = \"local_shell\";\n/**\n* Creates a Local Shell tool that allows models to run shell commands locally\n* on a machine you provide. Commands are executed inside your own runtime\n* the API only returns the instructions, but does not execute them on OpenAI infrastructure.\n*\n* **Important**: The local shell tool is designed to work with\n* [Codex CLI](https://github.com/openai/codex) and the `codex-mini-latest` model.\n*\n* **How it works**:\n* The tool operates in a continuous loop:\n* 1. Model sends shell commands (`local_shell_call` with `exec` action)\n* 2. Your code executes the command locally\n* 3. You return the output back to the model\n* 4. Repeat until the task is complete\n*\n* **Security Warning**: Running arbitrary shell commands can be dangerous.\n* Always sandbox execution or add strict allow/deny-lists before forwarding\n* a command to the system shell.\n*\n* @see {@link https://platform.openai.com/docs/guides/tools-local-shell | OpenAI Local Shell Documentation}\n*\n* @param options - Optional configuration for the Local Shell tool\n* @returns A Local Shell tool that can be passed to `bindTools`\n*\n* @example\n* ```typescript\n* import { ChatOpenAI, tools } from \"@langchain/openai\";\n* import { exec } from \"child_process\";\n* import { promisify } from \"util\";\n*\n* const execAsync = promisify(exec);\n* const model = new ChatOpenAI({ model: \"codex-mini-latest\" });\n*\n* // With execute callback for automatic command handling\n* const shell = tools.localShell({\n*   execute: async (action) => {\n*     const { command, env, working_directory, timeout_ms } = action;\n*     const result = await execAsync(command.join(' '), {\n*       cwd: working_directory ?? process.cwd(),\n*       env: { ...process.env, ...env },\n*       timeout: timeout_ms ?? undefined,\n*     });\n*     return result.stdout + result.stderr;\n*   },\n* });\n*\n* const llmWithShell = model.bindTools([shell]);\n* const response = await llmWithShell.invoke(\n*   \"List files in the current directory\"\n* );\n* ```\n*\n* @example\n* ```typescript\n* // Without execute callback (manual handling)\n* const shell = tools.localShell();\n*\n* const response = await model.invoke(\"List files\", {\n*   tools: [shell],\n* });\n*\n* // Access the shell call from the response\n* const shellCall = response.additional_kwargs.tool_outputs?.find(\n*   (output) => output.type === \"local_shell_call\"\n* );\n* if (shellCall) {\n*   console.log(\"Command to execute:\", shellCall.action.command);\n*   // Execute the command manually, then send back the output\n* }\n* ```\n*\n* @example\n* ```typescript\n* // Full shell loop example\n* async function shellLoop(model, task) {\n*   let response = await model.invoke(task, {\n*     tools: [tools.localShell()],\n*   });\n*\n*   while (true) {\n*     const shellCall = response.additional_kwargs.tool_outputs?.find(\n*       (output) => output.type === \"local_shell_call\"\n*     );\n*\n*     if (!shellCall) break;\n*\n*     // Execute command (with proper sandboxing!)\n*     const output = await executeCommand(shellCall.action);\n*\n*     // Send output back to model\n*     response = await model.invoke([\n*       response,\n*       {\n*         type: \"local_shell_call_output\",\n*         id: shellCall.call_id,\n*         output: output,\n*       },\n*     ], {\n*       tools: [tools.localShell()],\n*     });\n*   }\n*\n*   return response;\n* }\n* ```\n*\n* @remarks\n* - Only available through the Responses API (not Chat Completions)\n* - Designed for use with `codex-mini-latest` model\n* - Commands are provided as argv tokens in `action.command`\n* - Action includes: `command`, `env`, `working_directory`, `timeout_ms`, `user`\n* - Always sandbox or validate commands before execution\n* - The `timeout_ms` from the model is only a hintenforce your own limits\n*/\nfunction localShell(options) {\n\tconst shellTool = (0,_langchain_core_tools__WEBPACK_IMPORTED_MODULE_0__.tool)(options.execute, {\n\t\tname: TOOL_NAME,\n\t\tdescription: \"Execute shell commands locally on the machine. Commands are provided as argv tokens.\",\n\t\tschema: LocalShellActionSchema\n\t});\n\tshellTool.extras = {\n\t\t...shellTool.extras ?? {},\n\t\tproviderToolDefinition: { type: \"local_shell\" }\n\t};\n\treturn shellTool;\n}\n\n//#endregion\n\n//# sourceMappingURL=localShell.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L3Rvb2xzL2xvY2FsU2hlbGwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTZDO0FBQ2xCOztBQUUzQjtBQUNBLG1DQUFtQyw0Q0FBUTtBQUMzQyxPQUFPLDZDQUFTO0FBQ2hCLFVBQVUsMkNBQU8sQ0FBQyw0Q0FBUTtBQUMxQixNQUFNLDRDQUFRLENBQUMsNENBQVEsSUFBSSw0Q0FBUTtBQUNuQyxvQkFBb0IsNENBQVE7QUFDNUIsYUFBYSw0Q0FBUTtBQUNyQixPQUFPLDRDQUFRO0FBQ2YsQ0FBQztBQUNELCtCQUErQix3REFBb0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG9CQUFvQjtBQUMvQixXQUFXLE9BQU87QUFDbEIsV0FBVyxZQUFZO0FBQ3ZCO0FBQ0E7QUFDQSxpQ0FBaUMsNEJBQTRCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyw4Q0FBOEM7QUFDNUQ7QUFDQTtBQUNBLGVBQWUsd0JBQXdCO0FBQ3ZDO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDJEQUFJO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBLDJCQUEyQjtBQUMzQiw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBOztBQUVBO0FBQ3NCO0FBQ3RCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L3Rvb2xzL2xvY2FsU2hlbGwuanM/NGUwYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0b29sIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS90b29sc1wiO1xuaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2QvdjRcIjtcblxuLy8jcmVnaW9uIHNyYy90b29scy9sb2NhbFNoZWxsLnRzXG5jb25zdCBMb2NhbFNoZWxsRXhlY0FjdGlvblNjaGVtYSA9IHoub2JqZWN0KHtcblx0dHlwZTogei5saXRlcmFsKFwiZXhlY1wiKSxcblx0Y29tbWFuZDogei5hcnJheSh6LnN0cmluZygpKSxcblx0ZW52OiB6LnJlY29yZCh6LnN0cmluZygpLCB6LnN0cmluZygpKS5vcHRpb25hbCgpLFxuXHR3b3JraW5nX2RpcmVjdG9yeTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuXHR0aW1lb3V0X21zOiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG5cdHVzZXI6IHouc3RyaW5nKCkub3B0aW9uYWwoKVxufSk7XG5jb25zdCBMb2NhbFNoZWxsQWN0aW9uU2NoZW1hID0gei5kaXNjcmltaW5hdGVkVW5pb24oXCJ0eXBlXCIsIFtMb2NhbFNoZWxsRXhlY0FjdGlvblNjaGVtYV0pO1xuY29uc3QgVE9PTF9OQU1FID0gXCJsb2NhbF9zaGVsbFwiO1xuLyoqXG4qIENyZWF0ZXMgYSBMb2NhbCBTaGVsbCB0b29sIHRoYXQgYWxsb3dzIG1vZGVscyB0byBydW4gc2hlbGwgY29tbWFuZHMgbG9jYWxseVxuKiBvbiBhIG1hY2hpbmUgeW91IHByb3ZpZGUuIENvbW1hbmRzIGFyZSBleGVjdXRlZCBpbnNpZGUgeW91ciBvd24gcnVudGltZeKAlFxuKiB0aGUgQVBJIG9ubHkgcmV0dXJucyB0aGUgaW5zdHJ1Y3Rpb25zLCBidXQgZG9lcyBub3QgZXhlY3V0ZSB0aGVtIG9uIE9wZW5BSSBpbmZyYXN0cnVjdHVyZS5cbipcbiogKipJbXBvcnRhbnQqKjogVGhlIGxvY2FsIHNoZWxsIHRvb2wgaXMgZGVzaWduZWQgdG8gd29yayB3aXRoXG4qIFtDb2RleCBDTEldKGh0dHBzOi8vZ2l0aHViLmNvbS9vcGVuYWkvY29kZXgpIGFuZCB0aGUgYGNvZGV4LW1pbmktbGF0ZXN0YCBtb2RlbC5cbipcbiogKipIb3cgaXQgd29ya3MqKjpcbiogVGhlIHRvb2wgb3BlcmF0ZXMgaW4gYSBjb250aW51b3VzIGxvb3A6XG4qIDEuIE1vZGVsIHNlbmRzIHNoZWxsIGNvbW1hbmRzIChgbG9jYWxfc2hlbGxfY2FsbGAgd2l0aCBgZXhlY2AgYWN0aW9uKVxuKiAyLiBZb3VyIGNvZGUgZXhlY3V0ZXMgdGhlIGNvbW1hbmQgbG9jYWxseVxuKiAzLiBZb3UgcmV0dXJuIHRoZSBvdXRwdXQgYmFjayB0byB0aGUgbW9kZWxcbiogNC4gUmVwZWF0IHVudGlsIHRoZSB0YXNrIGlzIGNvbXBsZXRlXG4qXG4qICoqU2VjdXJpdHkgV2FybmluZyoqOiBSdW5uaW5nIGFyYml0cmFyeSBzaGVsbCBjb21tYW5kcyBjYW4gYmUgZGFuZ2Vyb3VzLlxuKiBBbHdheXMgc2FuZGJveCBleGVjdXRpb24gb3IgYWRkIHN0cmljdCBhbGxvdy9kZW55LWxpc3RzIGJlZm9yZSBmb3J3YXJkaW5nXG4qIGEgY29tbWFuZCB0byB0aGUgc3lzdGVtIHNoZWxsLlxuKlxuKiBAc2VlIHtAbGluayBodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvdG9vbHMtbG9jYWwtc2hlbGwgfCBPcGVuQUkgTG9jYWwgU2hlbGwgRG9jdW1lbnRhdGlvbn1cbipcbiogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25hbCBjb25maWd1cmF0aW9uIGZvciB0aGUgTG9jYWwgU2hlbGwgdG9vbFxuKiBAcmV0dXJucyBBIExvY2FsIFNoZWxsIHRvb2wgdGhhdCBjYW4gYmUgcGFzc2VkIHRvIGBiaW5kVG9vbHNgXG4qXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogaW1wb3J0IHsgQ2hhdE9wZW5BSSwgdG9vbHMgfSBmcm9tIFwiQGxhbmdjaGFpbi9vcGVuYWlcIjtcbiogaW1wb3J0IHsgZXhlYyB9IGZyb20gXCJjaGlsZF9wcm9jZXNzXCI7XG4qIGltcG9ydCB7IHByb21pc2lmeSB9IGZyb20gXCJ1dGlsXCI7XG4qXG4qIGNvbnN0IGV4ZWNBc3luYyA9IHByb21pc2lmeShleGVjKTtcbiogY29uc3QgbW9kZWwgPSBuZXcgQ2hhdE9wZW5BSSh7IG1vZGVsOiBcImNvZGV4LW1pbmktbGF0ZXN0XCIgfSk7XG4qXG4qIC8vIFdpdGggZXhlY3V0ZSBjYWxsYmFjayBmb3IgYXV0b21hdGljIGNvbW1hbmQgaGFuZGxpbmdcbiogY29uc3Qgc2hlbGwgPSB0b29scy5sb2NhbFNoZWxsKHtcbiogICBleGVjdXRlOiBhc3luYyAoYWN0aW9uKSA9PiB7XG4qICAgICBjb25zdCB7IGNvbW1hbmQsIGVudiwgd29ya2luZ19kaXJlY3RvcnksIHRpbWVvdXRfbXMgfSA9IGFjdGlvbjtcbiogICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGV4ZWNBc3luYyhjb21tYW5kLmpvaW4oJyAnKSwge1xuKiAgICAgICBjd2Q6IHdvcmtpbmdfZGlyZWN0b3J5ID8/IHByb2Nlc3MuY3dkKCksXG4qICAgICAgIGVudjogeyAuLi5wcm9jZXNzLmVudiwgLi4uZW52IH0sXG4qICAgICAgIHRpbWVvdXQ6IHRpbWVvdXRfbXMgPz8gdW5kZWZpbmVkLFxuKiAgICAgfSk7XG4qICAgICByZXR1cm4gcmVzdWx0LnN0ZG91dCArIHJlc3VsdC5zdGRlcnI7XG4qICAgfSxcbiogfSk7XG4qXG4qIGNvbnN0IGxsbVdpdGhTaGVsbCA9IG1vZGVsLmJpbmRUb29scyhbc2hlbGxdKTtcbiogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBsbG1XaXRoU2hlbGwuaW52b2tlKFxuKiAgIFwiTGlzdCBmaWxlcyBpbiB0aGUgY3VycmVudCBkaXJlY3RvcnlcIlxuKiApO1xuKiBgYGBcbipcbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiAvLyBXaXRob3V0IGV4ZWN1dGUgY2FsbGJhY2sgKG1hbnVhbCBoYW5kbGluZylcbiogY29uc3Qgc2hlbGwgPSB0b29scy5sb2NhbFNoZWxsKCk7XG4qXG4qIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbW9kZWwuaW52b2tlKFwiTGlzdCBmaWxlc1wiLCB7XG4qICAgdG9vbHM6IFtzaGVsbF0sXG4qIH0pO1xuKlxuKiAvLyBBY2Nlc3MgdGhlIHNoZWxsIGNhbGwgZnJvbSB0aGUgcmVzcG9uc2VcbiogY29uc3Qgc2hlbGxDYWxsID0gcmVzcG9uc2UuYWRkaXRpb25hbF9rd2FyZ3MudG9vbF9vdXRwdXRzPy5maW5kKFxuKiAgIChvdXRwdXQpID0+IG91dHB1dC50eXBlID09PSBcImxvY2FsX3NoZWxsX2NhbGxcIlxuKiApO1xuKiBpZiAoc2hlbGxDYWxsKSB7XG4qICAgY29uc29sZS5sb2coXCJDb21tYW5kIHRvIGV4ZWN1dGU6XCIsIHNoZWxsQ2FsbC5hY3Rpb24uY29tbWFuZCk7XG4qICAgLy8gRXhlY3V0ZSB0aGUgY29tbWFuZCBtYW51YWxseSwgdGhlbiBzZW5kIGJhY2sgdGhlIG91dHB1dFxuKiB9XG4qIGBgYFxuKlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIC8vIEZ1bGwgc2hlbGwgbG9vcCBleGFtcGxlXG4qIGFzeW5jIGZ1bmN0aW9uIHNoZWxsTG9vcChtb2RlbCwgdGFzaykge1xuKiAgIGxldCByZXNwb25zZSA9IGF3YWl0IG1vZGVsLmludm9rZSh0YXNrLCB7XG4qICAgICB0b29sczogW3Rvb2xzLmxvY2FsU2hlbGwoKV0sXG4qICAgfSk7XG4qXG4qICAgd2hpbGUgKHRydWUpIHtcbiogICAgIGNvbnN0IHNoZWxsQ2FsbCA9IHJlc3BvbnNlLmFkZGl0aW9uYWxfa3dhcmdzLnRvb2xfb3V0cHV0cz8uZmluZChcbiogICAgICAgKG91dHB1dCkgPT4gb3V0cHV0LnR5cGUgPT09IFwibG9jYWxfc2hlbGxfY2FsbFwiXG4qICAgICApO1xuKlxuKiAgICAgaWYgKCFzaGVsbENhbGwpIGJyZWFrO1xuKlxuKiAgICAgLy8gRXhlY3V0ZSBjb21tYW5kICh3aXRoIHByb3BlciBzYW5kYm94aW5nISlcbiogICAgIGNvbnN0IG91dHB1dCA9IGF3YWl0IGV4ZWN1dGVDb21tYW5kKHNoZWxsQ2FsbC5hY3Rpb24pO1xuKlxuKiAgICAgLy8gU2VuZCBvdXRwdXQgYmFjayB0byBtb2RlbFxuKiAgICAgcmVzcG9uc2UgPSBhd2FpdCBtb2RlbC5pbnZva2UoW1xuKiAgICAgICByZXNwb25zZSxcbiogICAgICAge1xuKiAgICAgICAgIHR5cGU6IFwibG9jYWxfc2hlbGxfY2FsbF9vdXRwdXRcIixcbiogICAgICAgICBpZDogc2hlbGxDYWxsLmNhbGxfaWQsXG4qICAgICAgICAgb3V0cHV0OiBvdXRwdXQsXG4qICAgICAgIH0sXG4qICAgICBdLCB7XG4qICAgICAgIHRvb2xzOiBbdG9vbHMubG9jYWxTaGVsbCgpXSxcbiogICAgIH0pO1xuKiAgIH1cbipcbiogICByZXR1cm4gcmVzcG9uc2U7XG4qIH1cbiogYGBgXG4qXG4qIEByZW1hcmtzXG4qIC0gT25seSBhdmFpbGFibGUgdGhyb3VnaCB0aGUgUmVzcG9uc2VzIEFQSSAobm90IENoYXQgQ29tcGxldGlvbnMpXG4qIC0gRGVzaWduZWQgZm9yIHVzZSB3aXRoIGBjb2RleC1taW5pLWxhdGVzdGAgbW9kZWxcbiogLSBDb21tYW5kcyBhcmUgcHJvdmlkZWQgYXMgYXJndiB0b2tlbnMgaW4gYGFjdGlvbi5jb21tYW5kYFxuKiAtIEFjdGlvbiBpbmNsdWRlczogYGNvbW1hbmRgLCBgZW52YCwgYHdvcmtpbmdfZGlyZWN0b3J5YCwgYHRpbWVvdXRfbXNgLCBgdXNlcmBcbiogLSBBbHdheXMgc2FuZGJveCBvciB2YWxpZGF0ZSBjb21tYW5kcyBiZWZvcmUgZXhlY3V0aW9uXG4qIC0gVGhlIGB0aW1lb3V0X21zYCBmcm9tIHRoZSBtb2RlbCBpcyBvbmx5IGEgaGludOKAlGVuZm9yY2UgeW91ciBvd24gbGltaXRzXG4qL1xuZnVuY3Rpb24gbG9jYWxTaGVsbChvcHRpb25zKSB7XG5cdGNvbnN0IHNoZWxsVG9vbCA9IHRvb2wob3B0aW9ucy5leGVjdXRlLCB7XG5cdFx0bmFtZTogVE9PTF9OQU1FLFxuXHRcdGRlc2NyaXB0aW9uOiBcIkV4ZWN1dGUgc2hlbGwgY29tbWFuZHMgbG9jYWxseSBvbiB0aGUgbWFjaGluZS4gQ29tbWFuZHMgYXJlIHByb3ZpZGVkIGFzIGFyZ3YgdG9rZW5zLlwiLFxuXHRcdHNjaGVtYTogTG9jYWxTaGVsbEFjdGlvblNjaGVtYVxuXHR9KTtcblx0c2hlbGxUb29sLmV4dHJhcyA9IHtcblx0XHQuLi5zaGVsbFRvb2wuZXh0cmFzID8/IHt9LFxuXHRcdHByb3ZpZGVyVG9vbERlZmluaXRpb246IHsgdHlwZTogXCJsb2NhbF9zaGVsbFwiIH1cblx0fTtcblx0cmV0dXJuIHNoZWxsVG9vbDtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBsb2NhbFNoZWxsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2NhbFNoZWxsLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/localShell.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/mcp.js":
/*!***************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/mcp.js ***!
  \***************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   mcp: () => (/* binding */ mcp)\n/* harmony export */ });\n//#region src/tools/mcp.ts\n/**\n* Converts a McpToolFilter to the API format.\n*/\nfunction convertToolFilter(filter) {\n\treturn {\n\t\ttool_names: filter.toolNames,\n\t\tread_only: filter.readOnly\n\t};\n}\n/**\n* Converts allowed_tools option to API format.\n*/\nfunction convertAllowedTools(allowedTools) {\n\tif (!allowedTools) return void 0;\n\tif (Array.isArray(allowedTools)) return allowedTools;\n\treturn convertToolFilter(allowedTools);\n}\n/**\n* Converts require_approval option to API format.\n*/\nfunction convertRequireApproval(requireApproval) {\n\tif (!requireApproval) return void 0;\n\tif (typeof requireApproval === \"string\") return requireApproval;\n\treturn {\n\t\talways: requireApproval.always ? convertToolFilter(requireApproval.always) : void 0,\n\t\tnever: requireApproval.never ? convertToolFilter(requireApproval.never) : void 0\n\t};\n}\nfunction mcp(options) {\n\tconst baseConfig = {\n\t\ttype: \"mcp\",\n\t\tserver_label: options.serverLabel,\n\t\tallowed_tools: convertAllowedTools(options.allowedTools),\n\t\tauthorization: options.authorization,\n\t\theaders: options.headers,\n\t\trequire_approval: convertRequireApproval(options.requireApproval),\n\t\tserver_description: options.serverDescription\n\t};\n\tif (\"serverUrl\" in options) return {\n\t\t...baseConfig,\n\t\tserver_url: options.serverUrl\n\t};\n\treturn {\n\t\t...baseConfig,\n\t\tconnector_id: options.connectorId\n\t};\n}\n\n//#endregion\n\n//# sourceMappingURL=mcp.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L3Rvb2xzL21jcC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ2U7QUFDZiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitvcGVuYWlAMS4yLjNfQGxhbmdjaGFpbitjb3JlQDEuMS4xNy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9vcGVuYWkvZGlzdC90b29scy9tY3AuanM/MDAxNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyNyZWdpb24gc3JjL3Rvb2xzL21jcC50c1xuLyoqXG4qIENvbnZlcnRzIGEgTWNwVG9vbEZpbHRlciB0byB0aGUgQVBJIGZvcm1hdC5cbiovXG5mdW5jdGlvbiBjb252ZXJ0VG9vbEZpbHRlcihmaWx0ZXIpIHtcblx0cmV0dXJuIHtcblx0XHR0b29sX25hbWVzOiBmaWx0ZXIudG9vbE5hbWVzLFxuXHRcdHJlYWRfb25seTogZmlsdGVyLnJlYWRPbmx5XG5cdH07XG59XG4vKipcbiogQ29udmVydHMgYWxsb3dlZF90b29scyBvcHRpb24gdG8gQVBJIGZvcm1hdC5cbiovXG5mdW5jdGlvbiBjb252ZXJ0QWxsb3dlZFRvb2xzKGFsbG93ZWRUb29scykge1xuXHRpZiAoIWFsbG93ZWRUb29scykgcmV0dXJuIHZvaWQgMDtcblx0aWYgKEFycmF5LmlzQXJyYXkoYWxsb3dlZFRvb2xzKSkgcmV0dXJuIGFsbG93ZWRUb29scztcblx0cmV0dXJuIGNvbnZlcnRUb29sRmlsdGVyKGFsbG93ZWRUb29scyk7XG59XG4vKipcbiogQ29udmVydHMgcmVxdWlyZV9hcHByb3ZhbCBvcHRpb24gdG8gQVBJIGZvcm1hdC5cbiovXG5mdW5jdGlvbiBjb252ZXJ0UmVxdWlyZUFwcHJvdmFsKHJlcXVpcmVBcHByb3ZhbCkge1xuXHRpZiAoIXJlcXVpcmVBcHByb3ZhbCkgcmV0dXJuIHZvaWQgMDtcblx0aWYgKHR5cGVvZiByZXF1aXJlQXBwcm92YWwgPT09IFwic3RyaW5nXCIpIHJldHVybiByZXF1aXJlQXBwcm92YWw7XG5cdHJldHVybiB7XG5cdFx0YWx3YXlzOiByZXF1aXJlQXBwcm92YWwuYWx3YXlzID8gY29udmVydFRvb2xGaWx0ZXIocmVxdWlyZUFwcHJvdmFsLmFsd2F5cykgOiB2b2lkIDAsXG5cdFx0bmV2ZXI6IHJlcXVpcmVBcHByb3ZhbC5uZXZlciA/IGNvbnZlcnRUb29sRmlsdGVyKHJlcXVpcmVBcHByb3ZhbC5uZXZlcikgOiB2b2lkIDBcblx0fTtcbn1cbmZ1bmN0aW9uIG1jcChvcHRpb25zKSB7XG5cdGNvbnN0IGJhc2VDb25maWcgPSB7XG5cdFx0dHlwZTogXCJtY3BcIixcblx0XHRzZXJ2ZXJfbGFiZWw6IG9wdGlvbnMuc2VydmVyTGFiZWwsXG5cdFx0YWxsb3dlZF90b29sczogY29udmVydEFsbG93ZWRUb29scyhvcHRpb25zLmFsbG93ZWRUb29scyksXG5cdFx0YXV0aG9yaXphdGlvbjogb3B0aW9ucy5hdXRob3JpemF0aW9uLFxuXHRcdGhlYWRlcnM6IG9wdGlvbnMuaGVhZGVycyxcblx0XHRyZXF1aXJlX2FwcHJvdmFsOiBjb252ZXJ0UmVxdWlyZUFwcHJvdmFsKG9wdGlvbnMucmVxdWlyZUFwcHJvdmFsKSxcblx0XHRzZXJ2ZXJfZGVzY3JpcHRpb246IG9wdGlvbnMuc2VydmVyRGVzY3JpcHRpb25cblx0fTtcblx0aWYgKFwic2VydmVyVXJsXCIgaW4gb3B0aW9ucykgcmV0dXJuIHtcblx0XHQuLi5iYXNlQ29uZmlnLFxuXHRcdHNlcnZlcl91cmw6IG9wdGlvbnMuc2VydmVyVXJsXG5cdH07XG5cdHJldHVybiB7XG5cdFx0Li4uYmFzZUNvbmZpZyxcblx0XHRjb25uZWN0b3JfaWQ6IG9wdGlvbnMuY29ubmVjdG9ySWRcblx0fTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBtY3AgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1jcC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/mcp.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/shell.js":
/*!*****************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/shell.js ***!
  \*****************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   shell: () => (/* binding */ shell)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_tools__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/tools */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tools/index.js\");\n/* harmony import */ var zod_v4__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zod/v4 */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+zod@4.3.6/node_modules/zod/v4/index.js\");\n\n\n\n//#region src/tools/shell.ts\nconst ShellActionSchema = zod_v4__WEBPACK_IMPORTED_MODULE_1__.z.object({\n\tcommands: zod_v4__WEBPACK_IMPORTED_MODULE_1__.z.array(zod_v4__WEBPACK_IMPORTED_MODULE_1__.z.string()).describe(\"Array of shell commands to execute\"),\n\ttimeout_ms: zod_v4__WEBPACK_IMPORTED_MODULE_1__.z.number().optional().describe(\"Optional timeout in milliseconds for the commands\"),\n\tmax_output_length: zod_v4__WEBPACK_IMPORTED_MODULE_1__.z.number().optional().describe(\"Optional maximum number of characters to return from each command\")\n});\nconst TOOL_NAME = \"shell\";\n/**\n* Creates a Shell tool that allows models to run shell commands through your integration.\n*\n* The shell tool allows the model to interact with your local computer through a controlled\n* command-line interface. The model proposes shell commands; your integration executes them\n* and returns the outputs. This creates a simple plan-execute loop that lets models inspect\n* the system, run utilities, and gather data until they can finish the task.\n*\n* **Important**: The shell tool is available through the Responses API for use with `GPT-5.1`.\n* It is not available on other models, or via the Chat Completions API.\n*\n* **When to use**:\n* - **Automating filesystem or process diagnostics**  For example, \"find the largest PDF\n*   under ~/Documents\" or \"show running gunicorn processes.\"\n* - **Extending the model's capabilities**  Using built-in UNIX utilities, python runtime\n*   and other CLIs in your environment.\n* - **Running multi-step build and test flows**  Chaining commands like `pip install` and `pytest`.\n* - **Complex agentic coding workflows**  Using other tools like `apply_patch` to complete\n*   workflows that involve complex file operations.\n*\n* **How it works**:\n* The tool operates in a continuous loop:\n* 1. Model sends shell commands (`shell_call` with `commands` array)\n* 2. Your code executes the commands (can be concurrent)\n* 3. You return stdout, stderr, and outcome for each command\n* 4. Repeat until the task is complete\n*\n* **Security Warning**: Running arbitrary shell commands can be dangerous.\n* Always sandbox execution or add strict allow/deny-lists before forwarding\n* a command to the system shell.\n*\n* @see {@link https://platform.openai.com/docs/guides/tools-shell | OpenAI Shell Documentation}\n* @see {@link https://github.com/openai/codex | Codex CLI} for reference implementation.\n*\n* @param options - Configuration for the Shell tool\n* @returns A Shell tool that can be passed to `bindTools`\n*\n* @example\n* ```typescript\n* import { ChatOpenAI, tools } from \"@langchain/openai\";\n* import { exec } from \"child_process/promises\";\n*\n* const model = new ChatOpenAI({ model: \"gpt-5.1\" });\n*\n* // With execute callback for automatic command handling\n* const shellTool = tools.shell({\n*   execute: async (action) => {\n*     const outputs = await Promise.all(\n*       action.commands.map(async (cmd) => {\n*         try {\n*           const { stdout, stderr } = await exec(cmd, {\n*             timeout: action.timeout_ms ?? undefined,\n*           });\n*           return {\n*             stdout,\n*             stderr,\n*             outcome: { type: \"exit\" as const, exit_code: 0 },\n*           };\n*         } catch (error) {\n*           const timedOut = error.killed && error.signal === \"SIGTERM\";\n*           return {\n*             stdout: error.stdout ?? \"\",\n*             stderr: error.stderr ?? String(error),\n*             outcome: timedOut\n*               ? { type: \"timeout\" as const }\n*               : { type: \"exit\" as const, exit_code: error.code ?? 1 },\n*           };\n*         }\n*       })\n*     );\n*     return {\n*       output: outputs,\n*       maxOutputLength: action.max_output_length,\n*     };\n*   },\n* });\n*\n* const llmWithShell = model.bindTools([shellTool]);\n* const response = await llmWithShell.invoke(\n*   \"Find the largest PDF file in ~/Documents\"\n* );\n* ```\n*\n* @example\n* ```typescript\n* // Full shell loop example\n* async function shellLoop(model, task) {\n*   let response = await model.invoke(task, {\n*     tools: [tools.shell({ execute: myExecutor })],\n*   });\n*\n*   while (true) {\n*     const shellCall = response.additional_kwargs.tool_outputs?.find(\n*       (output) => output.type === \"shell_call\"\n*     );\n*\n*     if (!shellCall) break;\n*\n*     // Execute commands (with proper sandboxing!)\n*     const result = await executeCommands(shellCall.action);\n*\n*     // Send output back to model\n*     response = await model.invoke([\n*       response,\n*       {\n*         type: \"shell_call_output\",\n*         call_id: shellCall.call_id,\n*         output: result.output,\n*         max_output_length: result.maxOutputLength,\n*       },\n*     ], {\n*       tools: [tools.shell({ execute: myExecutor })],\n*     });\n*   }\n*\n*   return response;\n* }\n* ```\n*\n* @remarks\n* - Only available through the Responses API (not Chat Completions)\n* - Designed for use with `gpt-5.1` model\n* - Commands are provided as an array of strings that can be executed concurrently\n* - Action includes: `commands`, `timeout_ms`, `max_output_length`\n* - Always sandbox or validate commands before execution\n* - The `timeout_ms` from the model is only a hintenforce your own limits\n* - If `max_output_length` exists in the action, always pass it back in the output\n* - Many CLI tools return non-zero exit codes for warnings; still capture stdout/stderr\n*/\nfunction shell(options) {\n\tconst executeWrapper = async (action) => {\n\t\tconst result = await options.execute(action);\n\t\treturn JSON.stringify({\n\t\t\toutput: result.output,\n\t\t\tmax_output_length: result.maxOutputLength\n\t\t});\n\t};\n\tconst shellTool = (0,_langchain_core_tools__WEBPACK_IMPORTED_MODULE_0__.tool)(executeWrapper, {\n\t\tname: TOOL_NAME,\n\t\tdescription: \"Execute shell commands in a managed environment. Commands can be run concurrently.\",\n\t\tschema: ShellActionSchema\n\t});\n\tshellTool.extras = {\n\t\t...shellTool.extras ?? {},\n\t\tproviderToolDefinition: { type: \"shell\" }\n\t};\n\treturn shellTool;\n}\n\n//#endregion\n\n//# sourceMappingURL=shell.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L3Rvb2xzL3NoZWxsLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE2QztBQUNsQjs7QUFFM0I7QUFDQSwwQkFBMEIsNENBQVE7QUFDbEMsV0FBVywyQ0FBTyxDQUFDLDRDQUFRO0FBQzNCLGFBQWEsNENBQVE7QUFDckIsb0JBQW9CLDRDQUFRO0FBQzVCLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZEO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1IsUUFBUSxtREFBbUQ7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxvQkFBb0I7QUFDL0IsV0FBVyxPQUFPO0FBQ2xCO0FBQ0EsaUNBQWlDLGtCQUFrQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixpQkFBaUI7QUFDckM7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHFDQUFxQztBQUM5RDtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCLG9CQUFvQixtREFBbUQ7QUFDdkU7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIscUJBQXFCO0FBQ2pELEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLDhCQUE4QixxQkFBcUI7QUFDbkQsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQ7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxtQkFBbUIsMkRBQUk7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0EsMkJBQTJCO0FBQzNCLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7O0FBRUE7QUFDaUI7QUFDakIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rb3BlbmFpQDEuMi4zX0BsYW5nY2hhaW4rY29yZUAxLjEuMTcvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvdG9vbHMvc2hlbGwuanM/NjBlYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0b29sIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS90b29sc1wiO1xuaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2QvdjRcIjtcblxuLy8jcmVnaW9uIHNyYy90b29scy9zaGVsbC50c1xuY29uc3QgU2hlbGxBY3Rpb25TY2hlbWEgPSB6Lm9iamVjdCh7XG5cdGNvbW1hbmRzOiB6LmFycmF5KHouc3RyaW5nKCkpLmRlc2NyaWJlKFwiQXJyYXkgb2Ygc2hlbGwgY29tbWFuZHMgdG8gZXhlY3V0ZVwiKSxcblx0dGltZW91dF9tczogei5udW1iZXIoKS5vcHRpb25hbCgpLmRlc2NyaWJlKFwiT3B0aW9uYWwgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgZm9yIHRoZSBjb21tYW5kc1wiKSxcblx0bWF4X291dHB1dF9sZW5ndGg6IHoubnVtYmVyKCkub3B0aW9uYWwoKS5kZXNjcmliZShcIk9wdGlvbmFsIG1heGltdW0gbnVtYmVyIG9mIGNoYXJhY3RlcnMgdG8gcmV0dXJuIGZyb20gZWFjaCBjb21tYW5kXCIpXG59KTtcbmNvbnN0IFRPT0xfTkFNRSA9IFwic2hlbGxcIjtcbi8qKlxuKiBDcmVhdGVzIGEgU2hlbGwgdG9vbCB0aGF0IGFsbG93cyBtb2RlbHMgdG8gcnVuIHNoZWxsIGNvbW1hbmRzIHRocm91Z2ggeW91ciBpbnRlZ3JhdGlvbi5cbipcbiogVGhlIHNoZWxsIHRvb2wgYWxsb3dzIHRoZSBtb2RlbCB0byBpbnRlcmFjdCB3aXRoIHlvdXIgbG9jYWwgY29tcHV0ZXIgdGhyb3VnaCBhIGNvbnRyb2xsZWRcbiogY29tbWFuZC1saW5lIGludGVyZmFjZS4gVGhlIG1vZGVsIHByb3Bvc2VzIHNoZWxsIGNvbW1hbmRzOyB5b3VyIGludGVncmF0aW9uIGV4ZWN1dGVzIHRoZW1cbiogYW5kIHJldHVybnMgdGhlIG91dHB1dHMuIFRoaXMgY3JlYXRlcyBhIHNpbXBsZSBwbGFuLWV4ZWN1dGUgbG9vcCB0aGF0IGxldHMgbW9kZWxzIGluc3BlY3RcbiogdGhlIHN5c3RlbSwgcnVuIHV0aWxpdGllcywgYW5kIGdhdGhlciBkYXRhIHVudGlsIHRoZXkgY2FuIGZpbmlzaCB0aGUgdGFzay5cbipcbiogKipJbXBvcnRhbnQqKjogVGhlIHNoZWxsIHRvb2wgaXMgYXZhaWxhYmxlIHRocm91Z2ggdGhlIFJlc3BvbnNlcyBBUEkgZm9yIHVzZSB3aXRoIGBHUFQtNS4xYC5cbiogSXQgaXMgbm90IGF2YWlsYWJsZSBvbiBvdGhlciBtb2RlbHMsIG9yIHZpYSB0aGUgQ2hhdCBDb21wbGV0aW9ucyBBUEkuXG4qXG4qICoqV2hlbiB0byB1c2UqKjpcbiogLSAqKkF1dG9tYXRpbmcgZmlsZXN5c3RlbSBvciBwcm9jZXNzIGRpYWdub3N0aWNzKiog4oCTIEZvciBleGFtcGxlLCBcImZpbmQgdGhlIGxhcmdlc3QgUERGXG4qICAgdW5kZXIgfi9Eb2N1bWVudHNcIiBvciBcInNob3cgcnVubmluZyBndW5pY29ybiBwcm9jZXNzZXMuXCJcbiogLSAqKkV4dGVuZGluZyB0aGUgbW9kZWwncyBjYXBhYmlsaXRpZXMqKiDigJMgVXNpbmcgYnVpbHQtaW4gVU5JWCB1dGlsaXRpZXMsIHB5dGhvbiBydW50aW1lXG4qICAgYW5kIG90aGVyIENMSXMgaW4geW91ciBlbnZpcm9ubWVudC5cbiogLSAqKlJ1bm5pbmcgbXVsdGktc3RlcCBidWlsZCBhbmQgdGVzdCBmbG93cyoqIOKAkyBDaGFpbmluZyBjb21tYW5kcyBsaWtlIGBwaXAgaW5zdGFsbGAgYW5kIGBweXRlc3RgLlxuKiAtICoqQ29tcGxleCBhZ2VudGljIGNvZGluZyB3b3JrZmxvd3MqKiDigJMgVXNpbmcgb3RoZXIgdG9vbHMgbGlrZSBgYXBwbHlfcGF0Y2hgIHRvIGNvbXBsZXRlXG4qICAgd29ya2Zsb3dzIHRoYXQgaW52b2x2ZSBjb21wbGV4IGZpbGUgb3BlcmF0aW9ucy5cbipcbiogKipIb3cgaXQgd29ya3MqKjpcbiogVGhlIHRvb2wgb3BlcmF0ZXMgaW4gYSBjb250aW51b3VzIGxvb3A6XG4qIDEuIE1vZGVsIHNlbmRzIHNoZWxsIGNvbW1hbmRzIChgc2hlbGxfY2FsbGAgd2l0aCBgY29tbWFuZHNgIGFycmF5KVxuKiAyLiBZb3VyIGNvZGUgZXhlY3V0ZXMgdGhlIGNvbW1hbmRzIChjYW4gYmUgY29uY3VycmVudClcbiogMy4gWW91IHJldHVybiBzdGRvdXQsIHN0ZGVyciwgYW5kIG91dGNvbWUgZm9yIGVhY2ggY29tbWFuZFxuKiA0LiBSZXBlYXQgdW50aWwgdGhlIHRhc2sgaXMgY29tcGxldGVcbipcbiogKipTZWN1cml0eSBXYXJuaW5nKio6IFJ1bm5pbmcgYXJiaXRyYXJ5IHNoZWxsIGNvbW1hbmRzIGNhbiBiZSBkYW5nZXJvdXMuXG4qIEFsd2F5cyBzYW5kYm94IGV4ZWN1dGlvbiBvciBhZGQgc3RyaWN0IGFsbG93L2RlbnktbGlzdHMgYmVmb3JlIGZvcndhcmRpbmdcbiogYSBjb21tYW5kIHRvIHRoZSBzeXN0ZW0gc2hlbGwuXG4qXG4qIEBzZWUge0BsaW5rIGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy90b29scy1zaGVsbCB8IE9wZW5BSSBTaGVsbCBEb2N1bWVudGF0aW9ufVxuKiBAc2VlIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vb3BlbmFpL2NvZGV4IHwgQ29kZXggQ0xJfSBmb3IgcmVmZXJlbmNlIGltcGxlbWVudGF0aW9uLlxuKlxuKiBAcGFyYW0gb3B0aW9ucyAtIENvbmZpZ3VyYXRpb24gZm9yIHRoZSBTaGVsbCB0b29sXG4qIEByZXR1cm5zIEEgU2hlbGwgdG9vbCB0aGF0IGNhbiBiZSBwYXNzZWQgdG8gYGJpbmRUb29sc2BcbipcbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiBpbXBvcnQgeyBDaGF0T3BlbkFJLCB0b29scyB9IGZyb20gXCJAbGFuZ2NoYWluL29wZW5haVwiO1xuKiBpbXBvcnQgeyBleGVjIH0gZnJvbSBcImNoaWxkX3Byb2Nlc3MvcHJvbWlzZXNcIjtcbipcbiogY29uc3QgbW9kZWwgPSBuZXcgQ2hhdE9wZW5BSSh7IG1vZGVsOiBcImdwdC01LjFcIiB9KTtcbipcbiogLy8gV2l0aCBleGVjdXRlIGNhbGxiYWNrIGZvciBhdXRvbWF0aWMgY29tbWFuZCBoYW5kbGluZ1xuKiBjb25zdCBzaGVsbFRvb2wgPSB0b29scy5zaGVsbCh7XG4qICAgZXhlY3V0ZTogYXN5bmMgKGFjdGlvbikgPT4ge1xuKiAgICAgY29uc3Qgb3V0cHV0cyA9IGF3YWl0IFByb21pc2UuYWxsKFxuKiAgICAgICBhY3Rpb24uY29tbWFuZHMubWFwKGFzeW5jIChjbWQpID0+IHtcbiogICAgICAgICB0cnkge1xuKiAgICAgICAgICAgY29uc3QgeyBzdGRvdXQsIHN0ZGVyciB9ID0gYXdhaXQgZXhlYyhjbWQsIHtcbiogICAgICAgICAgICAgdGltZW91dDogYWN0aW9uLnRpbWVvdXRfbXMgPz8gdW5kZWZpbmVkLFxuKiAgICAgICAgICAgfSk7XG4qICAgICAgICAgICByZXR1cm4ge1xuKiAgICAgICAgICAgICBzdGRvdXQsXG4qICAgICAgICAgICAgIHN0ZGVycixcbiogICAgICAgICAgICAgb3V0Y29tZTogeyB0eXBlOiBcImV4aXRcIiBhcyBjb25zdCwgZXhpdF9jb2RlOiAwIH0sXG4qICAgICAgICAgICB9O1xuKiAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4qICAgICAgICAgICBjb25zdCB0aW1lZE91dCA9IGVycm9yLmtpbGxlZCAmJiBlcnJvci5zaWduYWwgPT09IFwiU0lHVEVSTVwiO1xuKiAgICAgICAgICAgcmV0dXJuIHtcbiogICAgICAgICAgICAgc3Rkb3V0OiBlcnJvci5zdGRvdXQgPz8gXCJcIixcbiogICAgICAgICAgICAgc3RkZXJyOiBlcnJvci5zdGRlcnIgPz8gU3RyaW5nKGVycm9yKSxcbiogICAgICAgICAgICAgb3V0Y29tZTogdGltZWRPdXRcbiogICAgICAgICAgICAgICA/IHsgdHlwZTogXCJ0aW1lb3V0XCIgYXMgY29uc3QgfVxuKiAgICAgICAgICAgICAgIDogeyB0eXBlOiBcImV4aXRcIiBhcyBjb25zdCwgZXhpdF9jb2RlOiBlcnJvci5jb2RlID8/IDEgfSxcbiogICAgICAgICAgIH07XG4qICAgICAgICAgfVxuKiAgICAgICB9KVxuKiAgICAgKTtcbiogICAgIHJldHVybiB7XG4qICAgICAgIG91dHB1dDogb3V0cHV0cyxcbiogICAgICAgbWF4T3V0cHV0TGVuZ3RoOiBhY3Rpb24ubWF4X291dHB1dF9sZW5ndGgsXG4qICAgICB9O1xuKiAgIH0sXG4qIH0pO1xuKlxuKiBjb25zdCBsbG1XaXRoU2hlbGwgPSBtb2RlbC5iaW5kVG9vbHMoW3NoZWxsVG9vbF0pO1xuKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IGxsbVdpdGhTaGVsbC5pbnZva2UoXG4qICAgXCJGaW5kIHRoZSBsYXJnZXN0IFBERiBmaWxlIGluIH4vRG9jdW1lbnRzXCJcbiogKTtcbiogYGBgXG4qXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogLy8gRnVsbCBzaGVsbCBsb29wIGV4YW1wbGVcbiogYXN5bmMgZnVuY3Rpb24gc2hlbGxMb29wKG1vZGVsLCB0YXNrKSB7XG4qICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgbW9kZWwuaW52b2tlKHRhc2ssIHtcbiogICAgIHRvb2xzOiBbdG9vbHMuc2hlbGwoeyBleGVjdXRlOiBteUV4ZWN1dG9yIH0pXSxcbiogICB9KTtcbipcbiogICB3aGlsZSAodHJ1ZSkge1xuKiAgICAgY29uc3Qgc2hlbGxDYWxsID0gcmVzcG9uc2UuYWRkaXRpb25hbF9rd2FyZ3MudG9vbF9vdXRwdXRzPy5maW5kKFxuKiAgICAgICAob3V0cHV0KSA9PiBvdXRwdXQudHlwZSA9PT0gXCJzaGVsbF9jYWxsXCJcbiogICAgICk7XG4qXG4qICAgICBpZiAoIXNoZWxsQ2FsbCkgYnJlYWs7XG4qXG4qICAgICAvLyBFeGVjdXRlIGNvbW1hbmRzICh3aXRoIHByb3BlciBzYW5kYm94aW5nISlcbiogICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGV4ZWN1dGVDb21tYW5kcyhzaGVsbENhbGwuYWN0aW9uKTtcbipcbiogICAgIC8vIFNlbmQgb3V0cHV0IGJhY2sgdG8gbW9kZWxcbiogICAgIHJlc3BvbnNlID0gYXdhaXQgbW9kZWwuaW52b2tlKFtcbiogICAgICAgcmVzcG9uc2UsXG4qICAgICAgIHtcbiogICAgICAgICB0eXBlOiBcInNoZWxsX2NhbGxfb3V0cHV0XCIsXG4qICAgICAgICAgY2FsbF9pZDogc2hlbGxDYWxsLmNhbGxfaWQsXG4qICAgICAgICAgb3V0cHV0OiByZXN1bHQub3V0cHV0LFxuKiAgICAgICAgIG1heF9vdXRwdXRfbGVuZ3RoOiByZXN1bHQubWF4T3V0cHV0TGVuZ3RoLFxuKiAgICAgICB9LFxuKiAgICAgXSwge1xuKiAgICAgICB0b29sczogW3Rvb2xzLnNoZWxsKHsgZXhlY3V0ZTogbXlFeGVjdXRvciB9KV0sXG4qICAgICB9KTtcbiogICB9XG4qXG4qICAgcmV0dXJuIHJlc3BvbnNlO1xuKiB9XG4qIGBgYFxuKlxuKiBAcmVtYXJrc1xuKiAtIE9ubHkgYXZhaWxhYmxlIHRocm91Z2ggdGhlIFJlc3BvbnNlcyBBUEkgKG5vdCBDaGF0IENvbXBsZXRpb25zKVxuKiAtIERlc2lnbmVkIGZvciB1c2Ugd2l0aCBgZ3B0LTUuMWAgbW9kZWxcbiogLSBDb21tYW5kcyBhcmUgcHJvdmlkZWQgYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncyB0aGF0IGNhbiBiZSBleGVjdXRlZCBjb25jdXJyZW50bHlcbiogLSBBY3Rpb24gaW5jbHVkZXM6IGBjb21tYW5kc2AsIGB0aW1lb3V0X21zYCwgYG1heF9vdXRwdXRfbGVuZ3RoYFxuKiAtIEFsd2F5cyBzYW5kYm94IG9yIHZhbGlkYXRlIGNvbW1hbmRzIGJlZm9yZSBleGVjdXRpb25cbiogLSBUaGUgYHRpbWVvdXRfbXNgIGZyb20gdGhlIG1vZGVsIGlzIG9ubHkgYSBoaW504oCUZW5mb3JjZSB5b3VyIG93biBsaW1pdHNcbiogLSBJZiBgbWF4X291dHB1dF9sZW5ndGhgIGV4aXN0cyBpbiB0aGUgYWN0aW9uLCBhbHdheXMgcGFzcyBpdCBiYWNrIGluIHRoZSBvdXRwdXRcbiogLSBNYW55IENMSSB0b29scyByZXR1cm4gbm9uLXplcm8gZXhpdCBjb2RlcyBmb3Igd2FybmluZ3M7IHN0aWxsIGNhcHR1cmUgc3Rkb3V0L3N0ZGVyclxuKi9cbmZ1bmN0aW9uIHNoZWxsKG9wdGlvbnMpIHtcblx0Y29uc3QgZXhlY3V0ZVdyYXBwZXIgPSBhc3luYyAoYWN0aW9uKSA9PiB7XG5cdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgb3B0aW9ucy5leGVjdXRlKGFjdGlvbik7XG5cdFx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KHtcblx0XHRcdG91dHB1dDogcmVzdWx0Lm91dHB1dCxcblx0XHRcdG1heF9vdXRwdXRfbGVuZ3RoOiByZXN1bHQubWF4T3V0cHV0TGVuZ3RoXG5cdFx0fSk7XG5cdH07XG5cdGNvbnN0IHNoZWxsVG9vbCA9IHRvb2woZXhlY3V0ZVdyYXBwZXIsIHtcblx0XHRuYW1lOiBUT09MX05BTUUsXG5cdFx0ZGVzY3JpcHRpb246IFwiRXhlY3V0ZSBzaGVsbCBjb21tYW5kcyBpbiBhIG1hbmFnZWQgZW52aXJvbm1lbnQuIENvbW1hbmRzIGNhbiBiZSBydW4gY29uY3VycmVudGx5LlwiLFxuXHRcdHNjaGVtYTogU2hlbGxBY3Rpb25TY2hlbWFcblx0fSk7XG5cdHNoZWxsVG9vbC5leHRyYXMgPSB7XG5cdFx0Li4uc2hlbGxUb29sLmV4dHJhcyA/PyB7fSxcblx0XHRwcm92aWRlclRvb2xEZWZpbml0aW9uOiB7IHR5cGU6IFwic2hlbGxcIiB9XG5cdH07XG5cdHJldHVybiBzaGVsbFRvb2w7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgc2hlbGwgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNoZWxsLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/shell.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/webSearch.js":
/*!*********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/webSearch.js ***!
  \*********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   webSearch: () => (/* binding */ webSearch)\n/* harmony export */ });\n//#region src/tools/webSearch.ts\n/**\n* Creates a web search tool that allows OpenAI models to search the web\n* for up-to-date information before generating a response.\n*\n* Web search supports three main types:\n* 1. **Non-reasoning web search**: Quick lookups where the model passes queries\n*    directly to the search tool.\n* 2. **Agentic search with reasoning models**: The model actively manages the\n*    search process, analyzing results and deciding whether to keep searching.\n* 3. **Deep research**: Extended investigations using models like `o3-deep-research`\n*    or `gpt-5` with high reasoning effort.\n*\n* @see {@link https://platform.openai.com/docs/guides/tools-web-search | OpenAI Web Search Documentation}\n* @param options - Configuration options for the web search tool\n* @returns A web search tool definition to be passed to the OpenAI Responses API\n*\n* @example\n* ```typescript\n* import { ChatOpenAI, tools } from \"@langchain/openai\";\n*\n* const model = new ChatOpenAI({\n*   model: \"gpt-4o\",\n* });\n*\n* // Basic usage\n* const response = await model.invoke(\"What was a positive news story from today?\", {\n*   tools: [tools.webSearch()],\n* });\n*\n* // With domain filtering\n* const filteredResponse = await model.invoke(\"Latest AI research news\", {\n*   tools: [tools.webSearch({\n*     filters: {\n*       allowedDomains: [\"arxiv.org\", \"nature.com\", \"science.org\"],\n*     },\n*   })],\n* });\n*\n* // With user location for geographic relevance\n* const localResponse = await model.invoke(\"What are the best restaurants near me?\", {\n*   tools: [tools.webSearch({\n*     userLocation: {\n*       type: \"approximate\",\n*       country: \"US\",\n*       city: \"San Francisco\",\n*       region: \"California\",\n*       timezone: \"America/Los_Angeles\",\n*     },\n*   })],\n* });\n*\n* // Cache-only mode (no live internet access)\n* const cachedResponse = await model.invoke(\"Find information about OpenAI\", {\n*   tools: [tools.webSearch({\n*     externalWebAccess: false,\n*   })],\n* });\n* ```\n*/\nfunction webSearch(options) {\n\treturn {\n\t\ttype: \"web_search\",\n\t\tfilters: options?.filters?.allowedDomains ? { allowed_domains: options.filters.allowedDomains } : void 0,\n\t\tuser_location: options?.userLocation,\n\t\tsearch_context_size: options?.search_context_size\n\t};\n}\n\n//#endregion\n\n//# sourceMappingURL=webSearch.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L3Rvb2xzL3dlYlNlYXJjaC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsb0JBQW9CO0FBQy9CO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0Qsa0RBQWtEO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3FCO0FBQ3JCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L3Rvb2xzL3dlYlNlYXJjaC5qcz83OTFmIl0sInNvdXJjZXNDb250ZW50IjpbIi8vI3JlZ2lvbiBzcmMvdG9vbHMvd2ViU2VhcmNoLnRzXG4vKipcbiogQ3JlYXRlcyBhIHdlYiBzZWFyY2ggdG9vbCB0aGF0IGFsbG93cyBPcGVuQUkgbW9kZWxzIHRvIHNlYXJjaCB0aGUgd2ViXG4qIGZvciB1cC10by1kYXRlIGluZm9ybWF0aW9uIGJlZm9yZSBnZW5lcmF0aW5nIGEgcmVzcG9uc2UuXG4qXG4qIFdlYiBzZWFyY2ggc3VwcG9ydHMgdGhyZWUgbWFpbiB0eXBlczpcbiogMS4gKipOb24tcmVhc29uaW5nIHdlYiBzZWFyY2gqKjogUXVpY2sgbG9va3VwcyB3aGVyZSB0aGUgbW9kZWwgcGFzc2VzIHF1ZXJpZXNcbiogICAgZGlyZWN0bHkgdG8gdGhlIHNlYXJjaCB0b29sLlxuKiAyLiAqKkFnZW50aWMgc2VhcmNoIHdpdGggcmVhc29uaW5nIG1vZGVscyoqOiBUaGUgbW9kZWwgYWN0aXZlbHkgbWFuYWdlcyB0aGVcbiogICAgc2VhcmNoIHByb2Nlc3MsIGFuYWx5emluZyByZXN1bHRzIGFuZCBkZWNpZGluZyB3aGV0aGVyIHRvIGtlZXAgc2VhcmNoaW5nLlxuKiAzLiAqKkRlZXAgcmVzZWFyY2gqKjogRXh0ZW5kZWQgaW52ZXN0aWdhdGlvbnMgdXNpbmcgbW9kZWxzIGxpa2UgYG8zLWRlZXAtcmVzZWFyY2hgXG4qICAgIG9yIGBncHQtNWAgd2l0aCBoaWdoIHJlYXNvbmluZyBlZmZvcnQuXG4qXG4qIEBzZWUge0BsaW5rIGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy90b29scy13ZWItc2VhcmNoIHwgT3BlbkFJIFdlYiBTZWFyY2ggRG9jdW1lbnRhdGlvbn1cbiogQHBhcmFtIG9wdGlvbnMgLSBDb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHRoZSB3ZWIgc2VhcmNoIHRvb2xcbiogQHJldHVybnMgQSB3ZWIgc2VhcmNoIHRvb2wgZGVmaW5pdGlvbiB0byBiZSBwYXNzZWQgdG8gdGhlIE9wZW5BSSBSZXNwb25zZXMgQVBJXG4qXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogaW1wb3J0IHsgQ2hhdE9wZW5BSSwgdG9vbHMgfSBmcm9tIFwiQGxhbmdjaGFpbi9vcGVuYWlcIjtcbipcbiogY29uc3QgbW9kZWwgPSBuZXcgQ2hhdE9wZW5BSSh7XG4qICAgbW9kZWw6IFwiZ3B0LTRvXCIsXG4qIH0pO1xuKlxuKiAvLyBCYXNpYyB1c2FnZVxuKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IG1vZGVsLmludm9rZShcIldoYXQgd2FzIGEgcG9zaXRpdmUgbmV3cyBzdG9yeSBmcm9tIHRvZGF5P1wiLCB7XG4qICAgdG9vbHM6IFt0b29scy53ZWJTZWFyY2goKV0sXG4qIH0pO1xuKlxuKiAvLyBXaXRoIGRvbWFpbiBmaWx0ZXJpbmdcbiogY29uc3QgZmlsdGVyZWRSZXNwb25zZSA9IGF3YWl0IG1vZGVsLmludm9rZShcIkxhdGVzdCBBSSByZXNlYXJjaCBuZXdzXCIsIHtcbiogICB0b29sczogW3Rvb2xzLndlYlNlYXJjaCh7XG4qICAgICBmaWx0ZXJzOiB7XG4qICAgICAgIGFsbG93ZWREb21haW5zOiBbXCJhcnhpdi5vcmdcIiwgXCJuYXR1cmUuY29tXCIsIFwic2NpZW5jZS5vcmdcIl0sXG4qICAgICB9LFxuKiAgIH0pXSxcbiogfSk7XG4qXG4qIC8vIFdpdGggdXNlciBsb2NhdGlvbiBmb3IgZ2VvZ3JhcGhpYyByZWxldmFuY2VcbiogY29uc3QgbG9jYWxSZXNwb25zZSA9IGF3YWl0IG1vZGVsLmludm9rZShcIldoYXQgYXJlIHRoZSBiZXN0IHJlc3RhdXJhbnRzIG5lYXIgbWU/XCIsIHtcbiogICB0b29sczogW3Rvb2xzLndlYlNlYXJjaCh7XG4qICAgICB1c2VyTG9jYXRpb246IHtcbiogICAgICAgdHlwZTogXCJhcHByb3hpbWF0ZVwiLFxuKiAgICAgICBjb3VudHJ5OiBcIlVTXCIsXG4qICAgICAgIGNpdHk6IFwiU2FuIEZyYW5jaXNjb1wiLFxuKiAgICAgICByZWdpb246IFwiQ2FsaWZvcm5pYVwiLFxuKiAgICAgICB0aW1lem9uZTogXCJBbWVyaWNhL0xvc19BbmdlbGVzXCIsXG4qICAgICB9LFxuKiAgIH0pXSxcbiogfSk7XG4qXG4qIC8vIENhY2hlLW9ubHkgbW9kZSAobm8gbGl2ZSBpbnRlcm5ldCBhY2Nlc3MpXG4qIGNvbnN0IGNhY2hlZFJlc3BvbnNlID0gYXdhaXQgbW9kZWwuaW52b2tlKFwiRmluZCBpbmZvcm1hdGlvbiBhYm91dCBPcGVuQUlcIiwge1xuKiAgIHRvb2xzOiBbdG9vbHMud2ViU2VhcmNoKHtcbiogICAgIGV4dGVybmFsV2ViQWNjZXNzOiBmYWxzZSxcbiogICB9KV0sXG4qIH0pO1xuKiBgYGBcbiovXG5mdW5jdGlvbiB3ZWJTZWFyY2gob3B0aW9ucykge1xuXHRyZXR1cm4ge1xuXHRcdHR5cGU6IFwid2ViX3NlYXJjaFwiLFxuXHRcdGZpbHRlcnM6IG9wdGlvbnM/LmZpbHRlcnM/LmFsbG93ZWREb21haW5zID8geyBhbGxvd2VkX2RvbWFpbnM6IG9wdGlvbnMuZmlsdGVycy5hbGxvd2VkRG9tYWlucyB9IDogdm9pZCAwLFxuXHRcdHVzZXJfbG9jYXRpb246IG9wdGlvbnM/LnVzZXJMb2NhdGlvbixcblx0XHRzZWFyY2hfY29udGV4dF9zaXplOiBvcHRpb25zPy5zZWFyY2hfY29udGV4dF9zaXplXG5cdH07XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgd2ViU2VhcmNoIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD13ZWJTZWFyY2guanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/tools/webSearch.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/azure.js":
/*!*****************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/azure.js ***!
  \*****************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getEndpoint: () => (/* binding */ getEndpoint),\n/* harmony export */   getFormattedEnv: () => (/* binding */ getFormattedEnv),\n/* harmony export */   getHeadersWithUserAgent: () => (/* binding */ getHeadersWithUserAgent),\n/* harmony export */   isHeaders: () => (/* binding */ isHeaders),\n/* harmony export */   normalizeHeaders: () => (/* binding */ normalizeHeaders)\n/* harmony export */ });\n/* harmony import */ var _misc_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./misc.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/misc.js\");\n/* harmony import */ var _langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @langchain/core/utils/env */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/env.js\");\n\n\n\n//#region src/utils/azure.ts\n/**\n* This function generates an endpoint URL for (Azure) OpenAI\n* based on the configuration parameters provided.\n*\n* @param {OpenAIEndpointConfig} config - The configuration object for the (Azure) endpoint.\n*\n* @property {string} config.azureOpenAIApiDeploymentName - The deployment name of Azure OpenAI.\n* @property {string} config.azureOpenAIApiInstanceName - The instance name of Azure OpenAI, e.g. `example-resource`.\n* @property {string} config.azureOpenAIApiKey - The API Key for Azure OpenAI.\n* @property {string} config.azureOpenAIBasePath - The base path for Azure OpenAI, e.g. `https://example-resource.azure.openai.com/openai/deployments/`.\n* @property {string} config.baseURL - Some other custom base path URL.\n* @property {string} config.azureOpenAIEndpoint - The endpoint for the Azure OpenAI instance, e.g. `https://example-resource.azure.openai.com/`.\n*\n* The function operates as follows:\n* - If both `azureOpenAIBasePath` and `azureOpenAIApiDeploymentName` (plus `azureOpenAIApiKey`) are provided, it returns an URL combining these two parameters (`${azureOpenAIBasePath}/${azureOpenAIApiDeploymentName}`).\n* - If both `azureOpenAIEndpoint` and `azureOpenAIApiDeploymentName` (plus `azureOpenAIApiKey`) are provided, it returns an URL combining these two parameters (`${azureOpenAIEndpoint}/openai/deployments/${azureOpenAIApiDeploymentName}`).\n* - If `azureOpenAIApiKey` is provided, it checks for `azureOpenAIApiInstanceName` and `azureOpenAIApiDeploymentName` and throws an error if any of these is missing. If both are provided, it generates an URL incorporating these parameters.\n* - If none of the above conditions are met, return any custom `baseURL`.\n* - The function returns the generated URL as a string, or undefined if no custom paths are specified.\n*\n* @throws Will throw an error if the necessary parameters for generating the URL are missing.\n*\n* @returns {string | undefined} The generated (Azure) OpenAI endpoint URL.\n*/\nfunction getEndpoint(config) {\n\tconst { azureOpenAIApiDeploymentName, azureOpenAIApiInstanceName, azureOpenAIApiKey, azureOpenAIBasePath, baseURL, azureADTokenProvider, azureOpenAIEndpoint } = config;\n\tif ((azureOpenAIApiKey || azureADTokenProvider) && azureOpenAIBasePath && azureOpenAIApiDeploymentName) return `${azureOpenAIBasePath}/${azureOpenAIApiDeploymentName}`;\n\tif ((azureOpenAIApiKey || azureADTokenProvider) && azureOpenAIEndpoint && azureOpenAIApiDeploymentName) return `${azureOpenAIEndpoint}/openai/deployments/${azureOpenAIApiDeploymentName}`;\n\tif (azureOpenAIApiKey || azureADTokenProvider) {\n\t\tif (!azureOpenAIApiInstanceName) throw new Error(\"azureOpenAIApiInstanceName is required when using azureOpenAIApiKey\");\n\t\tif (!azureOpenAIApiDeploymentName) throw new Error(\"azureOpenAIApiDeploymentName is a required parameter when using azureOpenAIApiKey\");\n\t\treturn `https://${azureOpenAIApiInstanceName}.openai.azure.com/openai/deployments/${azureOpenAIApiDeploymentName}`;\n\t}\n\treturn baseURL;\n}\nfunction isHeaders(headers) {\n\treturn typeof Headers !== \"undefined\" && headers !== null && typeof headers === \"object\" && Object.prototype.toString.call(headers) === \"[object Headers]\";\n}\n/**\n* Normalizes various header formats into a consistent Record format.\n*\n* This function accepts headers in multiple formats and converts them to a\n* Record<string, HeaderValue | readonly HeaderValue[]> for consistent handling.\n*\n* @param headers - The headers to normalize. Can be:\n*   - A Headers instance\n*   - An array of [key, value] pairs\n*   - A plain object with string keys\n*   - A NullableHeaders-like object with a 'values' property containing Headers\n*   - null or undefined\n* @returns A normalized Record containing the header key-value pairs\n*\n* @example\n* ```ts\n* // With Headers instance\n* const headers1 = new Headers([['content-type', 'application/json']]);\n* const normalized1 = normalizeHeaders(headers1);\n*\n* // With plain object\n* const headers2 = { 'content-type': 'application/json' };\n* const normalized2 = normalizeHeaders(headers2);\n*\n* // With array of pairs\n* const headers3 = [['content-type', 'application/json']];\n* const normalized3 = normalizeHeaders(headers3);\n* ```\n*/\nfunction normalizeHeaders(headers) {\n\tconst output = (0,_misc_js__WEBPACK_IMPORTED_MODULE_0__.iife)(() => {\n\t\tif (isHeaders(headers)) return headers;\n\t\telse if (Array.isArray(headers)) return new Headers(headers);\n\t\telse if (typeof headers === \"object\" && headers !== null && \"values\" in headers && isHeaders(headers.values)) return headers.values;\n\t\telse if (typeof headers === \"object\" && headers !== null) {\n\t\t\tconst entries = Object.entries(headers).filter(([, v]) => typeof v === \"string\").map(([k, v]) => [k, v]);\n\t\t\treturn new Headers(entries);\n\t\t}\n\t\treturn new Headers();\n\t});\n\treturn Object.fromEntries(output.entries());\n}\nfunction getFormattedEnv() {\n\tlet env = (0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_1__.getEnv)();\n\tif (env === \"node\" || env === \"deno\") env = `(${env}/${process.version}; ${process.platform}; ${process.arch})`;\n\treturn env;\n}\nfunction getHeadersWithUserAgent(headers, isAzure = false, version = \"1.0.0\") {\n\tconst normalizedHeaders = normalizeHeaders(headers);\n\tconst env = getFormattedEnv();\n\tconst library = `langchainjs${isAzure ? \"-azure\" : \"\"}-openai`;\n\treturn {\n\t\t...normalizedHeaders,\n\t\t\"User-Agent\": normalizedHeaders[\"User-Agent\"] ? `${library}/${version} (${env})${normalizedHeaders[\"User-Agent\"]}` : `${library}/${version} (${env})`\n\t};\n}\n\n//#endregion\n\n//# sourceMappingURL=azure.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L3V0aWxzL2F6dXJlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBaUM7QUFDa0I7O0FBRW5EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLHNCQUFzQjtBQUNoQztBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQSxtS0FBbUssb0JBQW9CLEdBQUcsNkJBQTZCO0FBQ3ZOLG1LQUFtSyxvQkFBb0Isc0JBQXNCLDZCQUE2QjtBQUMxTztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLG9CQUFvQjtBQUNoQztBQUNBO0FBQ0EsU0FBUyx1SkFBdUo7QUFDaEssbUhBQW1ILG9CQUFvQixHQUFHLDZCQUE2QjtBQUN2SyxtSEFBbUgsb0JBQW9CLHNCQUFzQiw2QkFBNkI7QUFDMUw7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDJCQUEyQix1Q0FBdUMsNkJBQTZCO0FBQ25IO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDhDQUFJO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpRUFBTTtBQUNqQixpREFBaUQsSUFBSSxHQUFHLGtCQUFrQixFQUFFLG1CQUFtQixFQUFFLGFBQWE7QUFDOUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQix3QkFBd0I7QUFDdkQ7QUFDQTtBQUNBLHFEQUFxRCxRQUFRLEdBQUcsU0FBUyxHQUFHLElBQUksR0FBRyxnQ0FBZ0MsT0FBTyxRQUFRLEdBQUcsU0FBUyxHQUFHLElBQUk7QUFDcko7QUFDQTs7QUFFQTtBQUM4RjtBQUM5RiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitvcGVuYWlAMS4yLjNfQGxhbmdjaGFpbitjb3JlQDEuMS4xNy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9vcGVuYWkvZGlzdC91dGlscy9henVyZS5qcz80ODExIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlpZmUgfSBmcm9tIFwiLi9taXNjLmpzXCI7XG5pbXBvcnQgeyBnZXRFbnYgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3V0aWxzL2VudlwiO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL2F6dXJlLnRzXG4vKipcbiogVGhpcyBmdW5jdGlvbiBnZW5lcmF0ZXMgYW4gZW5kcG9pbnQgVVJMIGZvciAoQXp1cmUpIE9wZW5BSVxuKiBiYXNlZCBvbiB0aGUgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzIHByb3ZpZGVkLlxuKlxuKiBAcGFyYW0ge09wZW5BSUVuZHBvaW50Q29uZmlnfSBjb25maWcgLSBUaGUgY29uZmlndXJhdGlvbiBvYmplY3QgZm9yIHRoZSAoQXp1cmUpIGVuZHBvaW50LlxuKlxuKiBAcHJvcGVydHkge3N0cmluZ30gY29uZmlnLmF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWUgLSBUaGUgZGVwbG95bWVudCBuYW1lIG9mIEF6dXJlIE9wZW5BSS5cbiogQHByb3BlcnR5IHtzdHJpbmd9IGNvbmZpZy5henVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZSAtIFRoZSBpbnN0YW5jZSBuYW1lIG9mIEF6dXJlIE9wZW5BSSwgZS5nLiBgZXhhbXBsZS1yZXNvdXJjZWAuXG4qIEBwcm9wZXJ0eSB7c3RyaW5nfSBjb25maWcuYXp1cmVPcGVuQUlBcGlLZXkgLSBUaGUgQVBJIEtleSBmb3IgQXp1cmUgT3BlbkFJLlxuKiBAcHJvcGVydHkge3N0cmluZ30gY29uZmlnLmF6dXJlT3BlbkFJQmFzZVBhdGggLSBUaGUgYmFzZSBwYXRoIGZvciBBenVyZSBPcGVuQUksIGUuZy4gYGh0dHBzOi8vZXhhbXBsZS1yZXNvdXJjZS5henVyZS5vcGVuYWkuY29tL29wZW5haS9kZXBsb3ltZW50cy9gLlxuKiBAcHJvcGVydHkge3N0cmluZ30gY29uZmlnLmJhc2VVUkwgLSBTb21lIG90aGVyIGN1c3RvbSBiYXNlIHBhdGggVVJMLlxuKiBAcHJvcGVydHkge3N0cmluZ30gY29uZmlnLmF6dXJlT3BlbkFJRW5kcG9pbnQgLSBUaGUgZW5kcG9pbnQgZm9yIHRoZSBBenVyZSBPcGVuQUkgaW5zdGFuY2UsIGUuZy4gYGh0dHBzOi8vZXhhbXBsZS1yZXNvdXJjZS5henVyZS5vcGVuYWkuY29tL2AuXG4qXG4qIFRoZSBmdW5jdGlvbiBvcGVyYXRlcyBhcyBmb2xsb3dzOlxuKiAtIElmIGJvdGggYGF6dXJlT3BlbkFJQmFzZVBhdGhgIGFuZCBgYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZWAgKHBsdXMgYGF6dXJlT3BlbkFJQXBpS2V5YCkgYXJlIHByb3ZpZGVkLCBpdCByZXR1cm5zIGFuIFVSTCBjb21iaW5pbmcgdGhlc2UgdHdvIHBhcmFtZXRlcnMgKGAke2F6dXJlT3BlbkFJQmFzZVBhdGh9LyR7YXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZX1gKS5cbiogLSBJZiBib3RoIGBhenVyZU9wZW5BSUVuZHBvaW50YCBhbmQgYGF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWVgIChwbHVzIGBhenVyZU9wZW5BSUFwaUtleWApIGFyZSBwcm92aWRlZCwgaXQgcmV0dXJucyBhbiBVUkwgY29tYmluaW5nIHRoZXNlIHR3byBwYXJhbWV0ZXJzIChgJHthenVyZU9wZW5BSUVuZHBvaW50fS9vcGVuYWkvZGVwbG95bWVudHMvJHthenVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lfWApLlxuKiAtIElmIGBhenVyZU9wZW5BSUFwaUtleWAgaXMgcHJvdmlkZWQsIGl0IGNoZWNrcyBmb3IgYGF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lYCBhbmQgYGF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWVgIGFuZCB0aHJvd3MgYW4gZXJyb3IgaWYgYW55IG9mIHRoZXNlIGlzIG1pc3NpbmcuIElmIGJvdGggYXJlIHByb3ZpZGVkLCBpdCBnZW5lcmF0ZXMgYW4gVVJMIGluY29ycG9yYXRpbmcgdGhlc2UgcGFyYW1ldGVycy5cbiogLSBJZiBub25lIG9mIHRoZSBhYm92ZSBjb25kaXRpb25zIGFyZSBtZXQsIHJldHVybiBhbnkgY3VzdG9tIGBiYXNlVVJMYC5cbiogLSBUaGUgZnVuY3Rpb24gcmV0dXJucyB0aGUgZ2VuZXJhdGVkIFVSTCBhcyBhIHN0cmluZywgb3IgdW5kZWZpbmVkIGlmIG5vIGN1c3RvbSBwYXRocyBhcmUgc3BlY2lmaWVkLlxuKlxuKiBAdGhyb3dzIFdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIG5lY2Vzc2FyeSBwYXJhbWV0ZXJzIGZvciBnZW5lcmF0aW5nIHRoZSBVUkwgYXJlIG1pc3NpbmcuXG4qXG4qIEByZXR1cm5zIHtzdHJpbmcgfCB1bmRlZmluZWR9IFRoZSBnZW5lcmF0ZWQgKEF6dXJlKSBPcGVuQUkgZW5kcG9pbnQgVVJMLlxuKi9cbmZ1bmN0aW9uIGdldEVuZHBvaW50KGNvbmZpZykge1xuXHRjb25zdCB7IGF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWUsIGF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lLCBhenVyZU9wZW5BSUFwaUtleSwgYXp1cmVPcGVuQUlCYXNlUGF0aCwgYmFzZVVSTCwgYXp1cmVBRFRva2VuUHJvdmlkZXIsIGF6dXJlT3BlbkFJRW5kcG9pbnQgfSA9IGNvbmZpZztcblx0aWYgKChhenVyZU9wZW5BSUFwaUtleSB8fCBhenVyZUFEVG9rZW5Qcm92aWRlcikgJiYgYXp1cmVPcGVuQUlCYXNlUGF0aCAmJiBhenVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lKSByZXR1cm4gYCR7YXp1cmVPcGVuQUlCYXNlUGF0aH0vJHthenVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lfWA7XG5cdGlmICgoYXp1cmVPcGVuQUlBcGlLZXkgfHwgYXp1cmVBRFRva2VuUHJvdmlkZXIpICYmIGF6dXJlT3BlbkFJRW5kcG9pbnQgJiYgYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSkgcmV0dXJuIGAke2F6dXJlT3BlbkFJRW5kcG9pbnR9L29wZW5haS9kZXBsb3ltZW50cy8ke2F6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWV9YDtcblx0aWYgKGF6dXJlT3BlbkFJQXBpS2V5IHx8IGF6dXJlQURUb2tlblByb3ZpZGVyKSB7XG5cdFx0aWYgKCFhenVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZSkgdGhyb3cgbmV3IEVycm9yKFwiYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWUgaXMgcmVxdWlyZWQgd2hlbiB1c2luZyBhenVyZU9wZW5BSUFwaUtleVwiKTtcblx0XHRpZiAoIWF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWUpIHRocm93IG5ldyBFcnJvcihcImF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWUgaXMgYSByZXF1aXJlZCBwYXJhbWV0ZXIgd2hlbiB1c2luZyBhenVyZU9wZW5BSUFwaUtleVwiKTtcblx0XHRyZXR1cm4gYGh0dHBzOi8vJHthenVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZX0ub3BlbmFpLmF6dXJlLmNvbS9vcGVuYWkvZGVwbG95bWVudHMvJHthenVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lfWA7XG5cdH1cblx0cmV0dXJuIGJhc2VVUkw7XG59XG5mdW5jdGlvbiBpc0hlYWRlcnMoaGVhZGVycykge1xuXHRyZXR1cm4gdHlwZW9mIEhlYWRlcnMgIT09IFwidW5kZWZpbmVkXCIgJiYgaGVhZGVycyAhPT0gbnVsbCAmJiB0eXBlb2YgaGVhZGVycyA9PT0gXCJvYmplY3RcIiAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaGVhZGVycykgPT09IFwiW29iamVjdCBIZWFkZXJzXVwiO1xufVxuLyoqXG4qIE5vcm1hbGl6ZXMgdmFyaW91cyBoZWFkZXIgZm9ybWF0cyBpbnRvIGEgY29uc2lzdGVudCBSZWNvcmQgZm9ybWF0LlxuKlxuKiBUaGlzIGZ1bmN0aW9uIGFjY2VwdHMgaGVhZGVycyBpbiBtdWx0aXBsZSBmb3JtYXRzIGFuZCBjb252ZXJ0cyB0aGVtIHRvIGFcbiogUmVjb3JkPHN0cmluZywgSGVhZGVyVmFsdWUgfCByZWFkb25seSBIZWFkZXJWYWx1ZVtdPiBmb3IgY29uc2lzdGVudCBoYW5kbGluZy5cbipcbiogQHBhcmFtIGhlYWRlcnMgLSBUaGUgaGVhZGVycyB0byBub3JtYWxpemUuIENhbiBiZTpcbiogICAtIEEgSGVhZGVycyBpbnN0YW5jZVxuKiAgIC0gQW4gYXJyYXkgb2YgW2tleSwgdmFsdWVdIHBhaXJzXG4qICAgLSBBIHBsYWluIG9iamVjdCB3aXRoIHN0cmluZyBrZXlzXG4qICAgLSBBIE51bGxhYmxlSGVhZGVycy1saWtlIG9iamVjdCB3aXRoIGEgJ3ZhbHVlcycgcHJvcGVydHkgY29udGFpbmluZyBIZWFkZXJzXG4qICAgLSBudWxsIG9yIHVuZGVmaW5lZFxuKiBAcmV0dXJucyBBIG5vcm1hbGl6ZWQgUmVjb3JkIGNvbnRhaW5pbmcgdGhlIGhlYWRlciBrZXktdmFsdWUgcGFpcnNcbipcbiogQGV4YW1wbGVcbiogYGBgdHNcbiogLy8gV2l0aCBIZWFkZXJzIGluc3RhbmNlXG4qIGNvbnN0IGhlYWRlcnMxID0gbmV3IEhlYWRlcnMoW1snY29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nXV0pO1xuKiBjb25zdCBub3JtYWxpemVkMSA9IG5vcm1hbGl6ZUhlYWRlcnMoaGVhZGVyczEpO1xuKlxuKiAvLyBXaXRoIHBsYWluIG9iamVjdFxuKiBjb25zdCBoZWFkZXJzMiA9IHsgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9O1xuKiBjb25zdCBub3JtYWxpemVkMiA9IG5vcm1hbGl6ZUhlYWRlcnMoaGVhZGVyczIpO1xuKlxuKiAvLyBXaXRoIGFycmF5IG9mIHBhaXJzXG4qIGNvbnN0IGhlYWRlcnMzID0gW1snY29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nXV07XG4qIGNvbnN0IG5vcm1hbGl6ZWQzID0gbm9ybWFsaXplSGVhZGVycyhoZWFkZXJzMyk7XG4qIGBgYFxuKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZUhlYWRlcnMoaGVhZGVycykge1xuXHRjb25zdCBvdXRwdXQgPSBpaWZlKCgpID0+IHtcblx0XHRpZiAoaXNIZWFkZXJzKGhlYWRlcnMpKSByZXR1cm4gaGVhZGVycztcblx0XHRlbHNlIGlmIChBcnJheS5pc0FycmF5KGhlYWRlcnMpKSByZXR1cm4gbmV3IEhlYWRlcnMoaGVhZGVycyk7XG5cdFx0ZWxzZSBpZiAodHlwZW9mIGhlYWRlcnMgPT09IFwib2JqZWN0XCIgJiYgaGVhZGVycyAhPT0gbnVsbCAmJiBcInZhbHVlc1wiIGluIGhlYWRlcnMgJiYgaXNIZWFkZXJzKGhlYWRlcnMudmFsdWVzKSkgcmV0dXJuIGhlYWRlcnMudmFsdWVzO1xuXHRcdGVsc2UgaWYgKHR5cGVvZiBoZWFkZXJzID09PSBcIm9iamVjdFwiICYmIGhlYWRlcnMgIT09IG51bGwpIHtcblx0XHRcdGNvbnN0IGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhoZWFkZXJzKS5maWx0ZXIoKFssIHZdKSA9PiB0eXBlb2YgdiA9PT0gXCJzdHJpbmdcIikubWFwKChbaywgdl0pID0+IFtrLCB2XSk7XG5cdFx0XHRyZXR1cm4gbmV3IEhlYWRlcnMoZW50cmllcyk7XG5cdFx0fVxuXHRcdHJldHVybiBuZXcgSGVhZGVycygpO1xuXHR9KTtcblx0cmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhvdXRwdXQuZW50cmllcygpKTtcbn1cbmZ1bmN0aW9uIGdldEZvcm1hdHRlZEVudigpIHtcblx0bGV0IGVudiA9IGdldEVudigpO1xuXHRpZiAoZW52ID09PSBcIm5vZGVcIiB8fCBlbnYgPT09IFwiZGVub1wiKSBlbnYgPSBgKCR7ZW52fS8ke3Byb2Nlc3MudmVyc2lvbn07ICR7cHJvY2Vzcy5wbGF0Zm9ybX07ICR7cHJvY2Vzcy5hcmNofSlgO1xuXHRyZXR1cm4gZW52O1xufVxuZnVuY3Rpb24gZ2V0SGVhZGVyc1dpdGhVc2VyQWdlbnQoaGVhZGVycywgaXNBenVyZSA9IGZhbHNlLCB2ZXJzaW9uID0gXCIxLjAuMFwiKSB7XG5cdGNvbnN0IG5vcm1hbGl6ZWRIZWFkZXJzID0gbm9ybWFsaXplSGVhZGVycyhoZWFkZXJzKTtcblx0Y29uc3QgZW52ID0gZ2V0Rm9ybWF0dGVkRW52KCk7XG5cdGNvbnN0IGxpYnJhcnkgPSBgbGFuZ2NoYWluanMke2lzQXp1cmUgPyBcIi1henVyZVwiIDogXCJcIn0tb3BlbmFpYDtcblx0cmV0dXJuIHtcblx0XHQuLi5ub3JtYWxpemVkSGVhZGVycyxcblx0XHRcIlVzZXItQWdlbnRcIjogbm9ybWFsaXplZEhlYWRlcnNbXCJVc2VyLUFnZW50XCJdID8gYCR7bGlicmFyeX0vJHt2ZXJzaW9ufSAoJHtlbnZ9KSR7bm9ybWFsaXplZEhlYWRlcnNbXCJVc2VyLUFnZW50XCJdfWAgOiBgJHtsaWJyYXJ5fS8ke3ZlcnNpb259ICgke2Vudn0pYFxuXHR9O1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IGdldEVuZHBvaW50LCBnZXRGb3JtYXR0ZWRFbnYsIGdldEhlYWRlcnNXaXRoVXNlckFnZW50LCBpc0hlYWRlcnMsIG5vcm1hbGl6ZUhlYWRlcnMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF6dXJlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/azure.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/client.js":
/*!******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/client.js ***!
  \******************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   wrapOpenAIClientError: () => (/* binding */ wrapOpenAIClientError)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./errors.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/errors.js\");\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! openai */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+openai@6.16.0_zod@4.3.6/node_modules/openai/index.mjs\");\n\n\n\n//#region src/utils/client.ts\nfunction wrapOpenAIClientError(e) {\n\tif (!e || typeof e !== \"object\") return e;\n\tlet error;\n\tif (e.constructor.name === openai__WEBPACK_IMPORTED_MODULE_1__.APIConnectionTimeoutError.name && \"message\" in e && typeof e.message === \"string\") {\n\t\terror = new Error(e.message);\n\t\terror.name = \"TimeoutError\";\n\t} else if (e.constructor.name === openai__WEBPACK_IMPORTED_MODULE_1__.APIUserAbortError.name && \"message\" in e && typeof e.message === \"string\") {\n\t\terror = new Error(e.message);\n\t\terror.name = \"AbortError\";\n\t} else if (\"status\" in e && e.status === 400 && \"message\" in e && typeof e.message === \"string\" && e.message.includes(\"tool_calls\")) error = (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.addLangChainErrorFields)(e, \"INVALID_TOOL_RESULTS\");\n\telse if (\"status\" in e && e.status === 401) error = (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.addLangChainErrorFields)(e, \"MODEL_AUTHENTICATION\");\n\telse if (\"status\" in e && e.status === 429) error = (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.addLangChainErrorFields)(e, \"MODEL_RATE_LIMIT\");\n\telse if (\"status\" in e && e.status === 404) error = (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.addLangChainErrorFields)(e, \"MODEL_NOT_FOUND\");\n\telse error = e;\n\treturn error;\n}\n\n//#endregion\n\n//# sourceMappingURL=client.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L3V0aWxzL2NsaWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBc0Q7QUFDZ0I7O0FBRXRFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDZEQUF5QjtBQUNyRDtBQUNBO0FBQ0EsR0FBRyxnQ0FBZ0MscURBQWlCO0FBQ3BEO0FBQ0E7QUFDQSxHQUFHLDJJQUEySSxtRUFBdUI7QUFDcksscURBQXFELG1FQUF1QjtBQUM1RSxxREFBcUQsbUVBQXVCO0FBQzVFLHFEQUFxRCxtRUFBdUI7QUFDNUU7QUFDQTtBQUNBOztBQUVBO0FBQ2lDO0FBQ2pDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L3V0aWxzL2NsaWVudC5qcz9mZmM2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFkZExhbmdDaGFpbkVycm9yRmllbGRzIH0gZnJvbSBcIi4vZXJyb3JzLmpzXCI7XG5pbXBvcnQgeyBBUElDb25uZWN0aW9uVGltZW91dEVycm9yLCBBUElVc2VyQWJvcnRFcnJvciB9IGZyb20gXCJvcGVuYWlcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy9jbGllbnQudHNcbmZ1bmN0aW9uIHdyYXBPcGVuQUlDbGllbnRFcnJvcihlKSB7XG5cdGlmICghZSB8fCB0eXBlb2YgZSAhPT0gXCJvYmplY3RcIikgcmV0dXJuIGU7XG5cdGxldCBlcnJvcjtcblx0aWYgKGUuY29uc3RydWN0b3IubmFtZSA9PT0gQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvci5uYW1lICYmIFwibWVzc2FnZVwiIGluIGUgJiYgdHlwZW9mIGUubWVzc2FnZSA9PT0gXCJzdHJpbmdcIikge1xuXHRcdGVycm9yID0gbmV3IEVycm9yKGUubWVzc2FnZSk7XG5cdFx0ZXJyb3IubmFtZSA9IFwiVGltZW91dEVycm9yXCI7XG5cdH0gZWxzZSBpZiAoZS5jb25zdHJ1Y3Rvci5uYW1lID09PSBBUElVc2VyQWJvcnRFcnJvci5uYW1lICYmIFwibWVzc2FnZVwiIGluIGUgJiYgdHlwZW9mIGUubWVzc2FnZSA9PT0gXCJzdHJpbmdcIikge1xuXHRcdGVycm9yID0gbmV3IEVycm9yKGUubWVzc2FnZSk7XG5cdFx0ZXJyb3IubmFtZSA9IFwiQWJvcnRFcnJvclwiO1xuXHR9IGVsc2UgaWYgKFwic3RhdHVzXCIgaW4gZSAmJiBlLnN0YXR1cyA9PT0gNDAwICYmIFwibWVzc2FnZVwiIGluIGUgJiYgdHlwZW9mIGUubWVzc2FnZSA9PT0gXCJzdHJpbmdcIiAmJiBlLm1lc3NhZ2UuaW5jbHVkZXMoXCJ0b29sX2NhbGxzXCIpKSBlcnJvciA9IGFkZExhbmdDaGFpbkVycm9yRmllbGRzKGUsIFwiSU5WQUxJRF9UT09MX1JFU1VMVFNcIik7XG5cdGVsc2UgaWYgKFwic3RhdHVzXCIgaW4gZSAmJiBlLnN0YXR1cyA9PT0gNDAxKSBlcnJvciA9IGFkZExhbmdDaGFpbkVycm9yRmllbGRzKGUsIFwiTU9ERUxfQVVUSEVOVElDQVRJT05cIik7XG5cdGVsc2UgaWYgKFwic3RhdHVzXCIgaW4gZSAmJiBlLnN0YXR1cyA9PT0gNDI5KSBlcnJvciA9IGFkZExhbmdDaGFpbkVycm9yRmllbGRzKGUsIFwiTU9ERUxfUkFURV9MSU1JVFwiKTtcblx0ZWxzZSBpZiAoXCJzdGF0dXNcIiBpbiBlICYmIGUuc3RhdHVzID09PSA0MDQpIGVycm9yID0gYWRkTGFuZ0NoYWluRXJyb3JGaWVsZHMoZSwgXCJNT0RFTF9OT1RfRk9VTkRcIik7XG5cdGVsc2UgZXJyb3IgPSBlO1xuXHRyZXR1cm4gZXJyb3I7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgd3JhcE9wZW5BSUNsaWVudEVycm9yIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jbGllbnQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/client.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/errors.js":
/*!******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/errors.js ***!
  \******************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addLangChainErrorFields: () => (/* binding */ addLangChainErrorFields)\n/* harmony export */ });\n//#region src/utils/errors.ts\nfunction addLangChainErrorFields(error, lc_error_code) {\n\terror.lc_error_code = lc_error_code;\n\terror.message = `${error.message}\\n\\nTroubleshooting URL: https://docs.langchain.com/oss/javascript/langchain/errors/${lc_error_code}/\\n`;\n\treturn error;\n}\n\n//#endregion\n\n//# sourceMappingURL=errors.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L3V0aWxzL2Vycm9ycy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGNBQWMsc0ZBQXNGLGNBQWM7QUFDdEk7QUFDQTs7QUFFQTtBQUNtQztBQUNuQyIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitvcGVuYWlAMS4yLjNfQGxhbmdjaGFpbitjb3JlQDEuMS4xNy9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9vcGVuYWkvZGlzdC91dGlscy9lcnJvcnMuanM/MDI0ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyNyZWdpb24gc3JjL3V0aWxzL2Vycm9ycy50c1xuZnVuY3Rpb24gYWRkTGFuZ0NoYWluRXJyb3JGaWVsZHMoZXJyb3IsIGxjX2Vycm9yX2NvZGUpIHtcblx0ZXJyb3IubGNfZXJyb3JfY29kZSA9IGxjX2Vycm9yX2NvZGU7XG5cdGVycm9yLm1lc3NhZ2UgPSBgJHtlcnJvci5tZXNzYWdlfVxcblxcblRyb3VibGVzaG9vdGluZyBVUkw6IGh0dHBzOi8vZG9jcy5sYW5nY2hhaW4uY29tL29zcy9qYXZhc2NyaXB0L2xhbmdjaGFpbi9lcnJvcnMvJHtsY19lcnJvcl9jb2RlfS9cXG5gO1xuXHRyZXR1cm4gZXJyb3I7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgYWRkTGFuZ0NoYWluRXJyb3JGaWVsZHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9ycy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/errors.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/misc.js":
/*!****************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/misc.js ***!
  \****************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _modelPrefersResponsesAPI: () => (/* binding */ _modelPrefersResponsesAPI),\n/* harmony export */   getRequiredFilenameFromMetadata: () => (/* binding */ getRequiredFilenameFromMetadata),\n/* harmony export */   iife: () => (/* binding */ iife$1),\n/* harmony export */   isReasoningModel: () => (/* binding */ isReasoningModel),\n/* harmony export */   messageToOpenAIRole: () => (/* binding */ messageToOpenAIRole)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_messages__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/messages */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/index.js\");\n\n\n//#region src/utils/misc.ts\nconst iife$1 = (fn) => fn();\nfunction isReasoningModel(model) {\n\tif (!model) return false;\n\tif (/^o\\d/.test(model ?? \"\")) return true;\n\tif (model.startsWith(\"gpt-5\") && !model.startsWith(\"gpt-5-chat\")) return true;\n\treturn false;\n}\nfunction extractGenericMessageCustomRole(message) {\n\tif (message.role !== \"system\" && message.role !== \"developer\" && message.role !== \"assistant\" && message.role !== \"user\" && message.role !== \"function\" && message.role !== \"tool\") console.warn(`Unknown message role: ${message.role}`);\n\treturn message.role;\n}\nfunction getRequiredFilenameFromMetadata(block) {\n\tconst filename = block.metadata?.filename ?? block.metadata?.name ?? block.metadata?.title;\n\tif (!filename) throw new Error(\"a filename or name or title is needed via meta-data for OpenAI when working with multimodal blocks\");\n\treturn filename;\n}\nfunction messageToOpenAIRole(message) {\n\tconst type = message._getType();\n\tswitch (type) {\n\t\tcase \"system\": return \"system\";\n\t\tcase \"ai\": return \"assistant\";\n\t\tcase \"human\": return \"user\";\n\t\tcase \"function\": return \"function\";\n\t\tcase \"tool\": return \"tool\";\n\t\tcase \"generic\":\n\t\t\tif (!_langchain_core_messages__WEBPACK_IMPORTED_MODULE_0__.ChatMessage.isInstance(message)) throw new Error(\"Invalid generic chat message\");\n\t\t\treturn extractGenericMessageCustomRole(message);\n\t\tdefault: throw new Error(`Unknown message type: ${type}`);\n\t}\n}\nfunction _modelPrefersResponsesAPI(model) {\n\treturn model.includes(\"gpt-5.2-pro\");\n}\n\n//#endregion\n\n//# sourceMappingURL=misc.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L3V0aWxzL21pc2MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXVEOztBQUV2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyTkFBMk4sYUFBYTtBQUN4TztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQVc7QUFDbkI7QUFDQSxvREFBb0QsS0FBSztBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQzZIO0FBQzdIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L3V0aWxzL21pc2MuanM/MTUxYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDaGF0TWVzc2FnZSB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvbWVzc2FnZXNcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy9taXNjLnRzXG5jb25zdCBpaWZlJDEgPSAoZm4pID0+IGZuKCk7XG5mdW5jdGlvbiBpc1JlYXNvbmluZ01vZGVsKG1vZGVsKSB7XG5cdGlmICghbW9kZWwpIHJldHVybiBmYWxzZTtcblx0aWYgKC9eb1xcZC8udGVzdChtb2RlbCA/PyBcIlwiKSkgcmV0dXJuIHRydWU7XG5cdGlmIChtb2RlbC5zdGFydHNXaXRoKFwiZ3B0LTVcIikgJiYgIW1vZGVsLnN0YXJ0c1dpdGgoXCJncHQtNS1jaGF0XCIpKSByZXR1cm4gdHJ1ZTtcblx0cmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gZXh0cmFjdEdlbmVyaWNNZXNzYWdlQ3VzdG9tUm9sZShtZXNzYWdlKSB7XG5cdGlmIChtZXNzYWdlLnJvbGUgIT09IFwic3lzdGVtXCIgJiYgbWVzc2FnZS5yb2xlICE9PSBcImRldmVsb3BlclwiICYmIG1lc3NhZ2Uucm9sZSAhPT0gXCJhc3Npc3RhbnRcIiAmJiBtZXNzYWdlLnJvbGUgIT09IFwidXNlclwiICYmIG1lc3NhZ2Uucm9sZSAhPT0gXCJmdW5jdGlvblwiICYmIG1lc3NhZ2Uucm9sZSAhPT0gXCJ0b29sXCIpIGNvbnNvbGUud2FybihgVW5rbm93biBtZXNzYWdlIHJvbGU6ICR7bWVzc2FnZS5yb2xlfWApO1xuXHRyZXR1cm4gbWVzc2FnZS5yb2xlO1xufVxuZnVuY3Rpb24gZ2V0UmVxdWlyZWRGaWxlbmFtZUZyb21NZXRhZGF0YShibG9jaykge1xuXHRjb25zdCBmaWxlbmFtZSA9IGJsb2NrLm1ldGFkYXRhPy5maWxlbmFtZSA/PyBibG9jay5tZXRhZGF0YT8ubmFtZSA/PyBibG9jay5tZXRhZGF0YT8udGl0bGU7XG5cdGlmICghZmlsZW5hbWUpIHRocm93IG5ldyBFcnJvcihcImEgZmlsZW5hbWUgb3IgbmFtZSBvciB0aXRsZSBpcyBuZWVkZWQgdmlhIG1ldGEtZGF0YSBmb3IgT3BlbkFJIHdoZW4gd29ya2luZyB3aXRoIG11bHRpbW9kYWwgYmxvY2tzXCIpO1xuXHRyZXR1cm4gZmlsZW5hbWU7XG59XG5mdW5jdGlvbiBtZXNzYWdlVG9PcGVuQUlSb2xlKG1lc3NhZ2UpIHtcblx0Y29uc3QgdHlwZSA9IG1lc3NhZ2UuX2dldFR5cGUoKTtcblx0c3dpdGNoICh0eXBlKSB7XG5cdFx0Y2FzZSBcInN5c3RlbVwiOiByZXR1cm4gXCJzeXN0ZW1cIjtcblx0XHRjYXNlIFwiYWlcIjogcmV0dXJuIFwiYXNzaXN0YW50XCI7XG5cdFx0Y2FzZSBcImh1bWFuXCI6IHJldHVybiBcInVzZXJcIjtcblx0XHRjYXNlIFwiZnVuY3Rpb25cIjogcmV0dXJuIFwiZnVuY3Rpb25cIjtcblx0XHRjYXNlIFwidG9vbFwiOiByZXR1cm4gXCJ0b29sXCI7XG5cdFx0Y2FzZSBcImdlbmVyaWNcIjpcblx0XHRcdGlmICghQ2hhdE1lc3NhZ2UuaXNJbnN0YW5jZShtZXNzYWdlKSkgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBnZW5lcmljIGNoYXQgbWVzc2FnZVwiKTtcblx0XHRcdHJldHVybiBleHRyYWN0R2VuZXJpY01lc3NhZ2VDdXN0b21Sb2xlKG1lc3NhZ2UpO1xuXHRcdGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcihgVW5rbm93biBtZXNzYWdlIHR5cGU6ICR7dHlwZX1gKTtcblx0fVxufVxuZnVuY3Rpb24gX21vZGVsUHJlZmVyc1Jlc3BvbnNlc0FQSShtb2RlbCkge1xuXHRyZXR1cm4gbW9kZWwuaW5jbHVkZXMoXCJncHQtNS4yLXByb1wiKTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBfbW9kZWxQcmVmZXJzUmVzcG9uc2VzQVBJLCBnZXRSZXF1aXJlZEZpbGVuYW1lRnJvbU1ldGFkYXRhLCBpaWZlJDEgYXMgaWlmZSwgaXNSZWFzb25pbmdNb2RlbCwgbWVzc2FnZVRvT3BlbkFJUm9sZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWlzYy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/misc.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/output.js":
/*!******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/output.js ***!
  \******************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getStructuredOutputMethod: () => (/* binding */ getStructuredOutputMethod),\n/* harmony export */   handleMultiModalOutput: () => (/* binding */ handleMultiModalOutput),\n/* harmony export */   interopZodResponseFormat: () => (/* binding */ interopZodResponseFormat)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/utils/types */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/types/index.js\");\n/* harmony import */ var _langchain_core_utils_json_schema__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @langchain/core/utils/json_schema */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/json_schema.js\");\n/* harmony import */ var zod_v4_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zod/v4/core */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+zod@4.3.6/node_modules/zod/v4/core/index.js\");\n/* harmony import */ var openai_helpers_zod__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! openai/helpers/zod */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+openai@6.16.0_zod@4.3.6/node_modules/openai/helpers/zod.mjs\");\n\n\n\n\n\n//#region src/utils/output.ts\nconst SUPPORTED_METHODS = [\n\t\"jsonSchema\",\n\t\"functionCalling\",\n\t\"jsonMode\"\n];\n/**\n* Get the structured output method for a given model. By default, it uses\n* `jsonSchema` if the model supports it, otherwise it uses `functionCalling`.\n*\n* @throws if the method is invalid, e.g. is not a string or invalid method is provided.\n* @param model - The model name.\n* @param config - The structured output method options.\n* @returns The structured output method.\n*/\nfunction getStructuredOutputMethod(model, method) {\n\t/**\n\t* If a method is provided, validate it.\n\t*/\n\tif (typeof method !== \"undefined\" && !SUPPORTED_METHODS.includes(method)) throw new Error(`Invalid method: ${method}. Supported methods are: ${SUPPORTED_METHODS.join(\", \")}`);\n\tconst hasSupportForJsonSchema = !model.startsWith(\"gpt-3\") && !model.startsWith(\"gpt-4-\") && model !== \"gpt-4\";\n\t/**\n\t* If the model supports JSON Schema, use it by default.\n\t*/\n\tif (hasSupportForJsonSchema && !method) return \"jsonSchema\";\n\tif (!hasSupportForJsonSchema && method === \"jsonSchema\") throw new Error(`JSON Schema is not supported for model \"${model}\". Please use a different method, e.g. \"functionCalling\" or \"jsonMode\".`);\n\t/**\n\t* If the model does not support JSON Schema, use function calling by default.\n\t*/\n\treturn method ?? \"functionCalling\";\n}\nfunction makeParseableResponseFormat(response_format, parser) {\n\tconst obj = { ...response_format };\n\tObject.defineProperties(obj, {\n\t\t$brand: {\n\t\t\tvalue: \"auto-parseable-response-format\",\n\t\t\tenumerable: false\n\t\t},\n\t\t$parseRaw: {\n\t\t\tvalue: parser,\n\t\t\tenumerable: false\n\t\t}\n\t});\n\treturn obj;\n}\nfunction interopZodResponseFormat(zodSchema, name, props) {\n\tif ((0,_langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_0__.isZodSchemaV3)(zodSchema)) return (0,openai_helpers_zod__WEBPACK_IMPORTED_MODULE_3__.zodResponseFormat)(zodSchema, name, props);\n\tif ((0,_langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_0__.isZodSchemaV4)(zodSchema)) return makeParseableResponseFormat({\n\t\ttype: \"json_schema\",\n\t\tjson_schema: {\n\t\t\t...props,\n\t\t\tname,\n\t\t\tstrict: true,\n\t\t\tschema: (0,_langchain_core_utils_json_schema__WEBPACK_IMPORTED_MODULE_1__.toJsonSchema)(zodSchema, {\n\t\t\t\tcycles: \"ref\",\n\t\t\t\treused: \"ref\",\n\t\t\t\toverride(ctx) {\n\t\t\t\t\tctx.jsonSchema.title = name;\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}, (content) => (0,zod_v4_core__WEBPACK_IMPORTED_MODULE_2__.parse)(zodSchema, JSON.parse(content)));\n\tthrow new Error(\"Unsupported schema response format\");\n}\n/**\n* Handle multi modal response content.\n*\n* @param content The content of the message.\n* @param messages The messages of the response.\n* @returns The new content of the message.\n*/\nfunction handleMultiModalOutput(content, messages) {\n\t/**\n\t* Handle OpenRouter image responses\n\t* @see https://openrouter.ai/docs/features/multimodal/image-generation#api-usage\n\t*/\n\tif (messages && typeof messages === \"object\" && \"images\" in messages && Array.isArray(messages.images)) {\n\t\tconst images = messages.images.filter((image) => typeof image?.image_url?.url === \"string\").map((image) => ({\n\t\t\ttype: \"image\",\n\t\t\turl: image.image_url.url\n\t\t}));\n\t\treturn [{\n\t\t\ttype: \"text\",\n\t\t\ttext: content\n\t\t}, ...images];\n\t}\n\treturn content;\n}\n\n//#endregion\n\n//# sourceMappingURL=output.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L3V0aWxzL291dHB1dC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTJFO0FBQ1Y7QUFDN0I7QUFDbUI7O0FBRXZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEdBQThHLE9BQU8sMkJBQTJCLDZCQUE2QjtBQUM3SztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUhBQXFILE1BQU07QUFDM0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBLEtBQUssMEVBQWEsb0JBQW9CLHFFQUFpQjtBQUN2RCxLQUFLLDBFQUFhO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLCtFQUFZO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxFQUFFLGVBQWUsa0RBQUs7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDdUY7QUFDdkYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rb3BlbmFpQDEuMi4zX0BsYW5nY2hhaW4rY29yZUAxLjEuMTcvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvdXRpbHMvb3V0cHV0LmpzPzNkYTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNab2RTY2hlbWFWMywgaXNab2RTY2hlbWFWNCB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvdXRpbHMvdHlwZXNcIjtcbmltcG9ydCB7IHRvSnNvblNjaGVtYSB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvdXRpbHMvanNvbl9zY2hlbWFcIjtcbmltcG9ydCB7IHBhcnNlIH0gZnJvbSBcInpvZC92NC9jb3JlXCI7XG5pbXBvcnQgeyB6b2RSZXNwb25zZUZvcm1hdCB9IGZyb20gXCJvcGVuYWkvaGVscGVycy96b2RcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy9vdXRwdXQudHNcbmNvbnN0IFNVUFBPUlRFRF9NRVRIT0RTID0gW1xuXHRcImpzb25TY2hlbWFcIixcblx0XCJmdW5jdGlvbkNhbGxpbmdcIixcblx0XCJqc29uTW9kZVwiXG5dO1xuLyoqXG4qIEdldCB0aGUgc3RydWN0dXJlZCBvdXRwdXQgbWV0aG9kIGZvciBhIGdpdmVuIG1vZGVsLiBCeSBkZWZhdWx0LCBpdCB1c2VzXG4qIGBqc29uU2NoZW1hYCBpZiB0aGUgbW9kZWwgc3VwcG9ydHMgaXQsIG90aGVyd2lzZSBpdCB1c2VzIGBmdW5jdGlvbkNhbGxpbmdgLlxuKlxuKiBAdGhyb3dzIGlmIHRoZSBtZXRob2QgaXMgaW52YWxpZCwgZS5nLiBpcyBub3QgYSBzdHJpbmcgb3IgaW52YWxpZCBtZXRob2QgaXMgcHJvdmlkZWQuXG4qIEBwYXJhbSBtb2RlbCAtIFRoZSBtb2RlbCBuYW1lLlxuKiBAcGFyYW0gY29uZmlnIC0gVGhlIHN0cnVjdHVyZWQgb3V0cHV0IG1ldGhvZCBvcHRpb25zLlxuKiBAcmV0dXJucyBUaGUgc3RydWN0dXJlZCBvdXRwdXQgbWV0aG9kLlxuKi9cbmZ1bmN0aW9uIGdldFN0cnVjdHVyZWRPdXRwdXRNZXRob2QobW9kZWwsIG1ldGhvZCkge1xuXHQvKipcblx0KiBJZiBhIG1ldGhvZCBpcyBwcm92aWRlZCwgdmFsaWRhdGUgaXQuXG5cdCovXG5cdGlmICh0eXBlb2YgbWV0aG9kICE9PSBcInVuZGVmaW5lZFwiICYmICFTVVBQT1JURURfTUVUSE9EUy5pbmNsdWRlcyhtZXRob2QpKSB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgbWV0aG9kOiAke21ldGhvZH0uIFN1cHBvcnRlZCBtZXRob2RzIGFyZTogJHtTVVBQT1JURURfTUVUSE9EUy5qb2luKFwiLCBcIil9YCk7XG5cdGNvbnN0IGhhc1N1cHBvcnRGb3JKc29uU2NoZW1hID0gIW1vZGVsLnN0YXJ0c1dpdGgoXCJncHQtM1wiKSAmJiAhbW9kZWwuc3RhcnRzV2l0aChcImdwdC00LVwiKSAmJiBtb2RlbCAhPT0gXCJncHQtNFwiO1xuXHQvKipcblx0KiBJZiB0aGUgbW9kZWwgc3VwcG9ydHMgSlNPTiBTY2hlbWEsIHVzZSBpdCBieSBkZWZhdWx0LlxuXHQqL1xuXHRpZiAoaGFzU3VwcG9ydEZvckpzb25TY2hlbWEgJiYgIW1ldGhvZCkgcmV0dXJuIFwianNvblNjaGVtYVwiO1xuXHRpZiAoIWhhc1N1cHBvcnRGb3JKc29uU2NoZW1hICYmIG1ldGhvZCA9PT0gXCJqc29uU2NoZW1hXCIpIHRocm93IG5ldyBFcnJvcihgSlNPTiBTY2hlbWEgaXMgbm90IHN1cHBvcnRlZCBmb3IgbW9kZWwgXCIke21vZGVsfVwiLiBQbGVhc2UgdXNlIGEgZGlmZmVyZW50IG1ldGhvZCwgZS5nLiBcImZ1bmN0aW9uQ2FsbGluZ1wiIG9yIFwianNvbk1vZGVcIi5gKTtcblx0LyoqXG5cdCogSWYgdGhlIG1vZGVsIGRvZXMgbm90IHN1cHBvcnQgSlNPTiBTY2hlbWEsIHVzZSBmdW5jdGlvbiBjYWxsaW5nIGJ5IGRlZmF1bHQuXG5cdCovXG5cdHJldHVybiBtZXRob2QgPz8gXCJmdW5jdGlvbkNhbGxpbmdcIjtcbn1cbmZ1bmN0aW9uIG1ha2VQYXJzZWFibGVSZXNwb25zZUZvcm1hdChyZXNwb25zZV9mb3JtYXQsIHBhcnNlcikge1xuXHRjb25zdCBvYmogPSB7IC4uLnJlc3BvbnNlX2Zvcm1hdCB9O1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydGllcyhvYmosIHtcblx0XHQkYnJhbmQ6IHtcblx0XHRcdHZhbHVlOiBcImF1dG8tcGFyc2VhYmxlLXJlc3BvbnNlLWZvcm1hdFwiLFxuXHRcdFx0ZW51bWVyYWJsZTogZmFsc2Vcblx0XHR9LFxuXHRcdCRwYXJzZVJhdzoge1xuXHRcdFx0dmFsdWU6IHBhcnNlcixcblx0XHRcdGVudW1lcmFibGU6IGZhbHNlXG5cdFx0fVxuXHR9KTtcblx0cmV0dXJuIG9iajtcbn1cbmZ1bmN0aW9uIGludGVyb3Bab2RSZXNwb25zZUZvcm1hdCh6b2RTY2hlbWEsIG5hbWUsIHByb3BzKSB7XG5cdGlmIChpc1pvZFNjaGVtYVYzKHpvZFNjaGVtYSkpIHJldHVybiB6b2RSZXNwb25zZUZvcm1hdCh6b2RTY2hlbWEsIG5hbWUsIHByb3BzKTtcblx0aWYgKGlzWm9kU2NoZW1hVjQoem9kU2NoZW1hKSkgcmV0dXJuIG1ha2VQYXJzZWFibGVSZXNwb25zZUZvcm1hdCh7XG5cdFx0dHlwZTogXCJqc29uX3NjaGVtYVwiLFxuXHRcdGpzb25fc2NoZW1hOiB7XG5cdFx0XHQuLi5wcm9wcyxcblx0XHRcdG5hbWUsXG5cdFx0XHRzdHJpY3Q6IHRydWUsXG5cdFx0XHRzY2hlbWE6IHRvSnNvblNjaGVtYSh6b2RTY2hlbWEsIHtcblx0XHRcdFx0Y3ljbGVzOiBcInJlZlwiLFxuXHRcdFx0XHRyZXVzZWQ6IFwicmVmXCIsXG5cdFx0XHRcdG92ZXJyaWRlKGN0eCkge1xuXHRcdFx0XHRcdGN0eC5qc29uU2NoZW1hLnRpdGxlID0gbmFtZTtcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHR9XG5cdH0sIChjb250ZW50KSA9PiBwYXJzZSh6b2RTY2hlbWEsIEpTT04ucGFyc2UoY29udGVudCkpKTtcblx0dGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgc2NoZW1hIHJlc3BvbnNlIGZvcm1hdFwiKTtcbn1cbi8qKlxuKiBIYW5kbGUgbXVsdGkgbW9kYWwgcmVzcG9uc2UgY29udGVudC5cbipcbiogQHBhcmFtIGNvbnRlbnQgVGhlIGNvbnRlbnQgb2YgdGhlIG1lc3NhZ2UuXG4qIEBwYXJhbSBtZXNzYWdlcyBUaGUgbWVzc2FnZXMgb2YgdGhlIHJlc3BvbnNlLlxuKiBAcmV0dXJucyBUaGUgbmV3IGNvbnRlbnQgb2YgdGhlIG1lc3NhZ2UuXG4qL1xuZnVuY3Rpb24gaGFuZGxlTXVsdGlNb2RhbE91dHB1dChjb250ZW50LCBtZXNzYWdlcykge1xuXHQvKipcblx0KiBIYW5kbGUgT3BlblJvdXRlciBpbWFnZSByZXNwb25zZXNcblx0KiBAc2VlIGh0dHBzOi8vb3BlbnJvdXRlci5haS9kb2NzL2ZlYXR1cmVzL211bHRpbW9kYWwvaW1hZ2UtZ2VuZXJhdGlvbiNhcGktdXNhZ2Vcblx0Ki9cblx0aWYgKG1lc3NhZ2VzICYmIHR5cGVvZiBtZXNzYWdlcyA9PT0gXCJvYmplY3RcIiAmJiBcImltYWdlc1wiIGluIG1lc3NhZ2VzICYmIEFycmF5LmlzQXJyYXkobWVzc2FnZXMuaW1hZ2VzKSkge1xuXHRcdGNvbnN0IGltYWdlcyA9IG1lc3NhZ2VzLmltYWdlcy5maWx0ZXIoKGltYWdlKSA9PiB0eXBlb2YgaW1hZ2U/LmltYWdlX3VybD8udXJsID09PSBcInN0cmluZ1wiKS5tYXAoKGltYWdlKSA9PiAoe1xuXHRcdFx0dHlwZTogXCJpbWFnZVwiLFxuXHRcdFx0dXJsOiBpbWFnZS5pbWFnZV91cmwudXJsXG5cdFx0fSkpO1xuXHRcdHJldHVybiBbe1xuXHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHR0ZXh0OiBjb250ZW50XG5cdFx0fSwgLi4uaW1hZ2VzXTtcblx0fVxuXHRyZXR1cm4gY29udGVudDtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBnZXRTdHJ1Y3R1cmVkT3V0cHV0TWV0aG9kLCBoYW5kbGVNdWx0aU1vZGFsT3V0cHV0LCBpbnRlcm9wWm9kUmVzcG9uc2VGb3JtYXQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW91dHB1dC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/output.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/prompts.js":
/*!*******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/prompts.js ***!
  \*******************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   convertPromptToOpenAI: () => (/* binding */ convertPromptToOpenAI)\n/* harmony export */ });\n/* harmony import */ var _converters_completions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../converters/completions.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/converters/completions.js\");\n\n\n//#region src/utils/prompts.ts\n/**\n* Convert a formatted LangChain prompt (e.g. pulled from the hub) into\n* a format expected by OpenAI's JS SDK.\n*\n* Requires the \"@langchain/openai\" package to be installed in addition\n* to the OpenAI SDK.\n*\n* @example\n* ```ts\n* import { convertPromptToOpenAI } from \"langsmith/utils/hub/openai\";\n* import { pull } from \"langchain/hub\";\n*\n* import OpenAI from 'openai';\n*\n* const prompt = await pull(\"jacob/joke-generator\");\n* const formattedPrompt = await prompt.invoke({\n*   topic: \"cats\",\n* });\n*\n* const { messages } = convertPromptToOpenAI(formattedPrompt);\n*\n* const openAIClient = new OpenAI();\n*\n* const openaiResponse = await openAIClient.chat.completions.create({\n*   model: \"gpt-4o-mini\",\n*   messages,\n* });\n* ```\n* @param formattedPrompt\n* @returns A partial OpenAI payload.\n*/\nfunction convertPromptToOpenAI(formattedPrompt) {\n\tconst messages = formattedPrompt.toChatMessages();\n\treturn { messages: (0,_converters_completions_js__WEBPACK_IMPORTED_MODULE_0__.convertMessagesToCompletionsMessageParams)({ messages }) };\n}\n\n//#endregion\n\n//# sourceMappingURL=prompts.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L3V0aWxzL3Byb21wdHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBeUY7O0FBRXpGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyx3QkFBd0I7QUFDbkMsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLFVBQVUsV0FBVztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxVQUFVLHFHQUF5QyxHQUFHLFVBQVU7QUFDMUU7O0FBRUE7QUFDaUM7QUFDakMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rb3BlbmFpQDEuMi4zX0BsYW5nY2hhaW4rY29yZUAxLjEuMTcvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvdXRpbHMvcHJvbXB0cy5qcz80MzQwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvbnZlcnRNZXNzYWdlc1RvQ29tcGxldGlvbnNNZXNzYWdlUGFyYW1zIH0gZnJvbSBcIi4uL2NvbnZlcnRlcnMvY29tcGxldGlvbnMuanNcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy9wcm9tcHRzLnRzXG4vKipcbiogQ29udmVydCBhIGZvcm1hdHRlZCBMYW5nQ2hhaW4gcHJvbXB0IChlLmcuIHB1bGxlZCBmcm9tIHRoZSBodWIpIGludG9cbiogYSBmb3JtYXQgZXhwZWN0ZWQgYnkgT3BlbkFJJ3MgSlMgU0RLLlxuKlxuKiBSZXF1aXJlcyB0aGUgXCJAbGFuZ2NoYWluL29wZW5haVwiIHBhY2thZ2UgdG8gYmUgaW5zdGFsbGVkIGluIGFkZGl0aW9uXG4qIHRvIHRoZSBPcGVuQUkgU0RLLlxuKlxuKiBAZXhhbXBsZVxuKiBgYGB0c1xuKiBpbXBvcnQgeyBjb252ZXJ0UHJvbXB0VG9PcGVuQUkgfSBmcm9tIFwibGFuZ3NtaXRoL3V0aWxzL2h1Yi9vcGVuYWlcIjtcbiogaW1wb3J0IHsgcHVsbCB9IGZyb20gXCJsYW5nY2hhaW4vaHViXCI7XG4qXG4qIGltcG9ydCBPcGVuQUkgZnJvbSAnb3BlbmFpJztcbipcbiogY29uc3QgcHJvbXB0ID0gYXdhaXQgcHVsbChcImphY29iL2pva2UtZ2VuZXJhdG9yXCIpO1xuKiBjb25zdCBmb3JtYXR0ZWRQcm9tcHQgPSBhd2FpdCBwcm9tcHQuaW52b2tlKHtcbiogICB0b3BpYzogXCJjYXRzXCIsXG4qIH0pO1xuKlxuKiBjb25zdCB7IG1lc3NhZ2VzIH0gPSBjb252ZXJ0UHJvbXB0VG9PcGVuQUkoZm9ybWF0dGVkUHJvbXB0KTtcbipcbiogY29uc3Qgb3BlbkFJQ2xpZW50ID0gbmV3IE9wZW5BSSgpO1xuKlxuKiBjb25zdCBvcGVuYWlSZXNwb25zZSA9IGF3YWl0IG9wZW5BSUNsaWVudC5jaGF0LmNvbXBsZXRpb25zLmNyZWF0ZSh7XG4qICAgbW9kZWw6IFwiZ3B0LTRvLW1pbmlcIixcbiogICBtZXNzYWdlcyxcbiogfSk7XG4qIGBgYFxuKiBAcGFyYW0gZm9ybWF0dGVkUHJvbXB0XG4qIEByZXR1cm5zIEEgcGFydGlhbCBPcGVuQUkgcGF5bG9hZC5cbiovXG5mdW5jdGlvbiBjb252ZXJ0UHJvbXB0VG9PcGVuQUkoZm9ybWF0dGVkUHJvbXB0KSB7XG5cdGNvbnN0IG1lc3NhZ2VzID0gZm9ybWF0dGVkUHJvbXB0LnRvQ2hhdE1lc3NhZ2VzKCk7XG5cdHJldHVybiB7IG1lc3NhZ2VzOiBjb252ZXJ0TWVzc2FnZXNUb0NvbXBsZXRpb25zTWVzc2FnZVBhcmFtcyh7IG1lc3NhZ2VzIH0pIH07XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgY29udmVydFByb21wdFRvT3BlbkFJIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcm9tcHRzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/prompts.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/tools.js":
/*!*****************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/tools.js ***!
  \*****************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _convertToOpenAITool: () => (/* binding */ _convertToOpenAITool),\n/* harmony export */   convertCompletionsCustomTool: () => (/* binding */ convertCompletionsCustomTool),\n/* harmony export */   convertResponsesCustomTool: () => (/* binding */ convertResponsesCustomTool),\n/* harmony export */   formatFunctionDefinitions: () => (/* binding */ formatFunctionDefinitions),\n/* harmony export */   formatToOpenAIToolChoice: () => (/* binding */ formatToOpenAIToolChoice),\n/* harmony export */   hasProviderToolDefinition: () => (/* binding */ hasProviderToolDefinition),\n/* harmony export */   isBuiltInTool: () => (/* binding */ isBuiltInTool),\n/* harmony export */   isBuiltInToolChoice: () => (/* binding */ isBuiltInToolChoice),\n/* harmony export */   isComputerToolCall: () => (/* binding */ isComputerToolCall),\n/* harmony export */   isCustomTool: () => (/* binding */ isCustomTool),\n/* harmony export */   isCustomToolCall: () => (/* binding */ isCustomToolCall),\n/* harmony export */   isOpenAICustomTool: () => (/* binding */ isOpenAICustomTool),\n/* harmony export */   parseComputerCall: () => (/* binding */ parseComputerCall),\n/* harmony export */   parseCustomToolCall: () => (/* binding */ parseCustomToolCall)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_utils_function_calling__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/utils/function_calling */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/function_calling.js\");\n/* harmony import */ var _langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @langchain/core/utils/types */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/types/index.js\");\n/* harmony import */ var _langchain_core_utils_json_schema__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @langchain/core/utils/json_schema */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/json_schema.js\");\n\n\n\n\n//#region src/utils/tools.ts\n/**\n* Formats a tool in either OpenAI format, or LangChain structured tool format\n* into an OpenAI tool format. If the tool is already in OpenAI format, return without\n* any changes. If it is in LangChain structured tool format, convert it to OpenAI tool format\n* using OpenAI's `zodFunction` util, falling back to `convertToOpenAIFunction` if the parameters\n* returned from the `zodFunction` util are not defined.\n*\n* @param {BindToolsInput} tool The tool to convert to an OpenAI tool.\n* @param {Object} [fields] Additional fields to add to the OpenAI tool.\n* @returns {ToolDefinition} The inputted tool in OpenAI tool format.\n*/\nfunction _convertToOpenAITool(tool, fields) {\n\tlet toolDef;\n\tif ((0,_langchain_core_utils_function_calling__WEBPACK_IMPORTED_MODULE_0__.isLangChainTool)(tool)) toolDef = (0,_langchain_core_utils_function_calling__WEBPACK_IMPORTED_MODULE_0__.convertToOpenAITool)(tool);\n\telse toolDef = tool;\n\tif (fields?.strict !== void 0) toolDef.function.strict = fields.strict;\n\treturn toolDef;\n}\nfunction isAnyOfProp(prop) {\n\treturn prop.anyOf !== void 0 && Array.isArray(prop.anyOf);\n}\nfunction formatFunctionDefinitions(functions) {\n\tconst lines = [\"namespace functions {\", \"\"];\n\tfor (const f of functions) {\n\t\tif (f.description) lines.push(`// ${f.description}`);\n\t\tif (Object.keys(f.parameters.properties ?? {}).length > 0) {\n\t\t\tlines.push(`type ${f.name} = (_: {`);\n\t\t\tlines.push(formatObjectProperties(f.parameters, 0));\n\t\t\tlines.push(\"}) => any;\");\n\t\t} else lines.push(`type ${f.name} = () => any;`);\n\t\tlines.push(\"\");\n\t}\n\tlines.push(\"} // namespace functions\");\n\treturn lines.join(\"\\n\");\n}\nfunction formatObjectProperties(obj, indent) {\n\tconst lines = [];\n\tfor (const [name, param] of Object.entries(obj.properties ?? {})) {\n\t\tif (param.description && indent < 2) lines.push(`// ${param.description}`);\n\t\tif (obj.required?.includes(name)) lines.push(`${name}: ${formatType(param, indent)},`);\n\t\telse lines.push(`${name}?: ${formatType(param, indent)},`);\n\t}\n\treturn lines.map((line) => \" \".repeat(indent) + line).join(\"\\n\");\n}\nfunction formatType(param, indent) {\n\tif (isAnyOfProp(param)) return param.anyOf.map((v) => formatType(v, indent)).join(\" | \");\n\tswitch (param.type) {\n\t\tcase \"string\":\n\t\t\tif (param.enum) return param.enum.map((v) => `\"${v}\"`).join(\" | \");\n\t\t\treturn \"string\";\n\t\tcase \"number\":\n\t\t\tif (param.enum) return param.enum.map((v) => `${v}`).join(\" | \");\n\t\t\treturn \"number\";\n\t\tcase \"integer\":\n\t\t\tif (param.enum) return param.enum.map((v) => `${v}`).join(\" | \");\n\t\t\treturn \"number\";\n\t\tcase \"boolean\": return \"boolean\";\n\t\tcase \"null\": return \"null\";\n\t\tcase \"object\": return [\n\t\t\t\"{\",\n\t\t\tformatObjectProperties(param, indent + 2),\n\t\t\t\"}\"\n\t\t].join(\"\\n\");\n\t\tcase \"array\":\n\t\t\tif (param.items) return `${formatType(param.items, indent)}[]`;\n\t\t\treturn \"any[]\";\n\t\tdefault: return \"\";\n\t}\n}\nfunction formatToOpenAIToolChoice(toolChoice) {\n\tif (!toolChoice) return void 0;\n\telse if (toolChoice === \"any\" || toolChoice === \"required\") return \"required\";\n\telse if (toolChoice === \"auto\") return \"auto\";\n\telse if (toolChoice === \"none\") return \"none\";\n\telse if (typeof toolChoice === \"string\") return {\n\t\ttype: \"function\",\n\t\tfunction: { name: toolChoice }\n\t};\n\telse return toolChoice;\n}\nfunction isBuiltInTool(tool) {\n\treturn \"type\" in tool && tool.type !== \"function\";\n}\n/**\n* Checks if a tool has a provider-specific tool definition in extras.providerToolDefinition.\n* This is used for tools like localShell, shell, computerUse, and applyPatch\n* that need to be sent as built-in tool types to the OpenAI API.\n*/\nfunction hasProviderToolDefinition(tool) {\n\treturn typeof tool === \"object\" && tool !== null && \"extras\" in tool && typeof tool.extras === \"object\" && tool.extras !== null && \"providerToolDefinition\" in tool.extras && typeof tool.extras.providerToolDefinition === \"object\" && tool.extras.providerToolDefinition !== null;\n}\nfunction isBuiltInToolChoice(tool_choice) {\n\treturn tool_choice != null && typeof tool_choice === \"object\" && \"type\" in tool_choice && tool_choice.type !== \"function\";\n}\nfunction isCustomTool(tool) {\n\treturn typeof tool === \"object\" && tool !== null && \"metadata\" in tool && typeof tool.metadata === \"object\" && tool.metadata !== null && \"customTool\" in tool.metadata && typeof tool.metadata.customTool === \"object\" && tool.metadata.customTool !== null;\n}\nfunction isOpenAICustomTool(tool) {\n\treturn \"type\" in tool && tool.type === \"custom\" && \"custom\" in tool && typeof tool.custom === \"object\" && tool.custom !== null;\n}\nfunction parseCustomToolCall(rawToolCall) {\n\tif (rawToolCall.type !== \"custom_tool_call\") return void 0;\n\treturn {\n\t\t...rawToolCall,\n\t\ttype: \"tool_call\",\n\t\tcall_id: rawToolCall.id,\n\t\tid: rawToolCall.call_id,\n\t\tname: rawToolCall.name,\n\t\tisCustomTool: true,\n\t\targs: { input: rawToolCall.input }\n\t};\n}\n/**\n* Parses a computer_call output item from the OpenAI Responses API\n* into a ToolCall format that can be processed by the ToolNode.\n*\n* @param rawToolCall - The raw computer_call output item from the API\n* @returns A ComputerToolCall object if valid, undefined otherwise\n*/\nfunction parseComputerCall(rawToolCall) {\n\tif (rawToolCall.type !== \"computer_call\") return void 0;\n\treturn {\n\t\t...rawToolCall,\n\t\ttype: \"tool_call\",\n\t\tcall_id: rawToolCall.id,\n\t\tid: rawToolCall.call_id,\n\t\tname: \"computer_use\",\n\t\tisComputerTool: true,\n\t\targs: { action: rawToolCall.action }\n\t};\n}\n/**\n* Checks if a tool call is a computer tool call.\n* @param toolCall - The tool call to check.\n* @returns True if the tool call is a computer tool call, false otherwise.\n*/\nfunction isComputerToolCall(toolCall) {\n\treturn typeof toolCall === \"object\" && toolCall !== null && \"type\" in toolCall && toolCall.type === \"tool_call\" && \"isComputerTool\" in toolCall && toolCall.isComputerTool === true;\n}\nfunction isCustomToolCall(toolCall) {\n\treturn typeof toolCall === \"object\" && toolCall !== null && \"type\" in toolCall && toolCall.type === \"tool_call\" && \"isCustomTool\" in toolCall && toolCall.isCustomTool === true;\n}\nfunction convertCompletionsCustomTool(tool) {\n\tconst getFormat = () => {\n\t\tif (!tool.custom.format) return void 0;\n\t\tif (tool.custom.format.type === \"grammar\") return {\n\t\t\ttype: \"grammar\",\n\t\t\tdefinition: tool.custom.format.grammar.definition,\n\t\t\tsyntax: tool.custom.format.grammar.syntax\n\t\t};\n\t\tif (tool.custom.format.type === \"text\") return { type: \"text\" };\n\t\treturn void 0;\n\t};\n\treturn {\n\t\ttype: \"custom\",\n\t\tname: tool.custom.name,\n\t\tdescription: tool.custom.description,\n\t\tformat: getFormat()\n\t};\n}\nfunction convertResponsesCustomTool(tool) {\n\tconst getFormat = () => {\n\t\tif (!tool.format) return void 0;\n\t\tif (tool.format.type === \"grammar\") return {\n\t\t\ttype: \"grammar\",\n\t\t\tgrammar: {\n\t\t\t\tdefinition: tool.format.definition,\n\t\t\t\tsyntax: tool.format.syntax\n\t\t\t}\n\t\t};\n\t\tif (tool.format.type === \"text\") return { type: \"text\" };\n\t\treturn void 0;\n\t};\n\treturn {\n\t\ttype: \"custom\",\n\t\tcustom: {\n\t\t\tname: tool.name,\n\t\t\tdescription: tool.description,\n\t\t\tformat: getFormat()\n\t\t}\n\t};\n}\n\n//#endregion\n\n//# sourceMappingURL=tools.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK29wZW5haUAxLjIuM19AbGFuZ2NoYWluK2NvcmVAMS4xLjE3L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL29wZW5haS9kaXN0L3V0aWxzL3Rvb2xzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQThGO0FBQzdCO0FBQ0E7O0FBRWpFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGdCQUFnQjtBQUMxQixVQUFVLFFBQVE7QUFDbEIsWUFBWSxnQkFBZ0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsS0FBSyx1RkFBZSxrQkFBa0IsMkZBQW1CO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQSxzQ0FBc0MsY0FBYztBQUNwRCwrQ0FBK0M7QUFDL0Msc0JBQXNCLFFBQVEsT0FBTztBQUNyQztBQUNBLGdCQUFnQixTQUFTO0FBQ3pCLElBQUksd0JBQXdCLFFBQVEsWUFBWTtBQUNoRDtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFO0FBQ2hFLHdEQUF3RCxrQkFBa0I7QUFDMUUsa0RBQWtELEtBQUssSUFBSSwwQkFBMEI7QUFDckYscUJBQXFCLEtBQUssS0FBSywwQkFBMEI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsRUFBRTtBQUN0RDtBQUNBO0FBQ0EsbURBQW1ELEVBQUU7QUFDckQ7QUFDQTtBQUNBLG1EQUFtRCxFQUFFO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSw4QkFBOEIsZ0NBQWdDO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1EO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDOFQ7QUFDOVQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rb3BlbmFpQDEuMi4zX0BsYW5nY2hhaW4rY29yZUAxLjEuMTcvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vb3BlbmFpL2Rpc3QvdXRpbHMvdG9vbHMuanM/OGFiYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb252ZXJ0VG9PcGVuQUlUb29sLCBpc0xhbmdDaGFpblRvb2wgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3V0aWxzL2Z1bmN0aW9uX2NhbGxpbmdcIjtcbmltcG9ydCB7IGlzSW50ZXJvcFpvZFNjaGVtYSB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvdXRpbHMvdHlwZXNcIjtcbmltcG9ydCB7IHRvSnNvblNjaGVtYSB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvdXRpbHMvanNvbl9zY2hlbWFcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy90b29scy50c1xuLyoqXG4qIEZvcm1hdHMgYSB0b29sIGluIGVpdGhlciBPcGVuQUkgZm9ybWF0LCBvciBMYW5nQ2hhaW4gc3RydWN0dXJlZCB0b29sIGZvcm1hdFxuKiBpbnRvIGFuIE9wZW5BSSB0b29sIGZvcm1hdC4gSWYgdGhlIHRvb2wgaXMgYWxyZWFkeSBpbiBPcGVuQUkgZm9ybWF0LCByZXR1cm4gd2l0aG91dFxuKiBhbnkgY2hhbmdlcy4gSWYgaXQgaXMgaW4gTGFuZ0NoYWluIHN0cnVjdHVyZWQgdG9vbCBmb3JtYXQsIGNvbnZlcnQgaXQgdG8gT3BlbkFJIHRvb2wgZm9ybWF0XG4qIHVzaW5nIE9wZW5BSSdzIGB6b2RGdW5jdGlvbmAgdXRpbCwgZmFsbGluZyBiYWNrIHRvIGBjb252ZXJ0VG9PcGVuQUlGdW5jdGlvbmAgaWYgdGhlIHBhcmFtZXRlcnNcbiogcmV0dXJuZWQgZnJvbSB0aGUgYHpvZEZ1bmN0aW9uYCB1dGlsIGFyZSBub3QgZGVmaW5lZC5cbipcbiogQHBhcmFtIHtCaW5kVG9vbHNJbnB1dH0gdG9vbCBUaGUgdG9vbCB0byBjb252ZXJ0IHRvIGFuIE9wZW5BSSB0b29sLlxuKiBAcGFyYW0ge09iamVjdH0gW2ZpZWxkc10gQWRkaXRpb25hbCBmaWVsZHMgdG8gYWRkIHRvIHRoZSBPcGVuQUkgdG9vbC5cbiogQHJldHVybnMge1Rvb2xEZWZpbml0aW9ufSBUaGUgaW5wdXR0ZWQgdG9vbCBpbiBPcGVuQUkgdG9vbCBmb3JtYXQuXG4qL1xuZnVuY3Rpb24gX2NvbnZlcnRUb09wZW5BSVRvb2wodG9vbCwgZmllbGRzKSB7XG5cdGxldCB0b29sRGVmO1xuXHRpZiAoaXNMYW5nQ2hhaW5Ub29sKHRvb2wpKSB0b29sRGVmID0gY29udmVydFRvT3BlbkFJVG9vbCh0b29sKTtcblx0ZWxzZSB0b29sRGVmID0gdG9vbDtcblx0aWYgKGZpZWxkcz8uc3RyaWN0ICE9PSB2b2lkIDApIHRvb2xEZWYuZnVuY3Rpb24uc3RyaWN0ID0gZmllbGRzLnN0cmljdDtcblx0cmV0dXJuIHRvb2xEZWY7XG59XG5mdW5jdGlvbiBpc0FueU9mUHJvcChwcm9wKSB7XG5cdHJldHVybiBwcm9wLmFueU9mICE9PSB2b2lkIDAgJiYgQXJyYXkuaXNBcnJheShwcm9wLmFueU9mKTtcbn1cbmZ1bmN0aW9uIGZvcm1hdEZ1bmN0aW9uRGVmaW5pdGlvbnMoZnVuY3Rpb25zKSB7XG5cdGNvbnN0IGxpbmVzID0gW1wibmFtZXNwYWNlIGZ1bmN0aW9ucyB7XCIsIFwiXCJdO1xuXHRmb3IgKGNvbnN0IGYgb2YgZnVuY3Rpb25zKSB7XG5cdFx0aWYgKGYuZGVzY3JpcHRpb24pIGxpbmVzLnB1c2goYC8vICR7Zi5kZXNjcmlwdGlvbn1gKTtcblx0XHRpZiAoT2JqZWN0LmtleXMoZi5wYXJhbWV0ZXJzLnByb3BlcnRpZXMgPz8ge30pLmxlbmd0aCA+IDApIHtcblx0XHRcdGxpbmVzLnB1c2goYHR5cGUgJHtmLm5hbWV9ID0gKF86IHtgKTtcblx0XHRcdGxpbmVzLnB1c2goZm9ybWF0T2JqZWN0UHJvcGVydGllcyhmLnBhcmFtZXRlcnMsIDApKTtcblx0XHRcdGxpbmVzLnB1c2goXCJ9KSA9PiBhbnk7XCIpO1xuXHRcdH0gZWxzZSBsaW5lcy5wdXNoKGB0eXBlICR7Zi5uYW1lfSA9ICgpID0+IGFueTtgKTtcblx0XHRsaW5lcy5wdXNoKFwiXCIpO1xuXHR9XG5cdGxpbmVzLnB1c2goXCJ9IC8vIG5hbWVzcGFjZSBmdW5jdGlvbnNcIik7XG5cdHJldHVybiBsaW5lcy5qb2luKFwiXFxuXCIpO1xufVxuZnVuY3Rpb24gZm9ybWF0T2JqZWN0UHJvcGVydGllcyhvYmosIGluZGVudCkge1xuXHRjb25zdCBsaW5lcyA9IFtdO1xuXHRmb3IgKGNvbnN0IFtuYW1lLCBwYXJhbV0gb2YgT2JqZWN0LmVudHJpZXMob2JqLnByb3BlcnRpZXMgPz8ge30pKSB7XG5cdFx0aWYgKHBhcmFtLmRlc2NyaXB0aW9uICYmIGluZGVudCA8IDIpIGxpbmVzLnB1c2goYC8vICR7cGFyYW0uZGVzY3JpcHRpb259YCk7XG5cdFx0aWYgKG9iai5yZXF1aXJlZD8uaW5jbHVkZXMobmFtZSkpIGxpbmVzLnB1c2goYCR7bmFtZX06ICR7Zm9ybWF0VHlwZShwYXJhbSwgaW5kZW50KX0sYCk7XG5cdFx0ZWxzZSBsaW5lcy5wdXNoKGAke25hbWV9PzogJHtmb3JtYXRUeXBlKHBhcmFtLCBpbmRlbnQpfSxgKTtcblx0fVxuXHRyZXR1cm4gbGluZXMubWFwKChsaW5lKSA9PiBcIiBcIi5yZXBlYXQoaW5kZW50KSArIGxpbmUpLmpvaW4oXCJcXG5cIik7XG59XG5mdW5jdGlvbiBmb3JtYXRUeXBlKHBhcmFtLCBpbmRlbnQpIHtcblx0aWYgKGlzQW55T2ZQcm9wKHBhcmFtKSkgcmV0dXJuIHBhcmFtLmFueU9mLm1hcCgodikgPT4gZm9ybWF0VHlwZSh2LCBpbmRlbnQpKS5qb2luKFwiIHwgXCIpO1xuXHRzd2l0Y2ggKHBhcmFtLnR5cGUpIHtcblx0XHRjYXNlIFwic3RyaW5nXCI6XG5cdFx0XHRpZiAocGFyYW0uZW51bSkgcmV0dXJuIHBhcmFtLmVudW0ubWFwKCh2KSA9PiBgXCIke3Z9XCJgKS5qb2luKFwiIHwgXCIpO1xuXHRcdFx0cmV0dXJuIFwic3RyaW5nXCI7XG5cdFx0Y2FzZSBcIm51bWJlclwiOlxuXHRcdFx0aWYgKHBhcmFtLmVudW0pIHJldHVybiBwYXJhbS5lbnVtLm1hcCgodikgPT4gYCR7dn1gKS5qb2luKFwiIHwgXCIpO1xuXHRcdFx0cmV0dXJuIFwibnVtYmVyXCI7XG5cdFx0Y2FzZSBcImludGVnZXJcIjpcblx0XHRcdGlmIChwYXJhbS5lbnVtKSByZXR1cm4gcGFyYW0uZW51bS5tYXAoKHYpID0+IGAke3Z9YCkuam9pbihcIiB8IFwiKTtcblx0XHRcdHJldHVybiBcIm51bWJlclwiO1xuXHRcdGNhc2UgXCJib29sZWFuXCI6IHJldHVybiBcImJvb2xlYW5cIjtcblx0XHRjYXNlIFwibnVsbFwiOiByZXR1cm4gXCJudWxsXCI7XG5cdFx0Y2FzZSBcIm9iamVjdFwiOiByZXR1cm4gW1xuXHRcdFx0XCJ7XCIsXG5cdFx0XHRmb3JtYXRPYmplY3RQcm9wZXJ0aWVzKHBhcmFtLCBpbmRlbnQgKyAyKSxcblx0XHRcdFwifVwiXG5cdFx0XS5qb2luKFwiXFxuXCIpO1xuXHRcdGNhc2UgXCJhcnJheVwiOlxuXHRcdFx0aWYgKHBhcmFtLml0ZW1zKSByZXR1cm4gYCR7Zm9ybWF0VHlwZShwYXJhbS5pdGVtcywgaW5kZW50KX1bXWA7XG5cdFx0XHRyZXR1cm4gXCJhbnlbXVwiO1xuXHRcdGRlZmF1bHQ6IHJldHVybiBcIlwiO1xuXHR9XG59XG5mdW5jdGlvbiBmb3JtYXRUb09wZW5BSVRvb2xDaG9pY2UodG9vbENob2ljZSkge1xuXHRpZiAoIXRvb2xDaG9pY2UpIHJldHVybiB2b2lkIDA7XG5cdGVsc2UgaWYgKHRvb2xDaG9pY2UgPT09IFwiYW55XCIgfHwgdG9vbENob2ljZSA9PT0gXCJyZXF1aXJlZFwiKSByZXR1cm4gXCJyZXF1aXJlZFwiO1xuXHRlbHNlIGlmICh0b29sQ2hvaWNlID09PSBcImF1dG9cIikgcmV0dXJuIFwiYXV0b1wiO1xuXHRlbHNlIGlmICh0b29sQ2hvaWNlID09PSBcIm5vbmVcIikgcmV0dXJuIFwibm9uZVwiO1xuXHRlbHNlIGlmICh0eXBlb2YgdG9vbENob2ljZSA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIHtcblx0XHR0eXBlOiBcImZ1bmN0aW9uXCIsXG5cdFx0ZnVuY3Rpb246IHsgbmFtZTogdG9vbENob2ljZSB9XG5cdH07XG5cdGVsc2UgcmV0dXJuIHRvb2xDaG9pY2U7XG59XG5mdW5jdGlvbiBpc0J1aWx0SW5Ub29sKHRvb2wpIHtcblx0cmV0dXJuIFwidHlwZVwiIGluIHRvb2wgJiYgdG9vbC50eXBlICE9PSBcImZ1bmN0aW9uXCI7XG59XG4vKipcbiogQ2hlY2tzIGlmIGEgdG9vbCBoYXMgYSBwcm92aWRlci1zcGVjaWZpYyB0b29sIGRlZmluaXRpb24gaW4gZXh0cmFzLnByb3ZpZGVyVG9vbERlZmluaXRpb24uXG4qIFRoaXMgaXMgdXNlZCBmb3IgdG9vbHMgbGlrZSBsb2NhbFNoZWxsLCBzaGVsbCwgY29tcHV0ZXJVc2UsIGFuZCBhcHBseVBhdGNoXG4qIHRoYXQgbmVlZCB0byBiZSBzZW50IGFzIGJ1aWx0LWluIHRvb2wgdHlwZXMgdG8gdGhlIE9wZW5BSSBBUEkuXG4qL1xuZnVuY3Rpb24gaGFzUHJvdmlkZXJUb29sRGVmaW5pdGlvbih0b29sKSB7XG5cdHJldHVybiB0eXBlb2YgdG9vbCA9PT0gXCJvYmplY3RcIiAmJiB0b29sICE9PSBudWxsICYmIFwiZXh0cmFzXCIgaW4gdG9vbCAmJiB0eXBlb2YgdG9vbC5leHRyYXMgPT09IFwib2JqZWN0XCIgJiYgdG9vbC5leHRyYXMgIT09IG51bGwgJiYgXCJwcm92aWRlclRvb2xEZWZpbml0aW9uXCIgaW4gdG9vbC5leHRyYXMgJiYgdHlwZW9mIHRvb2wuZXh0cmFzLnByb3ZpZGVyVG9vbERlZmluaXRpb24gPT09IFwib2JqZWN0XCIgJiYgdG9vbC5leHRyYXMucHJvdmlkZXJUb29sRGVmaW5pdGlvbiAhPT0gbnVsbDtcbn1cbmZ1bmN0aW9uIGlzQnVpbHRJblRvb2xDaG9pY2UodG9vbF9jaG9pY2UpIHtcblx0cmV0dXJuIHRvb2xfY2hvaWNlICE9IG51bGwgJiYgdHlwZW9mIHRvb2xfY2hvaWNlID09PSBcIm9iamVjdFwiICYmIFwidHlwZVwiIGluIHRvb2xfY2hvaWNlICYmIHRvb2xfY2hvaWNlLnR5cGUgIT09IFwiZnVuY3Rpb25cIjtcbn1cbmZ1bmN0aW9uIGlzQ3VzdG9tVG9vbCh0b29sKSB7XG5cdHJldHVybiB0eXBlb2YgdG9vbCA9PT0gXCJvYmplY3RcIiAmJiB0b29sICE9PSBudWxsICYmIFwibWV0YWRhdGFcIiBpbiB0b29sICYmIHR5cGVvZiB0b29sLm1ldGFkYXRhID09PSBcIm9iamVjdFwiICYmIHRvb2wubWV0YWRhdGEgIT09IG51bGwgJiYgXCJjdXN0b21Ub29sXCIgaW4gdG9vbC5tZXRhZGF0YSAmJiB0eXBlb2YgdG9vbC5tZXRhZGF0YS5jdXN0b21Ub29sID09PSBcIm9iamVjdFwiICYmIHRvb2wubWV0YWRhdGEuY3VzdG9tVG9vbCAhPT0gbnVsbDtcbn1cbmZ1bmN0aW9uIGlzT3BlbkFJQ3VzdG9tVG9vbCh0b29sKSB7XG5cdHJldHVybiBcInR5cGVcIiBpbiB0b29sICYmIHRvb2wudHlwZSA9PT0gXCJjdXN0b21cIiAmJiBcImN1c3RvbVwiIGluIHRvb2wgJiYgdHlwZW9mIHRvb2wuY3VzdG9tID09PSBcIm9iamVjdFwiICYmIHRvb2wuY3VzdG9tICE9PSBudWxsO1xufVxuZnVuY3Rpb24gcGFyc2VDdXN0b21Ub29sQ2FsbChyYXdUb29sQ2FsbCkge1xuXHRpZiAocmF3VG9vbENhbGwudHlwZSAhPT0gXCJjdXN0b21fdG9vbF9jYWxsXCIpIHJldHVybiB2b2lkIDA7XG5cdHJldHVybiB7XG5cdFx0Li4ucmF3VG9vbENhbGwsXG5cdFx0dHlwZTogXCJ0b29sX2NhbGxcIixcblx0XHRjYWxsX2lkOiByYXdUb29sQ2FsbC5pZCxcblx0XHRpZDogcmF3VG9vbENhbGwuY2FsbF9pZCxcblx0XHRuYW1lOiByYXdUb29sQ2FsbC5uYW1lLFxuXHRcdGlzQ3VzdG9tVG9vbDogdHJ1ZSxcblx0XHRhcmdzOiB7IGlucHV0OiByYXdUb29sQ2FsbC5pbnB1dCB9XG5cdH07XG59XG4vKipcbiogUGFyc2VzIGEgY29tcHV0ZXJfY2FsbCBvdXRwdXQgaXRlbSBmcm9tIHRoZSBPcGVuQUkgUmVzcG9uc2VzIEFQSVxuKiBpbnRvIGEgVG9vbENhbGwgZm9ybWF0IHRoYXQgY2FuIGJlIHByb2Nlc3NlZCBieSB0aGUgVG9vbE5vZGUuXG4qXG4qIEBwYXJhbSByYXdUb29sQ2FsbCAtIFRoZSByYXcgY29tcHV0ZXJfY2FsbCBvdXRwdXQgaXRlbSBmcm9tIHRoZSBBUElcbiogQHJldHVybnMgQSBDb21wdXRlclRvb2xDYWxsIG9iamVjdCBpZiB2YWxpZCwgdW5kZWZpbmVkIG90aGVyd2lzZVxuKi9cbmZ1bmN0aW9uIHBhcnNlQ29tcHV0ZXJDYWxsKHJhd1Rvb2xDYWxsKSB7XG5cdGlmIChyYXdUb29sQ2FsbC50eXBlICE9PSBcImNvbXB1dGVyX2NhbGxcIikgcmV0dXJuIHZvaWQgMDtcblx0cmV0dXJuIHtcblx0XHQuLi5yYXdUb29sQ2FsbCxcblx0XHR0eXBlOiBcInRvb2xfY2FsbFwiLFxuXHRcdGNhbGxfaWQ6IHJhd1Rvb2xDYWxsLmlkLFxuXHRcdGlkOiByYXdUb29sQ2FsbC5jYWxsX2lkLFxuXHRcdG5hbWU6IFwiY29tcHV0ZXJfdXNlXCIsXG5cdFx0aXNDb21wdXRlclRvb2w6IHRydWUsXG5cdFx0YXJnczogeyBhY3Rpb246IHJhd1Rvb2xDYWxsLmFjdGlvbiB9XG5cdH07XG59XG4vKipcbiogQ2hlY2tzIGlmIGEgdG9vbCBjYWxsIGlzIGEgY29tcHV0ZXIgdG9vbCBjYWxsLlxuKiBAcGFyYW0gdG9vbENhbGwgLSBUaGUgdG9vbCBjYWxsIHRvIGNoZWNrLlxuKiBAcmV0dXJucyBUcnVlIGlmIHRoZSB0b29sIGNhbGwgaXMgYSBjb21wdXRlciB0b29sIGNhbGwsIGZhbHNlIG90aGVyd2lzZS5cbiovXG5mdW5jdGlvbiBpc0NvbXB1dGVyVG9vbENhbGwodG9vbENhbGwpIHtcblx0cmV0dXJuIHR5cGVvZiB0b29sQ2FsbCA9PT0gXCJvYmplY3RcIiAmJiB0b29sQ2FsbCAhPT0gbnVsbCAmJiBcInR5cGVcIiBpbiB0b29sQ2FsbCAmJiB0b29sQ2FsbC50eXBlID09PSBcInRvb2xfY2FsbFwiICYmIFwiaXNDb21wdXRlclRvb2xcIiBpbiB0b29sQ2FsbCAmJiB0b29sQ2FsbC5pc0NvbXB1dGVyVG9vbCA9PT0gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGlzQ3VzdG9tVG9vbENhbGwodG9vbENhbGwpIHtcblx0cmV0dXJuIHR5cGVvZiB0b29sQ2FsbCA9PT0gXCJvYmplY3RcIiAmJiB0b29sQ2FsbCAhPT0gbnVsbCAmJiBcInR5cGVcIiBpbiB0b29sQ2FsbCAmJiB0b29sQ2FsbC50eXBlID09PSBcInRvb2xfY2FsbFwiICYmIFwiaXNDdXN0b21Ub29sXCIgaW4gdG9vbENhbGwgJiYgdG9vbENhbGwuaXNDdXN0b21Ub29sID09PSB0cnVlO1xufVxuZnVuY3Rpb24gY29udmVydENvbXBsZXRpb25zQ3VzdG9tVG9vbCh0b29sKSB7XG5cdGNvbnN0IGdldEZvcm1hdCA9ICgpID0+IHtcblx0XHRpZiAoIXRvb2wuY3VzdG9tLmZvcm1hdCkgcmV0dXJuIHZvaWQgMDtcblx0XHRpZiAodG9vbC5jdXN0b20uZm9ybWF0LnR5cGUgPT09IFwiZ3JhbW1hclwiKSByZXR1cm4ge1xuXHRcdFx0dHlwZTogXCJncmFtbWFyXCIsXG5cdFx0XHRkZWZpbml0aW9uOiB0b29sLmN1c3RvbS5mb3JtYXQuZ3JhbW1hci5kZWZpbml0aW9uLFxuXHRcdFx0c3ludGF4OiB0b29sLmN1c3RvbS5mb3JtYXQuZ3JhbW1hci5zeW50YXhcblx0XHR9O1xuXHRcdGlmICh0b29sLmN1c3RvbS5mb3JtYXQudHlwZSA9PT0gXCJ0ZXh0XCIpIHJldHVybiB7IHR5cGU6IFwidGV4dFwiIH07XG5cdFx0cmV0dXJuIHZvaWQgMDtcblx0fTtcblx0cmV0dXJuIHtcblx0XHR0eXBlOiBcImN1c3RvbVwiLFxuXHRcdG5hbWU6IHRvb2wuY3VzdG9tLm5hbWUsXG5cdFx0ZGVzY3JpcHRpb246IHRvb2wuY3VzdG9tLmRlc2NyaXB0aW9uLFxuXHRcdGZvcm1hdDogZ2V0Rm9ybWF0KClcblx0fTtcbn1cbmZ1bmN0aW9uIGNvbnZlcnRSZXNwb25zZXNDdXN0b21Ub29sKHRvb2wpIHtcblx0Y29uc3QgZ2V0Rm9ybWF0ID0gKCkgPT4ge1xuXHRcdGlmICghdG9vbC5mb3JtYXQpIHJldHVybiB2b2lkIDA7XG5cdFx0aWYgKHRvb2wuZm9ybWF0LnR5cGUgPT09IFwiZ3JhbW1hclwiKSByZXR1cm4ge1xuXHRcdFx0dHlwZTogXCJncmFtbWFyXCIsXG5cdFx0XHRncmFtbWFyOiB7XG5cdFx0XHRcdGRlZmluaXRpb246IHRvb2wuZm9ybWF0LmRlZmluaXRpb24sXG5cdFx0XHRcdHN5bnRheDogdG9vbC5mb3JtYXQuc3ludGF4XG5cdFx0XHR9XG5cdFx0fTtcblx0XHRpZiAodG9vbC5mb3JtYXQudHlwZSA9PT0gXCJ0ZXh0XCIpIHJldHVybiB7IHR5cGU6IFwidGV4dFwiIH07XG5cdFx0cmV0dXJuIHZvaWQgMDtcblx0fTtcblx0cmV0dXJuIHtcblx0XHR0eXBlOiBcImN1c3RvbVwiLFxuXHRcdGN1c3RvbToge1xuXHRcdFx0bmFtZTogdG9vbC5uYW1lLFxuXHRcdFx0ZGVzY3JpcHRpb246IHRvb2wuZGVzY3JpcHRpb24sXG5cdFx0XHRmb3JtYXQ6IGdldEZvcm1hdCgpXG5cdFx0fVxuXHR9O1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IF9jb252ZXJ0VG9PcGVuQUlUb29sLCBjb252ZXJ0Q29tcGxldGlvbnNDdXN0b21Ub29sLCBjb252ZXJ0UmVzcG9uc2VzQ3VzdG9tVG9vbCwgZm9ybWF0RnVuY3Rpb25EZWZpbml0aW9ucywgZm9ybWF0VG9PcGVuQUlUb29sQ2hvaWNlLCBoYXNQcm92aWRlclRvb2xEZWZpbml0aW9uLCBpc0J1aWx0SW5Ub29sLCBpc0J1aWx0SW5Ub29sQ2hvaWNlLCBpc0NvbXB1dGVyVG9vbENhbGwsIGlzQ3VzdG9tVG9vbCwgaXNDdXN0b21Ub29sQ2FsbCwgaXNPcGVuQUlDdXN0b21Ub29sLCBwYXJzZUNvbXB1dGVyQ2FsbCwgcGFyc2VDdXN0b21Ub29sQ2FsbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dG9vbHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+openai@1.2.3_@langchain+core@1.1.17/node_modules/@langchain/openai/dist/utils/tools.js\n");

/***/ })

};
;