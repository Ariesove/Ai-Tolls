"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0";
exports.ids = ["vendor-chunks/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js":
/*!*******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js ***!
  \*******************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   __export: () => (/* binding */ __export)\n/* harmony export */ });\n//#region rolldown:runtime\nvar __defProp = Object.defineProperty;\nvar __export = (target, all) => {\n\tfor (var name in all) __defProp(target, name, {\n\t\tget: all[name],\n\t\tenumerable: true\n\t});\n};\n\n//#endregion\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmpzPzExOTQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8jcmVnaW9uIHJvbGxkb3duOnJ1bnRpbWVcbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19leHBvcnQgPSAodGFyZ2V0LCBhbGwpID0+IHtcblx0Zm9yICh2YXIgbmFtZSBpbiBhbGwpIF9fZGVmUHJvcCh0YXJnZXQsIG5hbWUsIHtcblx0XHRnZXQ6IGFsbFtuYW1lXSxcblx0XHRlbnVtZXJhYmxlOiB0cnVlXG5cdH0pO1xufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBfX2V4cG9ydCB9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/caches/index.js":
/*!******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/caches/index.js ***!
  \******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseCache: () => (/* binding */ BaseCache),\n/* harmony export */   InMemoryCache: () => (/* binding */ InMemoryCache),\n/* harmony export */   caches_exports: () => (/* binding */ caches_exports),\n/* harmony export */   defaultHashKeyEncoder: () => (/* binding */ defaultHashKeyEncoder),\n/* harmony export */   deserializeStoredGeneration: () => (/* binding */ deserializeStoredGeneration),\n/* harmony export */   serializeGeneration: () => (/* binding */ serializeGeneration)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _messages_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../messages/utils.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/utils.js\");\n/* harmony import */ var _utils_js_sha256_hash_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/js-sha256/hash.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/js-sha256/hash.js\");\n/* harmony import */ var _utils_hash_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/hash.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/hash.js\");\n\n\n\n\n\n//#region src/caches/index.ts\nvar caches_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(caches_exports, {\n\tBaseCache: () => BaseCache,\n\tInMemoryCache: () => InMemoryCache,\n\tdefaultHashKeyEncoder: () => defaultHashKeyEncoder,\n\tdeserializeStoredGeneration: () => deserializeStoredGeneration,\n\tserializeGeneration: () => serializeGeneration\n});\nconst defaultHashKeyEncoder = (...strings) => (0,_utils_js_sha256_hash_js__WEBPACK_IMPORTED_MODULE_2__.sha256)(strings.join(\"_\"));\nfunction deserializeStoredGeneration(storedGeneration) {\n\tif (storedGeneration.message !== void 0) return {\n\t\ttext: storedGeneration.text,\n\t\tmessage: (0,_messages_utils_js__WEBPACK_IMPORTED_MODULE_1__.mapStoredMessageToChatMessage)(storedGeneration.message)\n\t};\n\telse return { text: storedGeneration.text };\n}\nfunction serializeGeneration(generation) {\n\tconst serializedValue = { text: generation.text };\n\tif (generation.message !== void 0) serializedValue.message = generation.message.toDict();\n\treturn serializedValue;\n}\n/**\n* Base class for all caches. All caches should extend this class.\n*/\nvar BaseCache = class {\n\tkeyEncoder = defaultHashKeyEncoder;\n\t/**\n\t* Sets a custom key encoder function for the cache.\n\t* This function should take a prompt and an LLM key and return a string\n\t* that will be used as the cache key.\n\t* @param keyEncoderFn The custom key encoder function.\n\t*/\n\tmakeDefaultKeyEncoder(keyEncoderFn) {\n\t\tthis.keyEncoder = keyEncoderFn;\n\t}\n};\nconst GLOBAL_MAP = /* @__PURE__ */ new Map();\n/**\n* A cache for storing LLM generations that stores data in memory.\n*/\nvar InMemoryCache = class InMemoryCache extends BaseCache {\n\tcache;\n\tconstructor(map) {\n\t\tsuper();\n\t\tthis.cache = map ?? /* @__PURE__ */ new Map();\n\t}\n\t/**\n\t* Retrieves data from the cache using a prompt and an LLM key. If the\n\t* data is not found, it returns null.\n\t* @param prompt The prompt used to find the data.\n\t* @param llmKey The LLM key used to find the data.\n\t* @returns The data corresponding to the prompt and LLM key, or null if not found.\n\t*/\n\tlookup(prompt, llmKey) {\n\t\treturn Promise.resolve(this.cache.get(this.keyEncoder(prompt, llmKey)) ?? null);\n\t}\n\t/**\n\t* Updates the cache with new data using a prompt and an LLM key.\n\t* @param prompt The prompt used to store the data.\n\t* @param llmKey The LLM key used to store the data.\n\t* @param value The data to be stored.\n\t*/\n\tasync update(prompt, llmKey, value) {\n\t\tthis.cache.set(this.keyEncoder(prompt, llmKey), value);\n\t}\n\t/**\n\t* Returns a global instance of InMemoryCache using a predefined global\n\t* map as the initial cache.\n\t* @returns A global instance of InMemoryCache.\n\t*/\n\tstatic global() {\n\t\treturn new InMemoryCache(GLOBAL_MAP);\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L2NhY2hlcy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQTJEO0FBQ1U7QUFDakI7QUFDMUI7O0FBRTFCO0FBQ0E7QUFDQSxzRUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGdFQUFNO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUZBQTZCO0FBQ3hDO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUM2SDtBQUM3SCIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9jYWNoZXMvaW5kZXguanM/OWFmMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2V4cG9ydCB9IGZyb20gXCIuLi9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmpzXCI7XG5pbXBvcnQgeyBtYXBTdG9yZWRNZXNzYWdlVG9DaGF0TWVzc2FnZSB9IGZyb20gXCIuLi9tZXNzYWdlcy91dGlscy5qc1wiO1xuaW1wb3J0IHsgc2hhMjU2IH0gZnJvbSBcIi4uL3V0aWxzL2pzLXNoYTI1Ni9oYXNoLmpzXCI7XG5pbXBvcnQgXCIuLi91dGlscy9oYXNoLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvY2FjaGVzL2luZGV4LnRzXG52YXIgY2FjaGVzX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KGNhY2hlc19leHBvcnRzLCB7XG5cdEJhc2VDYWNoZTogKCkgPT4gQmFzZUNhY2hlLFxuXHRJbk1lbW9yeUNhY2hlOiAoKSA9PiBJbk1lbW9yeUNhY2hlLFxuXHRkZWZhdWx0SGFzaEtleUVuY29kZXI6ICgpID0+IGRlZmF1bHRIYXNoS2V5RW5jb2Rlcixcblx0ZGVzZXJpYWxpemVTdG9yZWRHZW5lcmF0aW9uOiAoKSA9PiBkZXNlcmlhbGl6ZVN0b3JlZEdlbmVyYXRpb24sXG5cdHNlcmlhbGl6ZUdlbmVyYXRpb246ICgpID0+IHNlcmlhbGl6ZUdlbmVyYXRpb25cbn0pO1xuY29uc3QgZGVmYXVsdEhhc2hLZXlFbmNvZGVyID0gKC4uLnN0cmluZ3MpID0+IHNoYTI1NihzdHJpbmdzLmpvaW4oXCJfXCIpKTtcbmZ1bmN0aW9uIGRlc2VyaWFsaXplU3RvcmVkR2VuZXJhdGlvbihzdG9yZWRHZW5lcmF0aW9uKSB7XG5cdGlmIChzdG9yZWRHZW5lcmF0aW9uLm1lc3NhZ2UgIT09IHZvaWQgMCkgcmV0dXJuIHtcblx0XHR0ZXh0OiBzdG9yZWRHZW5lcmF0aW9uLnRleHQsXG5cdFx0bWVzc2FnZTogbWFwU3RvcmVkTWVzc2FnZVRvQ2hhdE1lc3NhZ2Uoc3RvcmVkR2VuZXJhdGlvbi5tZXNzYWdlKVxuXHR9O1xuXHRlbHNlIHJldHVybiB7IHRleHQ6IHN0b3JlZEdlbmVyYXRpb24udGV4dCB9O1xufVxuZnVuY3Rpb24gc2VyaWFsaXplR2VuZXJhdGlvbihnZW5lcmF0aW9uKSB7XG5cdGNvbnN0IHNlcmlhbGl6ZWRWYWx1ZSA9IHsgdGV4dDogZ2VuZXJhdGlvbi50ZXh0IH07XG5cdGlmIChnZW5lcmF0aW9uLm1lc3NhZ2UgIT09IHZvaWQgMCkgc2VyaWFsaXplZFZhbHVlLm1lc3NhZ2UgPSBnZW5lcmF0aW9uLm1lc3NhZ2UudG9EaWN0KCk7XG5cdHJldHVybiBzZXJpYWxpemVkVmFsdWU7XG59XG4vKipcbiogQmFzZSBjbGFzcyBmb3IgYWxsIGNhY2hlcy4gQWxsIGNhY2hlcyBzaG91bGQgZXh0ZW5kIHRoaXMgY2xhc3MuXG4qL1xudmFyIEJhc2VDYWNoZSA9IGNsYXNzIHtcblx0a2V5RW5jb2RlciA9IGRlZmF1bHRIYXNoS2V5RW5jb2Rlcjtcblx0LyoqXG5cdCogU2V0cyBhIGN1c3RvbSBrZXkgZW5jb2RlciBmdW5jdGlvbiBmb3IgdGhlIGNhY2hlLlxuXHQqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIHRha2UgYSBwcm9tcHQgYW5kIGFuIExMTSBrZXkgYW5kIHJldHVybiBhIHN0cmluZ1xuXHQqIHRoYXQgd2lsbCBiZSB1c2VkIGFzIHRoZSBjYWNoZSBrZXkuXG5cdCogQHBhcmFtIGtleUVuY29kZXJGbiBUaGUgY3VzdG9tIGtleSBlbmNvZGVyIGZ1bmN0aW9uLlxuXHQqL1xuXHRtYWtlRGVmYXVsdEtleUVuY29kZXIoa2V5RW5jb2RlckZuKSB7XG5cdFx0dGhpcy5rZXlFbmNvZGVyID0ga2V5RW5jb2RlckZuO1xuXHR9XG59O1xuY29uc3QgR0xPQkFMX01BUCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4vKipcbiogQSBjYWNoZSBmb3Igc3RvcmluZyBMTE0gZ2VuZXJhdGlvbnMgdGhhdCBzdG9yZXMgZGF0YSBpbiBtZW1vcnkuXG4qL1xudmFyIEluTWVtb3J5Q2FjaGUgPSBjbGFzcyBJbk1lbW9yeUNhY2hlIGV4dGVuZHMgQmFzZUNhY2hlIHtcblx0Y2FjaGU7XG5cdGNvbnN0cnVjdG9yKG1hcCkge1xuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy5jYWNoZSA9IG1hcCA/PyAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuXHR9XG5cdC8qKlxuXHQqIFJldHJpZXZlcyBkYXRhIGZyb20gdGhlIGNhY2hlIHVzaW5nIGEgcHJvbXB0IGFuZCBhbiBMTE0ga2V5LiBJZiB0aGVcblx0KiBkYXRhIGlzIG5vdCBmb3VuZCwgaXQgcmV0dXJucyBudWxsLlxuXHQqIEBwYXJhbSBwcm9tcHQgVGhlIHByb21wdCB1c2VkIHRvIGZpbmQgdGhlIGRhdGEuXG5cdCogQHBhcmFtIGxsbUtleSBUaGUgTExNIGtleSB1c2VkIHRvIGZpbmQgdGhlIGRhdGEuXG5cdCogQHJldHVybnMgVGhlIGRhdGEgY29ycmVzcG9uZGluZyB0byB0aGUgcHJvbXB0IGFuZCBMTE0ga2V5LCBvciBudWxsIGlmIG5vdCBmb3VuZC5cblx0Ki9cblx0bG9va3VwKHByb21wdCwgbGxtS2V5KSB7XG5cdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmNhY2hlLmdldCh0aGlzLmtleUVuY29kZXIocHJvbXB0LCBsbG1LZXkpKSA/PyBudWxsKTtcblx0fVxuXHQvKipcblx0KiBVcGRhdGVzIHRoZSBjYWNoZSB3aXRoIG5ldyBkYXRhIHVzaW5nIGEgcHJvbXB0IGFuZCBhbiBMTE0ga2V5LlxuXHQqIEBwYXJhbSBwcm9tcHQgVGhlIHByb21wdCB1c2VkIHRvIHN0b3JlIHRoZSBkYXRhLlxuXHQqIEBwYXJhbSBsbG1LZXkgVGhlIExMTSBrZXkgdXNlZCB0byBzdG9yZSB0aGUgZGF0YS5cblx0KiBAcGFyYW0gdmFsdWUgVGhlIGRhdGEgdG8gYmUgc3RvcmVkLlxuXHQqL1xuXHRhc3luYyB1cGRhdGUocHJvbXB0LCBsbG1LZXksIHZhbHVlKSB7XG5cdFx0dGhpcy5jYWNoZS5zZXQodGhpcy5rZXlFbmNvZGVyKHByb21wdCwgbGxtS2V5KSwgdmFsdWUpO1xuXHR9XG5cdC8qKlxuXHQqIFJldHVybnMgYSBnbG9iYWwgaW5zdGFuY2Ugb2YgSW5NZW1vcnlDYWNoZSB1c2luZyBhIHByZWRlZmluZWQgZ2xvYmFsXG5cdCogbWFwIGFzIHRoZSBpbml0aWFsIGNhY2hlLlxuXHQqIEByZXR1cm5zIEEgZ2xvYmFsIGluc3RhbmNlIG9mIEluTWVtb3J5Q2FjaGUuXG5cdCovXG5cdHN0YXRpYyBnbG9iYWwoKSB7XG5cdFx0cmV0dXJuIG5ldyBJbk1lbW9yeUNhY2hlKEdMT0JBTF9NQVApO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEJhc2VDYWNoZSwgSW5NZW1vcnlDYWNoZSwgY2FjaGVzX2V4cG9ydHMsIGRlZmF1bHRIYXNoS2V5RW5jb2RlciwgZGVzZXJpYWxpemVTdG9yZWRHZW5lcmF0aW9uLCBzZXJpYWxpemVHZW5lcmF0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/caches/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/callbacks/base.js":
/*!********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/callbacks/base.js ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseCallbackHandler: () => (/* binding */ BaseCallbackHandler),\n/* harmony export */   base_exports: () => (/* binding */ base_exports),\n/* harmony export */   callbackHandlerPrefersStreaming: () => (/* binding */ callbackHandlerPrefersStreaming),\n/* harmony export */   isBaseCallbackHandler: () => (/* binding */ isBaseCallbackHandler)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _load_serializable_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../load/serializable.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/load/serializable.js\");\n/* harmony import */ var _utils_env_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/env.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/env.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! uuid */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+uuid@10.0.0/node_modules/uuid/dist/esm-node/v7.js\");\n\n\n\n\n\n//#region src/callbacks/base.ts\nvar base_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(base_exports, {\n\tBaseCallbackHandler: () => BaseCallbackHandler,\n\tcallbackHandlerPrefersStreaming: () => callbackHandlerPrefersStreaming,\n\tisBaseCallbackHandler: () => isBaseCallbackHandler\n});\n/**\n* Abstract class that provides a set of optional methods that can be\n* overridden in derived classes to handle various events during the\n* execution of a LangChain application.\n*/\nvar BaseCallbackHandlerMethodsClass = class {};\nfunction callbackHandlerPrefersStreaming(x) {\n\treturn \"lc_prefer_streaming\" in x && x.lc_prefer_streaming;\n}\n/**\n* Abstract base class for creating callback handlers in the LangChain\n* framework. It provides a set of optional methods that can be overridden\n* in derived classes to handle various events during the execution of a\n* LangChain application.\n*/\nvar BaseCallbackHandler = class extends BaseCallbackHandlerMethodsClass {\n\tlc_serializable = false;\n\tget lc_namespace() {\n\t\treturn [\n\t\t\t\"langchain_core\",\n\t\t\t\"callbacks\",\n\t\t\tthis.name\n\t\t];\n\t}\n\tget lc_secrets() {\n\t\treturn void 0;\n\t}\n\tget lc_attributes() {\n\t\treturn void 0;\n\t}\n\tget lc_aliases() {\n\t\treturn void 0;\n\t}\n\tget lc_serializable_keys() {\n\t\treturn void 0;\n\t}\n\t/**\n\t* The name of the serializable. Override to provide an alias or\n\t* to preserve the serialized module name in minified environments.\n\t*\n\t* Implemented as a static method to support loading logic.\n\t*/\n\tstatic lc_name() {\n\t\treturn this.name;\n\t}\n\t/**\n\t* The final serialized identifier for the module.\n\t*/\n\tget lc_id() {\n\t\treturn [...this.lc_namespace, (0,_load_serializable_js__WEBPACK_IMPORTED_MODULE_1__.get_lc_unique_name)(this.constructor)];\n\t}\n\tlc_kwargs;\n\tignoreLLM = false;\n\tignoreChain = false;\n\tignoreAgent = false;\n\tignoreRetriever = false;\n\tignoreCustomEvent = false;\n\traiseError = false;\n\tawaitHandlers = (0,_utils_env_js__WEBPACK_IMPORTED_MODULE_2__.getEnvironmentVariable)(\"LANGCHAIN_CALLBACKS_BACKGROUND\") === \"false\";\n\tconstructor(input) {\n\t\tsuper();\n\t\tthis.lc_kwargs = input || {};\n\t\tif (input) {\n\t\t\tthis.ignoreLLM = input.ignoreLLM ?? this.ignoreLLM;\n\t\t\tthis.ignoreChain = input.ignoreChain ?? this.ignoreChain;\n\t\t\tthis.ignoreAgent = input.ignoreAgent ?? this.ignoreAgent;\n\t\t\tthis.ignoreRetriever = input.ignoreRetriever ?? this.ignoreRetriever;\n\t\t\tthis.ignoreCustomEvent = input.ignoreCustomEvent ?? this.ignoreCustomEvent;\n\t\t\tthis.raiseError = input.raiseError ?? this.raiseError;\n\t\t\tthis.awaitHandlers = this.raiseError || (input._awaitHandler ?? this.awaitHandlers);\n\t\t}\n\t}\n\tcopy() {\n\t\treturn new this.constructor(this);\n\t}\n\ttoJSON() {\n\t\treturn _load_serializable_js__WEBPACK_IMPORTED_MODULE_1__.Serializable.prototype.toJSON.call(this);\n\t}\n\ttoJSONNotImplemented() {\n\t\treturn _load_serializable_js__WEBPACK_IMPORTED_MODULE_1__.Serializable.prototype.toJSONNotImplemented.call(this);\n\t}\n\tstatic fromMethods(methods) {\n\t\tclass Handler extends BaseCallbackHandler {\n\t\t\tname = uuid__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\t\t\tconstructor() {\n\t\t\t\tsuper();\n\t\t\t\tObject.assign(this, methods);\n\t\t\t}\n\t\t}\n\t\treturn new Handler();\n\t}\n};\nconst isBaseCallbackHandler = (x) => {\n\tconst callbackHandler = x;\n\treturn callbackHandler !== void 0 && typeof callbackHandler.copy === \"function\" && typeof callbackHandler.name === \"string\" && typeof callbackHandler.awaitHandlers === \"boolean\";\n};\n\n//#endregion\n\n//# sourceMappingURL=base.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L2NhbGxiYWNrcy9iYXNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQTJEO0FBQ2dCO0FBQ2xCO0FBQzVCOztBQUU3QjtBQUNBO0FBQ0Esc0VBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MseUVBQWtCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIscUVBQXNCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLCtEQUFZO0FBQ3JCO0FBQ0E7QUFDQSxTQUFTLCtEQUFZO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLFVBQVUsNENBQU87QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3FHO0FBQ3JHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L2NhbGxiYWNrcy9iYXNlLmpzPzQyODkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19leHBvcnQgfSBmcm9tIFwiLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5qc1wiO1xuaW1wb3J0IHsgU2VyaWFsaXphYmxlLCBnZXRfbGNfdW5pcXVlX25hbWUgfSBmcm9tIFwiLi4vbG9hZC9zZXJpYWxpemFibGUuanNcIjtcbmltcG9ydCB7IGdldEVudmlyb25tZW50VmFyaWFibGUgfSBmcm9tIFwiLi4vdXRpbHMvZW52LmpzXCI7XG5pbXBvcnQgKiBhcyB1dWlkIGZyb20gXCJ1dWlkXCI7XG5cbi8vI3JlZ2lvbiBzcmMvY2FsbGJhY2tzL2Jhc2UudHNcbnZhciBiYXNlX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KGJhc2VfZXhwb3J0cywge1xuXHRCYXNlQ2FsbGJhY2tIYW5kbGVyOiAoKSA9PiBCYXNlQ2FsbGJhY2tIYW5kbGVyLFxuXHRjYWxsYmFja0hhbmRsZXJQcmVmZXJzU3RyZWFtaW5nOiAoKSA9PiBjYWxsYmFja0hhbmRsZXJQcmVmZXJzU3RyZWFtaW5nLFxuXHRpc0Jhc2VDYWxsYmFja0hhbmRsZXI6ICgpID0+IGlzQmFzZUNhbGxiYWNrSGFuZGxlclxufSk7XG4vKipcbiogQWJzdHJhY3QgY2xhc3MgdGhhdCBwcm92aWRlcyBhIHNldCBvZiBvcHRpb25hbCBtZXRob2RzIHRoYXQgY2FuIGJlXG4qIG92ZXJyaWRkZW4gaW4gZGVyaXZlZCBjbGFzc2VzIHRvIGhhbmRsZSB2YXJpb3VzIGV2ZW50cyBkdXJpbmcgdGhlXG4qIGV4ZWN1dGlvbiBvZiBhIExhbmdDaGFpbiBhcHBsaWNhdGlvbi5cbiovXG52YXIgQmFzZUNhbGxiYWNrSGFuZGxlck1ldGhvZHNDbGFzcyA9IGNsYXNzIHt9O1xuZnVuY3Rpb24gY2FsbGJhY2tIYW5kbGVyUHJlZmVyc1N0cmVhbWluZyh4KSB7XG5cdHJldHVybiBcImxjX3ByZWZlcl9zdHJlYW1pbmdcIiBpbiB4ICYmIHgubGNfcHJlZmVyX3N0cmVhbWluZztcbn1cbi8qKlxuKiBBYnN0cmFjdCBiYXNlIGNsYXNzIGZvciBjcmVhdGluZyBjYWxsYmFjayBoYW5kbGVycyBpbiB0aGUgTGFuZ0NoYWluXG4qIGZyYW1ld29yay4gSXQgcHJvdmlkZXMgYSBzZXQgb2Ygb3B0aW9uYWwgbWV0aG9kcyB0aGF0IGNhbiBiZSBvdmVycmlkZGVuXG4qIGluIGRlcml2ZWQgY2xhc3NlcyB0byBoYW5kbGUgdmFyaW91cyBldmVudHMgZHVyaW5nIHRoZSBleGVjdXRpb24gb2YgYVxuKiBMYW5nQ2hhaW4gYXBwbGljYXRpb24uXG4qL1xudmFyIEJhc2VDYWxsYmFja0hhbmRsZXIgPSBjbGFzcyBleHRlbmRzIEJhc2VDYWxsYmFja0hhbmRsZXJNZXRob2RzQ2xhc3Mge1xuXHRsY19zZXJpYWxpemFibGUgPSBmYWxzZTtcblx0Z2V0IGxjX25hbWVzcGFjZSgpIHtcblx0XHRyZXR1cm4gW1xuXHRcdFx0XCJsYW5nY2hhaW5fY29yZVwiLFxuXHRcdFx0XCJjYWxsYmFja3NcIixcblx0XHRcdHRoaXMubmFtZVxuXHRcdF07XG5cdH1cblx0Z2V0IGxjX3NlY3JldHMoKSB7XG5cdFx0cmV0dXJuIHZvaWQgMDtcblx0fVxuXHRnZXQgbGNfYXR0cmlidXRlcygpIHtcblx0XHRyZXR1cm4gdm9pZCAwO1xuXHR9XG5cdGdldCBsY19hbGlhc2VzKCkge1xuXHRcdHJldHVybiB2b2lkIDA7XG5cdH1cblx0Z2V0IGxjX3NlcmlhbGl6YWJsZV9rZXlzKCkge1xuXHRcdHJldHVybiB2b2lkIDA7XG5cdH1cblx0LyoqXG5cdCogVGhlIG5hbWUgb2YgdGhlIHNlcmlhbGl6YWJsZS4gT3ZlcnJpZGUgdG8gcHJvdmlkZSBhbiBhbGlhcyBvclxuXHQqIHRvIHByZXNlcnZlIHRoZSBzZXJpYWxpemVkIG1vZHVsZSBuYW1lIGluIG1pbmlmaWVkIGVudmlyb25tZW50cy5cblx0KlxuXHQqIEltcGxlbWVudGVkIGFzIGEgc3RhdGljIG1ldGhvZCB0byBzdXBwb3J0IGxvYWRpbmcgbG9naWMuXG5cdCovXG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiB0aGlzLm5hbWU7XG5cdH1cblx0LyoqXG5cdCogVGhlIGZpbmFsIHNlcmlhbGl6ZWQgaWRlbnRpZmllciBmb3IgdGhlIG1vZHVsZS5cblx0Ki9cblx0Z2V0IGxjX2lkKCkge1xuXHRcdHJldHVybiBbLi4udGhpcy5sY19uYW1lc3BhY2UsIGdldF9sY191bmlxdWVfbmFtZSh0aGlzLmNvbnN0cnVjdG9yKV07XG5cdH1cblx0bGNfa3dhcmdzO1xuXHRpZ25vcmVMTE0gPSBmYWxzZTtcblx0aWdub3JlQ2hhaW4gPSBmYWxzZTtcblx0aWdub3JlQWdlbnQgPSBmYWxzZTtcblx0aWdub3JlUmV0cmlldmVyID0gZmFsc2U7XG5cdGlnbm9yZUN1c3RvbUV2ZW50ID0gZmFsc2U7XG5cdHJhaXNlRXJyb3IgPSBmYWxzZTtcblx0YXdhaXRIYW5kbGVycyA9IGdldEVudmlyb25tZW50VmFyaWFibGUoXCJMQU5HQ0hBSU5fQ0FMTEJBQ0tTX0JBQ0tHUk9VTkRcIikgPT09IFwiZmFsc2VcIjtcblx0Y29uc3RydWN0b3IoaW5wdXQpIHtcblx0XHRzdXBlcigpO1xuXHRcdHRoaXMubGNfa3dhcmdzID0gaW5wdXQgfHwge307XG5cdFx0aWYgKGlucHV0KSB7XG5cdFx0XHR0aGlzLmlnbm9yZUxMTSA9IGlucHV0Lmlnbm9yZUxMTSA/PyB0aGlzLmlnbm9yZUxMTTtcblx0XHRcdHRoaXMuaWdub3JlQ2hhaW4gPSBpbnB1dC5pZ25vcmVDaGFpbiA/PyB0aGlzLmlnbm9yZUNoYWluO1xuXHRcdFx0dGhpcy5pZ25vcmVBZ2VudCA9IGlucHV0Lmlnbm9yZUFnZW50ID8/IHRoaXMuaWdub3JlQWdlbnQ7XG5cdFx0XHR0aGlzLmlnbm9yZVJldHJpZXZlciA9IGlucHV0Lmlnbm9yZVJldHJpZXZlciA/PyB0aGlzLmlnbm9yZVJldHJpZXZlcjtcblx0XHRcdHRoaXMuaWdub3JlQ3VzdG9tRXZlbnQgPSBpbnB1dC5pZ25vcmVDdXN0b21FdmVudCA/PyB0aGlzLmlnbm9yZUN1c3RvbUV2ZW50O1xuXHRcdFx0dGhpcy5yYWlzZUVycm9yID0gaW5wdXQucmFpc2VFcnJvciA/PyB0aGlzLnJhaXNlRXJyb3I7XG5cdFx0XHR0aGlzLmF3YWl0SGFuZGxlcnMgPSB0aGlzLnJhaXNlRXJyb3IgfHwgKGlucHV0Ll9hd2FpdEhhbmRsZXIgPz8gdGhpcy5hd2FpdEhhbmRsZXJzKTtcblx0XHR9XG5cdH1cblx0Y29weSgpIHtcblx0XHRyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcyk7XG5cdH1cblx0dG9KU09OKCkge1xuXHRcdHJldHVybiBTZXJpYWxpemFibGUucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMpO1xuXHR9XG5cdHRvSlNPTk5vdEltcGxlbWVudGVkKCkge1xuXHRcdHJldHVybiBTZXJpYWxpemFibGUucHJvdG90eXBlLnRvSlNPTk5vdEltcGxlbWVudGVkLmNhbGwodGhpcyk7XG5cdH1cblx0c3RhdGljIGZyb21NZXRob2RzKG1ldGhvZHMpIHtcblx0XHRjbGFzcyBIYW5kbGVyIGV4dGVuZHMgQmFzZUNhbGxiYWNrSGFuZGxlciB7XG5cdFx0XHRuYW1lID0gdXVpZC52NygpO1xuXHRcdFx0Y29uc3RydWN0b3IoKSB7XG5cdFx0XHRcdHN1cGVyKCk7XG5cdFx0XHRcdE9iamVjdC5hc3NpZ24odGhpcywgbWV0aG9kcyk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBuZXcgSGFuZGxlcigpO1xuXHR9XG59O1xuY29uc3QgaXNCYXNlQ2FsbGJhY2tIYW5kbGVyID0gKHgpID0+IHtcblx0Y29uc3QgY2FsbGJhY2tIYW5kbGVyID0geDtcblx0cmV0dXJuIGNhbGxiYWNrSGFuZGxlciAhPT0gdm9pZCAwICYmIHR5cGVvZiBjYWxsYmFja0hhbmRsZXIuY29weSA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBjYWxsYmFja0hhbmRsZXIubmFtZSA9PT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgY2FsbGJhY2tIYW5kbGVyLmF3YWl0SGFuZGxlcnMgPT09IFwiYm9vbGVhblwiO1xufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBCYXNlQ2FsbGJhY2tIYW5kbGVyLCBiYXNlX2V4cG9ydHMsIGNhbGxiYWNrSGFuZGxlclByZWZlcnNTdHJlYW1pbmcsIGlzQmFzZUNhbGxiYWNrSGFuZGxlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmFzZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/callbacks/base.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/callbacks/manager.js":
/*!***********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/callbacks/manager.js ***!
  \***********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseCallbackManager: () => (/* binding */ BaseCallbackManager),\n/* harmony export */   BaseRunManager: () => (/* binding */ BaseRunManager),\n/* harmony export */   CallbackManager: () => (/* binding */ CallbackManager),\n/* harmony export */   CallbackManagerForChainRun: () => (/* binding */ CallbackManagerForChainRun),\n/* harmony export */   CallbackManagerForLLMRun: () => (/* binding */ CallbackManagerForLLMRun),\n/* harmony export */   CallbackManagerForRetrieverRun: () => (/* binding */ CallbackManagerForRetrieverRun),\n/* harmony export */   CallbackManagerForToolRun: () => (/* binding */ CallbackManagerForToolRun),\n/* harmony export */   ensureHandler: () => (/* binding */ ensureHandler),\n/* harmony export */   manager_exports: () => (/* binding */ manager_exports),\n/* harmony export */   parseCallbackConfigArg: () => (/* binding */ parseCallbackConfigArg)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _messages_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../messages/utils.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/utils.js\");\n/* harmony import */ var _utils_env_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/env.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/env.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/callbacks/base.js\");\n/* harmony import */ var _tracers_base_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tracers/base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tracers/base.js\");\n/* harmony import */ var _tracers_console_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../tracers/console.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tracers/console.js\");\n/* harmony import */ var _tracers_tracer_langchain_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../tracers/tracer_langchain.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tracers/tracer_langchain.js\");\n/* harmony import */ var _singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../singletons/callbacks.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/callbacks.js\");\n/* harmony import */ var _promises_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./promises.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/callbacks/promises.js\");\n/* harmony import */ var _utils_callbacks_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/callbacks.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/callbacks.js\");\n/* harmony import */ var _singletons_async_local_storage_context_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../singletons/async_local_storage/context.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/async_local_storage/context.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! uuid */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+uuid@10.0.0/node_modules/uuid/dist/esm-node/v7.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n//#region src/callbacks/manager.ts\nvar manager_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(manager_exports, {\n\tBaseCallbackManager: () => BaseCallbackManager,\n\tBaseRunManager: () => BaseRunManager,\n\tCallbackManager: () => CallbackManager,\n\tCallbackManagerForChainRun: () => CallbackManagerForChainRun,\n\tCallbackManagerForLLMRun: () => CallbackManagerForLLMRun,\n\tCallbackManagerForRetrieverRun: () => CallbackManagerForRetrieverRun,\n\tCallbackManagerForToolRun: () => CallbackManagerForToolRun,\n\tensureHandler: () => ensureHandler,\n\tparseCallbackConfigArg: () => parseCallbackConfigArg\n});\nfunction parseCallbackConfigArg(arg) {\n\tif (!arg) return {};\n\telse if (Array.isArray(arg) || \"name\" in arg) return { callbacks: arg };\n\telse return arg;\n}\n/**\n* Manage callbacks from different components of LangChain.\n*/\nvar BaseCallbackManager = class {\n\tsetHandler(handler) {\n\t\treturn this.setHandlers([handler]);\n\t}\n};\n/**\n* Base class for run manager in LangChain.\n*/\nvar BaseRunManager = class {\n\tconstructor(runId, handlers, inheritableHandlers, tags, inheritableTags, metadata, inheritableMetadata, _parentRunId) {\n\t\tthis.runId = runId;\n\t\tthis.handlers = handlers;\n\t\tthis.inheritableHandlers = inheritableHandlers;\n\t\tthis.tags = tags;\n\t\tthis.inheritableTags = inheritableTags;\n\t\tthis.metadata = metadata;\n\t\tthis.inheritableMetadata = inheritableMetadata;\n\t\tthis._parentRunId = _parentRunId;\n\t}\n\tget parentRunId() {\n\t\treturn this._parentRunId;\n\t}\n\tasync handleText(text) {\n\t\tawait Promise.all(this.handlers.map((handler) => (0,_singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__.consumeCallback)(async () => {\n\t\t\ttry {\n\t\t\t\tawait handler.handleText?.(text, this.runId, this._parentRunId, this.tags);\n\t\t\t} catch (err) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleText: ${err}`);\n\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n\tasync handleCustomEvent(eventName, data, _runId, _tags, _metadata) {\n\t\tawait Promise.all(this.handlers.map((handler) => (0,_singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__.consumeCallback)(async () => {\n\t\t\ttry {\n\t\t\t\tawait handler.handleCustomEvent?.(eventName, data, this.runId, this.tags, this.metadata);\n\t\t\t} catch (err) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleCustomEvent: ${err}`);\n\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n};\n/**\n* Manages callbacks for retriever runs.\n*/\nvar CallbackManagerForRetrieverRun = class extends BaseRunManager {\n\tgetChild(tag) {\n\t\tconst manager = new CallbackManager(this.runId);\n\t\tmanager.setHandlers(this.inheritableHandlers);\n\t\tmanager.addTags(this.inheritableTags);\n\t\tmanager.addMetadata(this.inheritableMetadata);\n\t\tif (tag) manager.addTags([tag], false);\n\t\treturn manager;\n\t}\n\tasync handleRetrieverEnd(documents) {\n\t\tawait Promise.all(this.handlers.map((handler) => (0,_singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__.consumeCallback)(async () => {\n\t\t\tif (!handler.ignoreRetriever) try {\n\t\t\t\tawait handler.handleRetrieverEnd?.(documents, this.runId, this._parentRunId, this.tags);\n\t\t\t} catch (err) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleRetriever`);\n\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n\tasync handleRetrieverError(err) {\n\t\tawait Promise.all(this.handlers.map((handler) => (0,_singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__.consumeCallback)(async () => {\n\t\t\tif (!handler.ignoreRetriever) try {\n\t\t\t\tawait handler.handleRetrieverError?.(err, this.runId, this._parentRunId, this.tags);\n\t\t\t} catch (error) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleRetrieverError: ${error}`);\n\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n};\nvar CallbackManagerForLLMRun = class extends BaseRunManager {\n\tasync handleLLMNewToken(token, idx, _runId, _parentRunId, _tags, fields) {\n\t\tawait Promise.all(this.handlers.map((handler) => (0,_singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__.consumeCallback)(async () => {\n\t\t\tif (!handler.ignoreLLM) try {\n\t\t\t\tawait handler.handleLLMNewToken?.(token, idx ?? {\n\t\t\t\t\tprompt: 0,\n\t\t\t\t\tcompletion: 0\n\t\t\t\t}, this.runId, this._parentRunId, this.tags, fields);\n\t\t\t} catch (err) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleLLMNewToken: ${err}`);\n\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n\tasync handleLLMError(err, _runId, _parentRunId, _tags, extraParams) {\n\t\tawait Promise.all(this.handlers.map((handler) => (0,_singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__.consumeCallback)(async () => {\n\t\t\tif (!handler.ignoreLLM) try {\n\t\t\t\tawait handler.handleLLMError?.(err, this.runId, this._parentRunId, this.tags, extraParams);\n\t\t\t} catch (err$1) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleLLMError: ${err$1}`);\n\t\t\t\tif (handler.raiseError) throw err$1;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n\tasync handleLLMEnd(output, _runId, _parentRunId, _tags, extraParams) {\n\t\tawait Promise.all(this.handlers.map((handler) => (0,_singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__.consumeCallback)(async () => {\n\t\t\tif (!handler.ignoreLLM) try {\n\t\t\t\tawait handler.handleLLMEnd?.(output, this.runId, this._parentRunId, this.tags, extraParams);\n\t\t\t} catch (err) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleLLMEnd: ${err}`);\n\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n};\nvar CallbackManagerForChainRun = class extends BaseRunManager {\n\tgetChild(tag) {\n\t\tconst manager = new CallbackManager(this.runId);\n\t\tmanager.setHandlers(this.inheritableHandlers);\n\t\tmanager.addTags(this.inheritableTags);\n\t\tmanager.addMetadata(this.inheritableMetadata);\n\t\tif (tag) manager.addTags([tag], false);\n\t\treturn manager;\n\t}\n\tasync handleChainError(err, _runId, _parentRunId, _tags, kwargs) {\n\t\tawait Promise.all(this.handlers.map((handler) => (0,_singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__.consumeCallback)(async () => {\n\t\t\tif (!handler.ignoreChain) try {\n\t\t\t\tawait handler.handleChainError?.(err, this.runId, this._parentRunId, this.tags, kwargs);\n\t\t\t} catch (err$1) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleChainError: ${err$1}`);\n\t\t\t\tif (handler.raiseError) throw err$1;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n\tasync handleChainEnd(output, _runId, _parentRunId, _tags, kwargs) {\n\t\tawait Promise.all(this.handlers.map((handler) => (0,_singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__.consumeCallback)(async () => {\n\t\t\tif (!handler.ignoreChain) try {\n\t\t\t\tawait handler.handleChainEnd?.(output, this.runId, this._parentRunId, this.tags, kwargs);\n\t\t\t} catch (err) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleChainEnd: ${err}`);\n\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n\tasync handleAgentAction(action) {\n\t\tawait Promise.all(this.handlers.map((handler) => (0,_singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__.consumeCallback)(async () => {\n\t\t\tif (!handler.ignoreAgent) try {\n\t\t\t\tawait handler.handleAgentAction?.(action, this.runId, this._parentRunId, this.tags);\n\t\t\t} catch (err) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleAgentAction: ${err}`);\n\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n\tasync handleAgentEnd(action) {\n\t\tawait Promise.all(this.handlers.map((handler) => (0,_singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__.consumeCallback)(async () => {\n\t\t\tif (!handler.ignoreAgent) try {\n\t\t\t\tawait handler.handleAgentEnd?.(action, this.runId, this._parentRunId, this.tags);\n\t\t\t} catch (err) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleAgentEnd: ${err}`);\n\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n};\nvar CallbackManagerForToolRun = class extends BaseRunManager {\n\tgetChild(tag) {\n\t\tconst manager = new CallbackManager(this.runId);\n\t\tmanager.setHandlers(this.inheritableHandlers);\n\t\tmanager.addTags(this.inheritableTags);\n\t\tmanager.addMetadata(this.inheritableMetadata);\n\t\tif (tag) manager.addTags([tag], false);\n\t\treturn manager;\n\t}\n\tasync handleToolError(err) {\n\t\tawait Promise.all(this.handlers.map((handler) => (0,_singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__.consumeCallback)(async () => {\n\t\t\tif (!handler.ignoreAgent) try {\n\t\t\t\tawait handler.handleToolError?.(err, this.runId, this._parentRunId, this.tags);\n\t\t\t} catch (err$1) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleToolError: ${err$1}`);\n\t\t\t\tif (handler.raiseError) throw err$1;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n\tasync handleToolEnd(output) {\n\t\tawait Promise.all(this.handlers.map((handler) => (0,_singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__.consumeCallback)(async () => {\n\t\t\tif (!handler.ignoreAgent) try {\n\t\t\t\tawait handler.handleToolEnd?.(output, this.runId, this._parentRunId, this.tags);\n\t\t\t} catch (err) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleToolEnd: ${err}`);\n\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n};\n/**\n* @example\n* ```typescript\n* const prompt = PromptTemplate.fromTemplate(\"What is the answer to {question}?\");\n*\n* // Example of using LLMChain with OpenAI and a simple prompt\n* const chain = new LLMChain({\n*   llm: new ChatOpenAI({ model: \"gpt-4o-mini\", temperature: 0.9 }),\n*   prompt,\n* });\n*\n* // Running the chain with a single question\n* const result = await chain.call({\n*   question: \"What is the airspeed velocity of an unladen swallow?\",\n* });\n* console.log(\"The answer is:\", result);\n* ```\n*/\nvar CallbackManager = class CallbackManager extends BaseCallbackManager {\n\thandlers = [];\n\tinheritableHandlers = [];\n\ttags = [];\n\tinheritableTags = [];\n\tmetadata = {};\n\tinheritableMetadata = {};\n\tname = \"callback_manager\";\n\t_parentRunId;\n\tconstructor(parentRunId, options) {\n\t\tsuper();\n\t\tthis.handlers = options?.handlers ?? this.handlers;\n\t\tthis.inheritableHandlers = options?.inheritableHandlers ?? this.inheritableHandlers;\n\t\tthis.tags = options?.tags ?? this.tags;\n\t\tthis.inheritableTags = options?.inheritableTags ?? this.inheritableTags;\n\t\tthis.metadata = options?.metadata ?? this.metadata;\n\t\tthis.inheritableMetadata = options?.inheritableMetadata ?? this.inheritableMetadata;\n\t\tthis._parentRunId = parentRunId;\n\t}\n\t/**\n\t* Gets the parent run ID, if any.\n\t*\n\t* @returns The parent run ID.\n\t*/\n\tgetParentRunId() {\n\t\treturn this._parentRunId;\n\t}\n\tasync handleLLMStart(llm, prompts, runId = void 0, _parentRunId = void 0, extraParams = void 0, _tags = void 0, _metadata = void 0, runName = void 0) {\n\t\treturn Promise.all(prompts.map(async (prompt, idx) => {\n\t\t\tconst runId_ = idx === 0 && runId ? runId : (0,uuid__WEBPACK_IMPORTED_MODULE_11__[\"default\"])();\n\t\t\tawait Promise.all(this.handlers.map((handler) => {\n\t\t\t\tif (handler.ignoreLLM) return;\n\t\t\t\tif ((0,_tracers_base_js__WEBPACK_IMPORTED_MODULE_4__.isBaseTracer)(handler)) handler._createRunForLLMStart(llm, [prompt], runId_, this._parentRunId, extraParams, this.tags, this.metadata, runName);\n\t\t\t\treturn (0,_singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__.consumeCallback)(async () => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tawait handler.handleLLMStart?.(llm, [prompt], runId_, this._parentRunId, extraParams, this.tags, this.metadata, runName);\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleLLMStart: ${err}`);\n\t\t\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t\t\t}\n\t\t\t\t}, handler.awaitHandlers);\n\t\t\t}));\n\t\t\treturn new CallbackManagerForLLMRun(runId_, this.handlers, this.inheritableHandlers, this.tags, this.inheritableTags, this.metadata, this.inheritableMetadata, this._parentRunId);\n\t\t}));\n\t}\n\tasync handleChatModelStart(llm, messages, runId = void 0, _parentRunId = void 0, extraParams = void 0, _tags = void 0, _metadata = void 0, runName = void 0) {\n\t\treturn Promise.all(messages.map(async (messageGroup, idx) => {\n\t\t\tconst runId_ = idx === 0 && runId ? runId : (0,uuid__WEBPACK_IMPORTED_MODULE_11__[\"default\"])();\n\t\t\tawait Promise.all(this.handlers.map((handler) => {\n\t\t\t\tif (handler.ignoreLLM) return;\n\t\t\t\tif ((0,_tracers_base_js__WEBPACK_IMPORTED_MODULE_4__.isBaseTracer)(handler)) handler._createRunForChatModelStart(llm, [messageGroup], runId_, this._parentRunId, extraParams, this.tags, this.metadata, runName);\n\t\t\t\treturn (0,_singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__.consumeCallback)(async () => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (handler.handleChatModelStart) await handler.handleChatModelStart?.(llm, [messageGroup], runId_, this._parentRunId, extraParams, this.tags, this.metadata, runName);\n\t\t\t\t\t\telse if (handler.handleLLMStart) {\n\t\t\t\t\t\t\tconst messageString = (0,_messages_utils_js__WEBPACK_IMPORTED_MODULE_1__.getBufferString)(messageGroup);\n\t\t\t\t\t\t\tawait handler.handleLLMStart?.(llm, [messageString], runId_, this._parentRunId, extraParams, this.tags, this.metadata, runName);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleLLMStart: ${err}`);\n\t\t\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t\t\t}\n\t\t\t\t}, handler.awaitHandlers);\n\t\t\t}));\n\t\t\treturn new CallbackManagerForLLMRun(runId_, this.handlers, this.inheritableHandlers, this.tags, this.inheritableTags, this.metadata, this.inheritableMetadata, this._parentRunId);\n\t\t}));\n\t}\n\tasync handleChainStart(chain, inputs, runId = (0,uuid__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(), runType = void 0, _tags = void 0, _metadata = void 0, runName = void 0, _parentRunId = void 0, extra = void 0) {\n\t\tawait Promise.all(this.handlers.map((handler) => {\n\t\t\tif (handler.ignoreChain) return;\n\t\t\tif ((0,_tracers_base_js__WEBPACK_IMPORTED_MODULE_4__.isBaseTracer)(handler)) handler._createRunForChainStart(chain, inputs, runId, this._parentRunId, this.tags, this.metadata, runType, runName, extra);\n\t\t\treturn (0,_singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__.consumeCallback)(async () => {\n\t\t\t\ttry {\n\t\t\t\t\tawait handler.handleChainStart?.(chain, inputs, runId, this._parentRunId, this.tags, this.metadata, runType, runName, extra);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleChainStart: ${err}`);\n\t\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t\t}\n\t\t\t}, handler.awaitHandlers);\n\t\t}));\n\t\treturn new CallbackManagerForChainRun(runId, this.handlers, this.inheritableHandlers, this.tags, this.inheritableTags, this.metadata, this.inheritableMetadata, this._parentRunId);\n\t}\n\tasync handleToolStart(tool, input, runId = (0,uuid__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(), _parentRunId = void 0, _tags = void 0, _metadata = void 0, runName = void 0) {\n\t\tawait Promise.all(this.handlers.map((handler) => {\n\t\t\tif (handler.ignoreAgent) return;\n\t\t\tif ((0,_tracers_base_js__WEBPACK_IMPORTED_MODULE_4__.isBaseTracer)(handler)) handler._createRunForToolStart(tool, input, runId, this._parentRunId, this.tags, this.metadata, runName);\n\t\t\treturn (0,_singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__.consumeCallback)(async () => {\n\t\t\t\ttry {\n\t\t\t\t\tawait handler.handleToolStart?.(tool, input, runId, this._parentRunId, this.tags, this.metadata, runName);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleToolStart: ${err}`);\n\t\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t\t}\n\t\t\t}, handler.awaitHandlers);\n\t\t}));\n\t\treturn new CallbackManagerForToolRun(runId, this.handlers, this.inheritableHandlers, this.tags, this.inheritableTags, this.metadata, this.inheritableMetadata, this._parentRunId);\n\t}\n\tasync handleRetrieverStart(retriever, query, runId = (0,uuid__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(), _parentRunId = void 0, _tags = void 0, _metadata = void 0, runName = void 0) {\n\t\tawait Promise.all(this.handlers.map((handler) => {\n\t\t\tif (handler.ignoreRetriever) return;\n\t\t\tif ((0,_tracers_base_js__WEBPACK_IMPORTED_MODULE_4__.isBaseTracer)(handler)) handler._createRunForRetrieverStart(retriever, query, runId, this._parentRunId, this.tags, this.metadata, runName);\n\t\t\treturn (0,_singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__.consumeCallback)(async () => {\n\t\t\t\ttry {\n\t\t\t\t\tawait handler.handleRetrieverStart?.(retriever, query, runId, this._parentRunId, this.tags, this.metadata, runName);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleRetrieverStart: ${err}`);\n\t\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t\t}\n\t\t\t}, handler.awaitHandlers);\n\t\t}));\n\t\treturn new CallbackManagerForRetrieverRun(runId, this.handlers, this.inheritableHandlers, this.tags, this.inheritableTags, this.metadata, this.inheritableMetadata, this._parentRunId);\n\t}\n\tasync handleCustomEvent(eventName, data, runId, _tags, _metadata) {\n\t\tawait Promise.all(this.handlers.map((handler) => (0,_singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_7__.consumeCallback)(async () => {\n\t\t\tif (!handler.ignoreCustomEvent) try {\n\t\t\t\tawait handler.handleCustomEvent?.(eventName, data, runId, this.tags, this.metadata);\n\t\t\t} catch (err) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleCustomEvent: ${err}`);\n\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n\taddHandler(handler, inherit = true) {\n\t\tthis.handlers.push(handler);\n\t\tif (inherit) this.inheritableHandlers.push(handler);\n\t}\n\tremoveHandler(handler) {\n\t\tthis.handlers = this.handlers.filter((_handler) => _handler !== handler);\n\t\tthis.inheritableHandlers = this.inheritableHandlers.filter((_handler) => _handler !== handler);\n\t}\n\tsetHandlers(handlers, inherit = true) {\n\t\tthis.handlers = [];\n\t\tthis.inheritableHandlers = [];\n\t\tfor (const handler of handlers) this.addHandler(handler, inherit);\n\t}\n\taddTags(tags, inherit = true) {\n\t\tthis.removeTags(tags);\n\t\tthis.tags.push(...tags);\n\t\tif (inherit) this.inheritableTags.push(...tags);\n\t}\n\tremoveTags(tags) {\n\t\tthis.tags = this.tags.filter((tag) => !tags.includes(tag));\n\t\tthis.inheritableTags = this.inheritableTags.filter((tag) => !tags.includes(tag));\n\t}\n\taddMetadata(metadata, inherit = true) {\n\t\tthis.metadata = {\n\t\t\t...this.metadata,\n\t\t\t...metadata\n\t\t};\n\t\tif (inherit) this.inheritableMetadata = {\n\t\t\t...this.inheritableMetadata,\n\t\t\t...metadata\n\t\t};\n\t}\n\tremoveMetadata(metadata) {\n\t\tfor (const key of Object.keys(metadata)) {\n\t\t\tdelete this.metadata[key];\n\t\t\tdelete this.inheritableMetadata[key];\n\t\t}\n\t}\n\tcopy(additionalHandlers = [], inherit = true) {\n\t\tconst manager = new CallbackManager(this._parentRunId);\n\t\tfor (const handler of this.handlers) {\n\t\t\tconst inheritable = this.inheritableHandlers.includes(handler);\n\t\t\tmanager.addHandler(handler, inheritable);\n\t\t}\n\t\tfor (const tag of this.tags) {\n\t\t\tconst inheritable = this.inheritableTags.includes(tag);\n\t\t\tmanager.addTags([tag], inheritable);\n\t\t}\n\t\tfor (const key of Object.keys(this.metadata)) {\n\t\t\tconst inheritable = Object.keys(this.inheritableMetadata).includes(key);\n\t\t\tmanager.addMetadata({ [key]: this.metadata[key] }, inheritable);\n\t\t}\n\t\tfor (const handler of additionalHandlers) {\n\t\t\tif (manager.handlers.filter((h) => h.name === \"console_callback_handler\").some((h) => h.name === handler.name)) continue;\n\t\t\tmanager.addHandler(handler, inherit);\n\t\t}\n\t\treturn manager;\n\t}\n\tstatic fromHandlers(handlers) {\n\t\tclass Handler extends _base_js__WEBPACK_IMPORTED_MODULE_3__.BaseCallbackHandler {\n\t\t\tname = (0,uuid__WEBPACK_IMPORTED_MODULE_11__[\"default\"])();\n\t\t\tconstructor() {\n\t\t\t\tsuper();\n\t\t\t\tObject.assign(this, handlers);\n\t\t\t}\n\t\t}\n\t\tconst manager = new this();\n\t\tmanager.addHandler(new Handler());\n\t\treturn manager;\n\t}\n\tstatic configure(inheritableHandlers, localHandlers, inheritableTags, localTags, inheritableMetadata, localMetadata, options) {\n\t\treturn this._configureSync(inheritableHandlers, localHandlers, inheritableTags, localTags, inheritableMetadata, localMetadata, options);\n\t}\n\tstatic _configureSync(inheritableHandlers, localHandlers, inheritableTags, localTags, inheritableMetadata, localMetadata, options) {\n\t\tlet callbackManager;\n\t\tif (inheritableHandlers || localHandlers) {\n\t\t\tif (Array.isArray(inheritableHandlers) || !inheritableHandlers) {\n\t\t\t\tcallbackManager = new CallbackManager();\n\t\t\t\tcallbackManager.setHandlers(inheritableHandlers?.map(ensureHandler) ?? [], true);\n\t\t\t} else callbackManager = inheritableHandlers;\n\t\t\tcallbackManager = callbackManager.copy(Array.isArray(localHandlers) ? localHandlers.map(ensureHandler) : localHandlers?.handlers, false);\n\t\t}\n\t\tconst verboseEnabled = (0,_utils_env_js__WEBPACK_IMPORTED_MODULE_2__.getEnvironmentVariable)(\"LANGCHAIN_VERBOSE\") === \"true\" || options?.verbose;\n\t\tconst tracingV2Enabled = _tracers_tracer_langchain_js__WEBPACK_IMPORTED_MODULE_6__.LangChainTracer.getTraceableRunTree()?.tracingEnabled ?? (0,_utils_callbacks_js__WEBPACK_IMPORTED_MODULE_9__.isTracingEnabled)();\n\t\tconst tracingEnabled = tracingV2Enabled || ((0,_utils_env_js__WEBPACK_IMPORTED_MODULE_2__.getEnvironmentVariable)(\"LANGCHAIN_TRACING\") ?? false);\n\t\tif (verboseEnabled || tracingEnabled) {\n\t\t\tif (!callbackManager) callbackManager = new CallbackManager();\n\t\t\tif (verboseEnabled && !callbackManager.handlers.some((handler) => handler.name === _tracers_console_js__WEBPACK_IMPORTED_MODULE_5__.ConsoleCallbackHandler.prototype.name)) {\n\t\t\t\tconst consoleHandler = new _tracers_console_js__WEBPACK_IMPORTED_MODULE_5__.ConsoleCallbackHandler();\n\t\t\t\tcallbackManager.addHandler(consoleHandler, true);\n\t\t\t}\n\t\t\tif (tracingEnabled && !callbackManager.handlers.some((handler) => handler.name === \"langchain_tracer\")) {\n\t\t\t\tif (tracingV2Enabled) {\n\t\t\t\t\tconst tracerV2 = new _tracers_tracer_langchain_js__WEBPACK_IMPORTED_MODULE_6__.LangChainTracer();\n\t\t\t\t\tcallbackManager.addHandler(tracerV2, true);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (tracingV2Enabled) {\n\t\t\t\tconst implicitRunTree = _tracers_tracer_langchain_js__WEBPACK_IMPORTED_MODULE_6__.LangChainTracer.getTraceableRunTree();\n\t\t\t\tif (implicitRunTree && callbackManager._parentRunId === void 0) {\n\t\t\t\t\tcallbackManager._parentRunId = implicitRunTree.id;\n\t\t\t\t\tconst tracerV2 = callbackManager.handlers.find((handler) => handler.name === \"langchain_tracer\");\n\t\t\t\t\ttracerV2?.updateFromRunTree(implicitRunTree);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (const { contextVar, inheritable = true, handlerClass, envVar } of (0,_singletons_async_local_storage_context_js__WEBPACK_IMPORTED_MODULE_10__._getConfigureHooks)()) {\n\t\t\tconst createIfNotInContext = envVar && (0,_utils_env_js__WEBPACK_IMPORTED_MODULE_2__.getEnvironmentVariable)(envVar) === \"true\" && handlerClass;\n\t\t\tlet handler;\n\t\t\tconst contextVarValue = contextVar !== void 0 ? (0,_singletons_async_local_storage_context_js__WEBPACK_IMPORTED_MODULE_10__.getContextVariable)(contextVar) : void 0;\n\t\t\tif (contextVarValue && (0,_base_js__WEBPACK_IMPORTED_MODULE_3__.isBaseCallbackHandler)(contextVarValue)) handler = contextVarValue;\n\t\t\telse if (createIfNotInContext) handler = new handlerClass({});\n\t\t\tif (handler !== void 0) {\n\t\t\t\tif (!callbackManager) callbackManager = new CallbackManager();\n\t\t\t\tif (!callbackManager.handlers.some((h) => h.name === handler.name)) callbackManager.addHandler(handler, inheritable);\n\t\t\t}\n\t\t}\n\t\tif (inheritableTags || localTags) {\n\t\t\tif (callbackManager) {\n\t\t\t\tcallbackManager.addTags(inheritableTags ?? []);\n\t\t\t\tcallbackManager.addTags(localTags ?? [], false);\n\t\t\t}\n\t\t}\n\t\tif (inheritableMetadata || localMetadata) {\n\t\t\tif (callbackManager) {\n\t\t\t\tcallbackManager.addMetadata(inheritableMetadata ?? {});\n\t\t\t\tcallbackManager.addMetadata(localMetadata ?? {}, false);\n\t\t\t}\n\t\t}\n\t\treturn callbackManager;\n\t}\n};\nfunction ensureHandler(handler) {\n\tif (\"name\" in handler) return handler;\n\treturn _base_js__WEBPACK_IMPORTED_MODULE_3__.BaseCallbackHandler.fromMethods(handler);\n}\n\n//#endregion\n\n//# sourceMappingURL=manager.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L2NhbGxiYWNrcy9tYW5hZ2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMkQ7QUFDSjtBQUNFO0FBQ2M7QUFDckI7QUFDYTtBQUNFO0FBQ0o7QUFDdEM7QUFDa0M7QUFDNkM7QUFDNUU7O0FBRTFCO0FBQ0E7QUFDQSxzRUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0Esd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELHlFQUFlO0FBQ2xFO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxvQ0FBb0MseUJBQXlCLGdCQUFnQixJQUFJO0FBQ2pGO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLG1EQUFtRCx5RUFBZTtBQUNsRTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esb0NBQW9DLHlCQUF5Qix1QkFBdUIsSUFBSTtBQUN4RjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCx5RUFBZTtBQUNsRTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esb0NBQW9DLHlCQUF5QjtBQUM3RDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxtREFBbUQseUVBQWU7QUFDbEU7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLG9DQUFvQyx5QkFBeUIsMEJBQTBCLE1BQU07QUFDN0Y7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCx5RUFBZTtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxLQUFLO0FBQ0w7QUFDQSxvQ0FBb0MseUJBQXlCLHVCQUF1QixJQUFJO0FBQ3hGO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLG1EQUFtRCx5RUFBZTtBQUNsRTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esb0NBQW9DLHlCQUF5QixvQkFBb0IsTUFBTTtBQUN2RjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxtREFBbUQseUVBQWU7QUFDbEU7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLG9DQUFvQyx5QkFBeUIsa0JBQWtCLElBQUk7QUFDbkY7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQseUVBQWU7QUFDbEU7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLG9DQUFvQyx5QkFBeUIsc0JBQXNCLE1BQU07QUFDekY7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsbURBQW1ELHlFQUFlO0FBQ2xFO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxvQ0FBb0MseUJBQXlCLG9CQUFvQixJQUFJO0FBQ3JGO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLG1EQUFtRCx5RUFBZTtBQUNsRTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esb0NBQW9DLHlCQUF5Qix1QkFBdUIsSUFBSTtBQUN4RjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxtREFBbUQseUVBQWU7QUFDbEU7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLG9DQUFvQyx5QkFBeUIsb0JBQW9CLElBQUk7QUFDckY7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQseUVBQWU7QUFDbEU7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLG9DQUFvQyx5QkFBeUIscUJBQXFCLE1BQU07QUFDeEY7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsbURBQW1ELHlFQUFlO0FBQ2xFO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxvQ0FBb0MseUJBQXlCLG1CQUFtQixJQUFJO0FBQ3BGO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSxTQUFTO0FBQzlFO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQix3Q0FBd0M7QUFDbEU7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxpREFBRTtBQUNqRDtBQUNBO0FBQ0EsUUFBUSw4REFBWTtBQUNwQixXQUFXLHlFQUFlO0FBQzFCO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxzQ0FBc0MseUJBQXlCLG9CQUFvQixJQUFJO0FBQ3ZGO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxpREFBRTtBQUNqRDtBQUNBO0FBQ0EsUUFBUSw4REFBWTtBQUNwQixXQUFXLHlFQUFlO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixtRUFBZTtBQUM1QztBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0Esc0NBQXNDLHlCQUF5QixvQkFBb0IsSUFBSTtBQUN2RjtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBLEdBQUc7QUFDSDtBQUNBLCtDQUErQyxpREFBRTtBQUNqRDtBQUNBO0FBQ0EsT0FBTyw4REFBWTtBQUNuQixVQUFVLHlFQUFlO0FBQ3pCO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxxQ0FBcUMseUJBQXlCLHNCQUFzQixJQUFJO0FBQ3hGO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNIO0FBQ0E7QUFDQSw0Q0FBNEMsaURBQUU7QUFDOUM7QUFDQTtBQUNBLE9BQU8sOERBQVk7QUFDbkIsVUFBVSx5RUFBZTtBQUN6QjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EscUNBQXFDLHlCQUF5QixxQkFBcUIsSUFBSTtBQUN2RjtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7QUFDSDtBQUNBO0FBQ0Esc0RBQXNELGlEQUFFO0FBQ3hEO0FBQ0E7QUFDQSxPQUFPLDhEQUFZO0FBQ25CLFVBQVUseUVBQWU7QUFDekI7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLHFDQUFxQyx5QkFBeUIsMEJBQTBCLElBQUk7QUFDNUY7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELHlFQUFlO0FBQ2xFO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxvQ0FBb0MseUJBQXlCLHVCQUF1QixJQUFJO0FBQ3hGO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDJCQUEyQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlEQUFtQjtBQUMzQyxVQUFVLGlEQUFFO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSx5QkFBeUIscUVBQXNCO0FBQy9DLDJCQUEyQix5RUFBZSwwQ0FBMEMscUVBQWdCO0FBQ3BHLDhDQUE4QyxxRUFBc0I7QUFDcEU7QUFDQTtBQUNBLHNGQUFzRix1RUFBc0I7QUFDNUcsK0JBQStCLHVFQUFzQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQix5RUFBZTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qix5RUFBZTtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsdURBQXVELEdBQUcsK0ZBQWtCO0FBQzNGLDBDQUEwQyxxRUFBc0I7QUFDaEU7QUFDQSxtREFBbUQsK0ZBQWtCO0FBQ3JFLDBCQUEwQiwrREFBcUI7QUFDL0MsK0RBQStEO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlEO0FBQ3pELG1EQUFtRDtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEseURBQW1CO0FBQzNCOztBQUVBO0FBQ3lPO0FBQ3pPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L2NhbGxiYWNrcy9tYW5hZ2VyLmpzP2JjZDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19leHBvcnQgfSBmcm9tIFwiLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5qc1wiO1xuaW1wb3J0IHsgZ2V0QnVmZmVyU3RyaW5nIH0gZnJvbSBcIi4uL21lc3NhZ2VzL3V0aWxzLmpzXCI7XG5pbXBvcnQgeyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlIH0gZnJvbSBcIi4uL3V0aWxzL2Vudi5qc1wiO1xuaW1wb3J0IHsgQmFzZUNhbGxiYWNrSGFuZGxlciwgaXNCYXNlQ2FsbGJhY2tIYW5kbGVyIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgaXNCYXNlVHJhY2VyIH0gZnJvbSBcIi4uL3RyYWNlcnMvYmFzZS5qc1wiO1xuaW1wb3J0IHsgQ29uc29sZUNhbGxiYWNrSGFuZGxlciB9IGZyb20gXCIuLi90cmFjZXJzL2NvbnNvbGUuanNcIjtcbmltcG9ydCB7IExhbmdDaGFpblRyYWNlciB9IGZyb20gXCIuLi90cmFjZXJzL3RyYWNlcl9sYW5nY2hhaW4uanNcIjtcbmltcG9ydCB7IGNvbnN1bWVDYWxsYmFjayB9IGZyb20gXCIuLi9zaW5nbGV0b25zL2NhbGxiYWNrcy5qc1wiO1xuaW1wb3J0IFwiLi9wcm9taXNlcy5qc1wiO1xuaW1wb3J0IHsgaXNUcmFjaW5nRW5hYmxlZCB9IGZyb20gXCIuLi91dGlscy9jYWxsYmFja3MuanNcIjtcbmltcG9ydCB7IF9nZXRDb25maWd1cmVIb29rcywgZ2V0Q29udGV4dFZhcmlhYmxlIH0gZnJvbSBcIi4uL3NpbmdsZXRvbnMvYXN5bmNfbG9jYWxfc3RvcmFnZS9jb250ZXh0LmpzXCI7XG5pbXBvcnQgeyB2NyB9IGZyb20gXCJ1dWlkXCI7XG5cbi8vI3JlZ2lvbiBzcmMvY2FsbGJhY2tzL21hbmFnZXIudHNcbnZhciBtYW5hZ2VyX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KG1hbmFnZXJfZXhwb3J0cywge1xuXHRCYXNlQ2FsbGJhY2tNYW5hZ2VyOiAoKSA9PiBCYXNlQ2FsbGJhY2tNYW5hZ2VyLFxuXHRCYXNlUnVuTWFuYWdlcjogKCkgPT4gQmFzZVJ1bk1hbmFnZXIsXG5cdENhbGxiYWNrTWFuYWdlcjogKCkgPT4gQ2FsbGJhY2tNYW5hZ2VyLFxuXHRDYWxsYmFja01hbmFnZXJGb3JDaGFpblJ1bjogKCkgPT4gQ2FsbGJhY2tNYW5hZ2VyRm9yQ2hhaW5SdW4sXG5cdENhbGxiYWNrTWFuYWdlckZvckxMTVJ1bjogKCkgPT4gQ2FsbGJhY2tNYW5hZ2VyRm9yTExNUnVuLFxuXHRDYWxsYmFja01hbmFnZXJGb3JSZXRyaWV2ZXJSdW46ICgpID0+IENhbGxiYWNrTWFuYWdlckZvclJldHJpZXZlclJ1bixcblx0Q2FsbGJhY2tNYW5hZ2VyRm9yVG9vbFJ1bjogKCkgPT4gQ2FsbGJhY2tNYW5hZ2VyRm9yVG9vbFJ1bixcblx0ZW5zdXJlSGFuZGxlcjogKCkgPT4gZW5zdXJlSGFuZGxlcixcblx0cGFyc2VDYWxsYmFja0NvbmZpZ0FyZzogKCkgPT4gcGFyc2VDYWxsYmFja0NvbmZpZ0FyZ1xufSk7XG5mdW5jdGlvbiBwYXJzZUNhbGxiYWNrQ29uZmlnQXJnKGFyZykge1xuXHRpZiAoIWFyZykgcmV0dXJuIHt9O1xuXHRlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZykgfHwgXCJuYW1lXCIgaW4gYXJnKSByZXR1cm4geyBjYWxsYmFja3M6IGFyZyB9O1xuXHRlbHNlIHJldHVybiBhcmc7XG59XG4vKipcbiogTWFuYWdlIGNhbGxiYWNrcyBmcm9tIGRpZmZlcmVudCBjb21wb25lbnRzIG9mIExhbmdDaGFpbi5cbiovXG52YXIgQmFzZUNhbGxiYWNrTWFuYWdlciA9IGNsYXNzIHtcblx0c2V0SGFuZGxlcihoYW5kbGVyKSB7XG5cdFx0cmV0dXJuIHRoaXMuc2V0SGFuZGxlcnMoW2hhbmRsZXJdKTtcblx0fVxufTtcbi8qKlxuKiBCYXNlIGNsYXNzIGZvciBydW4gbWFuYWdlciBpbiBMYW5nQ2hhaW4uXG4qL1xudmFyIEJhc2VSdW5NYW5hZ2VyID0gY2xhc3Mge1xuXHRjb25zdHJ1Y3RvcihydW5JZCwgaGFuZGxlcnMsIGluaGVyaXRhYmxlSGFuZGxlcnMsIHRhZ3MsIGluaGVyaXRhYmxlVGFncywgbWV0YWRhdGEsIGluaGVyaXRhYmxlTWV0YWRhdGEsIF9wYXJlbnRSdW5JZCkge1xuXHRcdHRoaXMucnVuSWQgPSBydW5JZDtcblx0XHR0aGlzLmhhbmRsZXJzID0gaGFuZGxlcnM7XG5cdFx0dGhpcy5pbmhlcml0YWJsZUhhbmRsZXJzID0gaW5oZXJpdGFibGVIYW5kbGVycztcblx0XHR0aGlzLnRhZ3MgPSB0YWdzO1xuXHRcdHRoaXMuaW5oZXJpdGFibGVUYWdzID0gaW5oZXJpdGFibGVUYWdzO1xuXHRcdHRoaXMubWV0YWRhdGEgPSBtZXRhZGF0YTtcblx0XHR0aGlzLmluaGVyaXRhYmxlTWV0YWRhdGEgPSBpbmhlcml0YWJsZU1ldGFkYXRhO1xuXHRcdHRoaXMuX3BhcmVudFJ1bklkID0gX3BhcmVudFJ1bklkO1xuXHR9XG5cdGdldCBwYXJlbnRSdW5JZCgpIHtcblx0XHRyZXR1cm4gdGhpcy5fcGFyZW50UnVuSWQ7XG5cdH1cblx0YXN5bmMgaGFuZGxlVGV4dCh0ZXh0KSB7XG5cdFx0YXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IGNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRhd2FpdCBoYW5kbGVyLmhhbmRsZVRleHQ/Lih0ZXh0LCB0aGlzLnJ1bklkLCB0aGlzLl9wYXJlbnRSdW5JZCwgdGhpcy50YWdzKTtcblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRjb25zdCBsb2dGdW5jdGlvbiA9IGhhbmRsZXIucmFpc2VFcnJvciA/IGNvbnNvbGUuZXJyb3IgOiBjb25zb2xlLndhcm47XG5cdFx0XHRcdGxvZ0Z1bmN0aW9uKGBFcnJvciBpbiBoYW5kbGVyICR7aGFuZGxlci5jb25zdHJ1Y3Rvci5uYW1lfSwgaGFuZGxlVGV4dDogJHtlcnJ9YCk7XG5cdFx0XHRcdGlmIChoYW5kbGVyLnJhaXNlRXJyb3IpIHRocm93IGVycjtcblx0XHRcdH1cblx0XHR9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpKSk7XG5cdH1cblx0YXN5bmMgaGFuZGxlQ3VzdG9tRXZlbnQoZXZlbnROYW1lLCBkYXRhLCBfcnVuSWQsIF90YWdzLCBfbWV0YWRhdGEpIHtcblx0XHRhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4gY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGF3YWl0IGhhbmRsZXIuaGFuZGxlQ3VzdG9tRXZlbnQ/LihldmVudE5hbWUsIGRhdGEsIHRoaXMucnVuSWQsIHRoaXMudGFncywgdGhpcy5tZXRhZGF0YSk7XG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0Y29uc3QgbG9nRnVuY3Rpb24gPSBoYW5kbGVyLnJhaXNlRXJyb3IgPyBjb25zb2xlLmVycm9yIDogY29uc29sZS53YXJuO1xuXHRcdFx0XHRsb2dGdW5jdGlvbihgRXJyb3IgaW4gaGFuZGxlciAke2hhbmRsZXIuY29uc3RydWN0b3IubmFtZX0sIGhhbmRsZUN1c3RvbUV2ZW50OiAke2Vycn1gKTtcblx0XHRcdFx0aWYgKGhhbmRsZXIucmFpc2VFcnJvcikgdGhyb3cgZXJyO1xuXHRcdFx0fVxuXHRcdH0sIGhhbmRsZXIuYXdhaXRIYW5kbGVycykpKTtcblx0fVxufTtcbi8qKlxuKiBNYW5hZ2VzIGNhbGxiYWNrcyBmb3IgcmV0cmlldmVyIHJ1bnMuXG4qL1xudmFyIENhbGxiYWNrTWFuYWdlckZvclJldHJpZXZlclJ1biA9IGNsYXNzIGV4dGVuZHMgQmFzZVJ1bk1hbmFnZXIge1xuXHRnZXRDaGlsZCh0YWcpIHtcblx0XHRjb25zdCBtYW5hZ2VyID0gbmV3IENhbGxiYWNrTWFuYWdlcih0aGlzLnJ1bklkKTtcblx0XHRtYW5hZ2VyLnNldEhhbmRsZXJzKHRoaXMuaW5oZXJpdGFibGVIYW5kbGVycyk7XG5cdFx0bWFuYWdlci5hZGRUYWdzKHRoaXMuaW5oZXJpdGFibGVUYWdzKTtcblx0XHRtYW5hZ2VyLmFkZE1ldGFkYXRhKHRoaXMuaW5oZXJpdGFibGVNZXRhZGF0YSk7XG5cdFx0aWYgKHRhZykgbWFuYWdlci5hZGRUYWdzKFt0YWddLCBmYWxzZSk7XG5cdFx0cmV0dXJuIG1hbmFnZXI7XG5cdH1cblx0YXN5bmMgaGFuZGxlUmV0cmlldmVyRW5kKGRvY3VtZW50cykge1xuXHRcdGF3YWl0IFByb21pc2UuYWxsKHRoaXMuaGFuZGxlcnMubWFwKChoYW5kbGVyKSA9PiBjb25zdW1lQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuXHRcdFx0aWYgKCFoYW5kbGVyLmlnbm9yZVJldHJpZXZlcikgdHJ5IHtcblx0XHRcdFx0YXdhaXQgaGFuZGxlci5oYW5kbGVSZXRyaWV2ZXJFbmQ/Lihkb2N1bWVudHMsIHRoaXMucnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCB0aGlzLnRhZ3MpO1xuXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdGNvbnN0IGxvZ0Z1bmN0aW9uID0gaGFuZGxlci5yYWlzZUVycm9yID8gY29uc29sZS5lcnJvciA6IGNvbnNvbGUud2Fybjtcblx0XHRcdFx0bG9nRnVuY3Rpb24oYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVSZXRyaWV2ZXJgKTtcblx0XHRcdFx0aWYgKGhhbmRsZXIucmFpc2VFcnJvcikgdGhyb3cgZXJyO1xuXHRcdFx0fVxuXHRcdH0sIGhhbmRsZXIuYXdhaXRIYW5kbGVycykpKTtcblx0fVxuXHRhc3luYyBoYW5kbGVSZXRyaWV2ZXJFcnJvcihlcnIpIHtcblx0XHRhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4gY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcblx0XHRcdGlmICghaGFuZGxlci5pZ25vcmVSZXRyaWV2ZXIpIHRyeSB7XG5cdFx0XHRcdGF3YWl0IGhhbmRsZXIuaGFuZGxlUmV0cmlldmVyRXJyb3I/LihlcnIsIHRoaXMucnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCB0aGlzLnRhZ3MpO1xuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0Y29uc3QgbG9nRnVuY3Rpb24gPSBoYW5kbGVyLnJhaXNlRXJyb3IgPyBjb25zb2xlLmVycm9yIDogY29uc29sZS53YXJuO1xuXHRcdFx0XHRsb2dGdW5jdGlvbihgRXJyb3IgaW4gaGFuZGxlciAke2hhbmRsZXIuY29uc3RydWN0b3IubmFtZX0sIGhhbmRsZVJldHJpZXZlckVycm9yOiAke2Vycm9yfWApO1xuXHRcdFx0XHRpZiAoaGFuZGxlci5yYWlzZUVycm9yKSB0aHJvdyBlcnI7XG5cdFx0XHR9XG5cdFx0fSwgaGFuZGxlci5hd2FpdEhhbmRsZXJzKSkpO1xuXHR9XG59O1xudmFyIENhbGxiYWNrTWFuYWdlckZvckxMTVJ1biA9IGNsYXNzIGV4dGVuZHMgQmFzZVJ1bk1hbmFnZXIge1xuXHRhc3luYyBoYW5kbGVMTE1OZXdUb2tlbih0b2tlbiwgaWR4LCBfcnVuSWQsIF9wYXJlbnRSdW5JZCwgX3RhZ3MsIGZpZWxkcykge1xuXHRcdGF3YWl0IFByb21pc2UuYWxsKHRoaXMuaGFuZGxlcnMubWFwKChoYW5kbGVyKSA9PiBjb25zdW1lQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuXHRcdFx0aWYgKCFoYW5kbGVyLmlnbm9yZUxMTSkgdHJ5IHtcblx0XHRcdFx0YXdhaXQgaGFuZGxlci5oYW5kbGVMTE1OZXdUb2tlbj8uKHRva2VuLCBpZHggPz8ge1xuXHRcdFx0XHRcdHByb21wdDogMCxcblx0XHRcdFx0XHRjb21wbGV0aW9uOiAwXG5cdFx0XHRcdH0sIHRoaXMucnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCB0aGlzLnRhZ3MsIGZpZWxkcyk7XG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0Y29uc3QgbG9nRnVuY3Rpb24gPSBoYW5kbGVyLnJhaXNlRXJyb3IgPyBjb25zb2xlLmVycm9yIDogY29uc29sZS53YXJuO1xuXHRcdFx0XHRsb2dGdW5jdGlvbihgRXJyb3IgaW4gaGFuZGxlciAke2hhbmRsZXIuY29uc3RydWN0b3IubmFtZX0sIGhhbmRsZUxMTU5ld1Rva2VuOiAke2Vycn1gKTtcblx0XHRcdFx0aWYgKGhhbmRsZXIucmFpc2VFcnJvcikgdGhyb3cgZXJyO1xuXHRcdFx0fVxuXHRcdH0sIGhhbmRsZXIuYXdhaXRIYW5kbGVycykpKTtcblx0fVxuXHRhc3luYyBoYW5kbGVMTE1FcnJvcihlcnIsIF9ydW5JZCwgX3BhcmVudFJ1bklkLCBfdGFncywgZXh0cmFQYXJhbXMpIHtcblx0XHRhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4gY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcblx0XHRcdGlmICghaGFuZGxlci5pZ25vcmVMTE0pIHRyeSB7XG5cdFx0XHRcdGF3YWl0IGhhbmRsZXIuaGFuZGxlTExNRXJyb3I/LihlcnIsIHRoaXMucnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCB0aGlzLnRhZ3MsIGV4dHJhUGFyYW1zKTtcblx0XHRcdH0gY2F0Y2ggKGVyciQxKSB7XG5cdFx0XHRcdGNvbnN0IGxvZ0Z1bmN0aW9uID0gaGFuZGxlci5yYWlzZUVycm9yID8gY29uc29sZS5lcnJvciA6IGNvbnNvbGUud2Fybjtcblx0XHRcdFx0bG9nRnVuY3Rpb24oYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVMTE1FcnJvcjogJHtlcnIkMX1gKTtcblx0XHRcdFx0aWYgKGhhbmRsZXIucmFpc2VFcnJvcikgdGhyb3cgZXJyJDE7XG5cdFx0XHR9XG5cdFx0fSwgaGFuZGxlci5hd2FpdEhhbmRsZXJzKSkpO1xuXHR9XG5cdGFzeW5jIGhhbmRsZUxMTUVuZChvdXRwdXQsIF9ydW5JZCwgX3BhcmVudFJ1bklkLCBfdGFncywgZXh0cmFQYXJhbXMpIHtcblx0XHRhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4gY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcblx0XHRcdGlmICghaGFuZGxlci5pZ25vcmVMTE0pIHRyeSB7XG5cdFx0XHRcdGF3YWl0IGhhbmRsZXIuaGFuZGxlTExNRW5kPy4ob3V0cHV0LCB0aGlzLnJ1bklkLCB0aGlzLl9wYXJlbnRSdW5JZCwgdGhpcy50YWdzLCBleHRyYVBhcmFtcyk7XG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0Y29uc3QgbG9nRnVuY3Rpb24gPSBoYW5kbGVyLnJhaXNlRXJyb3IgPyBjb25zb2xlLmVycm9yIDogY29uc29sZS53YXJuO1xuXHRcdFx0XHRsb2dGdW5jdGlvbihgRXJyb3IgaW4gaGFuZGxlciAke2hhbmRsZXIuY29uc3RydWN0b3IubmFtZX0sIGhhbmRsZUxMTUVuZDogJHtlcnJ9YCk7XG5cdFx0XHRcdGlmIChoYW5kbGVyLnJhaXNlRXJyb3IpIHRocm93IGVycjtcblx0XHRcdH1cblx0XHR9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpKSk7XG5cdH1cbn07XG52YXIgQ2FsbGJhY2tNYW5hZ2VyRm9yQ2hhaW5SdW4gPSBjbGFzcyBleHRlbmRzIEJhc2VSdW5NYW5hZ2VyIHtcblx0Z2V0Q2hpbGQodGFnKSB7XG5cdFx0Y29uc3QgbWFuYWdlciA9IG5ldyBDYWxsYmFja01hbmFnZXIodGhpcy5ydW5JZCk7XG5cdFx0bWFuYWdlci5zZXRIYW5kbGVycyh0aGlzLmluaGVyaXRhYmxlSGFuZGxlcnMpO1xuXHRcdG1hbmFnZXIuYWRkVGFncyh0aGlzLmluaGVyaXRhYmxlVGFncyk7XG5cdFx0bWFuYWdlci5hZGRNZXRhZGF0YSh0aGlzLmluaGVyaXRhYmxlTWV0YWRhdGEpO1xuXHRcdGlmICh0YWcpIG1hbmFnZXIuYWRkVGFncyhbdGFnXSwgZmFsc2UpO1xuXHRcdHJldHVybiBtYW5hZ2VyO1xuXHR9XG5cdGFzeW5jIGhhbmRsZUNoYWluRXJyb3IoZXJyLCBfcnVuSWQsIF9wYXJlbnRSdW5JZCwgX3RhZ3MsIGt3YXJncykge1xuXHRcdGF3YWl0IFByb21pc2UuYWxsKHRoaXMuaGFuZGxlcnMubWFwKChoYW5kbGVyKSA9PiBjb25zdW1lQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuXHRcdFx0aWYgKCFoYW5kbGVyLmlnbm9yZUNoYWluKSB0cnkge1xuXHRcdFx0XHRhd2FpdCBoYW5kbGVyLmhhbmRsZUNoYWluRXJyb3I/LihlcnIsIHRoaXMucnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCB0aGlzLnRhZ3MsIGt3YXJncyk7XG5cdFx0XHR9IGNhdGNoIChlcnIkMSkge1xuXHRcdFx0XHRjb25zdCBsb2dGdW5jdGlvbiA9IGhhbmRsZXIucmFpc2VFcnJvciA/IGNvbnNvbGUuZXJyb3IgOiBjb25zb2xlLndhcm47XG5cdFx0XHRcdGxvZ0Z1bmN0aW9uKGBFcnJvciBpbiBoYW5kbGVyICR7aGFuZGxlci5jb25zdHJ1Y3Rvci5uYW1lfSwgaGFuZGxlQ2hhaW5FcnJvcjogJHtlcnIkMX1gKTtcblx0XHRcdFx0aWYgKGhhbmRsZXIucmFpc2VFcnJvcikgdGhyb3cgZXJyJDE7XG5cdFx0XHR9XG5cdFx0fSwgaGFuZGxlci5hd2FpdEhhbmRsZXJzKSkpO1xuXHR9XG5cdGFzeW5jIGhhbmRsZUNoYWluRW5kKG91dHB1dCwgX3J1bklkLCBfcGFyZW50UnVuSWQsIF90YWdzLCBrd2FyZ3MpIHtcblx0XHRhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4gY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcblx0XHRcdGlmICghaGFuZGxlci5pZ25vcmVDaGFpbikgdHJ5IHtcblx0XHRcdFx0YXdhaXQgaGFuZGxlci5oYW5kbGVDaGFpbkVuZD8uKG91dHB1dCwgdGhpcy5ydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIHRoaXMudGFncywga3dhcmdzKTtcblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRjb25zdCBsb2dGdW5jdGlvbiA9IGhhbmRsZXIucmFpc2VFcnJvciA/IGNvbnNvbGUuZXJyb3IgOiBjb25zb2xlLndhcm47XG5cdFx0XHRcdGxvZ0Z1bmN0aW9uKGBFcnJvciBpbiBoYW5kbGVyICR7aGFuZGxlci5jb25zdHJ1Y3Rvci5uYW1lfSwgaGFuZGxlQ2hhaW5FbmQ6ICR7ZXJyfWApO1xuXHRcdFx0XHRpZiAoaGFuZGxlci5yYWlzZUVycm9yKSB0aHJvdyBlcnI7XG5cdFx0XHR9XG5cdFx0fSwgaGFuZGxlci5hd2FpdEhhbmRsZXJzKSkpO1xuXHR9XG5cdGFzeW5jIGhhbmRsZUFnZW50QWN0aW9uKGFjdGlvbikge1xuXHRcdGF3YWl0IFByb21pc2UuYWxsKHRoaXMuaGFuZGxlcnMubWFwKChoYW5kbGVyKSA9PiBjb25zdW1lQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuXHRcdFx0aWYgKCFoYW5kbGVyLmlnbm9yZUFnZW50KSB0cnkge1xuXHRcdFx0XHRhd2FpdCBoYW5kbGVyLmhhbmRsZUFnZW50QWN0aW9uPy4oYWN0aW9uLCB0aGlzLnJ1bklkLCB0aGlzLl9wYXJlbnRSdW5JZCwgdGhpcy50YWdzKTtcblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRjb25zdCBsb2dGdW5jdGlvbiA9IGhhbmRsZXIucmFpc2VFcnJvciA/IGNvbnNvbGUuZXJyb3IgOiBjb25zb2xlLndhcm47XG5cdFx0XHRcdGxvZ0Z1bmN0aW9uKGBFcnJvciBpbiBoYW5kbGVyICR7aGFuZGxlci5jb25zdHJ1Y3Rvci5uYW1lfSwgaGFuZGxlQWdlbnRBY3Rpb246ICR7ZXJyfWApO1xuXHRcdFx0XHRpZiAoaGFuZGxlci5yYWlzZUVycm9yKSB0aHJvdyBlcnI7XG5cdFx0XHR9XG5cdFx0fSwgaGFuZGxlci5hd2FpdEhhbmRsZXJzKSkpO1xuXHR9XG5cdGFzeW5jIGhhbmRsZUFnZW50RW5kKGFjdGlvbikge1xuXHRcdGF3YWl0IFByb21pc2UuYWxsKHRoaXMuaGFuZGxlcnMubWFwKChoYW5kbGVyKSA9PiBjb25zdW1lQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuXHRcdFx0aWYgKCFoYW5kbGVyLmlnbm9yZUFnZW50KSB0cnkge1xuXHRcdFx0XHRhd2FpdCBoYW5kbGVyLmhhbmRsZUFnZW50RW5kPy4oYWN0aW9uLCB0aGlzLnJ1bklkLCB0aGlzLl9wYXJlbnRSdW5JZCwgdGhpcy50YWdzKTtcblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRjb25zdCBsb2dGdW5jdGlvbiA9IGhhbmRsZXIucmFpc2VFcnJvciA/IGNvbnNvbGUuZXJyb3IgOiBjb25zb2xlLndhcm47XG5cdFx0XHRcdGxvZ0Z1bmN0aW9uKGBFcnJvciBpbiBoYW5kbGVyICR7aGFuZGxlci5jb25zdHJ1Y3Rvci5uYW1lfSwgaGFuZGxlQWdlbnRFbmQ6ICR7ZXJyfWApO1xuXHRcdFx0XHRpZiAoaGFuZGxlci5yYWlzZUVycm9yKSB0aHJvdyBlcnI7XG5cdFx0XHR9XG5cdFx0fSwgaGFuZGxlci5hd2FpdEhhbmRsZXJzKSkpO1xuXHR9XG59O1xudmFyIENhbGxiYWNrTWFuYWdlckZvclRvb2xSdW4gPSBjbGFzcyBleHRlbmRzIEJhc2VSdW5NYW5hZ2VyIHtcblx0Z2V0Q2hpbGQodGFnKSB7XG5cdFx0Y29uc3QgbWFuYWdlciA9IG5ldyBDYWxsYmFja01hbmFnZXIodGhpcy5ydW5JZCk7XG5cdFx0bWFuYWdlci5zZXRIYW5kbGVycyh0aGlzLmluaGVyaXRhYmxlSGFuZGxlcnMpO1xuXHRcdG1hbmFnZXIuYWRkVGFncyh0aGlzLmluaGVyaXRhYmxlVGFncyk7XG5cdFx0bWFuYWdlci5hZGRNZXRhZGF0YSh0aGlzLmluaGVyaXRhYmxlTWV0YWRhdGEpO1xuXHRcdGlmICh0YWcpIG1hbmFnZXIuYWRkVGFncyhbdGFnXSwgZmFsc2UpO1xuXHRcdHJldHVybiBtYW5hZ2VyO1xuXHR9XG5cdGFzeW5jIGhhbmRsZVRvb2xFcnJvcihlcnIpIHtcblx0XHRhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4gY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcblx0XHRcdGlmICghaGFuZGxlci5pZ25vcmVBZ2VudCkgdHJ5IHtcblx0XHRcdFx0YXdhaXQgaGFuZGxlci5oYW5kbGVUb29sRXJyb3I/LihlcnIsIHRoaXMucnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCB0aGlzLnRhZ3MpO1xuXHRcdFx0fSBjYXRjaCAoZXJyJDEpIHtcblx0XHRcdFx0Y29uc3QgbG9nRnVuY3Rpb24gPSBoYW5kbGVyLnJhaXNlRXJyb3IgPyBjb25zb2xlLmVycm9yIDogY29uc29sZS53YXJuO1xuXHRcdFx0XHRsb2dGdW5jdGlvbihgRXJyb3IgaW4gaGFuZGxlciAke2hhbmRsZXIuY29uc3RydWN0b3IubmFtZX0sIGhhbmRsZVRvb2xFcnJvcjogJHtlcnIkMX1gKTtcblx0XHRcdFx0aWYgKGhhbmRsZXIucmFpc2VFcnJvcikgdGhyb3cgZXJyJDE7XG5cdFx0XHR9XG5cdFx0fSwgaGFuZGxlci5hd2FpdEhhbmRsZXJzKSkpO1xuXHR9XG5cdGFzeW5jIGhhbmRsZVRvb2xFbmQob3V0cHV0KSB7XG5cdFx0YXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IGNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG5cdFx0XHRpZiAoIWhhbmRsZXIuaWdub3JlQWdlbnQpIHRyeSB7XG5cdFx0XHRcdGF3YWl0IGhhbmRsZXIuaGFuZGxlVG9vbEVuZD8uKG91dHB1dCwgdGhpcy5ydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIHRoaXMudGFncyk7XG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0Y29uc3QgbG9nRnVuY3Rpb24gPSBoYW5kbGVyLnJhaXNlRXJyb3IgPyBjb25zb2xlLmVycm9yIDogY29uc29sZS53YXJuO1xuXHRcdFx0XHRsb2dGdW5jdGlvbihgRXJyb3IgaW4gaGFuZGxlciAke2hhbmRsZXIuY29uc3RydWN0b3IubmFtZX0sIGhhbmRsZVRvb2xFbmQ6ICR7ZXJyfWApO1xuXHRcdFx0XHRpZiAoaGFuZGxlci5yYWlzZUVycm9yKSB0aHJvdyBlcnI7XG5cdFx0XHR9XG5cdFx0fSwgaGFuZGxlci5hd2FpdEhhbmRsZXJzKSkpO1xuXHR9XG59O1xuLyoqXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogY29uc3QgcHJvbXB0ID0gUHJvbXB0VGVtcGxhdGUuZnJvbVRlbXBsYXRlKFwiV2hhdCBpcyB0aGUgYW5zd2VyIHRvIHtxdWVzdGlvbn0/XCIpO1xuKlxuKiAvLyBFeGFtcGxlIG9mIHVzaW5nIExMTUNoYWluIHdpdGggT3BlbkFJIGFuZCBhIHNpbXBsZSBwcm9tcHRcbiogY29uc3QgY2hhaW4gPSBuZXcgTExNQ2hhaW4oe1xuKiAgIGxsbTogbmV3IENoYXRPcGVuQUkoeyBtb2RlbDogXCJncHQtNG8tbWluaVwiLCB0ZW1wZXJhdHVyZTogMC45IH0pLFxuKiAgIHByb21wdCxcbiogfSk7XG4qXG4qIC8vIFJ1bm5pbmcgdGhlIGNoYWluIHdpdGggYSBzaW5nbGUgcXVlc3Rpb25cbiogY29uc3QgcmVzdWx0ID0gYXdhaXQgY2hhaW4uY2FsbCh7XG4qICAgcXVlc3Rpb246IFwiV2hhdCBpcyB0aGUgYWlyc3BlZWQgdmVsb2NpdHkgb2YgYW4gdW5sYWRlbiBzd2FsbG93P1wiLFxuKiB9KTtcbiogY29uc29sZS5sb2coXCJUaGUgYW5zd2VyIGlzOlwiLCByZXN1bHQpO1xuKiBgYGBcbiovXG52YXIgQ2FsbGJhY2tNYW5hZ2VyID0gY2xhc3MgQ2FsbGJhY2tNYW5hZ2VyIGV4dGVuZHMgQmFzZUNhbGxiYWNrTWFuYWdlciB7XG5cdGhhbmRsZXJzID0gW107XG5cdGluaGVyaXRhYmxlSGFuZGxlcnMgPSBbXTtcblx0dGFncyA9IFtdO1xuXHRpbmhlcml0YWJsZVRhZ3MgPSBbXTtcblx0bWV0YWRhdGEgPSB7fTtcblx0aW5oZXJpdGFibGVNZXRhZGF0YSA9IHt9O1xuXHRuYW1lID0gXCJjYWxsYmFja19tYW5hZ2VyXCI7XG5cdF9wYXJlbnRSdW5JZDtcblx0Y29uc3RydWN0b3IocGFyZW50UnVuSWQsIG9wdGlvbnMpIHtcblx0XHRzdXBlcigpO1xuXHRcdHRoaXMuaGFuZGxlcnMgPSBvcHRpb25zPy5oYW5kbGVycyA/PyB0aGlzLmhhbmRsZXJzO1xuXHRcdHRoaXMuaW5oZXJpdGFibGVIYW5kbGVycyA9IG9wdGlvbnM/LmluaGVyaXRhYmxlSGFuZGxlcnMgPz8gdGhpcy5pbmhlcml0YWJsZUhhbmRsZXJzO1xuXHRcdHRoaXMudGFncyA9IG9wdGlvbnM/LnRhZ3MgPz8gdGhpcy50YWdzO1xuXHRcdHRoaXMuaW5oZXJpdGFibGVUYWdzID0gb3B0aW9ucz8uaW5oZXJpdGFibGVUYWdzID8/IHRoaXMuaW5oZXJpdGFibGVUYWdzO1xuXHRcdHRoaXMubWV0YWRhdGEgPSBvcHRpb25zPy5tZXRhZGF0YSA/PyB0aGlzLm1ldGFkYXRhO1xuXHRcdHRoaXMuaW5oZXJpdGFibGVNZXRhZGF0YSA9IG9wdGlvbnM/LmluaGVyaXRhYmxlTWV0YWRhdGEgPz8gdGhpcy5pbmhlcml0YWJsZU1ldGFkYXRhO1xuXHRcdHRoaXMuX3BhcmVudFJ1bklkID0gcGFyZW50UnVuSWQ7XG5cdH1cblx0LyoqXG5cdCogR2V0cyB0aGUgcGFyZW50IHJ1biBJRCwgaWYgYW55LlxuXHQqXG5cdCogQHJldHVybnMgVGhlIHBhcmVudCBydW4gSUQuXG5cdCovXG5cdGdldFBhcmVudFJ1bklkKCkge1xuXHRcdHJldHVybiB0aGlzLl9wYXJlbnRSdW5JZDtcblx0fVxuXHRhc3luYyBoYW5kbGVMTE1TdGFydChsbG0sIHByb21wdHMsIHJ1bklkID0gdm9pZCAwLCBfcGFyZW50UnVuSWQgPSB2b2lkIDAsIGV4dHJhUGFyYW1zID0gdm9pZCAwLCBfdGFncyA9IHZvaWQgMCwgX21ldGFkYXRhID0gdm9pZCAwLCBydW5OYW1lID0gdm9pZCAwKSB7XG5cdFx0cmV0dXJuIFByb21pc2UuYWxsKHByb21wdHMubWFwKGFzeW5jIChwcm9tcHQsIGlkeCkgPT4ge1xuXHRcdFx0Y29uc3QgcnVuSWRfID0gaWR4ID09PSAwICYmIHJ1bklkID8gcnVuSWQgOiB2NygpO1xuXHRcdFx0YXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IHtcblx0XHRcdFx0aWYgKGhhbmRsZXIuaWdub3JlTExNKSByZXR1cm47XG5cdFx0XHRcdGlmIChpc0Jhc2VUcmFjZXIoaGFuZGxlcikpIGhhbmRsZXIuX2NyZWF0ZVJ1bkZvckxMTVN0YXJ0KGxsbSwgW3Byb21wdF0sIHJ1bklkXywgdGhpcy5fcGFyZW50UnVuSWQsIGV4dHJhUGFyYW1zLCB0aGlzLnRhZ3MsIHRoaXMubWV0YWRhdGEsIHJ1bk5hbWUpO1xuXHRcdFx0XHRyZXR1cm4gY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0YXdhaXQgaGFuZGxlci5oYW5kbGVMTE1TdGFydD8uKGxsbSwgW3Byb21wdF0sIHJ1bklkXywgdGhpcy5fcGFyZW50UnVuSWQsIGV4dHJhUGFyYW1zLCB0aGlzLnRhZ3MsIHRoaXMubWV0YWRhdGEsIHJ1bk5hbWUpO1xuXHRcdFx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRcdFx0Y29uc3QgbG9nRnVuY3Rpb24gPSBoYW5kbGVyLnJhaXNlRXJyb3IgPyBjb25zb2xlLmVycm9yIDogY29uc29sZS53YXJuO1xuXHRcdFx0XHRcdFx0bG9nRnVuY3Rpb24oYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVMTE1TdGFydDogJHtlcnJ9YCk7XG5cdFx0XHRcdFx0XHRpZiAoaGFuZGxlci5yYWlzZUVycm9yKSB0aHJvdyBlcnI7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpO1xuXHRcdFx0fSkpO1xuXHRcdFx0cmV0dXJuIG5ldyBDYWxsYmFja01hbmFnZXJGb3JMTE1SdW4ocnVuSWRfLCB0aGlzLmhhbmRsZXJzLCB0aGlzLmluaGVyaXRhYmxlSGFuZGxlcnMsIHRoaXMudGFncywgdGhpcy5pbmhlcml0YWJsZVRhZ3MsIHRoaXMubWV0YWRhdGEsIHRoaXMuaW5oZXJpdGFibGVNZXRhZGF0YSwgdGhpcy5fcGFyZW50UnVuSWQpO1xuXHRcdH0pKTtcblx0fVxuXHRhc3luYyBoYW5kbGVDaGF0TW9kZWxTdGFydChsbG0sIG1lc3NhZ2VzLCBydW5JZCA9IHZvaWQgMCwgX3BhcmVudFJ1bklkID0gdm9pZCAwLCBleHRyYVBhcmFtcyA9IHZvaWQgMCwgX3RhZ3MgPSB2b2lkIDAsIF9tZXRhZGF0YSA9IHZvaWQgMCwgcnVuTmFtZSA9IHZvaWQgMCkge1xuXHRcdHJldHVybiBQcm9taXNlLmFsbChtZXNzYWdlcy5tYXAoYXN5bmMgKG1lc3NhZ2VHcm91cCwgaWR4KSA9PiB7XG5cdFx0XHRjb25zdCBydW5JZF8gPSBpZHggPT09IDAgJiYgcnVuSWQgPyBydW5JZCA6IHY3KCk7XG5cdFx0XHRhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4ge1xuXHRcdFx0XHRpZiAoaGFuZGxlci5pZ25vcmVMTE0pIHJldHVybjtcblx0XHRcdFx0aWYgKGlzQmFzZVRyYWNlcihoYW5kbGVyKSkgaGFuZGxlci5fY3JlYXRlUnVuRm9yQ2hhdE1vZGVsU3RhcnQobGxtLCBbbWVzc2FnZUdyb3VwXSwgcnVuSWRfLCB0aGlzLl9wYXJlbnRSdW5JZCwgZXh0cmFQYXJhbXMsIHRoaXMudGFncywgdGhpcy5tZXRhZGF0YSwgcnVuTmFtZSk7XG5cdFx0XHRcdHJldHVybiBjb25zdW1lQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRpZiAoaGFuZGxlci5oYW5kbGVDaGF0TW9kZWxTdGFydCkgYXdhaXQgaGFuZGxlci5oYW5kbGVDaGF0TW9kZWxTdGFydD8uKGxsbSwgW21lc3NhZ2VHcm91cF0sIHJ1bklkXywgdGhpcy5fcGFyZW50UnVuSWQsIGV4dHJhUGFyYW1zLCB0aGlzLnRhZ3MsIHRoaXMubWV0YWRhdGEsIHJ1bk5hbWUpO1xuXHRcdFx0XHRcdFx0ZWxzZSBpZiAoaGFuZGxlci5oYW5kbGVMTE1TdGFydCkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBtZXNzYWdlU3RyaW5nID0gZ2V0QnVmZmVyU3RyaW5nKG1lc3NhZ2VHcm91cCk7XG5cdFx0XHRcdFx0XHRcdGF3YWl0IGhhbmRsZXIuaGFuZGxlTExNU3RhcnQ/LihsbG0sIFttZXNzYWdlU3RyaW5nXSwgcnVuSWRfLCB0aGlzLl9wYXJlbnRSdW5JZCwgZXh0cmFQYXJhbXMsIHRoaXMudGFncywgdGhpcy5tZXRhZGF0YSwgcnVuTmFtZSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBsb2dGdW5jdGlvbiA9IGhhbmRsZXIucmFpc2VFcnJvciA/IGNvbnNvbGUuZXJyb3IgOiBjb25zb2xlLndhcm47XG5cdFx0XHRcdFx0XHRsb2dGdW5jdGlvbihgRXJyb3IgaW4gaGFuZGxlciAke2hhbmRsZXIuY29uc3RydWN0b3IubmFtZX0sIGhhbmRsZUxMTVN0YXJ0OiAke2Vycn1gKTtcblx0XHRcdFx0XHRcdGlmIChoYW5kbGVyLnJhaXNlRXJyb3IpIHRocm93IGVycjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sIGhhbmRsZXIuYXdhaXRIYW5kbGVycyk7XG5cdFx0XHR9KSk7XG5cdFx0XHRyZXR1cm4gbmV3IENhbGxiYWNrTWFuYWdlckZvckxMTVJ1bihydW5JZF8sIHRoaXMuaGFuZGxlcnMsIHRoaXMuaW5oZXJpdGFibGVIYW5kbGVycywgdGhpcy50YWdzLCB0aGlzLmluaGVyaXRhYmxlVGFncywgdGhpcy5tZXRhZGF0YSwgdGhpcy5pbmhlcml0YWJsZU1ldGFkYXRhLCB0aGlzLl9wYXJlbnRSdW5JZCk7XG5cdFx0fSkpO1xuXHR9XG5cdGFzeW5jIGhhbmRsZUNoYWluU3RhcnQoY2hhaW4sIGlucHV0cywgcnVuSWQgPSB2NygpLCBydW5UeXBlID0gdm9pZCAwLCBfdGFncyA9IHZvaWQgMCwgX21ldGFkYXRhID0gdm9pZCAwLCBydW5OYW1lID0gdm9pZCAwLCBfcGFyZW50UnVuSWQgPSB2b2lkIDAsIGV4dHJhID0gdm9pZCAwKSB7XG5cdFx0YXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IHtcblx0XHRcdGlmIChoYW5kbGVyLmlnbm9yZUNoYWluKSByZXR1cm47XG5cdFx0XHRpZiAoaXNCYXNlVHJhY2VyKGhhbmRsZXIpKSBoYW5kbGVyLl9jcmVhdGVSdW5Gb3JDaGFpblN0YXJ0KGNoYWluLCBpbnB1dHMsIHJ1bklkLCB0aGlzLl9wYXJlbnRSdW5JZCwgdGhpcy50YWdzLCB0aGlzLm1ldGFkYXRhLCBydW5UeXBlLCBydW5OYW1lLCBleHRyYSk7XG5cdFx0XHRyZXR1cm4gY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRhd2FpdCBoYW5kbGVyLmhhbmRsZUNoYWluU3RhcnQ/LihjaGFpbiwgaW5wdXRzLCBydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIHRoaXMudGFncywgdGhpcy5tZXRhZGF0YSwgcnVuVHlwZSwgcnVuTmFtZSwgZXh0cmEpO1xuXHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0XHRjb25zdCBsb2dGdW5jdGlvbiA9IGhhbmRsZXIucmFpc2VFcnJvciA/IGNvbnNvbGUuZXJyb3IgOiBjb25zb2xlLndhcm47XG5cdFx0XHRcdFx0bG9nRnVuY3Rpb24oYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVDaGFpblN0YXJ0OiAke2Vycn1gKTtcblx0XHRcdFx0XHRpZiAoaGFuZGxlci5yYWlzZUVycm9yKSB0aHJvdyBlcnI7XG5cdFx0XHRcdH1cblx0XHRcdH0sIGhhbmRsZXIuYXdhaXRIYW5kbGVycyk7XG5cdFx0fSkpO1xuXHRcdHJldHVybiBuZXcgQ2FsbGJhY2tNYW5hZ2VyRm9yQ2hhaW5SdW4ocnVuSWQsIHRoaXMuaGFuZGxlcnMsIHRoaXMuaW5oZXJpdGFibGVIYW5kbGVycywgdGhpcy50YWdzLCB0aGlzLmluaGVyaXRhYmxlVGFncywgdGhpcy5tZXRhZGF0YSwgdGhpcy5pbmhlcml0YWJsZU1ldGFkYXRhLCB0aGlzLl9wYXJlbnRSdW5JZCk7XG5cdH1cblx0YXN5bmMgaGFuZGxlVG9vbFN0YXJ0KHRvb2wsIGlucHV0LCBydW5JZCA9IHY3KCksIF9wYXJlbnRSdW5JZCA9IHZvaWQgMCwgX3RhZ3MgPSB2b2lkIDAsIF9tZXRhZGF0YSA9IHZvaWQgMCwgcnVuTmFtZSA9IHZvaWQgMCkge1xuXHRcdGF3YWl0IFByb21pc2UuYWxsKHRoaXMuaGFuZGxlcnMubWFwKChoYW5kbGVyKSA9PiB7XG5cdFx0XHRpZiAoaGFuZGxlci5pZ25vcmVBZ2VudCkgcmV0dXJuO1xuXHRcdFx0aWYgKGlzQmFzZVRyYWNlcihoYW5kbGVyKSkgaGFuZGxlci5fY3JlYXRlUnVuRm9yVG9vbFN0YXJ0KHRvb2wsIGlucHV0LCBydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIHRoaXMudGFncywgdGhpcy5tZXRhZGF0YSwgcnVuTmFtZSk7XG5cdFx0XHRyZXR1cm4gY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRhd2FpdCBoYW5kbGVyLmhhbmRsZVRvb2xTdGFydD8uKHRvb2wsIGlucHV0LCBydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIHRoaXMudGFncywgdGhpcy5tZXRhZGF0YSwgcnVuTmFtZSk7XG5cdFx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRcdGNvbnN0IGxvZ0Z1bmN0aW9uID0gaGFuZGxlci5yYWlzZUVycm9yID8gY29uc29sZS5lcnJvciA6IGNvbnNvbGUud2Fybjtcblx0XHRcdFx0XHRsb2dGdW5jdGlvbihgRXJyb3IgaW4gaGFuZGxlciAke2hhbmRsZXIuY29uc3RydWN0b3IubmFtZX0sIGhhbmRsZVRvb2xTdGFydDogJHtlcnJ9YCk7XG5cdFx0XHRcdFx0aWYgKGhhbmRsZXIucmFpc2VFcnJvcikgdGhyb3cgZXJyO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpO1xuXHRcdH0pKTtcblx0XHRyZXR1cm4gbmV3IENhbGxiYWNrTWFuYWdlckZvclRvb2xSdW4ocnVuSWQsIHRoaXMuaGFuZGxlcnMsIHRoaXMuaW5oZXJpdGFibGVIYW5kbGVycywgdGhpcy50YWdzLCB0aGlzLmluaGVyaXRhYmxlVGFncywgdGhpcy5tZXRhZGF0YSwgdGhpcy5pbmhlcml0YWJsZU1ldGFkYXRhLCB0aGlzLl9wYXJlbnRSdW5JZCk7XG5cdH1cblx0YXN5bmMgaGFuZGxlUmV0cmlldmVyU3RhcnQocmV0cmlldmVyLCBxdWVyeSwgcnVuSWQgPSB2NygpLCBfcGFyZW50UnVuSWQgPSB2b2lkIDAsIF90YWdzID0gdm9pZCAwLCBfbWV0YWRhdGEgPSB2b2lkIDAsIHJ1bk5hbWUgPSB2b2lkIDApIHtcblx0XHRhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4ge1xuXHRcdFx0aWYgKGhhbmRsZXIuaWdub3JlUmV0cmlldmVyKSByZXR1cm47XG5cdFx0XHRpZiAoaXNCYXNlVHJhY2VyKGhhbmRsZXIpKSBoYW5kbGVyLl9jcmVhdGVSdW5Gb3JSZXRyaWV2ZXJTdGFydChyZXRyaWV2ZXIsIHF1ZXJ5LCBydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIHRoaXMudGFncywgdGhpcy5tZXRhZGF0YSwgcnVuTmFtZSk7XG5cdFx0XHRyZXR1cm4gY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRhd2FpdCBoYW5kbGVyLmhhbmRsZVJldHJpZXZlclN0YXJ0Py4ocmV0cmlldmVyLCBxdWVyeSwgcnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCB0aGlzLnRhZ3MsIHRoaXMubWV0YWRhdGEsIHJ1bk5hbWUpO1xuXHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0XHRjb25zdCBsb2dGdW5jdGlvbiA9IGhhbmRsZXIucmFpc2VFcnJvciA/IGNvbnNvbGUuZXJyb3IgOiBjb25zb2xlLndhcm47XG5cdFx0XHRcdFx0bG9nRnVuY3Rpb24oYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVSZXRyaWV2ZXJTdGFydDogJHtlcnJ9YCk7XG5cdFx0XHRcdFx0aWYgKGhhbmRsZXIucmFpc2VFcnJvcikgdGhyb3cgZXJyO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpO1xuXHRcdH0pKTtcblx0XHRyZXR1cm4gbmV3IENhbGxiYWNrTWFuYWdlckZvclJldHJpZXZlclJ1bihydW5JZCwgdGhpcy5oYW5kbGVycywgdGhpcy5pbmhlcml0YWJsZUhhbmRsZXJzLCB0aGlzLnRhZ3MsIHRoaXMuaW5oZXJpdGFibGVUYWdzLCB0aGlzLm1ldGFkYXRhLCB0aGlzLmluaGVyaXRhYmxlTWV0YWRhdGEsIHRoaXMuX3BhcmVudFJ1bklkKTtcblx0fVxuXHRhc3luYyBoYW5kbGVDdXN0b21FdmVudChldmVudE5hbWUsIGRhdGEsIHJ1bklkLCBfdGFncywgX21ldGFkYXRhKSB7XG5cdFx0YXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IGNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG5cdFx0XHRpZiAoIWhhbmRsZXIuaWdub3JlQ3VzdG9tRXZlbnQpIHRyeSB7XG5cdFx0XHRcdGF3YWl0IGhhbmRsZXIuaGFuZGxlQ3VzdG9tRXZlbnQ/LihldmVudE5hbWUsIGRhdGEsIHJ1bklkLCB0aGlzLnRhZ3MsIHRoaXMubWV0YWRhdGEpO1xuXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdGNvbnN0IGxvZ0Z1bmN0aW9uID0gaGFuZGxlci5yYWlzZUVycm9yID8gY29uc29sZS5lcnJvciA6IGNvbnNvbGUud2Fybjtcblx0XHRcdFx0bG9nRnVuY3Rpb24oYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVDdXN0b21FdmVudDogJHtlcnJ9YCk7XG5cdFx0XHRcdGlmIChoYW5kbGVyLnJhaXNlRXJyb3IpIHRocm93IGVycjtcblx0XHRcdH1cblx0XHR9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpKSk7XG5cdH1cblx0YWRkSGFuZGxlcihoYW5kbGVyLCBpbmhlcml0ID0gdHJ1ZSkge1xuXHRcdHRoaXMuaGFuZGxlcnMucHVzaChoYW5kbGVyKTtcblx0XHRpZiAoaW5oZXJpdCkgdGhpcy5pbmhlcml0YWJsZUhhbmRsZXJzLnB1c2goaGFuZGxlcik7XG5cdH1cblx0cmVtb3ZlSGFuZGxlcihoYW5kbGVyKSB7XG5cdFx0dGhpcy5oYW5kbGVycyA9IHRoaXMuaGFuZGxlcnMuZmlsdGVyKChfaGFuZGxlcikgPT4gX2hhbmRsZXIgIT09IGhhbmRsZXIpO1xuXHRcdHRoaXMuaW5oZXJpdGFibGVIYW5kbGVycyA9IHRoaXMuaW5oZXJpdGFibGVIYW5kbGVycy5maWx0ZXIoKF9oYW5kbGVyKSA9PiBfaGFuZGxlciAhPT0gaGFuZGxlcik7XG5cdH1cblx0c2V0SGFuZGxlcnMoaGFuZGxlcnMsIGluaGVyaXQgPSB0cnVlKSB7XG5cdFx0dGhpcy5oYW5kbGVycyA9IFtdO1xuXHRcdHRoaXMuaW5oZXJpdGFibGVIYW5kbGVycyA9IFtdO1xuXHRcdGZvciAoY29uc3QgaGFuZGxlciBvZiBoYW5kbGVycykgdGhpcy5hZGRIYW5kbGVyKGhhbmRsZXIsIGluaGVyaXQpO1xuXHR9XG5cdGFkZFRhZ3ModGFncywgaW5oZXJpdCA9IHRydWUpIHtcblx0XHR0aGlzLnJlbW92ZVRhZ3ModGFncyk7XG5cdFx0dGhpcy50YWdzLnB1c2goLi4udGFncyk7XG5cdFx0aWYgKGluaGVyaXQpIHRoaXMuaW5oZXJpdGFibGVUYWdzLnB1c2goLi4udGFncyk7XG5cdH1cblx0cmVtb3ZlVGFncyh0YWdzKSB7XG5cdFx0dGhpcy50YWdzID0gdGhpcy50YWdzLmZpbHRlcigodGFnKSA9PiAhdGFncy5pbmNsdWRlcyh0YWcpKTtcblx0XHR0aGlzLmluaGVyaXRhYmxlVGFncyA9IHRoaXMuaW5oZXJpdGFibGVUYWdzLmZpbHRlcigodGFnKSA9PiAhdGFncy5pbmNsdWRlcyh0YWcpKTtcblx0fVxuXHRhZGRNZXRhZGF0YShtZXRhZGF0YSwgaW5oZXJpdCA9IHRydWUpIHtcblx0XHR0aGlzLm1ldGFkYXRhID0ge1xuXHRcdFx0Li4udGhpcy5tZXRhZGF0YSxcblx0XHRcdC4uLm1ldGFkYXRhXG5cdFx0fTtcblx0XHRpZiAoaW5oZXJpdCkgdGhpcy5pbmhlcml0YWJsZU1ldGFkYXRhID0ge1xuXHRcdFx0Li4udGhpcy5pbmhlcml0YWJsZU1ldGFkYXRhLFxuXHRcdFx0Li4ubWV0YWRhdGFcblx0XHR9O1xuXHR9XG5cdHJlbW92ZU1ldGFkYXRhKG1ldGFkYXRhKSB7XG5cdFx0Zm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMobWV0YWRhdGEpKSB7XG5cdFx0XHRkZWxldGUgdGhpcy5tZXRhZGF0YVtrZXldO1xuXHRcdFx0ZGVsZXRlIHRoaXMuaW5oZXJpdGFibGVNZXRhZGF0YVtrZXldO1xuXHRcdH1cblx0fVxuXHRjb3B5KGFkZGl0aW9uYWxIYW5kbGVycyA9IFtdLCBpbmhlcml0ID0gdHJ1ZSkge1xuXHRcdGNvbnN0IG1hbmFnZXIgPSBuZXcgQ2FsbGJhY2tNYW5hZ2VyKHRoaXMuX3BhcmVudFJ1bklkKTtcblx0XHRmb3IgKGNvbnN0IGhhbmRsZXIgb2YgdGhpcy5oYW5kbGVycykge1xuXHRcdFx0Y29uc3QgaW5oZXJpdGFibGUgPSB0aGlzLmluaGVyaXRhYmxlSGFuZGxlcnMuaW5jbHVkZXMoaGFuZGxlcik7XG5cdFx0XHRtYW5hZ2VyLmFkZEhhbmRsZXIoaGFuZGxlciwgaW5oZXJpdGFibGUpO1xuXHRcdH1cblx0XHRmb3IgKGNvbnN0IHRhZyBvZiB0aGlzLnRhZ3MpIHtcblx0XHRcdGNvbnN0IGluaGVyaXRhYmxlID0gdGhpcy5pbmhlcml0YWJsZVRhZ3MuaW5jbHVkZXModGFnKTtcblx0XHRcdG1hbmFnZXIuYWRkVGFncyhbdGFnXSwgaW5oZXJpdGFibGUpO1xuXHRcdH1cblx0XHRmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyh0aGlzLm1ldGFkYXRhKSkge1xuXHRcdFx0Y29uc3QgaW5oZXJpdGFibGUgPSBPYmplY3Qua2V5cyh0aGlzLmluaGVyaXRhYmxlTWV0YWRhdGEpLmluY2x1ZGVzKGtleSk7XG5cdFx0XHRtYW5hZ2VyLmFkZE1ldGFkYXRhKHsgW2tleV06IHRoaXMubWV0YWRhdGFba2V5XSB9LCBpbmhlcml0YWJsZSk7XG5cdFx0fVxuXHRcdGZvciAoY29uc3QgaGFuZGxlciBvZiBhZGRpdGlvbmFsSGFuZGxlcnMpIHtcblx0XHRcdGlmIChtYW5hZ2VyLmhhbmRsZXJzLmZpbHRlcigoaCkgPT4gaC5uYW1lID09PSBcImNvbnNvbGVfY2FsbGJhY2tfaGFuZGxlclwiKS5zb21lKChoKSA9PiBoLm5hbWUgPT09IGhhbmRsZXIubmFtZSkpIGNvbnRpbnVlO1xuXHRcdFx0bWFuYWdlci5hZGRIYW5kbGVyKGhhbmRsZXIsIGluaGVyaXQpO1xuXHRcdH1cblx0XHRyZXR1cm4gbWFuYWdlcjtcblx0fVxuXHRzdGF0aWMgZnJvbUhhbmRsZXJzKGhhbmRsZXJzKSB7XG5cdFx0Y2xhc3MgSGFuZGxlciBleHRlbmRzIEJhc2VDYWxsYmFja0hhbmRsZXIge1xuXHRcdFx0bmFtZSA9IHY3KCk7XG5cdFx0XHRjb25zdHJ1Y3RvcigpIHtcblx0XHRcdFx0c3VwZXIoKTtcblx0XHRcdFx0T2JqZWN0LmFzc2lnbih0aGlzLCBoYW5kbGVycyk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGNvbnN0IG1hbmFnZXIgPSBuZXcgdGhpcygpO1xuXHRcdG1hbmFnZXIuYWRkSGFuZGxlcihuZXcgSGFuZGxlcigpKTtcblx0XHRyZXR1cm4gbWFuYWdlcjtcblx0fVxuXHRzdGF0aWMgY29uZmlndXJlKGluaGVyaXRhYmxlSGFuZGxlcnMsIGxvY2FsSGFuZGxlcnMsIGluaGVyaXRhYmxlVGFncywgbG9jYWxUYWdzLCBpbmhlcml0YWJsZU1ldGFkYXRhLCBsb2NhbE1ldGFkYXRhLCBvcHRpb25zKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2NvbmZpZ3VyZVN5bmMoaW5oZXJpdGFibGVIYW5kbGVycywgbG9jYWxIYW5kbGVycywgaW5oZXJpdGFibGVUYWdzLCBsb2NhbFRhZ3MsIGluaGVyaXRhYmxlTWV0YWRhdGEsIGxvY2FsTWV0YWRhdGEsIG9wdGlvbnMpO1xuXHR9XG5cdHN0YXRpYyBfY29uZmlndXJlU3luYyhpbmhlcml0YWJsZUhhbmRsZXJzLCBsb2NhbEhhbmRsZXJzLCBpbmhlcml0YWJsZVRhZ3MsIGxvY2FsVGFncywgaW5oZXJpdGFibGVNZXRhZGF0YSwgbG9jYWxNZXRhZGF0YSwgb3B0aW9ucykge1xuXHRcdGxldCBjYWxsYmFja01hbmFnZXI7XG5cdFx0aWYgKGluaGVyaXRhYmxlSGFuZGxlcnMgfHwgbG9jYWxIYW5kbGVycykge1xuXHRcdFx0aWYgKEFycmF5LmlzQXJyYXkoaW5oZXJpdGFibGVIYW5kbGVycykgfHwgIWluaGVyaXRhYmxlSGFuZGxlcnMpIHtcblx0XHRcdFx0Y2FsbGJhY2tNYW5hZ2VyID0gbmV3IENhbGxiYWNrTWFuYWdlcigpO1xuXHRcdFx0XHRjYWxsYmFja01hbmFnZXIuc2V0SGFuZGxlcnMoaW5oZXJpdGFibGVIYW5kbGVycz8ubWFwKGVuc3VyZUhhbmRsZXIpID8/IFtdLCB0cnVlKTtcblx0XHRcdH0gZWxzZSBjYWxsYmFja01hbmFnZXIgPSBpbmhlcml0YWJsZUhhbmRsZXJzO1xuXHRcdFx0Y2FsbGJhY2tNYW5hZ2VyID0gY2FsbGJhY2tNYW5hZ2VyLmNvcHkoQXJyYXkuaXNBcnJheShsb2NhbEhhbmRsZXJzKSA/IGxvY2FsSGFuZGxlcnMubWFwKGVuc3VyZUhhbmRsZXIpIDogbG9jYWxIYW5kbGVycz8uaGFuZGxlcnMsIGZhbHNlKTtcblx0XHR9XG5cdFx0Y29uc3QgdmVyYm9zZUVuYWJsZWQgPSBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiTEFOR0NIQUlOX1ZFUkJPU0VcIikgPT09IFwidHJ1ZVwiIHx8IG9wdGlvbnM/LnZlcmJvc2U7XG5cdFx0Y29uc3QgdHJhY2luZ1YyRW5hYmxlZCA9IExhbmdDaGFpblRyYWNlci5nZXRUcmFjZWFibGVSdW5UcmVlKCk/LnRyYWNpbmdFbmFibGVkID8/IGlzVHJhY2luZ0VuYWJsZWQoKTtcblx0XHRjb25zdCB0cmFjaW5nRW5hYmxlZCA9IHRyYWNpbmdWMkVuYWJsZWQgfHwgKGdldEVudmlyb25tZW50VmFyaWFibGUoXCJMQU5HQ0hBSU5fVFJBQ0lOR1wiKSA/PyBmYWxzZSk7XG5cdFx0aWYgKHZlcmJvc2VFbmFibGVkIHx8IHRyYWNpbmdFbmFibGVkKSB7XG5cdFx0XHRpZiAoIWNhbGxiYWNrTWFuYWdlcikgY2FsbGJhY2tNYW5hZ2VyID0gbmV3IENhbGxiYWNrTWFuYWdlcigpO1xuXHRcdFx0aWYgKHZlcmJvc2VFbmFibGVkICYmICFjYWxsYmFja01hbmFnZXIuaGFuZGxlcnMuc29tZSgoaGFuZGxlcikgPT4gaGFuZGxlci5uYW1lID09PSBDb25zb2xlQ2FsbGJhY2tIYW5kbGVyLnByb3RvdHlwZS5uYW1lKSkge1xuXHRcdFx0XHRjb25zdCBjb25zb2xlSGFuZGxlciA9IG5ldyBDb25zb2xlQ2FsbGJhY2tIYW5kbGVyKCk7XG5cdFx0XHRcdGNhbGxiYWNrTWFuYWdlci5hZGRIYW5kbGVyKGNvbnNvbGVIYW5kbGVyLCB0cnVlKTtcblx0XHRcdH1cblx0XHRcdGlmICh0cmFjaW5nRW5hYmxlZCAmJiAhY2FsbGJhY2tNYW5hZ2VyLmhhbmRsZXJzLnNvbWUoKGhhbmRsZXIpID0+IGhhbmRsZXIubmFtZSA9PT0gXCJsYW5nY2hhaW5fdHJhY2VyXCIpKSB7XG5cdFx0XHRcdGlmICh0cmFjaW5nVjJFbmFibGVkKSB7XG5cdFx0XHRcdFx0Y29uc3QgdHJhY2VyVjIgPSBuZXcgTGFuZ0NoYWluVHJhY2VyKCk7XG5cdFx0XHRcdFx0Y2FsbGJhY2tNYW5hZ2VyLmFkZEhhbmRsZXIodHJhY2VyVjIsIHRydWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAodHJhY2luZ1YyRW5hYmxlZCkge1xuXHRcdFx0XHRjb25zdCBpbXBsaWNpdFJ1blRyZWUgPSBMYW5nQ2hhaW5UcmFjZXIuZ2V0VHJhY2VhYmxlUnVuVHJlZSgpO1xuXHRcdFx0XHRpZiAoaW1wbGljaXRSdW5UcmVlICYmIGNhbGxiYWNrTWFuYWdlci5fcGFyZW50UnVuSWQgPT09IHZvaWQgMCkge1xuXHRcdFx0XHRcdGNhbGxiYWNrTWFuYWdlci5fcGFyZW50UnVuSWQgPSBpbXBsaWNpdFJ1blRyZWUuaWQ7XG5cdFx0XHRcdFx0Y29uc3QgdHJhY2VyVjIgPSBjYWxsYmFja01hbmFnZXIuaGFuZGxlcnMuZmluZCgoaGFuZGxlcikgPT4gaGFuZGxlci5uYW1lID09PSBcImxhbmdjaGFpbl90cmFjZXJcIik7XG5cdFx0XHRcdFx0dHJhY2VyVjI/LnVwZGF0ZUZyb21SdW5UcmVlKGltcGxpY2l0UnVuVHJlZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0Zm9yIChjb25zdCB7IGNvbnRleHRWYXIsIGluaGVyaXRhYmxlID0gdHJ1ZSwgaGFuZGxlckNsYXNzLCBlbnZWYXIgfSBvZiBfZ2V0Q29uZmlndXJlSG9va3MoKSkge1xuXHRcdFx0Y29uc3QgY3JlYXRlSWZOb3RJbkNvbnRleHQgPSBlbnZWYXIgJiYgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShlbnZWYXIpID09PSBcInRydWVcIiAmJiBoYW5kbGVyQ2xhc3M7XG5cdFx0XHRsZXQgaGFuZGxlcjtcblx0XHRcdGNvbnN0IGNvbnRleHRWYXJWYWx1ZSA9IGNvbnRleHRWYXIgIT09IHZvaWQgMCA/IGdldENvbnRleHRWYXJpYWJsZShjb250ZXh0VmFyKSA6IHZvaWQgMDtcblx0XHRcdGlmIChjb250ZXh0VmFyVmFsdWUgJiYgaXNCYXNlQ2FsbGJhY2tIYW5kbGVyKGNvbnRleHRWYXJWYWx1ZSkpIGhhbmRsZXIgPSBjb250ZXh0VmFyVmFsdWU7XG5cdFx0XHRlbHNlIGlmIChjcmVhdGVJZk5vdEluQ29udGV4dCkgaGFuZGxlciA9IG5ldyBoYW5kbGVyQ2xhc3Moe30pO1xuXHRcdFx0aWYgKGhhbmRsZXIgIT09IHZvaWQgMCkge1xuXHRcdFx0XHRpZiAoIWNhbGxiYWNrTWFuYWdlcikgY2FsbGJhY2tNYW5hZ2VyID0gbmV3IENhbGxiYWNrTWFuYWdlcigpO1xuXHRcdFx0XHRpZiAoIWNhbGxiYWNrTWFuYWdlci5oYW5kbGVycy5zb21lKChoKSA9PiBoLm5hbWUgPT09IGhhbmRsZXIubmFtZSkpIGNhbGxiYWNrTWFuYWdlci5hZGRIYW5kbGVyKGhhbmRsZXIsIGluaGVyaXRhYmxlKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKGluaGVyaXRhYmxlVGFncyB8fCBsb2NhbFRhZ3MpIHtcblx0XHRcdGlmIChjYWxsYmFja01hbmFnZXIpIHtcblx0XHRcdFx0Y2FsbGJhY2tNYW5hZ2VyLmFkZFRhZ3MoaW5oZXJpdGFibGVUYWdzID8/IFtdKTtcblx0XHRcdFx0Y2FsbGJhY2tNYW5hZ2VyLmFkZFRhZ3MobG9jYWxUYWdzID8/IFtdLCBmYWxzZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChpbmhlcml0YWJsZU1ldGFkYXRhIHx8IGxvY2FsTWV0YWRhdGEpIHtcblx0XHRcdGlmIChjYWxsYmFja01hbmFnZXIpIHtcblx0XHRcdFx0Y2FsbGJhY2tNYW5hZ2VyLmFkZE1ldGFkYXRhKGluaGVyaXRhYmxlTWV0YWRhdGEgPz8ge30pO1xuXHRcdFx0XHRjYWxsYmFja01hbmFnZXIuYWRkTWV0YWRhdGEobG9jYWxNZXRhZGF0YSA/PyB7fSwgZmFsc2UpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gY2FsbGJhY2tNYW5hZ2VyO1xuXHR9XG59O1xuZnVuY3Rpb24gZW5zdXJlSGFuZGxlcihoYW5kbGVyKSB7XG5cdGlmIChcIm5hbWVcIiBpbiBoYW5kbGVyKSByZXR1cm4gaGFuZGxlcjtcblx0cmV0dXJuIEJhc2VDYWxsYmFja0hhbmRsZXIuZnJvbU1ldGhvZHMoaGFuZGxlcik7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQmFzZUNhbGxiYWNrTWFuYWdlciwgQmFzZVJ1bk1hbmFnZXIsIENhbGxiYWNrTWFuYWdlciwgQ2FsbGJhY2tNYW5hZ2VyRm9yQ2hhaW5SdW4sIENhbGxiYWNrTWFuYWdlckZvckxMTVJ1biwgQ2FsbGJhY2tNYW5hZ2VyRm9yUmV0cmlldmVyUnVuLCBDYWxsYmFja01hbmFnZXJGb3JUb29sUnVuLCBlbnN1cmVIYW5kbGVyLCBtYW5hZ2VyX2V4cG9ydHMsIHBhcnNlQ2FsbGJhY2tDb25maWdBcmcgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hbmFnZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/callbacks/manager.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/callbacks/promises.js":
/*!************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/callbacks/promises.js ***!
  \************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   awaitAllCallbacks: () => (/* reexport safe */ _singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_1__.awaitAllCallbacks),\n/* harmony export */   consumeCallback: () => (/* reexport safe */ _singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_1__.consumeCallback),\n/* harmony export */   promises_exports: () => (/* binding */ promises_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../singletons/callbacks.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/callbacks.js\");\n\n\n\n//#region src/callbacks/promises.ts\nvar promises_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(promises_exports, {\n\tawaitAllCallbacks: () => _singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_1__.awaitAllCallbacks,\n\tconsumeCallback: () => _singletons_callbacks_js__WEBPACK_IMPORTED_MODULE_1__.consumeCallback\n});\n\n//#endregion\n\n//# sourceMappingURL=promises.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L2NhbGxiYWNrcy9wcm9taXNlcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUEyRDtBQUNxQjs7QUFFaEY7QUFDQTtBQUNBLHNFQUFRO0FBQ1IsMEJBQTBCLHVFQUFpQjtBQUMzQyx3QkFBd0IscUVBQWU7QUFDdkMsQ0FBQzs7QUFFRDtBQUNnRTtBQUNoRSIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9jYWxsYmFja3MvcHJvbWlzZXMuanM/NjFmOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2V4cG9ydCB9IGZyb20gXCIuLi9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmpzXCI7XG5pbXBvcnQgeyBhd2FpdEFsbENhbGxiYWNrcywgY29uc3VtZUNhbGxiYWNrIH0gZnJvbSBcIi4uL3NpbmdsZXRvbnMvY2FsbGJhY2tzLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvY2FsbGJhY2tzL3Byb21pc2VzLnRzXG52YXIgcHJvbWlzZXNfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQocHJvbWlzZXNfZXhwb3J0cywge1xuXHRhd2FpdEFsbENhbGxiYWNrczogKCkgPT4gYXdhaXRBbGxDYWxsYmFja3MsXG5cdGNvbnN1bWVDYWxsYmFjazogKCkgPT4gY29uc3VtZUNhbGxiYWNrXG59KTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBhd2FpdEFsbENhbGxiYWNrcywgY29uc3VtZUNhbGxiYWNrLCBwcm9taXNlc19leHBvcnRzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcm9taXNlcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/callbacks/promises.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/embeddings.js":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/embeddings.js ***!
  \****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Embeddings: () => (/* binding */ Embeddings),\n/* harmony export */   embeddings_exports: () => (/* binding */ embeddings_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_virtual/rolldown_runtime.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _utils_async_caller_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/async_caller.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/async_caller.js\");\n\n\n\n//#region src/embeddings.ts\nvar embeddings_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(embeddings_exports, { Embeddings: () => Embeddings });\n/**\n* An abstract class that provides methods for embedding documents and\n* queries using LangChain.\n*/\nvar Embeddings = class {\n\t/**\n\t* The async caller should be used by subclasses to make any async calls,\n\t* which will thus benefit from the concurrency and retry logic.\n\t*/\n\tcaller;\n\tconstructor(params) {\n\t\tthis.caller = new _utils_async_caller_js__WEBPACK_IMPORTED_MODULE_1__.AsyncCaller(params ?? {});\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=embeddings.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L2VtYmVkZGluZ3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEwRDtBQUNKOztBQUV0RDtBQUNBO0FBQ0Esc0VBQVEsdUJBQXVCLDhCQUE4QjtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLCtEQUFXLGFBQWE7QUFDNUM7QUFDQTs7QUFFQTtBQUMwQztBQUMxQyIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9lbWJlZGRpbmdzLmpzPzIyM2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19leHBvcnQgfSBmcm9tIFwiLi9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmpzXCI7XG5pbXBvcnQgeyBBc3luY0NhbGxlciB9IGZyb20gXCIuL3V0aWxzL2FzeW5jX2NhbGxlci5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL2VtYmVkZGluZ3MudHNcbnZhciBlbWJlZGRpbmdzX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KGVtYmVkZGluZ3NfZXhwb3J0cywgeyBFbWJlZGRpbmdzOiAoKSA9PiBFbWJlZGRpbmdzIH0pO1xuLyoqXG4qIEFuIGFic3RyYWN0IGNsYXNzIHRoYXQgcHJvdmlkZXMgbWV0aG9kcyBmb3IgZW1iZWRkaW5nIGRvY3VtZW50cyBhbmRcbiogcXVlcmllcyB1c2luZyBMYW5nQ2hhaW4uXG4qL1xudmFyIEVtYmVkZGluZ3MgPSBjbGFzcyB7XG5cdC8qKlxuXHQqIFRoZSBhc3luYyBjYWxsZXIgc2hvdWxkIGJlIHVzZWQgYnkgc3ViY2xhc3NlcyB0byBtYWtlIGFueSBhc3luYyBjYWxscyxcblx0KiB3aGljaCB3aWxsIHRodXMgYmVuZWZpdCBmcm9tIHRoZSBjb25jdXJyZW5jeSBhbmQgcmV0cnkgbG9naWMuXG5cdCovXG5cdGNhbGxlcjtcblx0Y29uc3RydWN0b3IocGFyYW1zKSB7XG5cdFx0dGhpcy5jYWxsZXIgPSBuZXcgQXN5bmNDYWxsZXIocGFyYW1zID8/IHt9KTtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBFbWJlZGRpbmdzLCBlbWJlZGRpbmdzX2V4cG9ydHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVtYmVkZGluZ3MuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/embeddings.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/errors/index.js":
/*!******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/errors/index.js ***!
  \******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addLangChainErrorFields: () => (/* binding */ addLangChainErrorFields)\n/* harmony export */ });\n//#region src/errors/index.ts\nfunction addLangChainErrorFields(error, lc_error_code) {\n\terror.lc_error_code = lc_error_code;\n\terror.message = `${error.message}\\n\\nTroubleshooting URL: https://docs.langchain.com/oss/javascript/langchain/errors/${lc_error_code}/\\n`;\n\treturn error;\n}\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L2Vycm9ycy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGNBQWMsc0ZBQXNGLGNBQWM7QUFDdEk7QUFDQTs7QUFFQTtBQUNtQztBQUNuQyIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9lcnJvcnMvaW5kZXguanM/MDkwZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyNyZWdpb24gc3JjL2Vycm9ycy9pbmRleC50c1xuZnVuY3Rpb24gYWRkTGFuZ0NoYWluRXJyb3JGaWVsZHMoZXJyb3IsIGxjX2Vycm9yX2NvZGUpIHtcblx0ZXJyb3IubGNfZXJyb3JfY29kZSA9IGxjX2Vycm9yX2NvZGU7XG5cdGVycm9yLm1lc3NhZ2UgPSBgJHtlcnJvci5tZXNzYWdlfVxcblxcblRyb3VibGVzaG9vdGluZyBVUkw6IGh0dHBzOi8vZG9jcy5sYW5nY2hhaW4uY29tL29zcy9qYXZhc2NyaXB0L2xhbmdjaGFpbi9lcnJvcnMvJHtsY19lcnJvcl9jb2RlfS9cXG5gO1xuXHRyZXR1cm4gZXJyb3I7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgYWRkTGFuZ0NoYWluRXJyb3JGaWVsZHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/errors/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/language_models/base.js":
/*!**************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/language_models/base.js ***!
  \**************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseLangChain: () => (/* binding */ BaseLangChain),\n/* harmony export */   BaseLanguageModel: () => (/* binding */ BaseLanguageModel),\n/* harmony export */   base_exports: () => (/* binding */ base_exports),\n/* harmony export */   calculateMaxTokens: () => (/* binding */ calculateMaxTokens),\n/* harmony export */   getEmbeddingContextSize: () => (/* binding */ getEmbeddingContextSize),\n/* harmony export */   getModelContextSize: () => (/* binding */ getModelContextSize),\n/* harmony export */   getModelNameForTiktoken: () => (/* binding */ getModelNameForTiktoken),\n/* harmony export */   isOpenAITool: () => (/* binding */ isOpenAITool)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _messages_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../messages/utils.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/utils.js\");\n/* harmony import */ var _utils_async_caller_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/async_caller.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/async_caller.js\");\n/* harmony import */ var _runnables_base_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../runnables/base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/base.js\");\n/* harmony import */ var _prompt_values_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../prompt_values.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompt_values.js\");\n/* harmony import */ var _caches_index_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../caches/index.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/caches/index.js\");\n/* harmony import */ var _utils_tiktoken_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/tiktoken.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/tiktoken.js\");\n\n\n\n\n\n\n\n\n//#region src/language_models/base.ts\nvar base_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(base_exports, {\n\tBaseLangChain: () => BaseLangChain,\n\tBaseLanguageModel: () => BaseLanguageModel,\n\tcalculateMaxTokens: () => calculateMaxTokens,\n\tgetEmbeddingContextSize: () => getEmbeddingContextSize,\n\tgetModelContextSize: () => getModelContextSize,\n\tgetModelNameForTiktoken: () => getModelNameForTiktoken,\n\tisOpenAITool: () => isOpenAITool\n});\nconst getModelNameForTiktoken = (modelName) => {\n\tif (modelName.startsWith(\"gpt-5\")) return \"gpt-5\";\n\tif (modelName.startsWith(\"gpt-3.5-turbo-16k\")) return \"gpt-3.5-turbo-16k\";\n\tif (modelName.startsWith(\"gpt-3.5-turbo-\")) return \"gpt-3.5-turbo\";\n\tif (modelName.startsWith(\"gpt-4-32k\")) return \"gpt-4-32k\";\n\tif (modelName.startsWith(\"gpt-4-\")) return \"gpt-4\";\n\tif (modelName.startsWith(\"gpt-4o\")) return \"gpt-4o\";\n\treturn modelName;\n};\nconst getEmbeddingContextSize = (modelName) => {\n\tswitch (modelName) {\n\t\tcase \"text-embedding-ada-002\": return 8191;\n\t\tdefault: return 2046;\n\t}\n};\n/**\n* Get the context window size (max input tokens) for a given model.\n*\n* Context window sizes are sourced from official model documentation:\n* - OpenAI: https://platform.openai.com/docs/models\n* - Anthropic: https://docs.anthropic.com/claude/docs/models-overview\n* - Google: https://ai.google.dev/gemini/docs/models/gemini\n*\n* @param modelName - The name of the model\n* @returns The context window size in tokens\n*/\nconst getModelContextSize = (modelName) => {\n\tconst normalizedName = getModelNameForTiktoken(modelName);\n\tswitch (normalizedName) {\n\t\tcase \"gpt-5\":\n\t\tcase \"gpt-5-turbo\":\n\t\tcase \"gpt-5-turbo-preview\": return 4e5;\n\t\tcase \"gpt-4o\":\n\t\tcase \"gpt-4o-mini\":\n\t\tcase \"gpt-4o-2024-05-13\":\n\t\tcase \"gpt-4o-2024-08-06\": return 128e3;\n\t\tcase \"gpt-4-turbo\":\n\t\tcase \"gpt-4-turbo-preview\":\n\t\tcase \"gpt-4-turbo-2024-04-09\":\n\t\tcase \"gpt-4-0125-preview\":\n\t\tcase \"gpt-4-1106-preview\": return 128e3;\n\t\tcase \"gpt-4-32k\":\n\t\tcase \"gpt-4-32k-0314\":\n\t\tcase \"gpt-4-32k-0613\": return 32768;\n\t\tcase \"gpt-4\":\n\t\tcase \"gpt-4-0314\":\n\t\tcase \"gpt-4-0613\": return 8192;\n\t\tcase \"gpt-3.5-turbo-16k\":\n\t\tcase \"gpt-3.5-turbo-16k-0613\": return 16384;\n\t\tcase \"gpt-3.5-turbo\":\n\t\tcase \"gpt-3.5-turbo-0301\":\n\t\tcase \"gpt-3.5-turbo-0613\":\n\t\tcase \"gpt-3.5-turbo-1106\":\n\t\tcase \"gpt-3.5-turbo-0125\": return 4096;\n\t\tcase \"text-davinci-003\":\n\t\tcase \"text-davinci-002\": return 4097;\n\t\tcase \"text-davinci-001\": return 2049;\n\t\tcase \"text-curie-001\":\n\t\tcase \"text-babbage-001\":\n\t\tcase \"text-ada-001\": return 2048;\n\t\tcase \"code-davinci-002\":\n\t\tcase \"code-davinci-001\": return 8e3;\n\t\tcase \"code-cushman-001\": return 2048;\n\t\tcase \"claude-3-5-sonnet-20241022\":\n\t\tcase \"claude-3-5-sonnet-20240620\":\n\t\tcase \"claude-3-opus-20240229\":\n\t\tcase \"claude-3-sonnet-20240229\":\n\t\tcase \"claude-3-haiku-20240307\":\n\t\tcase \"claude-2.1\": return 2e5;\n\t\tcase \"claude-2.0\":\n\t\tcase \"claude-instant-1.2\": return 1e5;\n\t\tcase \"gemini-1.5-pro\":\n\t\tcase \"gemini-1.5-pro-latest\":\n\t\tcase \"gemini-1.5-flash\":\n\t\tcase \"gemini-1.5-flash-latest\": return 1e6;\n\t\tcase \"gemini-pro\":\n\t\tcase \"gemini-pro-vision\": return 32768;\n\t\tdefault: return 4097;\n\t}\n};\n/**\n* Whether or not the input matches the OpenAI tool definition.\n* @param {unknown} tool The input to check.\n* @returns {boolean} Whether the input is an OpenAI tool definition.\n*/\nfunction isOpenAITool(tool) {\n\tif (typeof tool !== \"object\" || !tool) return false;\n\tif (\"type\" in tool && tool.type === \"function\" && \"function\" in tool && typeof tool.function === \"object\" && tool.function && \"name\" in tool.function && \"parameters\" in tool.function) return true;\n\treturn false;\n}\nconst calculateMaxTokens = async ({ prompt, modelName }) => {\n\tlet numTokens;\n\ttry {\n\t\tnumTokens = (await (0,_utils_tiktoken_js__WEBPACK_IMPORTED_MODULE_6__.encodingForModel)(getModelNameForTiktoken(modelName))).encode(prompt).length;\n\t} catch {\n\t\tconsole.warn(\"Failed to calculate number of tokens, falling back to approximate count\");\n\t\tnumTokens = Math.ceil(prompt.length / 4);\n\t}\n\tconst maxTokens = getModelContextSize(modelName);\n\treturn maxTokens - numTokens;\n};\nconst getVerbosity = () => false;\n/**\n* Base class for language models, chains, tools.\n*/\nvar BaseLangChain = class extends _runnables_base_js__WEBPACK_IMPORTED_MODULE_3__.Runnable {\n\t/**\n\t* Whether to print out response text.\n\t*/\n\tverbose;\n\tcallbacks;\n\ttags;\n\tmetadata;\n\tget lc_attributes() {\n\t\treturn {\n\t\t\tcallbacks: void 0,\n\t\t\tverbose: void 0\n\t\t};\n\t}\n\tconstructor(params) {\n\t\tsuper(params);\n\t\tthis.verbose = params.verbose ?? getVerbosity();\n\t\tthis.callbacks = params.callbacks;\n\t\tthis.tags = params.tags ?? [];\n\t\tthis.metadata = params.metadata ?? {};\n\t}\n};\n/**\n* Base class for language models.\n*/\nvar BaseLanguageModel = class extends BaseLangChain {\n\t/**\n\t* Keys that the language model accepts as call options.\n\t*/\n\tget callKeys() {\n\t\treturn [\n\t\t\t\"stop\",\n\t\t\t\"timeout\",\n\t\t\t\"signal\",\n\t\t\t\"tags\",\n\t\t\t\"metadata\",\n\t\t\t\"callbacks\"\n\t\t];\n\t}\n\t/**\n\t* The async caller should be used by subclasses to make any async calls,\n\t* which will thus benefit from the concurrency and retry logic.\n\t*/\n\tcaller;\n\tcache;\n\tconstructor({ callbacks, callbackManager,...params }) {\n\t\tconst { cache,...rest } = params;\n\t\tsuper({\n\t\t\tcallbacks: callbacks ?? callbackManager,\n\t\t\t...rest\n\t\t});\n\t\tif (typeof cache === \"object\") this.cache = cache;\n\t\telse if (cache) this.cache = _caches_index_js__WEBPACK_IMPORTED_MODULE_5__.InMemoryCache.global();\n\t\telse this.cache = void 0;\n\t\tthis.caller = new _utils_async_caller_js__WEBPACK_IMPORTED_MODULE_2__.AsyncCaller(params ?? {});\n\t}\n\t_encoding;\n\t/**\n\t* Get the number of tokens in the content.\n\t* @param content The content to get the number of tokens for.\n\t* @returns The number of tokens in the content.\n\t*/\n\tasync getNumTokens(content) {\n\t\tlet textContent;\n\t\tif (typeof content === \"string\") textContent = content;\n\t\telse\n /**\n\t\t* Content is an array of ContentBlock\n\t\t*\n\t\t* ToDo(@christian-bromann): This is a temporary fix to get the number of tokens for the content.\n\t\t* We need to find a better way to do this.\n\t\t* @see https://github.com/langchain-ai/langchainjs/pull/8341#pullrequestreview-2933713116\n\t\t*/\n\t\ttextContent = content.map((item) => {\n\t\t\tif (typeof item === \"string\") return item;\n\t\t\tif (item.type === \"text\" && \"text\" in item) return item.text;\n\t\t\treturn \"\";\n\t\t}).join(\"\");\n\t\tlet numTokens = Math.ceil(textContent.length / 4);\n\t\tif (!this._encoding) try {\n\t\t\tthis._encoding = await (0,_utils_tiktoken_js__WEBPACK_IMPORTED_MODULE_6__.encodingForModel)(\"modelName\" in this ? getModelNameForTiktoken(this.modelName) : \"gpt2\");\n\t\t} catch (error) {\n\t\t\tconsole.warn(\"Failed to calculate number of tokens, falling back to approximate count\", error);\n\t\t}\n\t\tif (this._encoding) try {\n\t\t\tnumTokens = this._encoding.encode(textContent).length;\n\t\t} catch (error) {\n\t\t\tconsole.warn(\"Failed to calculate number of tokens, falling back to approximate count\", error);\n\t\t}\n\t\treturn numTokens;\n\t}\n\tstatic _convertInputToPromptValue(input) {\n\t\tif (typeof input === \"string\") return new _prompt_values_js__WEBPACK_IMPORTED_MODULE_4__.StringPromptValue(input);\n\t\telse if (Array.isArray(input)) return new _prompt_values_js__WEBPACK_IMPORTED_MODULE_4__.ChatPromptValue(input.map(_messages_utils_js__WEBPACK_IMPORTED_MODULE_1__.coerceMessageLikeToMessage));\n\t\telse return input;\n\t}\n\t/**\n\t* Get the identifying parameters of the LLM.\n\t*/\n\t_identifyingParams() {\n\t\treturn {};\n\t}\n\t/**\n\t* Create a unique cache key for a specific call to a specific language model.\n\t* @param callOptions Call options for the model\n\t* @returns A unique cache key.\n\t*/\n\t_getSerializedCacheKeyParametersForCall({ config,...callOptions }) {\n\t\tconst params = {\n\t\t\t...this._identifyingParams(),\n\t\t\t...callOptions,\n\t\t\t_type: this._llmType(),\n\t\t\t_model: this._modelType()\n\t\t};\n\t\tconst filteredEntries = Object.entries(params).filter(([_, value]) => value !== void 0);\n\t\tconst serializedEntries = filteredEntries.map(([key, value]) => `${key}:${JSON.stringify(value)}`).sort().join(\",\");\n\t\treturn serializedEntries;\n\t}\n\t/**\n\t* @deprecated\n\t* Return a json-like object representing this LLM.\n\t*/\n\tserialize() {\n\t\treturn {\n\t\t\t...this._identifyingParams(),\n\t\t\t_type: this._llmType(),\n\t\t\t_model: this._modelType()\n\t\t};\n\t}\n\t/**\n\t* @deprecated\n\t* Load an LLM from a json-like object describing it.\n\t*/\n\tstatic async deserialize(_data) {\n\t\tthrow new Error(\"Use .toJSON() instead\");\n\t}\n\t/**\n\t* Return profiling information for the model.\n\t*\n\t* @returns {ModelProfile} An object describing the model's capabilities and constraints\n\t*/\n\tget profile() {\n\t\treturn {};\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=base.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L2xhbmd1YWdlX21vZGVscy9iYXNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEyRDtBQUNPO0FBQ1g7QUFDUDtBQUN5QjtBQUN0QjtBQUNLOztBQUV4RDtBQUNBO0FBQ0Esc0VBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsU0FBUztBQUNuQixZQUFZLFNBQVM7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLG1CQUFtQjtBQUN2RDtBQUNBO0FBQ0EscUJBQXFCLG9FQUFnQjtBQUNyQyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0Msd0RBQVE7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsc0NBQXNDO0FBQ3JELFVBQVUsZ0JBQWdCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLCtCQUErQiwyREFBYTtBQUM1QztBQUNBLG9CQUFvQiwrREFBVyxhQUFhO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSwwQkFBMEIsb0VBQWdCO0FBQzFDLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLGdFQUFpQjtBQUM3RCw0Q0FBNEMsOERBQWUsV0FBVywwRUFBMEI7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsdUJBQXVCO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFLElBQUksR0FBRyxzQkFBc0I7QUFDbEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsY0FBYztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ21LO0FBQ25LIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L2xhbmd1YWdlX21vZGVscy9iYXNlLmpzPzY0NDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19leHBvcnQgfSBmcm9tIFwiLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5qc1wiO1xuaW1wb3J0IHsgY29lcmNlTWVzc2FnZUxpa2VUb01lc3NhZ2UgfSBmcm9tIFwiLi4vbWVzc2FnZXMvdXRpbHMuanNcIjtcbmltcG9ydCB7IEFzeW5jQ2FsbGVyIH0gZnJvbSBcIi4uL3V0aWxzL2FzeW5jX2NhbGxlci5qc1wiO1xuaW1wb3J0IHsgUnVubmFibGUgfSBmcm9tIFwiLi4vcnVubmFibGVzL2Jhc2UuanNcIjtcbmltcG9ydCB7IENoYXRQcm9tcHRWYWx1ZSwgU3RyaW5nUHJvbXB0VmFsdWUgfSBmcm9tIFwiLi4vcHJvbXB0X3ZhbHVlcy5qc1wiO1xuaW1wb3J0IHsgSW5NZW1vcnlDYWNoZSB9IGZyb20gXCIuLi9jYWNoZXMvaW5kZXguanNcIjtcbmltcG9ydCB7IGVuY29kaW5nRm9yTW9kZWwgfSBmcm9tIFwiLi4vdXRpbHMvdGlrdG9rZW4uanNcIjtcblxuLy8jcmVnaW9uIHNyYy9sYW5ndWFnZV9tb2RlbHMvYmFzZS50c1xudmFyIGJhc2VfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQoYmFzZV9leHBvcnRzLCB7XG5cdEJhc2VMYW5nQ2hhaW46ICgpID0+IEJhc2VMYW5nQ2hhaW4sXG5cdEJhc2VMYW5ndWFnZU1vZGVsOiAoKSA9PiBCYXNlTGFuZ3VhZ2VNb2RlbCxcblx0Y2FsY3VsYXRlTWF4VG9rZW5zOiAoKSA9PiBjYWxjdWxhdGVNYXhUb2tlbnMsXG5cdGdldEVtYmVkZGluZ0NvbnRleHRTaXplOiAoKSA9PiBnZXRFbWJlZGRpbmdDb250ZXh0U2l6ZSxcblx0Z2V0TW9kZWxDb250ZXh0U2l6ZTogKCkgPT4gZ2V0TW9kZWxDb250ZXh0U2l6ZSxcblx0Z2V0TW9kZWxOYW1lRm9yVGlrdG9rZW46ICgpID0+IGdldE1vZGVsTmFtZUZvclRpa3Rva2VuLFxuXHRpc09wZW5BSVRvb2w6ICgpID0+IGlzT3BlbkFJVG9vbFxufSk7XG5jb25zdCBnZXRNb2RlbE5hbWVGb3JUaWt0b2tlbiA9IChtb2RlbE5hbWUpID0+IHtcblx0aWYgKG1vZGVsTmFtZS5zdGFydHNXaXRoKFwiZ3B0LTVcIikpIHJldHVybiBcImdwdC01XCI7XG5cdGlmIChtb2RlbE5hbWUuc3RhcnRzV2l0aChcImdwdC0zLjUtdHVyYm8tMTZrXCIpKSByZXR1cm4gXCJncHQtMy41LXR1cmJvLTE2a1wiO1xuXHRpZiAobW9kZWxOYW1lLnN0YXJ0c1dpdGgoXCJncHQtMy41LXR1cmJvLVwiKSkgcmV0dXJuIFwiZ3B0LTMuNS10dXJib1wiO1xuXHRpZiAobW9kZWxOYW1lLnN0YXJ0c1dpdGgoXCJncHQtNC0zMmtcIikpIHJldHVybiBcImdwdC00LTMya1wiO1xuXHRpZiAobW9kZWxOYW1lLnN0YXJ0c1dpdGgoXCJncHQtNC1cIikpIHJldHVybiBcImdwdC00XCI7XG5cdGlmIChtb2RlbE5hbWUuc3RhcnRzV2l0aChcImdwdC00b1wiKSkgcmV0dXJuIFwiZ3B0LTRvXCI7XG5cdHJldHVybiBtb2RlbE5hbWU7XG59O1xuY29uc3QgZ2V0RW1iZWRkaW5nQ29udGV4dFNpemUgPSAobW9kZWxOYW1lKSA9PiB7XG5cdHN3aXRjaCAobW9kZWxOYW1lKSB7XG5cdFx0Y2FzZSBcInRleHQtZW1iZWRkaW5nLWFkYS0wMDJcIjogcmV0dXJuIDgxOTE7XG5cdFx0ZGVmYXVsdDogcmV0dXJuIDIwNDY7XG5cdH1cbn07XG4vKipcbiogR2V0IHRoZSBjb250ZXh0IHdpbmRvdyBzaXplIChtYXggaW5wdXQgdG9rZW5zKSBmb3IgYSBnaXZlbiBtb2RlbC5cbipcbiogQ29udGV4dCB3aW5kb3cgc2l6ZXMgYXJlIHNvdXJjZWQgZnJvbSBvZmZpY2lhbCBtb2RlbCBkb2N1bWVudGF0aW9uOlxuKiAtIE9wZW5BSTogaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvbW9kZWxzXG4qIC0gQW50aHJvcGljOiBodHRwczovL2RvY3MuYW50aHJvcGljLmNvbS9jbGF1ZGUvZG9jcy9tb2RlbHMtb3ZlcnZpZXdcbiogLSBHb29nbGU6IGh0dHBzOi8vYWkuZ29vZ2xlLmRldi9nZW1pbmkvZG9jcy9tb2RlbHMvZ2VtaW5pXG4qXG4qIEBwYXJhbSBtb2RlbE5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgbW9kZWxcbiogQHJldHVybnMgVGhlIGNvbnRleHQgd2luZG93IHNpemUgaW4gdG9rZW5zXG4qL1xuY29uc3QgZ2V0TW9kZWxDb250ZXh0U2l6ZSA9IChtb2RlbE5hbWUpID0+IHtcblx0Y29uc3Qgbm9ybWFsaXplZE5hbWUgPSBnZXRNb2RlbE5hbWVGb3JUaWt0b2tlbihtb2RlbE5hbWUpO1xuXHRzd2l0Y2ggKG5vcm1hbGl6ZWROYW1lKSB7XG5cdFx0Y2FzZSBcImdwdC01XCI6XG5cdFx0Y2FzZSBcImdwdC01LXR1cmJvXCI6XG5cdFx0Y2FzZSBcImdwdC01LXR1cmJvLXByZXZpZXdcIjogcmV0dXJuIDRlNTtcblx0XHRjYXNlIFwiZ3B0LTRvXCI6XG5cdFx0Y2FzZSBcImdwdC00by1taW5pXCI6XG5cdFx0Y2FzZSBcImdwdC00by0yMDI0LTA1LTEzXCI6XG5cdFx0Y2FzZSBcImdwdC00by0yMDI0LTA4LTA2XCI6IHJldHVybiAxMjhlMztcblx0XHRjYXNlIFwiZ3B0LTQtdHVyYm9cIjpcblx0XHRjYXNlIFwiZ3B0LTQtdHVyYm8tcHJldmlld1wiOlxuXHRcdGNhc2UgXCJncHQtNC10dXJiby0yMDI0LTA0LTA5XCI6XG5cdFx0Y2FzZSBcImdwdC00LTAxMjUtcHJldmlld1wiOlxuXHRcdGNhc2UgXCJncHQtNC0xMTA2LXByZXZpZXdcIjogcmV0dXJuIDEyOGUzO1xuXHRcdGNhc2UgXCJncHQtNC0zMmtcIjpcblx0XHRjYXNlIFwiZ3B0LTQtMzJrLTAzMTRcIjpcblx0XHRjYXNlIFwiZ3B0LTQtMzJrLTA2MTNcIjogcmV0dXJuIDMyNzY4O1xuXHRcdGNhc2UgXCJncHQtNFwiOlxuXHRcdGNhc2UgXCJncHQtNC0wMzE0XCI6XG5cdFx0Y2FzZSBcImdwdC00LTA2MTNcIjogcmV0dXJuIDgxOTI7XG5cdFx0Y2FzZSBcImdwdC0zLjUtdHVyYm8tMTZrXCI6XG5cdFx0Y2FzZSBcImdwdC0zLjUtdHVyYm8tMTZrLTA2MTNcIjogcmV0dXJuIDE2Mzg0O1xuXHRcdGNhc2UgXCJncHQtMy41LXR1cmJvXCI6XG5cdFx0Y2FzZSBcImdwdC0zLjUtdHVyYm8tMDMwMVwiOlxuXHRcdGNhc2UgXCJncHQtMy41LXR1cmJvLTA2MTNcIjpcblx0XHRjYXNlIFwiZ3B0LTMuNS10dXJiby0xMTA2XCI6XG5cdFx0Y2FzZSBcImdwdC0zLjUtdHVyYm8tMDEyNVwiOiByZXR1cm4gNDA5Njtcblx0XHRjYXNlIFwidGV4dC1kYXZpbmNpLTAwM1wiOlxuXHRcdGNhc2UgXCJ0ZXh0LWRhdmluY2ktMDAyXCI6IHJldHVybiA0MDk3O1xuXHRcdGNhc2UgXCJ0ZXh0LWRhdmluY2ktMDAxXCI6IHJldHVybiAyMDQ5O1xuXHRcdGNhc2UgXCJ0ZXh0LWN1cmllLTAwMVwiOlxuXHRcdGNhc2UgXCJ0ZXh0LWJhYmJhZ2UtMDAxXCI6XG5cdFx0Y2FzZSBcInRleHQtYWRhLTAwMVwiOiByZXR1cm4gMjA0ODtcblx0XHRjYXNlIFwiY29kZS1kYXZpbmNpLTAwMlwiOlxuXHRcdGNhc2UgXCJjb2RlLWRhdmluY2ktMDAxXCI6IHJldHVybiA4ZTM7XG5cdFx0Y2FzZSBcImNvZGUtY3VzaG1hbi0wMDFcIjogcmV0dXJuIDIwNDg7XG5cdFx0Y2FzZSBcImNsYXVkZS0zLTUtc29ubmV0LTIwMjQxMDIyXCI6XG5cdFx0Y2FzZSBcImNsYXVkZS0zLTUtc29ubmV0LTIwMjQwNjIwXCI6XG5cdFx0Y2FzZSBcImNsYXVkZS0zLW9wdXMtMjAyNDAyMjlcIjpcblx0XHRjYXNlIFwiY2xhdWRlLTMtc29ubmV0LTIwMjQwMjI5XCI6XG5cdFx0Y2FzZSBcImNsYXVkZS0zLWhhaWt1LTIwMjQwMzA3XCI6XG5cdFx0Y2FzZSBcImNsYXVkZS0yLjFcIjogcmV0dXJuIDJlNTtcblx0XHRjYXNlIFwiY2xhdWRlLTIuMFwiOlxuXHRcdGNhc2UgXCJjbGF1ZGUtaW5zdGFudC0xLjJcIjogcmV0dXJuIDFlNTtcblx0XHRjYXNlIFwiZ2VtaW5pLTEuNS1wcm9cIjpcblx0XHRjYXNlIFwiZ2VtaW5pLTEuNS1wcm8tbGF0ZXN0XCI6XG5cdFx0Y2FzZSBcImdlbWluaS0xLjUtZmxhc2hcIjpcblx0XHRjYXNlIFwiZ2VtaW5pLTEuNS1mbGFzaC1sYXRlc3RcIjogcmV0dXJuIDFlNjtcblx0XHRjYXNlIFwiZ2VtaW5pLXByb1wiOlxuXHRcdGNhc2UgXCJnZW1pbmktcHJvLXZpc2lvblwiOiByZXR1cm4gMzI3Njg7XG5cdFx0ZGVmYXVsdDogcmV0dXJuIDQwOTc7XG5cdH1cbn07XG4vKipcbiogV2hldGhlciBvciBub3QgdGhlIGlucHV0IG1hdGNoZXMgdGhlIE9wZW5BSSB0b29sIGRlZmluaXRpb24uXG4qIEBwYXJhbSB7dW5rbm93bn0gdG9vbCBUaGUgaW5wdXQgdG8gY2hlY2suXG4qIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSBpbnB1dCBpcyBhbiBPcGVuQUkgdG9vbCBkZWZpbml0aW9uLlxuKi9cbmZ1bmN0aW9uIGlzT3BlbkFJVG9vbCh0b29sKSB7XG5cdGlmICh0eXBlb2YgdG9vbCAhPT0gXCJvYmplY3RcIiB8fCAhdG9vbCkgcmV0dXJuIGZhbHNlO1xuXHRpZiAoXCJ0eXBlXCIgaW4gdG9vbCAmJiB0b29sLnR5cGUgPT09IFwiZnVuY3Rpb25cIiAmJiBcImZ1bmN0aW9uXCIgaW4gdG9vbCAmJiB0eXBlb2YgdG9vbC5mdW5jdGlvbiA9PT0gXCJvYmplY3RcIiAmJiB0b29sLmZ1bmN0aW9uICYmIFwibmFtZVwiIGluIHRvb2wuZnVuY3Rpb24gJiYgXCJwYXJhbWV0ZXJzXCIgaW4gdG9vbC5mdW5jdGlvbikgcmV0dXJuIHRydWU7XG5cdHJldHVybiBmYWxzZTtcbn1cbmNvbnN0IGNhbGN1bGF0ZU1heFRva2VucyA9IGFzeW5jICh7IHByb21wdCwgbW9kZWxOYW1lIH0pID0+IHtcblx0bGV0IG51bVRva2Vucztcblx0dHJ5IHtcblx0XHRudW1Ub2tlbnMgPSAoYXdhaXQgZW5jb2RpbmdGb3JNb2RlbChnZXRNb2RlbE5hbWVGb3JUaWt0b2tlbihtb2RlbE5hbWUpKSkuZW5jb2RlKHByb21wdCkubGVuZ3RoO1xuXHR9IGNhdGNoIHtcblx0XHRjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gY2FsY3VsYXRlIG51bWJlciBvZiB0b2tlbnMsIGZhbGxpbmcgYmFjayB0byBhcHByb3hpbWF0ZSBjb3VudFwiKTtcblx0XHRudW1Ub2tlbnMgPSBNYXRoLmNlaWwocHJvbXB0Lmxlbmd0aCAvIDQpO1xuXHR9XG5cdGNvbnN0IG1heFRva2VucyA9IGdldE1vZGVsQ29udGV4dFNpemUobW9kZWxOYW1lKTtcblx0cmV0dXJuIG1heFRva2VucyAtIG51bVRva2Vucztcbn07XG5jb25zdCBnZXRWZXJib3NpdHkgPSAoKSA9PiBmYWxzZTtcbi8qKlxuKiBCYXNlIGNsYXNzIGZvciBsYW5ndWFnZSBtb2RlbHMsIGNoYWlucywgdG9vbHMuXG4qL1xudmFyIEJhc2VMYW5nQ2hhaW4gPSBjbGFzcyBleHRlbmRzIFJ1bm5hYmxlIHtcblx0LyoqXG5cdCogV2hldGhlciB0byBwcmludCBvdXQgcmVzcG9uc2UgdGV4dC5cblx0Ki9cblx0dmVyYm9zZTtcblx0Y2FsbGJhY2tzO1xuXHR0YWdzO1xuXHRtZXRhZGF0YTtcblx0Z2V0IGxjX2F0dHJpYnV0ZXMoKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGNhbGxiYWNrczogdm9pZCAwLFxuXHRcdFx0dmVyYm9zZTogdm9pZCAwXG5cdFx0fTtcblx0fVxuXHRjb25zdHJ1Y3RvcihwYXJhbXMpIHtcblx0XHRzdXBlcihwYXJhbXMpO1xuXHRcdHRoaXMudmVyYm9zZSA9IHBhcmFtcy52ZXJib3NlID8/IGdldFZlcmJvc2l0eSgpO1xuXHRcdHRoaXMuY2FsbGJhY2tzID0gcGFyYW1zLmNhbGxiYWNrcztcblx0XHR0aGlzLnRhZ3MgPSBwYXJhbXMudGFncyA/PyBbXTtcblx0XHR0aGlzLm1ldGFkYXRhID0gcGFyYW1zLm1ldGFkYXRhID8/IHt9O1xuXHR9XG59O1xuLyoqXG4qIEJhc2UgY2xhc3MgZm9yIGxhbmd1YWdlIG1vZGVscy5cbiovXG52YXIgQmFzZUxhbmd1YWdlTW9kZWwgPSBjbGFzcyBleHRlbmRzIEJhc2VMYW5nQ2hhaW4ge1xuXHQvKipcblx0KiBLZXlzIHRoYXQgdGhlIGxhbmd1YWdlIG1vZGVsIGFjY2VwdHMgYXMgY2FsbCBvcHRpb25zLlxuXHQqL1xuXHRnZXQgY2FsbEtleXMoKSB7XG5cdFx0cmV0dXJuIFtcblx0XHRcdFwic3RvcFwiLFxuXHRcdFx0XCJ0aW1lb3V0XCIsXG5cdFx0XHRcInNpZ25hbFwiLFxuXHRcdFx0XCJ0YWdzXCIsXG5cdFx0XHRcIm1ldGFkYXRhXCIsXG5cdFx0XHRcImNhbGxiYWNrc1wiXG5cdFx0XTtcblx0fVxuXHQvKipcblx0KiBUaGUgYXN5bmMgY2FsbGVyIHNob3VsZCBiZSB1c2VkIGJ5IHN1YmNsYXNzZXMgdG8gbWFrZSBhbnkgYXN5bmMgY2FsbHMsXG5cdCogd2hpY2ggd2lsbCB0aHVzIGJlbmVmaXQgZnJvbSB0aGUgY29uY3VycmVuY3kgYW5kIHJldHJ5IGxvZ2ljLlxuXHQqL1xuXHRjYWxsZXI7XG5cdGNhY2hlO1xuXHRjb25zdHJ1Y3Rvcih7IGNhbGxiYWNrcywgY2FsbGJhY2tNYW5hZ2VyLC4uLnBhcmFtcyB9KSB7XG5cdFx0Y29uc3QgeyBjYWNoZSwuLi5yZXN0IH0gPSBwYXJhbXM7XG5cdFx0c3VwZXIoe1xuXHRcdFx0Y2FsbGJhY2tzOiBjYWxsYmFja3MgPz8gY2FsbGJhY2tNYW5hZ2VyLFxuXHRcdFx0Li4ucmVzdFxuXHRcdH0pO1xuXHRcdGlmICh0eXBlb2YgY2FjaGUgPT09IFwib2JqZWN0XCIpIHRoaXMuY2FjaGUgPSBjYWNoZTtcblx0XHRlbHNlIGlmIChjYWNoZSkgdGhpcy5jYWNoZSA9IEluTWVtb3J5Q2FjaGUuZ2xvYmFsKCk7XG5cdFx0ZWxzZSB0aGlzLmNhY2hlID0gdm9pZCAwO1xuXHRcdHRoaXMuY2FsbGVyID0gbmV3IEFzeW5jQ2FsbGVyKHBhcmFtcyA/PyB7fSk7XG5cdH1cblx0X2VuY29kaW5nO1xuXHQvKipcblx0KiBHZXQgdGhlIG51bWJlciBvZiB0b2tlbnMgaW4gdGhlIGNvbnRlbnQuXG5cdCogQHBhcmFtIGNvbnRlbnQgVGhlIGNvbnRlbnQgdG8gZ2V0IHRoZSBudW1iZXIgb2YgdG9rZW5zIGZvci5cblx0KiBAcmV0dXJucyBUaGUgbnVtYmVyIG9mIHRva2VucyBpbiB0aGUgY29udGVudC5cblx0Ki9cblx0YXN5bmMgZ2V0TnVtVG9rZW5zKGNvbnRlbnQpIHtcblx0XHRsZXQgdGV4dENvbnRlbnQ7XG5cdFx0aWYgKHR5cGVvZiBjb250ZW50ID09PSBcInN0cmluZ1wiKSB0ZXh0Q29udGVudCA9IGNvbnRlbnQ7XG5cdFx0ZWxzZVxuIC8qKlxuXHRcdCogQ29udGVudCBpcyBhbiBhcnJheSBvZiBDb250ZW50QmxvY2tcblx0XHQqXG5cdFx0KiBUb0RvKEBjaHJpc3RpYW4tYnJvbWFubik6IFRoaXMgaXMgYSB0ZW1wb3JhcnkgZml4IHRvIGdldCB0aGUgbnVtYmVyIG9mIHRva2VucyBmb3IgdGhlIGNvbnRlbnQuXG5cdFx0KiBXZSBuZWVkIHRvIGZpbmQgYSBiZXR0ZXIgd2F5IHRvIGRvIHRoaXMuXG5cdFx0KiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9sYW5nY2hhaW4tYWkvbGFuZ2NoYWluanMvcHVsbC84MzQxI3B1bGxyZXF1ZXN0cmV2aWV3LTI5MzM3MTMxMTZcblx0XHQqL1xuXHRcdHRleHRDb250ZW50ID0gY29udGVudC5tYXAoKGl0ZW0pID0+IHtcblx0XHRcdGlmICh0eXBlb2YgaXRlbSA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIGl0ZW07XG5cdFx0XHRpZiAoaXRlbS50eXBlID09PSBcInRleHRcIiAmJiBcInRleHRcIiBpbiBpdGVtKSByZXR1cm4gaXRlbS50ZXh0O1xuXHRcdFx0cmV0dXJuIFwiXCI7XG5cdFx0fSkuam9pbihcIlwiKTtcblx0XHRsZXQgbnVtVG9rZW5zID0gTWF0aC5jZWlsKHRleHRDb250ZW50Lmxlbmd0aCAvIDQpO1xuXHRcdGlmICghdGhpcy5fZW5jb2RpbmcpIHRyeSB7XG5cdFx0XHR0aGlzLl9lbmNvZGluZyA9IGF3YWl0IGVuY29kaW5nRm9yTW9kZWwoXCJtb2RlbE5hbWVcIiBpbiB0aGlzID8gZ2V0TW9kZWxOYW1lRm9yVGlrdG9rZW4odGhpcy5tb2RlbE5hbWUpIDogXCJncHQyXCIpO1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gY2FsY3VsYXRlIG51bWJlciBvZiB0b2tlbnMsIGZhbGxpbmcgYmFjayB0byBhcHByb3hpbWF0ZSBjb3VudFwiLCBlcnJvcik7XG5cdFx0fVxuXHRcdGlmICh0aGlzLl9lbmNvZGluZykgdHJ5IHtcblx0XHRcdG51bVRva2VucyA9IHRoaXMuX2VuY29kaW5nLmVuY29kZSh0ZXh0Q29udGVudCkubGVuZ3RoO1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gY2FsY3VsYXRlIG51bWJlciBvZiB0b2tlbnMsIGZhbGxpbmcgYmFjayB0byBhcHByb3hpbWF0ZSBjb3VudFwiLCBlcnJvcik7XG5cdFx0fVxuXHRcdHJldHVybiBudW1Ub2tlbnM7XG5cdH1cblx0c3RhdGljIF9jb252ZXJ0SW5wdXRUb1Byb21wdFZhbHVlKGlucHV0KSB7XG5cdFx0aWYgKHR5cGVvZiBpbnB1dCA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIG5ldyBTdHJpbmdQcm9tcHRWYWx1ZShpbnB1dCk7XG5cdFx0ZWxzZSBpZiAoQXJyYXkuaXNBcnJheShpbnB1dCkpIHJldHVybiBuZXcgQ2hhdFByb21wdFZhbHVlKGlucHV0Lm1hcChjb2VyY2VNZXNzYWdlTGlrZVRvTWVzc2FnZSkpO1xuXHRcdGVsc2UgcmV0dXJuIGlucHV0O1xuXHR9XG5cdC8qKlxuXHQqIEdldCB0aGUgaWRlbnRpZnlpbmcgcGFyYW1ldGVycyBvZiB0aGUgTExNLlxuXHQqL1xuXHRfaWRlbnRpZnlpbmdQYXJhbXMoKSB7XG5cdFx0cmV0dXJuIHt9O1xuXHR9XG5cdC8qKlxuXHQqIENyZWF0ZSBhIHVuaXF1ZSBjYWNoZSBrZXkgZm9yIGEgc3BlY2lmaWMgY2FsbCB0byBhIHNwZWNpZmljIGxhbmd1YWdlIG1vZGVsLlxuXHQqIEBwYXJhbSBjYWxsT3B0aW9ucyBDYWxsIG9wdGlvbnMgZm9yIHRoZSBtb2RlbFxuXHQqIEByZXR1cm5zIEEgdW5pcXVlIGNhY2hlIGtleS5cblx0Ki9cblx0X2dldFNlcmlhbGl6ZWRDYWNoZUtleVBhcmFtZXRlcnNGb3JDYWxsKHsgY29uZmlnLC4uLmNhbGxPcHRpb25zIH0pIHtcblx0XHRjb25zdCBwYXJhbXMgPSB7XG5cdFx0XHQuLi50aGlzLl9pZGVudGlmeWluZ1BhcmFtcygpLFxuXHRcdFx0Li4uY2FsbE9wdGlvbnMsXG5cdFx0XHRfdHlwZTogdGhpcy5fbGxtVHlwZSgpLFxuXHRcdFx0X21vZGVsOiB0aGlzLl9tb2RlbFR5cGUoKVxuXHRcdH07XG5cdFx0Y29uc3QgZmlsdGVyZWRFbnRyaWVzID0gT2JqZWN0LmVudHJpZXMocGFyYW1zKS5maWx0ZXIoKFtfLCB2YWx1ZV0pID0+IHZhbHVlICE9PSB2b2lkIDApO1xuXHRcdGNvbnN0IHNlcmlhbGl6ZWRFbnRyaWVzID0gZmlsdGVyZWRFbnRyaWVzLm1hcCgoW2tleSwgdmFsdWVdKSA9PiBgJHtrZXl9OiR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfWApLnNvcnQoKS5qb2luKFwiLFwiKTtcblx0XHRyZXR1cm4gc2VyaWFsaXplZEVudHJpZXM7XG5cdH1cblx0LyoqXG5cdCogQGRlcHJlY2F0ZWRcblx0KiBSZXR1cm4gYSBqc29uLWxpa2Ugb2JqZWN0IHJlcHJlc2VudGluZyB0aGlzIExMTS5cblx0Ki9cblx0c2VyaWFsaXplKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHQuLi50aGlzLl9pZGVudGlmeWluZ1BhcmFtcygpLFxuXHRcdFx0X3R5cGU6IHRoaXMuX2xsbVR5cGUoKSxcblx0XHRcdF9tb2RlbDogdGhpcy5fbW9kZWxUeXBlKClcblx0XHR9O1xuXHR9XG5cdC8qKlxuXHQqIEBkZXByZWNhdGVkXG5cdCogTG9hZCBhbiBMTE0gZnJvbSBhIGpzb24tbGlrZSBvYmplY3QgZGVzY3JpYmluZyBpdC5cblx0Ki9cblx0c3RhdGljIGFzeW5jIGRlc2VyaWFsaXplKF9kYXRhKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiVXNlIC50b0pTT04oKSBpbnN0ZWFkXCIpO1xuXHR9XG5cdC8qKlxuXHQqIFJldHVybiBwcm9maWxpbmcgaW5mb3JtYXRpb24gZm9yIHRoZSBtb2RlbC5cblx0KlxuXHQqIEByZXR1cm5zIHtNb2RlbFByb2ZpbGV9IEFuIG9iamVjdCBkZXNjcmliaW5nIHRoZSBtb2RlbCdzIGNhcGFiaWxpdGllcyBhbmQgY29uc3RyYWludHNcblx0Ki9cblx0Z2V0IHByb2ZpbGUoKSB7XG5cdFx0cmV0dXJuIHt9O1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEJhc2VMYW5nQ2hhaW4sIEJhc2VMYW5ndWFnZU1vZGVsLCBiYXNlX2V4cG9ydHMsIGNhbGN1bGF0ZU1heFRva2VucywgZ2V0RW1iZWRkaW5nQ29udGV4dFNpemUsIGdldE1vZGVsQ29udGV4dFNpemUsIGdldE1vZGVsTmFtZUZvclRpa3Rva2VuLCBpc09wZW5BSVRvb2wgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhc2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/language_models/base.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/language_models/chat_models.js":
/*!*********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/language_models/chat_models.js ***!
  \*********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseChatModel: () => (/* binding */ BaseChatModel),\n/* harmony export */   SimpleChatModel: () => (/* binding */ SimpleChatModel),\n/* harmony export */   chat_models_exports: () => (/* binding */ chat_models_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _messages_content_data_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../messages/content/data.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/content/data.js\");\n/* harmony import */ var _messages_base_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../messages/base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/base.js\");\n/* harmony import */ var _messages_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../messages/utils.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/utils.js\");\n/* harmony import */ var _messages_ai_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../messages/ai.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/ai.js\");\n/* harmony import */ var _utils_env_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/env.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/env.js\");\n/* harmony import */ var _callbacks_base_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../callbacks/base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/callbacks/base.js\");\n/* harmony import */ var _callbacks_manager_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../callbacks/manager.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/callbacks/manager.js\");\n/* harmony import */ var _utils_stream_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/stream.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/stream.js\");\n/* harmony import */ var _outputs_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../outputs.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/outputs.js\");\n/* harmony import */ var _utils_types_zod_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../utils/types/zod.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/types/zod.js\");\n/* harmony import */ var _utils_json_schema_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utils/json_schema.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/json_schema.js\");\n/* harmony import */ var _runnables_base_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../runnables/base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/base.js\");\n/* harmony import */ var _messages_index_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../messages/index.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/index.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/language_models/base.js\");\n/* harmony import */ var _runnables_passthrough_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../runnables/passthrough.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/passthrough.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/language_models/utils.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//#region src/language_models/chat_models.ts\nvar chat_models_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(chat_models_exports, {\n\tBaseChatModel: () => BaseChatModel,\n\tSimpleChatModel: () => SimpleChatModel\n});\nfunction _formatForTracing(messages) {\n\tconst messagesToTrace = [];\n\tfor (const message of messages) {\n\t\tlet messageToTrace = message;\n\t\tif (Array.isArray(message.content)) for (let idx = 0; idx < message.content.length; idx++) {\n\t\t\tconst block = message.content[idx];\n\t\t\tif ((0,_messages_content_data_js__WEBPACK_IMPORTED_MODULE_1__.isURLContentBlock)(block) || (0,_messages_content_data_js__WEBPACK_IMPORTED_MODULE_1__.isBase64ContentBlock)(block)) {\n\t\t\t\tif (messageToTrace === message) messageToTrace = new message.constructor({\n\t\t\t\t\t...messageToTrace,\n\t\t\t\t\tcontent: [\n\t\t\t\t\t\t...message.content.slice(0, idx),\n\t\t\t\t\t\t(0,_messages_content_data_js__WEBPACK_IMPORTED_MODULE_1__.convertToOpenAIImageBlock)(block),\n\t\t\t\t\t\t...message.content.slice(idx + 1)\n\t\t\t\t\t]\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tmessagesToTrace.push(messageToTrace);\n\t}\n\treturn messagesToTrace;\n}\n/**\n* Base class for chat models. It extends the BaseLanguageModel class and\n* provides methods for generating chat based on input messages.\n*/\nvar BaseChatModel = class BaseChatModel extends _base_js__WEBPACK_IMPORTED_MODULE_14__.BaseLanguageModel {\n\tlc_namespace = [\n\t\t\"langchain\",\n\t\t\"chat_models\",\n\t\tthis._llmType()\n\t];\n\tdisableStreaming = false;\n\toutputVersion;\n\tget callKeys() {\n\t\treturn [...super.callKeys, \"outputVersion\"];\n\t}\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.outputVersion = (0,_utils_js__WEBPACK_IMPORTED_MODULE_16__.iife)(() => {\n\t\t\tconst outputVersion = fields.outputVersion ?? (0,_utils_env_js__WEBPACK_IMPORTED_MODULE_5__.getEnvironmentVariable)(\"LC_OUTPUT_VERSION\");\n\t\t\tif (outputVersion && [\"v0\", \"v1\"].includes(outputVersion)) return outputVersion;\n\t\t\treturn \"v0\";\n\t\t});\n\t}\n\t_separateRunnableConfigFromCallOptionsCompat(options) {\n\t\tconst [runnableConfig, callOptions] = super._separateRunnableConfigFromCallOptions(options);\n\t\tcallOptions.signal = runnableConfig.signal;\n\t\treturn [runnableConfig, callOptions];\n\t}\n\t/**\n\t* Invokes the chat model with a single input.\n\t* @param input The input for the language model.\n\t* @param options The call options.\n\t* @returns A Promise that resolves to a BaseMessageChunk.\n\t*/\n\tasync invoke(input, options) {\n\t\tconst promptValue = BaseChatModel._convertInputToPromptValue(input);\n\t\tconst result = await this.generatePrompt([promptValue], options, options?.callbacks);\n\t\tconst chatGeneration = result.generations[0][0];\n\t\treturn chatGeneration.message;\n\t}\n\tasync *_streamResponseChunks(_messages, _options, _runManager) {\n\t\tthrow new Error(\"Not implemented.\");\n\t}\n\tasync *_streamIterator(input, options) {\n\t\tif (this._streamResponseChunks === BaseChatModel.prototype._streamResponseChunks || this.disableStreaming) yield this.invoke(input, options);\n\t\telse {\n\t\t\tconst prompt = BaseChatModel._convertInputToPromptValue(input);\n\t\t\tconst messages = prompt.toChatMessages();\n\t\t\tconst [runnableConfig, callOptions] = this._separateRunnableConfigFromCallOptionsCompat(options);\n\t\t\tconst inheritableMetadata = {\n\t\t\t\t...runnableConfig.metadata,\n\t\t\t\t...this.getLsParams(callOptions)\n\t\t\t};\n\t\t\tconst callbackManager_ = await _callbacks_manager_js__WEBPACK_IMPORTED_MODULE_7__.CallbackManager.configure(runnableConfig.callbacks, this.callbacks, runnableConfig.tags, this.tags, inheritableMetadata, this.metadata, { verbose: this.verbose });\n\t\t\tconst extra = {\n\t\t\t\toptions: callOptions,\n\t\t\t\tinvocation_params: this?.invocationParams(callOptions),\n\t\t\t\tbatch_size: 1\n\t\t\t};\n\t\t\tconst outputVersion = callOptions.outputVersion ?? this.outputVersion;\n\t\t\tconst runManagers = await callbackManager_?.handleChatModelStart(this.toJSON(), [_formatForTracing(messages)], runnableConfig.runId, void 0, extra, void 0, void 0, runnableConfig.runName);\n\t\t\tlet generationChunk;\n\t\t\tlet llmOutput;\n\t\t\ttry {\n\t\t\t\tfor await (const chunk of this._streamResponseChunks(messages, callOptions, runManagers?.[0])) {\n\t\t\t\t\tif (chunk.message.id == null) {\n\t\t\t\t\t\tconst runId = runManagers?.at(0)?.runId;\n\t\t\t\t\t\tif (runId != null) chunk.message._updateId(`run-${runId}`);\n\t\t\t\t\t}\n\t\t\t\t\tchunk.message.response_metadata = {\n\t\t\t\t\t\t...chunk.generationInfo,\n\t\t\t\t\t\t...chunk.message.response_metadata\n\t\t\t\t\t};\n\t\t\t\t\tif (outputVersion === \"v1\") yield (0,_utils_js__WEBPACK_IMPORTED_MODULE_16__.castStandardMessageContent)(chunk.message);\n\t\t\t\t\telse yield chunk.message;\n\t\t\t\t\tif (!generationChunk) generationChunk = chunk;\n\t\t\t\t\telse generationChunk = generationChunk.concat(chunk);\n\t\t\t\t\tif ((0,_messages_ai_js__WEBPACK_IMPORTED_MODULE_4__.isAIMessageChunk)(chunk.message) && chunk.message.usage_metadata !== void 0) llmOutput = { tokenUsage: {\n\t\t\t\t\t\tpromptTokens: chunk.message.usage_metadata.input_tokens,\n\t\t\t\t\t\tcompletionTokens: chunk.message.usage_metadata.output_tokens,\n\t\t\t\t\t\ttotalTokens: chunk.message.usage_metadata.total_tokens\n\t\t\t\t\t} };\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tawait Promise.all((runManagers ?? []).map((runManager) => runManager?.handleLLMError(err)));\n\t\t\t\tthrow err;\n\t\t\t}\n\t\t\tawait Promise.all((runManagers ?? []).map((runManager) => runManager?.handleLLMEnd({\n\t\t\t\tgenerations: [[generationChunk]],\n\t\t\t\tllmOutput\n\t\t\t})));\n\t\t}\n\t}\n\tgetLsParams(options) {\n\t\tconst providerName = this.getName().startsWith(\"Chat\") ? this.getName().replace(\"Chat\", \"\") : this.getName();\n\t\treturn {\n\t\t\tls_model_type: \"chat\",\n\t\t\tls_stop: options.stop,\n\t\t\tls_provider: providerName\n\t\t};\n\t}\n\t/** @ignore */\n\tasync _generateUncached(messages, parsedOptions, handledOptions, startedRunManagers) {\n\t\tconst baseMessages = messages.map((messageList) => messageList.map(_messages_utils_js__WEBPACK_IMPORTED_MODULE_3__.coerceMessageLikeToMessage));\n\t\tlet runManagers;\n\t\tif (startedRunManagers !== void 0 && startedRunManagers.length === baseMessages.length) runManagers = startedRunManagers;\n\t\telse {\n\t\t\tconst inheritableMetadata = {\n\t\t\t\t...handledOptions.metadata,\n\t\t\t\t...this.getLsParams(parsedOptions)\n\t\t\t};\n\t\t\tconst callbackManager_ = await _callbacks_manager_js__WEBPACK_IMPORTED_MODULE_7__.CallbackManager.configure(handledOptions.callbacks, this.callbacks, handledOptions.tags, this.tags, inheritableMetadata, this.metadata, { verbose: this.verbose });\n\t\t\tconst extra = {\n\t\t\t\toptions: parsedOptions,\n\t\t\t\tinvocation_params: this?.invocationParams(parsedOptions),\n\t\t\t\tbatch_size: 1\n\t\t\t};\n\t\t\trunManagers = await callbackManager_?.handleChatModelStart(this.toJSON(), baseMessages.map(_formatForTracing), handledOptions.runId, void 0, extra, void 0, void 0, handledOptions.runName);\n\t\t}\n\t\tconst outputVersion = parsedOptions.outputVersion ?? this.outputVersion;\n\t\tconst generations = [];\n\t\tconst llmOutputs = [];\n\t\tconst hasStreamingHandler = !!runManagers?.[0].handlers.find(_callbacks_base_js__WEBPACK_IMPORTED_MODULE_6__.callbackHandlerPrefersStreaming);\n\t\tif (hasStreamingHandler && !this.disableStreaming && baseMessages.length === 1 && this._streamResponseChunks !== BaseChatModel.prototype._streamResponseChunks) try {\n\t\t\tconst stream = await this._streamResponseChunks(baseMessages[0], parsedOptions, runManagers?.[0]);\n\t\t\tlet aggregated;\n\t\t\tlet llmOutput;\n\t\t\tfor await (const chunk of stream) {\n\t\t\t\tif (chunk.message.id == null) {\n\t\t\t\t\tconst runId = runManagers?.at(0)?.runId;\n\t\t\t\t\tif (runId != null) chunk.message._updateId(`run-${runId}`);\n\t\t\t\t}\n\t\t\t\tif (aggregated === void 0) aggregated = chunk;\n\t\t\t\telse aggregated = (0,_utils_stream_js__WEBPACK_IMPORTED_MODULE_8__.concat)(aggregated, chunk);\n\t\t\t\tif ((0,_messages_ai_js__WEBPACK_IMPORTED_MODULE_4__.isAIMessageChunk)(chunk.message) && chunk.message.usage_metadata !== void 0) llmOutput = { tokenUsage: {\n\t\t\t\t\tpromptTokens: chunk.message.usage_metadata.input_tokens,\n\t\t\t\t\tcompletionTokens: chunk.message.usage_metadata.output_tokens,\n\t\t\t\t\ttotalTokens: chunk.message.usage_metadata.total_tokens\n\t\t\t\t} };\n\t\t\t}\n\t\t\tif (aggregated === void 0) throw new Error(\"Received empty response from chat model call.\");\n\t\t\tgenerations.push([aggregated]);\n\t\t\tawait runManagers?.[0].handleLLMEnd({\n\t\t\t\tgenerations,\n\t\t\t\tllmOutput\n\t\t\t});\n\t\t} catch (e) {\n\t\t\tawait runManagers?.[0].handleLLMError(e);\n\t\t\tthrow e;\n\t\t}\n\t\telse {\n\t\t\tconst results = await Promise.allSettled(baseMessages.map(async (messageList, i) => {\n\t\t\t\tconst generateResults = await this._generate(messageList, {\n\t\t\t\t\t...parsedOptions,\n\t\t\t\t\tpromptIndex: i\n\t\t\t\t}, runManagers?.[i]);\n\t\t\t\tif (outputVersion === \"v1\") for (const generation of generateResults.generations) generation.message = (0,_utils_js__WEBPACK_IMPORTED_MODULE_16__.castStandardMessageContent)(generation.message);\n\t\t\t\treturn generateResults;\n\t\t\t}));\n\t\t\tawait Promise.all(results.map(async (pResult, i) => {\n\t\t\t\tif (pResult.status === \"fulfilled\") {\n\t\t\t\t\tconst result = pResult.value;\n\t\t\t\t\tfor (const generation of result.generations) {\n\t\t\t\t\t\tif (generation.message.id == null) {\n\t\t\t\t\t\t\tconst runId = runManagers?.at(0)?.runId;\n\t\t\t\t\t\t\tif (runId != null) generation.message._updateId(`run-${runId}`);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tgeneration.message.response_metadata = {\n\t\t\t\t\t\t\t...generation.generationInfo,\n\t\t\t\t\t\t\t...generation.message.response_metadata\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\tif (result.generations.length === 1) result.generations[0].message.response_metadata = {\n\t\t\t\t\t\t...result.llmOutput,\n\t\t\t\t\t\t...result.generations[0].message.response_metadata\n\t\t\t\t\t};\n\t\t\t\t\tgenerations[i] = result.generations;\n\t\t\t\t\tllmOutputs[i] = result.llmOutput;\n\t\t\t\t\treturn runManagers?.[i]?.handleLLMEnd({\n\t\t\t\t\t\tgenerations: [result.generations],\n\t\t\t\t\t\tllmOutput: result.llmOutput\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tawait runManagers?.[i]?.handleLLMError(pResult.reason);\n\t\t\t\t\treturn Promise.reject(pResult.reason);\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\t\tconst output = {\n\t\t\tgenerations,\n\t\t\tllmOutput: llmOutputs.length ? this._combineLLMOutput?.(...llmOutputs) : void 0\n\t\t};\n\t\tObject.defineProperty(output, _outputs_js__WEBPACK_IMPORTED_MODULE_9__.RUN_KEY, {\n\t\t\tvalue: runManagers ? { runIds: runManagers?.map((manager) => manager.runId) } : void 0,\n\t\t\tconfigurable: true\n\t\t});\n\t\treturn output;\n\t}\n\tasync _generateCached({ messages, cache, llmStringKey, parsedOptions, handledOptions }) {\n\t\tconst baseMessages = messages.map((messageList) => messageList.map(_messages_utils_js__WEBPACK_IMPORTED_MODULE_3__.coerceMessageLikeToMessage));\n\t\tconst inheritableMetadata = {\n\t\t\t...handledOptions.metadata,\n\t\t\t...this.getLsParams(parsedOptions)\n\t\t};\n\t\tconst callbackManager_ = await _callbacks_manager_js__WEBPACK_IMPORTED_MODULE_7__.CallbackManager.configure(handledOptions.callbacks, this.callbacks, handledOptions.tags, this.tags, inheritableMetadata, this.metadata, { verbose: this.verbose });\n\t\tconst extra = {\n\t\t\toptions: parsedOptions,\n\t\t\tinvocation_params: this?.invocationParams(parsedOptions),\n\t\t\tbatch_size: 1\n\t\t};\n\t\tconst runManagers = await callbackManager_?.handleChatModelStart(this.toJSON(), baseMessages.map(_formatForTracing), handledOptions.runId, void 0, extra, void 0, void 0, handledOptions.runName);\n\t\tconst missingPromptIndices = [];\n\t\tconst results = await Promise.allSettled(baseMessages.map(async (baseMessage, index) => {\n\t\t\tconst prompt = BaseChatModel._convertInputToPromptValue(baseMessage).toString();\n\t\t\tconst result = await cache.lookup(prompt, llmStringKey);\n\t\t\tif (result == null) missingPromptIndices.push(index);\n\t\t\treturn result;\n\t\t}));\n\t\tconst cachedResults = results.map((result, index) => ({\n\t\t\tresult,\n\t\t\trunManager: runManagers?.[index]\n\t\t})).filter(({ result }) => result.status === \"fulfilled\" && result.value != null || result.status === \"rejected\");\n\t\tconst outputVersion = parsedOptions.outputVersion ?? this.outputVersion;\n\t\tconst generations = [];\n\t\tawait Promise.all(cachedResults.map(async ({ result: promiseResult, runManager }, i) => {\n\t\t\tif (promiseResult.status === \"fulfilled\") {\n\t\t\t\tconst result = promiseResult.value;\n\t\t\t\tgenerations[i] = result.map((result$1) => {\n\t\t\t\t\tif (\"message\" in result$1 && (0,_messages_base_js__WEBPACK_IMPORTED_MODULE_2__.isBaseMessage)(result$1.message) && (0,_messages_ai_js__WEBPACK_IMPORTED_MODULE_4__.isAIMessage)(result$1.message)) {\n\t\t\t\t\t\tresult$1.message.usage_metadata = {\n\t\t\t\t\t\t\tinput_tokens: 0,\n\t\t\t\t\t\t\toutput_tokens: 0,\n\t\t\t\t\t\t\ttotal_tokens: 0\n\t\t\t\t\t\t};\n\t\t\t\t\t\tif (outputVersion === \"v1\") result$1.message = (0,_utils_js__WEBPACK_IMPORTED_MODULE_16__.castStandardMessageContent)(result$1.message);\n\t\t\t\t\t}\n\t\t\t\t\tresult$1.generationInfo = {\n\t\t\t\t\t\t...result$1.generationInfo,\n\t\t\t\t\t\ttokenUsage: {}\n\t\t\t\t\t};\n\t\t\t\t\treturn result$1;\n\t\t\t\t});\n\t\t\t\tif (result.length) await runManager?.handleLLMNewToken(result[0].text);\n\t\t\t\treturn runManager?.handleLLMEnd({ generations: [result] }, void 0, void 0, void 0, { cached: true });\n\t\t\t} else {\n\t\t\t\tawait runManager?.handleLLMError(promiseResult.reason, void 0, void 0, void 0, { cached: true });\n\t\t\t\treturn Promise.reject(promiseResult.reason);\n\t\t\t}\n\t\t}));\n\t\tconst output = {\n\t\t\tgenerations,\n\t\t\tmissingPromptIndices,\n\t\t\tstartedRunManagers: runManagers\n\t\t};\n\t\tObject.defineProperty(output, _outputs_js__WEBPACK_IMPORTED_MODULE_9__.RUN_KEY, {\n\t\t\tvalue: runManagers ? { runIds: runManagers?.map((manager) => manager.runId) } : void 0,\n\t\t\tconfigurable: true\n\t\t});\n\t\treturn output;\n\t}\n\t/**\n\t* Generates chat based on the input messages.\n\t* @param messages An array of arrays of BaseMessage instances.\n\t* @param options The call options or an array of stop sequences.\n\t* @param callbacks The callbacks for the language model.\n\t* @returns A Promise that resolves to an LLMResult.\n\t*/\n\tasync generate(messages, options, callbacks) {\n\t\tlet parsedOptions;\n\t\tif (Array.isArray(options)) parsedOptions = { stop: options };\n\t\telse parsedOptions = options;\n\t\tconst baseMessages = messages.map((messageList) => messageList.map(_messages_utils_js__WEBPACK_IMPORTED_MODULE_3__.coerceMessageLikeToMessage));\n\t\tconst [runnableConfig, callOptions] = this._separateRunnableConfigFromCallOptionsCompat(parsedOptions);\n\t\trunnableConfig.callbacks = runnableConfig.callbacks ?? callbacks;\n\t\tif (!this.cache) return this._generateUncached(baseMessages, callOptions, runnableConfig);\n\t\tconst { cache } = this;\n\t\tconst llmStringKey = this._getSerializedCacheKeyParametersForCall(callOptions);\n\t\tconst { generations, missingPromptIndices, startedRunManagers } = await this._generateCached({\n\t\t\tmessages: baseMessages,\n\t\t\tcache,\n\t\t\tllmStringKey,\n\t\t\tparsedOptions: callOptions,\n\t\t\thandledOptions: runnableConfig\n\t\t});\n\t\tlet llmOutput = {};\n\t\tif (missingPromptIndices.length > 0) {\n\t\t\tconst results = await this._generateUncached(missingPromptIndices.map((i) => baseMessages[i]), callOptions, runnableConfig, startedRunManagers !== void 0 ? missingPromptIndices.map((i) => startedRunManagers?.[i]) : void 0);\n\t\t\tawait Promise.all(results.generations.map(async (generation, index) => {\n\t\t\t\tconst promptIndex = missingPromptIndices[index];\n\t\t\t\tgenerations[promptIndex] = generation;\n\t\t\t\tconst prompt = BaseChatModel._convertInputToPromptValue(baseMessages[promptIndex]).toString();\n\t\t\t\treturn cache.update(prompt, llmStringKey, generation);\n\t\t\t}));\n\t\t\tllmOutput = results.llmOutput ?? {};\n\t\t}\n\t\treturn {\n\t\t\tgenerations,\n\t\t\tllmOutput\n\t\t};\n\t}\n\t/**\n\t* Get the parameters used to invoke the model\n\t*/\n\tinvocationParams(_options) {\n\t\treturn {};\n\t}\n\t_modelType() {\n\t\treturn \"base_chat_model\";\n\t}\n\t/**\n\t* Generates a prompt based on the input prompt values.\n\t* @param promptValues An array of BasePromptValue instances.\n\t* @param options The call options or an array of stop sequences.\n\t* @param callbacks The callbacks for the language model.\n\t* @returns A Promise that resolves to an LLMResult.\n\t*/\n\tasync generatePrompt(promptValues, options, callbacks) {\n\t\tconst promptMessages = promptValues.map((promptValue) => promptValue.toChatMessages());\n\t\treturn this.generate(promptMessages, options, callbacks);\n\t}\n\twithStructuredOutput(outputSchema, config) {\n\t\tif (typeof this.bindTools !== \"function\") throw new Error(`Chat model must implement \".bindTools()\" to use withStructuredOutput.`);\n\t\tif (config?.strict) throw new Error(`\"strict\" mode is not supported for this model by default.`);\n\t\tconst schema = outputSchema;\n\t\tconst name = config?.name;\n\t\tconst description = (0,_utils_types_zod_js__WEBPACK_IMPORTED_MODULE_10__.getSchemaDescription)(schema) ?? \"A function available to call.\";\n\t\tconst method = config?.method;\n\t\tconst includeRaw = config?.includeRaw;\n\t\tif (method === \"jsonMode\") throw new Error(`Base withStructuredOutput implementation only supports \"functionCalling\" as a method.`);\n\t\tlet functionName = name ?? \"extract\";\n\t\tlet tools;\n\t\tif ((0,_utils_types_zod_js__WEBPACK_IMPORTED_MODULE_10__.isInteropZodSchema)(schema)) tools = [{\n\t\t\ttype: \"function\",\n\t\t\tfunction: {\n\t\t\t\tname: functionName,\n\t\t\t\tdescription,\n\t\t\t\tparameters: (0,_utils_json_schema_js__WEBPACK_IMPORTED_MODULE_11__.toJsonSchema)(schema)\n\t\t\t}\n\t\t}];\n\t\telse {\n\t\t\tif (\"name\" in schema) functionName = schema.name;\n\t\t\ttools = [{\n\t\t\t\ttype: \"function\",\n\t\t\t\tfunction: {\n\t\t\t\t\tname: functionName,\n\t\t\t\t\tdescription,\n\t\t\t\t\tparameters: schema\n\t\t\t\t}\n\t\t\t}];\n\t\t}\n\t\tconst llm = this.bindTools(tools);\n\t\tconst outputParser = _runnables_base_js__WEBPACK_IMPORTED_MODULE_12__.RunnableLambda.from((input) => {\n\t\t\tif (!_messages_ai_js__WEBPACK_IMPORTED_MODULE_4__.AIMessageChunk.isInstance(input)) throw new Error(\"Input is not an AIMessageChunk.\");\n\t\t\tif (!input.tool_calls || input.tool_calls.length === 0) throw new Error(\"No tool calls found in the response.\");\n\t\t\tconst toolCall = input.tool_calls.find((tc) => tc.name === functionName);\n\t\t\tif (!toolCall) throw new Error(`No tool call found with name ${functionName}.`);\n\t\t\treturn toolCall.args;\n\t\t});\n\t\tif (!includeRaw) return llm.pipe(outputParser).withConfig({ runName: \"StructuredOutput\" });\n\t\tconst parserAssign = _runnables_passthrough_js__WEBPACK_IMPORTED_MODULE_15__.RunnablePassthrough.assign({ parsed: (input, config$1) => outputParser.invoke(input.raw, config$1) });\n\t\tconst parserNone = _runnables_passthrough_js__WEBPACK_IMPORTED_MODULE_15__.RunnablePassthrough.assign({ parsed: () => null });\n\t\tconst parsedWithFallback = parserAssign.withFallbacks({ fallbacks: [parserNone] });\n\t\treturn _runnables_base_js__WEBPACK_IMPORTED_MODULE_12__.RunnableSequence.from([{ raw: llm }, parsedWithFallback]).withConfig({ runName: \"StructuredOutputRunnable\" });\n\t}\n};\n/**\n* An abstract class that extends BaseChatModel and provides a simple\n* implementation of _generate.\n*/\nvar SimpleChatModel = class extends BaseChatModel {\n\tasync _generate(messages, options, runManager) {\n\t\tconst text = await this._call(messages, options, runManager);\n\t\tconst message = new _messages_ai_js__WEBPACK_IMPORTED_MODULE_4__.AIMessage(text);\n\t\tif (typeof message.content !== \"string\") throw new Error(\"Cannot generate with a simple chat model when output is not a string.\");\n\t\treturn { generations: [{\n\t\t\ttext: message.content,\n\t\t\tmessage\n\t\t}] };\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=chat_models.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L2xhbmd1YWdlX21vZGVscy9jaGF0X21vZGVscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEyRDtBQUNzRDtBQUM3RDtBQUNjO0FBQzJCO0FBQ3BDO0FBQ2M7QUFDYjtBQUNkO0FBQ0o7QUFDeUM7QUFDMUI7QUFDaUI7QUFDMUM7QUFDZ0I7QUFDb0I7QUFDSjs7QUFFOUQ7QUFDQTtBQUNBLHNFQUFRO0FBQ1I7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCw4QkFBOEI7QUFDdEY7QUFDQSxPQUFPLDRFQUFpQixXQUFXLCtFQUFvQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sb0ZBQXlCO0FBQy9CO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0Qsd0RBQWlCO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixnREFBSTtBQUMzQixpREFBaUQscUVBQXNCO0FBQ3ZFO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0Msa0VBQWUsMkhBQTJILHVCQUF1QjtBQUNuTTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCxNQUFNO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsc0VBQTBCO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBLFNBQVMsaUVBQWdCLDBFQUEwRTtBQUNuRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBcUUsMEVBQTBCO0FBQy9GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGtFQUFlLDJIQUEySCx1QkFBdUI7QUFDbk07QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0QsK0VBQStCO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELE1BQU07QUFDN0Q7QUFDQTtBQUNBLHNCQUFzQix3REFBTTtBQUM1QixRQUFRLGlFQUFnQiwwRUFBMEU7QUFDbEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsMkdBQTJHLHNFQUEwQjtBQUNySTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQsTUFBTTtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGdEQUFPO0FBQ3ZDLDBCQUEwQix1REFBdUQ7QUFDakY7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLHlCQUF5Qiw4REFBOEQ7QUFDdkYscUVBQXFFLDBFQUEwQjtBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxrRUFBZSwySEFBMkgsdUJBQXVCO0FBQ2xNO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHLGFBQWEsUUFBUTtBQUN4QjtBQUNBO0FBQ0EsK0NBQStDLG1DQUFtQztBQUNsRjtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsZ0VBQWEsc0JBQXNCLDREQUFXO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsc0VBQTBCO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLHNDQUFzQyx1QkFBdUIsNEJBQTRCLGNBQWM7QUFDdkcsS0FBSztBQUNMLHFGQUFxRixjQUFjO0FBQ25HO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxnREFBTztBQUN2QywwQkFBMEIsdURBQXVEO0FBQ2pGO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0Q7QUFDaEQ7QUFDQSxxRUFBcUUsMEVBQTBCO0FBQy9GO0FBQ0E7QUFDQTtBQUNBLFVBQVUsUUFBUTtBQUNsQjtBQUNBLFVBQVUsd0RBQXdEO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDBFQUFvQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSx3RUFBa0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isb0VBQVk7QUFDNUI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSx1QkFBdUIsK0RBQWM7QUFDckMsUUFBUSwyREFBYztBQUN0QjtBQUNBO0FBQ0Esa0VBQWtFLGFBQWE7QUFDL0U7QUFDQSxHQUFHO0FBQ0gsOERBQThELDZCQUE2QjtBQUMzRix1QkFBdUIsMkVBQW1CLFVBQVUsdUVBQXVFO0FBQzNILHFCQUFxQiwyRUFBbUIsVUFBVSxvQkFBb0I7QUFDdEUsMERBQTBELHlCQUF5QjtBQUNuRixTQUFTLGlFQUFnQixTQUFTLFVBQVUsb0NBQW9DLHFDQUFxQztBQUNySDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isc0RBQVM7QUFDL0I7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQytEO0FBQy9EIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L2xhbmd1YWdlX21vZGVscy9jaGF0X21vZGVscy5qcz85YjYxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fZXhwb3J0IH0gZnJvbSBcIi4uL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuanNcIjtcbmltcG9ydCB7IGNvbnZlcnRUb09wZW5BSUltYWdlQmxvY2ssIGlzQmFzZTY0Q29udGVudEJsb2NrLCBpc1VSTENvbnRlbnRCbG9jayB9IGZyb20gXCIuLi9tZXNzYWdlcy9jb250ZW50L2RhdGEuanNcIjtcbmltcG9ydCB7IGlzQmFzZU1lc3NhZ2UgfSBmcm9tIFwiLi4vbWVzc2FnZXMvYmFzZS5qc1wiO1xuaW1wb3J0IHsgY29lcmNlTWVzc2FnZUxpa2VUb01lc3NhZ2UgfSBmcm9tIFwiLi4vbWVzc2FnZXMvdXRpbHMuanNcIjtcbmltcG9ydCB7IEFJTWVzc2FnZSwgQUlNZXNzYWdlQ2h1bmssIGlzQUlNZXNzYWdlLCBpc0FJTWVzc2FnZUNodW5rIH0gZnJvbSBcIi4uL21lc3NhZ2VzL2FpLmpzXCI7XG5pbXBvcnQgeyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlIH0gZnJvbSBcIi4uL3V0aWxzL2Vudi5qc1wiO1xuaW1wb3J0IHsgY2FsbGJhY2tIYW5kbGVyUHJlZmVyc1N0cmVhbWluZyB9IGZyb20gXCIuLi9jYWxsYmFja3MvYmFzZS5qc1wiO1xuaW1wb3J0IHsgQ2FsbGJhY2tNYW5hZ2VyIH0gZnJvbSBcIi4uL2NhbGxiYWNrcy9tYW5hZ2VyLmpzXCI7XG5pbXBvcnQgeyBjb25jYXQgfSBmcm9tIFwiLi4vdXRpbHMvc3RyZWFtLmpzXCI7XG5pbXBvcnQgeyBSVU5fS0VZIH0gZnJvbSBcIi4uL291dHB1dHMuanNcIjtcbmltcG9ydCB7IGdldFNjaGVtYURlc2NyaXB0aW9uLCBpc0ludGVyb3Bab2RTY2hlbWEgfSBmcm9tIFwiLi4vdXRpbHMvdHlwZXMvem9kLmpzXCI7XG5pbXBvcnQgeyB0b0pzb25TY2hlbWEgfSBmcm9tIFwiLi4vdXRpbHMvanNvbl9zY2hlbWEuanNcIjtcbmltcG9ydCB7IFJ1bm5hYmxlTGFtYmRhLCBSdW5uYWJsZVNlcXVlbmNlIH0gZnJvbSBcIi4uL3J1bm5hYmxlcy9iYXNlLmpzXCI7XG5pbXBvcnQgXCIuLi9tZXNzYWdlcy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgQmFzZUxhbmd1YWdlTW9kZWwgfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5pbXBvcnQgeyBSdW5uYWJsZVBhc3N0aHJvdWdoIH0gZnJvbSBcIi4uL3J1bm5hYmxlcy9wYXNzdGhyb3VnaC5qc1wiO1xuaW1wb3J0IHsgY2FzdFN0YW5kYXJkTWVzc2FnZUNvbnRlbnQsIGlpZmUgfSBmcm9tIFwiLi91dGlscy5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL2xhbmd1YWdlX21vZGVscy9jaGF0X21vZGVscy50c1xudmFyIGNoYXRfbW9kZWxzX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KGNoYXRfbW9kZWxzX2V4cG9ydHMsIHtcblx0QmFzZUNoYXRNb2RlbDogKCkgPT4gQmFzZUNoYXRNb2RlbCxcblx0U2ltcGxlQ2hhdE1vZGVsOiAoKSA9PiBTaW1wbGVDaGF0TW9kZWxcbn0pO1xuZnVuY3Rpb24gX2Zvcm1hdEZvclRyYWNpbmcobWVzc2FnZXMpIHtcblx0Y29uc3QgbWVzc2FnZXNUb1RyYWNlID0gW107XG5cdGZvciAoY29uc3QgbWVzc2FnZSBvZiBtZXNzYWdlcykge1xuXHRcdGxldCBtZXNzYWdlVG9UcmFjZSA9IG1lc3NhZ2U7XG5cdFx0aWYgKEFycmF5LmlzQXJyYXkobWVzc2FnZS5jb250ZW50KSkgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgbWVzc2FnZS5jb250ZW50Lmxlbmd0aDsgaWR4KyspIHtcblx0XHRcdGNvbnN0IGJsb2NrID0gbWVzc2FnZS5jb250ZW50W2lkeF07XG5cdFx0XHRpZiAoaXNVUkxDb250ZW50QmxvY2soYmxvY2spIHx8IGlzQmFzZTY0Q29udGVudEJsb2NrKGJsb2NrKSkge1xuXHRcdFx0XHRpZiAobWVzc2FnZVRvVHJhY2UgPT09IG1lc3NhZ2UpIG1lc3NhZ2VUb1RyYWNlID0gbmV3IG1lc3NhZ2UuY29uc3RydWN0b3Ioe1xuXHRcdFx0XHRcdC4uLm1lc3NhZ2VUb1RyYWNlLFxuXHRcdFx0XHRcdGNvbnRlbnQ6IFtcblx0XHRcdFx0XHRcdC4uLm1lc3NhZ2UuY29udGVudC5zbGljZSgwLCBpZHgpLFxuXHRcdFx0XHRcdFx0Y29udmVydFRvT3BlbkFJSW1hZ2VCbG9jayhibG9jayksXG5cdFx0XHRcdFx0XHQuLi5tZXNzYWdlLmNvbnRlbnQuc2xpY2UoaWR4ICsgMSlcblx0XHRcdFx0XHRdXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRtZXNzYWdlc1RvVHJhY2UucHVzaChtZXNzYWdlVG9UcmFjZSk7XG5cdH1cblx0cmV0dXJuIG1lc3NhZ2VzVG9UcmFjZTtcbn1cbi8qKlxuKiBCYXNlIGNsYXNzIGZvciBjaGF0IG1vZGVscy4gSXQgZXh0ZW5kcyB0aGUgQmFzZUxhbmd1YWdlTW9kZWwgY2xhc3MgYW5kXG4qIHByb3ZpZGVzIG1ldGhvZHMgZm9yIGdlbmVyYXRpbmcgY2hhdCBiYXNlZCBvbiBpbnB1dCBtZXNzYWdlcy5cbiovXG52YXIgQmFzZUNoYXRNb2RlbCA9IGNsYXNzIEJhc2VDaGF0TW9kZWwgZXh0ZW5kcyBCYXNlTGFuZ3VhZ2VNb2RlbCB7XG5cdGxjX25hbWVzcGFjZSA9IFtcblx0XHRcImxhbmdjaGFpblwiLFxuXHRcdFwiY2hhdF9tb2RlbHNcIixcblx0XHR0aGlzLl9sbG1UeXBlKClcblx0XTtcblx0ZGlzYWJsZVN0cmVhbWluZyA9IGZhbHNlO1xuXHRvdXRwdXRWZXJzaW9uO1xuXHRnZXQgY2FsbEtleXMoKSB7XG5cdFx0cmV0dXJuIFsuLi5zdXBlci5jYWxsS2V5cywgXCJvdXRwdXRWZXJzaW9uXCJdO1xuXHR9XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdHN1cGVyKGZpZWxkcyk7XG5cdFx0dGhpcy5vdXRwdXRWZXJzaW9uID0gaWlmZSgoKSA9PiB7XG5cdFx0XHRjb25zdCBvdXRwdXRWZXJzaW9uID0gZmllbGRzLm91dHB1dFZlcnNpb24gPz8gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkxDX09VVFBVVF9WRVJTSU9OXCIpO1xuXHRcdFx0aWYgKG91dHB1dFZlcnNpb24gJiYgW1widjBcIiwgXCJ2MVwiXS5pbmNsdWRlcyhvdXRwdXRWZXJzaW9uKSkgcmV0dXJuIG91dHB1dFZlcnNpb247XG5cdFx0XHRyZXR1cm4gXCJ2MFwiO1xuXHRcdH0pO1xuXHR9XG5cdF9zZXBhcmF0ZVJ1bm5hYmxlQ29uZmlnRnJvbUNhbGxPcHRpb25zQ29tcGF0KG9wdGlvbnMpIHtcblx0XHRjb25zdCBbcnVubmFibGVDb25maWcsIGNhbGxPcHRpb25zXSA9IHN1cGVyLl9zZXBhcmF0ZVJ1bm5hYmxlQ29uZmlnRnJvbUNhbGxPcHRpb25zKG9wdGlvbnMpO1xuXHRcdGNhbGxPcHRpb25zLnNpZ25hbCA9IHJ1bm5hYmxlQ29uZmlnLnNpZ25hbDtcblx0XHRyZXR1cm4gW3J1bm5hYmxlQ29uZmlnLCBjYWxsT3B0aW9uc107XG5cdH1cblx0LyoqXG5cdCogSW52b2tlcyB0aGUgY2hhdCBtb2RlbCB3aXRoIGEgc2luZ2xlIGlucHV0LlxuXHQqIEBwYXJhbSBpbnB1dCBUaGUgaW5wdXQgZm9yIHRoZSBsYW5ndWFnZSBtb2RlbC5cblx0KiBAcGFyYW0gb3B0aW9ucyBUaGUgY2FsbCBvcHRpb25zLlxuXHQqIEByZXR1cm5zIEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGEgQmFzZU1lc3NhZ2VDaHVuay5cblx0Ki9cblx0YXN5bmMgaW52b2tlKGlucHV0LCBvcHRpb25zKSB7XG5cdFx0Y29uc3QgcHJvbXB0VmFsdWUgPSBCYXNlQ2hhdE1vZGVsLl9jb252ZXJ0SW5wdXRUb1Byb21wdFZhbHVlKGlucHV0KTtcblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmdlbmVyYXRlUHJvbXB0KFtwcm9tcHRWYWx1ZV0sIG9wdGlvbnMsIG9wdGlvbnM/LmNhbGxiYWNrcyk7XG5cdFx0Y29uc3QgY2hhdEdlbmVyYXRpb24gPSByZXN1bHQuZ2VuZXJhdGlvbnNbMF1bMF07XG5cdFx0cmV0dXJuIGNoYXRHZW5lcmF0aW9uLm1lc3NhZ2U7XG5cdH1cblx0YXN5bmMgKl9zdHJlYW1SZXNwb25zZUNodW5rcyhfbWVzc2FnZXMsIF9vcHRpb25zLCBfcnVuTWFuYWdlcikge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZC5cIik7XG5cdH1cblx0YXN5bmMgKl9zdHJlYW1JdGVyYXRvcihpbnB1dCwgb3B0aW9ucykge1xuXHRcdGlmICh0aGlzLl9zdHJlYW1SZXNwb25zZUNodW5rcyA9PT0gQmFzZUNoYXRNb2RlbC5wcm90b3R5cGUuX3N0cmVhbVJlc3BvbnNlQ2h1bmtzIHx8IHRoaXMuZGlzYWJsZVN0cmVhbWluZykgeWllbGQgdGhpcy5pbnZva2UoaW5wdXQsIG9wdGlvbnMpO1xuXHRcdGVsc2Uge1xuXHRcdFx0Y29uc3QgcHJvbXB0ID0gQmFzZUNoYXRNb2RlbC5fY29udmVydElucHV0VG9Qcm9tcHRWYWx1ZShpbnB1dCk7XG5cdFx0XHRjb25zdCBtZXNzYWdlcyA9IHByb21wdC50b0NoYXRNZXNzYWdlcygpO1xuXHRcdFx0Y29uc3QgW3J1bm5hYmxlQ29uZmlnLCBjYWxsT3B0aW9uc10gPSB0aGlzLl9zZXBhcmF0ZVJ1bm5hYmxlQ29uZmlnRnJvbUNhbGxPcHRpb25zQ29tcGF0KG9wdGlvbnMpO1xuXHRcdFx0Y29uc3QgaW5oZXJpdGFibGVNZXRhZGF0YSA9IHtcblx0XHRcdFx0Li4ucnVubmFibGVDb25maWcubWV0YWRhdGEsXG5cdFx0XHRcdC4uLnRoaXMuZ2V0THNQYXJhbXMoY2FsbE9wdGlvbnMpXG5cdFx0XHR9O1xuXHRcdFx0Y29uc3QgY2FsbGJhY2tNYW5hZ2VyXyA9IGF3YWl0IENhbGxiYWNrTWFuYWdlci5jb25maWd1cmUocnVubmFibGVDb25maWcuY2FsbGJhY2tzLCB0aGlzLmNhbGxiYWNrcywgcnVubmFibGVDb25maWcudGFncywgdGhpcy50YWdzLCBpbmhlcml0YWJsZU1ldGFkYXRhLCB0aGlzLm1ldGFkYXRhLCB7IHZlcmJvc2U6IHRoaXMudmVyYm9zZSB9KTtcblx0XHRcdGNvbnN0IGV4dHJhID0ge1xuXHRcdFx0XHRvcHRpb25zOiBjYWxsT3B0aW9ucyxcblx0XHRcdFx0aW52b2NhdGlvbl9wYXJhbXM6IHRoaXM/Lmludm9jYXRpb25QYXJhbXMoY2FsbE9wdGlvbnMpLFxuXHRcdFx0XHRiYXRjaF9zaXplOiAxXG5cdFx0XHR9O1xuXHRcdFx0Y29uc3Qgb3V0cHV0VmVyc2lvbiA9IGNhbGxPcHRpb25zLm91dHB1dFZlcnNpb24gPz8gdGhpcy5vdXRwdXRWZXJzaW9uO1xuXHRcdFx0Y29uc3QgcnVuTWFuYWdlcnMgPSBhd2FpdCBjYWxsYmFja01hbmFnZXJfPy5oYW5kbGVDaGF0TW9kZWxTdGFydCh0aGlzLnRvSlNPTigpLCBbX2Zvcm1hdEZvclRyYWNpbmcobWVzc2FnZXMpXSwgcnVubmFibGVDb25maWcucnVuSWQsIHZvaWQgMCwgZXh0cmEsIHZvaWQgMCwgdm9pZCAwLCBydW5uYWJsZUNvbmZpZy5ydW5OYW1lKTtcblx0XHRcdGxldCBnZW5lcmF0aW9uQ2h1bms7XG5cdFx0XHRsZXQgbGxtT3V0cHV0O1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Zm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiB0aGlzLl9zdHJlYW1SZXNwb25zZUNodW5rcyhtZXNzYWdlcywgY2FsbE9wdGlvbnMsIHJ1bk1hbmFnZXJzPy5bMF0pKSB7XG5cdFx0XHRcdFx0aWYgKGNodW5rLm1lc3NhZ2UuaWQgPT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0Y29uc3QgcnVuSWQgPSBydW5NYW5hZ2Vycz8uYXQoMCk/LnJ1bklkO1xuXHRcdFx0XHRcdFx0aWYgKHJ1bklkICE9IG51bGwpIGNodW5rLm1lc3NhZ2UuX3VwZGF0ZUlkKGBydW4tJHtydW5JZH1gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y2h1bmsubWVzc2FnZS5yZXNwb25zZV9tZXRhZGF0YSA9IHtcblx0XHRcdFx0XHRcdC4uLmNodW5rLmdlbmVyYXRpb25JbmZvLFxuXHRcdFx0XHRcdFx0Li4uY2h1bmsubWVzc2FnZS5yZXNwb25zZV9tZXRhZGF0YVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0aWYgKG91dHB1dFZlcnNpb24gPT09IFwidjFcIikgeWllbGQgY2FzdFN0YW5kYXJkTWVzc2FnZUNvbnRlbnQoY2h1bmsubWVzc2FnZSk7XG5cdFx0XHRcdFx0ZWxzZSB5aWVsZCBjaHVuay5tZXNzYWdlO1xuXHRcdFx0XHRcdGlmICghZ2VuZXJhdGlvbkNodW5rKSBnZW5lcmF0aW9uQ2h1bmsgPSBjaHVuaztcblx0XHRcdFx0XHRlbHNlIGdlbmVyYXRpb25DaHVuayA9IGdlbmVyYXRpb25DaHVuay5jb25jYXQoY2h1bmspO1xuXHRcdFx0XHRcdGlmIChpc0FJTWVzc2FnZUNodW5rKGNodW5rLm1lc3NhZ2UpICYmIGNodW5rLm1lc3NhZ2UudXNhZ2VfbWV0YWRhdGEgIT09IHZvaWQgMCkgbGxtT3V0cHV0ID0geyB0b2tlblVzYWdlOiB7XG5cdFx0XHRcdFx0XHRwcm9tcHRUb2tlbnM6IGNodW5rLm1lc3NhZ2UudXNhZ2VfbWV0YWRhdGEuaW5wdXRfdG9rZW5zLFxuXHRcdFx0XHRcdFx0Y29tcGxldGlvblRva2VuczogY2h1bmsubWVzc2FnZS51c2FnZV9tZXRhZGF0YS5vdXRwdXRfdG9rZW5zLFxuXHRcdFx0XHRcdFx0dG90YWxUb2tlbnM6IGNodW5rLm1lc3NhZ2UudXNhZ2VfbWV0YWRhdGEudG90YWxfdG9rZW5zXG5cdFx0XHRcdFx0fSB9O1xuXHRcdFx0XHR9XG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0YXdhaXQgUHJvbWlzZS5hbGwoKHJ1bk1hbmFnZXJzID8/IFtdKS5tYXAoKHJ1bk1hbmFnZXIpID0+IHJ1bk1hbmFnZXI/LmhhbmRsZUxMTUVycm9yKGVycikpKTtcblx0XHRcdFx0dGhyb3cgZXJyO1xuXHRcdFx0fVxuXHRcdFx0YXdhaXQgUHJvbWlzZS5hbGwoKHJ1bk1hbmFnZXJzID8/IFtdKS5tYXAoKHJ1bk1hbmFnZXIpID0+IHJ1bk1hbmFnZXI/LmhhbmRsZUxMTUVuZCh7XG5cdFx0XHRcdGdlbmVyYXRpb25zOiBbW2dlbmVyYXRpb25DaHVua11dLFxuXHRcdFx0XHRsbG1PdXRwdXRcblx0XHRcdH0pKSk7XG5cdFx0fVxuXHR9XG5cdGdldExzUGFyYW1zKG9wdGlvbnMpIHtcblx0XHRjb25zdCBwcm92aWRlck5hbWUgPSB0aGlzLmdldE5hbWUoKS5zdGFydHNXaXRoKFwiQ2hhdFwiKSA/IHRoaXMuZ2V0TmFtZSgpLnJlcGxhY2UoXCJDaGF0XCIsIFwiXCIpIDogdGhpcy5nZXROYW1lKCk7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGxzX21vZGVsX3R5cGU6IFwiY2hhdFwiLFxuXHRcdFx0bHNfc3RvcDogb3B0aW9ucy5zdG9wLFxuXHRcdFx0bHNfcHJvdmlkZXI6IHByb3ZpZGVyTmFtZVxuXHRcdH07XG5cdH1cblx0LyoqIEBpZ25vcmUgKi9cblx0YXN5bmMgX2dlbmVyYXRlVW5jYWNoZWQobWVzc2FnZXMsIHBhcnNlZE9wdGlvbnMsIGhhbmRsZWRPcHRpb25zLCBzdGFydGVkUnVuTWFuYWdlcnMpIHtcblx0XHRjb25zdCBiYXNlTWVzc2FnZXMgPSBtZXNzYWdlcy5tYXAoKG1lc3NhZ2VMaXN0KSA9PiBtZXNzYWdlTGlzdC5tYXAoY29lcmNlTWVzc2FnZUxpa2VUb01lc3NhZ2UpKTtcblx0XHRsZXQgcnVuTWFuYWdlcnM7XG5cdFx0aWYgKHN0YXJ0ZWRSdW5NYW5hZ2VycyAhPT0gdm9pZCAwICYmIHN0YXJ0ZWRSdW5NYW5hZ2Vycy5sZW5ndGggPT09IGJhc2VNZXNzYWdlcy5sZW5ndGgpIHJ1bk1hbmFnZXJzID0gc3RhcnRlZFJ1bk1hbmFnZXJzO1xuXHRcdGVsc2Uge1xuXHRcdFx0Y29uc3QgaW5oZXJpdGFibGVNZXRhZGF0YSA9IHtcblx0XHRcdFx0Li4uaGFuZGxlZE9wdGlvbnMubWV0YWRhdGEsXG5cdFx0XHRcdC4uLnRoaXMuZ2V0THNQYXJhbXMocGFyc2VkT3B0aW9ucylcblx0XHRcdH07XG5cdFx0XHRjb25zdCBjYWxsYmFja01hbmFnZXJfID0gYXdhaXQgQ2FsbGJhY2tNYW5hZ2VyLmNvbmZpZ3VyZShoYW5kbGVkT3B0aW9ucy5jYWxsYmFja3MsIHRoaXMuY2FsbGJhY2tzLCBoYW5kbGVkT3B0aW9ucy50YWdzLCB0aGlzLnRhZ3MsIGluaGVyaXRhYmxlTWV0YWRhdGEsIHRoaXMubWV0YWRhdGEsIHsgdmVyYm9zZTogdGhpcy52ZXJib3NlIH0pO1xuXHRcdFx0Y29uc3QgZXh0cmEgPSB7XG5cdFx0XHRcdG9wdGlvbnM6IHBhcnNlZE9wdGlvbnMsXG5cdFx0XHRcdGludm9jYXRpb25fcGFyYW1zOiB0aGlzPy5pbnZvY2F0aW9uUGFyYW1zKHBhcnNlZE9wdGlvbnMpLFxuXHRcdFx0XHRiYXRjaF9zaXplOiAxXG5cdFx0XHR9O1xuXHRcdFx0cnVuTWFuYWdlcnMgPSBhd2FpdCBjYWxsYmFja01hbmFnZXJfPy5oYW5kbGVDaGF0TW9kZWxTdGFydCh0aGlzLnRvSlNPTigpLCBiYXNlTWVzc2FnZXMubWFwKF9mb3JtYXRGb3JUcmFjaW5nKSwgaGFuZGxlZE9wdGlvbnMucnVuSWQsIHZvaWQgMCwgZXh0cmEsIHZvaWQgMCwgdm9pZCAwLCBoYW5kbGVkT3B0aW9ucy5ydW5OYW1lKTtcblx0XHR9XG5cdFx0Y29uc3Qgb3V0cHV0VmVyc2lvbiA9IHBhcnNlZE9wdGlvbnMub3V0cHV0VmVyc2lvbiA/PyB0aGlzLm91dHB1dFZlcnNpb247XG5cdFx0Y29uc3QgZ2VuZXJhdGlvbnMgPSBbXTtcblx0XHRjb25zdCBsbG1PdXRwdXRzID0gW107XG5cdFx0Y29uc3QgaGFzU3RyZWFtaW5nSGFuZGxlciA9ICEhcnVuTWFuYWdlcnM/LlswXS5oYW5kbGVycy5maW5kKGNhbGxiYWNrSGFuZGxlclByZWZlcnNTdHJlYW1pbmcpO1xuXHRcdGlmIChoYXNTdHJlYW1pbmdIYW5kbGVyICYmICF0aGlzLmRpc2FibGVTdHJlYW1pbmcgJiYgYmFzZU1lc3NhZ2VzLmxlbmd0aCA9PT0gMSAmJiB0aGlzLl9zdHJlYW1SZXNwb25zZUNodW5rcyAhPT0gQmFzZUNoYXRNb2RlbC5wcm90b3R5cGUuX3N0cmVhbVJlc3BvbnNlQ2h1bmtzKSB0cnkge1xuXHRcdFx0Y29uc3Qgc3RyZWFtID0gYXdhaXQgdGhpcy5fc3RyZWFtUmVzcG9uc2VDaHVua3MoYmFzZU1lc3NhZ2VzWzBdLCBwYXJzZWRPcHRpb25zLCBydW5NYW5hZ2Vycz8uWzBdKTtcblx0XHRcdGxldCBhZ2dyZWdhdGVkO1xuXHRcdFx0bGV0IGxsbU91dHB1dDtcblx0XHRcdGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2Ygc3RyZWFtKSB7XG5cdFx0XHRcdGlmIChjaHVuay5tZXNzYWdlLmlkID09IG51bGwpIHtcblx0XHRcdFx0XHRjb25zdCBydW5JZCA9IHJ1bk1hbmFnZXJzPy5hdCgwKT8ucnVuSWQ7XG5cdFx0XHRcdFx0aWYgKHJ1bklkICE9IG51bGwpIGNodW5rLm1lc3NhZ2UuX3VwZGF0ZUlkKGBydW4tJHtydW5JZH1gKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoYWdncmVnYXRlZCA9PT0gdm9pZCAwKSBhZ2dyZWdhdGVkID0gY2h1bms7XG5cdFx0XHRcdGVsc2UgYWdncmVnYXRlZCA9IGNvbmNhdChhZ2dyZWdhdGVkLCBjaHVuayk7XG5cdFx0XHRcdGlmIChpc0FJTWVzc2FnZUNodW5rKGNodW5rLm1lc3NhZ2UpICYmIGNodW5rLm1lc3NhZ2UudXNhZ2VfbWV0YWRhdGEgIT09IHZvaWQgMCkgbGxtT3V0cHV0ID0geyB0b2tlblVzYWdlOiB7XG5cdFx0XHRcdFx0cHJvbXB0VG9rZW5zOiBjaHVuay5tZXNzYWdlLnVzYWdlX21ldGFkYXRhLmlucHV0X3Rva2Vucyxcblx0XHRcdFx0XHRjb21wbGV0aW9uVG9rZW5zOiBjaHVuay5tZXNzYWdlLnVzYWdlX21ldGFkYXRhLm91dHB1dF90b2tlbnMsXG5cdFx0XHRcdFx0dG90YWxUb2tlbnM6IGNodW5rLm1lc3NhZ2UudXNhZ2VfbWV0YWRhdGEudG90YWxfdG9rZW5zXG5cdFx0XHRcdH0gfTtcblx0XHRcdH1cblx0XHRcdGlmIChhZ2dyZWdhdGVkID09PSB2b2lkIDApIHRocm93IG5ldyBFcnJvcihcIlJlY2VpdmVkIGVtcHR5IHJlc3BvbnNlIGZyb20gY2hhdCBtb2RlbCBjYWxsLlwiKTtcblx0XHRcdGdlbmVyYXRpb25zLnB1c2goW2FnZ3JlZ2F0ZWRdKTtcblx0XHRcdGF3YWl0IHJ1bk1hbmFnZXJzPy5bMF0uaGFuZGxlTExNRW5kKHtcblx0XHRcdFx0Z2VuZXJhdGlvbnMsXG5cdFx0XHRcdGxsbU91dHB1dFxuXHRcdFx0fSk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0YXdhaXQgcnVuTWFuYWdlcnM/LlswXS5oYW5kbGVMTE1FcnJvcihlKTtcblx0XHRcdHRocm93IGU7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0Y29uc3QgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChiYXNlTWVzc2FnZXMubWFwKGFzeW5jIChtZXNzYWdlTGlzdCwgaSkgPT4ge1xuXHRcdFx0XHRjb25zdCBnZW5lcmF0ZVJlc3VsdHMgPSBhd2FpdCB0aGlzLl9nZW5lcmF0ZShtZXNzYWdlTGlzdCwge1xuXHRcdFx0XHRcdC4uLnBhcnNlZE9wdGlvbnMsXG5cdFx0XHRcdFx0cHJvbXB0SW5kZXg6IGlcblx0XHRcdFx0fSwgcnVuTWFuYWdlcnM/LltpXSk7XG5cdFx0XHRcdGlmIChvdXRwdXRWZXJzaW9uID09PSBcInYxXCIpIGZvciAoY29uc3QgZ2VuZXJhdGlvbiBvZiBnZW5lcmF0ZVJlc3VsdHMuZ2VuZXJhdGlvbnMpIGdlbmVyYXRpb24ubWVzc2FnZSA9IGNhc3RTdGFuZGFyZE1lc3NhZ2VDb250ZW50KGdlbmVyYXRpb24ubWVzc2FnZSk7XG5cdFx0XHRcdHJldHVybiBnZW5lcmF0ZVJlc3VsdHM7XG5cdFx0XHR9KSk7XG5cdFx0XHRhd2FpdCBQcm9taXNlLmFsbChyZXN1bHRzLm1hcChhc3luYyAocFJlc3VsdCwgaSkgPT4ge1xuXHRcdFx0XHRpZiAocFJlc3VsdC5zdGF0dXMgPT09IFwiZnVsZmlsbGVkXCIpIHtcblx0XHRcdFx0XHRjb25zdCByZXN1bHQgPSBwUmVzdWx0LnZhbHVlO1xuXHRcdFx0XHRcdGZvciAoY29uc3QgZ2VuZXJhdGlvbiBvZiByZXN1bHQuZ2VuZXJhdGlvbnMpIHtcblx0XHRcdFx0XHRcdGlmIChnZW5lcmF0aW9uLm1lc3NhZ2UuaWQgPT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBydW5JZCA9IHJ1bk1hbmFnZXJzPy5hdCgwKT8ucnVuSWQ7XG5cdFx0XHRcdFx0XHRcdGlmIChydW5JZCAhPSBudWxsKSBnZW5lcmF0aW9uLm1lc3NhZ2UuX3VwZGF0ZUlkKGBydW4tJHtydW5JZH1gKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGdlbmVyYXRpb24ubWVzc2FnZS5yZXNwb25zZV9tZXRhZGF0YSA9IHtcblx0XHRcdFx0XHRcdFx0Li4uZ2VuZXJhdGlvbi5nZW5lcmF0aW9uSW5mbyxcblx0XHRcdFx0XHRcdFx0Li4uZ2VuZXJhdGlvbi5tZXNzYWdlLnJlc3BvbnNlX21ldGFkYXRhXG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAocmVzdWx0LmdlbmVyYXRpb25zLmxlbmd0aCA9PT0gMSkgcmVzdWx0LmdlbmVyYXRpb25zWzBdLm1lc3NhZ2UucmVzcG9uc2VfbWV0YWRhdGEgPSB7XG5cdFx0XHRcdFx0XHQuLi5yZXN1bHQubGxtT3V0cHV0LFxuXHRcdFx0XHRcdFx0Li4ucmVzdWx0LmdlbmVyYXRpb25zWzBdLm1lc3NhZ2UucmVzcG9uc2VfbWV0YWRhdGFcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdGdlbmVyYXRpb25zW2ldID0gcmVzdWx0LmdlbmVyYXRpb25zO1xuXHRcdFx0XHRcdGxsbU91dHB1dHNbaV0gPSByZXN1bHQubGxtT3V0cHV0O1xuXHRcdFx0XHRcdHJldHVybiBydW5NYW5hZ2Vycz8uW2ldPy5oYW5kbGVMTE1FbmQoe1xuXHRcdFx0XHRcdFx0Z2VuZXJhdGlvbnM6IFtyZXN1bHQuZ2VuZXJhdGlvbnNdLFxuXHRcdFx0XHRcdFx0bGxtT3V0cHV0OiByZXN1bHQubGxtT3V0cHV0XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0YXdhaXQgcnVuTWFuYWdlcnM/LltpXT8uaGFuZGxlTExNRXJyb3IocFJlc3VsdC5yZWFzb24pO1xuXHRcdFx0XHRcdHJldHVybiBQcm9taXNlLnJlamVjdChwUmVzdWx0LnJlYXNvbik7XG5cdFx0XHRcdH1cblx0XHRcdH0pKTtcblx0XHR9XG5cdFx0Y29uc3Qgb3V0cHV0ID0ge1xuXHRcdFx0Z2VuZXJhdGlvbnMsXG5cdFx0XHRsbG1PdXRwdXQ6IGxsbU91dHB1dHMubGVuZ3RoID8gdGhpcy5fY29tYmluZUxMTU91dHB1dD8uKC4uLmxsbU91dHB1dHMpIDogdm9pZCAwXG5cdFx0fTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkob3V0cHV0LCBSVU5fS0VZLCB7XG5cdFx0XHR2YWx1ZTogcnVuTWFuYWdlcnMgPyB7IHJ1bklkczogcnVuTWFuYWdlcnM/Lm1hcCgobWFuYWdlcikgPT4gbWFuYWdlci5ydW5JZCkgfSA6IHZvaWQgMCxcblx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHRcdH0pO1xuXHRcdHJldHVybiBvdXRwdXQ7XG5cdH1cblx0YXN5bmMgX2dlbmVyYXRlQ2FjaGVkKHsgbWVzc2FnZXMsIGNhY2hlLCBsbG1TdHJpbmdLZXksIHBhcnNlZE9wdGlvbnMsIGhhbmRsZWRPcHRpb25zIH0pIHtcblx0XHRjb25zdCBiYXNlTWVzc2FnZXMgPSBtZXNzYWdlcy5tYXAoKG1lc3NhZ2VMaXN0KSA9PiBtZXNzYWdlTGlzdC5tYXAoY29lcmNlTWVzc2FnZUxpa2VUb01lc3NhZ2UpKTtcblx0XHRjb25zdCBpbmhlcml0YWJsZU1ldGFkYXRhID0ge1xuXHRcdFx0Li4uaGFuZGxlZE9wdGlvbnMubWV0YWRhdGEsXG5cdFx0XHQuLi50aGlzLmdldExzUGFyYW1zKHBhcnNlZE9wdGlvbnMpXG5cdFx0fTtcblx0XHRjb25zdCBjYWxsYmFja01hbmFnZXJfID0gYXdhaXQgQ2FsbGJhY2tNYW5hZ2VyLmNvbmZpZ3VyZShoYW5kbGVkT3B0aW9ucy5jYWxsYmFja3MsIHRoaXMuY2FsbGJhY2tzLCBoYW5kbGVkT3B0aW9ucy50YWdzLCB0aGlzLnRhZ3MsIGluaGVyaXRhYmxlTWV0YWRhdGEsIHRoaXMubWV0YWRhdGEsIHsgdmVyYm9zZTogdGhpcy52ZXJib3NlIH0pO1xuXHRcdGNvbnN0IGV4dHJhID0ge1xuXHRcdFx0b3B0aW9uczogcGFyc2VkT3B0aW9ucyxcblx0XHRcdGludm9jYXRpb25fcGFyYW1zOiB0aGlzPy5pbnZvY2F0aW9uUGFyYW1zKHBhcnNlZE9wdGlvbnMpLFxuXHRcdFx0YmF0Y2hfc2l6ZTogMVxuXHRcdH07XG5cdFx0Y29uc3QgcnVuTWFuYWdlcnMgPSBhd2FpdCBjYWxsYmFja01hbmFnZXJfPy5oYW5kbGVDaGF0TW9kZWxTdGFydCh0aGlzLnRvSlNPTigpLCBiYXNlTWVzc2FnZXMubWFwKF9mb3JtYXRGb3JUcmFjaW5nKSwgaGFuZGxlZE9wdGlvbnMucnVuSWQsIHZvaWQgMCwgZXh0cmEsIHZvaWQgMCwgdm9pZCAwLCBoYW5kbGVkT3B0aW9ucy5ydW5OYW1lKTtcblx0XHRjb25zdCBtaXNzaW5nUHJvbXB0SW5kaWNlcyA9IFtdO1xuXHRcdGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoYmFzZU1lc3NhZ2VzLm1hcChhc3luYyAoYmFzZU1lc3NhZ2UsIGluZGV4KSA9PiB7XG5cdFx0XHRjb25zdCBwcm9tcHQgPSBCYXNlQ2hhdE1vZGVsLl9jb252ZXJ0SW5wdXRUb1Byb21wdFZhbHVlKGJhc2VNZXNzYWdlKS50b1N0cmluZygpO1xuXHRcdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgY2FjaGUubG9va3VwKHByb21wdCwgbGxtU3RyaW5nS2V5KTtcblx0XHRcdGlmIChyZXN1bHQgPT0gbnVsbCkgbWlzc2luZ1Byb21wdEluZGljZXMucHVzaChpbmRleCk7XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH0pKTtcblx0XHRjb25zdCBjYWNoZWRSZXN1bHRzID0gcmVzdWx0cy5tYXAoKHJlc3VsdCwgaW5kZXgpID0+ICh7XG5cdFx0XHRyZXN1bHQsXG5cdFx0XHRydW5NYW5hZ2VyOiBydW5NYW5hZ2Vycz8uW2luZGV4XVxuXHRcdH0pKS5maWx0ZXIoKHsgcmVzdWx0IH0pID0+IHJlc3VsdC5zdGF0dXMgPT09IFwiZnVsZmlsbGVkXCIgJiYgcmVzdWx0LnZhbHVlICE9IG51bGwgfHwgcmVzdWx0LnN0YXR1cyA9PT0gXCJyZWplY3RlZFwiKTtcblx0XHRjb25zdCBvdXRwdXRWZXJzaW9uID0gcGFyc2VkT3B0aW9ucy5vdXRwdXRWZXJzaW9uID8/IHRoaXMub3V0cHV0VmVyc2lvbjtcblx0XHRjb25zdCBnZW5lcmF0aW9ucyA9IFtdO1xuXHRcdGF3YWl0IFByb21pc2UuYWxsKGNhY2hlZFJlc3VsdHMubWFwKGFzeW5jICh7IHJlc3VsdDogcHJvbWlzZVJlc3VsdCwgcnVuTWFuYWdlciB9LCBpKSA9PiB7XG5cdFx0XHRpZiAocHJvbWlzZVJlc3VsdC5zdGF0dXMgPT09IFwiZnVsZmlsbGVkXCIpIHtcblx0XHRcdFx0Y29uc3QgcmVzdWx0ID0gcHJvbWlzZVJlc3VsdC52YWx1ZTtcblx0XHRcdFx0Z2VuZXJhdGlvbnNbaV0gPSByZXN1bHQubWFwKChyZXN1bHQkMSkgPT4ge1xuXHRcdFx0XHRcdGlmIChcIm1lc3NhZ2VcIiBpbiByZXN1bHQkMSAmJiBpc0Jhc2VNZXNzYWdlKHJlc3VsdCQxLm1lc3NhZ2UpICYmIGlzQUlNZXNzYWdlKHJlc3VsdCQxLm1lc3NhZ2UpKSB7XG5cdFx0XHRcdFx0XHRyZXN1bHQkMS5tZXNzYWdlLnVzYWdlX21ldGFkYXRhID0ge1xuXHRcdFx0XHRcdFx0XHRpbnB1dF90b2tlbnM6IDAsXG5cdFx0XHRcdFx0XHRcdG91dHB1dF90b2tlbnM6IDAsXG5cdFx0XHRcdFx0XHRcdHRvdGFsX3Rva2VuczogMFxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdGlmIChvdXRwdXRWZXJzaW9uID09PSBcInYxXCIpIHJlc3VsdCQxLm1lc3NhZ2UgPSBjYXN0U3RhbmRhcmRNZXNzYWdlQ29udGVudChyZXN1bHQkMS5tZXNzYWdlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmVzdWx0JDEuZ2VuZXJhdGlvbkluZm8gPSB7XG5cdFx0XHRcdFx0XHQuLi5yZXN1bHQkMS5nZW5lcmF0aW9uSW5mbyxcblx0XHRcdFx0XHRcdHRva2VuVXNhZ2U6IHt9XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0JDE7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRpZiAocmVzdWx0Lmxlbmd0aCkgYXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlTExNTmV3VG9rZW4ocmVzdWx0WzBdLnRleHQpO1xuXHRcdFx0XHRyZXR1cm4gcnVuTWFuYWdlcj8uaGFuZGxlTExNRW5kKHsgZ2VuZXJhdGlvbnM6IFtyZXN1bHRdIH0sIHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIHsgY2FjaGVkOiB0cnVlIH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlTExNRXJyb3IocHJvbWlzZVJlc3VsdC5yZWFzb24sIHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIHsgY2FjaGVkOiB0cnVlIH0pO1xuXHRcdFx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QocHJvbWlzZVJlc3VsdC5yZWFzb24pO1xuXHRcdFx0fVxuXHRcdH0pKTtcblx0XHRjb25zdCBvdXRwdXQgPSB7XG5cdFx0XHRnZW5lcmF0aW9ucyxcblx0XHRcdG1pc3NpbmdQcm9tcHRJbmRpY2VzLFxuXHRcdFx0c3RhcnRlZFJ1bk1hbmFnZXJzOiBydW5NYW5hZ2Vyc1xuXHRcdH07XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG91dHB1dCwgUlVOX0tFWSwge1xuXHRcdFx0dmFsdWU6IHJ1bk1hbmFnZXJzID8geyBydW5JZHM6IHJ1bk1hbmFnZXJzPy5tYXAoKG1hbmFnZXIpID0+IG1hbmFnZXIucnVuSWQpIH0gOiB2b2lkIDAsXG5cdFx0XHRjb25maWd1cmFibGU6IHRydWVcblx0XHR9KTtcblx0XHRyZXR1cm4gb3V0cHV0O1xuXHR9XG5cdC8qKlxuXHQqIEdlbmVyYXRlcyBjaGF0IGJhc2VkIG9uIHRoZSBpbnB1dCBtZXNzYWdlcy5cblx0KiBAcGFyYW0gbWVzc2FnZXMgQW4gYXJyYXkgb2YgYXJyYXlzIG9mIEJhc2VNZXNzYWdlIGluc3RhbmNlcy5cblx0KiBAcGFyYW0gb3B0aW9ucyBUaGUgY2FsbCBvcHRpb25zIG9yIGFuIGFycmF5IG9mIHN0b3Agc2VxdWVuY2VzLlxuXHQqIEBwYXJhbSBjYWxsYmFja3MgVGhlIGNhbGxiYWNrcyBmb3IgdGhlIGxhbmd1YWdlIG1vZGVsLlxuXHQqIEByZXR1cm5zIEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGFuIExMTVJlc3VsdC5cblx0Ki9cblx0YXN5bmMgZ2VuZXJhdGUobWVzc2FnZXMsIG9wdGlvbnMsIGNhbGxiYWNrcykge1xuXHRcdGxldCBwYXJzZWRPcHRpb25zO1xuXHRcdGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMpKSBwYXJzZWRPcHRpb25zID0geyBzdG9wOiBvcHRpb25zIH07XG5cdFx0ZWxzZSBwYXJzZWRPcHRpb25zID0gb3B0aW9ucztcblx0XHRjb25zdCBiYXNlTWVzc2FnZXMgPSBtZXNzYWdlcy5tYXAoKG1lc3NhZ2VMaXN0KSA9PiBtZXNzYWdlTGlzdC5tYXAoY29lcmNlTWVzc2FnZUxpa2VUb01lc3NhZ2UpKTtcblx0XHRjb25zdCBbcnVubmFibGVDb25maWcsIGNhbGxPcHRpb25zXSA9IHRoaXMuX3NlcGFyYXRlUnVubmFibGVDb25maWdGcm9tQ2FsbE9wdGlvbnNDb21wYXQocGFyc2VkT3B0aW9ucyk7XG5cdFx0cnVubmFibGVDb25maWcuY2FsbGJhY2tzID0gcnVubmFibGVDb25maWcuY2FsbGJhY2tzID8/IGNhbGxiYWNrcztcblx0XHRpZiAoIXRoaXMuY2FjaGUpIHJldHVybiB0aGlzLl9nZW5lcmF0ZVVuY2FjaGVkKGJhc2VNZXNzYWdlcywgY2FsbE9wdGlvbnMsIHJ1bm5hYmxlQ29uZmlnKTtcblx0XHRjb25zdCB7IGNhY2hlIH0gPSB0aGlzO1xuXHRcdGNvbnN0IGxsbVN0cmluZ0tleSA9IHRoaXMuX2dldFNlcmlhbGl6ZWRDYWNoZUtleVBhcmFtZXRlcnNGb3JDYWxsKGNhbGxPcHRpb25zKTtcblx0XHRjb25zdCB7IGdlbmVyYXRpb25zLCBtaXNzaW5nUHJvbXB0SW5kaWNlcywgc3RhcnRlZFJ1bk1hbmFnZXJzIH0gPSBhd2FpdCB0aGlzLl9nZW5lcmF0ZUNhY2hlZCh7XG5cdFx0XHRtZXNzYWdlczogYmFzZU1lc3NhZ2VzLFxuXHRcdFx0Y2FjaGUsXG5cdFx0XHRsbG1TdHJpbmdLZXksXG5cdFx0XHRwYXJzZWRPcHRpb25zOiBjYWxsT3B0aW9ucyxcblx0XHRcdGhhbmRsZWRPcHRpb25zOiBydW5uYWJsZUNvbmZpZ1xuXHRcdH0pO1xuXHRcdGxldCBsbG1PdXRwdXQgPSB7fTtcblx0XHRpZiAobWlzc2luZ1Byb21wdEluZGljZXMubGVuZ3RoID4gMCkge1xuXHRcdFx0Y29uc3QgcmVzdWx0cyA9IGF3YWl0IHRoaXMuX2dlbmVyYXRlVW5jYWNoZWQobWlzc2luZ1Byb21wdEluZGljZXMubWFwKChpKSA9PiBiYXNlTWVzc2FnZXNbaV0pLCBjYWxsT3B0aW9ucywgcnVubmFibGVDb25maWcsIHN0YXJ0ZWRSdW5NYW5hZ2VycyAhPT0gdm9pZCAwID8gbWlzc2luZ1Byb21wdEluZGljZXMubWFwKChpKSA9PiBzdGFydGVkUnVuTWFuYWdlcnM/LltpXSkgOiB2b2lkIDApO1xuXHRcdFx0YXdhaXQgUHJvbWlzZS5hbGwocmVzdWx0cy5nZW5lcmF0aW9ucy5tYXAoYXN5bmMgKGdlbmVyYXRpb24sIGluZGV4KSA9PiB7XG5cdFx0XHRcdGNvbnN0IHByb21wdEluZGV4ID0gbWlzc2luZ1Byb21wdEluZGljZXNbaW5kZXhdO1xuXHRcdFx0XHRnZW5lcmF0aW9uc1twcm9tcHRJbmRleF0gPSBnZW5lcmF0aW9uO1xuXHRcdFx0XHRjb25zdCBwcm9tcHQgPSBCYXNlQ2hhdE1vZGVsLl9jb252ZXJ0SW5wdXRUb1Byb21wdFZhbHVlKGJhc2VNZXNzYWdlc1twcm9tcHRJbmRleF0pLnRvU3RyaW5nKCk7XG5cdFx0XHRcdHJldHVybiBjYWNoZS51cGRhdGUocHJvbXB0LCBsbG1TdHJpbmdLZXksIGdlbmVyYXRpb24pO1xuXHRcdFx0fSkpO1xuXHRcdFx0bGxtT3V0cHV0ID0gcmVzdWx0cy5sbG1PdXRwdXQgPz8ge307XG5cdFx0fVxuXHRcdHJldHVybiB7XG5cdFx0XHRnZW5lcmF0aW9ucyxcblx0XHRcdGxsbU91dHB1dFxuXHRcdH07XG5cdH1cblx0LyoqXG5cdCogR2V0IHRoZSBwYXJhbWV0ZXJzIHVzZWQgdG8gaW52b2tlIHRoZSBtb2RlbFxuXHQqL1xuXHRpbnZvY2F0aW9uUGFyYW1zKF9vcHRpb25zKSB7XG5cdFx0cmV0dXJuIHt9O1xuXHR9XG5cdF9tb2RlbFR5cGUoKSB7XG5cdFx0cmV0dXJuIFwiYmFzZV9jaGF0X21vZGVsXCI7XG5cdH1cblx0LyoqXG5cdCogR2VuZXJhdGVzIGEgcHJvbXB0IGJhc2VkIG9uIHRoZSBpbnB1dCBwcm9tcHQgdmFsdWVzLlxuXHQqIEBwYXJhbSBwcm9tcHRWYWx1ZXMgQW4gYXJyYXkgb2YgQmFzZVByb21wdFZhbHVlIGluc3RhbmNlcy5cblx0KiBAcGFyYW0gb3B0aW9ucyBUaGUgY2FsbCBvcHRpb25zIG9yIGFuIGFycmF5IG9mIHN0b3Agc2VxdWVuY2VzLlxuXHQqIEBwYXJhbSBjYWxsYmFja3MgVGhlIGNhbGxiYWNrcyBmb3IgdGhlIGxhbmd1YWdlIG1vZGVsLlxuXHQqIEByZXR1cm5zIEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGFuIExMTVJlc3VsdC5cblx0Ki9cblx0YXN5bmMgZ2VuZXJhdGVQcm9tcHQocHJvbXB0VmFsdWVzLCBvcHRpb25zLCBjYWxsYmFja3MpIHtcblx0XHRjb25zdCBwcm9tcHRNZXNzYWdlcyA9IHByb21wdFZhbHVlcy5tYXAoKHByb21wdFZhbHVlKSA9PiBwcm9tcHRWYWx1ZS50b0NoYXRNZXNzYWdlcygpKTtcblx0XHRyZXR1cm4gdGhpcy5nZW5lcmF0ZShwcm9tcHRNZXNzYWdlcywgb3B0aW9ucywgY2FsbGJhY2tzKTtcblx0fVxuXHR3aXRoU3RydWN0dXJlZE91dHB1dChvdXRwdXRTY2hlbWEsIGNvbmZpZykge1xuXHRcdGlmICh0eXBlb2YgdGhpcy5iaW5kVG9vbHMgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IEVycm9yKGBDaGF0IG1vZGVsIG11c3QgaW1wbGVtZW50IFwiLmJpbmRUb29scygpXCIgdG8gdXNlIHdpdGhTdHJ1Y3R1cmVkT3V0cHV0LmApO1xuXHRcdGlmIChjb25maWc/LnN0cmljdCkgdGhyb3cgbmV3IEVycm9yKGBcInN0cmljdFwiIG1vZGUgaXMgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBtb2RlbCBieSBkZWZhdWx0LmApO1xuXHRcdGNvbnN0IHNjaGVtYSA9IG91dHB1dFNjaGVtYTtcblx0XHRjb25zdCBuYW1lID0gY29uZmlnPy5uYW1lO1xuXHRcdGNvbnN0IGRlc2NyaXB0aW9uID0gZ2V0U2NoZW1hRGVzY3JpcHRpb24oc2NoZW1hKSA/PyBcIkEgZnVuY3Rpb24gYXZhaWxhYmxlIHRvIGNhbGwuXCI7XG5cdFx0Y29uc3QgbWV0aG9kID0gY29uZmlnPy5tZXRob2Q7XG5cdFx0Y29uc3QgaW5jbHVkZVJhdyA9IGNvbmZpZz8uaW5jbHVkZVJhdztcblx0XHRpZiAobWV0aG9kID09PSBcImpzb25Nb2RlXCIpIHRocm93IG5ldyBFcnJvcihgQmFzZSB3aXRoU3RydWN0dXJlZE91dHB1dCBpbXBsZW1lbnRhdGlvbiBvbmx5IHN1cHBvcnRzIFwiZnVuY3Rpb25DYWxsaW5nXCIgYXMgYSBtZXRob2QuYCk7XG5cdFx0bGV0IGZ1bmN0aW9uTmFtZSA9IG5hbWUgPz8gXCJleHRyYWN0XCI7XG5cdFx0bGV0IHRvb2xzO1xuXHRcdGlmIChpc0ludGVyb3Bab2RTY2hlbWEoc2NoZW1hKSkgdG9vbHMgPSBbe1xuXHRcdFx0dHlwZTogXCJmdW5jdGlvblwiLFxuXHRcdFx0ZnVuY3Rpb246IHtcblx0XHRcdFx0bmFtZTogZnVuY3Rpb25OYW1lLFxuXHRcdFx0XHRkZXNjcmlwdGlvbixcblx0XHRcdFx0cGFyYW1ldGVyczogdG9Kc29uU2NoZW1hKHNjaGVtYSlcblx0XHRcdH1cblx0XHR9XTtcblx0XHRlbHNlIHtcblx0XHRcdGlmIChcIm5hbWVcIiBpbiBzY2hlbWEpIGZ1bmN0aW9uTmFtZSA9IHNjaGVtYS5uYW1lO1xuXHRcdFx0dG9vbHMgPSBbe1xuXHRcdFx0XHR0eXBlOiBcImZ1bmN0aW9uXCIsXG5cdFx0XHRcdGZ1bmN0aW9uOiB7XG5cdFx0XHRcdFx0bmFtZTogZnVuY3Rpb25OYW1lLFxuXHRcdFx0XHRcdGRlc2NyaXB0aW9uLFxuXHRcdFx0XHRcdHBhcmFtZXRlcnM6IHNjaGVtYVxuXHRcdFx0XHR9XG5cdFx0XHR9XTtcblx0XHR9XG5cdFx0Y29uc3QgbGxtID0gdGhpcy5iaW5kVG9vbHModG9vbHMpO1xuXHRcdGNvbnN0IG91dHB1dFBhcnNlciA9IFJ1bm5hYmxlTGFtYmRhLmZyb20oKGlucHV0KSA9PiB7XG5cdFx0XHRpZiAoIUFJTWVzc2FnZUNodW5rLmlzSW5zdGFuY2UoaW5wdXQpKSB0aHJvdyBuZXcgRXJyb3IoXCJJbnB1dCBpcyBub3QgYW4gQUlNZXNzYWdlQ2h1bmsuXCIpO1xuXHRcdFx0aWYgKCFpbnB1dC50b29sX2NhbGxzIHx8IGlucHV0LnRvb2xfY2FsbHMubGVuZ3RoID09PSAwKSB0aHJvdyBuZXcgRXJyb3IoXCJObyB0b29sIGNhbGxzIGZvdW5kIGluIHRoZSByZXNwb25zZS5cIik7XG5cdFx0XHRjb25zdCB0b29sQ2FsbCA9IGlucHV0LnRvb2xfY2FsbHMuZmluZCgodGMpID0+IHRjLm5hbWUgPT09IGZ1bmN0aW9uTmFtZSk7XG5cdFx0XHRpZiAoIXRvb2xDYWxsKSB0aHJvdyBuZXcgRXJyb3IoYE5vIHRvb2wgY2FsbCBmb3VuZCB3aXRoIG5hbWUgJHtmdW5jdGlvbk5hbWV9LmApO1xuXHRcdFx0cmV0dXJuIHRvb2xDYWxsLmFyZ3M7XG5cdFx0fSk7XG5cdFx0aWYgKCFpbmNsdWRlUmF3KSByZXR1cm4gbGxtLnBpcGUob3V0cHV0UGFyc2VyKS53aXRoQ29uZmlnKHsgcnVuTmFtZTogXCJTdHJ1Y3R1cmVkT3V0cHV0XCIgfSk7XG5cdFx0Y29uc3QgcGFyc2VyQXNzaWduID0gUnVubmFibGVQYXNzdGhyb3VnaC5hc3NpZ24oeyBwYXJzZWQ6IChpbnB1dCwgY29uZmlnJDEpID0+IG91dHB1dFBhcnNlci5pbnZva2UoaW5wdXQucmF3LCBjb25maWckMSkgfSk7XG5cdFx0Y29uc3QgcGFyc2VyTm9uZSA9IFJ1bm5hYmxlUGFzc3Rocm91Z2guYXNzaWduKHsgcGFyc2VkOiAoKSA9PiBudWxsIH0pO1xuXHRcdGNvbnN0IHBhcnNlZFdpdGhGYWxsYmFjayA9IHBhcnNlckFzc2lnbi53aXRoRmFsbGJhY2tzKHsgZmFsbGJhY2tzOiBbcGFyc2VyTm9uZV0gfSk7XG5cdFx0cmV0dXJuIFJ1bm5hYmxlU2VxdWVuY2UuZnJvbShbeyByYXc6IGxsbSB9LCBwYXJzZWRXaXRoRmFsbGJhY2tdKS53aXRoQ29uZmlnKHsgcnVuTmFtZTogXCJTdHJ1Y3R1cmVkT3V0cHV0UnVubmFibGVcIiB9KTtcblx0fVxufTtcbi8qKlxuKiBBbiBhYnN0cmFjdCBjbGFzcyB0aGF0IGV4dGVuZHMgQmFzZUNoYXRNb2RlbCBhbmQgcHJvdmlkZXMgYSBzaW1wbGVcbiogaW1wbGVtZW50YXRpb24gb2YgX2dlbmVyYXRlLlxuKi9cbnZhciBTaW1wbGVDaGF0TW9kZWwgPSBjbGFzcyBleHRlbmRzIEJhc2VDaGF0TW9kZWwge1xuXHRhc3luYyBfZ2VuZXJhdGUobWVzc2FnZXMsIG9wdGlvbnMsIHJ1bk1hbmFnZXIpIHtcblx0XHRjb25zdCB0ZXh0ID0gYXdhaXQgdGhpcy5fY2FsbChtZXNzYWdlcywgb3B0aW9ucywgcnVuTWFuYWdlcik7XG5cdFx0Y29uc3QgbWVzc2FnZSA9IG5ldyBBSU1lc3NhZ2UodGV4dCk7XG5cdFx0aWYgKHR5cGVvZiBtZXNzYWdlLmNvbnRlbnQgIT09IFwic3RyaW5nXCIpIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZW5lcmF0ZSB3aXRoIGEgc2ltcGxlIGNoYXQgbW9kZWwgd2hlbiBvdXRwdXQgaXMgbm90IGEgc3RyaW5nLlwiKTtcblx0XHRyZXR1cm4geyBnZW5lcmF0aW9uczogW3tcblx0XHRcdHRleHQ6IG1lc3NhZ2UuY29udGVudCxcblx0XHRcdG1lc3NhZ2Vcblx0XHR9XSB9O1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEJhc2VDaGF0TW9kZWwsIFNpbXBsZUNoYXRNb2RlbCwgY2hhdF9tb2RlbHNfZXhwb3J0cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hhdF9tb2RlbHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/language_models/chat_models.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/language_models/llms.js":
/*!**************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/language_models/llms.js ***!
  \**************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseLLM: () => (/* binding */ BaseLLM),\n/* harmony export */   LLM: () => (/* binding */ LLM),\n/* harmony export */   llms_exports: () => (/* binding */ llms_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _callbacks_base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../callbacks/base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/callbacks/base.js\");\n/* harmony import */ var _callbacks_manager_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../callbacks/manager.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/callbacks/manager.js\");\n/* harmony import */ var _utils_stream_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/stream.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/stream.js\");\n/* harmony import */ var _outputs_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../outputs.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/outputs.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/language_models/base.js\");\n\n\n\n\n\n\n\n//#region src/language_models/llms.ts\nvar llms_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(llms_exports, {\n\tBaseLLM: () => BaseLLM,\n\tLLM: () => LLM\n});\n/**\n* LLM Wrapper. Takes in a prompt (or prompts) and returns a string.\n*/\nvar BaseLLM = class BaseLLM extends _base_js__WEBPACK_IMPORTED_MODULE_5__.BaseLanguageModel {\n\tlc_namespace = [\n\t\t\"langchain\",\n\t\t\"llms\",\n\t\tthis._llmType()\n\t];\n\t/**\n\t* This method takes an input and options, and returns a string. It\n\t* converts the input to a prompt value and generates a result based on\n\t* the prompt.\n\t* @param input Input for the LLM.\n\t* @param options Options for the LLM call.\n\t* @returns A string result based on the prompt.\n\t*/\n\tasync invoke(input, options) {\n\t\tconst promptValue = BaseLLM._convertInputToPromptValue(input);\n\t\tconst result = await this.generatePrompt([promptValue], options, options?.callbacks);\n\t\treturn result.generations[0][0].text;\n\t}\n\tasync *_streamResponseChunks(_input, _options, _runManager) {\n\t\tthrow new Error(\"Not implemented.\");\n\t}\n\t_separateRunnableConfigFromCallOptionsCompat(options) {\n\t\tconst [runnableConfig, callOptions] = super._separateRunnableConfigFromCallOptions(options);\n\t\tcallOptions.signal = runnableConfig.signal;\n\t\treturn [runnableConfig, callOptions];\n\t}\n\tasync *_streamIterator(input, options) {\n\t\tif (this._streamResponseChunks === BaseLLM.prototype._streamResponseChunks) yield this.invoke(input, options);\n\t\telse {\n\t\t\tconst prompt = BaseLLM._convertInputToPromptValue(input);\n\t\t\tconst [runnableConfig, callOptions] = this._separateRunnableConfigFromCallOptionsCompat(options);\n\t\t\tconst callbackManager_ = await _callbacks_manager_js__WEBPACK_IMPORTED_MODULE_2__.CallbackManager.configure(runnableConfig.callbacks, this.callbacks, runnableConfig.tags, this.tags, runnableConfig.metadata, this.metadata, { verbose: this.verbose });\n\t\t\tconst extra = {\n\t\t\t\toptions: callOptions,\n\t\t\t\tinvocation_params: this?.invocationParams(callOptions),\n\t\t\t\tbatch_size: 1\n\t\t\t};\n\t\t\tconst runManagers = await callbackManager_?.handleLLMStart(this.toJSON(), [prompt.toString()], runnableConfig.runId, void 0, extra, void 0, void 0, runnableConfig.runName);\n\t\t\tlet generation = new _outputs_js__WEBPACK_IMPORTED_MODULE_4__.GenerationChunk({ text: \"\" });\n\t\t\ttry {\n\t\t\t\tfor await (const chunk of this._streamResponseChunks(prompt.toString(), callOptions, runManagers?.[0])) {\n\t\t\t\t\tif (!generation) generation = chunk;\n\t\t\t\t\telse generation = generation.concat(chunk);\n\t\t\t\t\tif (typeof chunk.text === \"string\") yield chunk.text;\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tawait Promise.all((runManagers ?? []).map((runManager) => runManager?.handleLLMError(err)));\n\t\t\t\tthrow err;\n\t\t\t}\n\t\t\tawait Promise.all((runManagers ?? []).map((runManager) => runManager?.handleLLMEnd({ generations: [[generation]] })));\n\t\t}\n\t}\n\t/**\n\t* This method takes prompt values, options, and callbacks, and generates\n\t* a result based on the prompts.\n\t* @param promptValues Prompt values for the LLM.\n\t* @param options Options for the LLM call.\n\t* @param callbacks Callbacks for the LLM call.\n\t* @returns An LLMResult based on the prompts.\n\t*/\n\tasync generatePrompt(promptValues, options, callbacks) {\n\t\tconst prompts = promptValues.map((promptValue) => promptValue.toString());\n\t\treturn this.generate(prompts, options, callbacks);\n\t}\n\t/**\n\t* Get the parameters used to invoke the model\n\t*/\n\tinvocationParams(_options) {\n\t\treturn {};\n\t}\n\t_flattenLLMResult(llmResult) {\n\t\tconst llmResults = [];\n\t\tfor (let i = 0; i < llmResult.generations.length; i += 1) {\n\t\t\tconst genList = llmResult.generations[i];\n\t\t\tif (i === 0) llmResults.push({\n\t\t\t\tgenerations: [genList],\n\t\t\t\tllmOutput: llmResult.llmOutput\n\t\t\t});\n\t\t\telse {\n\t\t\t\tconst llmOutput = llmResult.llmOutput ? {\n\t\t\t\t\t...llmResult.llmOutput,\n\t\t\t\t\ttokenUsage: {}\n\t\t\t\t} : void 0;\n\t\t\t\tllmResults.push({\n\t\t\t\t\tgenerations: [genList],\n\t\t\t\t\tllmOutput\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn llmResults;\n\t}\n\t/** @ignore */\n\tasync _generateUncached(prompts, parsedOptions, handledOptions, startedRunManagers) {\n\t\tlet runManagers;\n\t\tif (startedRunManagers !== void 0 && startedRunManagers.length === prompts.length) runManagers = startedRunManagers;\n\t\telse {\n\t\t\tconst callbackManager_ = await _callbacks_manager_js__WEBPACK_IMPORTED_MODULE_2__.CallbackManager.configure(handledOptions.callbacks, this.callbacks, handledOptions.tags, this.tags, handledOptions.metadata, this.metadata, { verbose: this.verbose });\n\t\t\tconst extra = {\n\t\t\t\toptions: parsedOptions,\n\t\t\t\tinvocation_params: this?.invocationParams(parsedOptions),\n\t\t\t\tbatch_size: prompts.length\n\t\t\t};\n\t\t\trunManagers = await callbackManager_?.handleLLMStart(this.toJSON(), prompts, handledOptions.runId, void 0, extra, void 0, void 0, handledOptions?.runName);\n\t\t}\n\t\tconst hasStreamingHandler = !!runManagers?.[0].handlers.find(_callbacks_base_js__WEBPACK_IMPORTED_MODULE_1__.callbackHandlerPrefersStreaming);\n\t\tlet output;\n\t\tif (hasStreamingHandler && prompts.length === 1 && this._streamResponseChunks !== BaseLLM.prototype._streamResponseChunks) try {\n\t\t\tconst stream = await this._streamResponseChunks(prompts[0], parsedOptions, runManagers?.[0]);\n\t\t\tlet aggregated;\n\t\t\tfor await (const chunk of stream) if (aggregated === void 0) aggregated = chunk;\n\t\t\telse aggregated = (0,_utils_stream_js__WEBPACK_IMPORTED_MODULE_3__.concat)(aggregated, chunk);\n\t\t\tif (aggregated === void 0) throw new Error(\"Received empty response from chat model call.\");\n\t\t\toutput = {\n\t\t\t\tgenerations: [[aggregated]],\n\t\t\t\tllmOutput: {}\n\t\t\t};\n\t\t\tawait runManagers?.[0].handleLLMEnd(output);\n\t\t} catch (e) {\n\t\t\tawait runManagers?.[0].handleLLMError(e);\n\t\t\tthrow e;\n\t\t}\n\t\telse {\n\t\t\ttry {\n\t\t\t\toutput = await this._generate(prompts, parsedOptions, runManagers?.[0]);\n\t\t\t} catch (err) {\n\t\t\t\tawait Promise.all((runManagers ?? []).map((runManager) => runManager?.handleLLMError(err)));\n\t\t\t\tthrow err;\n\t\t\t}\n\t\t\tconst flattenedOutputs = this._flattenLLMResult(output);\n\t\t\tawait Promise.all((runManagers ?? []).map((runManager, i) => runManager?.handleLLMEnd(flattenedOutputs[i])));\n\t\t}\n\t\tconst runIds = runManagers?.map((manager) => manager.runId) || void 0;\n\t\tObject.defineProperty(output, _outputs_js__WEBPACK_IMPORTED_MODULE_4__.RUN_KEY, {\n\t\t\tvalue: runIds ? { runIds } : void 0,\n\t\t\tconfigurable: true\n\t\t});\n\t\treturn output;\n\t}\n\tasync _generateCached({ prompts, cache, llmStringKey, parsedOptions, handledOptions, runId }) {\n\t\tconst callbackManager_ = await _callbacks_manager_js__WEBPACK_IMPORTED_MODULE_2__.CallbackManager.configure(handledOptions.callbacks, this.callbacks, handledOptions.tags, this.tags, handledOptions.metadata, this.metadata, { verbose: this.verbose });\n\t\tconst extra = {\n\t\t\toptions: parsedOptions,\n\t\t\tinvocation_params: this?.invocationParams(parsedOptions),\n\t\t\tbatch_size: prompts.length\n\t\t};\n\t\tconst runManagers = await callbackManager_?.handleLLMStart(this.toJSON(), prompts, runId, void 0, extra, void 0, void 0, handledOptions?.runName);\n\t\tconst missingPromptIndices = [];\n\t\tconst results = await Promise.allSettled(prompts.map(async (prompt, index) => {\n\t\t\tconst result = await cache.lookup(prompt, llmStringKey);\n\t\t\tif (result == null) missingPromptIndices.push(index);\n\t\t\treturn result;\n\t\t}));\n\t\tconst cachedResults = results.map((result, index) => ({\n\t\t\tresult,\n\t\t\trunManager: runManagers?.[index]\n\t\t})).filter(({ result }) => result.status === \"fulfilled\" && result.value != null || result.status === \"rejected\");\n\t\tconst generations = [];\n\t\tawait Promise.all(cachedResults.map(async ({ result: promiseResult, runManager }, i) => {\n\t\t\tif (promiseResult.status === \"fulfilled\") {\n\t\t\t\tconst result = promiseResult.value;\n\t\t\t\tgenerations[i] = result.map((result$1) => {\n\t\t\t\t\tresult$1.generationInfo = {\n\t\t\t\t\t\t...result$1.generationInfo,\n\t\t\t\t\t\ttokenUsage: {}\n\t\t\t\t\t};\n\t\t\t\t\treturn result$1;\n\t\t\t\t});\n\t\t\t\tif (result.length) await runManager?.handleLLMNewToken(result[0].text);\n\t\t\t\treturn runManager?.handleLLMEnd({ generations: [result] }, void 0, void 0, void 0, { cached: true });\n\t\t\t} else {\n\t\t\t\tawait runManager?.handleLLMError(promiseResult.reason, void 0, void 0, void 0, { cached: true });\n\t\t\t\treturn Promise.reject(promiseResult.reason);\n\t\t\t}\n\t\t}));\n\t\tconst output = {\n\t\t\tgenerations,\n\t\t\tmissingPromptIndices,\n\t\t\tstartedRunManagers: runManagers\n\t\t};\n\t\tObject.defineProperty(output, _outputs_js__WEBPACK_IMPORTED_MODULE_4__.RUN_KEY, {\n\t\t\tvalue: runManagers ? { runIds: runManagers?.map((manager) => manager.runId) } : void 0,\n\t\t\tconfigurable: true\n\t\t});\n\t\treturn output;\n\t}\n\t/**\n\t* Run the LLM on the given prompts and input, handling caching.\n\t*/\n\tasync generate(prompts, options, callbacks) {\n\t\tif (!Array.isArray(prompts)) throw new Error(\"Argument 'prompts' is expected to be a string[]\");\n\t\tlet parsedOptions;\n\t\tif (Array.isArray(options)) parsedOptions = { stop: options };\n\t\telse parsedOptions = options;\n\t\tconst [runnableConfig, callOptions] = this._separateRunnableConfigFromCallOptionsCompat(parsedOptions);\n\t\trunnableConfig.callbacks = runnableConfig.callbacks ?? callbacks;\n\t\tif (!this.cache) return this._generateUncached(prompts, callOptions, runnableConfig);\n\t\tconst { cache } = this;\n\t\tconst llmStringKey = this._getSerializedCacheKeyParametersForCall(callOptions);\n\t\tconst { generations, missingPromptIndices, startedRunManagers } = await this._generateCached({\n\t\t\tprompts,\n\t\t\tcache,\n\t\t\tllmStringKey,\n\t\t\tparsedOptions: callOptions,\n\t\t\thandledOptions: runnableConfig,\n\t\t\trunId: runnableConfig.runId\n\t\t});\n\t\tlet llmOutput = {};\n\t\tif (missingPromptIndices.length > 0) {\n\t\t\tconst results = await this._generateUncached(missingPromptIndices.map((i) => prompts[i]), callOptions, runnableConfig, startedRunManagers !== void 0 ? missingPromptIndices.map((i) => startedRunManagers?.[i]) : void 0);\n\t\t\tawait Promise.all(results.generations.map(async (generation, index) => {\n\t\t\t\tconst promptIndex = missingPromptIndices[index];\n\t\t\t\tgenerations[promptIndex] = generation;\n\t\t\t\treturn cache.update(prompts[promptIndex], llmStringKey, generation);\n\t\t\t}));\n\t\t\tllmOutput = results.llmOutput ?? {};\n\t\t}\n\t\treturn {\n\t\t\tgenerations,\n\t\t\tllmOutput\n\t\t};\n\t}\n\t/**\n\t* Get the identifying parameters of the LLM.\n\t*/\n\t_identifyingParams() {\n\t\treturn {};\n\t}\n\t_modelType() {\n\t\treturn \"base_llm\";\n\t}\n};\n/**\n* LLM class that provides a simpler interface to subclass than {@link BaseLLM}.\n*\n* Requires only implementing a simpler {@link _call} method instead of {@link _generate}.\n*\n* @augments BaseLLM\n*/\nvar LLM = class extends BaseLLM {\n\tasync _generate(prompts, options, runManager) {\n\t\tconst generations = await Promise.all(prompts.map((prompt, promptIndex) => this._call(prompt, {\n\t\t\t...options,\n\t\t\tpromptIndex\n\t\t}, runManager).then((text) => [{ text }])));\n\t\treturn { generations };\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=llms.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L2xhbmd1YWdlX21vZGVscy9sbG1zLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUEyRDtBQUNZO0FBQ2I7QUFDZDtBQUNhO0FBQ1g7O0FBRTlDO0FBQ0E7QUFDQSxzRUFBUTtBQUNSO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLHVEQUFpQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxrRUFBZSwrSEFBK0gsdUJBQXVCO0FBQ3ZNO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix3REFBZSxHQUFHLFVBQVU7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLHdGQUF3Riw2QkFBNkI7QUFDckg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isa0NBQWtDO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0Msa0VBQWUsK0hBQStILHVCQUF1QjtBQUN2TTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRCwrRUFBK0I7QUFDOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQix3REFBTTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGdEQUFPO0FBQ3ZDLHFCQUFxQixTQUFTO0FBQzlCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSx5QkFBeUIsb0VBQW9FO0FBQzdGLGlDQUFpQyxrRUFBZSwrSEFBK0gsdUJBQXVCO0FBQ3RNO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRyxhQUFhLFFBQVE7QUFDeEI7QUFDQSwrQ0FBK0MsbUNBQW1DO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxzQ0FBc0MsdUJBQXVCLDRCQUE0QixjQUFjO0FBQ3ZHLEtBQUs7QUFDTCxxRkFBcUYsY0FBYztBQUNuRztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsZ0RBQU87QUFDdkMsMEJBQTBCLHVEQUF1RDtBQUNqRjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdEO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxRQUFRO0FBQ2xCO0FBQ0EsVUFBVSx3REFBd0Q7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSxjQUFjO0FBQzlFO0FBQ0Esd0NBQXdDLGFBQWEsbUJBQW1CLGdCQUFnQjtBQUN4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxnQ0FBZ0MsTUFBTTtBQUN6QyxXQUFXO0FBQ1g7QUFDQTs7QUFFQTtBQUNzQztBQUN0QyIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9sYW5ndWFnZV9tb2RlbHMvbGxtcy5qcz9mMDliIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fZXhwb3J0IH0gZnJvbSBcIi4uL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuanNcIjtcbmltcG9ydCB7IGNhbGxiYWNrSGFuZGxlclByZWZlcnNTdHJlYW1pbmcgfSBmcm9tIFwiLi4vY2FsbGJhY2tzL2Jhc2UuanNcIjtcbmltcG9ydCB7IENhbGxiYWNrTWFuYWdlciB9IGZyb20gXCIuLi9jYWxsYmFja3MvbWFuYWdlci5qc1wiO1xuaW1wb3J0IHsgY29uY2F0IH0gZnJvbSBcIi4uL3V0aWxzL3N0cmVhbS5qc1wiO1xuaW1wb3J0IHsgR2VuZXJhdGlvbkNodW5rLCBSVU5fS0VZIH0gZnJvbSBcIi4uL291dHB1dHMuanNcIjtcbmltcG9ydCB7IEJhc2VMYW5ndWFnZU1vZGVsIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL2xhbmd1YWdlX21vZGVscy9sbG1zLnRzXG52YXIgbGxtc19leHBvcnRzID0ge307XG5fX2V4cG9ydChsbG1zX2V4cG9ydHMsIHtcblx0QmFzZUxMTTogKCkgPT4gQmFzZUxMTSxcblx0TExNOiAoKSA9PiBMTE1cbn0pO1xuLyoqXG4qIExMTSBXcmFwcGVyLiBUYWtlcyBpbiBhIHByb21wdCAob3IgcHJvbXB0cykgYW5kIHJldHVybnMgYSBzdHJpbmcuXG4qL1xudmFyIEJhc2VMTE0gPSBjbGFzcyBCYXNlTExNIGV4dGVuZHMgQmFzZUxhbmd1YWdlTW9kZWwge1xuXHRsY19uYW1lc3BhY2UgPSBbXG5cdFx0XCJsYW5nY2hhaW5cIixcblx0XHRcImxsbXNcIixcblx0XHR0aGlzLl9sbG1UeXBlKClcblx0XTtcblx0LyoqXG5cdCogVGhpcyBtZXRob2QgdGFrZXMgYW4gaW5wdXQgYW5kIG9wdGlvbnMsIGFuZCByZXR1cm5zIGEgc3RyaW5nLiBJdFxuXHQqIGNvbnZlcnRzIHRoZSBpbnB1dCB0byBhIHByb21wdCB2YWx1ZSBhbmQgZ2VuZXJhdGVzIGEgcmVzdWx0IGJhc2VkIG9uXG5cdCogdGhlIHByb21wdC5cblx0KiBAcGFyYW0gaW5wdXQgSW5wdXQgZm9yIHRoZSBMTE0uXG5cdCogQHBhcmFtIG9wdGlvbnMgT3B0aW9ucyBmb3IgdGhlIExMTSBjYWxsLlxuXHQqIEByZXR1cm5zIEEgc3RyaW5nIHJlc3VsdCBiYXNlZCBvbiB0aGUgcHJvbXB0LlxuXHQqL1xuXHRhc3luYyBpbnZva2UoaW5wdXQsIG9wdGlvbnMpIHtcblx0XHRjb25zdCBwcm9tcHRWYWx1ZSA9IEJhc2VMTE0uX2NvbnZlcnRJbnB1dFRvUHJvbXB0VmFsdWUoaW5wdXQpO1xuXHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVQcm9tcHQoW3Byb21wdFZhbHVlXSwgb3B0aW9ucywgb3B0aW9ucz8uY2FsbGJhY2tzKTtcblx0XHRyZXR1cm4gcmVzdWx0LmdlbmVyYXRpb25zWzBdWzBdLnRleHQ7XG5cdH1cblx0YXN5bmMgKl9zdHJlYW1SZXNwb25zZUNodW5rcyhfaW5wdXQsIF9vcHRpb25zLCBfcnVuTWFuYWdlcikge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZC5cIik7XG5cdH1cblx0X3NlcGFyYXRlUnVubmFibGVDb25maWdGcm9tQ2FsbE9wdGlvbnNDb21wYXQob3B0aW9ucykge1xuXHRcdGNvbnN0IFtydW5uYWJsZUNvbmZpZywgY2FsbE9wdGlvbnNdID0gc3VwZXIuX3NlcGFyYXRlUnVubmFibGVDb25maWdGcm9tQ2FsbE9wdGlvbnMob3B0aW9ucyk7XG5cdFx0Y2FsbE9wdGlvbnMuc2lnbmFsID0gcnVubmFibGVDb25maWcuc2lnbmFsO1xuXHRcdHJldHVybiBbcnVubmFibGVDb25maWcsIGNhbGxPcHRpb25zXTtcblx0fVxuXHRhc3luYyAqX3N0cmVhbUl0ZXJhdG9yKGlucHV0LCBvcHRpb25zKSB7XG5cdFx0aWYgKHRoaXMuX3N0cmVhbVJlc3BvbnNlQ2h1bmtzID09PSBCYXNlTExNLnByb3RvdHlwZS5fc3RyZWFtUmVzcG9uc2VDaHVua3MpIHlpZWxkIHRoaXMuaW52b2tlKGlucHV0LCBvcHRpb25zKTtcblx0XHRlbHNlIHtcblx0XHRcdGNvbnN0IHByb21wdCA9IEJhc2VMTE0uX2NvbnZlcnRJbnB1dFRvUHJvbXB0VmFsdWUoaW5wdXQpO1xuXHRcdFx0Y29uc3QgW3J1bm5hYmxlQ29uZmlnLCBjYWxsT3B0aW9uc10gPSB0aGlzLl9zZXBhcmF0ZVJ1bm5hYmxlQ29uZmlnRnJvbUNhbGxPcHRpb25zQ29tcGF0KG9wdGlvbnMpO1xuXHRcdFx0Y29uc3QgY2FsbGJhY2tNYW5hZ2VyXyA9IGF3YWl0IENhbGxiYWNrTWFuYWdlci5jb25maWd1cmUocnVubmFibGVDb25maWcuY2FsbGJhY2tzLCB0aGlzLmNhbGxiYWNrcywgcnVubmFibGVDb25maWcudGFncywgdGhpcy50YWdzLCBydW5uYWJsZUNvbmZpZy5tZXRhZGF0YSwgdGhpcy5tZXRhZGF0YSwgeyB2ZXJib3NlOiB0aGlzLnZlcmJvc2UgfSk7XG5cdFx0XHRjb25zdCBleHRyYSA9IHtcblx0XHRcdFx0b3B0aW9uczogY2FsbE9wdGlvbnMsXG5cdFx0XHRcdGludm9jYXRpb25fcGFyYW1zOiB0aGlzPy5pbnZvY2F0aW9uUGFyYW1zKGNhbGxPcHRpb25zKSxcblx0XHRcdFx0YmF0Y2hfc2l6ZTogMVxuXHRcdFx0fTtcblx0XHRcdGNvbnN0IHJ1bk1hbmFnZXJzID0gYXdhaXQgY2FsbGJhY2tNYW5hZ2VyXz8uaGFuZGxlTExNU3RhcnQodGhpcy50b0pTT04oKSwgW3Byb21wdC50b1N0cmluZygpXSwgcnVubmFibGVDb25maWcucnVuSWQsIHZvaWQgMCwgZXh0cmEsIHZvaWQgMCwgdm9pZCAwLCBydW5uYWJsZUNvbmZpZy5ydW5OYW1lKTtcblx0XHRcdGxldCBnZW5lcmF0aW9uID0gbmV3IEdlbmVyYXRpb25DaHVuayh7IHRleHQ6IFwiXCIgfSk7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHRoaXMuX3N0cmVhbVJlc3BvbnNlQ2h1bmtzKHByb21wdC50b1N0cmluZygpLCBjYWxsT3B0aW9ucywgcnVuTWFuYWdlcnM/LlswXSkpIHtcblx0XHRcdFx0XHRpZiAoIWdlbmVyYXRpb24pIGdlbmVyYXRpb24gPSBjaHVuaztcblx0XHRcdFx0XHRlbHNlIGdlbmVyYXRpb24gPSBnZW5lcmF0aW9uLmNvbmNhdChjaHVuayk7XG5cdFx0XHRcdFx0aWYgKHR5cGVvZiBjaHVuay50ZXh0ID09PSBcInN0cmluZ1wiKSB5aWVsZCBjaHVuay50ZXh0O1xuXHRcdFx0XHR9XG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0YXdhaXQgUHJvbWlzZS5hbGwoKHJ1bk1hbmFnZXJzID8/IFtdKS5tYXAoKHJ1bk1hbmFnZXIpID0+IHJ1bk1hbmFnZXI/LmhhbmRsZUxMTUVycm9yKGVycikpKTtcblx0XHRcdFx0dGhyb3cgZXJyO1xuXHRcdFx0fVxuXHRcdFx0YXdhaXQgUHJvbWlzZS5hbGwoKHJ1bk1hbmFnZXJzID8/IFtdKS5tYXAoKHJ1bk1hbmFnZXIpID0+IHJ1bk1hbmFnZXI/LmhhbmRsZUxMTUVuZCh7IGdlbmVyYXRpb25zOiBbW2dlbmVyYXRpb25dXSB9KSkpO1xuXHRcdH1cblx0fVxuXHQvKipcblx0KiBUaGlzIG1ldGhvZCB0YWtlcyBwcm9tcHQgdmFsdWVzLCBvcHRpb25zLCBhbmQgY2FsbGJhY2tzLCBhbmQgZ2VuZXJhdGVzXG5cdCogYSByZXN1bHQgYmFzZWQgb24gdGhlIHByb21wdHMuXG5cdCogQHBhcmFtIHByb21wdFZhbHVlcyBQcm9tcHQgdmFsdWVzIGZvciB0aGUgTExNLlxuXHQqIEBwYXJhbSBvcHRpb25zIE9wdGlvbnMgZm9yIHRoZSBMTE0gY2FsbC5cblx0KiBAcGFyYW0gY2FsbGJhY2tzIENhbGxiYWNrcyBmb3IgdGhlIExMTSBjYWxsLlxuXHQqIEByZXR1cm5zIEFuIExMTVJlc3VsdCBiYXNlZCBvbiB0aGUgcHJvbXB0cy5cblx0Ki9cblx0YXN5bmMgZ2VuZXJhdGVQcm9tcHQocHJvbXB0VmFsdWVzLCBvcHRpb25zLCBjYWxsYmFja3MpIHtcblx0XHRjb25zdCBwcm9tcHRzID0gcHJvbXB0VmFsdWVzLm1hcCgocHJvbXB0VmFsdWUpID0+IHByb21wdFZhbHVlLnRvU3RyaW5nKCkpO1xuXHRcdHJldHVybiB0aGlzLmdlbmVyYXRlKHByb21wdHMsIG9wdGlvbnMsIGNhbGxiYWNrcyk7XG5cdH1cblx0LyoqXG5cdCogR2V0IHRoZSBwYXJhbWV0ZXJzIHVzZWQgdG8gaW52b2tlIHRoZSBtb2RlbFxuXHQqL1xuXHRpbnZvY2F0aW9uUGFyYW1zKF9vcHRpb25zKSB7XG5cdFx0cmV0dXJuIHt9O1xuXHR9XG5cdF9mbGF0dGVuTExNUmVzdWx0KGxsbVJlc3VsdCkge1xuXHRcdGNvbnN0IGxsbVJlc3VsdHMgPSBbXTtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGxsbVJlc3VsdC5nZW5lcmF0aW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0Y29uc3QgZ2VuTGlzdCA9IGxsbVJlc3VsdC5nZW5lcmF0aW9uc1tpXTtcblx0XHRcdGlmIChpID09PSAwKSBsbG1SZXN1bHRzLnB1c2goe1xuXHRcdFx0XHRnZW5lcmF0aW9uczogW2dlbkxpc3RdLFxuXHRcdFx0XHRsbG1PdXRwdXQ6IGxsbVJlc3VsdC5sbG1PdXRwdXRcblx0XHRcdH0pO1xuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGNvbnN0IGxsbU91dHB1dCA9IGxsbVJlc3VsdC5sbG1PdXRwdXQgPyB7XG5cdFx0XHRcdFx0Li4ubGxtUmVzdWx0LmxsbU91dHB1dCxcblx0XHRcdFx0XHR0b2tlblVzYWdlOiB7fVxuXHRcdFx0XHR9IDogdm9pZCAwO1xuXHRcdFx0XHRsbG1SZXN1bHRzLnB1c2goe1xuXHRcdFx0XHRcdGdlbmVyYXRpb25zOiBbZ2VuTGlzdF0sXG5cdFx0XHRcdFx0bGxtT3V0cHV0XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gbGxtUmVzdWx0cztcblx0fVxuXHQvKiogQGlnbm9yZSAqL1xuXHRhc3luYyBfZ2VuZXJhdGVVbmNhY2hlZChwcm9tcHRzLCBwYXJzZWRPcHRpb25zLCBoYW5kbGVkT3B0aW9ucywgc3RhcnRlZFJ1bk1hbmFnZXJzKSB7XG5cdFx0bGV0IHJ1bk1hbmFnZXJzO1xuXHRcdGlmIChzdGFydGVkUnVuTWFuYWdlcnMgIT09IHZvaWQgMCAmJiBzdGFydGVkUnVuTWFuYWdlcnMubGVuZ3RoID09PSBwcm9tcHRzLmxlbmd0aCkgcnVuTWFuYWdlcnMgPSBzdGFydGVkUnVuTWFuYWdlcnM7XG5cdFx0ZWxzZSB7XG5cdFx0XHRjb25zdCBjYWxsYmFja01hbmFnZXJfID0gYXdhaXQgQ2FsbGJhY2tNYW5hZ2VyLmNvbmZpZ3VyZShoYW5kbGVkT3B0aW9ucy5jYWxsYmFja3MsIHRoaXMuY2FsbGJhY2tzLCBoYW5kbGVkT3B0aW9ucy50YWdzLCB0aGlzLnRhZ3MsIGhhbmRsZWRPcHRpb25zLm1ldGFkYXRhLCB0aGlzLm1ldGFkYXRhLCB7IHZlcmJvc2U6IHRoaXMudmVyYm9zZSB9KTtcblx0XHRcdGNvbnN0IGV4dHJhID0ge1xuXHRcdFx0XHRvcHRpb25zOiBwYXJzZWRPcHRpb25zLFxuXHRcdFx0XHRpbnZvY2F0aW9uX3BhcmFtczogdGhpcz8uaW52b2NhdGlvblBhcmFtcyhwYXJzZWRPcHRpb25zKSxcblx0XHRcdFx0YmF0Y2hfc2l6ZTogcHJvbXB0cy5sZW5ndGhcblx0XHRcdH07XG5cdFx0XHRydW5NYW5hZ2VycyA9IGF3YWl0IGNhbGxiYWNrTWFuYWdlcl8/LmhhbmRsZUxMTVN0YXJ0KHRoaXMudG9KU09OKCksIHByb21wdHMsIGhhbmRsZWRPcHRpb25zLnJ1bklkLCB2b2lkIDAsIGV4dHJhLCB2b2lkIDAsIHZvaWQgMCwgaGFuZGxlZE9wdGlvbnM/LnJ1bk5hbWUpO1xuXHRcdH1cblx0XHRjb25zdCBoYXNTdHJlYW1pbmdIYW5kbGVyID0gISFydW5NYW5hZ2Vycz8uWzBdLmhhbmRsZXJzLmZpbmQoY2FsbGJhY2tIYW5kbGVyUHJlZmVyc1N0cmVhbWluZyk7XG5cdFx0bGV0IG91dHB1dDtcblx0XHRpZiAoaGFzU3RyZWFtaW5nSGFuZGxlciAmJiBwcm9tcHRzLmxlbmd0aCA9PT0gMSAmJiB0aGlzLl9zdHJlYW1SZXNwb25zZUNodW5rcyAhPT0gQmFzZUxMTS5wcm90b3R5cGUuX3N0cmVhbVJlc3BvbnNlQ2h1bmtzKSB0cnkge1xuXHRcdFx0Y29uc3Qgc3RyZWFtID0gYXdhaXQgdGhpcy5fc3RyZWFtUmVzcG9uc2VDaHVua3MocHJvbXB0c1swXSwgcGFyc2VkT3B0aW9ucywgcnVuTWFuYWdlcnM/LlswXSk7XG5cdFx0XHRsZXQgYWdncmVnYXRlZDtcblx0XHRcdGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2Ygc3RyZWFtKSBpZiAoYWdncmVnYXRlZCA9PT0gdm9pZCAwKSBhZ2dyZWdhdGVkID0gY2h1bms7XG5cdFx0XHRlbHNlIGFnZ3JlZ2F0ZWQgPSBjb25jYXQoYWdncmVnYXRlZCwgY2h1bmspO1xuXHRcdFx0aWYgKGFnZ3JlZ2F0ZWQgPT09IHZvaWQgMCkgdGhyb3cgbmV3IEVycm9yKFwiUmVjZWl2ZWQgZW1wdHkgcmVzcG9uc2UgZnJvbSBjaGF0IG1vZGVsIGNhbGwuXCIpO1xuXHRcdFx0b3V0cHV0ID0ge1xuXHRcdFx0XHRnZW5lcmF0aW9uczogW1thZ2dyZWdhdGVkXV0sXG5cdFx0XHRcdGxsbU91dHB1dDoge31cblx0XHRcdH07XG5cdFx0XHRhd2FpdCBydW5NYW5hZ2Vycz8uWzBdLmhhbmRsZUxMTUVuZChvdXRwdXQpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGF3YWl0IHJ1bk1hbmFnZXJzPy5bMF0uaGFuZGxlTExNRXJyb3IoZSk7XG5cdFx0XHR0aHJvdyBlO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdG91dHB1dCA9IGF3YWl0IHRoaXMuX2dlbmVyYXRlKHByb21wdHMsIHBhcnNlZE9wdGlvbnMsIHJ1bk1hbmFnZXJzPy5bMF0pO1xuXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdGF3YWl0IFByb21pc2UuYWxsKChydW5NYW5hZ2VycyA/PyBbXSkubWFwKChydW5NYW5hZ2VyKSA9PiBydW5NYW5hZ2VyPy5oYW5kbGVMTE1FcnJvcihlcnIpKSk7XG5cdFx0XHRcdHRocm93IGVycjtcblx0XHRcdH1cblx0XHRcdGNvbnN0IGZsYXR0ZW5lZE91dHB1dHMgPSB0aGlzLl9mbGF0dGVuTExNUmVzdWx0KG91dHB1dCk7XG5cdFx0XHRhd2FpdCBQcm9taXNlLmFsbCgocnVuTWFuYWdlcnMgPz8gW10pLm1hcCgocnVuTWFuYWdlciwgaSkgPT4gcnVuTWFuYWdlcj8uaGFuZGxlTExNRW5kKGZsYXR0ZW5lZE91dHB1dHNbaV0pKSk7XG5cdFx0fVxuXHRcdGNvbnN0IHJ1bklkcyA9IHJ1bk1hbmFnZXJzPy5tYXAoKG1hbmFnZXIpID0+IG1hbmFnZXIucnVuSWQpIHx8IHZvaWQgMDtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkob3V0cHV0LCBSVU5fS0VZLCB7XG5cdFx0XHR2YWx1ZTogcnVuSWRzID8geyBydW5JZHMgfSA6IHZvaWQgMCxcblx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHRcdH0pO1xuXHRcdHJldHVybiBvdXRwdXQ7XG5cdH1cblx0YXN5bmMgX2dlbmVyYXRlQ2FjaGVkKHsgcHJvbXB0cywgY2FjaGUsIGxsbVN0cmluZ0tleSwgcGFyc2VkT3B0aW9ucywgaGFuZGxlZE9wdGlvbnMsIHJ1bklkIH0pIHtcblx0XHRjb25zdCBjYWxsYmFja01hbmFnZXJfID0gYXdhaXQgQ2FsbGJhY2tNYW5hZ2VyLmNvbmZpZ3VyZShoYW5kbGVkT3B0aW9ucy5jYWxsYmFja3MsIHRoaXMuY2FsbGJhY2tzLCBoYW5kbGVkT3B0aW9ucy50YWdzLCB0aGlzLnRhZ3MsIGhhbmRsZWRPcHRpb25zLm1ldGFkYXRhLCB0aGlzLm1ldGFkYXRhLCB7IHZlcmJvc2U6IHRoaXMudmVyYm9zZSB9KTtcblx0XHRjb25zdCBleHRyYSA9IHtcblx0XHRcdG9wdGlvbnM6IHBhcnNlZE9wdGlvbnMsXG5cdFx0XHRpbnZvY2F0aW9uX3BhcmFtczogdGhpcz8uaW52b2NhdGlvblBhcmFtcyhwYXJzZWRPcHRpb25zKSxcblx0XHRcdGJhdGNoX3NpemU6IHByb21wdHMubGVuZ3RoXG5cdFx0fTtcblx0XHRjb25zdCBydW5NYW5hZ2VycyA9IGF3YWl0IGNhbGxiYWNrTWFuYWdlcl8/LmhhbmRsZUxMTVN0YXJ0KHRoaXMudG9KU09OKCksIHByb21wdHMsIHJ1bklkLCB2b2lkIDAsIGV4dHJhLCB2b2lkIDAsIHZvaWQgMCwgaGFuZGxlZE9wdGlvbnM/LnJ1bk5hbWUpO1xuXHRcdGNvbnN0IG1pc3NpbmdQcm9tcHRJbmRpY2VzID0gW107XG5cdFx0Y29uc3QgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChwcm9tcHRzLm1hcChhc3luYyAocHJvbXB0LCBpbmRleCkgPT4ge1xuXHRcdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgY2FjaGUubG9va3VwKHByb21wdCwgbGxtU3RyaW5nS2V5KTtcblx0XHRcdGlmIChyZXN1bHQgPT0gbnVsbCkgbWlzc2luZ1Byb21wdEluZGljZXMucHVzaChpbmRleCk7XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH0pKTtcblx0XHRjb25zdCBjYWNoZWRSZXN1bHRzID0gcmVzdWx0cy5tYXAoKHJlc3VsdCwgaW5kZXgpID0+ICh7XG5cdFx0XHRyZXN1bHQsXG5cdFx0XHRydW5NYW5hZ2VyOiBydW5NYW5hZ2Vycz8uW2luZGV4XVxuXHRcdH0pKS5maWx0ZXIoKHsgcmVzdWx0IH0pID0+IHJlc3VsdC5zdGF0dXMgPT09IFwiZnVsZmlsbGVkXCIgJiYgcmVzdWx0LnZhbHVlICE9IG51bGwgfHwgcmVzdWx0LnN0YXR1cyA9PT0gXCJyZWplY3RlZFwiKTtcblx0XHRjb25zdCBnZW5lcmF0aW9ucyA9IFtdO1xuXHRcdGF3YWl0IFByb21pc2UuYWxsKGNhY2hlZFJlc3VsdHMubWFwKGFzeW5jICh7IHJlc3VsdDogcHJvbWlzZVJlc3VsdCwgcnVuTWFuYWdlciB9LCBpKSA9PiB7XG5cdFx0XHRpZiAocHJvbWlzZVJlc3VsdC5zdGF0dXMgPT09IFwiZnVsZmlsbGVkXCIpIHtcblx0XHRcdFx0Y29uc3QgcmVzdWx0ID0gcHJvbWlzZVJlc3VsdC52YWx1ZTtcblx0XHRcdFx0Z2VuZXJhdGlvbnNbaV0gPSByZXN1bHQubWFwKChyZXN1bHQkMSkgPT4ge1xuXHRcdFx0XHRcdHJlc3VsdCQxLmdlbmVyYXRpb25JbmZvID0ge1xuXHRcdFx0XHRcdFx0Li4ucmVzdWx0JDEuZ2VuZXJhdGlvbkluZm8sXG5cdFx0XHRcdFx0XHR0b2tlblVzYWdlOiB7fVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0cmV0dXJuIHJlc3VsdCQxO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0aWYgKHJlc3VsdC5sZW5ndGgpIGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUxMTU5ld1Rva2VuKHJlc3VsdFswXS50ZXh0KTtcblx0XHRcdFx0cmV0dXJuIHJ1bk1hbmFnZXI/LmhhbmRsZUxMTUVuZCh7IGdlbmVyYXRpb25zOiBbcmVzdWx0XSB9LCB2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCB7IGNhY2hlZDogdHJ1ZSB9KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUxMTUVycm9yKHByb21pc2VSZXN1bHQucmVhc29uLCB2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCB7IGNhY2hlZDogdHJ1ZSB9KTtcblx0XHRcdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KHByb21pc2VSZXN1bHQucmVhc29uKTtcblx0XHRcdH1cblx0XHR9KSk7XG5cdFx0Y29uc3Qgb3V0cHV0ID0ge1xuXHRcdFx0Z2VuZXJhdGlvbnMsXG5cdFx0XHRtaXNzaW5nUHJvbXB0SW5kaWNlcyxcblx0XHRcdHN0YXJ0ZWRSdW5NYW5hZ2VyczogcnVuTWFuYWdlcnNcblx0XHR9O1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvdXRwdXQsIFJVTl9LRVksIHtcblx0XHRcdHZhbHVlOiBydW5NYW5hZ2VycyA/IHsgcnVuSWRzOiBydW5NYW5hZ2Vycz8ubWFwKChtYW5hZ2VyKSA9PiBtYW5hZ2VyLnJ1bklkKSB9IDogdm9pZCAwLFxuXHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlXG5cdFx0fSk7XG5cdFx0cmV0dXJuIG91dHB1dDtcblx0fVxuXHQvKipcblx0KiBSdW4gdGhlIExMTSBvbiB0aGUgZ2l2ZW4gcHJvbXB0cyBhbmQgaW5wdXQsIGhhbmRsaW5nIGNhY2hpbmcuXG5cdCovXG5cdGFzeW5jIGdlbmVyYXRlKHByb21wdHMsIG9wdGlvbnMsIGNhbGxiYWNrcykge1xuXHRcdGlmICghQXJyYXkuaXNBcnJheShwcm9tcHRzKSkgdGhyb3cgbmV3IEVycm9yKFwiQXJndW1lbnQgJ3Byb21wdHMnIGlzIGV4cGVjdGVkIHRvIGJlIGEgc3RyaW5nW11cIik7XG5cdFx0bGV0IHBhcnNlZE9wdGlvbnM7XG5cdFx0aWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucykpIHBhcnNlZE9wdGlvbnMgPSB7IHN0b3A6IG9wdGlvbnMgfTtcblx0XHRlbHNlIHBhcnNlZE9wdGlvbnMgPSBvcHRpb25zO1xuXHRcdGNvbnN0IFtydW5uYWJsZUNvbmZpZywgY2FsbE9wdGlvbnNdID0gdGhpcy5fc2VwYXJhdGVSdW5uYWJsZUNvbmZpZ0Zyb21DYWxsT3B0aW9uc0NvbXBhdChwYXJzZWRPcHRpb25zKTtcblx0XHRydW5uYWJsZUNvbmZpZy5jYWxsYmFja3MgPSBydW5uYWJsZUNvbmZpZy5jYWxsYmFja3MgPz8gY2FsbGJhY2tzO1xuXHRcdGlmICghdGhpcy5jYWNoZSkgcmV0dXJuIHRoaXMuX2dlbmVyYXRlVW5jYWNoZWQocHJvbXB0cywgY2FsbE9wdGlvbnMsIHJ1bm5hYmxlQ29uZmlnKTtcblx0XHRjb25zdCB7IGNhY2hlIH0gPSB0aGlzO1xuXHRcdGNvbnN0IGxsbVN0cmluZ0tleSA9IHRoaXMuX2dldFNlcmlhbGl6ZWRDYWNoZUtleVBhcmFtZXRlcnNGb3JDYWxsKGNhbGxPcHRpb25zKTtcblx0XHRjb25zdCB7IGdlbmVyYXRpb25zLCBtaXNzaW5nUHJvbXB0SW5kaWNlcywgc3RhcnRlZFJ1bk1hbmFnZXJzIH0gPSBhd2FpdCB0aGlzLl9nZW5lcmF0ZUNhY2hlZCh7XG5cdFx0XHRwcm9tcHRzLFxuXHRcdFx0Y2FjaGUsXG5cdFx0XHRsbG1TdHJpbmdLZXksXG5cdFx0XHRwYXJzZWRPcHRpb25zOiBjYWxsT3B0aW9ucyxcblx0XHRcdGhhbmRsZWRPcHRpb25zOiBydW5uYWJsZUNvbmZpZyxcblx0XHRcdHJ1bklkOiBydW5uYWJsZUNvbmZpZy5ydW5JZFxuXHRcdH0pO1xuXHRcdGxldCBsbG1PdXRwdXQgPSB7fTtcblx0XHRpZiAobWlzc2luZ1Byb21wdEluZGljZXMubGVuZ3RoID4gMCkge1xuXHRcdFx0Y29uc3QgcmVzdWx0cyA9IGF3YWl0IHRoaXMuX2dlbmVyYXRlVW5jYWNoZWQobWlzc2luZ1Byb21wdEluZGljZXMubWFwKChpKSA9PiBwcm9tcHRzW2ldKSwgY2FsbE9wdGlvbnMsIHJ1bm5hYmxlQ29uZmlnLCBzdGFydGVkUnVuTWFuYWdlcnMgIT09IHZvaWQgMCA/IG1pc3NpbmdQcm9tcHRJbmRpY2VzLm1hcCgoaSkgPT4gc3RhcnRlZFJ1bk1hbmFnZXJzPy5baV0pIDogdm9pZCAwKTtcblx0XHRcdGF3YWl0IFByb21pc2UuYWxsKHJlc3VsdHMuZ2VuZXJhdGlvbnMubWFwKGFzeW5jIChnZW5lcmF0aW9uLCBpbmRleCkgPT4ge1xuXHRcdFx0XHRjb25zdCBwcm9tcHRJbmRleCA9IG1pc3NpbmdQcm9tcHRJbmRpY2VzW2luZGV4XTtcblx0XHRcdFx0Z2VuZXJhdGlvbnNbcHJvbXB0SW5kZXhdID0gZ2VuZXJhdGlvbjtcblx0XHRcdFx0cmV0dXJuIGNhY2hlLnVwZGF0ZShwcm9tcHRzW3Byb21wdEluZGV4XSwgbGxtU3RyaW5nS2V5LCBnZW5lcmF0aW9uKTtcblx0XHRcdH0pKTtcblx0XHRcdGxsbU91dHB1dCA9IHJlc3VsdHMubGxtT3V0cHV0ID8/IHt9O1xuXHRcdH1cblx0XHRyZXR1cm4ge1xuXHRcdFx0Z2VuZXJhdGlvbnMsXG5cdFx0XHRsbG1PdXRwdXRcblx0XHR9O1xuXHR9XG5cdC8qKlxuXHQqIEdldCB0aGUgaWRlbnRpZnlpbmcgcGFyYW1ldGVycyBvZiB0aGUgTExNLlxuXHQqL1xuXHRfaWRlbnRpZnlpbmdQYXJhbXMoKSB7XG5cdFx0cmV0dXJuIHt9O1xuXHR9XG5cdF9tb2RlbFR5cGUoKSB7XG5cdFx0cmV0dXJuIFwiYmFzZV9sbG1cIjtcblx0fVxufTtcbi8qKlxuKiBMTE0gY2xhc3MgdGhhdCBwcm92aWRlcyBhIHNpbXBsZXIgaW50ZXJmYWNlIHRvIHN1YmNsYXNzIHRoYW4ge0BsaW5rIEJhc2VMTE19LlxuKlxuKiBSZXF1aXJlcyBvbmx5IGltcGxlbWVudGluZyBhIHNpbXBsZXIge0BsaW5rIF9jYWxsfSBtZXRob2QgaW5zdGVhZCBvZiB7QGxpbmsgX2dlbmVyYXRlfS5cbipcbiogQGF1Z21lbnRzIEJhc2VMTE1cbiovXG52YXIgTExNID0gY2xhc3MgZXh0ZW5kcyBCYXNlTExNIHtcblx0YXN5bmMgX2dlbmVyYXRlKHByb21wdHMsIG9wdGlvbnMsIHJ1bk1hbmFnZXIpIHtcblx0XHRjb25zdCBnZW5lcmF0aW9ucyA9IGF3YWl0IFByb21pc2UuYWxsKHByb21wdHMubWFwKChwcm9tcHQsIHByb21wdEluZGV4KSA9PiB0aGlzLl9jYWxsKHByb21wdCwge1xuXHRcdFx0Li4ub3B0aW9ucyxcblx0XHRcdHByb21wdEluZGV4XG5cdFx0fSwgcnVuTWFuYWdlcikudGhlbigodGV4dCkgPT4gW3sgdGV4dCB9XSkpKTtcblx0XHRyZXR1cm4geyBnZW5lcmF0aW9ucyB9O1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEJhc2VMTE0sIExMTSwgbGxtc19leHBvcnRzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sbG1zLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/language_models/llms.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/language_models/utils.js":
/*!***************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/language_models/utils.js ***!
  \***************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   castStandardMessageContent: () => (/* binding */ castStandardMessageContent),\n/* harmony export */   iife: () => (/* binding */ iife)\n/* harmony export */ });\n//#region src/language_models/utils.ts\nconst iife = (fn) => fn();\nfunction castStandardMessageContent(message) {\n\tconst Cls = message.constructor;\n\treturn new Cls({\n\t\t...message,\n\t\tcontent: message.contentBlocks,\n\t\tresponse_metadata: {\n\t\t\t...message.response_metadata,\n\t\t\toutput_version: \"v1\"\n\t\t}\n\t});\n}\n\n//#endregion\n\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L2xhbmd1YWdlX21vZGVscy91dGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDNEM7QUFDNUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvbGFuZ3VhZ2VfbW9kZWxzL3V0aWxzLmpzP2UxMTgiXSwic291cmNlc0NvbnRlbnQiOlsiLy8jcmVnaW9uIHNyYy9sYW5ndWFnZV9tb2RlbHMvdXRpbHMudHNcbmNvbnN0IGlpZmUgPSAoZm4pID0+IGZuKCk7XG5mdW5jdGlvbiBjYXN0U3RhbmRhcmRNZXNzYWdlQ29udGVudChtZXNzYWdlKSB7XG5cdGNvbnN0IENscyA9IG1lc3NhZ2UuY29uc3RydWN0b3I7XG5cdHJldHVybiBuZXcgQ2xzKHtcblx0XHQuLi5tZXNzYWdlLFxuXHRcdGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudEJsb2Nrcyxcblx0XHRyZXNwb25zZV9tZXRhZGF0YToge1xuXHRcdFx0Li4ubWVzc2FnZS5yZXNwb25zZV9tZXRhZGF0YSxcblx0XHRcdG91dHB1dF92ZXJzaW9uOiBcInYxXCJcblx0XHR9XG5cdH0pO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IGNhc3RTdGFuZGFyZE1lc3NhZ2VDb250ZW50LCBpaWZlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/language_models/utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/load/map_keys.js":
/*!*******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/load/map_keys.js ***!
  \*******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   keyFromJson: () => (/* binding */ keyFromJson),\n/* harmony export */   keyToJson: () => (/* binding */ keyToJson),\n/* harmony export */   mapKeys: () => (/* binding */ mapKeys)\n/* harmony export */ });\n/* harmony import */ var decamelize__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! decamelize */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+decamelize@1.2.0/node_modules/decamelize/index.js\");\n/* harmony import */ var camelcase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! camelcase */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+camelcase@6.3.0/node_modules/camelcase/index.js\");\n\n\n\n//#region src/load/map_keys.ts\nfunction keyToJson(key, map) {\n\treturn map?.[key] || decamelize__WEBPACK_IMPORTED_MODULE_0__(key);\n}\nfunction keyFromJson(key, map) {\n\treturn map?.[key] || camelcase__WEBPACK_IMPORTED_MODULE_1__(key);\n}\nfunction mapKeys(fields, mapper, map) {\n\tconst mapped = {};\n\tfor (const key in fields) if (Object.hasOwn(fields, key)) mapped[mapper(key, map)] = fields[key];\n\treturn mapped;\n}\n\n//#endregion\n\n//# sourceMappingURL=map_keys.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L2xvYWQvbWFwX2tleXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBbUM7QUFDRDs7QUFFbEM7QUFDQTtBQUNBLHNCQUFzQix1Q0FBUztBQUMvQjtBQUNBO0FBQ0Esc0JBQXNCLHNDQUFTO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUMyQztBQUMzQyIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9sb2FkL21hcF9rZXlzLmpzPzY2MzgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHNuYWtlQ2FzZSBmcm9tIFwiZGVjYW1lbGl6ZVwiO1xuaW1wb3J0IGNhbWVsQ2FzZSBmcm9tIFwiY2FtZWxjYXNlXCI7XG5cbi8vI3JlZ2lvbiBzcmMvbG9hZC9tYXBfa2V5cy50c1xuZnVuY3Rpb24ga2V5VG9Kc29uKGtleSwgbWFwKSB7XG5cdHJldHVybiBtYXA/LltrZXldIHx8IHNuYWtlQ2FzZShrZXkpO1xufVxuZnVuY3Rpb24ga2V5RnJvbUpzb24oa2V5LCBtYXApIHtcblx0cmV0dXJuIG1hcD8uW2tleV0gfHwgY2FtZWxDYXNlKGtleSk7XG59XG5mdW5jdGlvbiBtYXBLZXlzKGZpZWxkcywgbWFwcGVyLCBtYXApIHtcblx0Y29uc3QgbWFwcGVkID0ge307XG5cdGZvciAoY29uc3Qga2V5IGluIGZpZWxkcykgaWYgKE9iamVjdC5oYXNPd24oZmllbGRzLCBrZXkpKSBtYXBwZWRbbWFwcGVyKGtleSwgbWFwKV0gPSBmaWVsZHNba2V5XTtcblx0cmV0dXJuIG1hcHBlZDtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBrZXlGcm9tSnNvbiwga2V5VG9Kc29uLCBtYXBLZXlzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXBfa2V5cy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/load/map_keys.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/load/serializable.js":
/*!***********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/load/serializable.js ***!
  \***********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Serializable: () => (/* binding */ Serializable),\n/* harmony export */   get_lc_unique_name: () => (/* binding */ get_lc_unique_name),\n/* harmony export */   serializable_exports: () => (/* binding */ serializable_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _map_keys_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./map_keys.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/load/map_keys.js\");\n/* harmony import */ var _validation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./validation.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/load/validation.js\");\n\n\n\n\n//#region src/load/serializable.ts\nvar serializable_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(serializable_exports, {\n\tSerializable: () => Serializable,\n\tget_lc_unique_name: () => get_lc_unique_name\n});\nfunction shallowCopy(obj) {\n\treturn Array.isArray(obj) ? [...obj] : { ...obj };\n}\nfunction replaceSecrets(root, secretsMap) {\n\tconst result = shallowCopy(root);\n\tfor (const [path, secretId] of Object.entries(secretsMap)) {\n\t\tconst [last, ...partsReverse] = path.split(\".\").reverse();\n\t\tlet current = result;\n\t\tfor (const part of partsReverse.reverse()) {\n\t\t\tif (current[part] === void 0) break;\n\t\t\tcurrent[part] = shallowCopy(current[part]);\n\t\t\tcurrent = current[part];\n\t\t}\n\t\tif (current[last] !== void 0) current[last] = {\n\t\t\tlc: 1,\n\t\t\ttype: \"secret\",\n\t\t\tid: [secretId]\n\t\t};\n\t}\n\treturn result;\n}\n/**\n* Get a unique name for the module, rather than parent class implementations.\n* Should not be subclassed, subclass lc_name above instead.\n*/\nfunction get_lc_unique_name(serializableClass) {\n\tconst parentClass = Object.getPrototypeOf(serializableClass);\n\tconst lcNameIsSubclassed = typeof serializableClass.lc_name === \"function\" && (typeof parentClass.lc_name !== \"function\" || serializableClass.lc_name() !== parentClass.lc_name());\n\tif (lcNameIsSubclassed) return serializableClass.lc_name();\n\telse return serializableClass.name;\n}\nvar Serializable = class Serializable {\n\tlc_serializable = false;\n\tlc_kwargs;\n\t/**\n\t* The name of the serializable. Override to provide an alias or\n\t* to preserve the serialized module name in minified environments.\n\t*\n\t* Implemented as a static method to support loading logic.\n\t*/\n\tstatic lc_name() {\n\t\treturn this.name;\n\t}\n\t/**\n\t* The final serialized identifier for the module.\n\t*/\n\tget lc_id() {\n\t\treturn [...this.lc_namespace, get_lc_unique_name(this.constructor)];\n\t}\n\t/**\n\t* A map of secrets, which will be omitted from serialization.\n\t* Keys are paths to the secret in constructor args, e.g. \"foo.bar.baz\".\n\t* Values are the secret ids, which will be used when deserializing.\n\t*/\n\tget lc_secrets() {\n\t\treturn void 0;\n\t}\n\t/**\n\t* A map of additional attributes to merge with constructor args.\n\t* Keys are the attribute names, e.g. \"foo\".\n\t* Values are the attribute values, which will be serialized.\n\t* These attributes need to be accepted by the constructor as arguments.\n\t*/\n\tget lc_attributes() {\n\t\treturn void 0;\n\t}\n\t/**\n\t* A map of aliases for constructor args.\n\t* Keys are the attribute names, e.g. \"foo\".\n\t* Values are the alias that will replace the key in serialization.\n\t* This is used to eg. make argument names match Python.\n\t*/\n\tget lc_aliases() {\n\t\treturn void 0;\n\t}\n\t/**\n\t* A manual list of keys that should be serialized.\n\t* If not overridden, all fields passed into the constructor will be serialized.\n\t*/\n\tget lc_serializable_keys() {\n\t\treturn void 0;\n\t}\n\tconstructor(kwargs, ..._args) {\n\t\tif (this.lc_serializable_keys !== void 0) this.lc_kwargs = Object.fromEntries(Object.entries(kwargs || {}).filter(([key]) => this.lc_serializable_keys?.includes(key)));\n\t\telse this.lc_kwargs = kwargs ?? {};\n\t}\n\ttoJSON() {\n\t\tif (!this.lc_serializable) return this.toJSONNotImplemented();\n\t\tif (this.lc_kwargs instanceof Serializable || typeof this.lc_kwargs !== \"object\" || Array.isArray(this.lc_kwargs)) return this.toJSONNotImplemented();\n\t\tconst aliases = {};\n\t\tconst secrets = {};\n\t\tconst kwargs = Object.keys(this.lc_kwargs).reduce((acc, key) => {\n\t\t\tacc[key] = key in this ? this[key] : this.lc_kwargs[key];\n\t\t\treturn acc;\n\t\t}, {});\n\t\tfor (let current = Object.getPrototypeOf(this); current; current = Object.getPrototypeOf(current)) {\n\t\t\tObject.assign(aliases, Reflect.get(current, \"lc_aliases\", this));\n\t\t\tObject.assign(secrets, Reflect.get(current, \"lc_secrets\", this));\n\t\t\tObject.assign(kwargs, Reflect.get(current, \"lc_attributes\", this));\n\t\t}\n\t\tObject.keys(secrets).forEach((keyPath) => {\n\t\t\tlet read = this;\n\t\t\tlet write = kwargs;\n\t\t\tconst [last, ...partsReverse] = keyPath.split(\".\").reverse();\n\t\t\tfor (const key of partsReverse.reverse()) {\n\t\t\t\tif (!(key in read) || read[key] === void 0) return;\n\t\t\t\tif (!(key in write) || write[key] === void 0) {\n\t\t\t\t\tif (typeof read[key] === \"object\" && read[key] != null) write[key] = {};\n\t\t\t\t\telse if (Array.isArray(read[key])) write[key] = [];\n\t\t\t\t}\n\t\t\t\tread = read[key];\n\t\t\t\twrite = write[key];\n\t\t\t}\n\t\t\tif (last in read && read[last] !== void 0) write[last] = write[last] || read[last];\n\t\t});\n\t\tconst escapedKwargs = {};\n\t\tconst pathSet = /* @__PURE__ */ new WeakSet();\n\t\tpathSet.add(this);\n\t\tfor (const [key, value] of Object.entries(kwargs)) escapedKwargs[key] = (0,_validation_js__WEBPACK_IMPORTED_MODULE_2__.escapeIfNeeded)(value, pathSet);\n\t\tconst kwargsWithSecrets = Object.keys(secrets).length ? replaceSecrets(escapedKwargs, secrets) : escapedKwargs;\n\t\tconst processedKwargs = (0,_map_keys_js__WEBPACK_IMPORTED_MODULE_1__.mapKeys)(kwargsWithSecrets, _map_keys_js__WEBPACK_IMPORTED_MODULE_1__.keyToJson, aliases);\n\t\treturn {\n\t\t\tlc: 1,\n\t\t\ttype: \"constructor\",\n\t\t\tid: this.lc_id,\n\t\t\tkwargs: processedKwargs\n\t\t};\n\t}\n\ttoJSONNotImplemented() {\n\t\treturn {\n\t\t\tlc: 1,\n\t\t\ttype: \"not_implemented\",\n\t\t\tid: this.lc_id\n\t\t};\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=serializable.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L2xvYWQvc2VyaWFsaXphYmxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUEyRDtBQUNSO0FBQ0Y7O0FBRWpEO0FBQ0E7QUFDQSxzRUFBUTtBQUNSO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkdBQTJHO0FBQzNHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxJQUFJO0FBQ1Asa0RBQWtELFNBQVM7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLDBFQUEwRSw4REFBYztBQUN4RjtBQUNBLDBCQUEwQixxREFBTyxvQkFBb0IsbURBQVM7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ2tFO0FBQ2xFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L2xvYWQvc2VyaWFsaXphYmxlLmpzPzNjYTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19leHBvcnQgfSBmcm9tIFwiLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5qc1wiO1xuaW1wb3J0IHsga2V5VG9Kc29uLCBtYXBLZXlzIH0gZnJvbSBcIi4vbWFwX2tleXMuanNcIjtcbmltcG9ydCB7IGVzY2FwZUlmTmVlZGVkIH0gZnJvbSBcIi4vdmFsaWRhdGlvbi5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL2xvYWQvc2VyaWFsaXphYmxlLnRzXG52YXIgc2VyaWFsaXphYmxlX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KHNlcmlhbGl6YWJsZV9leHBvcnRzLCB7XG5cdFNlcmlhbGl6YWJsZTogKCkgPT4gU2VyaWFsaXphYmxlLFxuXHRnZXRfbGNfdW5pcXVlX25hbWU6ICgpID0+IGdldF9sY191bmlxdWVfbmFtZVxufSk7XG5mdW5jdGlvbiBzaGFsbG93Q29weShvYmopIHtcblx0cmV0dXJuIEFycmF5LmlzQXJyYXkob2JqKSA/IFsuLi5vYmpdIDogeyAuLi5vYmogfTtcbn1cbmZ1bmN0aW9uIHJlcGxhY2VTZWNyZXRzKHJvb3QsIHNlY3JldHNNYXApIHtcblx0Y29uc3QgcmVzdWx0ID0gc2hhbGxvd0NvcHkocm9vdCk7XG5cdGZvciAoY29uc3QgW3BhdGgsIHNlY3JldElkXSBvZiBPYmplY3QuZW50cmllcyhzZWNyZXRzTWFwKSkge1xuXHRcdGNvbnN0IFtsYXN0LCAuLi5wYXJ0c1JldmVyc2VdID0gcGF0aC5zcGxpdChcIi5cIikucmV2ZXJzZSgpO1xuXHRcdGxldCBjdXJyZW50ID0gcmVzdWx0O1xuXHRcdGZvciAoY29uc3QgcGFydCBvZiBwYXJ0c1JldmVyc2UucmV2ZXJzZSgpKSB7XG5cdFx0XHRpZiAoY3VycmVudFtwYXJ0XSA9PT0gdm9pZCAwKSBicmVhaztcblx0XHRcdGN1cnJlbnRbcGFydF0gPSBzaGFsbG93Q29weShjdXJyZW50W3BhcnRdKTtcblx0XHRcdGN1cnJlbnQgPSBjdXJyZW50W3BhcnRdO1xuXHRcdH1cblx0XHRpZiAoY3VycmVudFtsYXN0XSAhPT0gdm9pZCAwKSBjdXJyZW50W2xhc3RdID0ge1xuXHRcdFx0bGM6IDEsXG5cdFx0XHR0eXBlOiBcInNlY3JldFwiLFxuXHRcdFx0aWQ6IFtzZWNyZXRJZF1cblx0XHR9O1xuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59XG4vKipcbiogR2V0IGEgdW5pcXVlIG5hbWUgZm9yIHRoZSBtb2R1bGUsIHJhdGhlciB0aGFuIHBhcmVudCBjbGFzcyBpbXBsZW1lbnRhdGlvbnMuXG4qIFNob3VsZCBub3QgYmUgc3ViY2xhc3NlZCwgc3ViY2xhc3MgbGNfbmFtZSBhYm92ZSBpbnN0ZWFkLlxuKi9cbmZ1bmN0aW9uIGdldF9sY191bmlxdWVfbmFtZShzZXJpYWxpemFibGVDbGFzcykge1xuXHRjb25zdCBwYXJlbnRDbGFzcyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihzZXJpYWxpemFibGVDbGFzcyk7XG5cdGNvbnN0IGxjTmFtZUlzU3ViY2xhc3NlZCA9IHR5cGVvZiBzZXJpYWxpemFibGVDbGFzcy5sY19uYW1lID09PSBcImZ1bmN0aW9uXCIgJiYgKHR5cGVvZiBwYXJlbnRDbGFzcy5sY19uYW1lICE9PSBcImZ1bmN0aW9uXCIgfHwgc2VyaWFsaXphYmxlQ2xhc3MubGNfbmFtZSgpICE9PSBwYXJlbnRDbGFzcy5sY19uYW1lKCkpO1xuXHRpZiAobGNOYW1lSXNTdWJjbGFzc2VkKSByZXR1cm4gc2VyaWFsaXphYmxlQ2xhc3MubGNfbmFtZSgpO1xuXHRlbHNlIHJldHVybiBzZXJpYWxpemFibGVDbGFzcy5uYW1lO1xufVxudmFyIFNlcmlhbGl6YWJsZSA9IGNsYXNzIFNlcmlhbGl6YWJsZSB7XG5cdGxjX3NlcmlhbGl6YWJsZSA9IGZhbHNlO1xuXHRsY19rd2FyZ3M7XG5cdC8qKlxuXHQqIFRoZSBuYW1lIG9mIHRoZSBzZXJpYWxpemFibGUuIE92ZXJyaWRlIHRvIHByb3ZpZGUgYW4gYWxpYXMgb3Jcblx0KiB0byBwcmVzZXJ2ZSB0aGUgc2VyaWFsaXplZCBtb2R1bGUgbmFtZSBpbiBtaW5pZmllZCBlbnZpcm9ubWVudHMuXG5cdCpcblx0KiBJbXBsZW1lbnRlZCBhcyBhIHN0YXRpYyBtZXRob2QgdG8gc3VwcG9ydCBsb2FkaW5nIGxvZ2ljLlxuXHQqL1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gdGhpcy5uYW1lO1xuXHR9XG5cdC8qKlxuXHQqIFRoZSBmaW5hbCBzZXJpYWxpemVkIGlkZW50aWZpZXIgZm9yIHRoZSBtb2R1bGUuXG5cdCovXG5cdGdldCBsY19pZCgpIHtcblx0XHRyZXR1cm4gWy4uLnRoaXMubGNfbmFtZXNwYWNlLCBnZXRfbGNfdW5pcXVlX25hbWUodGhpcy5jb25zdHJ1Y3RvcildO1xuXHR9XG5cdC8qKlxuXHQqIEEgbWFwIG9mIHNlY3JldHMsIHdoaWNoIHdpbGwgYmUgb21pdHRlZCBmcm9tIHNlcmlhbGl6YXRpb24uXG5cdCogS2V5cyBhcmUgcGF0aHMgdG8gdGhlIHNlY3JldCBpbiBjb25zdHJ1Y3RvciBhcmdzLCBlLmcuIFwiZm9vLmJhci5iYXpcIi5cblx0KiBWYWx1ZXMgYXJlIHRoZSBzZWNyZXQgaWRzLCB3aGljaCB3aWxsIGJlIHVzZWQgd2hlbiBkZXNlcmlhbGl6aW5nLlxuXHQqL1xuXHRnZXQgbGNfc2VjcmV0cygpIHtcblx0XHRyZXR1cm4gdm9pZCAwO1xuXHR9XG5cdC8qKlxuXHQqIEEgbWFwIG9mIGFkZGl0aW9uYWwgYXR0cmlidXRlcyB0byBtZXJnZSB3aXRoIGNvbnN0cnVjdG9yIGFyZ3MuXG5cdCogS2V5cyBhcmUgdGhlIGF0dHJpYnV0ZSBuYW1lcywgZS5nLiBcImZvb1wiLlxuXHQqIFZhbHVlcyBhcmUgdGhlIGF0dHJpYnV0ZSB2YWx1ZXMsIHdoaWNoIHdpbGwgYmUgc2VyaWFsaXplZC5cblx0KiBUaGVzZSBhdHRyaWJ1dGVzIG5lZWQgdG8gYmUgYWNjZXB0ZWQgYnkgdGhlIGNvbnN0cnVjdG9yIGFzIGFyZ3VtZW50cy5cblx0Ki9cblx0Z2V0IGxjX2F0dHJpYnV0ZXMoKSB7XG5cdFx0cmV0dXJuIHZvaWQgMDtcblx0fVxuXHQvKipcblx0KiBBIG1hcCBvZiBhbGlhc2VzIGZvciBjb25zdHJ1Y3RvciBhcmdzLlxuXHQqIEtleXMgYXJlIHRoZSBhdHRyaWJ1dGUgbmFtZXMsIGUuZy4gXCJmb29cIi5cblx0KiBWYWx1ZXMgYXJlIHRoZSBhbGlhcyB0aGF0IHdpbGwgcmVwbGFjZSB0aGUga2V5IGluIHNlcmlhbGl6YXRpb24uXG5cdCogVGhpcyBpcyB1c2VkIHRvIGVnLiBtYWtlIGFyZ3VtZW50IG5hbWVzIG1hdGNoIFB5dGhvbi5cblx0Ki9cblx0Z2V0IGxjX2FsaWFzZXMoKSB7XG5cdFx0cmV0dXJuIHZvaWQgMDtcblx0fVxuXHQvKipcblx0KiBBIG1hbnVhbCBsaXN0IG9mIGtleXMgdGhhdCBzaG91bGQgYmUgc2VyaWFsaXplZC5cblx0KiBJZiBub3Qgb3ZlcnJpZGRlbiwgYWxsIGZpZWxkcyBwYXNzZWQgaW50byB0aGUgY29uc3RydWN0b3Igd2lsbCBiZSBzZXJpYWxpemVkLlxuXHQqL1xuXHRnZXQgbGNfc2VyaWFsaXphYmxlX2tleXMoKSB7XG5cdFx0cmV0dXJuIHZvaWQgMDtcblx0fVxuXHRjb25zdHJ1Y3Rvcihrd2FyZ3MsIC4uLl9hcmdzKSB7XG5cdFx0aWYgKHRoaXMubGNfc2VyaWFsaXphYmxlX2tleXMgIT09IHZvaWQgMCkgdGhpcy5sY19rd2FyZ3MgPSBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMoa3dhcmdzIHx8IHt9KS5maWx0ZXIoKFtrZXldKSA9PiB0aGlzLmxjX3NlcmlhbGl6YWJsZV9rZXlzPy5pbmNsdWRlcyhrZXkpKSk7XG5cdFx0ZWxzZSB0aGlzLmxjX2t3YXJncyA9IGt3YXJncyA/PyB7fTtcblx0fVxuXHR0b0pTT04oKSB7XG5cdFx0aWYgKCF0aGlzLmxjX3NlcmlhbGl6YWJsZSkgcmV0dXJuIHRoaXMudG9KU09OTm90SW1wbGVtZW50ZWQoKTtcblx0XHRpZiAodGhpcy5sY19rd2FyZ3MgaW5zdGFuY2VvZiBTZXJpYWxpemFibGUgfHwgdHlwZW9mIHRoaXMubGNfa3dhcmdzICE9PSBcIm9iamVjdFwiIHx8IEFycmF5LmlzQXJyYXkodGhpcy5sY19rd2FyZ3MpKSByZXR1cm4gdGhpcy50b0pTT05Ob3RJbXBsZW1lbnRlZCgpO1xuXHRcdGNvbnN0IGFsaWFzZXMgPSB7fTtcblx0XHRjb25zdCBzZWNyZXRzID0ge307XG5cdFx0Y29uc3Qga3dhcmdzID0gT2JqZWN0LmtleXModGhpcy5sY19rd2FyZ3MpLnJlZHVjZSgoYWNjLCBrZXkpID0+IHtcblx0XHRcdGFjY1trZXldID0ga2V5IGluIHRoaXMgPyB0aGlzW2tleV0gOiB0aGlzLmxjX2t3YXJnc1trZXldO1xuXHRcdFx0cmV0dXJuIGFjYztcblx0XHR9LCB7fSk7XG5cdFx0Zm9yIChsZXQgY3VycmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKTsgY3VycmVudDsgY3VycmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihjdXJyZW50KSkge1xuXHRcdFx0T2JqZWN0LmFzc2lnbihhbGlhc2VzLCBSZWZsZWN0LmdldChjdXJyZW50LCBcImxjX2FsaWFzZXNcIiwgdGhpcykpO1xuXHRcdFx0T2JqZWN0LmFzc2lnbihzZWNyZXRzLCBSZWZsZWN0LmdldChjdXJyZW50LCBcImxjX3NlY3JldHNcIiwgdGhpcykpO1xuXHRcdFx0T2JqZWN0LmFzc2lnbihrd2FyZ3MsIFJlZmxlY3QuZ2V0KGN1cnJlbnQsIFwibGNfYXR0cmlidXRlc1wiLCB0aGlzKSk7XG5cdFx0fVxuXHRcdE9iamVjdC5rZXlzKHNlY3JldHMpLmZvckVhY2goKGtleVBhdGgpID0+IHtcblx0XHRcdGxldCByZWFkID0gdGhpcztcblx0XHRcdGxldCB3cml0ZSA9IGt3YXJncztcblx0XHRcdGNvbnN0IFtsYXN0LCAuLi5wYXJ0c1JldmVyc2VdID0ga2V5UGF0aC5zcGxpdChcIi5cIikucmV2ZXJzZSgpO1xuXHRcdFx0Zm9yIChjb25zdCBrZXkgb2YgcGFydHNSZXZlcnNlLnJldmVyc2UoKSkge1xuXHRcdFx0XHRpZiAoIShrZXkgaW4gcmVhZCkgfHwgcmVhZFtrZXldID09PSB2b2lkIDApIHJldHVybjtcblx0XHRcdFx0aWYgKCEoa2V5IGluIHdyaXRlKSB8fCB3cml0ZVtrZXldID09PSB2b2lkIDApIHtcblx0XHRcdFx0XHRpZiAodHlwZW9mIHJlYWRba2V5XSA9PT0gXCJvYmplY3RcIiAmJiByZWFkW2tleV0gIT0gbnVsbCkgd3JpdGVba2V5XSA9IHt9O1xuXHRcdFx0XHRcdGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocmVhZFtrZXldKSkgd3JpdGVba2V5XSA9IFtdO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJlYWQgPSByZWFkW2tleV07XG5cdFx0XHRcdHdyaXRlID0gd3JpdGVba2V5XTtcblx0XHRcdH1cblx0XHRcdGlmIChsYXN0IGluIHJlYWQgJiYgcmVhZFtsYXN0XSAhPT0gdm9pZCAwKSB3cml0ZVtsYXN0XSA9IHdyaXRlW2xhc3RdIHx8IHJlYWRbbGFzdF07XG5cdFx0fSk7XG5cdFx0Y29uc3QgZXNjYXBlZEt3YXJncyA9IHt9O1xuXHRcdGNvbnN0IHBhdGhTZXQgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtTZXQoKTtcblx0XHRwYXRoU2V0LmFkZCh0aGlzKTtcblx0XHRmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhrd2FyZ3MpKSBlc2NhcGVkS3dhcmdzW2tleV0gPSBlc2NhcGVJZk5lZWRlZCh2YWx1ZSwgcGF0aFNldCk7XG5cdFx0Y29uc3Qga3dhcmdzV2l0aFNlY3JldHMgPSBPYmplY3Qua2V5cyhzZWNyZXRzKS5sZW5ndGggPyByZXBsYWNlU2VjcmV0cyhlc2NhcGVkS3dhcmdzLCBzZWNyZXRzKSA6IGVzY2FwZWRLd2FyZ3M7XG5cdFx0Y29uc3QgcHJvY2Vzc2VkS3dhcmdzID0gbWFwS2V5cyhrd2FyZ3NXaXRoU2VjcmV0cywga2V5VG9Kc29uLCBhbGlhc2VzKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0bGM6IDEsXG5cdFx0XHR0eXBlOiBcImNvbnN0cnVjdG9yXCIsXG5cdFx0XHRpZDogdGhpcy5sY19pZCxcblx0XHRcdGt3YXJnczogcHJvY2Vzc2VkS3dhcmdzXG5cdFx0fTtcblx0fVxuXHR0b0pTT05Ob3RJbXBsZW1lbnRlZCgpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0bGM6IDEsXG5cdFx0XHR0eXBlOiBcIm5vdF9pbXBsZW1lbnRlZFwiLFxuXHRcdFx0aWQ6IHRoaXMubGNfaWRcblx0XHR9O1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IFNlcmlhbGl6YWJsZSwgZ2V0X2xjX3VuaXF1ZV9uYW1lLCBzZXJpYWxpemFibGVfZXhwb3J0cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VyaWFsaXphYmxlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/load/serializable.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/load/validation.js":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/load/validation.js ***!
  \*********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   escapeIfNeeded: () => (/* binding */ escapeIfNeeded),\n/* harmony export */   isEscapedObject: () => (/* binding */ isEscapedObject),\n/* harmony export */   unescapeValue: () => (/* binding */ unescapeValue)\n/* harmony export */ });\n//#region src/load/validation.ts\n/**\n* Sentinel key used to mark escaped user objects during serialization.\n*\n* When a plain object contains 'lc' key (which could be confused with LC objects),\n* we wrap it as `{\"__lc_escaped__\": {...original...}}`.\n*/\nconst LC_ESCAPED_KEY = \"__lc_escaped__\";\n/**\n* Check if an object needs escaping to prevent confusion with LC objects.\n*\n* An object needs escaping if:\n* 1. It has an `'lc'` key (could be confused with LC serialization format)\n* 2. It has only the escape key (would be mistaken for an escaped object)\n*/\nfunction needsEscaping(obj) {\n\treturn \"lc\" in obj || Object.keys(obj).length === 1 && LC_ESCAPED_KEY in obj;\n}\n/**\n* Wrap an object in the escape marker.\n*\n* @example\n* ```typescript\n* {\"key\": \"value\"}  // becomes {\"__lc_escaped__\": {\"key\": \"value\"}}\n* ```\n*/\nfunction escapeObject(obj) {\n\treturn { [LC_ESCAPED_KEY]: obj };\n}\n/**\n* Check if an object is an escaped user object.\n*\n* @example\n* ```typescript\n* {\"__lc_escaped__\": {...}}  // is an escaped object\n* ```\n*/\nfunction isEscapedObject(obj) {\n\treturn Object.keys(obj).length === 1 && LC_ESCAPED_KEY in obj;\n}\n/**\n* Check if an object looks like a Serializable instance (duck typing).\n*/\nfunction isSerializableLike(obj) {\n\treturn obj !== null && typeof obj === \"object\" && \"lc_serializable\" in obj && typeof obj.toJSON === \"function\";\n}\n/**\n* Create a \"not_implemented\" serialization result for objects that cannot be serialized.\n*/\nfunction createNotImplemented(obj) {\n\tlet id;\n\tif (obj !== null && typeof obj === \"object\") if (\"lc_id\" in obj && Array.isArray(obj.lc_id)) id = obj.lc_id;\n\telse id = [obj.constructor?.name ?? \"Object\"];\n\telse id = [typeof obj];\n\treturn {\n\t\tlc: 1,\n\t\ttype: \"not_implemented\",\n\t\tid\n\t};\n}\n/**\n* Escape a value if it needs escaping (contains `lc` key).\n*\n* This is a simpler version of `serializeValue` that doesn't handle Serializable\n* objects - it's meant to be called on kwargs values that have already been\n* processed by `toJSON()`.\n*\n* @param value - The value to potentially escape.\n* @param pathSet - WeakSet to track ancestor objects in the current path to detect circular references.\n*                  Objects are removed after processing to allow shared references (same object in\n*                  multiple places) while still detecting true circular references (ancestor in descendant).\n* @returns The value with any `lc`-containing objects wrapped in escape markers.\n*/\nfunction escapeIfNeeded(value, pathSet = /* @__PURE__ */ new WeakSet()) {\n\tif (value !== null && typeof value === \"object\" && !Array.isArray(value)) {\n\t\tif (pathSet.has(value)) return createNotImplemented(value);\n\t\tif (isSerializableLike(value)) return value;\n\t\tpathSet.add(value);\n\t\tconst record = value;\n\t\tif (needsEscaping(record)) {\n\t\t\tpathSet.delete(value);\n\t\t\treturn escapeObject(record);\n\t\t}\n\t\tconst result = {};\n\t\tfor (const [key, val] of Object.entries(record)) result[key] = escapeIfNeeded(val, pathSet);\n\t\tpathSet.delete(value);\n\t\treturn result;\n\t}\n\tif (Array.isArray(value)) return value.map((item) => escapeIfNeeded(item, pathSet));\n\treturn value;\n}\n/**\n* Unescape a value, processing escape markers in object values and arrays.\n*\n* When an escaped object is encountered (`{\"__lc_escaped__\": ...}`), it's\n* unwrapped and the contents are returned AS-IS (no further processing).\n* The contents represent user data that should not be modified.\n*\n* For regular objects and arrays, we recurse to find any nested escape markers.\n*\n* @param obj - The value to unescape.\n* @returns The unescaped value.\n*/\nfunction unescapeValue(obj) {\n\tif (obj !== null && typeof obj === \"object\" && !Array.isArray(obj)) {\n\t\tconst record = obj;\n\t\tif (isEscapedObject(record)) return record[LC_ESCAPED_KEY];\n\t\tconst result = {};\n\t\tfor (const [key, value] of Object.entries(record)) result[key] = unescapeValue(value);\n\t\treturn result;\n\t}\n\tif (Array.isArray(obj)) return obj.map((item) => unescapeValue(item));\n\treturn obj;\n}\n\n//#endregion\n\n//# sourceMappingURL=validation.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L2xvYWQvdmFsaWRhdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLG1CQUFtQixnQkFBZ0I7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsaUJBQWlCLFlBQVksbUJBQW1CO0FBQ25EO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLG1CQUFtQixPQUFPO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsc0JBQXNCO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQzBEO0FBQzFEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L2xvYWQvdmFsaWRhdGlvbi5qcz81MmY2Il0sInNvdXJjZXNDb250ZW50IjpbIi8vI3JlZ2lvbiBzcmMvbG9hZC92YWxpZGF0aW9uLnRzXG4vKipcbiogU2VudGluZWwga2V5IHVzZWQgdG8gbWFyayBlc2NhcGVkIHVzZXIgb2JqZWN0cyBkdXJpbmcgc2VyaWFsaXphdGlvbi5cbipcbiogV2hlbiBhIHBsYWluIG9iamVjdCBjb250YWlucyAnbGMnIGtleSAod2hpY2ggY291bGQgYmUgY29uZnVzZWQgd2l0aCBMQyBvYmplY3RzKSxcbiogd2Ugd3JhcCBpdCBhcyBge1wiX19sY19lc2NhcGVkX19cIjogey4uLm9yaWdpbmFsLi4ufX1gLlxuKi9cbmNvbnN0IExDX0VTQ0FQRURfS0VZID0gXCJfX2xjX2VzY2FwZWRfX1wiO1xuLyoqXG4qIENoZWNrIGlmIGFuIG9iamVjdCBuZWVkcyBlc2NhcGluZyB0byBwcmV2ZW50IGNvbmZ1c2lvbiB3aXRoIExDIG9iamVjdHMuXG4qXG4qIEFuIG9iamVjdCBuZWVkcyBlc2NhcGluZyBpZjpcbiogMS4gSXQgaGFzIGFuIGAnbGMnYCBrZXkgKGNvdWxkIGJlIGNvbmZ1c2VkIHdpdGggTEMgc2VyaWFsaXphdGlvbiBmb3JtYXQpXG4qIDIuIEl0IGhhcyBvbmx5IHRoZSBlc2NhcGUga2V5ICh3b3VsZCBiZSBtaXN0YWtlbiBmb3IgYW4gZXNjYXBlZCBvYmplY3QpXG4qL1xuZnVuY3Rpb24gbmVlZHNFc2NhcGluZyhvYmopIHtcblx0cmV0dXJuIFwibGNcIiBpbiBvYmogfHwgT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPT09IDEgJiYgTENfRVNDQVBFRF9LRVkgaW4gb2JqO1xufVxuLyoqXG4qIFdyYXAgYW4gb2JqZWN0IGluIHRoZSBlc2NhcGUgbWFya2VyLlxuKlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIHtcImtleVwiOiBcInZhbHVlXCJ9ICAvLyBiZWNvbWVzIHtcIl9fbGNfZXNjYXBlZF9fXCI6IHtcImtleVwiOiBcInZhbHVlXCJ9fVxuKiBgYGBcbiovXG5mdW5jdGlvbiBlc2NhcGVPYmplY3Qob2JqKSB7XG5cdHJldHVybiB7IFtMQ19FU0NBUEVEX0tFWV06IG9iaiB9O1xufVxuLyoqXG4qIENoZWNrIGlmIGFuIG9iamVjdCBpcyBhbiBlc2NhcGVkIHVzZXIgb2JqZWN0LlxuKlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIHtcIl9fbGNfZXNjYXBlZF9fXCI6IHsuLi59fSAgLy8gaXMgYW4gZXNjYXBlZCBvYmplY3RcbiogYGBgXG4qL1xuZnVuY3Rpb24gaXNFc2NhcGVkT2JqZWN0KG9iaikge1xuXHRyZXR1cm4gT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPT09IDEgJiYgTENfRVNDQVBFRF9LRVkgaW4gb2JqO1xufVxuLyoqXG4qIENoZWNrIGlmIGFuIG9iamVjdCBsb29rcyBsaWtlIGEgU2VyaWFsaXphYmxlIGluc3RhbmNlIChkdWNrIHR5cGluZykuXG4qL1xuZnVuY3Rpb24gaXNTZXJpYWxpemFibGVMaWtlKG9iaikge1xuXHRyZXR1cm4gb2JqICE9PSBudWxsICYmIHR5cGVvZiBvYmogPT09IFwib2JqZWN0XCIgJiYgXCJsY19zZXJpYWxpemFibGVcIiBpbiBvYmogJiYgdHlwZW9mIG9iai50b0pTT04gPT09IFwiZnVuY3Rpb25cIjtcbn1cbi8qKlxuKiBDcmVhdGUgYSBcIm5vdF9pbXBsZW1lbnRlZFwiIHNlcmlhbGl6YXRpb24gcmVzdWx0IGZvciBvYmplY3RzIHRoYXQgY2Fubm90IGJlIHNlcmlhbGl6ZWQuXG4qL1xuZnVuY3Rpb24gY3JlYXRlTm90SW1wbGVtZW50ZWQob2JqKSB7XG5cdGxldCBpZDtcblx0aWYgKG9iaiAhPT0gbnVsbCAmJiB0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiKSBpZiAoXCJsY19pZFwiIGluIG9iaiAmJiBBcnJheS5pc0FycmF5KG9iai5sY19pZCkpIGlkID0gb2JqLmxjX2lkO1xuXHRlbHNlIGlkID0gW29iai5jb25zdHJ1Y3Rvcj8ubmFtZSA/PyBcIk9iamVjdFwiXTtcblx0ZWxzZSBpZCA9IFt0eXBlb2Ygb2JqXTtcblx0cmV0dXJuIHtcblx0XHRsYzogMSxcblx0XHR0eXBlOiBcIm5vdF9pbXBsZW1lbnRlZFwiLFxuXHRcdGlkXG5cdH07XG59XG4vKipcbiogRXNjYXBlIGEgdmFsdWUgaWYgaXQgbmVlZHMgZXNjYXBpbmcgKGNvbnRhaW5zIGBsY2Aga2V5KS5cbipcbiogVGhpcyBpcyBhIHNpbXBsZXIgdmVyc2lvbiBvZiBgc2VyaWFsaXplVmFsdWVgIHRoYXQgZG9lc24ndCBoYW5kbGUgU2VyaWFsaXphYmxlXG4qIG9iamVjdHMgLSBpdCdzIG1lYW50IHRvIGJlIGNhbGxlZCBvbiBrd2FyZ3MgdmFsdWVzIHRoYXQgaGF2ZSBhbHJlYWR5IGJlZW5cbiogcHJvY2Vzc2VkIGJ5IGB0b0pTT04oKWAuXG4qXG4qIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBwb3RlbnRpYWxseSBlc2NhcGUuXG4qIEBwYXJhbSBwYXRoU2V0IC0gV2Vha1NldCB0byB0cmFjayBhbmNlc3RvciBvYmplY3RzIGluIHRoZSBjdXJyZW50IHBhdGggdG8gZGV0ZWN0IGNpcmN1bGFyIHJlZmVyZW5jZXMuXG4qICAgICAgICAgICAgICAgICAgT2JqZWN0cyBhcmUgcmVtb3ZlZCBhZnRlciBwcm9jZXNzaW5nIHRvIGFsbG93IHNoYXJlZCByZWZlcmVuY2VzIChzYW1lIG9iamVjdCBpblxuKiAgICAgICAgICAgICAgICAgIG11bHRpcGxlIHBsYWNlcykgd2hpbGUgc3RpbGwgZGV0ZWN0aW5nIHRydWUgY2lyY3VsYXIgcmVmZXJlbmNlcyAoYW5jZXN0b3IgaW4gZGVzY2VuZGFudCkuXG4qIEByZXR1cm5zIFRoZSB2YWx1ZSB3aXRoIGFueSBgbGNgLWNvbnRhaW5pbmcgb2JqZWN0cyB3cmFwcGVkIGluIGVzY2FwZSBtYXJrZXJzLlxuKi9cbmZ1bmN0aW9uIGVzY2FwZUlmTmVlZGVkKHZhbHVlLCBwYXRoU2V0ID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrU2V0KCkpIHtcblx0aWYgKHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcblx0XHRpZiAocGF0aFNldC5oYXModmFsdWUpKSByZXR1cm4gY3JlYXRlTm90SW1wbGVtZW50ZWQodmFsdWUpO1xuXHRcdGlmIChpc1NlcmlhbGl6YWJsZUxpa2UodmFsdWUpKSByZXR1cm4gdmFsdWU7XG5cdFx0cGF0aFNldC5hZGQodmFsdWUpO1xuXHRcdGNvbnN0IHJlY29yZCA9IHZhbHVlO1xuXHRcdGlmIChuZWVkc0VzY2FwaW5nKHJlY29yZCkpIHtcblx0XHRcdHBhdGhTZXQuZGVsZXRlKHZhbHVlKTtcblx0XHRcdHJldHVybiBlc2NhcGVPYmplY3QocmVjb3JkKTtcblx0XHR9XG5cdFx0Y29uc3QgcmVzdWx0ID0ge307XG5cdFx0Zm9yIChjb25zdCBba2V5LCB2YWxdIG9mIE9iamVjdC5lbnRyaWVzKHJlY29yZCkpIHJlc3VsdFtrZXldID0gZXNjYXBlSWZOZWVkZWQodmFsLCBwYXRoU2V0KTtcblx0XHRwYXRoU2V0LmRlbGV0ZSh2YWx1ZSk7XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fVxuXHRpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHJldHVybiB2YWx1ZS5tYXAoKGl0ZW0pID0+IGVzY2FwZUlmTmVlZGVkKGl0ZW0sIHBhdGhTZXQpKTtcblx0cmV0dXJuIHZhbHVlO1xufVxuLyoqXG4qIFVuZXNjYXBlIGEgdmFsdWUsIHByb2Nlc3NpbmcgZXNjYXBlIG1hcmtlcnMgaW4gb2JqZWN0IHZhbHVlcyBhbmQgYXJyYXlzLlxuKlxuKiBXaGVuIGFuIGVzY2FwZWQgb2JqZWN0IGlzIGVuY291bnRlcmVkIChge1wiX19sY19lc2NhcGVkX19cIjogLi4ufWApLCBpdCdzXG4qIHVud3JhcHBlZCBhbmQgdGhlIGNvbnRlbnRzIGFyZSByZXR1cm5lZCBBUy1JUyAobm8gZnVydGhlciBwcm9jZXNzaW5nKS5cbiogVGhlIGNvbnRlbnRzIHJlcHJlc2VudCB1c2VyIGRhdGEgdGhhdCBzaG91bGQgbm90IGJlIG1vZGlmaWVkLlxuKlxuKiBGb3IgcmVndWxhciBvYmplY3RzIGFuZCBhcnJheXMsIHdlIHJlY3Vyc2UgdG8gZmluZCBhbnkgbmVzdGVkIGVzY2FwZSBtYXJrZXJzLlxuKlxuKiBAcGFyYW0gb2JqIC0gVGhlIHZhbHVlIHRvIHVuZXNjYXBlLlxuKiBAcmV0dXJucyBUaGUgdW5lc2NhcGVkIHZhbHVlLlxuKi9cbmZ1bmN0aW9uIHVuZXNjYXBlVmFsdWUob2JqKSB7XG5cdGlmIChvYmogIT09IG51bGwgJiYgdHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIiAmJiAhQXJyYXkuaXNBcnJheShvYmopKSB7XG5cdFx0Y29uc3QgcmVjb3JkID0gb2JqO1xuXHRcdGlmIChpc0VzY2FwZWRPYmplY3QocmVjb3JkKSkgcmV0dXJuIHJlY29yZFtMQ19FU0NBUEVEX0tFWV07XG5cdFx0Y29uc3QgcmVzdWx0ID0ge307XG5cdFx0Zm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMocmVjb3JkKSkgcmVzdWx0W2tleV0gPSB1bmVzY2FwZVZhbHVlKHZhbHVlKTtcblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cdGlmIChBcnJheS5pc0FycmF5KG9iaikpIHJldHVybiBvYmoubWFwKChpdGVtKSA9PiB1bmVzY2FwZVZhbHVlKGl0ZW0pKTtcblx0cmV0dXJuIG9iajtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBlc2NhcGVJZk5lZWRlZCwgaXNFc2NhcGVkT2JqZWN0LCB1bmVzY2FwZVZhbHVlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD12YWxpZGF0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/load/validation.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/ai.js":
/*!*****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/ai.js ***!
  \*****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AIMessage: () => (/* binding */ AIMessage),\n/* harmony export */   AIMessageChunk: () => (/* binding */ AIMessageChunk),\n/* harmony export */   isAIMessage: () => (/* binding */ isAIMessage),\n/* harmony export */   isAIMessageChunk: () => (/* binding */ isAIMessageChunk)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/base.js\");\n/* harmony import */ var _block_translators_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./block_translators/index.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/index.js\");\n/* harmony import */ var _metadata_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./metadata.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/metadata.js\");\n/* harmony import */ var _tool_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./tool.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/tool.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/utils.js\");\n\n\n\n\n\n\n//#region src/messages/ai.ts\nvar AIMessage = class extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseMessage {\n\ttype = \"ai\";\n\ttool_calls = [];\n\tinvalid_tool_calls = [];\n\tusage_metadata;\n\tget lc_aliases() {\n\t\treturn {\n\t\t\t...super.lc_aliases,\n\t\t\ttool_calls: \"tool_calls\",\n\t\t\tinvalid_tool_calls: \"invalid_tool_calls\"\n\t\t};\n\t}\n\tconstructor(fields) {\n\t\tlet initParams;\n\t\tif (typeof fields === \"string\" || Array.isArray(fields)) initParams = {\n\t\t\tcontent: fields,\n\t\t\ttool_calls: [],\n\t\t\tinvalid_tool_calls: [],\n\t\t\tadditional_kwargs: {}\n\t\t};\n\t\telse {\n\t\t\tinitParams = fields;\n\t\t\tconst rawToolCalls = initParams.additional_kwargs?.tool_calls;\n\t\t\tconst toolCalls = initParams.tool_calls;\n\t\t\tif (!(rawToolCalls == null) && rawToolCalls.length > 0 && (toolCalls === void 0 || toolCalls.length === 0)) console.warn([\n\t\t\t\t\"New LangChain packages are available that more efficiently handle\",\n\t\t\t\t\"tool calling.\\n\\nPlease upgrade your packages to versions that set\",\n\t\t\t\t\"message tool calls. e.g., `pnpm install @langchain/anthropic`,\",\n\t\t\t\t\"pnpm install @langchain/openai`, etc.\"\n\t\t\t].join(\" \"));\n\t\t\ttry {\n\t\t\t\tif (!(rawToolCalls == null) && toolCalls === void 0) {\n\t\t\t\t\tconst [parsedToolCalls, invalidToolCalls] = (0,_tool_js__WEBPACK_IMPORTED_MODULE_3__.defaultToolCallParser)(rawToolCalls);\n\t\t\t\t\tinitParams.tool_calls = parsedToolCalls ?? [];\n\t\t\t\t\tinitParams.invalid_tool_calls = invalidToolCalls ?? [];\n\t\t\t\t} else {\n\t\t\t\t\tinitParams.tool_calls = initParams.tool_calls ?? [];\n\t\t\t\t\tinitParams.invalid_tool_calls = initParams.invalid_tool_calls ?? [];\n\t\t\t\t}\n\t\t\t} catch {\n\t\t\t\tinitParams.tool_calls = [];\n\t\t\t\tinitParams.invalid_tool_calls = [];\n\t\t\t}\n\t\t\tif (initParams.response_metadata !== void 0 && \"output_version\" in initParams.response_metadata && initParams.response_metadata.output_version === \"v1\") {\n\t\t\t\tinitParams.contentBlocks = initParams.content;\n\t\t\t\tinitParams.content = void 0;\n\t\t\t}\n\t\t\tif (initParams.contentBlocks !== void 0) {\n\t\t\t\tif (initParams.tool_calls) initParams.contentBlocks.push(...initParams.tool_calls.map((toolCall) => ({\n\t\t\t\t\ttype: \"tool_call\",\n\t\t\t\t\tid: toolCall.id,\n\t\t\t\t\tname: toolCall.name,\n\t\t\t\t\targs: toolCall.args\n\t\t\t\t})));\n\t\t\t\tconst missingToolCalls = initParams.contentBlocks.filter((block) => block.type === \"tool_call\").filter((block) => !initParams.tool_calls?.some((toolCall) => toolCall.id === block.id && toolCall.name === block.name));\n\t\t\t\tif (missingToolCalls.length > 0) initParams.tool_calls = missingToolCalls.map((block) => ({\n\t\t\t\t\ttype: \"tool_call\",\n\t\t\t\t\tid: block.id,\n\t\t\t\t\tname: block.name,\n\t\t\t\t\targs: block.args\n\t\t\t\t}));\n\t\t\t}\n\t\t}\n\t\tsuper(initParams);\n\t\tif (typeof initParams !== \"string\") {\n\t\t\tthis.tool_calls = initParams.tool_calls ?? this.tool_calls;\n\t\t\tthis.invalid_tool_calls = initParams.invalid_tool_calls ?? this.invalid_tool_calls;\n\t\t}\n\t\tthis.usage_metadata = initParams.usage_metadata;\n\t}\n\tstatic lc_name() {\n\t\treturn \"AIMessage\";\n\t}\n\tget contentBlocks() {\n\t\tif (this.response_metadata && \"output_version\" in this.response_metadata && this.response_metadata.output_version === \"v1\") return this.content;\n\t\tif (this.response_metadata && \"model_provider\" in this.response_metadata && typeof this.response_metadata.model_provider === \"string\") {\n\t\t\tconst translator = (0,_block_translators_index_js__WEBPACK_IMPORTED_MODULE_1__.getTranslator)(this.response_metadata.model_provider);\n\t\t\tif (translator) return translator.translateContent(this);\n\t\t}\n\t\tconst blocks = super.contentBlocks;\n\t\tif (this.tool_calls) {\n\t\t\tconst missingToolCalls = this.tool_calls.filter((block) => !blocks.some((b) => b.id === block.id && b.name === block.name));\n\t\t\tblocks.push(...missingToolCalls.map((block) => ({\n\t\t\t\ttype: \"tool_call\",\n\t\t\t\tid: block.id,\n\t\t\t\tname: block.name,\n\t\t\t\targs: block.args\n\t\t\t})));\n\t\t}\n\t\treturn blocks;\n\t}\n\tget _printableFields() {\n\t\treturn {\n\t\t\t...super._printableFields,\n\t\t\ttool_calls: this.tool_calls,\n\t\t\tinvalid_tool_calls: this.invalid_tool_calls,\n\t\t\tusage_metadata: this.usage_metadata\n\t\t};\n\t}\n\tstatic isInstance(obj) {\n\t\treturn super.isInstance(obj) && obj.type === \"ai\";\n\t}\n};\n/**\n* @deprecated Use {@link AIMessage.isInstance} instead\n*/\nfunction isAIMessage(x) {\n\treturn x._getType() === \"ai\";\n}\n/**\n* @deprecated Use {@link AIMessageChunk.isInstance} instead\n*/\nfunction isAIMessageChunk(x) {\n\treturn x._getType() === \"ai\";\n}\n/**\n* Represents a chunk of an AI message, which can be concatenated with\n* other AI message chunks.\n*/\nvar AIMessageChunk = class extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseMessageChunk {\n\ttype = \"ai\";\n\ttool_calls = [];\n\tinvalid_tool_calls = [];\n\ttool_call_chunks = [];\n\tusage_metadata;\n\tconstructor(fields) {\n\t\tlet initParams;\n\t\tif (typeof fields === \"string\" || Array.isArray(fields)) initParams = {\n\t\t\tcontent: fields,\n\t\t\ttool_calls: [],\n\t\t\tinvalid_tool_calls: [],\n\t\t\ttool_call_chunks: []\n\t\t};\n\t\telse if (fields.tool_call_chunks === void 0 || fields.tool_call_chunks.length === 0) initParams = {\n\t\t\t...fields,\n\t\t\ttool_calls: fields.tool_calls ?? [],\n\t\t\tinvalid_tool_calls: [],\n\t\t\ttool_call_chunks: [],\n\t\t\tusage_metadata: fields.usage_metadata !== void 0 ? fields.usage_metadata : void 0\n\t\t};\n\t\telse {\n\t\t\tconst collapsed = (0,_utils_js__WEBPACK_IMPORTED_MODULE_4__.collapseToolCallChunks)(fields.tool_call_chunks ?? []);\n\t\t\tinitParams = {\n\t\t\t\t...fields,\n\t\t\t\ttool_call_chunks: collapsed.tool_call_chunks,\n\t\t\t\ttool_calls: collapsed.tool_calls,\n\t\t\t\tinvalid_tool_calls: collapsed.invalid_tool_calls,\n\t\t\t\tusage_metadata: fields.usage_metadata !== void 0 ? fields.usage_metadata : void 0\n\t\t\t};\n\t\t}\n\t\tsuper(initParams);\n\t\tthis.tool_call_chunks = initParams.tool_call_chunks ?? this.tool_call_chunks;\n\t\tthis.tool_calls = initParams.tool_calls ?? this.tool_calls;\n\t\tthis.invalid_tool_calls = initParams.invalid_tool_calls ?? this.invalid_tool_calls;\n\t\tthis.usage_metadata = initParams.usage_metadata;\n\t}\n\tget lc_aliases() {\n\t\treturn {\n\t\t\t...super.lc_aliases,\n\t\t\ttool_calls: \"tool_calls\",\n\t\t\tinvalid_tool_calls: \"invalid_tool_calls\",\n\t\t\ttool_call_chunks: \"tool_call_chunks\"\n\t\t};\n\t}\n\tstatic lc_name() {\n\t\treturn \"AIMessageChunk\";\n\t}\n\tget contentBlocks() {\n\t\tif (this.response_metadata && \"output_version\" in this.response_metadata && this.response_metadata.output_version === \"v1\") return this.content;\n\t\tif (this.response_metadata && \"model_provider\" in this.response_metadata && typeof this.response_metadata.model_provider === \"string\") {\n\t\t\tconst translator = (0,_block_translators_index_js__WEBPACK_IMPORTED_MODULE_1__.getTranslator)(this.response_metadata.model_provider);\n\t\t\tif (translator) return translator.translateContent(this);\n\t\t}\n\t\tconst blocks = super.contentBlocks;\n\t\tif (this.tool_calls) {\n\t\t\tif (typeof this.content !== \"string\") {\n\t\t\t\tconst contentToolCalls = this.content.filter((block) => block.type === \"tool_call\").map((block) => block.id);\n\t\t\t\tfor (const toolCall of this.tool_calls) if (toolCall.id && !contentToolCalls.includes(toolCall.id)) blocks.push({\n\t\t\t\t\t...toolCall,\n\t\t\t\t\ttype: \"tool_call\",\n\t\t\t\t\tid: toolCall.id,\n\t\t\t\t\tname: toolCall.name,\n\t\t\t\t\targs: toolCall.args\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn blocks;\n\t}\n\tget _printableFields() {\n\t\treturn {\n\t\t\t...super._printableFields,\n\t\t\ttool_calls: this.tool_calls,\n\t\t\ttool_call_chunks: this.tool_call_chunks,\n\t\t\tinvalid_tool_calls: this.invalid_tool_calls,\n\t\t\tusage_metadata: this.usage_metadata\n\t\t};\n\t}\n\tconcat(chunk) {\n\t\tconst combinedFields = {\n\t\t\tcontent: (0,_base_js__WEBPACK_IMPORTED_MODULE_0__.mergeContent)(this.content, chunk.content),\n\t\t\tadditional_kwargs: (0,_base_js__WEBPACK_IMPORTED_MODULE_0__._mergeDicts)(this.additional_kwargs, chunk.additional_kwargs),\n\t\t\tresponse_metadata: (0,_metadata_js__WEBPACK_IMPORTED_MODULE_2__.mergeResponseMetadata)(this.response_metadata, chunk.response_metadata),\n\t\t\ttool_call_chunks: [],\n\t\t\tid: this.id ?? chunk.id\n\t\t};\n\t\tif (this.tool_call_chunks !== void 0 || chunk.tool_call_chunks !== void 0) {\n\t\t\tconst rawToolCalls = (0,_base_js__WEBPACK_IMPORTED_MODULE_0__._mergeLists)(this.tool_call_chunks, chunk.tool_call_chunks);\n\t\t\tif (rawToolCalls !== void 0 && rawToolCalls.length > 0) combinedFields.tool_call_chunks = rawToolCalls;\n\t\t}\n\t\tif (this.usage_metadata !== void 0 || chunk.usage_metadata !== void 0) combinedFields.usage_metadata = (0,_metadata_js__WEBPACK_IMPORTED_MODULE_2__.mergeUsageMetadata)(this.usage_metadata, chunk.usage_metadata);\n\t\tconst Cls = this.constructor;\n\t\treturn new Cls(combinedFields);\n\t}\n\tstatic isInstance(obj) {\n\t\treturn super.isInstance(obj) && obj.type === \"ai\";\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=ai.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL2FpLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFrRztBQUNyQztBQUNhO0FBQ3hCO0FBQ0U7O0FBRXBEO0FBQ0EsOEJBQThCLGlEQUFXO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELCtEQUFxQjtBQUN0RTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDBFQUFhO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDRCQUE0QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGlDQUFpQztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLHNEQUFnQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsaUVBQXNCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDBFQUFhO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHNEQUFZO0FBQ3hCLHNCQUFzQixxREFBVztBQUNqQyxzQkFBc0IsbUVBQXFCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHFEQUFXO0FBQ25DO0FBQ0E7QUFDQSx5R0FBeUcsZ0VBQWtCO0FBQzNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ29FO0FBQ3BFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL2FpLmpzPzUzZGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzZU1lc3NhZ2UsIEJhc2VNZXNzYWdlQ2h1bmssIF9tZXJnZURpY3RzLCBfbWVyZ2VMaXN0cywgbWVyZ2VDb250ZW50IH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgZ2V0VHJhbnNsYXRvciB9IGZyb20gXCIuL2Jsb2NrX3RyYW5zbGF0b3JzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBtZXJnZVJlc3BvbnNlTWV0YWRhdGEsIG1lcmdlVXNhZ2VNZXRhZGF0YSB9IGZyb20gXCIuL21ldGFkYXRhLmpzXCI7XG5pbXBvcnQgeyBkZWZhdWx0VG9vbENhbGxQYXJzZXIgfSBmcm9tIFwiLi90b29sLmpzXCI7XG5pbXBvcnQgeyBjb2xsYXBzZVRvb2xDYWxsQ2h1bmtzIH0gZnJvbSBcIi4vdXRpbHMuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9tZXNzYWdlcy9haS50c1xudmFyIEFJTWVzc2FnZSA9IGNsYXNzIGV4dGVuZHMgQmFzZU1lc3NhZ2Uge1xuXHR0eXBlID0gXCJhaVwiO1xuXHR0b29sX2NhbGxzID0gW107XG5cdGludmFsaWRfdG9vbF9jYWxscyA9IFtdO1xuXHR1c2FnZV9tZXRhZGF0YTtcblx0Z2V0IGxjX2FsaWFzZXMoKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdC4uLnN1cGVyLmxjX2FsaWFzZXMsXG5cdFx0XHR0b29sX2NhbGxzOiBcInRvb2xfY2FsbHNcIixcblx0XHRcdGludmFsaWRfdG9vbF9jYWxsczogXCJpbnZhbGlkX3Rvb2xfY2FsbHNcIlxuXHRcdH07XG5cdH1cblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0bGV0IGluaXRQYXJhbXM7XG5cdFx0aWYgKHR5cGVvZiBmaWVsZHMgPT09IFwic3RyaW5nXCIgfHwgQXJyYXkuaXNBcnJheShmaWVsZHMpKSBpbml0UGFyYW1zID0ge1xuXHRcdFx0Y29udGVudDogZmllbGRzLFxuXHRcdFx0dG9vbF9jYWxsczogW10sXG5cdFx0XHRpbnZhbGlkX3Rvb2xfY2FsbHM6IFtdLFxuXHRcdFx0YWRkaXRpb25hbF9rd2FyZ3M6IHt9XG5cdFx0fTtcblx0XHRlbHNlIHtcblx0XHRcdGluaXRQYXJhbXMgPSBmaWVsZHM7XG5cdFx0XHRjb25zdCByYXdUb29sQ2FsbHMgPSBpbml0UGFyYW1zLmFkZGl0aW9uYWxfa3dhcmdzPy50b29sX2NhbGxzO1xuXHRcdFx0Y29uc3QgdG9vbENhbGxzID0gaW5pdFBhcmFtcy50b29sX2NhbGxzO1xuXHRcdFx0aWYgKCEocmF3VG9vbENhbGxzID09IG51bGwpICYmIHJhd1Rvb2xDYWxscy5sZW5ndGggPiAwICYmICh0b29sQ2FsbHMgPT09IHZvaWQgMCB8fCB0b29sQ2FsbHMubGVuZ3RoID09PSAwKSkgY29uc29sZS53YXJuKFtcblx0XHRcdFx0XCJOZXcgTGFuZ0NoYWluIHBhY2thZ2VzIGFyZSBhdmFpbGFibGUgdGhhdCBtb3JlIGVmZmljaWVudGx5IGhhbmRsZVwiLFxuXHRcdFx0XHRcInRvb2wgY2FsbGluZy5cXG5cXG5QbGVhc2UgdXBncmFkZSB5b3VyIHBhY2thZ2VzIHRvIHZlcnNpb25zIHRoYXQgc2V0XCIsXG5cdFx0XHRcdFwibWVzc2FnZSB0b29sIGNhbGxzLiBlLmcuLCBgcG5wbSBpbnN0YWxsIEBsYW5nY2hhaW4vYW50aHJvcGljYCxcIixcblx0XHRcdFx0XCJwbnBtIGluc3RhbGwgQGxhbmdjaGFpbi9vcGVuYWlgLCBldGMuXCJcblx0XHRcdF0uam9pbihcIiBcIikpO1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0aWYgKCEocmF3VG9vbENhbGxzID09IG51bGwpICYmIHRvb2xDYWxscyA9PT0gdm9pZCAwKSB7XG5cdFx0XHRcdFx0Y29uc3QgW3BhcnNlZFRvb2xDYWxscywgaW52YWxpZFRvb2xDYWxsc10gPSBkZWZhdWx0VG9vbENhbGxQYXJzZXIocmF3VG9vbENhbGxzKTtcblx0XHRcdFx0XHRpbml0UGFyYW1zLnRvb2xfY2FsbHMgPSBwYXJzZWRUb29sQ2FsbHMgPz8gW107XG5cdFx0XHRcdFx0aW5pdFBhcmFtcy5pbnZhbGlkX3Rvb2xfY2FsbHMgPSBpbnZhbGlkVG9vbENhbGxzID8/IFtdO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGluaXRQYXJhbXMudG9vbF9jYWxscyA9IGluaXRQYXJhbXMudG9vbF9jYWxscyA/PyBbXTtcblx0XHRcdFx0XHRpbml0UGFyYW1zLmludmFsaWRfdG9vbF9jYWxscyA9IGluaXRQYXJhbXMuaW52YWxpZF90b29sX2NhbGxzID8/IFtdO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0aW5pdFBhcmFtcy50b29sX2NhbGxzID0gW107XG5cdFx0XHRcdGluaXRQYXJhbXMuaW52YWxpZF90b29sX2NhbGxzID0gW107XG5cdFx0XHR9XG5cdFx0XHRpZiAoaW5pdFBhcmFtcy5yZXNwb25zZV9tZXRhZGF0YSAhPT0gdm9pZCAwICYmIFwib3V0cHV0X3ZlcnNpb25cIiBpbiBpbml0UGFyYW1zLnJlc3BvbnNlX21ldGFkYXRhICYmIGluaXRQYXJhbXMucmVzcG9uc2VfbWV0YWRhdGEub3V0cHV0X3ZlcnNpb24gPT09IFwidjFcIikge1xuXHRcdFx0XHRpbml0UGFyYW1zLmNvbnRlbnRCbG9ja3MgPSBpbml0UGFyYW1zLmNvbnRlbnQ7XG5cdFx0XHRcdGluaXRQYXJhbXMuY29udGVudCA9IHZvaWQgMDtcblx0XHRcdH1cblx0XHRcdGlmIChpbml0UGFyYW1zLmNvbnRlbnRCbG9ja3MgIT09IHZvaWQgMCkge1xuXHRcdFx0XHRpZiAoaW5pdFBhcmFtcy50b29sX2NhbGxzKSBpbml0UGFyYW1zLmNvbnRlbnRCbG9ja3MucHVzaCguLi5pbml0UGFyYW1zLnRvb2xfY2FsbHMubWFwKCh0b29sQ2FsbCkgPT4gKHtcblx0XHRcdFx0XHR0eXBlOiBcInRvb2xfY2FsbFwiLFxuXHRcdFx0XHRcdGlkOiB0b29sQ2FsbC5pZCxcblx0XHRcdFx0XHRuYW1lOiB0b29sQ2FsbC5uYW1lLFxuXHRcdFx0XHRcdGFyZ3M6IHRvb2xDYWxsLmFyZ3Ncblx0XHRcdFx0fSkpKTtcblx0XHRcdFx0Y29uc3QgbWlzc2luZ1Rvb2xDYWxscyA9IGluaXRQYXJhbXMuY29udGVudEJsb2Nrcy5maWx0ZXIoKGJsb2NrKSA9PiBibG9jay50eXBlID09PSBcInRvb2xfY2FsbFwiKS5maWx0ZXIoKGJsb2NrKSA9PiAhaW5pdFBhcmFtcy50b29sX2NhbGxzPy5zb21lKCh0b29sQ2FsbCkgPT4gdG9vbENhbGwuaWQgPT09IGJsb2NrLmlkICYmIHRvb2xDYWxsLm5hbWUgPT09IGJsb2NrLm5hbWUpKTtcblx0XHRcdFx0aWYgKG1pc3NpbmdUb29sQ2FsbHMubGVuZ3RoID4gMCkgaW5pdFBhcmFtcy50b29sX2NhbGxzID0gbWlzc2luZ1Rvb2xDYWxscy5tYXAoKGJsb2NrKSA9PiAoe1xuXHRcdFx0XHRcdHR5cGU6IFwidG9vbF9jYWxsXCIsXG5cdFx0XHRcdFx0aWQ6IGJsb2NrLmlkLFxuXHRcdFx0XHRcdG5hbWU6IGJsb2NrLm5hbWUsXG5cdFx0XHRcdFx0YXJnczogYmxvY2suYXJnc1xuXHRcdFx0XHR9KSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHN1cGVyKGluaXRQYXJhbXMpO1xuXHRcdGlmICh0eXBlb2YgaW5pdFBhcmFtcyAhPT0gXCJzdHJpbmdcIikge1xuXHRcdFx0dGhpcy50b29sX2NhbGxzID0gaW5pdFBhcmFtcy50b29sX2NhbGxzID8/IHRoaXMudG9vbF9jYWxscztcblx0XHRcdHRoaXMuaW52YWxpZF90b29sX2NhbGxzID0gaW5pdFBhcmFtcy5pbnZhbGlkX3Rvb2xfY2FsbHMgPz8gdGhpcy5pbnZhbGlkX3Rvb2xfY2FsbHM7XG5cdFx0fVxuXHRcdHRoaXMudXNhZ2VfbWV0YWRhdGEgPSBpbml0UGFyYW1zLnVzYWdlX21ldGFkYXRhO1xuXHR9XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIkFJTWVzc2FnZVwiO1xuXHR9XG5cdGdldCBjb250ZW50QmxvY2tzKCkge1xuXHRcdGlmICh0aGlzLnJlc3BvbnNlX21ldGFkYXRhICYmIFwib3V0cHV0X3ZlcnNpb25cIiBpbiB0aGlzLnJlc3BvbnNlX21ldGFkYXRhICYmIHRoaXMucmVzcG9uc2VfbWV0YWRhdGEub3V0cHV0X3ZlcnNpb24gPT09IFwidjFcIikgcmV0dXJuIHRoaXMuY29udGVudDtcblx0XHRpZiAodGhpcy5yZXNwb25zZV9tZXRhZGF0YSAmJiBcIm1vZGVsX3Byb3ZpZGVyXCIgaW4gdGhpcy5yZXNwb25zZV9tZXRhZGF0YSAmJiB0eXBlb2YgdGhpcy5yZXNwb25zZV9tZXRhZGF0YS5tb2RlbF9wcm92aWRlciA9PT0gXCJzdHJpbmdcIikge1xuXHRcdFx0Y29uc3QgdHJhbnNsYXRvciA9IGdldFRyYW5zbGF0b3IodGhpcy5yZXNwb25zZV9tZXRhZGF0YS5tb2RlbF9wcm92aWRlcik7XG5cdFx0XHRpZiAodHJhbnNsYXRvcikgcmV0dXJuIHRyYW5zbGF0b3IudHJhbnNsYXRlQ29udGVudCh0aGlzKTtcblx0XHR9XG5cdFx0Y29uc3QgYmxvY2tzID0gc3VwZXIuY29udGVudEJsb2Nrcztcblx0XHRpZiAodGhpcy50b29sX2NhbGxzKSB7XG5cdFx0XHRjb25zdCBtaXNzaW5nVG9vbENhbGxzID0gdGhpcy50b29sX2NhbGxzLmZpbHRlcigoYmxvY2spID0+ICFibG9ja3Muc29tZSgoYikgPT4gYi5pZCA9PT0gYmxvY2suaWQgJiYgYi5uYW1lID09PSBibG9jay5uYW1lKSk7XG5cdFx0XHRibG9ja3MucHVzaCguLi5taXNzaW5nVG9vbENhbGxzLm1hcCgoYmxvY2spID0+ICh7XG5cdFx0XHRcdHR5cGU6IFwidG9vbF9jYWxsXCIsXG5cdFx0XHRcdGlkOiBibG9jay5pZCxcblx0XHRcdFx0bmFtZTogYmxvY2submFtZSxcblx0XHRcdFx0YXJnczogYmxvY2suYXJnc1xuXHRcdFx0fSkpKTtcblx0XHR9XG5cdFx0cmV0dXJuIGJsb2Nrcztcblx0fVxuXHRnZXQgX3ByaW50YWJsZUZpZWxkcygpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Li4uc3VwZXIuX3ByaW50YWJsZUZpZWxkcyxcblx0XHRcdHRvb2xfY2FsbHM6IHRoaXMudG9vbF9jYWxscyxcblx0XHRcdGludmFsaWRfdG9vbF9jYWxsczogdGhpcy5pbnZhbGlkX3Rvb2xfY2FsbHMsXG5cdFx0XHR1c2FnZV9tZXRhZGF0YTogdGhpcy51c2FnZV9tZXRhZGF0YVxuXHRcdH07XG5cdH1cblx0c3RhdGljIGlzSW5zdGFuY2Uob2JqKSB7XG5cdFx0cmV0dXJuIHN1cGVyLmlzSW5zdGFuY2Uob2JqKSAmJiBvYmoudHlwZSA9PT0gXCJhaVwiO1xuXHR9XG59O1xuLyoqXG4qIEBkZXByZWNhdGVkIFVzZSB7QGxpbmsgQUlNZXNzYWdlLmlzSW5zdGFuY2V9IGluc3RlYWRcbiovXG5mdW5jdGlvbiBpc0FJTWVzc2FnZSh4KSB7XG5cdHJldHVybiB4Ll9nZXRUeXBlKCkgPT09IFwiYWlcIjtcbn1cbi8qKlxuKiBAZGVwcmVjYXRlZCBVc2Uge0BsaW5rIEFJTWVzc2FnZUNodW5rLmlzSW5zdGFuY2V9IGluc3RlYWRcbiovXG5mdW5jdGlvbiBpc0FJTWVzc2FnZUNodW5rKHgpIHtcblx0cmV0dXJuIHguX2dldFR5cGUoKSA9PT0gXCJhaVwiO1xufVxuLyoqXG4qIFJlcHJlc2VudHMgYSBjaHVuayBvZiBhbiBBSSBtZXNzYWdlLCB3aGljaCBjYW4gYmUgY29uY2F0ZW5hdGVkIHdpdGhcbiogb3RoZXIgQUkgbWVzc2FnZSBjaHVua3MuXG4qL1xudmFyIEFJTWVzc2FnZUNodW5rID0gY2xhc3MgZXh0ZW5kcyBCYXNlTWVzc2FnZUNodW5rIHtcblx0dHlwZSA9IFwiYWlcIjtcblx0dG9vbF9jYWxscyA9IFtdO1xuXHRpbnZhbGlkX3Rvb2xfY2FsbHMgPSBbXTtcblx0dG9vbF9jYWxsX2NodW5rcyA9IFtdO1xuXHR1c2FnZV9tZXRhZGF0YTtcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0bGV0IGluaXRQYXJhbXM7XG5cdFx0aWYgKHR5cGVvZiBmaWVsZHMgPT09IFwic3RyaW5nXCIgfHwgQXJyYXkuaXNBcnJheShmaWVsZHMpKSBpbml0UGFyYW1zID0ge1xuXHRcdFx0Y29udGVudDogZmllbGRzLFxuXHRcdFx0dG9vbF9jYWxsczogW10sXG5cdFx0XHRpbnZhbGlkX3Rvb2xfY2FsbHM6IFtdLFxuXHRcdFx0dG9vbF9jYWxsX2NodW5rczogW11cblx0XHR9O1xuXHRcdGVsc2UgaWYgKGZpZWxkcy50b29sX2NhbGxfY2h1bmtzID09PSB2b2lkIDAgfHwgZmllbGRzLnRvb2xfY2FsbF9jaHVua3MubGVuZ3RoID09PSAwKSBpbml0UGFyYW1zID0ge1xuXHRcdFx0Li4uZmllbGRzLFxuXHRcdFx0dG9vbF9jYWxsczogZmllbGRzLnRvb2xfY2FsbHMgPz8gW10sXG5cdFx0XHRpbnZhbGlkX3Rvb2xfY2FsbHM6IFtdLFxuXHRcdFx0dG9vbF9jYWxsX2NodW5rczogW10sXG5cdFx0XHR1c2FnZV9tZXRhZGF0YTogZmllbGRzLnVzYWdlX21ldGFkYXRhICE9PSB2b2lkIDAgPyBmaWVsZHMudXNhZ2VfbWV0YWRhdGEgOiB2b2lkIDBcblx0XHR9O1xuXHRcdGVsc2Uge1xuXHRcdFx0Y29uc3QgY29sbGFwc2VkID0gY29sbGFwc2VUb29sQ2FsbENodW5rcyhmaWVsZHMudG9vbF9jYWxsX2NodW5rcyA/PyBbXSk7XG5cdFx0XHRpbml0UGFyYW1zID0ge1xuXHRcdFx0XHQuLi5maWVsZHMsXG5cdFx0XHRcdHRvb2xfY2FsbF9jaHVua3M6IGNvbGxhcHNlZC50b29sX2NhbGxfY2h1bmtzLFxuXHRcdFx0XHR0b29sX2NhbGxzOiBjb2xsYXBzZWQudG9vbF9jYWxscyxcblx0XHRcdFx0aW52YWxpZF90b29sX2NhbGxzOiBjb2xsYXBzZWQuaW52YWxpZF90b29sX2NhbGxzLFxuXHRcdFx0XHR1c2FnZV9tZXRhZGF0YTogZmllbGRzLnVzYWdlX21ldGFkYXRhICE9PSB2b2lkIDAgPyBmaWVsZHMudXNhZ2VfbWV0YWRhdGEgOiB2b2lkIDBcblx0XHRcdH07XG5cdFx0fVxuXHRcdHN1cGVyKGluaXRQYXJhbXMpO1xuXHRcdHRoaXMudG9vbF9jYWxsX2NodW5rcyA9IGluaXRQYXJhbXMudG9vbF9jYWxsX2NodW5rcyA/PyB0aGlzLnRvb2xfY2FsbF9jaHVua3M7XG5cdFx0dGhpcy50b29sX2NhbGxzID0gaW5pdFBhcmFtcy50b29sX2NhbGxzID8/IHRoaXMudG9vbF9jYWxscztcblx0XHR0aGlzLmludmFsaWRfdG9vbF9jYWxscyA9IGluaXRQYXJhbXMuaW52YWxpZF90b29sX2NhbGxzID8/IHRoaXMuaW52YWxpZF90b29sX2NhbGxzO1xuXHRcdHRoaXMudXNhZ2VfbWV0YWRhdGEgPSBpbml0UGFyYW1zLnVzYWdlX21ldGFkYXRhO1xuXHR9XG5cdGdldCBsY19hbGlhc2VzKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHQuLi5zdXBlci5sY19hbGlhc2VzLFxuXHRcdFx0dG9vbF9jYWxsczogXCJ0b29sX2NhbGxzXCIsXG5cdFx0XHRpbnZhbGlkX3Rvb2xfY2FsbHM6IFwiaW52YWxpZF90b29sX2NhbGxzXCIsXG5cdFx0XHR0b29sX2NhbGxfY2h1bmtzOiBcInRvb2xfY2FsbF9jaHVua3NcIlxuXHRcdH07XG5cdH1cblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiQUlNZXNzYWdlQ2h1bmtcIjtcblx0fVxuXHRnZXQgY29udGVudEJsb2NrcygpIHtcblx0XHRpZiAodGhpcy5yZXNwb25zZV9tZXRhZGF0YSAmJiBcIm91dHB1dF92ZXJzaW9uXCIgaW4gdGhpcy5yZXNwb25zZV9tZXRhZGF0YSAmJiB0aGlzLnJlc3BvbnNlX21ldGFkYXRhLm91dHB1dF92ZXJzaW9uID09PSBcInYxXCIpIHJldHVybiB0aGlzLmNvbnRlbnQ7XG5cdFx0aWYgKHRoaXMucmVzcG9uc2VfbWV0YWRhdGEgJiYgXCJtb2RlbF9wcm92aWRlclwiIGluIHRoaXMucmVzcG9uc2VfbWV0YWRhdGEgJiYgdHlwZW9mIHRoaXMucmVzcG9uc2VfbWV0YWRhdGEubW9kZWxfcHJvdmlkZXIgPT09IFwic3RyaW5nXCIpIHtcblx0XHRcdGNvbnN0IHRyYW5zbGF0b3IgPSBnZXRUcmFuc2xhdG9yKHRoaXMucmVzcG9uc2VfbWV0YWRhdGEubW9kZWxfcHJvdmlkZXIpO1xuXHRcdFx0aWYgKHRyYW5zbGF0b3IpIHJldHVybiB0cmFuc2xhdG9yLnRyYW5zbGF0ZUNvbnRlbnQodGhpcyk7XG5cdFx0fVxuXHRcdGNvbnN0IGJsb2NrcyA9IHN1cGVyLmNvbnRlbnRCbG9ja3M7XG5cdFx0aWYgKHRoaXMudG9vbF9jYWxscykge1xuXHRcdFx0aWYgKHR5cGVvZiB0aGlzLmNvbnRlbnQgIT09IFwic3RyaW5nXCIpIHtcblx0XHRcdFx0Y29uc3QgY29udGVudFRvb2xDYWxscyA9IHRoaXMuY29udGVudC5maWx0ZXIoKGJsb2NrKSA9PiBibG9jay50eXBlID09PSBcInRvb2xfY2FsbFwiKS5tYXAoKGJsb2NrKSA9PiBibG9jay5pZCk7XG5cdFx0XHRcdGZvciAoY29uc3QgdG9vbENhbGwgb2YgdGhpcy50b29sX2NhbGxzKSBpZiAodG9vbENhbGwuaWQgJiYgIWNvbnRlbnRUb29sQ2FsbHMuaW5jbHVkZXModG9vbENhbGwuaWQpKSBibG9ja3MucHVzaCh7XG5cdFx0XHRcdFx0Li4udG9vbENhbGwsXG5cdFx0XHRcdFx0dHlwZTogXCJ0b29sX2NhbGxcIixcblx0XHRcdFx0XHRpZDogdG9vbENhbGwuaWQsXG5cdFx0XHRcdFx0bmFtZTogdG9vbENhbGwubmFtZSxcblx0XHRcdFx0XHRhcmdzOiB0b29sQ2FsbC5hcmdzXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gYmxvY2tzO1xuXHR9XG5cdGdldCBfcHJpbnRhYmxlRmllbGRzKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHQuLi5zdXBlci5fcHJpbnRhYmxlRmllbGRzLFxuXHRcdFx0dG9vbF9jYWxsczogdGhpcy50b29sX2NhbGxzLFxuXHRcdFx0dG9vbF9jYWxsX2NodW5rczogdGhpcy50b29sX2NhbGxfY2h1bmtzLFxuXHRcdFx0aW52YWxpZF90b29sX2NhbGxzOiB0aGlzLmludmFsaWRfdG9vbF9jYWxscyxcblx0XHRcdHVzYWdlX21ldGFkYXRhOiB0aGlzLnVzYWdlX21ldGFkYXRhXG5cdFx0fTtcblx0fVxuXHRjb25jYXQoY2h1bmspIHtcblx0XHRjb25zdCBjb21iaW5lZEZpZWxkcyA9IHtcblx0XHRcdGNvbnRlbnQ6IG1lcmdlQ29udGVudCh0aGlzLmNvbnRlbnQsIGNodW5rLmNvbnRlbnQpLFxuXHRcdFx0YWRkaXRpb25hbF9rd2FyZ3M6IF9tZXJnZURpY3RzKHRoaXMuYWRkaXRpb25hbF9rd2FyZ3MsIGNodW5rLmFkZGl0aW9uYWxfa3dhcmdzKSxcblx0XHRcdHJlc3BvbnNlX21ldGFkYXRhOiBtZXJnZVJlc3BvbnNlTWV0YWRhdGEodGhpcy5yZXNwb25zZV9tZXRhZGF0YSwgY2h1bmsucmVzcG9uc2VfbWV0YWRhdGEpLFxuXHRcdFx0dG9vbF9jYWxsX2NodW5rczogW10sXG5cdFx0XHRpZDogdGhpcy5pZCA/PyBjaHVuay5pZFxuXHRcdH07XG5cdFx0aWYgKHRoaXMudG9vbF9jYWxsX2NodW5rcyAhPT0gdm9pZCAwIHx8IGNodW5rLnRvb2xfY2FsbF9jaHVua3MgIT09IHZvaWQgMCkge1xuXHRcdFx0Y29uc3QgcmF3VG9vbENhbGxzID0gX21lcmdlTGlzdHModGhpcy50b29sX2NhbGxfY2h1bmtzLCBjaHVuay50b29sX2NhbGxfY2h1bmtzKTtcblx0XHRcdGlmIChyYXdUb29sQ2FsbHMgIT09IHZvaWQgMCAmJiByYXdUb29sQ2FsbHMubGVuZ3RoID4gMCkgY29tYmluZWRGaWVsZHMudG9vbF9jYWxsX2NodW5rcyA9IHJhd1Rvb2xDYWxscztcblx0XHR9XG5cdFx0aWYgKHRoaXMudXNhZ2VfbWV0YWRhdGEgIT09IHZvaWQgMCB8fCBjaHVuay51c2FnZV9tZXRhZGF0YSAhPT0gdm9pZCAwKSBjb21iaW5lZEZpZWxkcy51c2FnZV9tZXRhZGF0YSA9IG1lcmdlVXNhZ2VNZXRhZGF0YSh0aGlzLnVzYWdlX21ldGFkYXRhLCBjaHVuay51c2FnZV9tZXRhZGF0YSk7XG5cdFx0Y29uc3QgQ2xzID0gdGhpcy5jb25zdHJ1Y3Rvcjtcblx0XHRyZXR1cm4gbmV3IENscyhjb21iaW5lZEZpZWxkcyk7XG5cdH1cblx0c3RhdGljIGlzSW5zdGFuY2Uob2JqKSB7XG5cdFx0cmV0dXJuIHN1cGVyLmlzSW5zdGFuY2Uob2JqKSAmJiBvYmoudHlwZSA9PT0gXCJhaVwiO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEFJTWVzc2FnZSwgQUlNZXNzYWdlQ2h1bmssIGlzQUlNZXNzYWdlLCBpc0FJTWVzc2FnZUNodW5rIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1haS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/ai.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/base.js":
/*!*******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/base.js ***!
  \*******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseMessage: () => (/* binding */ BaseMessage),\n/* harmony export */   BaseMessageChunk: () => (/* binding */ BaseMessageChunk),\n/* harmony export */   DEFAULT_MERGE_IGNORE_KEYS: () => (/* binding */ DEFAULT_MERGE_IGNORE_KEYS),\n/* harmony export */   _isMessageFieldWithRole: () => (/* binding */ _isMessageFieldWithRole),\n/* harmony export */   _mergeDicts: () => (/* binding */ _mergeDicts),\n/* harmony export */   _mergeLists: () => (/* binding */ _mergeLists),\n/* harmony export */   _mergeObj: () => (/* binding */ _mergeObj),\n/* harmony export */   _mergeStatus: () => (/* binding */ _mergeStatus),\n/* harmony export */   isBaseMessage: () => (/* binding */ isBaseMessage),\n/* harmony export */   isBaseMessageChunk: () => (/* binding */ isBaseMessageChunk),\n/* harmony export */   isOpenAIToolCallArray: () => (/* binding */ isOpenAIToolCallArray),\n/* harmony export */   mergeContent: () => (/* binding */ mergeContent)\n/* harmony export */ });\n/* harmony import */ var _load_serializable_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../load/serializable.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/load/serializable.js\");\n/* harmony import */ var _content_data_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./content/data.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/content/data.js\");\n/* harmony import */ var _block_translators_anthropic_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./block_translators/anthropic.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/anthropic.js\");\n/* harmony import */ var _block_translators_data_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./block_translators/data.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/data.js\");\n/* harmony import */ var _block_translators_openai_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./block_translators/openai.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/openai.js\");\n/* harmony import */ var _message_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./message.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/message.js\");\n/* harmony import */ var _format_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./format.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/format.js\");\n\n\n\n\n\n\n\n\n//#region src/messages/base.ts\n/** @internal */\nconst MESSAGE_SYMBOL = Symbol.for(\"langchain.message\");\nfunction mergeContent(firstContent, secondContent) {\n\tif (typeof firstContent === \"string\") {\n\t\tif (firstContent === \"\") return secondContent;\n\t\tif (typeof secondContent === \"string\") return firstContent + secondContent;\n\t\telse if (Array.isArray(secondContent) && secondContent.length === 0) return firstContent;\n\t\telse if (Array.isArray(secondContent) && secondContent.some((c) => (0,_content_data_js__WEBPACK_IMPORTED_MODULE_1__.isDataContentBlock)(c))) return [{\n\t\t\ttype: \"text\",\n\t\t\tsource_type: \"text\",\n\t\t\ttext: firstContent\n\t\t}, ...secondContent];\n\t\telse return [{\n\t\t\ttype: \"text\",\n\t\t\ttext: firstContent\n\t\t}, ...secondContent];\n\t} else if (Array.isArray(secondContent)) return _mergeLists(firstContent, secondContent) ?? [...firstContent, ...secondContent];\n\telse if (secondContent === \"\") return firstContent;\n\telse if (Array.isArray(firstContent) && firstContent.some((c) => (0,_content_data_js__WEBPACK_IMPORTED_MODULE_1__.isDataContentBlock)(c))) return [...firstContent, {\n\t\ttype: \"file\",\n\t\tsource_type: \"text\",\n\t\ttext: secondContent\n\t}];\n\telse return [...firstContent, {\n\t\ttype: \"text\",\n\t\ttext: secondContent\n\t}];\n}\n/**\n* 'Merge' two statuses. If either value passed is 'error', it will return 'error'. Else\n* it will return 'success'.\n*\n* @param {\"success\" | \"error\" | undefined} left The existing value to 'merge' with the new value.\n* @param {\"success\" | \"error\" | undefined} right The new value to 'merge' with the existing value\n* @returns {\"success\" | \"error\"} The 'merged' value.\n*/\nfunction _mergeStatus(left, right) {\n\tif (left === \"error\" || right === \"error\") return \"error\";\n\treturn \"success\";\n}\nfunction stringifyWithDepthLimit(obj, depthLimit) {\n\tfunction helper(obj$1, currentDepth) {\n\t\tif (typeof obj$1 !== \"object\" || obj$1 === null || obj$1 === void 0) return obj$1;\n\t\tif (currentDepth >= depthLimit) {\n\t\t\tif (Array.isArray(obj$1)) return \"[Array]\";\n\t\t\treturn \"[Object]\";\n\t\t}\n\t\tif (Array.isArray(obj$1)) return obj$1.map((item) => helper(item, currentDepth + 1));\n\t\tconst result = {};\n\t\tfor (const key of Object.keys(obj$1)) result[key] = helper(obj$1[key], currentDepth + 1);\n\t\treturn result;\n\t}\n\treturn JSON.stringify(helper(obj, 0), null, 2);\n}\n/**\n* Base class for all types of messages in a conversation. It includes\n* properties like `content`, `name`, and `additional_kwargs`. It also\n* includes methods like `toDict()` and `_getType()`.\n*/\nvar BaseMessage = class extends _load_serializable_js__WEBPACK_IMPORTED_MODULE_0__.Serializable {\n\tlc_namespace = [\"langchain_core\", \"messages\"];\n\tlc_serializable = true;\n\tget lc_aliases() {\n\t\treturn {\n\t\t\tadditional_kwargs: \"additional_kwargs\",\n\t\t\tresponse_metadata: \"response_metadata\"\n\t\t};\n\t}\n\t[MESSAGE_SYMBOL] = true;\n\tid;\n\t/** @inheritdoc */\n\tname;\n\tcontent;\n\tadditional_kwargs;\n\tresponse_metadata;\n\t/**\n\t* @deprecated Use .getType() instead or import the proper typeguard.\n\t* For example:\n\t*\n\t* ```ts\n\t* import { isAIMessage } from \"@langchain/core/messages\";\n\t*\n\t* const message = new AIMessage(\"Hello!\");\n\t* isAIMessage(message); // true\n\t* ```\n\t*/\n\t_getType() {\n\t\treturn this.type;\n\t}\n\t/**\n\t* @deprecated Use .type instead\n\t* The type of the message.\n\t*/\n\tgetType() {\n\t\treturn this._getType();\n\t}\n\tconstructor(arg) {\n\t\tconst fields = typeof arg === \"string\" || Array.isArray(arg) ? { content: arg } : arg;\n\t\tif (!fields.additional_kwargs) fields.additional_kwargs = {};\n\t\tif (!fields.response_metadata) fields.response_metadata = {};\n\t\tsuper(fields);\n\t\tthis.name = fields.name;\n\t\tif (fields.content === void 0 && fields.contentBlocks !== void 0) {\n\t\t\tthis.content = fields.contentBlocks;\n\t\t\tthis.response_metadata = {\n\t\t\t\toutput_version: \"v1\",\n\t\t\t\t...fields.response_metadata\n\t\t\t};\n\t\t} else if (fields.content !== void 0) {\n\t\t\tthis.content = fields.content ?? [];\n\t\t\tthis.response_metadata = fields.response_metadata;\n\t\t} else {\n\t\t\tthis.content = [];\n\t\t\tthis.response_metadata = fields.response_metadata;\n\t\t}\n\t\tthis.additional_kwargs = fields.additional_kwargs;\n\t\tthis.id = fields.id;\n\t}\n\t/** Get text content of the message. */\n\tget text() {\n\t\tif (typeof this.content === \"string\") return this.content;\n\t\tif (!Array.isArray(this.content)) return \"\";\n\t\treturn this.content.map((c) => {\n\t\t\tif (typeof c === \"string\") return c;\n\t\t\tif (c.type === \"text\") return c.text;\n\t\t\treturn \"\";\n\t\t}).join(\"\");\n\t}\n\tget contentBlocks() {\n\t\tconst blocks = typeof this.content === \"string\" ? [{\n\t\t\ttype: \"text\",\n\t\t\ttext: this.content\n\t\t}] : this.content;\n\t\tconst parsingSteps = [\n\t\t\t_block_translators_data_js__WEBPACK_IMPORTED_MODULE_3__.convertToV1FromDataContent,\n\t\t\t_block_translators_openai_js__WEBPACK_IMPORTED_MODULE_4__.convertToV1FromChatCompletionsInput,\n\t\t\t_block_translators_anthropic_js__WEBPACK_IMPORTED_MODULE_2__.convertToV1FromAnthropicInput\n\t\t];\n\t\tconst parsedBlocks = parsingSteps.reduce((blocks$1, step) => step(blocks$1), blocks);\n\t\treturn parsedBlocks;\n\t}\n\ttoDict() {\n\t\treturn {\n\t\t\ttype: this.getType(),\n\t\t\tdata: this.toJSON().kwargs\n\t\t};\n\t}\n\tstatic lc_name() {\n\t\treturn \"BaseMessage\";\n\t}\n\tget _printableFields() {\n\t\treturn {\n\t\t\tid: this.id,\n\t\t\tcontent: this.content,\n\t\t\tname: this.name,\n\t\t\tadditional_kwargs: this.additional_kwargs,\n\t\t\tresponse_metadata: this.response_metadata\n\t\t};\n\t}\n\tstatic isInstance(obj) {\n\t\treturn typeof obj === \"object\" && obj !== null && MESSAGE_SYMBOL in obj && obj[MESSAGE_SYMBOL] === true && (0,_message_js__WEBPACK_IMPORTED_MODULE_5__.isMessage)(obj);\n\t}\n\t_updateId(value) {\n\t\tthis.id = value;\n\t\tthis.lc_kwargs.id = value;\n\t}\n\tget [Symbol.toStringTag]() {\n\t\treturn this.constructor.lc_name();\n\t}\n\t[Symbol.for(\"nodejs.util.inspect.custom\")](depth) {\n\t\tif (depth === null) return this;\n\t\tconst printable = stringifyWithDepthLimit(this._printableFields, Math.max(4, depth));\n\t\treturn `${this.constructor.lc_name()} ${printable}`;\n\t}\n\ttoFormattedString(format = \"pretty\") {\n\t\treturn (0,_format_js__WEBPACK_IMPORTED_MODULE_6__.convertToFormattedString)(this, format);\n\t}\n};\nfunction isOpenAIToolCallArray(value) {\n\treturn Array.isArray(value) && value.every((v) => typeof v.index === \"number\");\n}\n/**\n* Default keys that should be preserved (not merged) when concatenating message chunks.\n* These are identification and timestamp fields that shouldn't be summed or concatenated.\n*/\nconst DEFAULT_MERGE_IGNORE_KEYS = [\n\t\"index\",\n\t\"created\",\n\t\"timestamp\"\n];\nfunction _mergeDicts(left, right, options) {\n\t/**\n\t* The keys to ignore during merging.\n\t*/\n\tconst ignoreKeys = options?.ignoreKeys ?? DEFAULT_MERGE_IGNORE_KEYS;\n\tif (left == null && right == null) return void 0;\n\tif (left == null || right == null) return left ?? right;\n\tconst merged = { ...left };\n\tfor (const [key, value] of Object.entries(right)) if (merged[key] == null) merged[key] = value;\n\telse if (value == null) continue;\n\telse if (typeof merged[key] !== typeof value || Array.isArray(merged[key]) !== Array.isArray(value)) throw new Error(`field[${key}] already exists in the message chunk, but with a different type.`);\n\telse if (typeof merged[key] === \"string\") if (key === \"type\") continue;\n\telse if ([\n\t\t\"id\",\n\t\t\"name\",\n\t\t\"output_version\",\n\t\t\"model_provider\"\n\t].includes(key)) {\n\t\tif (value) merged[key] = value;\n\t} else if (ignoreKeys.includes(key)) continue;\n\telse merged[key] += value;\n\telse if (typeof merged[key] === \"number\") {\n\t\tif (ignoreKeys.includes(key)) continue;\n\t\tmerged[key] = merged[key] + value;\n\t} else if (typeof merged[key] === \"object\" && !Array.isArray(merged[key])) merged[key] = _mergeDicts(merged[key], value, options);\n\telse if (Array.isArray(merged[key])) merged[key] = _mergeLists(merged[key], value, options);\n\telse if (merged[key] === value) continue;\n\telse console.warn(`field[${key}] already exists in this message chunk and value has unsupported type.`);\n\treturn merged;\n}\nfunction _mergeLists(left, right, options) {\n\tif (left == null && right == null) return void 0;\n\telse if (left == null || right == null) return left || right;\n\telse {\n\t\tconst merged = [...left];\n\t\tfor (const item of right) if (typeof item === \"object\" && item !== null && \"index\" in item && typeof item.index === \"number\") {\n\t\t\tconst toMerge = merged.findIndex((leftItem) => {\n\t\t\t\tconst isObject = typeof leftItem === \"object\";\n\t\t\t\tconst indiciesMatch = \"index\" in leftItem && leftItem.index === item.index;\n\t\t\t\tconst idsMatch = \"id\" in leftItem && \"id\" in item && leftItem?.id === item?.id;\n\t\t\t\tconst eitherItemMissingID = !(\"id\" in leftItem) || !leftItem?.id || !(\"id\" in item) || !item?.id;\n\t\t\t\treturn isObject && indiciesMatch && (idsMatch || eitherItemMissingID);\n\t\t\t});\n\t\t\tif (toMerge !== -1 && typeof merged[toMerge] === \"object\" && merged[toMerge] !== null) merged[toMerge] = _mergeDicts(merged[toMerge], item, options);\n\t\t\telse merged.push(item);\n\t\t} else if (typeof item === \"object\" && item !== null && \"text\" in item && item.text === \"\") continue;\n\t\telse merged.push(item);\n\t\treturn merged;\n\t}\n}\nfunction _mergeObj(left, right, options) {\n\tif (left == null && right == null) return void 0;\n\tif (left == null || right == null) return left ?? right;\n\telse if (typeof left !== typeof right) throw new Error(`Cannot merge objects of different types.\\nLeft ${typeof left}\\nRight ${typeof right}`);\n\telse if (typeof left === \"string\" && typeof right === \"string\") return left + right;\n\telse if (Array.isArray(left) && Array.isArray(right)) return _mergeLists(left, right, options);\n\telse if (typeof left === \"object\" && typeof right === \"object\") return _mergeDicts(left, right, options);\n\telse if (left === right) return left;\n\telse throw new Error(`Can not merge objects of different types.\\nLeft ${left}\\nRight ${right}`);\n}\n/**\n* Represents a chunk of a message, which can be concatenated with other\n* message chunks. It includes a method `_merge_kwargs_dict()` for merging\n* additional keyword arguments from another `BaseMessageChunk` into this\n* one. It also overrides the `__add__()` method to support concatenation\n* of `BaseMessageChunk` instances.\n*/\nvar BaseMessageChunk = class BaseMessageChunk extends BaseMessage {\n\tstatic isInstance(obj) {\n\t\tif (!super.isInstance(obj)) return false;\n\t\tlet proto = Object.getPrototypeOf(obj);\n\t\twhile (proto !== null) {\n\t\t\tif (proto === BaseMessageChunk.prototype) return true;\n\t\t\tproto = Object.getPrototypeOf(proto);\n\t\t}\n\t\treturn false;\n\t}\n};\nfunction _isMessageFieldWithRole(x) {\n\treturn typeof x.role === \"string\";\n}\n/**\n* @deprecated Use {@link BaseMessage.isInstance} instead\n*/\nfunction isBaseMessage(messageLike) {\n\treturn typeof messageLike?._getType === \"function\";\n}\n/**\n* @deprecated Use {@link BaseMessageChunk.isInstance} instead\n*/\nfunction isBaseMessageChunk(messageLike) {\n\treturn BaseMessageChunk.isInstance(messageLike);\n}\n\n//#endregion\n\n//# sourceMappingURL=base.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL2Jhc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF1RDtBQUNBO0FBQzBCO0FBQ1I7QUFDVztBQUMzQztBQUNjOztBQUV2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFLG9FQUFrQjtBQUN2RjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEdBQUc7QUFDSDtBQUNBLGtFQUFrRSxvRUFBa0I7QUFDcEY7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxpQ0FBaUM7QUFDM0MsVUFBVSxpQ0FBaUM7QUFDM0MsWUFBWSxxQkFBcUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLCtEQUFZO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUI7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRSxlQUFlO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRyxrRkFBMEI7QUFDN0IsR0FBRyw2RkFBbUM7QUFDdEMsR0FBRywwRkFBNkI7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZHQUE2RyxzREFBUztBQUN0SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw0QkFBNEIsRUFBRSxVQUFVO0FBQ3BEO0FBQ0E7QUFDQSxTQUFTLG9FQUF3QjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLCtIQUErSCxJQUFJO0FBQ25JO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLDRCQUE0QixJQUFJO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBHQUEwRyxZQUFZLFVBQVUsYUFBYTtBQUM3STtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlFQUF5RSxLQUFLLFVBQVUsTUFBTTtBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDhCQUE4QjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG1DQUFtQztBQUN0RDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUN3TjtBQUN4TiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9iYXNlLmpzP2RiY2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2VyaWFsaXphYmxlIH0gZnJvbSBcIi4uL2xvYWQvc2VyaWFsaXphYmxlLmpzXCI7XG5pbXBvcnQgeyBpc0RhdGFDb250ZW50QmxvY2sgfSBmcm9tIFwiLi9jb250ZW50L2RhdGEuanNcIjtcbmltcG9ydCB7IGNvbnZlcnRUb1YxRnJvbUFudGhyb3BpY0lucHV0IH0gZnJvbSBcIi4vYmxvY2tfdHJhbnNsYXRvcnMvYW50aHJvcGljLmpzXCI7XG5pbXBvcnQgeyBjb252ZXJ0VG9WMUZyb21EYXRhQ29udGVudCB9IGZyb20gXCIuL2Jsb2NrX3RyYW5zbGF0b3JzL2RhdGEuanNcIjtcbmltcG9ydCB7IGNvbnZlcnRUb1YxRnJvbUNoYXRDb21wbGV0aW9uc0lucHV0IH0gZnJvbSBcIi4vYmxvY2tfdHJhbnNsYXRvcnMvb3BlbmFpLmpzXCI7XG5pbXBvcnQgeyBpc01lc3NhZ2UgfSBmcm9tIFwiLi9tZXNzYWdlLmpzXCI7XG5pbXBvcnQgeyBjb252ZXJ0VG9Gb3JtYXR0ZWRTdHJpbmcgfSBmcm9tIFwiLi9mb3JtYXQuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9tZXNzYWdlcy9iYXNlLnRzXG4vKiogQGludGVybmFsICovXG5jb25zdCBNRVNTQUdFX1NZTUJPTCA9IFN5bWJvbC5mb3IoXCJsYW5nY2hhaW4ubWVzc2FnZVwiKTtcbmZ1bmN0aW9uIG1lcmdlQ29udGVudChmaXJzdENvbnRlbnQsIHNlY29uZENvbnRlbnQpIHtcblx0aWYgKHR5cGVvZiBmaXJzdENvbnRlbnQgPT09IFwic3RyaW5nXCIpIHtcblx0XHRpZiAoZmlyc3RDb250ZW50ID09PSBcIlwiKSByZXR1cm4gc2Vjb25kQ29udGVudDtcblx0XHRpZiAodHlwZW9mIHNlY29uZENvbnRlbnQgPT09IFwic3RyaW5nXCIpIHJldHVybiBmaXJzdENvbnRlbnQgKyBzZWNvbmRDb250ZW50O1xuXHRcdGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoc2Vjb25kQ29udGVudCkgJiYgc2Vjb25kQ29udGVudC5sZW5ndGggPT09IDApIHJldHVybiBmaXJzdENvbnRlbnQ7XG5cdFx0ZWxzZSBpZiAoQXJyYXkuaXNBcnJheShzZWNvbmRDb250ZW50KSAmJiBzZWNvbmRDb250ZW50LnNvbWUoKGMpID0+IGlzRGF0YUNvbnRlbnRCbG9jayhjKSkpIHJldHVybiBbe1xuXHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHRzb3VyY2VfdHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHR0ZXh0OiBmaXJzdENvbnRlbnRcblx0XHR9LCAuLi5zZWNvbmRDb250ZW50XTtcblx0XHRlbHNlIHJldHVybiBbe1xuXHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHR0ZXh0OiBmaXJzdENvbnRlbnRcblx0XHR9LCAuLi5zZWNvbmRDb250ZW50XTtcblx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHNlY29uZENvbnRlbnQpKSByZXR1cm4gX21lcmdlTGlzdHMoZmlyc3RDb250ZW50LCBzZWNvbmRDb250ZW50KSA/PyBbLi4uZmlyc3RDb250ZW50LCAuLi5zZWNvbmRDb250ZW50XTtcblx0ZWxzZSBpZiAoc2Vjb25kQ29udGVudCA9PT0gXCJcIikgcmV0dXJuIGZpcnN0Q29udGVudDtcblx0ZWxzZSBpZiAoQXJyYXkuaXNBcnJheShmaXJzdENvbnRlbnQpICYmIGZpcnN0Q29udGVudC5zb21lKChjKSA9PiBpc0RhdGFDb250ZW50QmxvY2soYykpKSByZXR1cm4gWy4uLmZpcnN0Q29udGVudCwge1xuXHRcdHR5cGU6IFwiZmlsZVwiLFxuXHRcdHNvdXJjZV90eXBlOiBcInRleHRcIixcblx0XHR0ZXh0OiBzZWNvbmRDb250ZW50XG5cdH1dO1xuXHRlbHNlIHJldHVybiBbLi4uZmlyc3RDb250ZW50LCB7XG5cdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0dGV4dDogc2Vjb25kQ29udGVudFxuXHR9XTtcbn1cbi8qKlxuKiAnTWVyZ2UnIHR3byBzdGF0dXNlcy4gSWYgZWl0aGVyIHZhbHVlIHBhc3NlZCBpcyAnZXJyb3InLCBpdCB3aWxsIHJldHVybiAnZXJyb3InLiBFbHNlXG4qIGl0IHdpbGwgcmV0dXJuICdzdWNjZXNzJy5cbipcbiogQHBhcmFtIHtcInN1Y2Nlc3NcIiB8IFwiZXJyb3JcIiB8IHVuZGVmaW5lZH0gbGVmdCBUaGUgZXhpc3RpbmcgdmFsdWUgdG8gJ21lcmdlJyB3aXRoIHRoZSBuZXcgdmFsdWUuXG4qIEBwYXJhbSB7XCJzdWNjZXNzXCIgfCBcImVycm9yXCIgfCB1bmRlZmluZWR9IHJpZ2h0IFRoZSBuZXcgdmFsdWUgdG8gJ21lcmdlJyB3aXRoIHRoZSBleGlzdGluZyB2YWx1ZVxuKiBAcmV0dXJucyB7XCJzdWNjZXNzXCIgfCBcImVycm9yXCJ9IFRoZSAnbWVyZ2VkJyB2YWx1ZS5cbiovXG5mdW5jdGlvbiBfbWVyZ2VTdGF0dXMobGVmdCwgcmlnaHQpIHtcblx0aWYgKGxlZnQgPT09IFwiZXJyb3JcIiB8fCByaWdodCA9PT0gXCJlcnJvclwiKSByZXR1cm4gXCJlcnJvclwiO1xuXHRyZXR1cm4gXCJzdWNjZXNzXCI7XG59XG5mdW5jdGlvbiBzdHJpbmdpZnlXaXRoRGVwdGhMaW1pdChvYmosIGRlcHRoTGltaXQpIHtcblx0ZnVuY3Rpb24gaGVscGVyKG9iaiQxLCBjdXJyZW50RGVwdGgpIHtcblx0XHRpZiAodHlwZW9mIG9iaiQxICE9PSBcIm9iamVjdFwiIHx8IG9iaiQxID09PSBudWxsIHx8IG9iaiQxID09PSB2b2lkIDApIHJldHVybiBvYmokMTtcblx0XHRpZiAoY3VycmVudERlcHRoID49IGRlcHRoTGltaXQpIHtcblx0XHRcdGlmIChBcnJheS5pc0FycmF5KG9iaiQxKSkgcmV0dXJuIFwiW0FycmF5XVwiO1xuXHRcdFx0cmV0dXJuIFwiW09iamVjdF1cIjtcblx0XHR9XG5cdFx0aWYgKEFycmF5LmlzQXJyYXkob2JqJDEpKSByZXR1cm4gb2JqJDEubWFwKChpdGVtKSA9PiBoZWxwZXIoaXRlbSwgY3VycmVudERlcHRoICsgMSkpO1xuXHRcdGNvbnN0IHJlc3VsdCA9IHt9O1xuXHRcdGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKG9iaiQxKSkgcmVzdWx0W2tleV0gPSBoZWxwZXIob2JqJDFba2V5XSwgY3VycmVudERlcHRoICsgMSk7XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fVxuXHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkoaGVscGVyKG9iaiwgMCksIG51bGwsIDIpO1xufVxuLyoqXG4qIEJhc2UgY2xhc3MgZm9yIGFsbCB0eXBlcyBvZiBtZXNzYWdlcyBpbiBhIGNvbnZlcnNhdGlvbi4gSXQgaW5jbHVkZXNcbiogcHJvcGVydGllcyBsaWtlIGBjb250ZW50YCwgYG5hbWVgLCBhbmQgYGFkZGl0aW9uYWxfa3dhcmdzYC4gSXQgYWxzb1xuKiBpbmNsdWRlcyBtZXRob2RzIGxpa2UgYHRvRGljdCgpYCBhbmQgYF9nZXRUeXBlKClgLlxuKi9cbnZhciBCYXNlTWVzc2FnZSA9IGNsYXNzIGV4dGVuZHMgU2VyaWFsaXphYmxlIHtcblx0bGNfbmFtZXNwYWNlID0gW1wibGFuZ2NoYWluX2NvcmVcIiwgXCJtZXNzYWdlc1wiXTtcblx0bGNfc2VyaWFsaXphYmxlID0gdHJ1ZTtcblx0Z2V0IGxjX2FsaWFzZXMoKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGFkZGl0aW9uYWxfa3dhcmdzOiBcImFkZGl0aW9uYWxfa3dhcmdzXCIsXG5cdFx0XHRyZXNwb25zZV9tZXRhZGF0YTogXCJyZXNwb25zZV9tZXRhZGF0YVwiXG5cdFx0fTtcblx0fVxuXHRbTUVTU0FHRV9TWU1CT0xdID0gdHJ1ZTtcblx0aWQ7XG5cdC8qKiBAaW5oZXJpdGRvYyAqL1xuXHRuYW1lO1xuXHRjb250ZW50O1xuXHRhZGRpdGlvbmFsX2t3YXJncztcblx0cmVzcG9uc2VfbWV0YWRhdGE7XG5cdC8qKlxuXHQqIEBkZXByZWNhdGVkIFVzZSAuZ2V0VHlwZSgpIGluc3RlYWQgb3IgaW1wb3J0IHRoZSBwcm9wZXIgdHlwZWd1YXJkLlxuXHQqIEZvciBleGFtcGxlOlxuXHQqXG5cdCogYGBgdHNcblx0KiBpbXBvcnQgeyBpc0FJTWVzc2FnZSB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvbWVzc2FnZXNcIjtcblx0KlxuXHQqIGNvbnN0IG1lc3NhZ2UgPSBuZXcgQUlNZXNzYWdlKFwiSGVsbG8hXCIpO1xuXHQqIGlzQUlNZXNzYWdlKG1lc3NhZ2UpOyAvLyB0cnVlXG5cdCogYGBgXG5cdCovXG5cdF9nZXRUeXBlKCkge1xuXHRcdHJldHVybiB0aGlzLnR5cGU7XG5cdH1cblx0LyoqXG5cdCogQGRlcHJlY2F0ZWQgVXNlIC50eXBlIGluc3RlYWRcblx0KiBUaGUgdHlwZSBvZiB0aGUgbWVzc2FnZS5cblx0Ki9cblx0Z2V0VHlwZSgpIHtcblx0XHRyZXR1cm4gdGhpcy5fZ2V0VHlwZSgpO1xuXHR9XG5cdGNvbnN0cnVjdG9yKGFyZykge1xuXHRcdGNvbnN0IGZpZWxkcyA9IHR5cGVvZiBhcmcgPT09IFwic3RyaW5nXCIgfHwgQXJyYXkuaXNBcnJheShhcmcpID8geyBjb250ZW50OiBhcmcgfSA6IGFyZztcblx0XHRpZiAoIWZpZWxkcy5hZGRpdGlvbmFsX2t3YXJncykgZmllbGRzLmFkZGl0aW9uYWxfa3dhcmdzID0ge307XG5cdFx0aWYgKCFmaWVsZHMucmVzcG9uc2VfbWV0YWRhdGEpIGZpZWxkcy5yZXNwb25zZV9tZXRhZGF0YSA9IHt9O1xuXHRcdHN1cGVyKGZpZWxkcyk7XG5cdFx0dGhpcy5uYW1lID0gZmllbGRzLm5hbWU7XG5cdFx0aWYgKGZpZWxkcy5jb250ZW50ID09PSB2b2lkIDAgJiYgZmllbGRzLmNvbnRlbnRCbG9ja3MgIT09IHZvaWQgMCkge1xuXHRcdFx0dGhpcy5jb250ZW50ID0gZmllbGRzLmNvbnRlbnRCbG9ja3M7XG5cdFx0XHR0aGlzLnJlc3BvbnNlX21ldGFkYXRhID0ge1xuXHRcdFx0XHRvdXRwdXRfdmVyc2lvbjogXCJ2MVwiLFxuXHRcdFx0XHQuLi5maWVsZHMucmVzcG9uc2VfbWV0YWRhdGFcblx0XHRcdH07XG5cdFx0fSBlbHNlIGlmIChmaWVsZHMuY29udGVudCAhPT0gdm9pZCAwKSB7XG5cdFx0XHR0aGlzLmNvbnRlbnQgPSBmaWVsZHMuY29udGVudCA/PyBbXTtcblx0XHRcdHRoaXMucmVzcG9uc2VfbWV0YWRhdGEgPSBmaWVsZHMucmVzcG9uc2VfbWV0YWRhdGE7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuY29udGVudCA9IFtdO1xuXHRcdFx0dGhpcy5yZXNwb25zZV9tZXRhZGF0YSA9IGZpZWxkcy5yZXNwb25zZV9tZXRhZGF0YTtcblx0XHR9XG5cdFx0dGhpcy5hZGRpdGlvbmFsX2t3YXJncyA9IGZpZWxkcy5hZGRpdGlvbmFsX2t3YXJncztcblx0XHR0aGlzLmlkID0gZmllbGRzLmlkO1xuXHR9XG5cdC8qKiBHZXQgdGV4dCBjb250ZW50IG9mIHRoZSBtZXNzYWdlLiAqL1xuXHRnZXQgdGV4dCgpIHtcblx0XHRpZiAodHlwZW9mIHRoaXMuY29udGVudCA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIHRoaXMuY29udGVudDtcblx0XHRpZiAoIUFycmF5LmlzQXJyYXkodGhpcy5jb250ZW50KSkgcmV0dXJuIFwiXCI7XG5cdFx0cmV0dXJuIHRoaXMuY29udGVudC5tYXAoKGMpID0+IHtcblx0XHRcdGlmICh0eXBlb2YgYyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIGM7XG5cdFx0XHRpZiAoYy50eXBlID09PSBcInRleHRcIikgcmV0dXJuIGMudGV4dDtcblx0XHRcdHJldHVybiBcIlwiO1xuXHRcdH0pLmpvaW4oXCJcIik7XG5cdH1cblx0Z2V0IGNvbnRlbnRCbG9ja3MoKSB7XG5cdFx0Y29uc3QgYmxvY2tzID0gdHlwZW9mIHRoaXMuY29udGVudCA9PT0gXCJzdHJpbmdcIiA/IFt7XG5cdFx0XHR0eXBlOiBcInRleHRcIixcblx0XHRcdHRleHQ6IHRoaXMuY29udGVudFxuXHRcdH1dIDogdGhpcy5jb250ZW50O1xuXHRcdGNvbnN0IHBhcnNpbmdTdGVwcyA9IFtcblx0XHRcdGNvbnZlcnRUb1YxRnJvbURhdGFDb250ZW50LFxuXHRcdFx0Y29udmVydFRvVjFGcm9tQ2hhdENvbXBsZXRpb25zSW5wdXQsXG5cdFx0XHRjb252ZXJ0VG9WMUZyb21BbnRocm9waWNJbnB1dFxuXHRcdF07XG5cdFx0Y29uc3QgcGFyc2VkQmxvY2tzID0gcGFyc2luZ1N0ZXBzLnJlZHVjZSgoYmxvY2tzJDEsIHN0ZXApID0+IHN0ZXAoYmxvY2tzJDEpLCBibG9ja3MpO1xuXHRcdHJldHVybiBwYXJzZWRCbG9ja3M7XG5cdH1cblx0dG9EaWN0KCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHR0eXBlOiB0aGlzLmdldFR5cGUoKSxcblx0XHRcdGRhdGE6IHRoaXMudG9KU09OKCkua3dhcmdzXG5cdFx0fTtcblx0fVxuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJCYXNlTWVzc2FnZVwiO1xuXHR9XG5cdGdldCBfcHJpbnRhYmxlRmllbGRzKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRpZDogdGhpcy5pZCxcblx0XHRcdGNvbnRlbnQ6IHRoaXMuY29udGVudCxcblx0XHRcdG5hbWU6IHRoaXMubmFtZSxcblx0XHRcdGFkZGl0aW9uYWxfa3dhcmdzOiB0aGlzLmFkZGl0aW9uYWxfa3dhcmdzLFxuXHRcdFx0cmVzcG9uc2VfbWV0YWRhdGE6IHRoaXMucmVzcG9uc2VfbWV0YWRhdGFcblx0XHR9O1xuXHR9XG5cdHN0YXRpYyBpc0luc3RhbmNlKG9iaikge1xuXHRcdHJldHVybiB0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiICYmIG9iaiAhPT0gbnVsbCAmJiBNRVNTQUdFX1NZTUJPTCBpbiBvYmogJiYgb2JqW01FU1NBR0VfU1lNQk9MXSA9PT0gdHJ1ZSAmJiBpc01lc3NhZ2Uob2JqKTtcblx0fVxuXHRfdXBkYXRlSWQodmFsdWUpIHtcblx0XHR0aGlzLmlkID0gdmFsdWU7XG5cdFx0dGhpcy5sY19rd2FyZ3MuaWQgPSB2YWx1ZTtcblx0fVxuXHRnZXQgW1N5bWJvbC50b1N0cmluZ1RhZ10oKSB7XG5cdFx0cmV0dXJuIHRoaXMuY29uc3RydWN0b3IubGNfbmFtZSgpO1xuXHR9XG5cdFtTeW1ib2wuZm9yKFwibm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b21cIildKGRlcHRoKSB7XG5cdFx0aWYgKGRlcHRoID09PSBudWxsKSByZXR1cm4gdGhpcztcblx0XHRjb25zdCBwcmludGFibGUgPSBzdHJpbmdpZnlXaXRoRGVwdGhMaW1pdCh0aGlzLl9wcmludGFibGVGaWVsZHMsIE1hdGgubWF4KDQsIGRlcHRoKSk7XG5cdFx0cmV0dXJuIGAke3RoaXMuY29uc3RydWN0b3IubGNfbmFtZSgpfSAke3ByaW50YWJsZX1gO1xuXHR9XG5cdHRvRm9ybWF0dGVkU3RyaW5nKGZvcm1hdCA9IFwicHJldHR5XCIpIHtcblx0XHRyZXR1cm4gY29udmVydFRvRm9ybWF0dGVkU3RyaW5nKHRoaXMsIGZvcm1hdCk7XG5cdH1cbn07XG5mdW5jdGlvbiBpc09wZW5BSVRvb2xDYWxsQXJyYXkodmFsdWUpIHtcblx0cmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmV2ZXJ5KCh2KSA9PiB0eXBlb2Ygdi5pbmRleCA9PT0gXCJudW1iZXJcIik7XG59XG4vKipcbiogRGVmYXVsdCBrZXlzIHRoYXQgc2hvdWxkIGJlIHByZXNlcnZlZCAobm90IG1lcmdlZCkgd2hlbiBjb25jYXRlbmF0aW5nIG1lc3NhZ2UgY2h1bmtzLlxuKiBUaGVzZSBhcmUgaWRlbnRpZmljYXRpb24gYW5kIHRpbWVzdGFtcCBmaWVsZHMgdGhhdCBzaG91bGRuJ3QgYmUgc3VtbWVkIG9yIGNvbmNhdGVuYXRlZC5cbiovXG5jb25zdCBERUZBVUxUX01FUkdFX0lHTk9SRV9LRVlTID0gW1xuXHRcImluZGV4XCIsXG5cdFwiY3JlYXRlZFwiLFxuXHRcInRpbWVzdGFtcFwiXG5dO1xuZnVuY3Rpb24gX21lcmdlRGljdHMobGVmdCwgcmlnaHQsIG9wdGlvbnMpIHtcblx0LyoqXG5cdCogVGhlIGtleXMgdG8gaWdub3JlIGR1cmluZyBtZXJnaW5nLlxuXHQqL1xuXHRjb25zdCBpZ25vcmVLZXlzID0gb3B0aW9ucz8uaWdub3JlS2V5cyA/PyBERUZBVUxUX01FUkdFX0lHTk9SRV9LRVlTO1xuXHRpZiAobGVmdCA9PSBudWxsICYmIHJpZ2h0ID09IG51bGwpIHJldHVybiB2b2lkIDA7XG5cdGlmIChsZWZ0ID09IG51bGwgfHwgcmlnaHQgPT0gbnVsbCkgcmV0dXJuIGxlZnQgPz8gcmlnaHQ7XG5cdGNvbnN0IG1lcmdlZCA9IHsgLi4ubGVmdCB9O1xuXHRmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhyaWdodCkpIGlmIChtZXJnZWRba2V5XSA9PSBudWxsKSBtZXJnZWRba2V5XSA9IHZhbHVlO1xuXHRlbHNlIGlmICh2YWx1ZSA9PSBudWxsKSBjb250aW51ZTtcblx0ZWxzZSBpZiAodHlwZW9mIG1lcmdlZFtrZXldICE9PSB0eXBlb2YgdmFsdWUgfHwgQXJyYXkuaXNBcnJheShtZXJnZWRba2V5XSkgIT09IEFycmF5LmlzQXJyYXkodmFsdWUpKSB0aHJvdyBuZXcgRXJyb3IoYGZpZWxkWyR7a2V5fV0gYWxyZWFkeSBleGlzdHMgaW4gdGhlIG1lc3NhZ2UgY2h1bmssIGJ1dCB3aXRoIGEgZGlmZmVyZW50IHR5cGUuYCk7XG5cdGVsc2UgaWYgKHR5cGVvZiBtZXJnZWRba2V5XSA9PT0gXCJzdHJpbmdcIikgaWYgKGtleSA9PT0gXCJ0eXBlXCIpIGNvbnRpbnVlO1xuXHRlbHNlIGlmIChbXG5cdFx0XCJpZFwiLFxuXHRcdFwibmFtZVwiLFxuXHRcdFwib3V0cHV0X3ZlcnNpb25cIixcblx0XHRcIm1vZGVsX3Byb3ZpZGVyXCJcblx0XS5pbmNsdWRlcyhrZXkpKSB7XG5cdFx0aWYgKHZhbHVlKSBtZXJnZWRba2V5XSA9IHZhbHVlO1xuXHR9IGVsc2UgaWYgKGlnbm9yZUtleXMuaW5jbHVkZXMoa2V5KSkgY29udGludWU7XG5cdGVsc2UgbWVyZ2VkW2tleV0gKz0gdmFsdWU7XG5cdGVsc2UgaWYgKHR5cGVvZiBtZXJnZWRba2V5XSA9PT0gXCJudW1iZXJcIikge1xuXHRcdGlmIChpZ25vcmVLZXlzLmluY2x1ZGVzKGtleSkpIGNvbnRpbnVlO1xuXHRcdG1lcmdlZFtrZXldID0gbWVyZ2VkW2tleV0gKyB2YWx1ZTtcblx0fSBlbHNlIGlmICh0eXBlb2YgbWVyZ2VkW2tleV0gPT09IFwib2JqZWN0XCIgJiYgIUFycmF5LmlzQXJyYXkobWVyZ2VkW2tleV0pKSBtZXJnZWRba2V5XSA9IF9tZXJnZURpY3RzKG1lcmdlZFtrZXldLCB2YWx1ZSwgb3B0aW9ucyk7XG5cdGVsc2UgaWYgKEFycmF5LmlzQXJyYXkobWVyZ2VkW2tleV0pKSBtZXJnZWRba2V5XSA9IF9tZXJnZUxpc3RzKG1lcmdlZFtrZXldLCB2YWx1ZSwgb3B0aW9ucyk7XG5cdGVsc2UgaWYgKG1lcmdlZFtrZXldID09PSB2YWx1ZSkgY29udGludWU7XG5cdGVsc2UgY29uc29sZS53YXJuKGBmaWVsZFske2tleX1dIGFscmVhZHkgZXhpc3RzIGluIHRoaXMgbWVzc2FnZSBjaHVuayBhbmQgdmFsdWUgaGFzIHVuc3VwcG9ydGVkIHR5cGUuYCk7XG5cdHJldHVybiBtZXJnZWQ7XG59XG5mdW5jdGlvbiBfbWVyZ2VMaXN0cyhsZWZ0LCByaWdodCwgb3B0aW9ucykge1xuXHRpZiAobGVmdCA9PSBudWxsICYmIHJpZ2h0ID09IG51bGwpIHJldHVybiB2b2lkIDA7XG5cdGVsc2UgaWYgKGxlZnQgPT0gbnVsbCB8fCByaWdodCA9PSBudWxsKSByZXR1cm4gbGVmdCB8fCByaWdodDtcblx0ZWxzZSB7XG5cdFx0Y29uc3QgbWVyZ2VkID0gWy4uLmxlZnRdO1xuXHRcdGZvciAoY29uc3QgaXRlbSBvZiByaWdodCkgaWYgKHR5cGVvZiBpdGVtID09PSBcIm9iamVjdFwiICYmIGl0ZW0gIT09IG51bGwgJiYgXCJpbmRleFwiIGluIGl0ZW0gJiYgdHlwZW9mIGl0ZW0uaW5kZXggPT09IFwibnVtYmVyXCIpIHtcblx0XHRcdGNvbnN0IHRvTWVyZ2UgPSBtZXJnZWQuZmluZEluZGV4KChsZWZ0SXRlbSkgPT4ge1xuXHRcdFx0XHRjb25zdCBpc09iamVjdCA9IHR5cGVvZiBsZWZ0SXRlbSA9PT0gXCJvYmplY3RcIjtcblx0XHRcdFx0Y29uc3QgaW5kaWNpZXNNYXRjaCA9IFwiaW5kZXhcIiBpbiBsZWZ0SXRlbSAmJiBsZWZ0SXRlbS5pbmRleCA9PT0gaXRlbS5pbmRleDtcblx0XHRcdFx0Y29uc3QgaWRzTWF0Y2ggPSBcImlkXCIgaW4gbGVmdEl0ZW0gJiYgXCJpZFwiIGluIGl0ZW0gJiYgbGVmdEl0ZW0/LmlkID09PSBpdGVtPy5pZDtcblx0XHRcdFx0Y29uc3QgZWl0aGVySXRlbU1pc3NpbmdJRCA9ICEoXCJpZFwiIGluIGxlZnRJdGVtKSB8fCAhbGVmdEl0ZW0/LmlkIHx8ICEoXCJpZFwiIGluIGl0ZW0pIHx8ICFpdGVtPy5pZDtcblx0XHRcdFx0cmV0dXJuIGlzT2JqZWN0ICYmIGluZGljaWVzTWF0Y2ggJiYgKGlkc01hdGNoIHx8IGVpdGhlckl0ZW1NaXNzaW5nSUQpO1xuXHRcdFx0fSk7XG5cdFx0XHRpZiAodG9NZXJnZSAhPT0gLTEgJiYgdHlwZW9mIG1lcmdlZFt0b01lcmdlXSA9PT0gXCJvYmplY3RcIiAmJiBtZXJnZWRbdG9NZXJnZV0gIT09IG51bGwpIG1lcmdlZFt0b01lcmdlXSA9IF9tZXJnZURpY3RzKG1lcmdlZFt0b01lcmdlXSwgaXRlbSwgb3B0aW9ucyk7XG5cdFx0XHRlbHNlIG1lcmdlZC5wdXNoKGl0ZW0pO1xuXHRcdH0gZWxzZSBpZiAodHlwZW9mIGl0ZW0gPT09IFwib2JqZWN0XCIgJiYgaXRlbSAhPT0gbnVsbCAmJiBcInRleHRcIiBpbiBpdGVtICYmIGl0ZW0udGV4dCA9PT0gXCJcIikgY29udGludWU7XG5cdFx0ZWxzZSBtZXJnZWQucHVzaChpdGVtKTtcblx0XHRyZXR1cm4gbWVyZ2VkO1xuXHR9XG59XG5mdW5jdGlvbiBfbWVyZ2VPYmoobGVmdCwgcmlnaHQsIG9wdGlvbnMpIHtcblx0aWYgKGxlZnQgPT0gbnVsbCAmJiByaWdodCA9PSBudWxsKSByZXR1cm4gdm9pZCAwO1xuXHRpZiAobGVmdCA9PSBudWxsIHx8IHJpZ2h0ID09IG51bGwpIHJldHVybiBsZWZ0ID8/IHJpZ2h0O1xuXHRlbHNlIGlmICh0eXBlb2YgbGVmdCAhPT0gdHlwZW9mIHJpZ2h0KSB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBtZXJnZSBvYmplY3RzIG9mIGRpZmZlcmVudCB0eXBlcy5cXG5MZWZ0ICR7dHlwZW9mIGxlZnR9XFxuUmlnaHQgJHt0eXBlb2YgcmlnaHR9YCk7XG5cdGVsc2UgaWYgKHR5cGVvZiBsZWZ0ID09PSBcInN0cmluZ1wiICYmIHR5cGVvZiByaWdodCA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIGxlZnQgKyByaWdodDtcblx0ZWxzZSBpZiAoQXJyYXkuaXNBcnJheShsZWZ0KSAmJiBBcnJheS5pc0FycmF5KHJpZ2h0KSkgcmV0dXJuIF9tZXJnZUxpc3RzKGxlZnQsIHJpZ2h0LCBvcHRpb25zKTtcblx0ZWxzZSBpZiAodHlwZW9mIGxlZnQgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHJpZ2h0ID09PSBcIm9iamVjdFwiKSByZXR1cm4gX21lcmdlRGljdHMobGVmdCwgcmlnaHQsIG9wdGlvbnMpO1xuXHRlbHNlIGlmIChsZWZ0ID09PSByaWdodCkgcmV0dXJuIGxlZnQ7XG5cdGVsc2UgdGhyb3cgbmV3IEVycm9yKGBDYW4gbm90IG1lcmdlIG9iamVjdHMgb2YgZGlmZmVyZW50IHR5cGVzLlxcbkxlZnQgJHtsZWZ0fVxcblJpZ2h0ICR7cmlnaHR9YCk7XG59XG4vKipcbiogUmVwcmVzZW50cyBhIGNodW5rIG9mIGEgbWVzc2FnZSwgd2hpY2ggY2FuIGJlIGNvbmNhdGVuYXRlZCB3aXRoIG90aGVyXG4qIG1lc3NhZ2UgY2h1bmtzLiBJdCBpbmNsdWRlcyBhIG1ldGhvZCBgX21lcmdlX2t3YXJnc19kaWN0KClgIGZvciBtZXJnaW5nXG4qIGFkZGl0aW9uYWwga2V5d29yZCBhcmd1bWVudHMgZnJvbSBhbm90aGVyIGBCYXNlTWVzc2FnZUNodW5rYCBpbnRvIHRoaXNcbiogb25lLiBJdCBhbHNvIG92ZXJyaWRlcyB0aGUgYF9fYWRkX18oKWAgbWV0aG9kIHRvIHN1cHBvcnQgY29uY2F0ZW5hdGlvblxuKiBvZiBgQmFzZU1lc3NhZ2VDaHVua2AgaW5zdGFuY2VzLlxuKi9cbnZhciBCYXNlTWVzc2FnZUNodW5rID0gY2xhc3MgQmFzZU1lc3NhZ2VDaHVuayBleHRlbmRzIEJhc2VNZXNzYWdlIHtcblx0c3RhdGljIGlzSW5zdGFuY2Uob2JqKSB7XG5cdFx0aWYgKCFzdXBlci5pc0luc3RhbmNlKG9iaikpIHJldHVybiBmYWxzZTtcblx0XHRsZXQgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqKTtcblx0XHR3aGlsZSAocHJvdG8gIT09IG51bGwpIHtcblx0XHRcdGlmIChwcm90byA9PT0gQmFzZU1lc3NhZ2VDaHVuay5wcm90b3R5cGUpIHJldHVybiB0cnVlO1xuXHRcdFx0cHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG8pO1xuXHRcdH1cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn07XG5mdW5jdGlvbiBfaXNNZXNzYWdlRmllbGRXaXRoUm9sZSh4KSB7XG5cdHJldHVybiB0eXBlb2YgeC5yb2xlID09PSBcInN0cmluZ1wiO1xufVxuLyoqXG4qIEBkZXByZWNhdGVkIFVzZSB7QGxpbmsgQmFzZU1lc3NhZ2UuaXNJbnN0YW5jZX0gaW5zdGVhZFxuKi9cbmZ1bmN0aW9uIGlzQmFzZU1lc3NhZ2UobWVzc2FnZUxpa2UpIHtcblx0cmV0dXJuIHR5cGVvZiBtZXNzYWdlTGlrZT8uX2dldFR5cGUgPT09IFwiZnVuY3Rpb25cIjtcbn1cbi8qKlxuKiBAZGVwcmVjYXRlZCBVc2Uge0BsaW5rIEJhc2VNZXNzYWdlQ2h1bmsuaXNJbnN0YW5jZX0gaW5zdGVhZFxuKi9cbmZ1bmN0aW9uIGlzQmFzZU1lc3NhZ2VDaHVuayhtZXNzYWdlTGlrZSkge1xuXHRyZXR1cm4gQmFzZU1lc3NhZ2VDaHVuay5pc0luc3RhbmNlKG1lc3NhZ2VMaWtlKTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBCYXNlTWVzc2FnZSwgQmFzZU1lc3NhZ2VDaHVuaywgREVGQVVMVF9NRVJHRV9JR05PUkVfS0VZUywgX2lzTWVzc2FnZUZpZWxkV2l0aFJvbGUsIF9tZXJnZURpY3RzLCBfbWVyZ2VMaXN0cywgX21lcmdlT2JqLCBfbWVyZ2VTdGF0dXMsIGlzQmFzZU1lc3NhZ2UsIGlzQmFzZU1lc3NhZ2VDaHVuaywgaXNPcGVuQUlUb29sQ2FsbEFycmF5LCBtZXJnZUNvbnRlbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhc2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/base.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/anthropic.js":
/*!******************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/anthropic.js ***!
  \******************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatAnthropicTranslator: () => (/* binding */ ChatAnthropicTranslator),\n/* harmony export */   convertToV1FromAnthropicInput: () => (/* binding */ convertToV1FromAnthropicInput)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/utils.js\");\n\n\n//#region src/messages/block_translators/anthropic.ts\nfunction convertAnthropicAnnotation(citation) {\n\tif (citation.type === \"char_location\" && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(citation.document_title) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isNumber)(citation.start_char_index) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isNumber)(citation.end_char_index) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(citation.cited_text)) {\n\t\tconst { document_title, start_char_index, end_char_index, cited_text,...rest } = citation;\n\t\treturn {\n\t\t\t...rest,\n\t\t\ttype: \"citation\",\n\t\t\tsource: \"char\",\n\t\t\ttitle: document_title ?? void 0,\n\t\t\tstartIndex: start_char_index,\n\t\t\tendIndex: end_char_index,\n\t\t\tcitedText: cited_text\n\t\t};\n\t}\n\tif (citation.type === \"page_location\" && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(citation.document_title) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isNumber)(citation.start_page_number) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isNumber)(citation.end_page_number) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(citation.cited_text)) {\n\t\tconst { document_title, start_page_number, end_page_number, cited_text,...rest } = citation;\n\t\treturn {\n\t\t\t...rest,\n\t\t\ttype: \"citation\",\n\t\t\tsource: \"page\",\n\t\t\ttitle: document_title ?? void 0,\n\t\t\tstartIndex: start_page_number,\n\t\t\tendIndex: end_page_number,\n\t\t\tcitedText: cited_text\n\t\t};\n\t}\n\tif (citation.type === \"content_block_location\" && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(citation.document_title) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isNumber)(citation.start_block_index) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isNumber)(citation.end_block_index) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(citation.cited_text)) {\n\t\tconst { document_title, start_block_index, end_block_index, cited_text,...rest } = citation;\n\t\treturn {\n\t\t\t...rest,\n\t\t\ttype: \"citation\",\n\t\t\tsource: \"block\",\n\t\t\ttitle: document_title ?? void 0,\n\t\t\tstartIndex: start_block_index,\n\t\t\tendIndex: end_block_index,\n\t\t\tcitedText: cited_text\n\t\t};\n\t}\n\tif (citation.type === \"web_search_result_location\" && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(citation.url) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(citation.title) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(citation.encrypted_index) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(citation.cited_text)) {\n\t\tconst { url, title, encrypted_index, cited_text,...rest } = citation;\n\t\treturn {\n\t\t\t...rest,\n\t\t\ttype: \"citation\",\n\t\t\tsource: \"url\",\n\t\t\turl,\n\t\t\ttitle,\n\t\t\tstartIndex: Number(encrypted_index),\n\t\t\tendIndex: Number(encrypted_index),\n\t\t\tcitedText: cited_text\n\t\t};\n\t}\n\tif (citation.type === \"search_result_location\" && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(citation.source) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(citation.title) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isNumber)(citation.start_block_index) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isNumber)(citation.end_block_index) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(citation.cited_text)) {\n\t\tconst { source, title, start_block_index, end_block_index, cited_text,...rest } = citation;\n\t\treturn {\n\t\t\t...rest,\n\t\t\ttype: \"citation\",\n\t\t\tsource: \"search\",\n\t\t\turl: source,\n\t\t\ttitle: title ?? void 0,\n\t\t\tstartIndex: start_block_index,\n\t\t\tendIndex: end_block_index,\n\t\t\tcitedText: cited_text\n\t\t};\n\t}\n\treturn void 0;\n}\n/**\n* Converts an Anthropic content block to a standard V1 content block.\n*\n* This function handles the conversion of Anthropic-specific content blocks\n* (document and image blocks) to the standardized V1 format. It supports\n* various source types including base64 data, URLs, file IDs, and text data.\n*\n* @param block - The Anthropic content block to convert\n* @returns A standard V1 content block if conversion is successful, undefined otherwise\n*\n* @example\n* ```typescript\n* const anthropicBlock = {\n*   type: \"image\",\n*   source: {\n*     type: \"base64\",\n*     media_type: \"image/png\",\n*     data: \"iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8/5+hHgAHggJ/PchI7wAAAABJRU5ErkJggg==\"\n*   }\n* };\n*\n* const standardBlock = convertToV1FromAnthropicContentBlock(anthropicBlock);\n* // Returns: { type: \"image\", mimeType: \"image/png\", data: \"...\" }\n* ```\n*/\nfunction convertToV1FromAnthropicContentBlock(block) {\n\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"document\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.source) && \"type\" in block.source) {\n\t\tif (block.source.type === \"base64\" && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.source.media_type) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.source.data)) return {\n\t\t\ttype: \"file\",\n\t\t\tmimeType: block.source.media_type,\n\t\t\tdata: block.source.data\n\t\t};\n\t\telse if (block.source.type === \"url\" && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.source.url)) return {\n\t\t\ttype: \"file\",\n\t\t\turl: block.source.url\n\t\t};\n\t\telse if (block.source.type === \"file\" && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.source.file_id)) return {\n\t\t\ttype: \"file\",\n\t\t\tfileId: block.source.file_id\n\t\t};\n\t\telse if (block.source.type === \"text\" && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.source.data)) return {\n\t\t\ttype: \"file\",\n\t\t\tmimeType: String(block.source.media_type ?? \"text/plain\"),\n\t\t\tdata: block.source.data\n\t\t};\n\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"image\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.source) && \"type\" in block.source) {\n\t\tif (block.source.type === \"base64\" && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.source.media_type) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.source.data)) return {\n\t\t\ttype: \"image\",\n\t\t\tmimeType: block.source.media_type,\n\t\t\tdata: block.source.data\n\t\t};\n\t\telse if (block.source.type === \"url\" && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.source.url)) return {\n\t\t\ttype: \"image\",\n\t\t\turl: block.source.url\n\t\t};\n\t\telse if (block.source.type === \"file\" && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.source.file_id)) return {\n\t\t\ttype: \"image\",\n\t\t\tfileId: block.source.file_id\n\t\t};\n\t}\n\treturn void 0;\n}\n/**\n* Converts an array of content blocks from Anthropic format to v1 standard format.\n*\n* This function processes each content block in the input array, attempting to convert\n* Anthropic-specific block formats (like image blocks with source objects, document blocks, etc.)\n* to the standardized v1 content block format. If a block cannot be converted, it is\n* passed through as-is with a type assertion to ContentBlock.Standard.\n*\n* @param content - Array of content blocks in Anthropic format to be converted\n* @returns Array of content blocks in v1 standard format\n*/\nfunction convertToV1FromAnthropicInput(content) {\n\tfunction* iterateContent() {\n\t\tfor (const block of content) {\n\t\t\tconst stdBlock = convertToV1FromAnthropicContentBlock(block);\n\t\t\tif (stdBlock) yield stdBlock;\n\t\t\telse yield block;\n\t\t}\n\t}\n\treturn Array.from(iterateContent());\n}\n/**\n* Converts an Anthropic AI message to an array of v1 standard content blocks.\n*\n* This function processes an AI message containing Anthropic-specific content blocks\n* and converts them to the standardized v1 content block format.\n*\n* @param message - The AI message containing Anthropic-formatted content blocks\n* @returns Array of content blocks in v1 standard format\n*\n* @example\n* ```typescript\n* const message = new AIMessage([\n*   { type: \"text\", text: \"Hello world\" },\n*   { type: \"thinking\", text: \"Let me think about this...\" },\n*   { type: \"tool_use\", id: \"123\", name: \"calculator\", input: { a: 1, b: 2 } }\n* ]);\n*\n* const standardBlocks = convertToV1FromAnthropicMessage(message);\n* // Returns:\n* // [\n* //   { type: \"text\", text: \"Hello world\" },\n* //   { type: \"reasoning\", reasoning: \"Let me think about this...\" },\n* //   { type: \"tool_call\", id: \"123\", name: \"calculator\", args: { a: 1, b: 2 } }\n* // ]\n* ```\n*/\nfunction convertToV1FromAnthropicMessage(message) {\n\tfunction* iterateContent() {\n\t\tconst content = typeof message.content === \"string\" ? [{\n\t\t\ttype: \"text\",\n\t\t\ttext: message.content\n\t\t}] : message.content;\n\t\tfor (const block of content) {\n\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"text\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.text)) {\n\t\t\t\tconst { text, citations,...rest } = block;\n\t\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isArray)(citations) && citations.length) {\n\t\t\t\t\tconst _citations = citations.reduce((acc, item) => {\n\t\t\t\t\t\tconst citation = convertAnthropicAnnotation(item);\n\t\t\t\t\t\tif (citation) return [...acc, citation];\n\t\t\t\t\t\treturn acc;\n\t\t\t\t\t}, []);\n\t\t\t\t\tyield {\n\t\t\t\t\t\t...rest,\n\t\t\t\t\t\ttype: \"text\",\n\t\t\t\t\t\ttext,\n\t\t\t\t\t\tannotations: _citations\n\t\t\t\t\t};\n\t\t\t\t\tcontinue;\n\t\t\t\t} else {\n\t\t\t\t\tyield {\n\t\t\t\t\t\t...rest,\n\t\t\t\t\t\ttype: \"text\",\n\t\t\t\t\t\ttext\n\t\t\t\t\t};\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"thinking\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.thinking)) {\n\t\t\t\tconst { thinking, signature,...rest } = block;\n\t\t\t\tyield {\n\t\t\t\t\t...rest,\n\t\t\t\t\ttype: \"reasoning\",\n\t\t\t\t\treasoning: thinking,\n\t\t\t\t\tsignature\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"redacted_thinking\")) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"non_standard\",\n\t\t\t\t\tvalue: block\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"tool_use\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.name) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.id)) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"tool_call\",\n\t\t\t\t\tid: block.id,\n\t\t\t\t\tname: block.name,\n\t\t\t\t\targs: block.input\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"input_json_delta\")) {\n\t\t\t\tif (_isAIMessageChunk(message) && message.tool_call_chunks?.length) {\n\t\t\t\t\tconst tool_call_chunk = message.tool_call_chunks[0];\n\t\t\t\t\tyield {\n\t\t\t\t\t\ttype: \"tool_call_chunk\",\n\t\t\t\t\t\tid: tool_call_chunk.id,\n\t\t\t\t\t\tname: tool_call_chunk.name,\n\t\t\t\t\t\targs: tool_call_chunk.args,\n\t\t\t\t\t\tindex: tool_call_chunk.index\n\t\t\t\t\t};\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"server_tool_use\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.name) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.id)) {\n\t\t\t\tconst { name, id } = block;\n\t\t\t\tif (name === \"web_search\") {\n\t\t\t\t\tconst query = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iife)(() => {\n\t\t\t\t\t\tif (typeof block.input === \"string\") return block.input;\n\t\t\t\t\t\telse if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.input) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.input.query)) return block.input.query;\n\t\t\t\t\t\telse if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.partial_json)) {\n\t\t\t\t\t\t\tconst json = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.safeParseJson)(block.partial_json);\n\t\t\t\t\t\t\tif (json?.query) return json.query;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn \"\";\n\t\t\t\t\t});\n\t\t\t\t\tyield {\n\t\t\t\t\t\tid,\n\t\t\t\t\t\ttype: \"server_tool_call\",\n\t\t\t\t\t\tname: \"web_search\",\n\t\t\t\t\t\targs: { query }\n\t\t\t\t\t};\n\t\t\t\t\tcontinue;\n\t\t\t\t} else if (block.name === \"code_execution\") {\n\t\t\t\t\tconst code = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iife)(() => {\n\t\t\t\t\t\tif (typeof block.input === \"string\") return block.input;\n\t\t\t\t\t\telse if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.input) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.input.code)) return block.input.code;\n\t\t\t\t\t\telse if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.partial_json)) {\n\t\t\t\t\t\t\tconst json = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.safeParseJson)(block.partial_json);\n\t\t\t\t\t\t\tif (json?.code) return json.code;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn \"\";\n\t\t\t\t\t});\n\t\t\t\t\tyield {\n\t\t\t\t\t\tid,\n\t\t\t\t\t\ttype: \"server_tool_call\",\n\t\t\t\t\t\tname: \"code_execution\",\n\t\t\t\t\t\targs: { code }\n\t\t\t\t\t};\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"web_search_tool_result\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.tool_use_id) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isArray)(block.content)) {\n\t\t\t\tconst { content: content$1, tool_use_id } = block;\n\t\t\t\tconst urls = content$1.reduce((acc, content$2) => {\n\t\t\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(content$2, \"web_search_result\")) return [...acc, content$2.url];\n\t\t\t\t\treturn acc;\n\t\t\t\t}, []);\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"server_tool_call_result\",\n\t\t\t\t\tname: \"web_search\",\n\t\t\t\t\ttoolCallId: tool_use_id,\n\t\t\t\t\tstatus: \"success\",\n\t\t\t\t\toutput: { urls }\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"code_execution_tool_result\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.tool_use_id) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.content)) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"server_tool_call_result\",\n\t\t\t\t\tname: \"code_execution\",\n\t\t\t\t\ttoolCallId: block.tool_use_id,\n\t\t\t\t\tstatus: \"success\",\n\t\t\t\t\toutput: block.content\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"mcp_tool_use\")) {\n\t\t\t\tyield {\n\t\t\t\t\tid: block.id,\n\t\t\t\t\ttype: \"server_tool_call\",\n\t\t\t\t\tname: \"mcp_tool_use\",\n\t\t\t\t\targs: block.input\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"mcp_tool_result\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.tool_use_id) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.content)) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"server_tool_call_result\",\n\t\t\t\t\tname: \"mcp_tool_use\",\n\t\t\t\t\ttoolCallId: block.tool_use_id,\n\t\t\t\t\tstatus: \"success\",\n\t\t\t\t\toutput: block.content\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"container_upload\")) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"server_tool_call\",\n\t\t\t\t\tname: \"container_upload\",\n\t\t\t\t\targs: block.input\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"search_result\")) {\n\t\t\t\tyield {\n\t\t\t\t\tid: block.id,\n\t\t\t\t\ttype: \"non_standard\",\n\t\t\t\t\tvalue: block\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"tool_result\")) {\n\t\t\t\tyield {\n\t\t\t\t\tid: block.id,\n\t\t\t\t\ttype: \"non_standard\",\n\t\t\t\t\tvalue: block\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else {\n\t\t\t\tconst stdBlock = convertToV1FromAnthropicContentBlock(block);\n\t\t\t\tif (stdBlock) {\n\t\t\t\t\tyield stdBlock;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\tyield {\n\t\t\t\ttype: \"non_standard\",\n\t\t\t\tvalue: block\n\t\t\t};\n\t\t}\n\t}\n\treturn Array.from(iterateContent());\n}\nconst ChatAnthropicTranslator = {\n\ttranslateContent: convertToV1FromAnthropicMessage,\n\ttranslateContentChunk: convertToV1FromAnthropicMessage\n};\nfunction _isAIMessageChunk(message) {\n\treturn typeof message?._getType === \"function\" && typeof message.concat === \"function\" && message._getType() === \"ai\";\n}\n\n//#endregion\n\n//# sourceMappingURL=anthropic.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL2Jsb2NrX3RyYW5zbGF0b3JzL2FudGhyb3BpYy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNkc7O0FBRTdHO0FBQ0E7QUFDQSwwQ0FBMEMsb0RBQVMsNkJBQTZCLG9EQUFTLCtCQUErQixvREFBUyw2QkFBNkIsb0RBQVM7QUFDdkssVUFBVSx1RUFBdUU7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsb0RBQVMsNkJBQTZCLG9EQUFTLGdDQUFnQyxvREFBUyw4QkFBOEIsb0RBQVM7QUFDekssVUFBVSx5RUFBeUU7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsb0RBQVMsNkJBQTZCLG9EQUFTLGdDQUFnQyxvREFBUyw4QkFBOEIsb0RBQVM7QUFDbEwsVUFBVSx5RUFBeUU7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsb0RBQVMsa0JBQWtCLG9EQUFTLG9CQUFvQixvREFBUyw4QkFBOEIsb0RBQVM7QUFDL0osVUFBVSxrREFBa0Q7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxvREFBUyxxQkFBcUIsb0RBQVMsb0JBQW9CLG9EQUFTLGdDQUFnQyxvREFBUyw4QkFBOEIsb0RBQVM7QUFDdk0sVUFBVSx3RUFBd0U7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQSxLQUFLLDBEQUFlLHVCQUF1QixvREFBUztBQUNwRCx3Q0FBd0Msb0RBQVMsNkJBQTZCLG9EQUFTO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLG9EQUFTO0FBQ25EO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxvREFBUztBQUNwRDtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsb0RBQVM7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLFNBQVMsMERBQWUsb0JBQW9CLG9EQUFTO0FBQ3hELHdDQUF3QyxvREFBUyw2QkFBNkIsb0RBQVM7QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsb0RBQVM7QUFDbkQ7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLG9EQUFTO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sbUNBQW1DO0FBQ3pDLE1BQU0sc0RBQXNEO0FBQzVELE1BQU0sMERBQTBEO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLG1DQUFtQztBQUM1QyxTQUFTLDREQUE0RDtBQUNyRSxTQUFTLDBEQUEwRDtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsT0FBTywwREFBZSxtQkFBbUIsb0RBQVM7QUFDbEQsWUFBWSwwQkFBMEI7QUFDdEMsUUFBUSxtREFBUTtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssU0FBUywwREFBZSx1QkFBdUIsb0RBQVM7QUFDN0QsWUFBWSw4QkFBOEI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLFNBQVMsMERBQWU7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssU0FBUywwREFBZSx1QkFBdUIsb0RBQVMsZ0JBQWdCLG9EQUFTO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxTQUFTLDBEQUFlO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLFNBQVMsMERBQWUsOEJBQThCLG9EQUFTLGdCQUFnQixvREFBUztBQUM3RixZQUFZLFdBQVc7QUFDdkI7QUFDQSxtQkFBbUIsK0NBQUk7QUFDdkI7QUFDQSxlQUFlLG9EQUFTLGlCQUFpQixvREFBUztBQUNsRCxlQUFlLG9EQUFTO0FBQ3hCLG9CQUFvQix3REFBYTtBQUNqQztBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLE1BQU07QUFDTixrQkFBa0IsK0NBQUk7QUFDdEI7QUFDQSxlQUFlLG9EQUFTLGlCQUFpQixvREFBUztBQUNsRCxlQUFlLG9EQUFTO0FBQ3hCLG9CQUFvQix3REFBYTtBQUNqQztBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0EsS0FBSyxTQUFTLDBEQUFlLHFDQUFxQyxvREFBUyx1QkFBdUIsbURBQVE7QUFDMUcsWUFBWSxrQ0FBa0M7QUFDOUM7QUFDQSxTQUFTLDBEQUFlO0FBQ3hCO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBLEtBQUssU0FBUywwREFBZSx5Q0FBeUMsb0RBQVMsdUJBQXVCLG9EQUFTO0FBQy9HO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLFNBQVMsMERBQWU7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLFNBQVMsMERBQWUsOEJBQThCLG9EQUFTLHVCQUF1QixvREFBUztBQUNwRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxTQUFTLDBEQUFlO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssU0FBUywwREFBZTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLFNBQVMsMERBQWU7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNrRTtBQUNsRSIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy9hbnRocm9waWMuanM/ZDNhYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfaXNBcnJheSwgX2lzQ29udGVudEJsb2NrLCBfaXNOdW1iZXIsIF9pc09iamVjdCwgX2lzU3RyaW5nLCBpaWZlLCBzYWZlUGFyc2VKc29uIH0gZnJvbSBcIi4vdXRpbHMuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy9hbnRocm9waWMudHNcbmZ1bmN0aW9uIGNvbnZlcnRBbnRocm9waWNBbm5vdGF0aW9uKGNpdGF0aW9uKSB7XG5cdGlmIChjaXRhdGlvbi50eXBlID09PSBcImNoYXJfbG9jYXRpb25cIiAmJiBfaXNTdHJpbmcoY2l0YXRpb24uZG9jdW1lbnRfdGl0bGUpICYmIF9pc051bWJlcihjaXRhdGlvbi5zdGFydF9jaGFyX2luZGV4KSAmJiBfaXNOdW1iZXIoY2l0YXRpb24uZW5kX2NoYXJfaW5kZXgpICYmIF9pc1N0cmluZyhjaXRhdGlvbi5jaXRlZF90ZXh0KSkge1xuXHRcdGNvbnN0IHsgZG9jdW1lbnRfdGl0bGUsIHN0YXJ0X2NoYXJfaW5kZXgsIGVuZF9jaGFyX2luZGV4LCBjaXRlZF90ZXh0LC4uLnJlc3QgfSA9IGNpdGF0aW9uO1xuXHRcdHJldHVybiB7XG5cdFx0XHQuLi5yZXN0LFxuXHRcdFx0dHlwZTogXCJjaXRhdGlvblwiLFxuXHRcdFx0c291cmNlOiBcImNoYXJcIixcblx0XHRcdHRpdGxlOiBkb2N1bWVudF90aXRsZSA/PyB2b2lkIDAsXG5cdFx0XHRzdGFydEluZGV4OiBzdGFydF9jaGFyX2luZGV4LFxuXHRcdFx0ZW5kSW5kZXg6IGVuZF9jaGFyX2luZGV4LFxuXHRcdFx0Y2l0ZWRUZXh0OiBjaXRlZF90ZXh0XG5cdFx0fTtcblx0fVxuXHRpZiAoY2l0YXRpb24udHlwZSA9PT0gXCJwYWdlX2xvY2F0aW9uXCIgJiYgX2lzU3RyaW5nKGNpdGF0aW9uLmRvY3VtZW50X3RpdGxlKSAmJiBfaXNOdW1iZXIoY2l0YXRpb24uc3RhcnRfcGFnZV9udW1iZXIpICYmIF9pc051bWJlcihjaXRhdGlvbi5lbmRfcGFnZV9udW1iZXIpICYmIF9pc1N0cmluZyhjaXRhdGlvbi5jaXRlZF90ZXh0KSkge1xuXHRcdGNvbnN0IHsgZG9jdW1lbnRfdGl0bGUsIHN0YXJ0X3BhZ2VfbnVtYmVyLCBlbmRfcGFnZV9udW1iZXIsIGNpdGVkX3RleHQsLi4ucmVzdCB9ID0gY2l0YXRpb247XG5cdFx0cmV0dXJuIHtcblx0XHRcdC4uLnJlc3QsXG5cdFx0XHR0eXBlOiBcImNpdGF0aW9uXCIsXG5cdFx0XHRzb3VyY2U6IFwicGFnZVwiLFxuXHRcdFx0dGl0bGU6IGRvY3VtZW50X3RpdGxlID8/IHZvaWQgMCxcblx0XHRcdHN0YXJ0SW5kZXg6IHN0YXJ0X3BhZ2VfbnVtYmVyLFxuXHRcdFx0ZW5kSW5kZXg6IGVuZF9wYWdlX251bWJlcixcblx0XHRcdGNpdGVkVGV4dDogY2l0ZWRfdGV4dFxuXHRcdH07XG5cdH1cblx0aWYgKGNpdGF0aW9uLnR5cGUgPT09IFwiY29udGVudF9ibG9ja19sb2NhdGlvblwiICYmIF9pc1N0cmluZyhjaXRhdGlvbi5kb2N1bWVudF90aXRsZSkgJiYgX2lzTnVtYmVyKGNpdGF0aW9uLnN0YXJ0X2Jsb2NrX2luZGV4KSAmJiBfaXNOdW1iZXIoY2l0YXRpb24uZW5kX2Jsb2NrX2luZGV4KSAmJiBfaXNTdHJpbmcoY2l0YXRpb24uY2l0ZWRfdGV4dCkpIHtcblx0XHRjb25zdCB7IGRvY3VtZW50X3RpdGxlLCBzdGFydF9ibG9ja19pbmRleCwgZW5kX2Jsb2NrX2luZGV4LCBjaXRlZF90ZXh0LC4uLnJlc3QgfSA9IGNpdGF0aW9uO1xuXHRcdHJldHVybiB7XG5cdFx0XHQuLi5yZXN0LFxuXHRcdFx0dHlwZTogXCJjaXRhdGlvblwiLFxuXHRcdFx0c291cmNlOiBcImJsb2NrXCIsXG5cdFx0XHR0aXRsZTogZG9jdW1lbnRfdGl0bGUgPz8gdm9pZCAwLFxuXHRcdFx0c3RhcnRJbmRleDogc3RhcnRfYmxvY2tfaW5kZXgsXG5cdFx0XHRlbmRJbmRleDogZW5kX2Jsb2NrX2luZGV4LFxuXHRcdFx0Y2l0ZWRUZXh0OiBjaXRlZF90ZXh0XG5cdFx0fTtcblx0fVxuXHRpZiAoY2l0YXRpb24udHlwZSA9PT0gXCJ3ZWJfc2VhcmNoX3Jlc3VsdF9sb2NhdGlvblwiICYmIF9pc1N0cmluZyhjaXRhdGlvbi51cmwpICYmIF9pc1N0cmluZyhjaXRhdGlvbi50aXRsZSkgJiYgX2lzU3RyaW5nKGNpdGF0aW9uLmVuY3J5cHRlZF9pbmRleCkgJiYgX2lzU3RyaW5nKGNpdGF0aW9uLmNpdGVkX3RleHQpKSB7XG5cdFx0Y29uc3QgeyB1cmwsIHRpdGxlLCBlbmNyeXB0ZWRfaW5kZXgsIGNpdGVkX3RleHQsLi4ucmVzdCB9ID0gY2l0YXRpb247XG5cdFx0cmV0dXJuIHtcblx0XHRcdC4uLnJlc3QsXG5cdFx0XHR0eXBlOiBcImNpdGF0aW9uXCIsXG5cdFx0XHRzb3VyY2U6IFwidXJsXCIsXG5cdFx0XHR1cmwsXG5cdFx0XHR0aXRsZSxcblx0XHRcdHN0YXJ0SW5kZXg6IE51bWJlcihlbmNyeXB0ZWRfaW5kZXgpLFxuXHRcdFx0ZW5kSW5kZXg6IE51bWJlcihlbmNyeXB0ZWRfaW5kZXgpLFxuXHRcdFx0Y2l0ZWRUZXh0OiBjaXRlZF90ZXh0XG5cdFx0fTtcblx0fVxuXHRpZiAoY2l0YXRpb24udHlwZSA9PT0gXCJzZWFyY2hfcmVzdWx0X2xvY2F0aW9uXCIgJiYgX2lzU3RyaW5nKGNpdGF0aW9uLnNvdXJjZSkgJiYgX2lzU3RyaW5nKGNpdGF0aW9uLnRpdGxlKSAmJiBfaXNOdW1iZXIoY2l0YXRpb24uc3RhcnRfYmxvY2tfaW5kZXgpICYmIF9pc051bWJlcihjaXRhdGlvbi5lbmRfYmxvY2tfaW5kZXgpICYmIF9pc1N0cmluZyhjaXRhdGlvbi5jaXRlZF90ZXh0KSkge1xuXHRcdGNvbnN0IHsgc291cmNlLCB0aXRsZSwgc3RhcnRfYmxvY2tfaW5kZXgsIGVuZF9ibG9ja19pbmRleCwgY2l0ZWRfdGV4dCwuLi5yZXN0IH0gPSBjaXRhdGlvbjtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Li4ucmVzdCxcblx0XHRcdHR5cGU6IFwiY2l0YXRpb25cIixcblx0XHRcdHNvdXJjZTogXCJzZWFyY2hcIixcblx0XHRcdHVybDogc291cmNlLFxuXHRcdFx0dGl0bGU6IHRpdGxlID8/IHZvaWQgMCxcblx0XHRcdHN0YXJ0SW5kZXg6IHN0YXJ0X2Jsb2NrX2luZGV4LFxuXHRcdFx0ZW5kSW5kZXg6IGVuZF9ibG9ja19pbmRleCxcblx0XHRcdGNpdGVkVGV4dDogY2l0ZWRfdGV4dFxuXHRcdH07XG5cdH1cblx0cmV0dXJuIHZvaWQgMDtcbn1cbi8qKlxuKiBDb252ZXJ0cyBhbiBBbnRocm9waWMgY29udGVudCBibG9jayB0byBhIHN0YW5kYXJkIFYxIGNvbnRlbnQgYmxvY2suXG4qXG4qIFRoaXMgZnVuY3Rpb24gaGFuZGxlcyB0aGUgY29udmVyc2lvbiBvZiBBbnRocm9waWMtc3BlY2lmaWMgY29udGVudCBibG9ja3NcbiogKGRvY3VtZW50IGFuZCBpbWFnZSBibG9ja3MpIHRvIHRoZSBzdGFuZGFyZGl6ZWQgVjEgZm9ybWF0LiBJdCBzdXBwb3J0c1xuKiB2YXJpb3VzIHNvdXJjZSB0eXBlcyBpbmNsdWRpbmcgYmFzZTY0IGRhdGEsIFVSTHMsIGZpbGUgSURzLCBhbmQgdGV4dCBkYXRhLlxuKlxuKiBAcGFyYW0gYmxvY2sgLSBUaGUgQW50aHJvcGljIGNvbnRlbnQgYmxvY2sgdG8gY29udmVydFxuKiBAcmV0dXJucyBBIHN0YW5kYXJkIFYxIGNvbnRlbnQgYmxvY2sgaWYgY29udmVyc2lvbiBpcyBzdWNjZXNzZnVsLCB1bmRlZmluZWQgb3RoZXJ3aXNlXG4qXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogY29uc3QgYW50aHJvcGljQmxvY2sgPSB7XG4qICAgdHlwZTogXCJpbWFnZVwiLFxuKiAgIHNvdXJjZToge1xuKiAgICAgdHlwZTogXCJiYXNlNjRcIixcbiogICAgIG1lZGlhX3R5cGU6IFwiaW1hZ2UvcG5nXCIsXG4qICAgICBkYXRhOiBcImlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBRUFBQUFCQ0FZQUFBQWZGY1NKQUFBQURVbEVRVlI0Mm1QOC81K2hIZ0FIZ2dKL1BjaEk3d0FBQUFCSlJVNUVya0pnZ2c9PVwiXG4qICAgfVxuKiB9O1xuKlxuKiBjb25zdCBzdGFuZGFyZEJsb2NrID0gY29udmVydFRvVjFGcm9tQW50aHJvcGljQ29udGVudEJsb2NrKGFudGhyb3BpY0Jsb2NrKTtcbiogLy8gUmV0dXJuczogeyB0eXBlOiBcImltYWdlXCIsIG1pbWVUeXBlOiBcImltYWdlL3BuZ1wiLCBkYXRhOiBcIi4uLlwiIH1cbiogYGBgXG4qL1xuZnVuY3Rpb24gY29udmVydFRvVjFGcm9tQW50aHJvcGljQ29udGVudEJsb2NrKGJsb2NrKSB7XG5cdGlmIChfaXNDb250ZW50QmxvY2soYmxvY2ssIFwiZG9jdW1lbnRcIikgJiYgX2lzT2JqZWN0KGJsb2NrLnNvdXJjZSkgJiYgXCJ0eXBlXCIgaW4gYmxvY2suc291cmNlKSB7XG5cdFx0aWYgKGJsb2NrLnNvdXJjZS50eXBlID09PSBcImJhc2U2NFwiICYmIF9pc1N0cmluZyhibG9jay5zb3VyY2UubWVkaWFfdHlwZSkgJiYgX2lzU3RyaW5nKGJsb2NrLnNvdXJjZS5kYXRhKSkgcmV0dXJuIHtcblx0XHRcdHR5cGU6IFwiZmlsZVwiLFxuXHRcdFx0bWltZVR5cGU6IGJsb2NrLnNvdXJjZS5tZWRpYV90eXBlLFxuXHRcdFx0ZGF0YTogYmxvY2suc291cmNlLmRhdGFcblx0XHR9O1xuXHRcdGVsc2UgaWYgKGJsb2NrLnNvdXJjZS50eXBlID09PSBcInVybFwiICYmIF9pc1N0cmluZyhibG9jay5zb3VyY2UudXJsKSkgcmV0dXJuIHtcblx0XHRcdHR5cGU6IFwiZmlsZVwiLFxuXHRcdFx0dXJsOiBibG9jay5zb3VyY2UudXJsXG5cdFx0fTtcblx0XHRlbHNlIGlmIChibG9jay5zb3VyY2UudHlwZSA9PT0gXCJmaWxlXCIgJiYgX2lzU3RyaW5nKGJsb2NrLnNvdXJjZS5maWxlX2lkKSkgcmV0dXJuIHtcblx0XHRcdHR5cGU6IFwiZmlsZVwiLFxuXHRcdFx0ZmlsZUlkOiBibG9jay5zb3VyY2UuZmlsZV9pZFxuXHRcdH07XG5cdFx0ZWxzZSBpZiAoYmxvY2suc291cmNlLnR5cGUgPT09IFwidGV4dFwiICYmIF9pc1N0cmluZyhibG9jay5zb3VyY2UuZGF0YSkpIHJldHVybiB7XG5cdFx0XHR0eXBlOiBcImZpbGVcIixcblx0XHRcdG1pbWVUeXBlOiBTdHJpbmcoYmxvY2suc291cmNlLm1lZGlhX3R5cGUgPz8gXCJ0ZXh0L3BsYWluXCIpLFxuXHRcdFx0ZGF0YTogYmxvY2suc291cmNlLmRhdGFcblx0XHR9O1xuXHR9IGVsc2UgaWYgKF9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJpbWFnZVwiKSAmJiBfaXNPYmplY3QoYmxvY2suc291cmNlKSAmJiBcInR5cGVcIiBpbiBibG9jay5zb3VyY2UpIHtcblx0XHRpZiAoYmxvY2suc291cmNlLnR5cGUgPT09IFwiYmFzZTY0XCIgJiYgX2lzU3RyaW5nKGJsb2NrLnNvdXJjZS5tZWRpYV90eXBlKSAmJiBfaXNTdHJpbmcoYmxvY2suc291cmNlLmRhdGEpKSByZXR1cm4ge1xuXHRcdFx0dHlwZTogXCJpbWFnZVwiLFxuXHRcdFx0bWltZVR5cGU6IGJsb2NrLnNvdXJjZS5tZWRpYV90eXBlLFxuXHRcdFx0ZGF0YTogYmxvY2suc291cmNlLmRhdGFcblx0XHR9O1xuXHRcdGVsc2UgaWYgKGJsb2NrLnNvdXJjZS50eXBlID09PSBcInVybFwiICYmIF9pc1N0cmluZyhibG9jay5zb3VyY2UudXJsKSkgcmV0dXJuIHtcblx0XHRcdHR5cGU6IFwiaW1hZ2VcIixcblx0XHRcdHVybDogYmxvY2suc291cmNlLnVybFxuXHRcdH07XG5cdFx0ZWxzZSBpZiAoYmxvY2suc291cmNlLnR5cGUgPT09IFwiZmlsZVwiICYmIF9pc1N0cmluZyhibG9jay5zb3VyY2UuZmlsZV9pZCkpIHJldHVybiB7XG5cdFx0XHR0eXBlOiBcImltYWdlXCIsXG5cdFx0XHRmaWxlSWQ6IGJsb2NrLnNvdXJjZS5maWxlX2lkXG5cdFx0fTtcblx0fVxuXHRyZXR1cm4gdm9pZCAwO1xufVxuLyoqXG4qIENvbnZlcnRzIGFuIGFycmF5IG9mIGNvbnRlbnQgYmxvY2tzIGZyb20gQW50aHJvcGljIGZvcm1hdCB0byB2MSBzdGFuZGFyZCBmb3JtYXQuXG4qXG4qIFRoaXMgZnVuY3Rpb24gcHJvY2Vzc2VzIGVhY2ggY29udGVudCBibG9jayBpbiB0aGUgaW5wdXQgYXJyYXksIGF0dGVtcHRpbmcgdG8gY29udmVydFxuKiBBbnRocm9waWMtc3BlY2lmaWMgYmxvY2sgZm9ybWF0cyAobGlrZSBpbWFnZSBibG9ja3Mgd2l0aCBzb3VyY2Ugb2JqZWN0cywgZG9jdW1lbnQgYmxvY2tzLCBldGMuKVxuKiB0byB0aGUgc3RhbmRhcmRpemVkIHYxIGNvbnRlbnQgYmxvY2sgZm9ybWF0LiBJZiBhIGJsb2NrIGNhbm5vdCBiZSBjb252ZXJ0ZWQsIGl0IGlzXG4qIHBhc3NlZCB0aHJvdWdoIGFzLWlzIHdpdGggYSB0eXBlIGFzc2VydGlvbiB0byBDb250ZW50QmxvY2suU3RhbmRhcmQuXG4qXG4qIEBwYXJhbSBjb250ZW50IC0gQXJyYXkgb2YgY29udGVudCBibG9ja3MgaW4gQW50aHJvcGljIGZvcm1hdCB0byBiZSBjb252ZXJ0ZWRcbiogQHJldHVybnMgQXJyYXkgb2YgY29udGVudCBibG9ja3MgaW4gdjEgc3RhbmRhcmQgZm9ybWF0XG4qL1xuZnVuY3Rpb24gY29udmVydFRvVjFGcm9tQW50aHJvcGljSW5wdXQoY29udGVudCkge1xuXHRmdW5jdGlvbiogaXRlcmF0ZUNvbnRlbnQoKSB7XG5cdFx0Zm9yIChjb25zdCBibG9jayBvZiBjb250ZW50KSB7XG5cdFx0XHRjb25zdCBzdGRCbG9jayA9IGNvbnZlcnRUb1YxRnJvbUFudGhyb3BpY0NvbnRlbnRCbG9jayhibG9jayk7XG5cdFx0XHRpZiAoc3RkQmxvY2spIHlpZWxkIHN0ZEJsb2NrO1xuXHRcdFx0ZWxzZSB5aWVsZCBibG9jaztcblx0XHR9XG5cdH1cblx0cmV0dXJuIEFycmF5LmZyb20oaXRlcmF0ZUNvbnRlbnQoKSk7XG59XG4vKipcbiogQ29udmVydHMgYW4gQW50aHJvcGljIEFJIG1lc3NhZ2UgdG8gYW4gYXJyYXkgb2YgdjEgc3RhbmRhcmQgY29udGVudCBibG9ja3MuXG4qXG4qIFRoaXMgZnVuY3Rpb24gcHJvY2Vzc2VzIGFuIEFJIG1lc3NhZ2UgY29udGFpbmluZyBBbnRocm9waWMtc3BlY2lmaWMgY29udGVudCBibG9ja3NcbiogYW5kIGNvbnZlcnRzIHRoZW0gdG8gdGhlIHN0YW5kYXJkaXplZCB2MSBjb250ZW50IGJsb2NrIGZvcm1hdC5cbipcbiogQHBhcmFtIG1lc3NhZ2UgLSBUaGUgQUkgbWVzc2FnZSBjb250YWluaW5nIEFudGhyb3BpYy1mb3JtYXR0ZWQgY29udGVudCBibG9ja3NcbiogQHJldHVybnMgQXJyYXkgb2YgY29udGVudCBibG9ja3MgaW4gdjEgc3RhbmRhcmQgZm9ybWF0XG4qXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogY29uc3QgbWVzc2FnZSA9IG5ldyBBSU1lc3NhZ2UoW1xuKiAgIHsgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IFwiSGVsbG8gd29ybGRcIiB9LFxuKiAgIHsgdHlwZTogXCJ0aGlua2luZ1wiLCB0ZXh0OiBcIkxldCBtZSB0aGluayBhYm91dCB0aGlzLi4uXCIgfSxcbiogICB7IHR5cGU6IFwidG9vbF91c2VcIiwgaWQ6IFwiMTIzXCIsIG5hbWU6IFwiY2FsY3VsYXRvclwiLCBpbnB1dDogeyBhOiAxLCBiOiAyIH0gfVxuKiBdKTtcbipcbiogY29uc3Qgc3RhbmRhcmRCbG9ja3MgPSBjb252ZXJ0VG9WMUZyb21BbnRocm9waWNNZXNzYWdlKG1lc3NhZ2UpO1xuKiAvLyBSZXR1cm5zOlxuKiAvLyBbXG4qIC8vICAgeyB0eXBlOiBcInRleHRcIiwgdGV4dDogXCJIZWxsbyB3b3JsZFwiIH0sXG4qIC8vICAgeyB0eXBlOiBcInJlYXNvbmluZ1wiLCByZWFzb25pbmc6IFwiTGV0IG1lIHRoaW5rIGFib3V0IHRoaXMuLi5cIiB9LFxuKiAvLyAgIHsgdHlwZTogXCJ0b29sX2NhbGxcIiwgaWQ6IFwiMTIzXCIsIG5hbWU6IFwiY2FsY3VsYXRvclwiLCBhcmdzOiB7IGE6IDEsIGI6IDIgfSB9XG4qIC8vIF1cbiogYGBgXG4qL1xuZnVuY3Rpb24gY29udmVydFRvVjFGcm9tQW50aHJvcGljTWVzc2FnZShtZXNzYWdlKSB7XG5cdGZ1bmN0aW9uKiBpdGVyYXRlQ29udGVudCgpIHtcblx0XHRjb25zdCBjb250ZW50ID0gdHlwZW9mIG1lc3NhZ2UuY29udGVudCA9PT0gXCJzdHJpbmdcIiA/IFt7XG5cdFx0XHR0eXBlOiBcInRleHRcIixcblx0XHRcdHRleHQ6IG1lc3NhZ2UuY29udGVudFxuXHRcdH1dIDogbWVzc2FnZS5jb250ZW50O1xuXHRcdGZvciAoY29uc3QgYmxvY2sgb2YgY29udGVudCkge1xuXHRcdFx0aWYgKF9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJ0ZXh0XCIpICYmIF9pc1N0cmluZyhibG9jay50ZXh0KSkge1xuXHRcdFx0XHRjb25zdCB7IHRleHQsIGNpdGF0aW9ucywuLi5yZXN0IH0gPSBibG9jaztcblx0XHRcdFx0aWYgKF9pc0FycmF5KGNpdGF0aW9ucykgJiYgY2l0YXRpb25zLmxlbmd0aCkge1xuXHRcdFx0XHRcdGNvbnN0IF9jaXRhdGlvbnMgPSBjaXRhdGlvbnMucmVkdWNlKChhY2MsIGl0ZW0pID0+IHtcblx0XHRcdFx0XHRcdGNvbnN0IGNpdGF0aW9uID0gY29udmVydEFudGhyb3BpY0Fubm90YXRpb24oaXRlbSk7XG5cdFx0XHRcdFx0XHRpZiAoY2l0YXRpb24pIHJldHVybiBbLi4uYWNjLCBjaXRhdGlvbl07XG5cdFx0XHRcdFx0XHRyZXR1cm4gYWNjO1xuXHRcdFx0XHRcdH0sIFtdKTtcblx0XHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0XHQuLi5yZXN0LFxuXHRcdFx0XHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHRcdFx0XHR0ZXh0LFxuXHRcdFx0XHRcdFx0YW5ub3RhdGlvbnM6IF9jaXRhdGlvbnNcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHRcdC4uLnJlc3QsXG5cdFx0XHRcdFx0XHR0eXBlOiBcInRleHRcIixcblx0XHRcdFx0XHRcdHRleHRcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKF9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJ0aGlua2luZ1wiKSAmJiBfaXNTdHJpbmcoYmxvY2sudGhpbmtpbmcpKSB7XG5cdFx0XHRcdGNvbnN0IHsgdGhpbmtpbmcsIHNpZ25hdHVyZSwuLi5yZXN0IH0gPSBibG9jaztcblx0XHRcdFx0eWllbGQge1xuXHRcdFx0XHRcdC4uLnJlc3QsXG5cdFx0XHRcdFx0dHlwZTogXCJyZWFzb25pbmdcIixcblx0XHRcdFx0XHRyZWFzb25pbmc6IHRoaW5raW5nLFxuXHRcdFx0XHRcdHNpZ25hdHVyZVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAoX2lzQ29udGVudEJsb2NrKGJsb2NrLCBcInJlZGFjdGVkX3RoaW5raW5nXCIpKSB7XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHR0eXBlOiBcIm5vbl9zdGFuZGFyZFwiLFxuXHRcdFx0XHRcdHZhbHVlOiBibG9ja1xuXHRcdFx0XHR9O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAoX2lzQ29udGVudEJsb2NrKGJsb2NrLCBcInRvb2xfdXNlXCIpICYmIF9pc1N0cmluZyhibG9jay5uYW1lKSAmJiBfaXNTdHJpbmcoYmxvY2suaWQpKSB7XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHR0eXBlOiBcInRvb2xfY2FsbFwiLFxuXHRcdFx0XHRcdGlkOiBibG9jay5pZCxcblx0XHRcdFx0XHRuYW1lOiBibG9jay5uYW1lLFxuXHRcdFx0XHRcdGFyZ3M6IGJsb2NrLmlucHV0XG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChfaXNDb250ZW50QmxvY2soYmxvY2ssIFwiaW5wdXRfanNvbl9kZWx0YVwiKSkge1xuXHRcdFx0XHRpZiAoX2lzQUlNZXNzYWdlQ2h1bmsobWVzc2FnZSkgJiYgbWVzc2FnZS50b29sX2NhbGxfY2h1bmtzPy5sZW5ndGgpIHtcblx0XHRcdFx0XHRjb25zdCB0b29sX2NhbGxfY2h1bmsgPSBtZXNzYWdlLnRvb2xfY2FsbF9jaHVua3NbMF07XG5cdFx0XHRcdFx0eWllbGQge1xuXHRcdFx0XHRcdFx0dHlwZTogXCJ0b29sX2NhbGxfY2h1bmtcIixcblx0XHRcdFx0XHRcdGlkOiB0b29sX2NhbGxfY2h1bmsuaWQsXG5cdFx0XHRcdFx0XHRuYW1lOiB0b29sX2NhbGxfY2h1bmsubmFtZSxcblx0XHRcdFx0XHRcdGFyZ3M6IHRvb2xfY2FsbF9jaHVuay5hcmdzLFxuXHRcdFx0XHRcdFx0aW5kZXg6IHRvb2xfY2FsbF9jaHVuay5pbmRleFxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoX2lzQ29udGVudEJsb2NrKGJsb2NrLCBcInNlcnZlcl90b29sX3VzZVwiKSAmJiBfaXNTdHJpbmcoYmxvY2submFtZSkgJiYgX2lzU3RyaW5nKGJsb2NrLmlkKSkge1xuXHRcdFx0XHRjb25zdCB7IG5hbWUsIGlkIH0gPSBibG9jaztcblx0XHRcdFx0aWYgKG5hbWUgPT09IFwid2ViX3NlYXJjaFwiKSB7XG5cdFx0XHRcdFx0Y29uc3QgcXVlcnkgPSBpaWZlKCgpID0+IHtcblx0XHRcdFx0XHRcdGlmICh0eXBlb2YgYmxvY2suaW5wdXQgPT09IFwic3RyaW5nXCIpIHJldHVybiBibG9jay5pbnB1dDtcblx0XHRcdFx0XHRcdGVsc2UgaWYgKF9pc09iamVjdChibG9jay5pbnB1dCkgJiYgX2lzU3RyaW5nKGJsb2NrLmlucHV0LnF1ZXJ5KSkgcmV0dXJuIGJsb2NrLmlucHV0LnF1ZXJ5O1xuXHRcdFx0XHRcdFx0ZWxzZSBpZiAoX2lzU3RyaW5nKGJsb2NrLnBhcnRpYWxfanNvbikpIHtcblx0XHRcdFx0XHRcdFx0Y29uc3QganNvbiA9IHNhZmVQYXJzZUpzb24oYmxvY2sucGFydGlhbF9qc29uKTtcblx0XHRcdFx0XHRcdFx0aWYgKGpzb24/LnF1ZXJ5KSByZXR1cm4ganNvbi5xdWVyeTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHJldHVybiBcIlwiO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHRcdGlkLFxuXHRcdFx0XHRcdFx0dHlwZTogXCJzZXJ2ZXJfdG9vbF9jYWxsXCIsXG5cdFx0XHRcdFx0XHRuYW1lOiBcIndlYl9zZWFyY2hcIixcblx0XHRcdFx0XHRcdGFyZ3M6IHsgcXVlcnkgfVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH0gZWxzZSBpZiAoYmxvY2submFtZSA9PT0gXCJjb2RlX2V4ZWN1dGlvblwiKSB7XG5cdFx0XHRcdFx0Y29uc3QgY29kZSA9IGlpZmUoKCkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKHR5cGVvZiBibG9jay5pbnB1dCA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIGJsb2NrLmlucHV0O1xuXHRcdFx0XHRcdFx0ZWxzZSBpZiAoX2lzT2JqZWN0KGJsb2NrLmlucHV0KSAmJiBfaXNTdHJpbmcoYmxvY2suaW5wdXQuY29kZSkpIHJldHVybiBibG9jay5pbnB1dC5jb2RlO1xuXHRcdFx0XHRcdFx0ZWxzZSBpZiAoX2lzU3RyaW5nKGJsb2NrLnBhcnRpYWxfanNvbikpIHtcblx0XHRcdFx0XHRcdFx0Y29uc3QganNvbiA9IHNhZmVQYXJzZUpzb24oYmxvY2sucGFydGlhbF9qc29uKTtcblx0XHRcdFx0XHRcdFx0aWYgKGpzb24/LmNvZGUpIHJldHVybiBqc29uLmNvZGU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRyZXR1cm4gXCJcIjtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0XHRpZCxcblx0XHRcdFx0XHRcdHR5cGU6IFwic2VydmVyX3Rvb2xfY2FsbFwiLFxuXHRcdFx0XHRcdFx0bmFtZTogXCJjb2RlX2V4ZWN1dGlvblwiLFxuXHRcdFx0XHRcdFx0YXJnczogeyBjb2RlIH1cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKF9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJ3ZWJfc2VhcmNoX3Rvb2xfcmVzdWx0XCIpICYmIF9pc1N0cmluZyhibG9jay50b29sX3VzZV9pZCkgJiYgX2lzQXJyYXkoYmxvY2suY29udGVudCkpIHtcblx0XHRcdFx0Y29uc3QgeyBjb250ZW50OiBjb250ZW50JDEsIHRvb2xfdXNlX2lkIH0gPSBibG9jaztcblx0XHRcdFx0Y29uc3QgdXJscyA9IGNvbnRlbnQkMS5yZWR1Y2UoKGFjYywgY29udGVudCQyKSA9PiB7XG5cdFx0XHRcdFx0aWYgKF9pc0NvbnRlbnRCbG9jayhjb250ZW50JDIsIFwid2ViX3NlYXJjaF9yZXN1bHRcIikpIHJldHVybiBbLi4uYWNjLCBjb250ZW50JDIudXJsXTtcblx0XHRcdFx0XHRyZXR1cm4gYWNjO1xuXHRcdFx0XHR9LCBbXSk7XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHR0eXBlOiBcInNlcnZlcl90b29sX2NhbGxfcmVzdWx0XCIsXG5cdFx0XHRcdFx0bmFtZTogXCJ3ZWJfc2VhcmNoXCIsXG5cdFx0XHRcdFx0dG9vbENhbGxJZDogdG9vbF91c2VfaWQsXG5cdFx0XHRcdFx0c3RhdHVzOiBcInN1Y2Nlc3NcIixcblx0XHRcdFx0XHRvdXRwdXQ6IHsgdXJscyB9XG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChfaXNDb250ZW50QmxvY2soYmxvY2ssIFwiY29kZV9leGVjdXRpb25fdG9vbF9yZXN1bHRcIikgJiYgX2lzU3RyaW5nKGJsb2NrLnRvb2xfdXNlX2lkKSAmJiBfaXNPYmplY3QoYmxvY2suY29udGVudCkpIHtcblx0XHRcdFx0eWllbGQge1xuXHRcdFx0XHRcdHR5cGU6IFwic2VydmVyX3Rvb2xfY2FsbF9yZXN1bHRcIixcblx0XHRcdFx0XHRuYW1lOiBcImNvZGVfZXhlY3V0aW9uXCIsXG5cdFx0XHRcdFx0dG9vbENhbGxJZDogYmxvY2sudG9vbF91c2VfaWQsXG5cdFx0XHRcdFx0c3RhdHVzOiBcInN1Y2Nlc3NcIixcblx0XHRcdFx0XHRvdXRwdXQ6IGJsb2NrLmNvbnRlbnRcblx0XHRcdFx0fTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9IGVsc2UgaWYgKF9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJtY3BfdG9vbF91c2VcIikpIHtcblx0XHRcdFx0eWllbGQge1xuXHRcdFx0XHRcdGlkOiBibG9jay5pZCxcblx0XHRcdFx0XHR0eXBlOiBcInNlcnZlcl90b29sX2NhbGxcIixcblx0XHRcdFx0XHRuYW1lOiBcIm1jcF90b29sX3VzZVwiLFxuXHRcdFx0XHRcdGFyZ3M6IGJsb2NrLmlucHV0XG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChfaXNDb250ZW50QmxvY2soYmxvY2ssIFwibWNwX3Rvb2xfcmVzdWx0XCIpICYmIF9pc1N0cmluZyhibG9jay50b29sX3VzZV9pZCkgJiYgX2lzT2JqZWN0KGJsb2NrLmNvbnRlbnQpKSB7XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHR0eXBlOiBcInNlcnZlcl90b29sX2NhbGxfcmVzdWx0XCIsXG5cdFx0XHRcdFx0bmFtZTogXCJtY3BfdG9vbF91c2VcIixcblx0XHRcdFx0XHR0b29sQ2FsbElkOiBibG9jay50b29sX3VzZV9pZCxcblx0XHRcdFx0XHRzdGF0dXM6IFwic3VjY2Vzc1wiLFxuXHRcdFx0XHRcdG91dHB1dDogYmxvY2suY29udGVudFxuXHRcdFx0XHR9O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAoX2lzQ29udGVudEJsb2NrKGJsb2NrLCBcImNvbnRhaW5lcl91cGxvYWRcIikpIHtcblx0XHRcdFx0eWllbGQge1xuXHRcdFx0XHRcdHR5cGU6IFwic2VydmVyX3Rvb2xfY2FsbFwiLFxuXHRcdFx0XHRcdG5hbWU6IFwiY29udGFpbmVyX3VwbG9hZFwiLFxuXHRcdFx0XHRcdGFyZ3M6IGJsb2NrLmlucHV0XG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChfaXNDb250ZW50QmxvY2soYmxvY2ssIFwic2VhcmNoX3Jlc3VsdFwiKSkge1xuXHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0aWQ6IGJsb2NrLmlkLFxuXHRcdFx0XHRcdHR5cGU6IFwibm9uX3N0YW5kYXJkXCIsXG5cdFx0XHRcdFx0dmFsdWU6IGJsb2NrXG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChfaXNDb250ZW50QmxvY2soYmxvY2ssIFwidG9vbF9yZXN1bHRcIikpIHtcblx0XHRcdFx0eWllbGQge1xuXHRcdFx0XHRcdGlkOiBibG9jay5pZCxcblx0XHRcdFx0XHR0eXBlOiBcIm5vbl9zdGFuZGFyZFwiLFxuXHRcdFx0XHRcdHZhbHVlOiBibG9ja1xuXHRcdFx0XHR9O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IHN0ZEJsb2NrID0gY29udmVydFRvVjFGcm9tQW50aHJvcGljQ29udGVudEJsb2NrKGJsb2NrKTtcblx0XHRcdFx0aWYgKHN0ZEJsb2NrKSB7XG5cdFx0XHRcdFx0eWllbGQgc3RkQmxvY2s7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHlpZWxkIHtcblx0XHRcdFx0dHlwZTogXCJub25fc3RhbmRhcmRcIixcblx0XHRcdFx0dmFsdWU6IGJsb2NrXG5cdFx0XHR9O1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gQXJyYXkuZnJvbShpdGVyYXRlQ29udGVudCgpKTtcbn1cbmNvbnN0IENoYXRBbnRocm9waWNUcmFuc2xhdG9yID0ge1xuXHR0cmFuc2xhdGVDb250ZW50OiBjb252ZXJ0VG9WMUZyb21BbnRocm9waWNNZXNzYWdlLFxuXHR0cmFuc2xhdGVDb250ZW50Q2h1bms6IGNvbnZlcnRUb1YxRnJvbUFudGhyb3BpY01lc3NhZ2Vcbn07XG5mdW5jdGlvbiBfaXNBSU1lc3NhZ2VDaHVuayhtZXNzYWdlKSB7XG5cdHJldHVybiB0eXBlb2YgbWVzc2FnZT8uX2dldFR5cGUgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgbWVzc2FnZS5jb25jYXQgPT09IFwiZnVuY3Rpb25cIiAmJiBtZXNzYWdlLl9nZXRUeXBlKCkgPT09IFwiYWlcIjtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBDaGF0QW50aHJvcGljVHJhbnNsYXRvciwgY29udmVydFRvVjFGcm9tQW50aHJvcGljSW5wdXQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFudGhyb3BpYy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/anthropic.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/bedrock_converse.js":
/*!*************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/bedrock_converse.js ***!
  \*************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatBedrockConverseTranslator: () => (/* binding */ ChatBedrockConverseTranslator)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/utils.js\");\n\n\n//#region src/messages/block_translators/bedrock_converse.ts\nfunction convertFileFormatToMimeType(format) {\n\tswitch (format) {\n\t\tcase \"csv\": return \"text/csv\";\n\t\tcase \"doc\": return \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\";\n\t\tcase \"docx\": return \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\";\n\t\tcase \"html\": return \"text/html\";\n\t\tcase \"md\": return \"text/markdown\";\n\t\tcase \"pdf\": return \"application/pdf\";\n\t\tcase \"txt\": return \"text/plain\";\n\t\tcase \"xls\": return \"application/vnd.ms-excel\";\n\t\tcase \"xlsx\": return \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\";\n\t\tcase \"gif\": return \"image/gif\";\n\t\tcase \"jpeg\": return \"image/jpeg\";\n\t\tcase \"jpg\": return \"image/jpeg\";\n\t\tcase \"png\": return \"image/png\";\n\t\tcase \"webp\": return \"image/webp\";\n\t\tcase \"flv\": return \"video/flv\";\n\t\tcase \"mkv\": return \"video/mkv\";\n\t\tcase \"mov\": return \"video/mov\";\n\t\tcase \"mp4\": return \"video/mp4\";\n\t\tcase \"mpeg\": return \"video/mpeg\";\n\t\tcase \"mpg\": return \"video/mpg\";\n\t\tcase \"three_gp\": return \"video/three_gp\";\n\t\tcase \"webm\": return \"video/webm\";\n\t\tcase \"wmv\": return \"video/wmv\";\n\t\tdefault: return \"application/octet-stream\";\n\t}\n}\nfunction convertConverseDocumentBlock(block) {\n\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.document) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.document.source)) {\n\t\tconst format = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.document) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.document.format) ? block.document.format : \"\";\n\t\tconst mimeType = convertFileFormatToMimeType(format);\n\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.document.source)) {\n\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.document.source.s3Location) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.document.source.s3Location.uri)) return {\n\t\t\t\ttype: \"file\",\n\t\t\t\tmimeType,\n\t\t\t\tfileId: block.document.source.s3Location.uri\n\t\t\t};\n\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isBytesArray)(block.document.source.bytes)) return {\n\t\t\t\ttype: \"file\",\n\t\t\t\tmimeType,\n\t\t\t\tdata: block.document.source.bytes\n\t\t\t};\n\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.document.source.text)) return {\n\t\t\t\ttype: \"file\",\n\t\t\t\tmimeType,\n\t\t\t\tdata: Buffer.from(block.document.source.text).toString(\"base64\")\n\t\t\t};\n\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isArray)(block.document.source.content)) {\n\t\t\t\tconst data = block.document.source.content.reduce((acc, item) => {\n\t\t\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(item) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(item.text)) return acc + item.text;\n\t\t\t\t\treturn acc;\n\t\t\t\t}, \"\");\n\t\t\t\treturn {\n\t\t\t\t\ttype: \"file\",\n\t\t\t\t\tmimeType,\n\t\t\t\t\tdata\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t}\n\treturn {\n\t\ttype: \"non_standard\",\n\t\tvalue: block\n\t};\n}\nfunction convertConverseImageBlock(block) {\n\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"image\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.image)) {\n\t\tconst format = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.image) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.image.format) ? block.image.format : \"\";\n\t\tconst mimeType = convertFileFormatToMimeType(format);\n\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.image.source)) {\n\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.image.source.s3Location) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.image.source.s3Location.uri)) return {\n\t\t\t\ttype: \"image\",\n\t\t\t\tmimeType,\n\t\t\t\tfileId: block.image.source.s3Location.uri\n\t\t\t};\n\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isBytesArray)(block.image.source.bytes)) return {\n\t\t\t\ttype: \"image\",\n\t\t\t\tmimeType,\n\t\t\t\tdata: block.image.source.bytes\n\t\t\t};\n\t\t}\n\t}\n\treturn {\n\t\ttype: \"non_standard\",\n\t\tvalue: block\n\t};\n}\nfunction convertConverseVideoBlock(block) {\n\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"video\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.video)) {\n\t\tconst format = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.video) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.video.format) ? block.video.format : \"\";\n\t\tconst mimeType = convertFileFormatToMimeType(format);\n\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.video.source)) {\n\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.video.source.s3Location) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.video.source.s3Location.uri)) return {\n\t\t\t\ttype: \"video\",\n\t\t\t\tmimeType,\n\t\t\t\tfileId: block.video.source.s3Location.uri\n\t\t\t};\n\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isBytesArray)(block.video.source.bytes)) return {\n\t\t\t\ttype: \"video\",\n\t\t\t\tmimeType,\n\t\t\t\tdata: block.video.source.bytes\n\t\t\t};\n\t\t}\n\t}\n\treturn {\n\t\ttype: \"non_standard\",\n\t\tvalue: block\n\t};\n}\nfunction convertToV1FromChatBedrockConverseMessage(message) {\n\tfunction* iterateContent() {\n\t\tconst content = typeof message.content === \"string\" ? [{\n\t\t\ttype: \"text\",\n\t\t\ttext: message.content\n\t\t}] : message.content;\n\t\tfor (const block of content) {\n\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"cache_point\")) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"non_standard\",\n\t\t\t\t\tvalue: block\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"citations_content\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.citationsContent)) {\n\t\t\t\tconst text = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isArray)(block.citationsContent.content) ? block.citationsContent.content.reduce((acc, item) => {\n\t\t\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(item) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(item.text)) return acc + item.text;\n\t\t\t\t\treturn acc;\n\t\t\t\t}, \"\") : \"\";\n\t\t\t\tconst annotations = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isArray)(block.citationsContent.citations) ? block.citationsContent.citations.reduce((acc, item) => {\n\t\t\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(item)) {\n\t\t\t\t\t\tconst citedText = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isArray)(item.sourceContent) ? item.sourceContent.reduce((acc$1, item$1) => {\n\t\t\t\t\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(item$1) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(item$1.text)) return acc$1 + item$1.text;\n\t\t\t\t\t\t\treturn acc$1;\n\t\t\t\t\t\t}, \"\") : \"\";\n\t\t\t\t\t\tconst properties = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iife)(() => {\n\t\t\t\t\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(item.location)) {\n\t\t\t\t\t\t\t\tconst location = item.location.documentChar || item.location.documentPage || item.location.documentChunk;\n\t\t\t\t\t\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(location)) return {\n\t\t\t\t\t\t\t\t\tsource: (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isNumber)(location.documentIndex) ? location.documentIndex.toString() : void 0,\n\t\t\t\t\t\t\t\t\tstartIndex: (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isNumber)(location.start) ? location.start : void 0,\n\t\t\t\t\t\t\t\t\tendIndex: (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isNumber)(location.end) ? location.end : void 0\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn {};\n\t\t\t\t\t\t});\n\t\t\t\t\t\tacc.push({\n\t\t\t\t\t\t\ttype: \"citation\",\n\t\t\t\t\t\t\tcitedText,\n\t\t\t\t\t\t\t...properties\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn acc;\n\t\t\t\t}, []) : [];\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"text\",\n\t\t\t\t\ttext,\n\t\t\t\t\tannotations\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"document\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.document)) {\n\t\t\t\tyield convertConverseDocumentBlock(block);\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"guard_content\")) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"non_standard\",\n\t\t\t\t\tvalue: block\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"image\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.image)) {\n\t\t\t\tyield convertConverseImageBlock(block);\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"reasoning_content\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.reasoningText)) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"reasoning\",\n\t\t\t\t\treasoning: block.reasoningText\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"text\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.text)) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"text\",\n\t\t\t\t\ttext: block.text\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"tool_result\")) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"non_standard\",\n\t\t\t\t\tvalue: block\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"tool_call\")) continue;\n\t\t\telse if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"video\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.video)) {\n\t\t\t\tyield convertConverseVideoBlock(block);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tyield {\n\t\t\t\ttype: \"non_standard\",\n\t\t\t\tvalue: block\n\t\t\t};\n\t\t}\n\t}\n\treturn Array.from(iterateContent());\n}\nconst ChatBedrockConverseTranslator = {\n\ttranslateContent: convertToV1FromChatBedrockConverseMessage,\n\ttranslateContentChunk: convertToV1FromChatBedrockConverseMessage\n};\n\n//#endregion\n\n//# sourceMappingURL=bedrock_converse.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL2Jsb2NrX3RyYW5zbGF0b3JzL2JlZHJvY2tfY29udmVyc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNkc7O0FBRTdHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssb0RBQVMsb0JBQW9CLG9EQUFTO0FBQzNDLGlCQUFpQixvREFBUyxvQkFBb0Isb0RBQVM7QUFDdkQ7QUFDQSxNQUFNLG9EQUFTO0FBQ2YsT0FBTyxvREFBUyxzQ0FBc0Msb0RBQVM7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLHdEQUFhO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxvREFBUztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sbURBQVE7QUFDZjtBQUNBLFNBQVMsb0RBQVMsVUFBVSxvREFBUztBQUNyQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSywwREFBZSxvQkFBb0Isb0RBQVM7QUFDakQsaUJBQWlCLG9EQUFTLGlCQUFpQixvREFBUztBQUNwRDtBQUNBLE1BQU0sb0RBQVM7QUFDZixPQUFPLG9EQUFTLG1DQUFtQyxvREFBUztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sd0RBQWE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSywwREFBZSxvQkFBb0Isb0RBQVM7QUFDakQsaUJBQWlCLG9EQUFTLGlCQUFpQixvREFBUztBQUNwRDtBQUNBLE1BQU0sb0RBQVM7QUFDZixPQUFPLG9EQUFTLG1DQUFtQyxvREFBUztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sd0RBQWE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxPQUFPLDBEQUFlO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLFNBQVMsMERBQWUsZ0NBQWdDLG9EQUFTO0FBQ3RFLGlCQUFpQixtREFBUTtBQUN6QixTQUFTLG9EQUFTLFVBQVUsb0RBQVM7QUFDckM7QUFDQSxLQUFLO0FBQ0wsd0JBQXdCLG1EQUFRO0FBQ2hDLFNBQVMsb0RBQVM7QUFDbEIsd0JBQXdCLG1EQUFRO0FBQ2hDLFdBQVcsb0RBQVMsWUFBWSxvREFBUztBQUN6QztBQUNBLE9BQU87QUFDUCx5QkFBeUIsK0NBQUk7QUFDN0IsV0FBVyxvREFBUztBQUNwQjtBQUNBLFlBQVksb0RBQVM7QUFDckIsaUJBQWlCLG9EQUFTO0FBQzFCLHFCQUFxQixvREFBUztBQUM5QixtQkFBbUIsb0RBQVM7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxTQUFTLDBEQUFlLHVCQUF1QixvREFBUztBQUM3RDtBQUNBO0FBQ0EsS0FBSyxTQUFTLDBEQUFlO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLFNBQVMsMERBQWUsb0JBQW9CLG9EQUFTO0FBQzFEO0FBQ0E7QUFDQSxLQUFLLFNBQVMsMERBQWUsZ0NBQWdDLG9EQUFTO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLFNBQVMsMERBQWUsbUJBQW1CLG9EQUFTO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLFNBQVMsMERBQWU7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssU0FBUywwREFBZTtBQUM3QixZQUFZLDBEQUFlLG9CQUFvQixvREFBUztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDeUM7QUFDekMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvbWVzc2FnZXMvYmxvY2tfdHJhbnNsYXRvcnMvYmVkcm9ja19jb252ZXJzZS5qcz82OTliIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9pc0FycmF5LCBfaXNCeXRlc0FycmF5LCBfaXNDb250ZW50QmxvY2ssIF9pc051bWJlciwgX2lzT2JqZWN0LCBfaXNTdHJpbmcsIGlpZmUgfSBmcm9tIFwiLi91dGlscy5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL21lc3NhZ2VzL2Jsb2NrX3RyYW5zbGF0b3JzL2JlZHJvY2tfY29udmVyc2UudHNcbmZ1bmN0aW9uIGNvbnZlcnRGaWxlRm9ybWF0VG9NaW1lVHlwZShmb3JtYXQpIHtcblx0c3dpdGNoIChmb3JtYXQpIHtcblx0XHRjYXNlIFwiY3N2XCI6IHJldHVybiBcInRleHQvY3N2XCI7XG5cdFx0Y2FzZSBcImRvY1wiOiByZXR1cm4gXCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQud29yZHByb2Nlc3NpbmdtbC5kb2N1bWVudFwiO1xuXHRcdGNhc2UgXCJkb2N4XCI6IHJldHVybiBcImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC53b3JkcHJvY2Vzc2luZ21sLmRvY3VtZW50XCI7XG5cdFx0Y2FzZSBcImh0bWxcIjogcmV0dXJuIFwidGV4dC9odG1sXCI7XG5cdFx0Y2FzZSBcIm1kXCI6IHJldHVybiBcInRleHQvbWFya2Rvd25cIjtcblx0XHRjYXNlIFwicGRmXCI6IHJldHVybiBcImFwcGxpY2F0aW9uL3BkZlwiO1xuXHRcdGNhc2UgXCJ0eHRcIjogcmV0dXJuIFwidGV4dC9wbGFpblwiO1xuXHRcdGNhc2UgXCJ4bHNcIjogcmV0dXJuIFwiYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsXCI7XG5cdFx0Y2FzZSBcInhsc3hcIjogcmV0dXJuIFwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuc2hlZXRcIjtcblx0XHRjYXNlIFwiZ2lmXCI6IHJldHVybiBcImltYWdlL2dpZlwiO1xuXHRcdGNhc2UgXCJqcGVnXCI6IHJldHVybiBcImltYWdlL2pwZWdcIjtcblx0XHRjYXNlIFwianBnXCI6IHJldHVybiBcImltYWdlL2pwZWdcIjtcblx0XHRjYXNlIFwicG5nXCI6IHJldHVybiBcImltYWdlL3BuZ1wiO1xuXHRcdGNhc2UgXCJ3ZWJwXCI6IHJldHVybiBcImltYWdlL3dlYnBcIjtcblx0XHRjYXNlIFwiZmx2XCI6IHJldHVybiBcInZpZGVvL2ZsdlwiO1xuXHRcdGNhc2UgXCJta3ZcIjogcmV0dXJuIFwidmlkZW8vbWt2XCI7XG5cdFx0Y2FzZSBcIm1vdlwiOiByZXR1cm4gXCJ2aWRlby9tb3ZcIjtcblx0XHRjYXNlIFwibXA0XCI6IHJldHVybiBcInZpZGVvL21wNFwiO1xuXHRcdGNhc2UgXCJtcGVnXCI6IHJldHVybiBcInZpZGVvL21wZWdcIjtcblx0XHRjYXNlIFwibXBnXCI6IHJldHVybiBcInZpZGVvL21wZ1wiO1xuXHRcdGNhc2UgXCJ0aHJlZV9ncFwiOiByZXR1cm4gXCJ2aWRlby90aHJlZV9ncFwiO1xuXHRcdGNhc2UgXCJ3ZWJtXCI6IHJldHVybiBcInZpZGVvL3dlYm1cIjtcblx0XHRjYXNlIFwid212XCI6IHJldHVybiBcInZpZGVvL3dtdlwiO1xuXHRcdGRlZmF1bHQ6IHJldHVybiBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiO1xuXHR9XG59XG5mdW5jdGlvbiBjb252ZXJ0Q29udmVyc2VEb2N1bWVudEJsb2NrKGJsb2NrKSB7XG5cdGlmIChfaXNPYmplY3QoYmxvY2suZG9jdW1lbnQpICYmIF9pc09iamVjdChibG9jay5kb2N1bWVudC5zb3VyY2UpKSB7XG5cdFx0Y29uc3QgZm9ybWF0ID0gX2lzT2JqZWN0KGJsb2NrLmRvY3VtZW50KSAmJiBfaXNTdHJpbmcoYmxvY2suZG9jdW1lbnQuZm9ybWF0KSA/IGJsb2NrLmRvY3VtZW50LmZvcm1hdCA6IFwiXCI7XG5cdFx0Y29uc3QgbWltZVR5cGUgPSBjb252ZXJ0RmlsZUZvcm1hdFRvTWltZVR5cGUoZm9ybWF0KTtcblx0XHRpZiAoX2lzT2JqZWN0KGJsb2NrLmRvY3VtZW50LnNvdXJjZSkpIHtcblx0XHRcdGlmIChfaXNPYmplY3QoYmxvY2suZG9jdW1lbnQuc291cmNlLnMzTG9jYXRpb24pICYmIF9pc1N0cmluZyhibG9jay5kb2N1bWVudC5zb3VyY2UuczNMb2NhdGlvbi51cmkpKSByZXR1cm4ge1xuXHRcdFx0XHR0eXBlOiBcImZpbGVcIixcblx0XHRcdFx0bWltZVR5cGUsXG5cdFx0XHRcdGZpbGVJZDogYmxvY2suZG9jdW1lbnQuc291cmNlLnMzTG9jYXRpb24udXJpXG5cdFx0XHR9O1xuXHRcdFx0aWYgKF9pc0J5dGVzQXJyYXkoYmxvY2suZG9jdW1lbnQuc291cmNlLmJ5dGVzKSkgcmV0dXJuIHtcblx0XHRcdFx0dHlwZTogXCJmaWxlXCIsXG5cdFx0XHRcdG1pbWVUeXBlLFxuXHRcdFx0XHRkYXRhOiBibG9jay5kb2N1bWVudC5zb3VyY2UuYnl0ZXNcblx0XHRcdH07XG5cdFx0XHRpZiAoX2lzU3RyaW5nKGJsb2NrLmRvY3VtZW50LnNvdXJjZS50ZXh0KSkgcmV0dXJuIHtcblx0XHRcdFx0dHlwZTogXCJmaWxlXCIsXG5cdFx0XHRcdG1pbWVUeXBlLFxuXHRcdFx0XHRkYXRhOiBCdWZmZXIuZnJvbShibG9jay5kb2N1bWVudC5zb3VyY2UudGV4dCkudG9TdHJpbmcoXCJiYXNlNjRcIilcblx0XHRcdH07XG5cdFx0XHRpZiAoX2lzQXJyYXkoYmxvY2suZG9jdW1lbnQuc291cmNlLmNvbnRlbnQpKSB7XG5cdFx0XHRcdGNvbnN0IGRhdGEgPSBibG9jay5kb2N1bWVudC5zb3VyY2UuY29udGVudC5yZWR1Y2UoKGFjYywgaXRlbSkgPT4ge1xuXHRcdFx0XHRcdGlmIChfaXNPYmplY3QoaXRlbSkgJiYgX2lzU3RyaW5nKGl0ZW0udGV4dCkpIHJldHVybiBhY2MgKyBpdGVtLnRleHQ7XG5cdFx0XHRcdFx0cmV0dXJuIGFjYztcblx0XHRcdFx0fSwgXCJcIik7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0dHlwZTogXCJmaWxlXCIsXG5cdFx0XHRcdFx0bWltZVR5cGUsXG5cdFx0XHRcdFx0ZGF0YVxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4ge1xuXHRcdHR5cGU6IFwibm9uX3N0YW5kYXJkXCIsXG5cdFx0dmFsdWU6IGJsb2NrXG5cdH07XG59XG5mdW5jdGlvbiBjb252ZXJ0Q29udmVyc2VJbWFnZUJsb2NrKGJsb2NrKSB7XG5cdGlmIChfaXNDb250ZW50QmxvY2soYmxvY2ssIFwiaW1hZ2VcIikgJiYgX2lzT2JqZWN0KGJsb2NrLmltYWdlKSkge1xuXHRcdGNvbnN0IGZvcm1hdCA9IF9pc09iamVjdChibG9jay5pbWFnZSkgJiYgX2lzU3RyaW5nKGJsb2NrLmltYWdlLmZvcm1hdCkgPyBibG9jay5pbWFnZS5mb3JtYXQgOiBcIlwiO1xuXHRcdGNvbnN0IG1pbWVUeXBlID0gY29udmVydEZpbGVGb3JtYXRUb01pbWVUeXBlKGZvcm1hdCk7XG5cdFx0aWYgKF9pc09iamVjdChibG9jay5pbWFnZS5zb3VyY2UpKSB7XG5cdFx0XHRpZiAoX2lzT2JqZWN0KGJsb2NrLmltYWdlLnNvdXJjZS5zM0xvY2F0aW9uKSAmJiBfaXNTdHJpbmcoYmxvY2suaW1hZ2Uuc291cmNlLnMzTG9jYXRpb24udXJpKSkgcmV0dXJuIHtcblx0XHRcdFx0dHlwZTogXCJpbWFnZVwiLFxuXHRcdFx0XHRtaW1lVHlwZSxcblx0XHRcdFx0ZmlsZUlkOiBibG9jay5pbWFnZS5zb3VyY2UuczNMb2NhdGlvbi51cmlcblx0XHRcdH07XG5cdFx0XHRpZiAoX2lzQnl0ZXNBcnJheShibG9jay5pbWFnZS5zb3VyY2UuYnl0ZXMpKSByZXR1cm4ge1xuXHRcdFx0XHR0eXBlOiBcImltYWdlXCIsXG5cdFx0XHRcdG1pbWVUeXBlLFxuXHRcdFx0XHRkYXRhOiBibG9jay5pbWFnZS5zb3VyY2UuYnl0ZXNcblx0XHRcdH07XG5cdFx0fVxuXHR9XG5cdHJldHVybiB7XG5cdFx0dHlwZTogXCJub25fc3RhbmRhcmRcIixcblx0XHR2YWx1ZTogYmxvY2tcblx0fTtcbn1cbmZ1bmN0aW9uIGNvbnZlcnRDb252ZXJzZVZpZGVvQmxvY2soYmxvY2spIHtcblx0aWYgKF9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJ2aWRlb1wiKSAmJiBfaXNPYmplY3QoYmxvY2sudmlkZW8pKSB7XG5cdFx0Y29uc3QgZm9ybWF0ID0gX2lzT2JqZWN0KGJsb2NrLnZpZGVvKSAmJiBfaXNTdHJpbmcoYmxvY2sudmlkZW8uZm9ybWF0KSA/IGJsb2NrLnZpZGVvLmZvcm1hdCA6IFwiXCI7XG5cdFx0Y29uc3QgbWltZVR5cGUgPSBjb252ZXJ0RmlsZUZvcm1hdFRvTWltZVR5cGUoZm9ybWF0KTtcblx0XHRpZiAoX2lzT2JqZWN0KGJsb2NrLnZpZGVvLnNvdXJjZSkpIHtcblx0XHRcdGlmIChfaXNPYmplY3QoYmxvY2sudmlkZW8uc291cmNlLnMzTG9jYXRpb24pICYmIF9pc1N0cmluZyhibG9jay52aWRlby5zb3VyY2UuczNMb2NhdGlvbi51cmkpKSByZXR1cm4ge1xuXHRcdFx0XHR0eXBlOiBcInZpZGVvXCIsXG5cdFx0XHRcdG1pbWVUeXBlLFxuXHRcdFx0XHRmaWxlSWQ6IGJsb2NrLnZpZGVvLnNvdXJjZS5zM0xvY2F0aW9uLnVyaVxuXHRcdFx0fTtcblx0XHRcdGlmIChfaXNCeXRlc0FycmF5KGJsb2NrLnZpZGVvLnNvdXJjZS5ieXRlcykpIHJldHVybiB7XG5cdFx0XHRcdHR5cGU6IFwidmlkZW9cIixcblx0XHRcdFx0bWltZVR5cGUsXG5cdFx0XHRcdGRhdGE6IGJsb2NrLnZpZGVvLnNvdXJjZS5ieXRlc1xuXHRcdFx0fTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHtcblx0XHR0eXBlOiBcIm5vbl9zdGFuZGFyZFwiLFxuXHRcdHZhbHVlOiBibG9ja1xuXHR9O1xufVxuZnVuY3Rpb24gY29udmVydFRvVjFGcm9tQ2hhdEJlZHJvY2tDb252ZXJzZU1lc3NhZ2UobWVzc2FnZSkge1xuXHRmdW5jdGlvbiogaXRlcmF0ZUNvbnRlbnQoKSB7XG5cdFx0Y29uc3QgY29udGVudCA9IHR5cGVvZiBtZXNzYWdlLmNvbnRlbnQgPT09IFwic3RyaW5nXCIgPyBbe1xuXHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHR0ZXh0OiBtZXNzYWdlLmNvbnRlbnRcblx0XHR9XSA6IG1lc3NhZ2UuY29udGVudDtcblx0XHRmb3IgKGNvbnN0IGJsb2NrIG9mIGNvbnRlbnQpIHtcblx0XHRcdGlmIChfaXNDb250ZW50QmxvY2soYmxvY2ssIFwiY2FjaGVfcG9pbnRcIikpIHtcblx0XHRcdFx0eWllbGQge1xuXHRcdFx0XHRcdHR5cGU6IFwibm9uX3N0YW5kYXJkXCIsXG5cdFx0XHRcdFx0dmFsdWU6IGJsb2NrXG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChfaXNDb250ZW50QmxvY2soYmxvY2ssIFwiY2l0YXRpb25zX2NvbnRlbnRcIikgJiYgX2lzT2JqZWN0KGJsb2NrLmNpdGF0aW9uc0NvbnRlbnQpKSB7XG5cdFx0XHRcdGNvbnN0IHRleHQgPSBfaXNBcnJheShibG9jay5jaXRhdGlvbnNDb250ZW50LmNvbnRlbnQpID8gYmxvY2suY2l0YXRpb25zQ29udGVudC5jb250ZW50LnJlZHVjZSgoYWNjLCBpdGVtKSA9PiB7XG5cdFx0XHRcdFx0aWYgKF9pc09iamVjdChpdGVtKSAmJiBfaXNTdHJpbmcoaXRlbS50ZXh0KSkgcmV0dXJuIGFjYyArIGl0ZW0udGV4dDtcblx0XHRcdFx0XHRyZXR1cm4gYWNjO1xuXHRcdFx0XHR9LCBcIlwiKSA6IFwiXCI7XG5cdFx0XHRcdGNvbnN0IGFubm90YXRpb25zID0gX2lzQXJyYXkoYmxvY2suY2l0YXRpb25zQ29udGVudC5jaXRhdGlvbnMpID8gYmxvY2suY2l0YXRpb25zQ29udGVudC5jaXRhdGlvbnMucmVkdWNlKChhY2MsIGl0ZW0pID0+IHtcblx0XHRcdFx0XHRpZiAoX2lzT2JqZWN0KGl0ZW0pKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBjaXRlZFRleHQgPSBfaXNBcnJheShpdGVtLnNvdXJjZUNvbnRlbnQpID8gaXRlbS5zb3VyY2VDb250ZW50LnJlZHVjZSgoYWNjJDEsIGl0ZW0kMSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRpZiAoX2lzT2JqZWN0KGl0ZW0kMSkgJiYgX2lzU3RyaW5nKGl0ZW0kMS50ZXh0KSkgcmV0dXJuIGFjYyQxICsgaXRlbSQxLnRleHQ7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBhY2MkMTtcblx0XHRcdFx0XHRcdH0sIFwiXCIpIDogXCJcIjtcblx0XHRcdFx0XHRcdGNvbnN0IHByb3BlcnRpZXMgPSBpaWZlKCgpID0+IHtcblx0XHRcdFx0XHRcdFx0aWYgKF9pc09iamVjdChpdGVtLmxvY2F0aW9uKSkge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGxvY2F0aW9uID0gaXRlbS5sb2NhdGlvbi5kb2N1bWVudENoYXIgfHwgaXRlbS5sb2NhdGlvbi5kb2N1bWVudFBhZ2UgfHwgaXRlbS5sb2NhdGlvbi5kb2N1bWVudENodW5rO1xuXHRcdFx0XHRcdFx0XHRcdGlmIChfaXNPYmplY3QobG9jYXRpb24pKSByZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0c291cmNlOiBfaXNOdW1iZXIobG9jYXRpb24uZG9jdW1lbnRJbmRleCkgPyBsb2NhdGlvbi5kb2N1bWVudEluZGV4LnRvU3RyaW5nKCkgOiB2b2lkIDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRzdGFydEluZGV4OiBfaXNOdW1iZXIobG9jYXRpb24uc3RhcnQpID8gbG9jYXRpb24uc3RhcnQgOiB2b2lkIDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRlbmRJbmRleDogX2lzTnVtYmVyKGxvY2F0aW9uLmVuZCkgPyBsb2NhdGlvbi5lbmQgOiB2b2lkIDBcblx0XHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdHJldHVybiB7fTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0YWNjLnB1c2goe1xuXHRcdFx0XHRcdFx0XHR0eXBlOiBcImNpdGF0aW9uXCIsXG5cdFx0XHRcdFx0XHRcdGNpdGVkVGV4dCxcblx0XHRcdFx0XHRcdFx0Li4ucHJvcGVydGllc1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBhY2M7XG5cdFx0XHRcdH0sIFtdKSA6IFtdO1xuXHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHRcdFx0dGV4dCxcblx0XHRcdFx0XHRhbm5vdGF0aW9uc1xuXHRcdFx0XHR9O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAoX2lzQ29udGVudEJsb2NrKGJsb2NrLCBcImRvY3VtZW50XCIpICYmIF9pc09iamVjdChibG9jay5kb2N1bWVudCkpIHtcblx0XHRcdFx0eWllbGQgY29udmVydENvbnZlcnNlRG9jdW1lbnRCbG9jayhibG9jayk7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChfaXNDb250ZW50QmxvY2soYmxvY2ssIFwiZ3VhcmRfY29udGVudFwiKSkge1xuXHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0dHlwZTogXCJub25fc3RhbmRhcmRcIixcblx0XHRcdFx0XHR2YWx1ZTogYmxvY2tcblx0XHRcdFx0fTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9IGVsc2UgaWYgKF9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJpbWFnZVwiKSAmJiBfaXNPYmplY3QoYmxvY2suaW1hZ2UpKSB7XG5cdFx0XHRcdHlpZWxkIGNvbnZlcnRDb252ZXJzZUltYWdlQmxvY2soYmxvY2spO1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAoX2lzQ29udGVudEJsb2NrKGJsb2NrLCBcInJlYXNvbmluZ19jb250ZW50XCIpICYmIF9pc1N0cmluZyhibG9jay5yZWFzb25pbmdUZXh0KSkge1xuXHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0dHlwZTogXCJyZWFzb25pbmdcIixcblx0XHRcdFx0XHRyZWFzb25pbmc6IGJsb2NrLnJlYXNvbmluZ1RleHRcblx0XHRcdFx0fTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9IGVsc2UgaWYgKF9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJ0ZXh0XCIpICYmIF9pc1N0cmluZyhibG9jay50ZXh0KSkge1xuXHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHRcdFx0dGV4dDogYmxvY2sudGV4dFxuXHRcdFx0XHR9O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAoX2lzQ29udGVudEJsb2NrKGJsb2NrLCBcInRvb2xfcmVzdWx0XCIpKSB7XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHR0eXBlOiBcIm5vbl9zdGFuZGFyZFwiLFxuXHRcdFx0XHRcdHZhbHVlOiBibG9ja1xuXHRcdFx0XHR9O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAoX2lzQ29udGVudEJsb2NrKGJsb2NrLCBcInRvb2xfY2FsbFwiKSkgY29udGludWU7XG5cdFx0XHRlbHNlIGlmIChfaXNDb250ZW50QmxvY2soYmxvY2ssIFwidmlkZW9cIikgJiYgX2lzT2JqZWN0KGJsb2NrLnZpZGVvKSkge1xuXHRcdFx0XHR5aWVsZCBjb252ZXJ0Q29udmVyc2VWaWRlb0Jsb2NrKGJsb2NrKTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHR5aWVsZCB7XG5cdFx0XHRcdHR5cGU6IFwibm9uX3N0YW5kYXJkXCIsXG5cdFx0XHRcdHZhbHVlOiBibG9ja1xuXHRcdFx0fTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIEFycmF5LmZyb20oaXRlcmF0ZUNvbnRlbnQoKSk7XG59XG5jb25zdCBDaGF0QmVkcm9ja0NvbnZlcnNlVHJhbnNsYXRvciA9IHtcblx0dHJhbnNsYXRlQ29udGVudDogY29udmVydFRvVjFGcm9tQ2hhdEJlZHJvY2tDb252ZXJzZU1lc3NhZ2UsXG5cdHRyYW5zbGF0ZUNvbnRlbnRDaHVuazogY29udmVydFRvVjFGcm9tQ2hhdEJlZHJvY2tDb252ZXJzZU1lc3NhZ2Vcbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQ2hhdEJlZHJvY2tDb252ZXJzZVRyYW5zbGF0b3IgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJlZHJvY2tfY29udmVyc2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/bedrock_converse.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/data.js":
/*!*************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/data.js ***!
  \*************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   convertToV1FromDataContent: () => (/* binding */ convertToV1FromDataContent),\n/* harmony export */   convertToV1FromOpenAIDataBlock: () => (/* binding */ convertToV1FromOpenAIDataBlock),\n/* harmony export */   isOpenAIDataBlock: () => (/* binding */ isOpenAIDataBlock)\n/* harmony export */ });\n/* harmony import */ var _content_data_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../content/data.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/content/data.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/utils.js\");\n\n\n\n//#region src/messages/block_translators/data.ts\nfunction convertToV1FromDataContentBlock(block) {\n\tif ((0,_content_data_js__WEBPACK_IMPORTED_MODULE_0__.isURLContentBlock)(block)) return {\n\t\ttype: block.type,\n\t\tmimeType: block.mime_type,\n\t\turl: block.url,\n\t\tmetadata: block.metadata\n\t};\n\tif ((0,_content_data_js__WEBPACK_IMPORTED_MODULE_0__.isBase64ContentBlock)(block)) return {\n\t\ttype: block.type,\n\t\tmimeType: block.mime_type ?? \"application/octet-stream\",\n\t\tdata: block.data,\n\t\tmetadata: block.metadata\n\t};\n\tif ((0,_content_data_js__WEBPACK_IMPORTED_MODULE_0__.isIDContentBlock)(block)) return {\n\t\ttype: block.type,\n\t\tmimeType: block.mime_type,\n\t\tfileId: block.id,\n\t\tmetadata: block.metadata\n\t};\n\treturn block;\n}\nfunction convertToV1FromDataContent(content) {\n\treturn content.map(convertToV1FromDataContentBlock);\n}\nfunction isOpenAIDataBlock(block) {\n\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__._isContentBlock)(block, \"image_url\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__._isObject)(block.image_url)) return true;\n\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__._isContentBlock)(block, \"input_audio\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__._isObject)(block.input_audio)) return true;\n\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__._isContentBlock)(block, \"file\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__._isObject)(block.file)) return true;\n\treturn false;\n}\nfunction convertToV1FromOpenAIDataBlock(block) {\n\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__._isContentBlock)(block, \"image_url\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__._isObject)(block.image_url) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__._isString)(block.image_url.url)) {\n\t\tconst parsed = (0,_content_data_js__WEBPACK_IMPORTED_MODULE_0__.parseBase64DataUrl)({ dataUrl: block.image_url.url });\n\t\tif (parsed) return {\n\t\t\ttype: \"image\",\n\t\t\tmimeType: parsed.mime_type,\n\t\t\tdata: parsed.data\n\t\t};\n\t\telse return {\n\t\t\ttype: \"image\",\n\t\t\turl: block.image_url.url\n\t\t};\n\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__._isContentBlock)(block, \"input_audio\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__._isObject)(block.input_audio) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__._isString)(block.input_audio.data) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__._isString)(block.input_audio.format)) return {\n\t\ttype: \"audio\",\n\t\tdata: block.input_audio.data,\n\t\tmimeType: `audio/${block.input_audio.format}`\n\t};\n\telse if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__._isContentBlock)(block, \"file\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__._isObject)(block.file) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__._isString)(block.file.data)) {\n\t\tconst parsed = (0,_content_data_js__WEBPACK_IMPORTED_MODULE_0__.parseBase64DataUrl)({ dataUrl: block.file.data });\n\t\tif (parsed) return {\n\t\t\ttype: \"file\",\n\t\t\tdata: parsed.data,\n\t\t\tmimeType: parsed.mime_type\n\t\t};\n\t\telse if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__._isString)(block.file.file_id)) return {\n\t\t\ttype: \"file\",\n\t\t\tfileId: block.file.file_id\n\t\t};\n\t}\n\treturn block;\n}\n\n//#endregion\n\n//# sourceMappingURL=data.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL2Jsb2NrX3RyYW5zbGF0b3JzL2RhdGEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBbUg7QUFDaEQ7O0FBRW5FO0FBQ0E7QUFDQSxLQUFLLG1FQUFpQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxzRUFBb0I7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssa0VBQWdCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLDBEQUFlLHdCQUF3QixvREFBUztBQUNyRCxLQUFLLDBEQUFlLDBCQUEwQixvREFBUztBQUN2RCxLQUFLLDBEQUFlLG1CQUFtQixvREFBUztBQUNoRDtBQUNBO0FBQ0E7QUFDQSxLQUFLLDBEQUFlLHdCQUF3QixvREFBUyxxQkFBcUIsb0RBQVM7QUFDbkYsaUJBQWlCLG9FQUFrQixHQUFHLDhCQUE4QjtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLFNBQVMsMERBQWUsMEJBQTBCLG9EQUFTLHVCQUF1QixvREFBUyw0QkFBNEIsb0RBQVM7QUFDbkk7QUFDQTtBQUNBLHFCQUFxQix5QkFBeUI7QUFDOUM7QUFDQSxVQUFVLDBEQUFlLG1CQUFtQixvREFBUyxnQkFBZ0Isb0RBQVM7QUFDOUUsaUJBQWlCLG9FQUFrQixHQUFHLDBCQUEwQjtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxvREFBUztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDeUY7QUFDekYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvbWVzc2FnZXMvYmxvY2tfdHJhbnNsYXRvcnMvZGF0YS5qcz85NjBkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzQmFzZTY0Q29udGVudEJsb2NrLCBpc0lEQ29udGVudEJsb2NrLCBpc1VSTENvbnRlbnRCbG9jaywgcGFyc2VCYXNlNjREYXRhVXJsIH0gZnJvbSBcIi4uL2NvbnRlbnQvZGF0YS5qc1wiO1xuaW1wb3J0IHsgX2lzQ29udGVudEJsb2NrLCBfaXNPYmplY3QsIF9pc1N0cmluZyB9IGZyb20gXCIuL3V0aWxzLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvbWVzc2FnZXMvYmxvY2tfdHJhbnNsYXRvcnMvZGF0YS50c1xuZnVuY3Rpb24gY29udmVydFRvVjFGcm9tRGF0YUNvbnRlbnRCbG9jayhibG9jaykge1xuXHRpZiAoaXNVUkxDb250ZW50QmxvY2soYmxvY2spKSByZXR1cm4ge1xuXHRcdHR5cGU6IGJsb2NrLnR5cGUsXG5cdFx0bWltZVR5cGU6IGJsb2NrLm1pbWVfdHlwZSxcblx0XHR1cmw6IGJsb2NrLnVybCxcblx0XHRtZXRhZGF0YTogYmxvY2subWV0YWRhdGFcblx0fTtcblx0aWYgKGlzQmFzZTY0Q29udGVudEJsb2NrKGJsb2NrKSkgcmV0dXJuIHtcblx0XHR0eXBlOiBibG9jay50eXBlLFxuXHRcdG1pbWVUeXBlOiBibG9jay5taW1lX3R5cGUgPz8gXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIixcblx0XHRkYXRhOiBibG9jay5kYXRhLFxuXHRcdG1ldGFkYXRhOiBibG9jay5tZXRhZGF0YVxuXHR9O1xuXHRpZiAoaXNJRENvbnRlbnRCbG9jayhibG9jaykpIHJldHVybiB7XG5cdFx0dHlwZTogYmxvY2sudHlwZSxcblx0XHRtaW1lVHlwZTogYmxvY2subWltZV90eXBlLFxuXHRcdGZpbGVJZDogYmxvY2suaWQsXG5cdFx0bWV0YWRhdGE6IGJsb2NrLm1ldGFkYXRhXG5cdH07XG5cdHJldHVybiBibG9jaztcbn1cbmZ1bmN0aW9uIGNvbnZlcnRUb1YxRnJvbURhdGFDb250ZW50KGNvbnRlbnQpIHtcblx0cmV0dXJuIGNvbnRlbnQubWFwKGNvbnZlcnRUb1YxRnJvbURhdGFDb250ZW50QmxvY2spO1xufVxuZnVuY3Rpb24gaXNPcGVuQUlEYXRhQmxvY2soYmxvY2spIHtcblx0aWYgKF9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJpbWFnZV91cmxcIikgJiYgX2lzT2JqZWN0KGJsb2NrLmltYWdlX3VybCkpIHJldHVybiB0cnVlO1xuXHRpZiAoX2lzQ29udGVudEJsb2NrKGJsb2NrLCBcImlucHV0X2F1ZGlvXCIpICYmIF9pc09iamVjdChibG9jay5pbnB1dF9hdWRpbykpIHJldHVybiB0cnVlO1xuXHRpZiAoX2lzQ29udGVudEJsb2NrKGJsb2NrLCBcImZpbGVcIikgJiYgX2lzT2JqZWN0KGJsb2NrLmZpbGUpKSByZXR1cm4gdHJ1ZTtcblx0cmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gY29udmVydFRvVjFGcm9tT3BlbkFJRGF0YUJsb2NrKGJsb2NrKSB7XG5cdGlmIChfaXNDb250ZW50QmxvY2soYmxvY2ssIFwiaW1hZ2VfdXJsXCIpICYmIF9pc09iamVjdChibG9jay5pbWFnZV91cmwpICYmIF9pc1N0cmluZyhibG9jay5pbWFnZV91cmwudXJsKSkge1xuXHRcdGNvbnN0IHBhcnNlZCA9IHBhcnNlQmFzZTY0RGF0YVVybCh7IGRhdGFVcmw6IGJsb2NrLmltYWdlX3VybC51cmwgfSk7XG5cdFx0aWYgKHBhcnNlZCkgcmV0dXJuIHtcblx0XHRcdHR5cGU6IFwiaW1hZ2VcIixcblx0XHRcdG1pbWVUeXBlOiBwYXJzZWQubWltZV90eXBlLFxuXHRcdFx0ZGF0YTogcGFyc2VkLmRhdGFcblx0XHR9O1xuXHRcdGVsc2UgcmV0dXJuIHtcblx0XHRcdHR5cGU6IFwiaW1hZ2VcIixcblx0XHRcdHVybDogYmxvY2suaW1hZ2VfdXJsLnVybFxuXHRcdH07XG5cdH0gZWxzZSBpZiAoX2lzQ29udGVudEJsb2NrKGJsb2NrLCBcImlucHV0X2F1ZGlvXCIpICYmIF9pc09iamVjdChibG9jay5pbnB1dF9hdWRpbykgJiYgX2lzU3RyaW5nKGJsb2NrLmlucHV0X2F1ZGlvLmRhdGEpICYmIF9pc1N0cmluZyhibG9jay5pbnB1dF9hdWRpby5mb3JtYXQpKSByZXR1cm4ge1xuXHRcdHR5cGU6IFwiYXVkaW9cIixcblx0XHRkYXRhOiBibG9jay5pbnB1dF9hdWRpby5kYXRhLFxuXHRcdG1pbWVUeXBlOiBgYXVkaW8vJHtibG9jay5pbnB1dF9hdWRpby5mb3JtYXR9YFxuXHR9O1xuXHRlbHNlIGlmIChfaXNDb250ZW50QmxvY2soYmxvY2ssIFwiZmlsZVwiKSAmJiBfaXNPYmplY3QoYmxvY2suZmlsZSkgJiYgX2lzU3RyaW5nKGJsb2NrLmZpbGUuZGF0YSkpIHtcblx0XHRjb25zdCBwYXJzZWQgPSBwYXJzZUJhc2U2NERhdGFVcmwoeyBkYXRhVXJsOiBibG9jay5maWxlLmRhdGEgfSk7XG5cdFx0aWYgKHBhcnNlZCkgcmV0dXJuIHtcblx0XHRcdHR5cGU6IFwiZmlsZVwiLFxuXHRcdFx0ZGF0YTogcGFyc2VkLmRhdGEsXG5cdFx0XHRtaW1lVHlwZTogcGFyc2VkLm1pbWVfdHlwZVxuXHRcdH07XG5cdFx0ZWxzZSBpZiAoX2lzU3RyaW5nKGJsb2NrLmZpbGUuZmlsZV9pZCkpIHJldHVybiB7XG5cdFx0XHR0eXBlOiBcImZpbGVcIixcblx0XHRcdGZpbGVJZDogYmxvY2suZmlsZS5maWxlX2lkXG5cdFx0fTtcblx0fVxuXHRyZXR1cm4gYmxvY2s7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgY29udmVydFRvVjFGcm9tRGF0YUNvbnRlbnQsIGNvbnZlcnRUb1YxRnJvbU9wZW5BSURhdGFCbG9jaywgaXNPcGVuQUlEYXRhQmxvY2sgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGEuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/data.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/deepseek.js":
/*!*****************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/deepseek.js ***!
  \*****************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatDeepSeekTranslator: () => (/* binding */ ChatDeepSeekTranslator)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/utils.js\");\n\n\n//#region src/messages/block_translators/deepseek.ts\n/**\n* Converts a DeepSeek AI message to an array of v1 standard content blocks.\n*\n* This function processes an AI message from DeepSeek's API format\n* and converts it to the standardized v1 content block format. It handles\n* both string content and the reasoning_content in additional_kwargs.\n*\n* @param message - The AI message containing DeepSeek-formatted content\n* @returns Array of content blocks in v1 standard format\n*\n* @example\n* ```typescript\n* const message = new AIMessage({\n*   content: \"The answer is 42\",\n*   additional_kwargs: { reasoning_content: \"Let me think about this...\" }\n* });\n* const standardBlocks = convertToV1FromDeepSeekMessage(message);\n* // Returns:\n* // [\n* //   { type: \"reasoning\", reasoning: \"Let me think about this...\" },\n* //   { type: \"text\", text: \"The answer is 42\" }\n* // ]\n* ```\n*/\nfunction convertToV1FromDeepSeekMessage(message) {\n\tconst blocks = [];\n\tconst reasoningContent = message.additional_kwargs?.reasoning_content;\n\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(reasoningContent) && reasoningContent.length > 0) blocks.push({\n\t\ttype: \"reasoning\",\n\t\treasoning: reasoningContent\n\t});\n\tif (typeof message.content === \"string\") {\n\t\tif (message.content.length > 0) blocks.push({\n\t\t\ttype: \"text\",\n\t\t\ttext: message.content\n\t\t});\n\t} else for (const block of message.content) if (typeof block === \"object\" && \"type\" in block && block.type === \"text\" && \"text\" in block && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.text)) blocks.push({\n\t\ttype: \"text\",\n\t\ttext: block.text\n\t});\n\tfor (const toolCall of message.tool_calls ?? []) blocks.push({\n\t\ttype: \"tool_call\",\n\t\tid: toolCall.id,\n\t\tname: toolCall.name,\n\t\targs: toolCall.args\n\t});\n\treturn blocks;\n}\nconst ChatDeepSeekTranslator = {\n\ttranslateContent: convertToV1FromDeepSeekMessage,\n\ttranslateContentChunk: convertToV1FromDeepSeekMessage\n};\n\n//#endregion\n\n//# sourceMappingURL=deepseek.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL2Jsb2NrX3RyYW5zbGF0b3JzL2RlZXBzZWVrLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXVDOztBQUV2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFNBQVMsNERBQTREO0FBQ3JFLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLG9EQUFTO0FBQ2Q7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxHQUFHLDBJQUEwSSxvREFBUztBQUN0SjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ2tDO0FBQ2xDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL2Jsb2NrX3RyYW5zbGF0b3JzL2RlZXBzZWVrLmpzP2ZiMTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX2lzU3RyaW5nIH0gZnJvbSBcIi4vdXRpbHMuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy9kZWVwc2Vlay50c1xuLyoqXG4qIENvbnZlcnRzIGEgRGVlcFNlZWsgQUkgbWVzc2FnZSB0byBhbiBhcnJheSBvZiB2MSBzdGFuZGFyZCBjb250ZW50IGJsb2Nrcy5cbipcbiogVGhpcyBmdW5jdGlvbiBwcm9jZXNzZXMgYW4gQUkgbWVzc2FnZSBmcm9tIERlZXBTZWVrJ3MgQVBJIGZvcm1hdFxuKiBhbmQgY29udmVydHMgaXQgdG8gdGhlIHN0YW5kYXJkaXplZCB2MSBjb250ZW50IGJsb2NrIGZvcm1hdC4gSXQgaGFuZGxlc1xuKiBib3RoIHN0cmluZyBjb250ZW50IGFuZCB0aGUgcmVhc29uaW5nX2NvbnRlbnQgaW4gYWRkaXRpb25hbF9rd2FyZ3MuXG4qXG4qIEBwYXJhbSBtZXNzYWdlIC0gVGhlIEFJIG1lc3NhZ2UgY29udGFpbmluZyBEZWVwU2Vlay1mb3JtYXR0ZWQgY29udGVudFxuKiBAcmV0dXJucyBBcnJheSBvZiBjb250ZW50IGJsb2NrcyBpbiB2MSBzdGFuZGFyZCBmb3JtYXRcbipcbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBtZXNzYWdlID0gbmV3IEFJTWVzc2FnZSh7XG4qICAgY29udGVudDogXCJUaGUgYW5zd2VyIGlzIDQyXCIsXG4qICAgYWRkaXRpb25hbF9rd2FyZ3M6IHsgcmVhc29uaW5nX2NvbnRlbnQ6IFwiTGV0IG1lIHRoaW5rIGFib3V0IHRoaXMuLi5cIiB9XG4qIH0pO1xuKiBjb25zdCBzdGFuZGFyZEJsb2NrcyA9IGNvbnZlcnRUb1YxRnJvbURlZXBTZWVrTWVzc2FnZShtZXNzYWdlKTtcbiogLy8gUmV0dXJuczpcbiogLy8gW1xuKiAvLyAgIHsgdHlwZTogXCJyZWFzb25pbmdcIiwgcmVhc29uaW5nOiBcIkxldCBtZSB0aGluayBhYm91dCB0aGlzLi4uXCIgfSxcbiogLy8gICB7IHR5cGU6IFwidGV4dFwiLCB0ZXh0OiBcIlRoZSBhbnN3ZXIgaXMgNDJcIiB9XG4qIC8vIF1cbiogYGBgXG4qL1xuZnVuY3Rpb24gY29udmVydFRvVjFGcm9tRGVlcFNlZWtNZXNzYWdlKG1lc3NhZ2UpIHtcblx0Y29uc3QgYmxvY2tzID0gW107XG5cdGNvbnN0IHJlYXNvbmluZ0NvbnRlbnQgPSBtZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzPy5yZWFzb25pbmdfY29udGVudDtcblx0aWYgKF9pc1N0cmluZyhyZWFzb25pbmdDb250ZW50KSAmJiByZWFzb25pbmdDb250ZW50Lmxlbmd0aCA+IDApIGJsb2Nrcy5wdXNoKHtcblx0XHR0eXBlOiBcInJlYXNvbmluZ1wiLFxuXHRcdHJlYXNvbmluZzogcmVhc29uaW5nQ29udGVudFxuXHR9KTtcblx0aWYgKHR5cGVvZiBtZXNzYWdlLmNvbnRlbnQgPT09IFwic3RyaW5nXCIpIHtcblx0XHRpZiAobWVzc2FnZS5jb250ZW50Lmxlbmd0aCA+IDApIGJsb2Nrcy5wdXNoKHtcblx0XHRcdHR5cGU6IFwidGV4dFwiLFxuXHRcdFx0dGV4dDogbWVzc2FnZS5jb250ZW50XG5cdFx0fSk7XG5cdH0gZWxzZSBmb3IgKGNvbnN0IGJsb2NrIG9mIG1lc3NhZ2UuY29udGVudCkgaWYgKHR5cGVvZiBibG9jayA9PT0gXCJvYmplY3RcIiAmJiBcInR5cGVcIiBpbiBibG9jayAmJiBibG9jay50eXBlID09PSBcInRleHRcIiAmJiBcInRleHRcIiBpbiBibG9jayAmJiBfaXNTdHJpbmcoYmxvY2sudGV4dCkpIGJsb2Nrcy5wdXNoKHtcblx0XHR0eXBlOiBcInRleHRcIixcblx0XHR0ZXh0OiBibG9jay50ZXh0XG5cdH0pO1xuXHRmb3IgKGNvbnN0IHRvb2xDYWxsIG9mIG1lc3NhZ2UudG9vbF9jYWxscyA/PyBbXSkgYmxvY2tzLnB1c2goe1xuXHRcdHR5cGU6IFwidG9vbF9jYWxsXCIsXG5cdFx0aWQ6IHRvb2xDYWxsLmlkLFxuXHRcdG5hbWU6IHRvb2xDYWxsLm5hbWUsXG5cdFx0YXJnczogdG9vbENhbGwuYXJnc1xuXHR9KTtcblx0cmV0dXJuIGJsb2Nrcztcbn1cbmNvbnN0IENoYXREZWVwU2Vla1RyYW5zbGF0b3IgPSB7XG5cdHRyYW5zbGF0ZUNvbnRlbnQ6IGNvbnZlcnRUb1YxRnJvbURlZXBTZWVrTWVzc2FnZSxcblx0dHJhbnNsYXRlQ29udGVudENodW5rOiBjb252ZXJ0VG9WMUZyb21EZWVwU2Vla01lc3NhZ2Vcbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQ2hhdERlZXBTZWVrVHJhbnNsYXRvciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVlcHNlZWsuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/deepseek.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/google_genai.js":
/*!*********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/google_genai.js ***!
  \*********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatGoogleGenAITranslator: () => (/* binding */ ChatGoogleGenAITranslator)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/utils.js\");\n\n\n//#region src/messages/block_translators/google_genai.ts\nfunction convertToV1FromChatGoogleMessage(message) {\n\tfunction* iterateContent() {\n\t\tconst content = typeof message.content === \"string\" ? [{\n\t\t\ttype: \"text\",\n\t\t\ttext: message.content\n\t\t}] : message.content;\n\t\tfor (const block of content) {\n\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"text\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.text)) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"text\",\n\t\t\t\t\ttext: block.text\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"thinking\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.thinking)) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"reasoning\",\n\t\t\t\t\treasoning: block.thinking,\n\t\t\t\t\t...block.signature ? { signature: block.signature } : {}\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"inlineData\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.inlineData) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.inlineData.mimeType) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.inlineData.data)) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"file\",\n\t\t\t\t\tmimeType: block.inlineData.mimeType,\n\t\t\t\t\tdata: block.inlineData.data\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"functionCall\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.functionCall) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.functionCall.name) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.functionCall.args)) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"tool_call\",\n\t\t\t\t\tid: message.id,\n\t\t\t\t\tname: block.functionCall.name,\n\t\t\t\t\targs: block.functionCall.args\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"functionResponse\")) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"non_standard\",\n\t\t\t\t\tvalue: block\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"fileData\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(block.fileData) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.fileData.mimeType) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.fileData.fileUri)) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"file\",\n\t\t\t\t\tmimeType: block.fileData.mimeType,\n\t\t\t\t\tfileId: block.fileData.fileUri\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"executableCode\")) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"non_standard\",\n\t\t\t\t\tvalue: block\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"codeExecutionResult\")) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"non_standard\",\n\t\t\t\t\tvalue: block\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tyield {\n\t\t\t\ttype: \"non_standard\",\n\t\t\t\tvalue: block\n\t\t\t};\n\t\t}\n\t}\n\treturn Array.from(iterateContent());\n}\nconst ChatGoogleGenAITranslator = {\n\ttranslateContent: convertToV1FromChatGoogleMessage,\n\ttranslateContentChunk: convertToV1FromChatGoogleMessage\n};\n\n//#endregion\n\n//# sourceMappingURL=google_genai.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL2Jsb2NrX3RyYW5zbGF0b3JzL2dvb2dsZV9nZW5haS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFtRTs7QUFFbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsT0FBTywwREFBZSxtQkFBbUIsb0RBQVM7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssU0FBUywwREFBZSx1QkFBdUIsb0RBQVM7QUFDN0Q7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDZCQUE2QjtBQUN6RDtBQUNBO0FBQ0EsS0FBSyxTQUFTLDBEQUFlLHlCQUF5QixvREFBUyxzQkFBc0Isb0RBQVMsK0JBQStCLG9EQUFTO0FBQ3RJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssU0FBUywwREFBZSwyQkFBMkIsb0RBQVMsd0JBQXdCLG9EQUFTLDZCQUE2QixvREFBUztBQUN4STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssU0FBUywwREFBZTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxTQUFTLDBEQUFlLHVCQUF1QixvREFBUyxvQkFBb0Isb0RBQVMsNkJBQTZCLG9EQUFTO0FBQ2hJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssU0FBUywwREFBZTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxTQUFTLDBEQUFlO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNxQztBQUNyQyIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy9nb29nbGVfZ2VuYWkuanM/NjQ1NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfaXNDb250ZW50QmxvY2ssIF9pc09iamVjdCwgX2lzU3RyaW5nIH0gZnJvbSBcIi4vdXRpbHMuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy9nb29nbGVfZ2VuYWkudHNcbmZ1bmN0aW9uIGNvbnZlcnRUb1YxRnJvbUNoYXRHb29nbGVNZXNzYWdlKG1lc3NhZ2UpIHtcblx0ZnVuY3Rpb24qIGl0ZXJhdGVDb250ZW50KCkge1xuXHRcdGNvbnN0IGNvbnRlbnQgPSB0eXBlb2YgbWVzc2FnZS5jb250ZW50ID09PSBcInN0cmluZ1wiID8gW3tcblx0XHRcdHR5cGU6IFwidGV4dFwiLFxuXHRcdFx0dGV4dDogbWVzc2FnZS5jb250ZW50XG5cdFx0fV0gOiBtZXNzYWdlLmNvbnRlbnQ7XG5cdFx0Zm9yIChjb25zdCBibG9jayBvZiBjb250ZW50KSB7XG5cdFx0XHRpZiAoX2lzQ29udGVudEJsb2NrKGJsb2NrLCBcInRleHRcIikgJiYgX2lzU3RyaW5nKGJsb2NrLnRleHQpKSB7XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHR0eXBlOiBcInRleHRcIixcblx0XHRcdFx0XHR0ZXh0OiBibG9jay50ZXh0XG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChfaXNDb250ZW50QmxvY2soYmxvY2ssIFwidGhpbmtpbmdcIikgJiYgX2lzU3RyaW5nKGJsb2NrLnRoaW5raW5nKSkge1xuXHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0dHlwZTogXCJyZWFzb25pbmdcIixcblx0XHRcdFx0XHRyZWFzb25pbmc6IGJsb2NrLnRoaW5raW5nLFxuXHRcdFx0XHRcdC4uLmJsb2NrLnNpZ25hdHVyZSA/IHsgc2lnbmF0dXJlOiBibG9jay5zaWduYXR1cmUgfSA6IHt9XG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChfaXNDb250ZW50QmxvY2soYmxvY2ssIFwiaW5saW5lRGF0YVwiKSAmJiBfaXNPYmplY3QoYmxvY2suaW5saW5lRGF0YSkgJiYgX2lzU3RyaW5nKGJsb2NrLmlubGluZURhdGEubWltZVR5cGUpICYmIF9pc1N0cmluZyhibG9jay5pbmxpbmVEYXRhLmRhdGEpKSB7XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHR0eXBlOiBcImZpbGVcIixcblx0XHRcdFx0XHRtaW1lVHlwZTogYmxvY2suaW5saW5lRGF0YS5taW1lVHlwZSxcblx0XHRcdFx0XHRkYXRhOiBibG9jay5pbmxpbmVEYXRhLmRhdGFcblx0XHRcdFx0fTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9IGVsc2UgaWYgKF9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJmdW5jdGlvbkNhbGxcIikgJiYgX2lzT2JqZWN0KGJsb2NrLmZ1bmN0aW9uQ2FsbCkgJiYgX2lzU3RyaW5nKGJsb2NrLmZ1bmN0aW9uQ2FsbC5uYW1lKSAmJiBfaXNPYmplY3QoYmxvY2suZnVuY3Rpb25DYWxsLmFyZ3MpKSB7XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHR0eXBlOiBcInRvb2xfY2FsbFwiLFxuXHRcdFx0XHRcdGlkOiBtZXNzYWdlLmlkLFxuXHRcdFx0XHRcdG5hbWU6IGJsb2NrLmZ1bmN0aW9uQ2FsbC5uYW1lLFxuXHRcdFx0XHRcdGFyZ3M6IGJsb2NrLmZ1bmN0aW9uQ2FsbC5hcmdzXG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChfaXNDb250ZW50QmxvY2soYmxvY2ssIFwiZnVuY3Rpb25SZXNwb25zZVwiKSkge1xuXHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0dHlwZTogXCJub25fc3RhbmRhcmRcIixcblx0XHRcdFx0XHR2YWx1ZTogYmxvY2tcblx0XHRcdFx0fTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9IGVsc2UgaWYgKF9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJmaWxlRGF0YVwiKSAmJiBfaXNPYmplY3QoYmxvY2suZmlsZURhdGEpICYmIF9pc1N0cmluZyhibG9jay5maWxlRGF0YS5taW1lVHlwZSkgJiYgX2lzU3RyaW5nKGJsb2NrLmZpbGVEYXRhLmZpbGVVcmkpKSB7XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHR0eXBlOiBcImZpbGVcIixcblx0XHRcdFx0XHRtaW1lVHlwZTogYmxvY2suZmlsZURhdGEubWltZVR5cGUsXG5cdFx0XHRcdFx0ZmlsZUlkOiBibG9jay5maWxlRGF0YS5maWxlVXJpXG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChfaXNDb250ZW50QmxvY2soYmxvY2ssIFwiZXhlY3V0YWJsZUNvZGVcIikpIHtcblx0XHRcdFx0eWllbGQge1xuXHRcdFx0XHRcdHR5cGU6IFwibm9uX3N0YW5kYXJkXCIsXG5cdFx0XHRcdFx0dmFsdWU6IGJsb2NrXG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChfaXNDb250ZW50QmxvY2soYmxvY2ssIFwiY29kZUV4ZWN1dGlvblJlc3VsdFwiKSkge1xuXHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0dHlwZTogXCJub25fc3RhbmRhcmRcIixcblx0XHRcdFx0XHR2YWx1ZTogYmxvY2tcblx0XHRcdFx0fTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHR5aWVsZCB7XG5cdFx0XHRcdHR5cGU6IFwibm9uX3N0YW5kYXJkXCIsXG5cdFx0XHRcdHZhbHVlOiBibG9ja1xuXHRcdFx0fTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIEFycmF5LmZyb20oaXRlcmF0ZUNvbnRlbnQoKSk7XG59XG5jb25zdCBDaGF0R29vZ2xlR2VuQUlUcmFuc2xhdG9yID0ge1xuXHR0cmFuc2xhdGVDb250ZW50OiBjb252ZXJ0VG9WMUZyb21DaGF0R29vZ2xlTWVzc2FnZSxcblx0dHJhbnNsYXRlQ29udGVudENodW5rOiBjb252ZXJ0VG9WMUZyb21DaGF0R29vZ2xlTWVzc2FnZVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBDaGF0R29vZ2xlR2VuQUlUcmFuc2xhdG9yIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nb29nbGVfZ2VuYWkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/google_genai.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/google_vertexai.js":
/*!************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/google_vertexai.js ***!
  \************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatVertexTranslator: () => (/* binding */ ChatVertexTranslator)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/utils.js\");\n\n\n//#region src/messages/block_translators/google_vertexai.ts\nfunction convertToV1FromChatVertexMessage(message) {\n\tfunction* iterateContent() {\n\t\tconst content = typeof message.content === \"string\" ? [{\n\t\t\ttype: \"text\",\n\t\t\ttext: message.content\n\t\t}] : message.content;\n\t\tfor (const block of content) {\n\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"reasoning\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.reasoning)) {\n\t\t\t\tconst signature = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iife)(() => {\n\t\t\t\t\tconst reasoningIndex = content.indexOf(block);\n\t\t\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isArray)(message.additional_kwargs?.signatures) && reasoningIndex >= 0) return message.additional_kwargs.signatures.at(reasoningIndex);\n\t\t\t\t\treturn void 0;\n\t\t\t\t});\n\t\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(signature)) yield {\n\t\t\t\t\ttype: \"reasoning\",\n\t\t\t\t\treasoning: block.reasoning,\n\t\t\t\t\tsignature\n\t\t\t\t};\n\t\t\t\telse yield {\n\t\t\t\t\ttype: \"reasoning\",\n\t\t\t\t\treasoning: block.reasoning\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"thinking\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.thinking)) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"reasoning\",\n\t\t\t\t\treasoning: block.thinking,\n\t\t\t\t\t...block.signature ? { signature: block.signature } : {}\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"text\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.text)) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"text\",\n\t\t\t\t\ttext: block.text\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"image_url\")) {\n\t\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.image_url)) if (block.image_url.startsWith(\"data:\")) {\n\t\t\t\t\tconst dataUrlRegex = /^data:([^;]+);base64,(.+)$/;\n\t\t\t\t\tconst match = block.image_url.match(dataUrlRegex);\n\t\t\t\t\tif (match) yield {\n\t\t\t\t\t\ttype: \"image\",\n\t\t\t\t\t\tdata: match[2],\n\t\t\t\t\t\tmimeType: match[1]\n\t\t\t\t\t};\n\t\t\t\t\telse yield {\n\t\t\t\t\t\ttype: \"image\",\n\t\t\t\t\t\turl: block.image_url\n\t\t\t\t\t};\n\t\t\t\t} else yield {\n\t\t\t\t\ttype: \"image\",\n\t\t\t\t\turl: block.image_url\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"media\") && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.mimeType) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.data)) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"file\",\n\t\t\t\t\tmimeType: block.mimeType,\n\t\t\t\t\tdata: block.data\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tyield {\n\t\t\t\ttype: \"non_standard\",\n\t\t\t\tvalue: block\n\t\t\t};\n\t\t}\n\t}\n\treturn Array.from(iterateContent());\n}\nconst ChatVertexTranslator = {\n\ttranslateContent: convertToV1FromChatVertexMessage,\n\ttranslateContentChunk: convertToV1FromChatVertexMessage\n};\n\n//#endregion\n\n//# sourceMappingURL=google_vertexai.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL2Jsb2NrX3RyYW5zbGF0b3JzL2dvb2dsZV92ZXJ0ZXhhaS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUF3RTs7QUFFeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsT0FBTywwREFBZSx3QkFBd0Isb0RBQVM7QUFDdkQsc0JBQXNCLCtDQUFJO0FBQzFCO0FBQ0EsU0FBUyxtREFBUTtBQUNqQjtBQUNBLEtBQUs7QUFDTCxRQUFRLG9EQUFTO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssU0FBUywwREFBZSx1QkFBdUIsb0RBQVM7QUFDN0Q7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDZCQUE2QjtBQUN6RDtBQUNBO0FBQ0EsS0FBSyxTQUFTLDBEQUFlLG1CQUFtQixvREFBUztBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxTQUFTLDBEQUFlO0FBQzdCLFFBQVEsb0RBQVM7QUFDakIscUNBQXFDLElBQUk7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLFNBQVMsMERBQWUsb0JBQW9CLG9EQUFTLG9CQUFvQixvREFBUztBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNnQztBQUNoQyIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy9nb29nbGVfdmVydGV4YWkuanM/Yjg0MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfaXNBcnJheSwgX2lzQ29udGVudEJsb2NrLCBfaXNTdHJpbmcsIGlpZmUgfSBmcm9tIFwiLi91dGlscy5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL21lc3NhZ2VzL2Jsb2NrX3RyYW5zbGF0b3JzL2dvb2dsZV92ZXJ0ZXhhaS50c1xuZnVuY3Rpb24gY29udmVydFRvVjFGcm9tQ2hhdFZlcnRleE1lc3NhZ2UobWVzc2FnZSkge1xuXHRmdW5jdGlvbiogaXRlcmF0ZUNvbnRlbnQoKSB7XG5cdFx0Y29uc3QgY29udGVudCA9IHR5cGVvZiBtZXNzYWdlLmNvbnRlbnQgPT09IFwic3RyaW5nXCIgPyBbe1xuXHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHR0ZXh0OiBtZXNzYWdlLmNvbnRlbnRcblx0XHR9XSA6IG1lc3NhZ2UuY29udGVudDtcblx0XHRmb3IgKGNvbnN0IGJsb2NrIG9mIGNvbnRlbnQpIHtcblx0XHRcdGlmIChfaXNDb250ZW50QmxvY2soYmxvY2ssIFwicmVhc29uaW5nXCIpICYmIF9pc1N0cmluZyhibG9jay5yZWFzb25pbmcpKSB7XG5cdFx0XHRcdGNvbnN0IHNpZ25hdHVyZSA9IGlpZmUoKCkgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IHJlYXNvbmluZ0luZGV4ID0gY29udGVudC5pbmRleE9mKGJsb2NrKTtcblx0XHRcdFx0XHRpZiAoX2lzQXJyYXkobWVzc2FnZS5hZGRpdGlvbmFsX2t3YXJncz8uc2lnbmF0dXJlcykgJiYgcmVhc29uaW5nSW5kZXggPj0gMCkgcmV0dXJuIG1lc3NhZ2UuYWRkaXRpb25hbF9rd2FyZ3Muc2lnbmF0dXJlcy5hdChyZWFzb25pbmdJbmRleCk7XG5cdFx0XHRcdFx0cmV0dXJuIHZvaWQgMDtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGlmIChfaXNTdHJpbmcoc2lnbmF0dXJlKSkgeWllbGQge1xuXHRcdFx0XHRcdHR5cGU6IFwicmVhc29uaW5nXCIsXG5cdFx0XHRcdFx0cmVhc29uaW5nOiBibG9jay5yZWFzb25pbmcsXG5cdFx0XHRcdFx0c2lnbmF0dXJlXG5cdFx0XHRcdH07XG5cdFx0XHRcdGVsc2UgeWllbGQge1xuXHRcdFx0XHRcdHR5cGU6IFwicmVhc29uaW5nXCIsXG5cdFx0XHRcdFx0cmVhc29uaW5nOiBibG9jay5yZWFzb25pbmdcblx0XHRcdFx0fTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9IGVsc2UgaWYgKF9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJ0aGlua2luZ1wiKSAmJiBfaXNTdHJpbmcoYmxvY2sudGhpbmtpbmcpKSB7XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHR0eXBlOiBcInJlYXNvbmluZ1wiLFxuXHRcdFx0XHRcdHJlYXNvbmluZzogYmxvY2sudGhpbmtpbmcsXG5cdFx0XHRcdFx0Li4uYmxvY2suc2lnbmF0dXJlID8geyBzaWduYXR1cmU6IGJsb2NrLnNpZ25hdHVyZSB9IDoge31cblx0XHRcdFx0fTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9IGVsc2UgaWYgKF9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJ0ZXh0XCIpICYmIF9pc1N0cmluZyhibG9jay50ZXh0KSkge1xuXHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHRcdFx0dGV4dDogYmxvY2sudGV4dFxuXHRcdFx0XHR9O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAoX2lzQ29udGVudEJsb2NrKGJsb2NrLCBcImltYWdlX3VybFwiKSkge1xuXHRcdFx0XHRpZiAoX2lzU3RyaW5nKGJsb2NrLmltYWdlX3VybCkpIGlmIChibG9jay5pbWFnZV91cmwuc3RhcnRzV2l0aChcImRhdGE6XCIpKSB7XG5cdFx0XHRcdFx0Y29uc3QgZGF0YVVybFJlZ2V4ID0gL15kYXRhOihbXjtdKyk7YmFzZTY0LCguKykkLztcblx0XHRcdFx0XHRjb25zdCBtYXRjaCA9IGJsb2NrLmltYWdlX3VybC5tYXRjaChkYXRhVXJsUmVnZXgpO1xuXHRcdFx0XHRcdGlmIChtYXRjaCkgeWllbGQge1xuXHRcdFx0XHRcdFx0dHlwZTogXCJpbWFnZVwiLFxuXHRcdFx0XHRcdFx0ZGF0YTogbWF0Y2hbMl0sXG5cdFx0XHRcdFx0XHRtaW1lVHlwZTogbWF0Y2hbMV1cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdGVsc2UgeWllbGQge1xuXHRcdFx0XHRcdFx0dHlwZTogXCJpbWFnZVwiLFxuXHRcdFx0XHRcdFx0dXJsOiBibG9jay5pbWFnZV91cmxcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9IGVsc2UgeWllbGQge1xuXHRcdFx0XHRcdHR5cGU6IFwiaW1hZ2VcIixcblx0XHRcdFx0XHR1cmw6IGJsb2NrLmltYWdlX3VybFxuXHRcdFx0XHR9O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAoX2lzQ29udGVudEJsb2NrKGJsb2NrLCBcIm1lZGlhXCIpICYmIF9pc1N0cmluZyhibG9jay5taW1lVHlwZSkgJiYgX2lzU3RyaW5nKGJsb2NrLmRhdGEpKSB7XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHR0eXBlOiBcImZpbGVcIixcblx0XHRcdFx0XHRtaW1lVHlwZTogYmxvY2subWltZVR5cGUsXG5cdFx0XHRcdFx0ZGF0YTogYmxvY2suZGF0YVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdHlpZWxkIHtcblx0XHRcdFx0dHlwZTogXCJub25fc3RhbmRhcmRcIixcblx0XHRcdFx0dmFsdWU6IGJsb2NrXG5cdFx0XHR9O1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gQXJyYXkuZnJvbShpdGVyYXRlQ29udGVudCgpKTtcbn1cbmNvbnN0IENoYXRWZXJ0ZXhUcmFuc2xhdG9yID0ge1xuXHR0cmFuc2xhdGVDb250ZW50OiBjb252ZXJ0VG9WMUZyb21DaGF0VmVydGV4TWVzc2FnZSxcblx0dHJhbnNsYXRlQ29udGVudENodW5rOiBjb252ZXJ0VG9WMUZyb21DaGF0VmVydGV4TWVzc2FnZVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBDaGF0VmVydGV4VHJhbnNsYXRvciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z29vZ2xlX3ZlcnRleGFpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/google_vertexai.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/groq.js":
/*!*************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/groq.js ***!
  \*************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatGroqTranslator: () => (/* binding */ ChatGroqTranslator)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/utils.js\");\n\n\n//#region src/messages/block_translators/groq.ts\n/**\n* Converts a Groq AI message to an array of v1 standard content blocks.\n*\n* This function processes an AI message from Groq's API format\n* and converts it to the standardized v1 content block format. It handles\n* both parsed reasoning (in additional_kwargs.reasoning) and raw reasoning\n* (in <think> tags within content).\n*\n* @param message - The AI message containing Groq-formatted content\n* @returns Array of content blocks in v1 standard format\n*\n* @example\n* ```typescript\n* // Parsed format (reasoning_format=\"parsed\")\n* const message = new AIMessage({\n*   content: \"The answer is 42\",\n*   additional_kwargs: { reasoning: \"Let me think about this...\" }\n* });\n* const standardBlocks = convertToV1FromGroqMessage(message);\n* // Returns:\n* // [\n* //   { type: \"reasoning\", reasoning: \"Let me think about this...\" },\n* //   { type: \"text\", text: \"The answer is 42\" }\n* // ]\n* ```\n*\n* @example\n* ```typescript\n* // Raw format (reasoning_format=\"raw\")\n* const message = new AIMessage({\n*   content: \"<think>Let me think...</think>The answer is 42\"\n* });\n* const standardBlocks = convertToV1FromGroqMessage(message);\n* // Returns:\n* // [\n* //   { type: \"reasoning\", reasoning: \"Let me think...\" },\n* //   { type: \"text\", text: \"The answer is 42\" }\n* // ]\n* ```\n*/\nfunction convertToV1FromGroqMessage(message) {\n\tconst blocks = [];\n\tconst parsedReasoning = message.additional_kwargs?.reasoning;\n\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(parsedReasoning) && parsedReasoning.length > 0) blocks.push({\n\t\ttype: \"reasoning\",\n\t\treasoning: parsedReasoning\n\t});\n\tif (typeof message.content === \"string\") {\n\t\tlet textContent = message.content;\n\t\tconst thinkMatch = textContent.match(/<think>([\\s\\S]*?)<\\/think>/);\n\t\tif (thinkMatch) {\n\t\t\tconst thinkingContent = thinkMatch[1].trim();\n\t\t\tif (thinkingContent.length > 0) blocks.push({\n\t\t\t\ttype: \"reasoning\",\n\t\t\t\treasoning: thinkingContent\n\t\t\t});\n\t\t\ttextContent = textContent.replace(/<think>[\\s\\S]*?<\\/think>/, \"\").trim();\n\t\t}\n\t\tif (textContent.length > 0) blocks.push({\n\t\t\ttype: \"text\",\n\t\t\ttext: textContent\n\t\t});\n\t} else for (const block of message.content) if (typeof block === \"object\" && \"type\" in block && block.type === \"text\" && \"text\" in block && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.text)) {\n\t\tlet textContent = block.text;\n\t\tconst thinkMatch = textContent.match(/<think>([\\s\\S]*?)<\\/think>/);\n\t\tif (thinkMatch) {\n\t\t\tconst thinkingContent = thinkMatch[1].trim();\n\t\t\tif (thinkingContent.length > 0) blocks.push({\n\t\t\t\ttype: \"reasoning\",\n\t\t\t\treasoning: thinkingContent\n\t\t\t});\n\t\t\ttextContent = textContent.replace(/<think>[\\s\\S]*?<\\/think>/, \"\").trim();\n\t\t}\n\t\tif (textContent.length > 0) blocks.push({\n\t\t\ttype: \"text\",\n\t\t\ttext: textContent\n\t\t});\n\t}\n\tfor (const toolCall of message.tool_calls ?? []) blocks.push({\n\t\ttype: \"tool_call\",\n\t\tid: toolCall.id,\n\t\tname: toolCall.name,\n\t\targs: toolCall.args\n\t});\n\treturn blocks;\n}\nconst ChatGroqTranslator = {\n\ttranslateContent: convertToV1FromGroqMessage,\n\ttranslateContentChunk: convertToV1FromGroqMessage\n};\n\n//#endregion\n\n//# sourceMappingURL=groq.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL2Jsb2NrX3RyYW5zbGF0b3JzL2dyb3EuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBdUM7O0FBRXZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFNBQVMsNERBQTREO0FBQ3JFLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFNBQVMsaURBQWlEO0FBQzFELFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLG9EQUFTO0FBQ2Q7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsR0FBRywwSUFBMEksb0RBQVM7QUFDdEo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQzhCO0FBQzlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL2Jsb2NrX3RyYW5zbGF0b3JzL2dyb3EuanM/ZTk3NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfaXNTdHJpbmcgfSBmcm9tIFwiLi91dGlscy5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL21lc3NhZ2VzL2Jsb2NrX3RyYW5zbGF0b3JzL2dyb3EudHNcbi8qKlxuKiBDb252ZXJ0cyBhIEdyb3EgQUkgbWVzc2FnZSB0byBhbiBhcnJheSBvZiB2MSBzdGFuZGFyZCBjb250ZW50IGJsb2Nrcy5cbipcbiogVGhpcyBmdW5jdGlvbiBwcm9jZXNzZXMgYW4gQUkgbWVzc2FnZSBmcm9tIEdyb3EncyBBUEkgZm9ybWF0XG4qIGFuZCBjb252ZXJ0cyBpdCB0byB0aGUgc3RhbmRhcmRpemVkIHYxIGNvbnRlbnQgYmxvY2sgZm9ybWF0LiBJdCBoYW5kbGVzXG4qIGJvdGggcGFyc2VkIHJlYXNvbmluZyAoaW4gYWRkaXRpb25hbF9rd2FyZ3MucmVhc29uaW5nKSBhbmQgcmF3IHJlYXNvbmluZ1xuKiAoaW4gPHRoaW5rPiB0YWdzIHdpdGhpbiBjb250ZW50KS5cbipcbiogQHBhcmFtIG1lc3NhZ2UgLSBUaGUgQUkgbWVzc2FnZSBjb250YWluaW5nIEdyb3EtZm9ybWF0dGVkIGNvbnRlbnRcbiogQHJldHVybnMgQXJyYXkgb2YgY29udGVudCBibG9ja3MgaW4gdjEgc3RhbmRhcmQgZm9ybWF0XG4qXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogLy8gUGFyc2VkIGZvcm1hdCAocmVhc29uaW5nX2Zvcm1hdD1cInBhcnNlZFwiKVxuKiBjb25zdCBtZXNzYWdlID0gbmV3IEFJTWVzc2FnZSh7XG4qICAgY29udGVudDogXCJUaGUgYW5zd2VyIGlzIDQyXCIsXG4qICAgYWRkaXRpb25hbF9rd2FyZ3M6IHsgcmVhc29uaW5nOiBcIkxldCBtZSB0aGluayBhYm91dCB0aGlzLi4uXCIgfVxuKiB9KTtcbiogY29uc3Qgc3RhbmRhcmRCbG9ja3MgPSBjb252ZXJ0VG9WMUZyb21Hcm9xTWVzc2FnZShtZXNzYWdlKTtcbiogLy8gUmV0dXJuczpcbiogLy8gW1xuKiAvLyAgIHsgdHlwZTogXCJyZWFzb25pbmdcIiwgcmVhc29uaW5nOiBcIkxldCBtZSB0aGluayBhYm91dCB0aGlzLi4uXCIgfSxcbiogLy8gICB7IHR5cGU6IFwidGV4dFwiLCB0ZXh0OiBcIlRoZSBhbnN3ZXIgaXMgNDJcIiB9XG4qIC8vIF1cbiogYGBgXG4qXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogLy8gUmF3IGZvcm1hdCAocmVhc29uaW5nX2Zvcm1hdD1cInJhd1wiKVxuKiBjb25zdCBtZXNzYWdlID0gbmV3IEFJTWVzc2FnZSh7XG4qICAgY29udGVudDogXCI8dGhpbms+TGV0IG1lIHRoaW5rLi4uPC90aGluaz5UaGUgYW5zd2VyIGlzIDQyXCJcbiogfSk7XG4qIGNvbnN0IHN0YW5kYXJkQmxvY2tzID0gY29udmVydFRvVjFGcm9tR3JvcU1lc3NhZ2UobWVzc2FnZSk7XG4qIC8vIFJldHVybnM6XG4qIC8vIFtcbiogLy8gICB7IHR5cGU6IFwicmVhc29uaW5nXCIsIHJlYXNvbmluZzogXCJMZXQgbWUgdGhpbmsuLi5cIiB9LFxuKiAvLyAgIHsgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IFwiVGhlIGFuc3dlciBpcyA0MlwiIH1cbiogLy8gXVxuKiBgYGBcbiovXG5mdW5jdGlvbiBjb252ZXJ0VG9WMUZyb21Hcm9xTWVzc2FnZShtZXNzYWdlKSB7XG5cdGNvbnN0IGJsb2NrcyA9IFtdO1xuXHRjb25zdCBwYXJzZWRSZWFzb25pbmcgPSBtZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzPy5yZWFzb25pbmc7XG5cdGlmIChfaXNTdHJpbmcocGFyc2VkUmVhc29uaW5nKSAmJiBwYXJzZWRSZWFzb25pbmcubGVuZ3RoID4gMCkgYmxvY2tzLnB1c2goe1xuXHRcdHR5cGU6IFwicmVhc29uaW5nXCIsXG5cdFx0cmVhc29uaW5nOiBwYXJzZWRSZWFzb25pbmdcblx0fSk7XG5cdGlmICh0eXBlb2YgbWVzc2FnZS5jb250ZW50ID09PSBcInN0cmluZ1wiKSB7XG5cdFx0bGV0IHRleHRDb250ZW50ID0gbWVzc2FnZS5jb250ZW50O1xuXHRcdGNvbnN0IHRoaW5rTWF0Y2ggPSB0ZXh0Q29udGVudC5tYXRjaCgvPHRoaW5rPihbXFxzXFxTXSo/KTxcXC90aGluaz4vKTtcblx0XHRpZiAodGhpbmtNYXRjaCkge1xuXHRcdFx0Y29uc3QgdGhpbmtpbmdDb250ZW50ID0gdGhpbmtNYXRjaFsxXS50cmltKCk7XG5cdFx0XHRpZiAodGhpbmtpbmdDb250ZW50Lmxlbmd0aCA+IDApIGJsb2Nrcy5wdXNoKHtcblx0XHRcdFx0dHlwZTogXCJyZWFzb25pbmdcIixcblx0XHRcdFx0cmVhc29uaW5nOiB0aGlua2luZ0NvbnRlbnRcblx0XHRcdH0pO1xuXHRcdFx0dGV4dENvbnRlbnQgPSB0ZXh0Q29udGVudC5yZXBsYWNlKC88dGhpbms+W1xcc1xcU10qPzxcXC90aGluaz4vLCBcIlwiKS50cmltKCk7XG5cdFx0fVxuXHRcdGlmICh0ZXh0Q29udGVudC5sZW5ndGggPiAwKSBibG9ja3MucHVzaCh7XG5cdFx0XHR0eXBlOiBcInRleHRcIixcblx0XHRcdHRleHQ6IHRleHRDb250ZW50XG5cdFx0fSk7XG5cdH0gZWxzZSBmb3IgKGNvbnN0IGJsb2NrIG9mIG1lc3NhZ2UuY29udGVudCkgaWYgKHR5cGVvZiBibG9jayA9PT0gXCJvYmplY3RcIiAmJiBcInR5cGVcIiBpbiBibG9jayAmJiBibG9jay50eXBlID09PSBcInRleHRcIiAmJiBcInRleHRcIiBpbiBibG9jayAmJiBfaXNTdHJpbmcoYmxvY2sudGV4dCkpIHtcblx0XHRsZXQgdGV4dENvbnRlbnQgPSBibG9jay50ZXh0O1xuXHRcdGNvbnN0IHRoaW5rTWF0Y2ggPSB0ZXh0Q29udGVudC5tYXRjaCgvPHRoaW5rPihbXFxzXFxTXSo/KTxcXC90aGluaz4vKTtcblx0XHRpZiAodGhpbmtNYXRjaCkge1xuXHRcdFx0Y29uc3QgdGhpbmtpbmdDb250ZW50ID0gdGhpbmtNYXRjaFsxXS50cmltKCk7XG5cdFx0XHRpZiAodGhpbmtpbmdDb250ZW50Lmxlbmd0aCA+IDApIGJsb2Nrcy5wdXNoKHtcblx0XHRcdFx0dHlwZTogXCJyZWFzb25pbmdcIixcblx0XHRcdFx0cmVhc29uaW5nOiB0aGlua2luZ0NvbnRlbnRcblx0XHRcdH0pO1xuXHRcdFx0dGV4dENvbnRlbnQgPSB0ZXh0Q29udGVudC5yZXBsYWNlKC88dGhpbms+W1xcc1xcU10qPzxcXC90aGluaz4vLCBcIlwiKS50cmltKCk7XG5cdFx0fVxuXHRcdGlmICh0ZXh0Q29udGVudC5sZW5ndGggPiAwKSBibG9ja3MucHVzaCh7XG5cdFx0XHR0eXBlOiBcInRleHRcIixcblx0XHRcdHRleHQ6IHRleHRDb250ZW50XG5cdFx0fSk7XG5cdH1cblx0Zm9yIChjb25zdCB0b29sQ2FsbCBvZiBtZXNzYWdlLnRvb2xfY2FsbHMgPz8gW10pIGJsb2Nrcy5wdXNoKHtcblx0XHR0eXBlOiBcInRvb2xfY2FsbFwiLFxuXHRcdGlkOiB0b29sQ2FsbC5pZCxcblx0XHRuYW1lOiB0b29sQ2FsbC5uYW1lLFxuXHRcdGFyZ3M6IHRvb2xDYWxsLmFyZ3Ncblx0fSk7XG5cdHJldHVybiBibG9ja3M7XG59XG5jb25zdCBDaGF0R3JvcVRyYW5zbGF0b3IgPSB7XG5cdHRyYW5zbGF0ZUNvbnRlbnQ6IGNvbnZlcnRUb1YxRnJvbUdyb3FNZXNzYWdlLFxuXHR0cmFuc2xhdGVDb250ZW50Q2h1bms6IGNvbnZlcnRUb1YxRnJvbUdyb3FNZXNzYWdlXG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IENoYXRHcm9xVHJhbnNsYXRvciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z3JvcS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/groq.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/index.js":
/*!**************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/index.js ***!
  \**************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getTranslator: () => (/* binding */ getTranslator)\n/* harmony export */ });\n/* harmony import */ var _anthropic_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./anthropic.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/anthropic.js\");\n/* harmony import */ var _openai_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./openai.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/openai.js\");\n/* harmony import */ var _bedrock_converse_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./bedrock_converse.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/bedrock_converse.js\");\n/* harmony import */ var _deepseek_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./deepseek.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/deepseek.js\");\n/* harmony import */ var _google_genai_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./google_genai.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/google_genai.js\");\n/* harmony import */ var _google_vertexai_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./google_vertexai.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/google_vertexai.js\");\n/* harmony import */ var _groq_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./groq.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/groq.js\");\n/* harmony import */ var _ollama_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ollama.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/ollama.js\");\n/* harmony import */ var _xai_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./xai.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/xai.js\");\n\n\n\n\n\n\n\n\n\n\n//#region src/messages/block_translators/index.ts\nglobalThis.lc_block_translators_registry ??= new Map([\n\t[\"anthropic\", _anthropic_js__WEBPACK_IMPORTED_MODULE_0__.ChatAnthropicTranslator],\n\t[\"bedrock-converse\", _bedrock_converse_js__WEBPACK_IMPORTED_MODULE_2__.ChatBedrockConverseTranslator],\n\t[\"deepseek\", _deepseek_js__WEBPACK_IMPORTED_MODULE_3__.ChatDeepSeekTranslator],\n\t[\"google-genai\", _google_genai_js__WEBPACK_IMPORTED_MODULE_4__.ChatGoogleGenAITranslator],\n\t[\"google-vertexai\", _google_vertexai_js__WEBPACK_IMPORTED_MODULE_5__.ChatVertexTranslator],\n\t[\"groq\", _groq_js__WEBPACK_IMPORTED_MODULE_6__.ChatGroqTranslator],\n\t[\"ollama\", _ollama_js__WEBPACK_IMPORTED_MODULE_7__.ChatOllamaTranslator],\n\t[\"openai\", _openai_js__WEBPACK_IMPORTED_MODULE_1__.ChatOpenAITranslator],\n\t[\"xai\", _xai_js__WEBPACK_IMPORTED_MODULE_8__.ChatXAITranslator]\n]);\nfunction getTranslator(modelProvider) {\n\treturn globalThis.lc_block_translators_registry.get(modelProvider);\n}\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL2Jsb2NrX3RyYW5zbGF0b3JzL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBeUQ7QUFDTjtBQUNtQjtBQUNmO0FBQ087QUFDRjtBQUNiO0FBQ0k7QUFDTjs7QUFFN0M7QUFDQTtBQUNBLGVBQWUsa0VBQXVCO0FBQ3RDLHNCQUFzQiwrRUFBNkI7QUFDbkQsY0FBYyxnRUFBc0I7QUFDcEMsa0JBQWtCLHVFQUF5QjtBQUMzQyxxQkFBcUIscUVBQW9CO0FBQ3pDLFVBQVUsd0RBQWtCO0FBQzVCLFlBQVksNERBQW9CO0FBQ2hDLFlBQVksNERBQW9CO0FBQ2hDLFNBQVMsc0RBQWlCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3lCO0FBQ3pCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL2Jsb2NrX3RyYW5zbGF0b3JzL2luZGV4LmpzP2VmMjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2hhdEFudGhyb3BpY1RyYW5zbGF0b3IgfSBmcm9tIFwiLi9hbnRocm9waWMuanNcIjtcbmltcG9ydCB7IENoYXRPcGVuQUlUcmFuc2xhdG9yIH0gZnJvbSBcIi4vb3BlbmFpLmpzXCI7XG5pbXBvcnQgeyBDaGF0QmVkcm9ja0NvbnZlcnNlVHJhbnNsYXRvciB9IGZyb20gXCIuL2JlZHJvY2tfY29udmVyc2UuanNcIjtcbmltcG9ydCB7IENoYXREZWVwU2Vla1RyYW5zbGF0b3IgfSBmcm9tIFwiLi9kZWVwc2Vlay5qc1wiO1xuaW1wb3J0IHsgQ2hhdEdvb2dsZUdlbkFJVHJhbnNsYXRvciB9IGZyb20gXCIuL2dvb2dsZV9nZW5haS5qc1wiO1xuaW1wb3J0IHsgQ2hhdFZlcnRleFRyYW5zbGF0b3IgfSBmcm9tIFwiLi9nb29nbGVfdmVydGV4YWkuanNcIjtcbmltcG9ydCB7IENoYXRHcm9xVHJhbnNsYXRvciB9IGZyb20gXCIuL2dyb3EuanNcIjtcbmltcG9ydCB7IENoYXRPbGxhbWFUcmFuc2xhdG9yIH0gZnJvbSBcIi4vb2xsYW1hLmpzXCI7XG5pbXBvcnQgeyBDaGF0WEFJVHJhbnNsYXRvciB9IGZyb20gXCIuL3hhaS5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL21lc3NhZ2VzL2Jsb2NrX3RyYW5zbGF0b3JzL2luZGV4LnRzXG5nbG9iYWxUaGlzLmxjX2Jsb2NrX3RyYW5zbGF0b3JzX3JlZ2lzdHJ5ID8/PSBuZXcgTWFwKFtcblx0W1wiYW50aHJvcGljXCIsIENoYXRBbnRocm9waWNUcmFuc2xhdG9yXSxcblx0W1wiYmVkcm9jay1jb252ZXJzZVwiLCBDaGF0QmVkcm9ja0NvbnZlcnNlVHJhbnNsYXRvcl0sXG5cdFtcImRlZXBzZWVrXCIsIENoYXREZWVwU2Vla1RyYW5zbGF0b3JdLFxuXHRbXCJnb29nbGUtZ2VuYWlcIiwgQ2hhdEdvb2dsZUdlbkFJVHJhbnNsYXRvcl0sXG5cdFtcImdvb2dsZS12ZXJ0ZXhhaVwiLCBDaGF0VmVydGV4VHJhbnNsYXRvcl0sXG5cdFtcImdyb3FcIiwgQ2hhdEdyb3FUcmFuc2xhdG9yXSxcblx0W1wib2xsYW1hXCIsIENoYXRPbGxhbWFUcmFuc2xhdG9yXSxcblx0W1wib3BlbmFpXCIsIENoYXRPcGVuQUlUcmFuc2xhdG9yXSxcblx0W1wieGFpXCIsIENoYXRYQUlUcmFuc2xhdG9yXVxuXSk7XG5mdW5jdGlvbiBnZXRUcmFuc2xhdG9yKG1vZGVsUHJvdmlkZXIpIHtcblx0cmV0dXJuIGdsb2JhbFRoaXMubGNfYmxvY2tfdHJhbnNsYXRvcnNfcmVnaXN0cnkuZ2V0KG1vZGVsUHJvdmlkZXIpO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IGdldFRyYW5zbGF0b3IgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/ollama.js":
/*!***************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/ollama.js ***!
  \***************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatOllamaTranslator: () => (/* binding */ ChatOllamaTranslator)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/utils.js\");\n\n\n//#region src/messages/block_translators/ollama.ts\n/**\n* Converts an Ollama AI message to an array of v1 standard content blocks.\n*\n* This function processes an AI message from Ollama's API format\n* and converts it to the standardized v1 content block format. It handles\n* the reasoning_content in additional_kwargs (populated when think mode is enabled).\n*\n* @param message - The AI message containing Ollama-formatted content\n* @returns Array of content blocks in v1 standard format\n*\n* @example\n* ```typescript\n* const message = new AIMessage({\n*   content: \"The answer is 42\",\n*   additional_kwargs: { reasoning_content: \"Let me think about this...\" }\n* });\n* const standardBlocks = convertToV1FromOllamaMessage(message);\n* // Returns:\n* // [\n* //   { type: \"reasoning\", reasoning: \"Let me think about this...\" },\n* //   { type: \"text\", text: \"The answer is 42\" }\n* // ]\n* ```\n*/\nfunction convertToV1FromOllamaMessage(message) {\n\tconst blocks = [];\n\tconst reasoningContent = message.additional_kwargs?.reasoning_content;\n\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(reasoningContent) && reasoningContent.length > 0) blocks.push({\n\t\ttype: \"reasoning\",\n\t\treasoning: reasoningContent\n\t});\n\tif (typeof message.content === \"string\") {\n\t\tif (message.content.length > 0) blocks.push({\n\t\t\ttype: \"text\",\n\t\t\ttext: message.content\n\t\t});\n\t} else for (const block of message.content) if (typeof block === \"object\" && \"type\" in block && block.type === \"text\" && \"text\" in block && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.text)) blocks.push({\n\t\ttype: \"text\",\n\t\ttext: block.text\n\t});\n\tfor (const toolCall of message.tool_calls ?? []) blocks.push({\n\t\ttype: \"tool_call\",\n\t\tid: toolCall.id,\n\t\tname: toolCall.name,\n\t\targs: toolCall.args\n\t});\n\treturn blocks;\n}\nconst ChatOllamaTranslator = {\n\ttranslateContent: convertToV1FromOllamaMessage,\n\ttranslateContentChunk: convertToV1FromOllamaMessage\n};\n\n//#endregion\n\n//# sourceMappingURL=ollama.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL2Jsb2NrX3RyYW5zbGF0b3JzL29sbGFtYS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUF1Qzs7QUFFdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxTQUFTLDREQUE0RDtBQUNyRSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxvREFBUztBQUNkO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsR0FBRywwSUFBMEksb0RBQVM7QUFDdEo7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNnQztBQUNoQyIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy9vbGxhbWEuanM/Yzg0YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfaXNTdHJpbmcgfSBmcm9tIFwiLi91dGlscy5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL21lc3NhZ2VzL2Jsb2NrX3RyYW5zbGF0b3JzL29sbGFtYS50c1xuLyoqXG4qIENvbnZlcnRzIGFuIE9sbGFtYSBBSSBtZXNzYWdlIHRvIGFuIGFycmF5IG9mIHYxIHN0YW5kYXJkIGNvbnRlbnQgYmxvY2tzLlxuKlxuKiBUaGlzIGZ1bmN0aW9uIHByb2Nlc3NlcyBhbiBBSSBtZXNzYWdlIGZyb20gT2xsYW1hJ3MgQVBJIGZvcm1hdFxuKiBhbmQgY29udmVydHMgaXQgdG8gdGhlIHN0YW5kYXJkaXplZCB2MSBjb250ZW50IGJsb2NrIGZvcm1hdC4gSXQgaGFuZGxlc1xuKiB0aGUgcmVhc29uaW5nX2NvbnRlbnQgaW4gYWRkaXRpb25hbF9rd2FyZ3MgKHBvcHVsYXRlZCB3aGVuIHRoaW5rIG1vZGUgaXMgZW5hYmxlZCkuXG4qXG4qIEBwYXJhbSBtZXNzYWdlIC0gVGhlIEFJIG1lc3NhZ2UgY29udGFpbmluZyBPbGxhbWEtZm9ybWF0dGVkIGNvbnRlbnRcbiogQHJldHVybnMgQXJyYXkgb2YgY29udGVudCBibG9ja3MgaW4gdjEgc3RhbmRhcmQgZm9ybWF0XG4qXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogY29uc3QgbWVzc2FnZSA9IG5ldyBBSU1lc3NhZ2Uoe1xuKiAgIGNvbnRlbnQ6IFwiVGhlIGFuc3dlciBpcyA0MlwiLFxuKiAgIGFkZGl0aW9uYWxfa3dhcmdzOiB7IHJlYXNvbmluZ19jb250ZW50OiBcIkxldCBtZSB0aGluayBhYm91dCB0aGlzLi4uXCIgfVxuKiB9KTtcbiogY29uc3Qgc3RhbmRhcmRCbG9ja3MgPSBjb252ZXJ0VG9WMUZyb21PbGxhbWFNZXNzYWdlKG1lc3NhZ2UpO1xuKiAvLyBSZXR1cm5zOlxuKiAvLyBbXG4qIC8vICAgeyB0eXBlOiBcInJlYXNvbmluZ1wiLCByZWFzb25pbmc6IFwiTGV0IG1lIHRoaW5rIGFib3V0IHRoaXMuLi5cIiB9LFxuKiAvLyAgIHsgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IFwiVGhlIGFuc3dlciBpcyA0MlwiIH1cbiogLy8gXVxuKiBgYGBcbiovXG5mdW5jdGlvbiBjb252ZXJ0VG9WMUZyb21PbGxhbWFNZXNzYWdlKG1lc3NhZ2UpIHtcblx0Y29uc3QgYmxvY2tzID0gW107XG5cdGNvbnN0IHJlYXNvbmluZ0NvbnRlbnQgPSBtZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzPy5yZWFzb25pbmdfY29udGVudDtcblx0aWYgKF9pc1N0cmluZyhyZWFzb25pbmdDb250ZW50KSAmJiByZWFzb25pbmdDb250ZW50Lmxlbmd0aCA+IDApIGJsb2Nrcy5wdXNoKHtcblx0XHR0eXBlOiBcInJlYXNvbmluZ1wiLFxuXHRcdHJlYXNvbmluZzogcmVhc29uaW5nQ29udGVudFxuXHR9KTtcblx0aWYgKHR5cGVvZiBtZXNzYWdlLmNvbnRlbnQgPT09IFwic3RyaW5nXCIpIHtcblx0XHRpZiAobWVzc2FnZS5jb250ZW50Lmxlbmd0aCA+IDApIGJsb2Nrcy5wdXNoKHtcblx0XHRcdHR5cGU6IFwidGV4dFwiLFxuXHRcdFx0dGV4dDogbWVzc2FnZS5jb250ZW50XG5cdFx0fSk7XG5cdH0gZWxzZSBmb3IgKGNvbnN0IGJsb2NrIG9mIG1lc3NhZ2UuY29udGVudCkgaWYgKHR5cGVvZiBibG9jayA9PT0gXCJvYmplY3RcIiAmJiBcInR5cGVcIiBpbiBibG9jayAmJiBibG9jay50eXBlID09PSBcInRleHRcIiAmJiBcInRleHRcIiBpbiBibG9jayAmJiBfaXNTdHJpbmcoYmxvY2sudGV4dCkpIGJsb2Nrcy5wdXNoKHtcblx0XHR0eXBlOiBcInRleHRcIixcblx0XHR0ZXh0OiBibG9jay50ZXh0XG5cdH0pO1xuXHRmb3IgKGNvbnN0IHRvb2xDYWxsIG9mIG1lc3NhZ2UudG9vbF9jYWxscyA/PyBbXSkgYmxvY2tzLnB1c2goe1xuXHRcdHR5cGU6IFwidG9vbF9jYWxsXCIsXG5cdFx0aWQ6IHRvb2xDYWxsLmlkLFxuXHRcdG5hbWU6IHRvb2xDYWxsLm5hbWUsXG5cdFx0YXJnczogdG9vbENhbGwuYXJnc1xuXHR9KTtcblx0cmV0dXJuIGJsb2Nrcztcbn1cbmNvbnN0IENoYXRPbGxhbWFUcmFuc2xhdG9yID0ge1xuXHR0cmFuc2xhdGVDb250ZW50OiBjb252ZXJ0VG9WMUZyb21PbGxhbWFNZXNzYWdlLFxuXHR0cmFuc2xhdGVDb250ZW50Q2h1bms6IGNvbnZlcnRUb1YxRnJvbU9sbGFtYU1lc3NhZ2Vcbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQ2hhdE9sbGFtYVRyYW5zbGF0b3IgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9sbGFtYS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/ollama.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/openai.js":
/*!***************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/openai.js ***!
  \***************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatOpenAITranslator: () => (/* binding */ ChatOpenAITranslator),\n/* harmony export */   convertToV1FromChatCompletionsInput: () => (/* binding */ convertToV1FromChatCompletionsInput)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/utils.js\");\n/* harmony import */ var _data_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./data.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/data.js\");\n\n\n\n//#region src/messages/block_translators/openai.ts\n/**\n* Converts a ChatOpenAICompletions message to an array of v1 standard content blocks.\n*\n* This function processes an AI message from ChatOpenAICompletions API format\n* and converts it to the standardized v1 content block format. It handles both\n* string content and structured content blocks, as well as tool calls.\n*\n* @param message - The AI message containing ChatOpenAICompletions formatted content\n* @returns Array of content blocks in v1 standard format\n*\n* @example\n* ```typescript\n* const message = new AIMessage(\"Hello world\");\n* const standardBlocks = convertToV1FromChatCompletions(message);\n* // Returns: [{ type: \"text\", text: \"Hello world\" }]\n* ```\n*\n* @example\n* ```typescript\n* const message = new AIMessage([\n*   { type: \"text\", text: \"Hello\" },\n*   { type: \"image_url\", image_url: { url: \"https://example.com/image.png\" } }\n* ]);\n* message.tool_calls = [\n*   { id: \"call_123\", name: \"calculator\", args: { a: 1, b: 2 } }\n* ];\n*\n* const standardBlocks = convertToV1FromChatCompletions(message);\n* // Returns:\n* // [\n* //   { type: \"text\", text: \"Hello\" },\n* //   { type: \"image\", url: \"https://example.com/image.png\" },\n* //   { type: \"tool_call\", id: \"call_123\", name: \"calculator\", args: { a: 1, b: 2 } }\n* // ]\n* ```\n*/\nfunction convertToV1FromChatCompletions(message) {\n\tconst blocks = [];\n\tif (typeof message.content === \"string\") blocks.push({\n\t\ttype: \"text\",\n\t\ttext: message.content\n\t});\n\telse blocks.push(...convertToV1FromChatCompletionsInput(message.content));\n\tfor (const toolCall of message.tool_calls ?? []) blocks.push({\n\t\ttype: \"tool_call\",\n\t\tid: toolCall.id,\n\t\tname: toolCall.name,\n\t\targs: toolCall.args\n\t});\n\treturn blocks;\n}\n/**\n* Converts a ChatOpenAICompletions message chunk to an array of v1 standard content blocks.\n*\n* This function processes an AI message chunk from OpenAI's chat completions API and converts\n* it to the standardized v1 content block format. It handles both string and array content,\n* as well as tool calls that may be present in the chunk.\n*\n* @param message - The AI message chunk containing OpenAI-formatted content blocks\n* @returns Array of content blocks in v1 standard format\n*\n* @example\n* ```typescript\n* const chunk = new AIMessage(\"Hello\");\n* const standardBlocks = convertToV1FromChatCompletionsChunk(chunk);\n* // Returns: [{ type: \"text\", text: \"Hello\" }]\n* ```\n*\n* @example\n* ```typescript\n* const chunk = new AIMessage([\n*   { type: \"text\", text: \"Processing...\" }\n* ]);\n* chunk.tool_calls = [\n*   { id: \"call_456\", name: \"search\", args: { query: \"test\" } }\n* ];\n*\n* const standardBlocks = convertToV1FromChatCompletionsChunk(chunk);\n* // Returns:\n* // [\n* //   { type: \"text\", text: \"Processing...\" },\n* //   { type: \"tool_call\", id: \"call_456\", name: \"search\", args: { query: \"test\" } }\n* // ]\n* ```\n*/\nfunction convertToV1FromChatCompletionsChunk(message) {\n\tconst blocks = [];\n\tif (typeof message.content === \"string\") blocks.push({\n\t\ttype: \"text\",\n\t\ttext: message.content\n\t});\n\telse blocks.push(...convertToV1FromChatCompletionsInput(message.content));\n\tfor (const toolCall of message.tool_calls ?? []) blocks.push({\n\t\ttype: \"tool_call\",\n\t\tid: toolCall.id,\n\t\tname: toolCall.name,\n\t\targs: toolCall.args\n\t});\n\treturn blocks;\n}\n/**\n* Converts an array of ChatOpenAICompletions content blocks to v1 standard content blocks.\n*\n* This function processes content blocks from OpenAI's Chat Completions API format\n* and converts them to the standardized v1 content block format. It handles both\n* OpenAI-specific data blocks (which require conversion) and standard blocks\n* (which are passed through with type assertion).\n*\n* @param blocks - Array of content blocks in ChatOpenAICompletions format\n* @returns Array of content blocks in v1 standard format\n*\n* @example\n* ```typescript\n* const openaiBlocks = [\n*   { type: \"text\", text: \"Hello world\" },\n*   { type: \"image_url\", image_url: { url: \"https://example.com/image.png\" } }\n* ];\n*\n* const standardBlocks = convertToV1FromChatCompletionsInput(openaiBlocks);\n* // Returns:\n* // [\n* //   { type: \"text\", text: \"Hello world\" },\n* //   { type: \"image\", url: \"https://example.com/image.png\" }\n* // ]\n* ```\n*/\nfunction convertToV1FromChatCompletionsInput(blocks) {\n\tconst convertedBlocks = [];\n\tfor (const block of blocks) if ((0,_data_js__WEBPACK_IMPORTED_MODULE_1__.isOpenAIDataBlock)(block)) convertedBlocks.push((0,_data_js__WEBPACK_IMPORTED_MODULE_1__.convertToV1FromOpenAIDataBlock)(block));\n\telse convertedBlocks.push(block);\n\treturn convertedBlocks;\n}\nfunction convertResponsesAnnotation(annotation) {\n\tif (annotation.type === \"url_citation\") {\n\t\tconst { url, title, start_index, end_index } = annotation;\n\t\treturn {\n\t\t\ttype: \"citation\",\n\t\t\turl,\n\t\t\ttitle,\n\t\t\tstartIndex: start_index,\n\t\t\tendIndex: end_index\n\t\t};\n\t}\n\tif (annotation.type === \"file_citation\") {\n\t\tconst { file_id, filename, index } = annotation;\n\t\treturn {\n\t\t\ttype: \"citation\",\n\t\t\ttitle: filename,\n\t\t\tstartIndex: index,\n\t\t\tendIndex: index,\n\t\t\tfileId: file_id\n\t\t};\n\t}\n\treturn annotation;\n}\n/**\n* Converts a ChatOpenAIResponses message to an array of v1 standard content blocks.\n*\n* This function processes an AI message containing OpenAI Responses-specific content blocks\n* and converts them to the standardized v1 content block format. It handles reasoning summaries,\n* text content with annotations, tool calls, and various tool outputs including code interpreter,\n* web search, file search, computer calls, and MCP-related blocks.\n*\n* @param message - The AI message containing OpenAI Responses-formatted content blocks\n* @returns Array of content blocks in v1 standard format\n*\n* @example\n* ```typescript\n* const message = new AIMessage({\n*   content: [{ type: \"text\", text: \"Hello world\", annotations: [] }],\n*   tool_calls: [{ id: \"123\", name: \"calculator\", args: { a: 1, b: 2 } }],\n*   additional_kwargs: {\n*     reasoning: { summary: [{ text: \"Let me calculate this...\" }] },\n*     tool_outputs: [\n*       {\n*         type: \"code_interpreter_call\",\n*         code: \"print('hello')\",\n*         outputs: [{ type: \"logs\", logs: \"hello\" }]\n*       }\n*     ]\n*   }\n* });\n*\n* const standardBlocks = convertToV1FromResponses(message);\n* // Returns:\n* // [\n* //   { type: \"reasoning\", reasoning: \"Let me calculate this...\" },\n* //   { type: \"text\", text: \"Hello world\", annotations: [] },\n* //   { type: \"tool_call\", id: \"123\", name: \"calculator\", args: { a: 1, b: 2 } },\n* //   { type: \"code_interpreter_call\", code: \"print('hello')\" },\n* //   { type: \"code_interpreter_result\", output: [{ type: \"code_interpreter_output\", returnCode: 0, stdout: \"hello\" }] }\n* // ]\n* ```\n*/\nfunction convertToV1FromResponses(message) {\n\tfunction* iterateContent() {\n\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(message.additional_kwargs?.reasoning) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isArray)(message.additional_kwargs.reasoning.summary)) {\n\t\t\tconst summary = message.additional_kwargs.reasoning.summary.reduce((acc, item) => {\n\t\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(item) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(item.text)) return `${acc}${item.text}`;\n\t\t\t\treturn acc;\n\t\t\t}, \"\");\n\t\t\tyield {\n\t\t\t\ttype: \"reasoning\",\n\t\t\t\treasoning: summary\n\t\t\t};\n\t\t}\n\t\tconst content = typeof message.content === \"string\" ? [{\n\t\t\ttype: \"text\",\n\t\t\ttext: message.content\n\t\t}] : message.content;\n\t\tfor (const block of content) if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(block, \"text\")) {\n\t\t\tconst { text, annotations,...rest } = block;\n\t\t\tif (Array.isArray(annotations)) yield {\n\t\t\t\t...rest,\n\t\t\t\ttype: \"text\",\n\t\t\t\ttext: String(text),\n\t\t\t\tannotations: annotations.map(convertResponsesAnnotation)\n\t\t\t};\n\t\t\telse yield {\n\t\t\t\t...rest,\n\t\t\t\ttype: \"text\",\n\t\t\t\ttext: String(text)\n\t\t\t};\n\t\t}\n\t\tfor (const toolCall of message.tool_calls ?? []) yield {\n\t\t\ttype: \"tool_call\",\n\t\t\tid: toolCall.id,\n\t\t\tname: toolCall.name,\n\t\t\targs: toolCall.args\n\t\t};\n\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(message.additional_kwargs) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isArray)(message.additional_kwargs.tool_outputs)) for (const toolOutput of message.additional_kwargs.tool_outputs) {\n\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(toolOutput, \"web_search_call\")) {\n\t\t\t\tyield {\n\t\t\t\t\tid: toolOutput.id,\n\t\t\t\t\ttype: \"server_tool_call\",\n\t\t\t\t\tname: \"web_search\",\n\t\t\t\t\targs: { query: toolOutput.query }\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(toolOutput, \"file_search_call\")) {\n\t\t\t\tyield {\n\t\t\t\t\tid: toolOutput.id,\n\t\t\t\t\ttype: \"server_tool_call\",\n\t\t\t\t\tname: \"file_search\",\n\t\t\t\t\targs: { query: toolOutput.query }\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(toolOutput, \"computer_call\")) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"non_standard\",\n\t\t\t\t\tvalue: toolOutput\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(toolOutput, \"code_interpreter_call\")) {\n\t\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(toolOutput.code)) yield {\n\t\t\t\t\tid: toolOutput.id,\n\t\t\t\t\ttype: \"server_tool_call\",\n\t\t\t\t\tname: \"code_interpreter\",\n\t\t\t\t\targs: { code: toolOutput.code }\n\t\t\t\t};\n\t\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isArray)(toolOutput.outputs)) {\n\t\t\t\t\tconst returnCode = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iife)(() => {\n\t\t\t\t\t\tif (toolOutput.status === \"in_progress\") return void 0;\n\t\t\t\t\t\tif (toolOutput.status === \"completed\") return 0;\n\t\t\t\t\t\tif (toolOutput.status === \"incomplete\") return 127;\n\t\t\t\t\t\tif (toolOutput.status === \"interpreting\") return void 0;\n\t\t\t\t\t\tif (toolOutput.status === \"failed\") return 1;\n\t\t\t\t\t\treturn void 0;\n\t\t\t\t\t});\n\t\t\t\t\tfor (const output of toolOutput.outputs) if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(output, \"logs\")) {\n\t\t\t\t\t\tyield {\n\t\t\t\t\t\t\ttype: \"server_tool_call_result\",\n\t\t\t\t\t\t\ttoolCallId: toolOutput.id ?? \"\",\n\t\t\t\t\t\t\tstatus: \"success\",\n\t\t\t\t\t\t\toutput: {\n\t\t\t\t\t\t\t\ttype: \"code_interpreter_output\",\n\t\t\t\t\t\t\t\treturnCode: returnCode ?? 0,\n\t\t\t\t\t\t\t\tstderr: [0, void 0].includes(returnCode) ? void 0 : String(output.logs),\n\t\t\t\t\t\t\t\tstdout: [0, void 0].includes(returnCode) ? String(output.logs) : void 0\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(toolOutput, \"mcp_call\")) {\n\t\t\t\tyield {\n\t\t\t\t\tid: toolOutput.id,\n\t\t\t\t\ttype: \"server_tool_call\",\n\t\t\t\t\tname: \"mcp_call\",\n\t\t\t\t\targs: toolOutput.input\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(toolOutput, \"mcp_list_tools\")) {\n\t\t\t\tyield {\n\t\t\t\t\tid: toolOutput.id,\n\t\t\t\t\ttype: \"server_tool_call\",\n\t\t\t\t\tname: \"mcp_list_tools\",\n\t\t\t\t\targs: toolOutput.input\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(toolOutput, \"mcp_approval_request\")) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"non_standard\",\n\t\t\t\t\tvalue: toolOutput\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isContentBlock)(toolOutput, \"image_generation_call\")) {\n\t\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(toolOutput.result)) yield {\n\t\t\t\t\ttype: \"image\",\n\t\t\t\t\tmimeType: \"image/png\",\n\t\t\t\t\tdata: toolOutput.result,\n\t\t\t\t\tid: (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(toolOutput.id) ? toolOutput.id : void 0,\n\t\t\t\t\tmetadata: { status: (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(toolOutput.status) ? toolOutput.status : void 0 }\n\t\t\t\t};\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"non_standard\",\n\t\t\t\t\tvalue: toolOutput\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(toolOutput)) yield {\n\t\t\t\ttype: \"non_standard\",\n\t\t\t\tvalue: toolOutput\n\t\t\t};\n\t\t}\n\t}\n\treturn Array.from(iterateContent());\n}\n/**\n* Converts a ChatOpenAIResponses message chunk to an array of v1 standard content blocks.\n*\n* This function processes an AI message chunk containing OpenAI-specific content blocks\n* and converts them to the standardized v1 content block format. It handles both the\n* regular message content and tool call chunks that are specific to streaming responses.\n*\n* @param message - The AI message chunk containing OpenAI-formatted content blocks\n* @returns Array of content blocks in v1 standard format\n*\n* @example\n* ```typescript\n* const messageChunk = new AIMessageChunk({\n*   content: [{ type: \"text\", text: \"Hello\" }],\n*   tool_call_chunks: [\n*     { id: \"call_123\", name: \"calculator\", args: '{\"a\": 1' }\n*   ]\n* });\n*\n* const standardBlocks = convertToV1FromResponsesChunk(messageChunk);\n* // Returns:\n* // [\n* //   { type: \"text\", text: \"Hello\" },\n* //   { type: \"tool_call_chunk\", id: \"call_123\", name: \"calculator\", args: '{\"a\": 1' }\n* // ]\n* ```\n*/\nfunction convertToV1FromResponsesChunk(message) {\n\tfunction* iterateContent() {\n\t\tyield* convertToV1FromResponses(message);\n\t\tfor (const toolCallChunk of message.tool_call_chunks ?? []) yield {\n\t\t\ttype: \"tool_call_chunk\",\n\t\t\tid: toolCallChunk.id,\n\t\t\tname: toolCallChunk.name,\n\t\t\targs: toolCallChunk.args\n\t\t};\n\t}\n\treturn Array.from(iterateContent());\n}\nconst ChatOpenAITranslator = {\n\ttranslateContent: (message) => {\n\t\tif (typeof message.content === \"string\") return convertToV1FromChatCompletions(message);\n\t\treturn convertToV1FromResponses(message);\n\t},\n\ttranslateContentChunk: (message) => {\n\t\tif (typeof message.content === \"string\") return convertToV1FromChatCompletionsChunk(message);\n\t\treturn convertToV1FromResponsesChunk(message);\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=openai.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL2Jsb2NrX3RyYW5zbGF0b3JzL29wZW5haS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQW1GO0FBQ0w7O0FBRTlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixtQ0FBbUM7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sNkJBQTZCO0FBQ25DLE1BQU0sZ0NBQWdDO0FBQ3RDO0FBQ0E7QUFDQSxNQUFNLDRDQUE0QztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyw2QkFBNkI7QUFDdEMsU0FBUyxxREFBcUQ7QUFDOUQsU0FBUywrREFBK0Q7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsNkJBQTZCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE1BQU0sd0NBQXdDO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHFDQUFxQztBQUM5QyxTQUFTLDJEQUEyRDtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sbUNBQW1DO0FBQ3pDLE1BQU0sZ0NBQWdDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLG1DQUFtQztBQUM1QyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQywyREFBaUIsOEJBQThCLHdFQUE4QjtBQUM5RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxxQ0FBcUM7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSwyQkFBMkI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLG9EQUFvRDtBQUNwRSxtQkFBbUIsdUNBQXVDLGNBQWM7QUFDeEU7QUFDQSxtQkFBbUIsWUFBWSxrQ0FBa0MsR0FBRztBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw2QkFBNkI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUywwREFBMEQ7QUFDbkUsU0FBUyxvREFBb0Q7QUFDN0QsU0FBUywwREFBMEQsY0FBYztBQUNqRixTQUFTLHVEQUF1RDtBQUNoRSxTQUFTLDRDQUE0QyxpRUFBaUU7QUFDdEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sb0RBQVMsMENBQTBDLG1EQUFRO0FBQ2pFO0FBQ0EsUUFBUSxvREFBUyxVQUFVLG9EQUFTLHVCQUF1QixJQUFJLEVBQUUsVUFBVTtBQUMzRTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILG1DQUFtQywwREFBZTtBQUNsRCxXQUFXLDRCQUE0QjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLG9EQUFTLCtCQUErQixtREFBUTtBQUN0RCxPQUFPLDBEQUFlO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxLQUFLLFNBQVMsMERBQWU7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLEtBQUssU0FBUywwREFBZTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxTQUFTLDBEQUFlO0FBQzdCLFFBQVEsb0RBQVM7QUFDakI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsUUFBUSxtREFBUTtBQUNoQix3QkFBd0IsK0NBQUk7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLGtEQUFrRCwwREFBZTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLFNBQVMsMERBQWU7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLFNBQVMsMERBQWU7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLFNBQVMsMERBQWU7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssU0FBUywwREFBZTtBQUM3QixRQUFRLG9EQUFTO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLFNBQVMsb0RBQVM7QUFDbEIsaUJBQWlCLFFBQVEsb0RBQVM7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLG9EQUFTO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsNkJBQTZCO0FBQzdDO0FBQ0EsUUFBUSw0Q0FBNEM7QUFDcEQ7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDZCQUE2QjtBQUN0QyxTQUFTLHFFQUFxRTtBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3FFO0FBQ3JFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL2Jsb2NrX3RyYW5zbGF0b3JzL29wZW5haS5qcz81YTZjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9pc0FycmF5LCBfaXNDb250ZW50QmxvY2ssIF9pc09iamVjdCwgX2lzU3RyaW5nLCBpaWZlIH0gZnJvbSBcIi4vdXRpbHMuanNcIjtcbmltcG9ydCB7IGNvbnZlcnRUb1YxRnJvbU9wZW5BSURhdGFCbG9jaywgaXNPcGVuQUlEYXRhQmxvY2sgfSBmcm9tIFwiLi9kYXRhLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvbWVzc2FnZXMvYmxvY2tfdHJhbnNsYXRvcnMvb3BlbmFpLnRzXG4vKipcbiogQ29udmVydHMgYSBDaGF0T3BlbkFJQ29tcGxldGlvbnMgbWVzc2FnZSB0byBhbiBhcnJheSBvZiB2MSBzdGFuZGFyZCBjb250ZW50IGJsb2Nrcy5cbipcbiogVGhpcyBmdW5jdGlvbiBwcm9jZXNzZXMgYW4gQUkgbWVzc2FnZSBmcm9tIENoYXRPcGVuQUlDb21wbGV0aW9ucyBBUEkgZm9ybWF0XG4qIGFuZCBjb252ZXJ0cyBpdCB0byB0aGUgc3RhbmRhcmRpemVkIHYxIGNvbnRlbnQgYmxvY2sgZm9ybWF0LiBJdCBoYW5kbGVzIGJvdGhcbiogc3RyaW5nIGNvbnRlbnQgYW5kIHN0cnVjdHVyZWQgY29udGVudCBibG9ja3MsIGFzIHdlbGwgYXMgdG9vbCBjYWxscy5cbipcbiogQHBhcmFtIG1lc3NhZ2UgLSBUaGUgQUkgbWVzc2FnZSBjb250YWluaW5nIENoYXRPcGVuQUlDb21wbGV0aW9ucyBmb3JtYXR0ZWQgY29udGVudFxuKiBAcmV0dXJucyBBcnJheSBvZiBjb250ZW50IGJsb2NrcyBpbiB2MSBzdGFuZGFyZCBmb3JtYXRcbipcbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBtZXNzYWdlID0gbmV3IEFJTWVzc2FnZShcIkhlbGxvIHdvcmxkXCIpO1xuKiBjb25zdCBzdGFuZGFyZEJsb2NrcyA9IGNvbnZlcnRUb1YxRnJvbUNoYXRDb21wbGV0aW9ucyhtZXNzYWdlKTtcbiogLy8gUmV0dXJuczogW3sgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IFwiSGVsbG8gd29ybGRcIiB9XVxuKiBgYGBcbipcbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBtZXNzYWdlID0gbmV3IEFJTWVzc2FnZShbXG4qICAgeyB0eXBlOiBcInRleHRcIiwgdGV4dDogXCJIZWxsb1wiIH0sXG4qICAgeyB0eXBlOiBcImltYWdlX3VybFwiLCBpbWFnZV91cmw6IHsgdXJsOiBcImh0dHBzOi8vZXhhbXBsZS5jb20vaW1hZ2UucG5nXCIgfSB9XG4qIF0pO1xuKiBtZXNzYWdlLnRvb2xfY2FsbHMgPSBbXG4qICAgeyBpZDogXCJjYWxsXzEyM1wiLCBuYW1lOiBcImNhbGN1bGF0b3JcIiwgYXJnczogeyBhOiAxLCBiOiAyIH0gfVxuKiBdO1xuKlxuKiBjb25zdCBzdGFuZGFyZEJsb2NrcyA9IGNvbnZlcnRUb1YxRnJvbUNoYXRDb21wbGV0aW9ucyhtZXNzYWdlKTtcbiogLy8gUmV0dXJuczpcbiogLy8gW1xuKiAvLyAgIHsgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IFwiSGVsbG9cIiB9LFxuKiAvLyAgIHsgdHlwZTogXCJpbWFnZVwiLCB1cmw6IFwiaHR0cHM6Ly9leGFtcGxlLmNvbS9pbWFnZS5wbmdcIiB9LFxuKiAvLyAgIHsgdHlwZTogXCJ0b29sX2NhbGxcIiwgaWQ6IFwiY2FsbF8xMjNcIiwgbmFtZTogXCJjYWxjdWxhdG9yXCIsIGFyZ3M6IHsgYTogMSwgYjogMiB9IH1cbiogLy8gXVxuKiBgYGBcbiovXG5mdW5jdGlvbiBjb252ZXJ0VG9WMUZyb21DaGF0Q29tcGxldGlvbnMobWVzc2FnZSkge1xuXHRjb25zdCBibG9ja3MgPSBbXTtcblx0aWYgKHR5cGVvZiBtZXNzYWdlLmNvbnRlbnQgPT09IFwic3RyaW5nXCIpIGJsb2Nrcy5wdXNoKHtcblx0XHR0eXBlOiBcInRleHRcIixcblx0XHR0ZXh0OiBtZXNzYWdlLmNvbnRlbnRcblx0fSk7XG5cdGVsc2UgYmxvY2tzLnB1c2goLi4uY29udmVydFRvVjFGcm9tQ2hhdENvbXBsZXRpb25zSW5wdXQobWVzc2FnZS5jb250ZW50KSk7XG5cdGZvciAoY29uc3QgdG9vbENhbGwgb2YgbWVzc2FnZS50b29sX2NhbGxzID8/IFtdKSBibG9ja3MucHVzaCh7XG5cdFx0dHlwZTogXCJ0b29sX2NhbGxcIixcblx0XHRpZDogdG9vbENhbGwuaWQsXG5cdFx0bmFtZTogdG9vbENhbGwubmFtZSxcblx0XHRhcmdzOiB0b29sQ2FsbC5hcmdzXG5cdH0pO1xuXHRyZXR1cm4gYmxvY2tzO1xufVxuLyoqXG4qIENvbnZlcnRzIGEgQ2hhdE9wZW5BSUNvbXBsZXRpb25zIG1lc3NhZ2UgY2h1bmsgdG8gYW4gYXJyYXkgb2YgdjEgc3RhbmRhcmQgY29udGVudCBibG9ja3MuXG4qXG4qIFRoaXMgZnVuY3Rpb24gcHJvY2Vzc2VzIGFuIEFJIG1lc3NhZ2UgY2h1bmsgZnJvbSBPcGVuQUkncyBjaGF0IGNvbXBsZXRpb25zIEFQSSBhbmQgY29udmVydHNcbiogaXQgdG8gdGhlIHN0YW5kYXJkaXplZCB2MSBjb250ZW50IGJsb2NrIGZvcm1hdC4gSXQgaGFuZGxlcyBib3RoIHN0cmluZyBhbmQgYXJyYXkgY29udGVudCxcbiogYXMgd2VsbCBhcyB0b29sIGNhbGxzIHRoYXQgbWF5IGJlIHByZXNlbnQgaW4gdGhlIGNodW5rLlxuKlxuKiBAcGFyYW0gbWVzc2FnZSAtIFRoZSBBSSBtZXNzYWdlIGNodW5rIGNvbnRhaW5pbmcgT3BlbkFJLWZvcm1hdHRlZCBjb250ZW50IGJsb2Nrc1xuKiBAcmV0dXJucyBBcnJheSBvZiBjb250ZW50IGJsb2NrcyBpbiB2MSBzdGFuZGFyZCBmb3JtYXRcbipcbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBjaHVuayA9IG5ldyBBSU1lc3NhZ2UoXCJIZWxsb1wiKTtcbiogY29uc3Qgc3RhbmRhcmRCbG9ja3MgPSBjb252ZXJ0VG9WMUZyb21DaGF0Q29tcGxldGlvbnNDaHVuayhjaHVuayk7XG4qIC8vIFJldHVybnM6IFt7IHR5cGU6IFwidGV4dFwiLCB0ZXh0OiBcIkhlbGxvXCIgfV1cbiogYGBgXG4qXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogY29uc3QgY2h1bmsgPSBuZXcgQUlNZXNzYWdlKFtcbiogICB7IHR5cGU6IFwidGV4dFwiLCB0ZXh0OiBcIlByb2Nlc3NpbmcuLi5cIiB9XG4qIF0pO1xuKiBjaHVuay50b29sX2NhbGxzID0gW1xuKiAgIHsgaWQ6IFwiY2FsbF80NTZcIiwgbmFtZTogXCJzZWFyY2hcIiwgYXJnczogeyBxdWVyeTogXCJ0ZXN0XCIgfSB9XG4qIF07XG4qXG4qIGNvbnN0IHN0YW5kYXJkQmxvY2tzID0gY29udmVydFRvVjFGcm9tQ2hhdENvbXBsZXRpb25zQ2h1bmsoY2h1bmspO1xuKiAvLyBSZXR1cm5zOlxuKiAvLyBbXG4qIC8vICAgeyB0eXBlOiBcInRleHRcIiwgdGV4dDogXCJQcm9jZXNzaW5nLi4uXCIgfSxcbiogLy8gICB7IHR5cGU6IFwidG9vbF9jYWxsXCIsIGlkOiBcImNhbGxfNDU2XCIsIG5hbWU6IFwic2VhcmNoXCIsIGFyZ3M6IHsgcXVlcnk6IFwidGVzdFwiIH0gfVxuKiAvLyBdXG4qIGBgYFxuKi9cbmZ1bmN0aW9uIGNvbnZlcnRUb1YxRnJvbUNoYXRDb21wbGV0aW9uc0NodW5rKG1lc3NhZ2UpIHtcblx0Y29uc3QgYmxvY2tzID0gW107XG5cdGlmICh0eXBlb2YgbWVzc2FnZS5jb250ZW50ID09PSBcInN0cmluZ1wiKSBibG9ja3MucHVzaCh7XG5cdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0dGV4dDogbWVzc2FnZS5jb250ZW50XG5cdH0pO1xuXHRlbHNlIGJsb2Nrcy5wdXNoKC4uLmNvbnZlcnRUb1YxRnJvbUNoYXRDb21wbGV0aW9uc0lucHV0KG1lc3NhZ2UuY29udGVudCkpO1xuXHRmb3IgKGNvbnN0IHRvb2xDYWxsIG9mIG1lc3NhZ2UudG9vbF9jYWxscyA/PyBbXSkgYmxvY2tzLnB1c2goe1xuXHRcdHR5cGU6IFwidG9vbF9jYWxsXCIsXG5cdFx0aWQ6IHRvb2xDYWxsLmlkLFxuXHRcdG5hbWU6IHRvb2xDYWxsLm5hbWUsXG5cdFx0YXJnczogdG9vbENhbGwuYXJnc1xuXHR9KTtcblx0cmV0dXJuIGJsb2Nrcztcbn1cbi8qKlxuKiBDb252ZXJ0cyBhbiBhcnJheSBvZiBDaGF0T3BlbkFJQ29tcGxldGlvbnMgY29udGVudCBibG9ja3MgdG8gdjEgc3RhbmRhcmQgY29udGVudCBibG9ja3MuXG4qXG4qIFRoaXMgZnVuY3Rpb24gcHJvY2Vzc2VzIGNvbnRlbnQgYmxvY2tzIGZyb20gT3BlbkFJJ3MgQ2hhdCBDb21wbGV0aW9ucyBBUEkgZm9ybWF0XG4qIGFuZCBjb252ZXJ0cyB0aGVtIHRvIHRoZSBzdGFuZGFyZGl6ZWQgdjEgY29udGVudCBibG9jayBmb3JtYXQuIEl0IGhhbmRsZXMgYm90aFxuKiBPcGVuQUktc3BlY2lmaWMgZGF0YSBibG9ja3MgKHdoaWNoIHJlcXVpcmUgY29udmVyc2lvbikgYW5kIHN0YW5kYXJkIGJsb2Nrc1xuKiAod2hpY2ggYXJlIHBhc3NlZCB0aHJvdWdoIHdpdGggdHlwZSBhc3NlcnRpb24pLlxuKlxuKiBAcGFyYW0gYmxvY2tzIC0gQXJyYXkgb2YgY29udGVudCBibG9ja3MgaW4gQ2hhdE9wZW5BSUNvbXBsZXRpb25zIGZvcm1hdFxuKiBAcmV0dXJucyBBcnJheSBvZiBjb250ZW50IGJsb2NrcyBpbiB2MSBzdGFuZGFyZCBmb3JtYXRcbipcbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBvcGVuYWlCbG9ja3MgPSBbXG4qICAgeyB0eXBlOiBcInRleHRcIiwgdGV4dDogXCJIZWxsbyB3b3JsZFwiIH0sXG4qICAgeyB0eXBlOiBcImltYWdlX3VybFwiLCBpbWFnZV91cmw6IHsgdXJsOiBcImh0dHBzOi8vZXhhbXBsZS5jb20vaW1hZ2UucG5nXCIgfSB9XG4qIF07XG4qXG4qIGNvbnN0IHN0YW5kYXJkQmxvY2tzID0gY29udmVydFRvVjFGcm9tQ2hhdENvbXBsZXRpb25zSW5wdXQob3BlbmFpQmxvY2tzKTtcbiogLy8gUmV0dXJuczpcbiogLy8gW1xuKiAvLyAgIHsgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IFwiSGVsbG8gd29ybGRcIiB9LFxuKiAvLyAgIHsgdHlwZTogXCJpbWFnZVwiLCB1cmw6IFwiaHR0cHM6Ly9leGFtcGxlLmNvbS9pbWFnZS5wbmdcIiB9XG4qIC8vIF1cbiogYGBgXG4qL1xuZnVuY3Rpb24gY29udmVydFRvVjFGcm9tQ2hhdENvbXBsZXRpb25zSW5wdXQoYmxvY2tzKSB7XG5cdGNvbnN0IGNvbnZlcnRlZEJsb2NrcyA9IFtdO1xuXHRmb3IgKGNvbnN0IGJsb2NrIG9mIGJsb2NrcykgaWYgKGlzT3BlbkFJRGF0YUJsb2NrKGJsb2NrKSkgY29udmVydGVkQmxvY2tzLnB1c2goY29udmVydFRvVjFGcm9tT3BlbkFJRGF0YUJsb2NrKGJsb2NrKSk7XG5cdGVsc2UgY29udmVydGVkQmxvY2tzLnB1c2goYmxvY2spO1xuXHRyZXR1cm4gY29udmVydGVkQmxvY2tzO1xufVxuZnVuY3Rpb24gY29udmVydFJlc3BvbnNlc0Fubm90YXRpb24oYW5ub3RhdGlvbikge1xuXHRpZiAoYW5ub3RhdGlvbi50eXBlID09PSBcInVybF9jaXRhdGlvblwiKSB7XG5cdFx0Y29uc3QgeyB1cmwsIHRpdGxlLCBzdGFydF9pbmRleCwgZW5kX2luZGV4IH0gPSBhbm5vdGF0aW9uO1xuXHRcdHJldHVybiB7XG5cdFx0XHR0eXBlOiBcImNpdGF0aW9uXCIsXG5cdFx0XHR1cmwsXG5cdFx0XHR0aXRsZSxcblx0XHRcdHN0YXJ0SW5kZXg6IHN0YXJ0X2luZGV4LFxuXHRcdFx0ZW5kSW5kZXg6IGVuZF9pbmRleFxuXHRcdH07XG5cdH1cblx0aWYgKGFubm90YXRpb24udHlwZSA9PT0gXCJmaWxlX2NpdGF0aW9uXCIpIHtcblx0XHRjb25zdCB7IGZpbGVfaWQsIGZpbGVuYW1lLCBpbmRleCB9ID0gYW5ub3RhdGlvbjtcblx0XHRyZXR1cm4ge1xuXHRcdFx0dHlwZTogXCJjaXRhdGlvblwiLFxuXHRcdFx0dGl0bGU6IGZpbGVuYW1lLFxuXHRcdFx0c3RhcnRJbmRleDogaW5kZXgsXG5cdFx0XHRlbmRJbmRleDogaW5kZXgsXG5cdFx0XHRmaWxlSWQ6IGZpbGVfaWRcblx0XHR9O1xuXHR9XG5cdHJldHVybiBhbm5vdGF0aW9uO1xufVxuLyoqXG4qIENvbnZlcnRzIGEgQ2hhdE9wZW5BSVJlc3BvbnNlcyBtZXNzYWdlIHRvIGFuIGFycmF5IG9mIHYxIHN0YW5kYXJkIGNvbnRlbnQgYmxvY2tzLlxuKlxuKiBUaGlzIGZ1bmN0aW9uIHByb2Nlc3NlcyBhbiBBSSBtZXNzYWdlIGNvbnRhaW5pbmcgT3BlbkFJIFJlc3BvbnNlcy1zcGVjaWZpYyBjb250ZW50IGJsb2Nrc1xuKiBhbmQgY29udmVydHMgdGhlbSB0byB0aGUgc3RhbmRhcmRpemVkIHYxIGNvbnRlbnQgYmxvY2sgZm9ybWF0LiBJdCBoYW5kbGVzIHJlYXNvbmluZyBzdW1tYXJpZXMsXG4qIHRleHQgY29udGVudCB3aXRoIGFubm90YXRpb25zLCB0b29sIGNhbGxzLCBhbmQgdmFyaW91cyB0b29sIG91dHB1dHMgaW5jbHVkaW5nIGNvZGUgaW50ZXJwcmV0ZXIsXG4qIHdlYiBzZWFyY2gsIGZpbGUgc2VhcmNoLCBjb21wdXRlciBjYWxscywgYW5kIE1DUC1yZWxhdGVkIGJsb2Nrcy5cbipcbiogQHBhcmFtIG1lc3NhZ2UgLSBUaGUgQUkgbWVzc2FnZSBjb250YWluaW5nIE9wZW5BSSBSZXNwb25zZXMtZm9ybWF0dGVkIGNvbnRlbnQgYmxvY2tzXG4qIEByZXR1cm5zIEFycmF5IG9mIGNvbnRlbnQgYmxvY2tzIGluIHYxIHN0YW5kYXJkIGZvcm1hdFxuKlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIGNvbnN0IG1lc3NhZ2UgPSBuZXcgQUlNZXNzYWdlKHtcbiogICBjb250ZW50OiBbeyB0eXBlOiBcInRleHRcIiwgdGV4dDogXCJIZWxsbyB3b3JsZFwiLCBhbm5vdGF0aW9uczogW10gfV0sXG4qICAgdG9vbF9jYWxsczogW3sgaWQ6IFwiMTIzXCIsIG5hbWU6IFwiY2FsY3VsYXRvclwiLCBhcmdzOiB7IGE6IDEsIGI6IDIgfSB9XSxcbiogICBhZGRpdGlvbmFsX2t3YXJnczoge1xuKiAgICAgcmVhc29uaW5nOiB7IHN1bW1hcnk6IFt7IHRleHQ6IFwiTGV0IG1lIGNhbGN1bGF0ZSB0aGlzLi4uXCIgfV0gfSxcbiogICAgIHRvb2xfb3V0cHV0czogW1xuKiAgICAgICB7XG4qICAgICAgICAgdHlwZTogXCJjb2RlX2ludGVycHJldGVyX2NhbGxcIixcbiogICAgICAgICBjb2RlOiBcInByaW50KCdoZWxsbycpXCIsXG4qICAgICAgICAgb3V0cHV0czogW3sgdHlwZTogXCJsb2dzXCIsIGxvZ3M6IFwiaGVsbG9cIiB9XVxuKiAgICAgICB9XG4qICAgICBdXG4qICAgfVxuKiB9KTtcbipcbiogY29uc3Qgc3RhbmRhcmRCbG9ja3MgPSBjb252ZXJ0VG9WMUZyb21SZXNwb25zZXMobWVzc2FnZSk7XG4qIC8vIFJldHVybnM6XG4qIC8vIFtcbiogLy8gICB7IHR5cGU6IFwicmVhc29uaW5nXCIsIHJlYXNvbmluZzogXCJMZXQgbWUgY2FsY3VsYXRlIHRoaXMuLi5cIiB9LFxuKiAvLyAgIHsgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IFwiSGVsbG8gd29ybGRcIiwgYW5ub3RhdGlvbnM6IFtdIH0sXG4qIC8vICAgeyB0eXBlOiBcInRvb2xfY2FsbFwiLCBpZDogXCIxMjNcIiwgbmFtZTogXCJjYWxjdWxhdG9yXCIsIGFyZ3M6IHsgYTogMSwgYjogMiB9IH0sXG4qIC8vICAgeyB0eXBlOiBcImNvZGVfaW50ZXJwcmV0ZXJfY2FsbFwiLCBjb2RlOiBcInByaW50KCdoZWxsbycpXCIgfSxcbiogLy8gICB7IHR5cGU6IFwiY29kZV9pbnRlcnByZXRlcl9yZXN1bHRcIiwgb3V0cHV0OiBbeyB0eXBlOiBcImNvZGVfaW50ZXJwcmV0ZXJfb3V0cHV0XCIsIHJldHVybkNvZGU6IDAsIHN0ZG91dDogXCJoZWxsb1wiIH1dIH1cbiogLy8gXVxuKiBgYGBcbiovXG5mdW5jdGlvbiBjb252ZXJ0VG9WMUZyb21SZXNwb25zZXMobWVzc2FnZSkge1xuXHRmdW5jdGlvbiogaXRlcmF0ZUNvbnRlbnQoKSB7XG5cdFx0aWYgKF9pc09iamVjdChtZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzPy5yZWFzb25pbmcpICYmIF9pc0FycmF5KG1lc3NhZ2UuYWRkaXRpb25hbF9rd2FyZ3MucmVhc29uaW5nLnN1bW1hcnkpKSB7XG5cdFx0XHRjb25zdCBzdW1tYXJ5ID0gbWVzc2FnZS5hZGRpdGlvbmFsX2t3YXJncy5yZWFzb25pbmcuc3VtbWFyeS5yZWR1Y2UoKGFjYywgaXRlbSkgPT4ge1xuXHRcdFx0XHRpZiAoX2lzT2JqZWN0KGl0ZW0pICYmIF9pc1N0cmluZyhpdGVtLnRleHQpKSByZXR1cm4gYCR7YWNjfSR7aXRlbS50ZXh0fWA7XG5cdFx0XHRcdHJldHVybiBhY2M7XG5cdFx0XHR9LCBcIlwiKTtcblx0XHRcdHlpZWxkIHtcblx0XHRcdFx0dHlwZTogXCJyZWFzb25pbmdcIixcblx0XHRcdFx0cmVhc29uaW5nOiBzdW1tYXJ5XG5cdFx0XHR9O1xuXHRcdH1cblx0XHRjb25zdCBjb250ZW50ID0gdHlwZW9mIG1lc3NhZ2UuY29udGVudCA9PT0gXCJzdHJpbmdcIiA/IFt7XG5cdFx0XHR0eXBlOiBcInRleHRcIixcblx0XHRcdHRleHQ6IG1lc3NhZ2UuY29udGVudFxuXHRcdH1dIDogbWVzc2FnZS5jb250ZW50O1xuXHRcdGZvciAoY29uc3QgYmxvY2sgb2YgY29udGVudCkgaWYgKF9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJ0ZXh0XCIpKSB7XG5cdFx0XHRjb25zdCB7IHRleHQsIGFubm90YXRpb25zLC4uLnJlc3QgfSA9IGJsb2NrO1xuXHRcdFx0aWYgKEFycmF5LmlzQXJyYXkoYW5ub3RhdGlvbnMpKSB5aWVsZCB7XG5cdFx0XHRcdC4uLnJlc3QsXG5cdFx0XHRcdHR5cGU6IFwidGV4dFwiLFxuXHRcdFx0XHR0ZXh0OiBTdHJpbmcodGV4dCksXG5cdFx0XHRcdGFubm90YXRpb25zOiBhbm5vdGF0aW9ucy5tYXAoY29udmVydFJlc3BvbnNlc0Fubm90YXRpb24pXG5cdFx0XHR9O1xuXHRcdFx0ZWxzZSB5aWVsZCB7XG5cdFx0XHRcdC4uLnJlc3QsXG5cdFx0XHRcdHR5cGU6IFwidGV4dFwiLFxuXHRcdFx0XHR0ZXh0OiBTdHJpbmcodGV4dClcblx0XHRcdH07XG5cdFx0fVxuXHRcdGZvciAoY29uc3QgdG9vbENhbGwgb2YgbWVzc2FnZS50b29sX2NhbGxzID8/IFtdKSB5aWVsZCB7XG5cdFx0XHR0eXBlOiBcInRvb2xfY2FsbFwiLFxuXHRcdFx0aWQ6IHRvb2xDYWxsLmlkLFxuXHRcdFx0bmFtZTogdG9vbENhbGwubmFtZSxcblx0XHRcdGFyZ3M6IHRvb2xDYWxsLmFyZ3Ncblx0XHR9O1xuXHRcdGlmIChfaXNPYmplY3QobWVzc2FnZS5hZGRpdGlvbmFsX2t3YXJncykgJiYgX2lzQXJyYXkobWVzc2FnZS5hZGRpdGlvbmFsX2t3YXJncy50b29sX291dHB1dHMpKSBmb3IgKGNvbnN0IHRvb2xPdXRwdXQgb2YgbWVzc2FnZS5hZGRpdGlvbmFsX2t3YXJncy50b29sX291dHB1dHMpIHtcblx0XHRcdGlmIChfaXNDb250ZW50QmxvY2sodG9vbE91dHB1dCwgXCJ3ZWJfc2VhcmNoX2NhbGxcIikpIHtcblx0XHRcdFx0eWllbGQge1xuXHRcdFx0XHRcdGlkOiB0b29sT3V0cHV0LmlkLFxuXHRcdFx0XHRcdHR5cGU6IFwic2VydmVyX3Rvb2xfY2FsbFwiLFxuXHRcdFx0XHRcdG5hbWU6IFwid2ViX3NlYXJjaFwiLFxuXHRcdFx0XHRcdGFyZ3M6IHsgcXVlcnk6IHRvb2xPdXRwdXQucXVlcnkgfVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAoX2lzQ29udGVudEJsb2NrKHRvb2xPdXRwdXQsIFwiZmlsZV9zZWFyY2hfY2FsbFwiKSkge1xuXHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0aWQ6IHRvb2xPdXRwdXQuaWQsXG5cdFx0XHRcdFx0dHlwZTogXCJzZXJ2ZXJfdG9vbF9jYWxsXCIsXG5cdFx0XHRcdFx0bmFtZTogXCJmaWxlX3NlYXJjaFwiLFxuXHRcdFx0XHRcdGFyZ3M6IHsgcXVlcnk6IHRvb2xPdXRwdXQucXVlcnkgfVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAoX2lzQ29udGVudEJsb2NrKHRvb2xPdXRwdXQsIFwiY29tcHV0ZXJfY2FsbFwiKSkge1xuXHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0dHlwZTogXCJub25fc3RhbmRhcmRcIixcblx0XHRcdFx0XHR2YWx1ZTogdG9vbE91dHB1dFxuXHRcdFx0XHR9O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAoX2lzQ29udGVudEJsb2NrKHRvb2xPdXRwdXQsIFwiY29kZV9pbnRlcnByZXRlcl9jYWxsXCIpKSB7XG5cdFx0XHRcdGlmIChfaXNTdHJpbmcodG9vbE91dHB1dC5jb2RlKSkgeWllbGQge1xuXHRcdFx0XHRcdGlkOiB0b29sT3V0cHV0LmlkLFxuXHRcdFx0XHRcdHR5cGU6IFwic2VydmVyX3Rvb2xfY2FsbFwiLFxuXHRcdFx0XHRcdG5hbWU6IFwiY29kZV9pbnRlcnByZXRlclwiLFxuXHRcdFx0XHRcdGFyZ3M6IHsgY29kZTogdG9vbE91dHB1dC5jb2RlIH1cblx0XHRcdFx0fTtcblx0XHRcdFx0aWYgKF9pc0FycmF5KHRvb2xPdXRwdXQub3V0cHV0cykpIHtcblx0XHRcdFx0XHRjb25zdCByZXR1cm5Db2RlID0gaWlmZSgoKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAodG9vbE91dHB1dC5zdGF0dXMgPT09IFwiaW5fcHJvZ3Jlc3NcIikgcmV0dXJuIHZvaWQgMDtcblx0XHRcdFx0XHRcdGlmICh0b29sT3V0cHV0LnN0YXR1cyA9PT0gXCJjb21wbGV0ZWRcIikgcmV0dXJuIDA7XG5cdFx0XHRcdFx0XHRpZiAodG9vbE91dHB1dC5zdGF0dXMgPT09IFwiaW5jb21wbGV0ZVwiKSByZXR1cm4gMTI3O1xuXHRcdFx0XHRcdFx0aWYgKHRvb2xPdXRwdXQuc3RhdHVzID09PSBcImludGVycHJldGluZ1wiKSByZXR1cm4gdm9pZCAwO1xuXHRcdFx0XHRcdFx0aWYgKHRvb2xPdXRwdXQuc3RhdHVzID09PSBcImZhaWxlZFwiKSByZXR1cm4gMTtcblx0XHRcdFx0XHRcdHJldHVybiB2b2lkIDA7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0Zm9yIChjb25zdCBvdXRwdXQgb2YgdG9vbE91dHB1dC5vdXRwdXRzKSBpZiAoX2lzQ29udGVudEJsb2NrKG91dHB1dCwgXCJsb2dzXCIpKSB7XG5cdFx0XHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0XHRcdHR5cGU6IFwic2VydmVyX3Rvb2xfY2FsbF9yZXN1bHRcIixcblx0XHRcdFx0XHRcdFx0dG9vbENhbGxJZDogdG9vbE91dHB1dC5pZCA/PyBcIlwiLFxuXHRcdFx0XHRcdFx0XHRzdGF0dXM6IFwic3VjY2Vzc1wiLFxuXHRcdFx0XHRcdFx0XHRvdXRwdXQ6IHtcblx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcImNvZGVfaW50ZXJwcmV0ZXJfb3V0cHV0XCIsXG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuQ29kZTogcmV0dXJuQ29kZSA/PyAwLFxuXHRcdFx0XHRcdFx0XHRcdHN0ZGVycjogWzAsIHZvaWQgMF0uaW5jbHVkZXMocmV0dXJuQ29kZSkgPyB2b2lkIDAgOiBTdHJpbmcob3V0cHV0LmxvZ3MpLFxuXHRcdFx0XHRcdFx0XHRcdHN0ZG91dDogWzAsIHZvaWQgMF0uaW5jbHVkZXMocmV0dXJuQ29kZSkgPyBTdHJpbmcob3V0cHV0LmxvZ3MpIDogdm9pZCAwXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9IGVsc2UgaWYgKF9pc0NvbnRlbnRCbG9jayh0b29sT3V0cHV0LCBcIm1jcF9jYWxsXCIpKSB7XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHRpZDogdG9vbE91dHB1dC5pZCxcblx0XHRcdFx0XHR0eXBlOiBcInNlcnZlcl90b29sX2NhbGxcIixcblx0XHRcdFx0XHRuYW1lOiBcIm1jcF9jYWxsXCIsXG5cdFx0XHRcdFx0YXJnczogdG9vbE91dHB1dC5pbnB1dFxuXHRcdFx0XHR9O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAoX2lzQ29udGVudEJsb2NrKHRvb2xPdXRwdXQsIFwibWNwX2xpc3RfdG9vbHNcIikpIHtcblx0XHRcdFx0eWllbGQge1xuXHRcdFx0XHRcdGlkOiB0b29sT3V0cHV0LmlkLFxuXHRcdFx0XHRcdHR5cGU6IFwic2VydmVyX3Rvb2xfY2FsbFwiLFxuXHRcdFx0XHRcdG5hbWU6IFwibWNwX2xpc3RfdG9vbHNcIixcblx0XHRcdFx0XHRhcmdzOiB0b29sT3V0cHV0LmlucHV0XG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChfaXNDb250ZW50QmxvY2sodG9vbE91dHB1dCwgXCJtY3BfYXBwcm92YWxfcmVxdWVzdFwiKSkge1xuXHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0dHlwZTogXCJub25fc3RhbmRhcmRcIixcblx0XHRcdFx0XHR2YWx1ZTogdG9vbE91dHB1dFxuXHRcdFx0XHR9O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAoX2lzQ29udGVudEJsb2NrKHRvb2xPdXRwdXQsIFwiaW1hZ2VfZ2VuZXJhdGlvbl9jYWxsXCIpKSB7XG5cdFx0XHRcdGlmIChfaXNTdHJpbmcodG9vbE91dHB1dC5yZXN1bHQpKSB5aWVsZCB7XG5cdFx0XHRcdFx0dHlwZTogXCJpbWFnZVwiLFxuXHRcdFx0XHRcdG1pbWVUeXBlOiBcImltYWdlL3BuZ1wiLFxuXHRcdFx0XHRcdGRhdGE6IHRvb2xPdXRwdXQucmVzdWx0LFxuXHRcdFx0XHRcdGlkOiBfaXNTdHJpbmcodG9vbE91dHB1dC5pZCkgPyB0b29sT3V0cHV0LmlkIDogdm9pZCAwLFxuXHRcdFx0XHRcdG1ldGFkYXRhOiB7IHN0YXR1czogX2lzU3RyaW5nKHRvb2xPdXRwdXQuc3RhdHVzKSA/IHRvb2xPdXRwdXQuc3RhdHVzIDogdm9pZCAwIH1cblx0XHRcdFx0fTtcblx0XHRcdFx0eWllbGQge1xuXHRcdFx0XHRcdHR5cGU6IFwibm9uX3N0YW5kYXJkXCIsXG5cdFx0XHRcdFx0dmFsdWU6IHRvb2xPdXRwdXRcblx0XHRcdFx0fTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRpZiAoX2lzT2JqZWN0KHRvb2xPdXRwdXQpKSB5aWVsZCB7XG5cdFx0XHRcdHR5cGU6IFwibm9uX3N0YW5kYXJkXCIsXG5cdFx0XHRcdHZhbHVlOiB0b29sT3V0cHV0XG5cdFx0XHR9O1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gQXJyYXkuZnJvbShpdGVyYXRlQ29udGVudCgpKTtcbn1cbi8qKlxuKiBDb252ZXJ0cyBhIENoYXRPcGVuQUlSZXNwb25zZXMgbWVzc2FnZSBjaHVuayB0byBhbiBhcnJheSBvZiB2MSBzdGFuZGFyZCBjb250ZW50IGJsb2Nrcy5cbipcbiogVGhpcyBmdW5jdGlvbiBwcm9jZXNzZXMgYW4gQUkgbWVzc2FnZSBjaHVuayBjb250YWluaW5nIE9wZW5BSS1zcGVjaWZpYyBjb250ZW50IGJsb2Nrc1xuKiBhbmQgY29udmVydHMgdGhlbSB0byB0aGUgc3RhbmRhcmRpemVkIHYxIGNvbnRlbnQgYmxvY2sgZm9ybWF0LiBJdCBoYW5kbGVzIGJvdGggdGhlXG4qIHJlZ3VsYXIgbWVzc2FnZSBjb250ZW50IGFuZCB0b29sIGNhbGwgY2h1bmtzIHRoYXQgYXJlIHNwZWNpZmljIHRvIHN0cmVhbWluZyByZXNwb25zZXMuXG4qXG4qIEBwYXJhbSBtZXNzYWdlIC0gVGhlIEFJIG1lc3NhZ2UgY2h1bmsgY29udGFpbmluZyBPcGVuQUktZm9ybWF0dGVkIGNvbnRlbnQgYmxvY2tzXG4qIEByZXR1cm5zIEFycmF5IG9mIGNvbnRlbnQgYmxvY2tzIGluIHYxIHN0YW5kYXJkIGZvcm1hdFxuKlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIGNvbnN0IG1lc3NhZ2VDaHVuayA9IG5ldyBBSU1lc3NhZ2VDaHVuayh7XG4qICAgY29udGVudDogW3sgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IFwiSGVsbG9cIiB9XSxcbiogICB0b29sX2NhbGxfY2h1bmtzOiBbXG4qICAgICB7IGlkOiBcImNhbGxfMTIzXCIsIG5hbWU6IFwiY2FsY3VsYXRvclwiLCBhcmdzOiAne1wiYVwiOiAxJyB9XG4qICAgXVxuKiB9KTtcbipcbiogY29uc3Qgc3RhbmRhcmRCbG9ja3MgPSBjb252ZXJ0VG9WMUZyb21SZXNwb25zZXNDaHVuayhtZXNzYWdlQ2h1bmspO1xuKiAvLyBSZXR1cm5zOlxuKiAvLyBbXG4qIC8vICAgeyB0eXBlOiBcInRleHRcIiwgdGV4dDogXCJIZWxsb1wiIH0sXG4qIC8vICAgeyB0eXBlOiBcInRvb2xfY2FsbF9jaHVua1wiLCBpZDogXCJjYWxsXzEyM1wiLCBuYW1lOiBcImNhbGN1bGF0b3JcIiwgYXJnczogJ3tcImFcIjogMScgfVxuKiAvLyBdXG4qIGBgYFxuKi9cbmZ1bmN0aW9uIGNvbnZlcnRUb1YxRnJvbVJlc3BvbnNlc0NodW5rKG1lc3NhZ2UpIHtcblx0ZnVuY3Rpb24qIGl0ZXJhdGVDb250ZW50KCkge1xuXHRcdHlpZWxkKiBjb252ZXJ0VG9WMUZyb21SZXNwb25zZXMobWVzc2FnZSk7XG5cdFx0Zm9yIChjb25zdCB0b29sQ2FsbENodW5rIG9mIG1lc3NhZ2UudG9vbF9jYWxsX2NodW5rcyA/PyBbXSkgeWllbGQge1xuXHRcdFx0dHlwZTogXCJ0b29sX2NhbGxfY2h1bmtcIixcblx0XHRcdGlkOiB0b29sQ2FsbENodW5rLmlkLFxuXHRcdFx0bmFtZTogdG9vbENhbGxDaHVuay5uYW1lLFxuXHRcdFx0YXJnczogdG9vbENhbGxDaHVuay5hcmdzXG5cdFx0fTtcblx0fVxuXHRyZXR1cm4gQXJyYXkuZnJvbShpdGVyYXRlQ29udGVudCgpKTtcbn1cbmNvbnN0IENoYXRPcGVuQUlUcmFuc2xhdG9yID0ge1xuXHR0cmFuc2xhdGVDb250ZW50OiAobWVzc2FnZSkgPT4ge1xuXHRcdGlmICh0eXBlb2YgbWVzc2FnZS5jb250ZW50ID09PSBcInN0cmluZ1wiKSByZXR1cm4gY29udmVydFRvVjFGcm9tQ2hhdENvbXBsZXRpb25zKG1lc3NhZ2UpO1xuXHRcdHJldHVybiBjb252ZXJ0VG9WMUZyb21SZXNwb25zZXMobWVzc2FnZSk7XG5cdH0sXG5cdHRyYW5zbGF0ZUNvbnRlbnRDaHVuazogKG1lc3NhZ2UpID0+IHtcblx0XHRpZiAodHlwZW9mIG1lc3NhZ2UuY29udGVudCA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIGNvbnZlcnRUb1YxRnJvbUNoYXRDb21wbGV0aW9uc0NodW5rKG1lc3NhZ2UpO1xuXHRcdHJldHVybiBjb252ZXJ0VG9WMUZyb21SZXNwb25zZXNDaHVuayhtZXNzYWdlKTtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBDaGF0T3BlbkFJVHJhbnNsYXRvciwgY29udmVydFRvVjFGcm9tQ2hhdENvbXBsZXRpb25zSW5wdXQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9wZW5haS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/openai.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/utils.js":
/*!**************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/utils.js ***!
  \**************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _isArray: () => (/* binding */ _isArray),\n/* harmony export */   _isBytesArray: () => (/* binding */ _isBytesArray),\n/* harmony export */   _isContentBlock: () => (/* binding */ _isContentBlock),\n/* harmony export */   _isNumber: () => (/* binding */ _isNumber),\n/* harmony export */   _isObject: () => (/* binding */ _isObject),\n/* harmony export */   _isString: () => (/* binding */ _isString),\n/* harmony export */   iife: () => (/* binding */ iife),\n/* harmony export */   safeParseJson: () => (/* binding */ safeParseJson)\n/* harmony export */ });\n//#region src/messages/block_translators/utils.ts\nfunction _isContentBlock(block, type) {\n\treturn _isObject(block) && block.type === type;\n}\nfunction _isObject(value) {\n\treturn typeof value === \"object\" && value !== null;\n}\nfunction _isArray(value) {\n\treturn Array.isArray(value);\n}\nfunction _isString(value) {\n\treturn typeof value === \"string\";\n}\nfunction _isNumber(value) {\n\treturn typeof value === \"number\";\n}\nfunction _isBytesArray(value) {\n\treturn value instanceof Uint8Array;\n}\nfunction safeParseJson(value) {\n\ttry {\n\t\treturn JSON.parse(value);\n\t} catch {\n\t\treturn void 0;\n\t}\n}\nconst iife = (fn) => fn();\n\n//#endregion\n\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL2Jsb2NrX3RyYW5zbGF0b3JzL3V0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDMEc7QUFDMUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvbWVzc2FnZXMvYmxvY2tfdHJhbnNsYXRvcnMvdXRpbHMuanM/OWU1MCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyNyZWdpb24gc3JjL21lc3NhZ2VzL2Jsb2NrX3RyYW5zbGF0b3JzL3V0aWxzLnRzXG5mdW5jdGlvbiBfaXNDb250ZW50QmxvY2soYmxvY2ssIHR5cGUpIHtcblx0cmV0dXJuIF9pc09iamVjdChibG9jaykgJiYgYmxvY2sudHlwZSA9PT0gdHlwZTtcbn1cbmZ1bmN0aW9uIF9pc09iamVjdCh2YWx1ZSkge1xuXHRyZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlICE9PSBudWxsO1xufVxuZnVuY3Rpb24gX2lzQXJyYXkodmFsdWUpIHtcblx0cmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpO1xufVxuZnVuY3Rpb24gX2lzU3RyaW5nKHZhbHVlKSB7XG5cdHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCI7XG59XG5mdW5jdGlvbiBfaXNOdW1iZXIodmFsdWUpIHtcblx0cmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIjtcbn1cbmZ1bmN0aW9uIF9pc0J5dGVzQXJyYXkodmFsdWUpIHtcblx0cmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgVWludDhBcnJheTtcbn1cbmZ1bmN0aW9uIHNhZmVQYXJzZUpzb24odmFsdWUpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gSlNPTi5wYXJzZSh2YWx1ZSk7XG5cdH0gY2F0Y2gge1xuXHRcdHJldHVybiB2b2lkIDA7XG5cdH1cbn1cbmNvbnN0IGlpZmUgPSAoZm4pID0+IGZuKCk7XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgX2lzQXJyYXksIF9pc0J5dGVzQXJyYXksIF9pc0NvbnRlbnRCbG9jaywgX2lzTnVtYmVyLCBfaXNPYmplY3QsIF9pc1N0cmluZywgaWlmZSwgc2FmZVBhcnNlSnNvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/xai.js":
/*!************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/xai.js ***!
  \************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatXAITranslator: () => (/* binding */ ChatXAITranslator)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/utils.js\");\n\n\n//#region src/messages/block_translators/xai.ts\n/**\n* Converts an xAI AI message to an array of v1 standard content blocks.\n*\n* This function processes an AI message from xAI's API format\n* and converts it to the standardized v1 content block format. It handles\n* both the responses API (reasoning object with summary) and completions API\n* (reasoning_content string) formats.\n*\n* @param message - The AI message containing xAI-formatted content\n* @returns Array of content blocks in v1 standard format\n*\n* @example\n* ```typescript\n* // Responses API format\n* const message = new AIMessage({\n*   content: \"The answer is 42\",\n*   additional_kwargs: {\n*     reasoning: {\n*       id: \"reasoning_123\",\n*       type: \"reasoning\",\n*       summary: [{ type: \"summary_text\", text: \"Let me think...\" }]\n*     }\n*   }\n* });\n* const standardBlocks = convertToV1FromXAIMessage(message);\n* // Returns:\n* // [\n* //   { type: \"reasoning\", reasoning: \"Let me think...\" },\n* //   { type: \"text\", text: \"The answer is 42\" }\n* // ]\n* ```\n*\n* @example\n* ```typescript\n* // Completions API format\n* const message = new AIMessage({\n*   content: \"The answer is 42\",\n*   additional_kwargs: { reasoning_content: \"Let me think about this...\" }\n* });\n* const standardBlocks = convertToV1FromXAIMessage(message);\n* // Returns:\n* // [\n* //   { type: \"reasoning\", reasoning: \"Let me think about this...\" },\n* //   { type: \"text\", text: \"The answer is 42\" }\n* // ]\n* ```\n*/\nfunction convertToV1FromXAIMessage(message) {\n\tconst blocks = [];\n\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(message.additional_kwargs?.reasoning)) {\n\t\tconst reasoning = message.additional_kwargs.reasoning;\n\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isArray)(reasoning.summary)) {\n\t\t\tconst summaryText = reasoning.summary.reduce((acc, item) => {\n\t\t\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isObject)(item) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(item.text)) return `${acc}${item.text}`;\n\t\t\t\treturn acc;\n\t\t\t}, \"\");\n\t\t\tif (summaryText.length > 0) blocks.push({\n\t\t\t\ttype: \"reasoning\",\n\t\t\t\treasoning: summaryText\n\t\t\t});\n\t\t}\n\t}\n\tconst reasoningContent = message.additional_kwargs?.reasoning_content;\n\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(reasoningContent) && reasoningContent.length > 0) blocks.push({\n\t\ttype: \"reasoning\",\n\t\treasoning: reasoningContent\n\t});\n\tif (typeof message.content === \"string\") {\n\t\tif (message.content.length > 0) blocks.push({\n\t\t\ttype: \"text\",\n\t\t\ttext: message.content\n\t\t});\n\t} else for (const block of message.content) if (typeof block === \"object\" && \"type\" in block && block.type === \"text\" && \"text\" in block && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isString)(block.text)) blocks.push({\n\t\ttype: \"text\",\n\t\ttext: block.text\n\t});\n\tfor (const toolCall of message.tool_calls ?? []) blocks.push({\n\t\ttype: \"tool_call\",\n\t\tid: toolCall.id,\n\t\tname: toolCall.name,\n\t\targs: toolCall.args\n\t});\n\treturn blocks;\n}\nconst ChatXAITranslator = {\n\ttranslateContent: convertToV1FromXAIMessage,\n\ttranslateContentChunk: convertToV1FromXAIMessage\n};\n\n//#endregion\n\n//# sourceMappingURL=xai.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL2Jsb2NrX3RyYW5zbGF0b3JzL3hhaS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUE0RDs7QUFFNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLCtDQUErQztBQUNuRTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFNBQVMsaURBQWlEO0FBQzFELFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxTQUFTLDREQUE0RDtBQUNyRSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssb0RBQVM7QUFDZDtBQUNBLE1BQU0sbURBQVE7QUFDZDtBQUNBLFFBQVEsb0RBQVMsVUFBVSxvREFBUyx1QkFBdUIsSUFBSSxFQUFFLFVBQVU7QUFDM0U7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLEtBQUssb0RBQVM7QUFDZDtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEdBQUcsMElBQTBJLG9EQUFTO0FBQ3RKO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDNkI7QUFDN0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvbWVzc2FnZXMvYmxvY2tfdHJhbnNsYXRvcnMveGFpLmpzPzI5NDMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX2lzQXJyYXksIF9pc09iamVjdCwgX2lzU3RyaW5nIH0gZnJvbSBcIi4vdXRpbHMuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy94YWkudHNcbi8qKlxuKiBDb252ZXJ0cyBhbiB4QUkgQUkgbWVzc2FnZSB0byBhbiBhcnJheSBvZiB2MSBzdGFuZGFyZCBjb250ZW50IGJsb2Nrcy5cbipcbiogVGhpcyBmdW5jdGlvbiBwcm9jZXNzZXMgYW4gQUkgbWVzc2FnZSBmcm9tIHhBSSdzIEFQSSBmb3JtYXRcbiogYW5kIGNvbnZlcnRzIGl0IHRvIHRoZSBzdGFuZGFyZGl6ZWQgdjEgY29udGVudCBibG9jayBmb3JtYXQuIEl0IGhhbmRsZXNcbiogYm90aCB0aGUgcmVzcG9uc2VzIEFQSSAocmVhc29uaW5nIG9iamVjdCB3aXRoIHN1bW1hcnkpIGFuZCBjb21wbGV0aW9ucyBBUElcbiogKHJlYXNvbmluZ19jb250ZW50IHN0cmluZykgZm9ybWF0cy5cbipcbiogQHBhcmFtIG1lc3NhZ2UgLSBUaGUgQUkgbWVzc2FnZSBjb250YWluaW5nIHhBSS1mb3JtYXR0ZWQgY29udGVudFxuKiBAcmV0dXJucyBBcnJheSBvZiBjb250ZW50IGJsb2NrcyBpbiB2MSBzdGFuZGFyZCBmb3JtYXRcbipcbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiAvLyBSZXNwb25zZXMgQVBJIGZvcm1hdFxuKiBjb25zdCBtZXNzYWdlID0gbmV3IEFJTWVzc2FnZSh7XG4qICAgY29udGVudDogXCJUaGUgYW5zd2VyIGlzIDQyXCIsXG4qICAgYWRkaXRpb25hbF9rd2FyZ3M6IHtcbiogICAgIHJlYXNvbmluZzoge1xuKiAgICAgICBpZDogXCJyZWFzb25pbmdfMTIzXCIsXG4qICAgICAgIHR5cGU6IFwicmVhc29uaW5nXCIsXG4qICAgICAgIHN1bW1hcnk6IFt7IHR5cGU6IFwic3VtbWFyeV90ZXh0XCIsIHRleHQ6IFwiTGV0IG1lIHRoaW5rLi4uXCIgfV1cbiogICAgIH1cbiogICB9XG4qIH0pO1xuKiBjb25zdCBzdGFuZGFyZEJsb2NrcyA9IGNvbnZlcnRUb1YxRnJvbVhBSU1lc3NhZ2UobWVzc2FnZSk7XG4qIC8vIFJldHVybnM6XG4qIC8vIFtcbiogLy8gICB7IHR5cGU6IFwicmVhc29uaW5nXCIsIHJlYXNvbmluZzogXCJMZXQgbWUgdGhpbmsuLi5cIiB9LFxuKiAvLyAgIHsgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IFwiVGhlIGFuc3dlciBpcyA0MlwiIH1cbiogLy8gXVxuKiBgYGBcbipcbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiAvLyBDb21wbGV0aW9ucyBBUEkgZm9ybWF0XG4qIGNvbnN0IG1lc3NhZ2UgPSBuZXcgQUlNZXNzYWdlKHtcbiogICBjb250ZW50OiBcIlRoZSBhbnN3ZXIgaXMgNDJcIixcbiogICBhZGRpdGlvbmFsX2t3YXJnczogeyByZWFzb25pbmdfY29udGVudDogXCJMZXQgbWUgdGhpbmsgYWJvdXQgdGhpcy4uLlwiIH1cbiogfSk7XG4qIGNvbnN0IHN0YW5kYXJkQmxvY2tzID0gY29udmVydFRvVjFGcm9tWEFJTWVzc2FnZShtZXNzYWdlKTtcbiogLy8gUmV0dXJuczpcbiogLy8gW1xuKiAvLyAgIHsgdHlwZTogXCJyZWFzb25pbmdcIiwgcmVhc29uaW5nOiBcIkxldCBtZSB0aGluayBhYm91dCB0aGlzLi4uXCIgfSxcbiogLy8gICB7IHR5cGU6IFwidGV4dFwiLCB0ZXh0OiBcIlRoZSBhbnN3ZXIgaXMgNDJcIiB9XG4qIC8vIF1cbiogYGBgXG4qL1xuZnVuY3Rpb24gY29udmVydFRvVjFGcm9tWEFJTWVzc2FnZShtZXNzYWdlKSB7XG5cdGNvbnN0IGJsb2NrcyA9IFtdO1xuXHRpZiAoX2lzT2JqZWN0KG1lc3NhZ2UuYWRkaXRpb25hbF9rd2FyZ3M/LnJlYXNvbmluZykpIHtcblx0XHRjb25zdCByZWFzb25pbmcgPSBtZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzLnJlYXNvbmluZztcblx0XHRpZiAoX2lzQXJyYXkocmVhc29uaW5nLnN1bW1hcnkpKSB7XG5cdFx0XHRjb25zdCBzdW1tYXJ5VGV4dCA9IHJlYXNvbmluZy5zdW1tYXJ5LnJlZHVjZSgoYWNjLCBpdGVtKSA9PiB7XG5cdFx0XHRcdGlmIChfaXNPYmplY3QoaXRlbSkgJiYgX2lzU3RyaW5nKGl0ZW0udGV4dCkpIHJldHVybiBgJHthY2N9JHtpdGVtLnRleHR9YDtcblx0XHRcdFx0cmV0dXJuIGFjYztcblx0XHRcdH0sIFwiXCIpO1xuXHRcdFx0aWYgKHN1bW1hcnlUZXh0Lmxlbmd0aCA+IDApIGJsb2Nrcy5wdXNoKHtcblx0XHRcdFx0dHlwZTogXCJyZWFzb25pbmdcIixcblx0XHRcdFx0cmVhc29uaW5nOiBzdW1tYXJ5VGV4dFxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cdGNvbnN0IHJlYXNvbmluZ0NvbnRlbnQgPSBtZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzPy5yZWFzb25pbmdfY29udGVudDtcblx0aWYgKF9pc1N0cmluZyhyZWFzb25pbmdDb250ZW50KSAmJiByZWFzb25pbmdDb250ZW50Lmxlbmd0aCA+IDApIGJsb2Nrcy5wdXNoKHtcblx0XHR0eXBlOiBcInJlYXNvbmluZ1wiLFxuXHRcdHJlYXNvbmluZzogcmVhc29uaW5nQ29udGVudFxuXHR9KTtcblx0aWYgKHR5cGVvZiBtZXNzYWdlLmNvbnRlbnQgPT09IFwic3RyaW5nXCIpIHtcblx0XHRpZiAobWVzc2FnZS5jb250ZW50Lmxlbmd0aCA+IDApIGJsb2Nrcy5wdXNoKHtcblx0XHRcdHR5cGU6IFwidGV4dFwiLFxuXHRcdFx0dGV4dDogbWVzc2FnZS5jb250ZW50XG5cdFx0fSk7XG5cdH0gZWxzZSBmb3IgKGNvbnN0IGJsb2NrIG9mIG1lc3NhZ2UuY29udGVudCkgaWYgKHR5cGVvZiBibG9jayA9PT0gXCJvYmplY3RcIiAmJiBcInR5cGVcIiBpbiBibG9jayAmJiBibG9jay50eXBlID09PSBcInRleHRcIiAmJiBcInRleHRcIiBpbiBibG9jayAmJiBfaXNTdHJpbmcoYmxvY2sudGV4dCkpIGJsb2Nrcy5wdXNoKHtcblx0XHR0eXBlOiBcInRleHRcIixcblx0XHR0ZXh0OiBibG9jay50ZXh0XG5cdH0pO1xuXHRmb3IgKGNvbnN0IHRvb2xDYWxsIG9mIG1lc3NhZ2UudG9vbF9jYWxscyA/PyBbXSkgYmxvY2tzLnB1c2goe1xuXHRcdHR5cGU6IFwidG9vbF9jYWxsXCIsXG5cdFx0aWQ6IHRvb2xDYWxsLmlkLFxuXHRcdG5hbWU6IHRvb2xDYWxsLm5hbWUsXG5cdFx0YXJnczogdG9vbENhbGwuYXJnc1xuXHR9KTtcblx0cmV0dXJuIGJsb2Nrcztcbn1cbmNvbnN0IENoYXRYQUlUcmFuc2xhdG9yID0ge1xuXHR0cmFuc2xhdGVDb250ZW50OiBjb252ZXJ0VG9WMUZyb21YQUlNZXNzYWdlLFxuXHR0cmFuc2xhdGVDb250ZW50Q2h1bms6IGNvbnZlcnRUb1YxRnJvbVhBSU1lc3NhZ2Vcbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQ2hhdFhBSVRyYW5zbGF0b3IgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXhhaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/block_translators/xai.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/chat.js":
/*!*******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/chat.js ***!
  \*******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatMessage: () => (/* binding */ ChatMessage),\n/* harmony export */   ChatMessageChunk: () => (/* binding */ ChatMessageChunk),\n/* harmony export */   isChatMessage: () => (/* binding */ isChatMessage),\n/* harmony export */   isChatMessageChunk: () => (/* binding */ isChatMessageChunk)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/base.js\");\n\n\n//#region src/messages/chat.ts\n/**\n* Represents a chat message in a conversation.\n*/\nvar ChatMessage = class ChatMessage extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseMessage {\n\tstatic lc_name() {\n\t\treturn \"ChatMessage\";\n\t}\n\ttype = \"generic\";\n\trole;\n\tstatic _chatMessageClass() {\n\t\treturn ChatMessage;\n\t}\n\tconstructor(fields, role) {\n\t\tif (typeof fields === \"string\" || Array.isArray(fields)) fields = {\n\t\t\tcontent: fields,\n\t\t\trole\n\t\t};\n\t\tsuper(fields);\n\t\tthis.role = fields.role;\n\t}\n\tstatic isInstance(obj) {\n\t\treturn super.isInstance(obj) && obj.type === \"generic\";\n\t}\n\tget _printableFields() {\n\t\treturn {\n\t\t\t...super._printableFields,\n\t\t\trole: this.role\n\t\t};\n\t}\n};\n/**\n* Represents a chunk of a chat message, which can be concatenated with\n* other chat message chunks.\n*/\nvar ChatMessageChunk = class extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseMessageChunk {\n\tstatic lc_name() {\n\t\treturn \"ChatMessageChunk\";\n\t}\n\ttype = \"generic\";\n\trole;\n\tconstructor(fields, role) {\n\t\tif (typeof fields === \"string\" || Array.isArray(fields)) fields = {\n\t\t\tcontent: fields,\n\t\t\trole\n\t\t};\n\t\tsuper(fields);\n\t\tthis.role = fields.role;\n\t}\n\tconcat(chunk) {\n\t\tconst Cls = this.constructor;\n\t\treturn new Cls({\n\t\t\tcontent: (0,_base_js__WEBPACK_IMPORTED_MODULE_0__.mergeContent)(this.content, chunk.content),\n\t\t\tadditional_kwargs: (0,_base_js__WEBPACK_IMPORTED_MODULE_0__._mergeDicts)(this.additional_kwargs, chunk.additional_kwargs),\n\t\t\tresponse_metadata: (0,_base_js__WEBPACK_IMPORTED_MODULE_0__._mergeDicts)(this.response_metadata, chunk.response_metadata),\n\t\t\trole: this.role,\n\t\t\tid: this.id ?? chunk.id\n\t\t});\n\t}\n\tstatic isInstance(obj) {\n\t\treturn super.isInstance(obj) && obj.type === \"generic\";\n\t}\n\tget _printableFields() {\n\t\treturn {\n\t\t\t...super._printableFields,\n\t\t\trole: this.role\n\t\t};\n\t}\n};\n/**\n* @deprecated Use {@link ChatMessage.isInstance} instead\n*/\nfunction isChatMessage(x) {\n\treturn x._getType() === \"generic\";\n}\n/**\n* @deprecated Use {@link ChatMessageChunk.isInstance} instead\n*/\nfunction isChatMessageChunk(x) {\n\treturn x._getType() === \"generic\";\n}\n\n//#endregion\n\n//# sourceMappingURL=chat.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL2NoYXQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBcUY7O0FBRXJGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLGlEQUFXO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxzREFBZ0I7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHNEQUFZO0FBQ3hCLHNCQUFzQixxREFBVztBQUNqQyxzQkFBc0IscURBQVc7QUFDakM7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsOEJBQThCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsbUNBQW1DO0FBQ3REO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQzRFO0FBQzVFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL2NoYXQuanM/YTdlMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYXNlTWVzc2FnZSwgQmFzZU1lc3NhZ2VDaHVuaywgX21lcmdlRGljdHMsIG1lcmdlQ29udGVudCB9IGZyb20gXCIuL2Jhc2UuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9tZXNzYWdlcy9jaGF0LnRzXG4vKipcbiogUmVwcmVzZW50cyBhIGNoYXQgbWVzc2FnZSBpbiBhIGNvbnZlcnNhdGlvbi5cbiovXG52YXIgQ2hhdE1lc3NhZ2UgPSBjbGFzcyBDaGF0TWVzc2FnZSBleHRlbmRzIEJhc2VNZXNzYWdlIHtcblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiQ2hhdE1lc3NhZ2VcIjtcblx0fVxuXHR0eXBlID0gXCJnZW5lcmljXCI7XG5cdHJvbGU7XG5cdHN0YXRpYyBfY2hhdE1lc3NhZ2VDbGFzcygpIHtcblx0XHRyZXR1cm4gQ2hhdE1lc3NhZ2U7XG5cdH1cblx0Y29uc3RydWN0b3IoZmllbGRzLCByb2xlKSB7XG5cdFx0aWYgKHR5cGVvZiBmaWVsZHMgPT09IFwic3RyaW5nXCIgfHwgQXJyYXkuaXNBcnJheShmaWVsZHMpKSBmaWVsZHMgPSB7XG5cdFx0XHRjb250ZW50OiBmaWVsZHMsXG5cdFx0XHRyb2xlXG5cdFx0fTtcblx0XHRzdXBlcihmaWVsZHMpO1xuXHRcdHRoaXMucm9sZSA9IGZpZWxkcy5yb2xlO1xuXHR9XG5cdHN0YXRpYyBpc0luc3RhbmNlKG9iaikge1xuXHRcdHJldHVybiBzdXBlci5pc0luc3RhbmNlKG9iaikgJiYgb2JqLnR5cGUgPT09IFwiZ2VuZXJpY1wiO1xuXHR9XG5cdGdldCBfcHJpbnRhYmxlRmllbGRzKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHQuLi5zdXBlci5fcHJpbnRhYmxlRmllbGRzLFxuXHRcdFx0cm9sZTogdGhpcy5yb2xlXG5cdFx0fTtcblx0fVxufTtcbi8qKlxuKiBSZXByZXNlbnRzIGEgY2h1bmsgb2YgYSBjaGF0IG1lc3NhZ2UsIHdoaWNoIGNhbiBiZSBjb25jYXRlbmF0ZWQgd2l0aFxuKiBvdGhlciBjaGF0IG1lc3NhZ2UgY2h1bmtzLlxuKi9cbnZhciBDaGF0TWVzc2FnZUNodW5rID0gY2xhc3MgZXh0ZW5kcyBCYXNlTWVzc2FnZUNodW5rIHtcblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiQ2hhdE1lc3NhZ2VDaHVua1wiO1xuXHR9XG5cdHR5cGUgPSBcImdlbmVyaWNcIjtcblx0cm9sZTtcblx0Y29uc3RydWN0b3IoZmllbGRzLCByb2xlKSB7XG5cdFx0aWYgKHR5cGVvZiBmaWVsZHMgPT09IFwic3RyaW5nXCIgfHwgQXJyYXkuaXNBcnJheShmaWVsZHMpKSBmaWVsZHMgPSB7XG5cdFx0XHRjb250ZW50OiBmaWVsZHMsXG5cdFx0XHRyb2xlXG5cdFx0fTtcblx0XHRzdXBlcihmaWVsZHMpO1xuXHRcdHRoaXMucm9sZSA9IGZpZWxkcy5yb2xlO1xuXHR9XG5cdGNvbmNhdChjaHVuaykge1xuXHRcdGNvbnN0IENscyA9IHRoaXMuY29uc3RydWN0b3I7XG5cdFx0cmV0dXJuIG5ldyBDbHMoe1xuXHRcdFx0Y29udGVudDogbWVyZ2VDb250ZW50KHRoaXMuY29udGVudCwgY2h1bmsuY29udGVudCksXG5cdFx0XHRhZGRpdGlvbmFsX2t3YXJnczogX21lcmdlRGljdHModGhpcy5hZGRpdGlvbmFsX2t3YXJncywgY2h1bmsuYWRkaXRpb25hbF9rd2FyZ3MpLFxuXHRcdFx0cmVzcG9uc2VfbWV0YWRhdGE6IF9tZXJnZURpY3RzKHRoaXMucmVzcG9uc2VfbWV0YWRhdGEsIGNodW5rLnJlc3BvbnNlX21ldGFkYXRhKSxcblx0XHRcdHJvbGU6IHRoaXMucm9sZSxcblx0XHRcdGlkOiB0aGlzLmlkID8/IGNodW5rLmlkXG5cdFx0fSk7XG5cdH1cblx0c3RhdGljIGlzSW5zdGFuY2Uob2JqKSB7XG5cdFx0cmV0dXJuIHN1cGVyLmlzSW5zdGFuY2Uob2JqKSAmJiBvYmoudHlwZSA9PT0gXCJnZW5lcmljXCI7XG5cdH1cblx0Z2V0IF9wcmludGFibGVGaWVsZHMoKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdC4uLnN1cGVyLl9wcmludGFibGVGaWVsZHMsXG5cdFx0XHRyb2xlOiB0aGlzLnJvbGVcblx0XHR9O1xuXHR9XG59O1xuLyoqXG4qIEBkZXByZWNhdGVkIFVzZSB7QGxpbmsgQ2hhdE1lc3NhZ2UuaXNJbnN0YW5jZX0gaW5zdGVhZFxuKi9cbmZ1bmN0aW9uIGlzQ2hhdE1lc3NhZ2UoeCkge1xuXHRyZXR1cm4geC5fZ2V0VHlwZSgpID09PSBcImdlbmVyaWNcIjtcbn1cbi8qKlxuKiBAZGVwcmVjYXRlZCBVc2Uge0BsaW5rIENoYXRNZXNzYWdlQ2h1bmsuaXNJbnN0YW5jZX0gaW5zdGVhZFxuKi9cbmZ1bmN0aW9uIGlzQ2hhdE1lc3NhZ2VDaHVuayh4KSB7XG5cdHJldHVybiB4Ll9nZXRUeXBlKCkgPT09IFwiZ2VuZXJpY1wiO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IENoYXRNZXNzYWdlLCBDaGF0TWVzc2FnZUNodW5rLCBpc0NoYXRNZXNzYWdlLCBpc0NoYXRNZXNzYWdlQ2h1bmsgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoYXQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/chat.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/content/data.js":
/*!***************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/content/data.js ***!
  \***************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   convertToOpenAIImageBlock: () => (/* binding */ convertToOpenAIImageBlock),\n/* harmony export */   convertToProviderContentBlock: () => (/* binding */ convertToProviderContentBlock),\n/* harmony export */   isBase64ContentBlock: () => (/* binding */ isBase64ContentBlock),\n/* harmony export */   isDataContentBlock: () => (/* binding */ isDataContentBlock),\n/* harmony export */   isIDContentBlock: () => (/* binding */ isIDContentBlock),\n/* harmony export */   isPlainTextContentBlock: () => (/* binding */ isPlainTextContentBlock),\n/* harmony export */   isURLContentBlock: () => (/* binding */ isURLContentBlock),\n/* harmony export */   parseBase64DataUrl: () => (/* binding */ parseBase64DataUrl),\n/* harmony export */   parseMimeType: () => (/* binding */ parseMimeType)\n/* harmony export */ });\n//#region src/messages/content/data.ts\n/**\n* @deprecated Don't use data content blocks. Use {@link ContentBlock.Multimodal.Data} instead.\n*/\nfunction isDataContentBlock(content_block) {\n\treturn typeof content_block === \"object\" && content_block !== null && \"type\" in content_block && typeof content_block.type === \"string\" && \"source_type\" in content_block && (content_block.source_type === \"url\" || content_block.source_type === \"base64\" || content_block.source_type === \"text\" || content_block.source_type === \"id\");\n}\n/**\n* @deprecated Don't use data content blocks. Use {@link ContentBlock.Multimodal.Data} instead.\n*/\nfunction isURLContentBlock(content_block) {\n\treturn isDataContentBlock(content_block) && content_block.source_type === \"url\" && \"url\" in content_block && typeof content_block.url === \"string\";\n}\n/**\n* @deprecated Don't use data content blocks. Use {@link ContentBlock.Multimodal.Data} instead.\n*/\nfunction isBase64ContentBlock(content_block) {\n\treturn isDataContentBlock(content_block) && content_block.source_type === \"base64\" && \"data\" in content_block && typeof content_block.data === \"string\";\n}\n/**\n* @deprecated Don't use data content blocks. Use {@link ContentBlock.Multimodal.Data} instead.\n*/\nfunction isPlainTextContentBlock(content_block) {\n\treturn isDataContentBlock(content_block) && content_block.source_type === \"text\" && \"text\" in content_block && typeof content_block.text === \"string\";\n}\n/**\n* @deprecated Don't use data content blocks. Use {@link ContentBlock.Multimodal.Data} instead.\n*/\nfunction isIDContentBlock(content_block) {\n\treturn isDataContentBlock(content_block) && content_block.source_type === \"id\" && \"id\" in content_block && typeof content_block.id === \"string\";\n}\n/**\n* @deprecated Don't use data content blocks. Use {@link ContentBlock.Multimodal.Data} instead.\n*/\nfunction convertToOpenAIImageBlock(content_block) {\n\tif (isDataContentBlock(content_block)) {\n\t\tif (content_block.source_type === \"url\") return {\n\t\t\ttype: \"image_url\",\n\t\t\timage_url: { url: content_block.url }\n\t\t};\n\t\tif (content_block.source_type === \"base64\") {\n\t\t\tif (!content_block.mime_type) throw new Error(\"mime_type key is required for base64 data.\");\n\t\t\tconst mime_type = content_block.mime_type;\n\t\t\treturn {\n\t\t\t\ttype: \"image_url\",\n\t\t\t\timage_url: { url: `data:${mime_type};base64,${content_block.data}` }\n\t\t\t};\n\t\t}\n\t}\n\tthrow new Error(\"Unsupported source type. Only 'url' and 'base64' are supported.\");\n}\n/**\n* Utility function for ChatModelProviders. Parses a mime type into a type, subtype, and parameters.\n*\n* @param mime_type - The mime type to parse.\n* @returns An object containing the type, subtype, and parameters.\n*\n* @deprecated Don't use data content blocks. Use {@link ContentBlock.Multimodal.Data} instead.\n*/\nfunction parseMimeType(mime_type) {\n\tconst parts = mime_type.split(\";\")[0].split(\"/\");\n\tif (parts.length !== 2) throw new Error(`Invalid mime type: \"${mime_type}\" - does not match type/subtype format.`);\n\tconst type = parts[0].trim();\n\tconst subtype = parts[1].trim();\n\tif (type === \"\" || subtype === \"\") throw new Error(`Invalid mime type: \"${mime_type}\" - type or subtype is empty.`);\n\tconst parameters = {};\n\tfor (const parameterKvp of mime_type.split(\";\").slice(1)) {\n\t\tconst parameterParts = parameterKvp.split(\"=\");\n\t\tif (parameterParts.length !== 2) throw new Error(`Invalid parameter syntax in mime type: \"${mime_type}\".`);\n\t\tconst key = parameterParts[0].trim();\n\t\tconst value = parameterParts[1].trim();\n\t\tif (key === \"\") throw new Error(`Invalid parameter syntax in mime type: \"${mime_type}\".`);\n\t\tparameters[key] = value;\n\t}\n\treturn {\n\t\ttype,\n\t\tsubtype,\n\t\tparameters\n\t};\n}\n/**\n* Utility function for ChatModelProviders. Parses a base64 data URL into a typed array or string.\n*\n* @param dataUrl - The base64 data URL to parse.\n* @param asTypedArray - Whether to return the data as a typed array.\n* @returns The parsed data and mime type, or undefined if the data URL is invalid.\n*\n* @deprecated Don't use data content blocks. Use {@link ContentBlock.Multimodal.Data} instead.\n*/\nfunction parseBase64DataUrl({ dataUrl: data_url, asTypedArray = false }) {\n\tconst formatMatch = data_url.match(/^data:(\\w+\\/\\w+);base64,([A-Za-z0-9+/]+=*)$/);\n\tlet mime_type;\n\tif (formatMatch) {\n\t\tmime_type = formatMatch[1].toLowerCase();\n\t\tconst data = asTypedArray ? Uint8Array.from(atob(formatMatch[2]), (c) => c.charCodeAt(0)) : formatMatch[2];\n\t\treturn {\n\t\t\tmime_type,\n\t\t\tdata\n\t\t};\n\t}\n\treturn void 0;\n}\n/**\n* Convert from a standard data content block to a provider's proprietary data content block format.\n*\n* Don't override this method. Instead, override the more specific conversion methods and use this\n* method unmodified.\n*\n* @param block - The standard data content block to convert.\n* @returns The provider data content block.\n* @throws An error if the standard data content block type is not supported.\n*\n* @deprecated Don't use data content blocks. Use {@link ContentBlock.Multimodal.Data} instead.\n*/\nfunction convertToProviderContentBlock(block, converter) {\n\tif (block.type === \"text\") {\n\t\tif (!converter.fromStandardTextBlock) throw new Error(`Converter for ${converter.providerName} does not implement \\`fromStandardTextBlock\\` method.`);\n\t\treturn converter.fromStandardTextBlock(block);\n\t}\n\tif (block.type === \"image\") {\n\t\tif (!converter.fromStandardImageBlock) throw new Error(`Converter for ${converter.providerName} does not implement \\`fromStandardImageBlock\\` method.`);\n\t\treturn converter.fromStandardImageBlock(block);\n\t}\n\tif (block.type === \"audio\") {\n\t\tif (!converter.fromStandardAudioBlock) throw new Error(`Converter for ${converter.providerName} does not implement \\`fromStandardAudioBlock\\` method.`);\n\t\treturn converter.fromStandardAudioBlock(block);\n\t}\n\tif (block.type === \"file\") {\n\t\tif (!converter.fromStandardFileBlock) throw new Error(`Converter for ${converter.providerName} does not implement \\`fromStandardFileBlock\\` method.`);\n\t\treturn converter.fromStandardFileBlock(block);\n\t}\n\tthrow new Error(`Unable to convert content block type '${block.type}' to provider-specific format: not recognized.`);\n}\n\n//#endregion\n\n//# sourceMappingURL=data.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL2NvbnRlbnQvZGF0YS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0Esa0RBQWtELG9DQUFvQztBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELG9DQUFvQztBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELG9DQUFvQztBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELG9DQUFvQztBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELG9DQUFvQztBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELG9DQUFvQztBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixhQUFhLFdBQVcsU0FBUyxtQkFBbUI7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxvQ0FBb0M7QUFDdEY7QUFDQTtBQUNBLGlDQUFpQztBQUNqQyxnRUFBZ0UsVUFBVTtBQUMxRTtBQUNBO0FBQ0EsMkVBQTJFLFVBQVU7QUFDckY7QUFDQSw4Q0FBOEM7QUFDOUM7QUFDQSw4RkFBOEYsVUFBVTtBQUN4RztBQUNBO0FBQ0EsNkVBQTZFLFVBQVU7QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELG9DQUFvQztBQUN0RjtBQUNBLDhCQUE4Qix5Q0FBeUM7QUFDdkUsc0RBQXNEO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxvQ0FBb0M7QUFDdEY7QUFDQTtBQUNBO0FBQ0EseUVBQXlFLHdCQUF3QjtBQUNqRztBQUNBO0FBQ0E7QUFDQSwwRUFBMEUsd0JBQXdCO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBLDBFQUEwRSx3QkFBd0I7QUFDbEc7QUFDQTtBQUNBO0FBQ0EseUVBQXlFLHdCQUF3QjtBQUNqRztBQUNBO0FBQ0EsMERBQTBELFdBQVc7QUFDckU7O0FBRUE7QUFDK007QUFDL00iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvbWVzc2FnZXMvY29udGVudC9kYXRhLmpzPzcwMTgiXSwic291cmNlc0NvbnRlbnQiOlsiLy8jcmVnaW9uIHNyYy9tZXNzYWdlcy9jb250ZW50L2RhdGEudHNcbi8qKlxuKiBAZGVwcmVjYXRlZCBEb24ndCB1c2UgZGF0YSBjb250ZW50IGJsb2Nrcy4gVXNlIHtAbGluayBDb250ZW50QmxvY2suTXVsdGltb2RhbC5EYXRhfSBpbnN0ZWFkLlxuKi9cbmZ1bmN0aW9uIGlzRGF0YUNvbnRlbnRCbG9jayhjb250ZW50X2Jsb2NrKSB7XG5cdHJldHVybiB0eXBlb2YgY29udGVudF9ibG9jayA9PT0gXCJvYmplY3RcIiAmJiBjb250ZW50X2Jsb2NrICE9PSBudWxsICYmIFwidHlwZVwiIGluIGNvbnRlbnRfYmxvY2sgJiYgdHlwZW9mIGNvbnRlbnRfYmxvY2sudHlwZSA9PT0gXCJzdHJpbmdcIiAmJiBcInNvdXJjZV90eXBlXCIgaW4gY29udGVudF9ibG9jayAmJiAoY29udGVudF9ibG9jay5zb3VyY2VfdHlwZSA9PT0gXCJ1cmxcIiB8fCBjb250ZW50X2Jsb2NrLnNvdXJjZV90eXBlID09PSBcImJhc2U2NFwiIHx8IGNvbnRlbnRfYmxvY2suc291cmNlX3R5cGUgPT09IFwidGV4dFwiIHx8IGNvbnRlbnRfYmxvY2suc291cmNlX3R5cGUgPT09IFwiaWRcIik7XG59XG4vKipcbiogQGRlcHJlY2F0ZWQgRG9uJ3QgdXNlIGRhdGEgY29udGVudCBibG9ja3MuIFVzZSB7QGxpbmsgQ29udGVudEJsb2NrLk11bHRpbW9kYWwuRGF0YX0gaW5zdGVhZC5cbiovXG5mdW5jdGlvbiBpc1VSTENvbnRlbnRCbG9jayhjb250ZW50X2Jsb2NrKSB7XG5cdHJldHVybiBpc0RhdGFDb250ZW50QmxvY2soY29udGVudF9ibG9jaykgJiYgY29udGVudF9ibG9jay5zb3VyY2VfdHlwZSA9PT0gXCJ1cmxcIiAmJiBcInVybFwiIGluIGNvbnRlbnRfYmxvY2sgJiYgdHlwZW9mIGNvbnRlbnRfYmxvY2sudXJsID09PSBcInN0cmluZ1wiO1xufVxuLyoqXG4qIEBkZXByZWNhdGVkIERvbid0IHVzZSBkYXRhIGNvbnRlbnQgYmxvY2tzLiBVc2Uge0BsaW5rIENvbnRlbnRCbG9jay5NdWx0aW1vZGFsLkRhdGF9IGluc3RlYWQuXG4qL1xuZnVuY3Rpb24gaXNCYXNlNjRDb250ZW50QmxvY2soY29udGVudF9ibG9jaykge1xuXHRyZXR1cm4gaXNEYXRhQ29udGVudEJsb2NrKGNvbnRlbnRfYmxvY2spICYmIGNvbnRlbnRfYmxvY2suc291cmNlX3R5cGUgPT09IFwiYmFzZTY0XCIgJiYgXCJkYXRhXCIgaW4gY29udGVudF9ibG9jayAmJiB0eXBlb2YgY29udGVudF9ibG9jay5kYXRhID09PSBcInN0cmluZ1wiO1xufVxuLyoqXG4qIEBkZXByZWNhdGVkIERvbid0IHVzZSBkYXRhIGNvbnRlbnQgYmxvY2tzLiBVc2Uge0BsaW5rIENvbnRlbnRCbG9jay5NdWx0aW1vZGFsLkRhdGF9IGluc3RlYWQuXG4qL1xuZnVuY3Rpb24gaXNQbGFpblRleHRDb250ZW50QmxvY2soY29udGVudF9ibG9jaykge1xuXHRyZXR1cm4gaXNEYXRhQ29udGVudEJsb2NrKGNvbnRlbnRfYmxvY2spICYmIGNvbnRlbnRfYmxvY2suc291cmNlX3R5cGUgPT09IFwidGV4dFwiICYmIFwidGV4dFwiIGluIGNvbnRlbnRfYmxvY2sgJiYgdHlwZW9mIGNvbnRlbnRfYmxvY2sudGV4dCA9PT0gXCJzdHJpbmdcIjtcbn1cbi8qKlxuKiBAZGVwcmVjYXRlZCBEb24ndCB1c2UgZGF0YSBjb250ZW50IGJsb2Nrcy4gVXNlIHtAbGluayBDb250ZW50QmxvY2suTXVsdGltb2RhbC5EYXRhfSBpbnN0ZWFkLlxuKi9cbmZ1bmN0aW9uIGlzSURDb250ZW50QmxvY2soY29udGVudF9ibG9jaykge1xuXHRyZXR1cm4gaXNEYXRhQ29udGVudEJsb2NrKGNvbnRlbnRfYmxvY2spICYmIGNvbnRlbnRfYmxvY2suc291cmNlX3R5cGUgPT09IFwiaWRcIiAmJiBcImlkXCIgaW4gY29udGVudF9ibG9jayAmJiB0eXBlb2YgY29udGVudF9ibG9jay5pZCA9PT0gXCJzdHJpbmdcIjtcbn1cbi8qKlxuKiBAZGVwcmVjYXRlZCBEb24ndCB1c2UgZGF0YSBjb250ZW50IGJsb2Nrcy4gVXNlIHtAbGluayBDb250ZW50QmxvY2suTXVsdGltb2RhbC5EYXRhfSBpbnN0ZWFkLlxuKi9cbmZ1bmN0aW9uIGNvbnZlcnRUb09wZW5BSUltYWdlQmxvY2soY29udGVudF9ibG9jaykge1xuXHRpZiAoaXNEYXRhQ29udGVudEJsb2NrKGNvbnRlbnRfYmxvY2spKSB7XG5cdFx0aWYgKGNvbnRlbnRfYmxvY2suc291cmNlX3R5cGUgPT09IFwidXJsXCIpIHJldHVybiB7XG5cdFx0XHR0eXBlOiBcImltYWdlX3VybFwiLFxuXHRcdFx0aW1hZ2VfdXJsOiB7IHVybDogY29udGVudF9ibG9jay51cmwgfVxuXHRcdH07XG5cdFx0aWYgKGNvbnRlbnRfYmxvY2suc291cmNlX3R5cGUgPT09IFwiYmFzZTY0XCIpIHtcblx0XHRcdGlmICghY29udGVudF9ibG9jay5taW1lX3R5cGUpIHRocm93IG5ldyBFcnJvcihcIm1pbWVfdHlwZSBrZXkgaXMgcmVxdWlyZWQgZm9yIGJhc2U2NCBkYXRhLlwiKTtcblx0XHRcdGNvbnN0IG1pbWVfdHlwZSA9IGNvbnRlbnRfYmxvY2subWltZV90eXBlO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0dHlwZTogXCJpbWFnZV91cmxcIixcblx0XHRcdFx0aW1hZ2VfdXJsOiB7IHVybDogYGRhdGE6JHttaW1lX3R5cGV9O2Jhc2U2NCwke2NvbnRlbnRfYmxvY2suZGF0YX1gIH1cblx0XHRcdH07XG5cdFx0fVxuXHR9XG5cdHRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIHNvdXJjZSB0eXBlLiBPbmx5ICd1cmwnIGFuZCAnYmFzZTY0JyBhcmUgc3VwcG9ydGVkLlwiKTtcbn1cbi8qKlxuKiBVdGlsaXR5IGZ1bmN0aW9uIGZvciBDaGF0TW9kZWxQcm92aWRlcnMuIFBhcnNlcyBhIG1pbWUgdHlwZSBpbnRvIGEgdHlwZSwgc3VidHlwZSwgYW5kIHBhcmFtZXRlcnMuXG4qXG4qIEBwYXJhbSBtaW1lX3R5cGUgLSBUaGUgbWltZSB0eXBlIHRvIHBhcnNlLlxuKiBAcmV0dXJucyBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgdHlwZSwgc3VidHlwZSwgYW5kIHBhcmFtZXRlcnMuXG4qXG4qIEBkZXByZWNhdGVkIERvbid0IHVzZSBkYXRhIGNvbnRlbnQgYmxvY2tzLiBVc2Uge0BsaW5rIENvbnRlbnRCbG9jay5NdWx0aW1vZGFsLkRhdGF9IGluc3RlYWQuXG4qL1xuZnVuY3Rpb24gcGFyc2VNaW1lVHlwZShtaW1lX3R5cGUpIHtcblx0Y29uc3QgcGFydHMgPSBtaW1lX3R5cGUuc3BsaXQoXCI7XCIpWzBdLnNwbGl0KFwiL1wiKTtcblx0aWYgKHBhcnRzLmxlbmd0aCAhPT0gMikgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIG1pbWUgdHlwZTogXCIke21pbWVfdHlwZX1cIiAtIGRvZXMgbm90IG1hdGNoIHR5cGUvc3VidHlwZSBmb3JtYXQuYCk7XG5cdGNvbnN0IHR5cGUgPSBwYXJ0c1swXS50cmltKCk7XG5cdGNvbnN0IHN1YnR5cGUgPSBwYXJ0c1sxXS50cmltKCk7XG5cdGlmICh0eXBlID09PSBcIlwiIHx8IHN1YnR5cGUgPT09IFwiXCIpIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBtaW1lIHR5cGU6IFwiJHttaW1lX3R5cGV9XCIgLSB0eXBlIG9yIHN1YnR5cGUgaXMgZW1wdHkuYCk7XG5cdGNvbnN0IHBhcmFtZXRlcnMgPSB7fTtcblx0Zm9yIChjb25zdCBwYXJhbWV0ZXJLdnAgb2YgbWltZV90eXBlLnNwbGl0KFwiO1wiKS5zbGljZSgxKSkge1xuXHRcdGNvbnN0IHBhcmFtZXRlclBhcnRzID0gcGFyYW1ldGVyS3ZwLnNwbGl0KFwiPVwiKTtcblx0XHRpZiAocGFyYW1ldGVyUGFydHMubGVuZ3RoICE9PSAyKSB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgcGFyYW1ldGVyIHN5bnRheCBpbiBtaW1lIHR5cGU6IFwiJHttaW1lX3R5cGV9XCIuYCk7XG5cdFx0Y29uc3Qga2V5ID0gcGFyYW1ldGVyUGFydHNbMF0udHJpbSgpO1xuXHRcdGNvbnN0IHZhbHVlID0gcGFyYW1ldGVyUGFydHNbMV0udHJpbSgpO1xuXHRcdGlmIChrZXkgPT09IFwiXCIpIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBwYXJhbWV0ZXIgc3ludGF4IGluIG1pbWUgdHlwZTogXCIke21pbWVfdHlwZX1cIi5gKTtcblx0XHRwYXJhbWV0ZXJzW2tleV0gPSB2YWx1ZTtcblx0fVxuXHRyZXR1cm4ge1xuXHRcdHR5cGUsXG5cdFx0c3VidHlwZSxcblx0XHRwYXJhbWV0ZXJzXG5cdH07XG59XG4vKipcbiogVXRpbGl0eSBmdW5jdGlvbiBmb3IgQ2hhdE1vZGVsUHJvdmlkZXJzLiBQYXJzZXMgYSBiYXNlNjQgZGF0YSBVUkwgaW50byBhIHR5cGVkIGFycmF5IG9yIHN0cmluZy5cbipcbiogQHBhcmFtIGRhdGFVcmwgLSBUaGUgYmFzZTY0IGRhdGEgVVJMIHRvIHBhcnNlLlxuKiBAcGFyYW0gYXNUeXBlZEFycmF5IC0gV2hldGhlciB0byByZXR1cm4gdGhlIGRhdGEgYXMgYSB0eXBlZCBhcnJheS5cbiogQHJldHVybnMgVGhlIHBhcnNlZCBkYXRhIGFuZCBtaW1lIHR5cGUsIG9yIHVuZGVmaW5lZCBpZiB0aGUgZGF0YSBVUkwgaXMgaW52YWxpZC5cbipcbiogQGRlcHJlY2F0ZWQgRG9uJ3QgdXNlIGRhdGEgY29udGVudCBibG9ja3MuIFVzZSB7QGxpbmsgQ29udGVudEJsb2NrLk11bHRpbW9kYWwuRGF0YX0gaW5zdGVhZC5cbiovXG5mdW5jdGlvbiBwYXJzZUJhc2U2NERhdGFVcmwoeyBkYXRhVXJsOiBkYXRhX3VybCwgYXNUeXBlZEFycmF5ID0gZmFsc2UgfSkge1xuXHRjb25zdCBmb3JtYXRNYXRjaCA9IGRhdGFfdXJsLm1hdGNoKC9eZGF0YTooXFx3K1xcL1xcdyspO2Jhc2U2NCwoW0EtWmEtejAtOSsvXSs9KikkLyk7XG5cdGxldCBtaW1lX3R5cGU7XG5cdGlmIChmb3JtYXRNYXRjaCkge1xuXHRcdG1pbWVfdHlwZSA9IGZvcm1hdE1hdGNoWzFdLnRvTG93ZXJDYXNlKCk7XG5cdFx0Y29uc3QgZGF0YSA9IGFzVHlwZWRBcnJheSA/IFVpbnQ4QXJyYXkuZnJvbShhdG9iKGZvcm1hdE1hdGNoWzJdKSwgKGMpID0+IGMuY2hhckNvZGVBdCgwKSkgOiBmb3JtYXRNYXRjaFsyXTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0bWltZV90eXBlLFxuXHRcdFx0ZGF0YVxuXHRcdH07XG5cdH1cblx0cmV0dXJuIHZvaWQgMDtcbn1cbi8qKlxuKiBDb252ZXJ0IGZyb20gYSBzdGFuZGFyZCBkYXRhIGNvbnRlbnQgYmxvY2sgdG8gYSBwcm92aWRlcidzIHByb3ByaWV0YXJ5IGRhdGEgY29udGVudCBibG9jayBmb3JtYXQuXG4qXG4qIERvbid0IG92ZXJyaWRlIHRoaXMgbWV0aG9kLiBJbnN0ZWFkLCBvdmVycmlkZSB0aGUgbW9yZSBzcGVjaWZpYyBjb252ZXJzaW9uIG1ldGhvZHMgYW5kIHVzZSB0aGlzXG4qIG1ldGhvZCB1bm1vZGlmaWVkLlxuKlxuKiBAcGFyYW0gYmxvY2sgLSBUaGUgc3RhbmRhcmQgZGF0YSBjb250ZW50IGJsb2NrIHRvIGNvbnZlcnQuXG4qIEByZXR1cm5zIFRoZSBwcm92aWRlciBkYXRhIGNvbnRlbnQgYmxvY2suXG4qIEB0aHJvd3MgQW4gZXJyb3IgaWYgdGhlIHN0YW5kYXJkIGRhdGEgY29udGVudCBibG9jayB0eXBlIGlzIG5vdCBzdXBwb3J0ZWQuXG4qXG4qIEBkZXByZWNhdGVkIERvbid0IHVzZSBkYXRhIGNvbnRlbnQgYmxvY2tzLiBVc2Uge0BsaW5rIENvbnRlbnRCbG9jay5NdWx0aW1vZGFsLkRhdGF9IGluc3RlYWQuXG4qL1xuZnVuY3Rpb24gY29udmVydFRvUHJvdmlkZXJDb250ZW50QmxvY2soYmxvY2ssIGNvbnZlcnRlcikge1xuXHRpZiAoYmxvY2sudHlwZSA9PT0gXCJ0ZXh0XCIpIHtcblx0XHRpZiAoIWNvbnZlcnRlci5mcm9tU3RhbmRhcmRUZXh0QmxvY2spIHRocm93IG5ldyBFcnJvcihgQ29udmVydGVyIGZvciAke2NvbnZlcnRlci5wcm92aWRlck5hbWV9IGRvZXMgbm90IGltcGxlbWVudCBcXGBmcm9tU3RhbmRhcmRUZXh0QmxvY2tcXGAgbWV0aG9kLmApO1xuXHRcdHJldHVybiBjb252ZXJ0ZXIuZnJvbVN0YW5kYXJkVGV4dEJsb2NrKGJsb2NrKTtcblx0fVxuXHRpZiAoYmxvY2sudHlwZSA9PT0gXCJpbWFnZVwiKSB7XG5cdFx0aWYgKCFjb252ZXJ0ZXIuZnJvbVN0YW5kYXJkSW1hZ2VCbG9jaykgdGhyb3cgbmV3IEVycm9yKGBDb252ZXJ0ZXIgZm9yICR7Y29udmVydGVyLnByb3ZpZGVyTmFtZX0gZG9lcyBub3QgaW1wbGVtZW50IFxcYGZyb21TdGFuZGFyZEltYWdlQmxvY2tcXGAgbWV0aG9kLmApO1xuXHRcdHJldHVybiBjb252ZXJ0ZXIuZnJvbVN0YW5kYXJkSW1hZ2VCbG9jayhibG9jayk7XG5cdH1cblx0aWYgKGJsb2NrLnR5cGUgPT09IFwiYXVkaW9cIikge1xuXHRcdGlmICghY29udmVydGVyLmZyb21TdGFuZGFyZEF1ZGlvQmxvY2spIHRocm93IG5ldyBFcnJvcihgQ29udmVydGVyIGZvciAke2NvbnZlcnRlci5wcm92aWRlck5hbWV9IGRvZXMgbm90IGltcGxlbWVudCBcXGBmcm9tU3RhbmRhcmRBdWRpb0Jsb2NrXFxgIG1ldGhvZC5gKTtcblx0XHRyZXR1cm4gY29udmVydGVyLmZyb21TdGFuZGFyZEF1ZGlvQmxvY2soYmxvY2spO1xuXHR9XG5cdGlmIChibG9jay50eXBlID09PSBcImZpbGVcIikge1xuXHRcdGlmICghY29udmVydGVyLmZyb21TdGFuZGFyZEZpbGVCbG9jaykgdGhyb3cgbmV3IEVycm9yKGBDb252ZXJ0ZXIgZm9yICR7Y29udmVydGVyLnByb3ZpZGVyTmFtZX0gZG9lcyBub3QgaW1wbGVtZW50IFxcYGZyb21TdGFuZGFyZEZpbGVCbG9ja1xcYCBtZXRob2QuYCk7XG5cdFx0cmV0dXJuIGNvbnZlcnRlci5mcm9tU3RhbmRhcmRGaWxlQmxvY2soYmxvY2spO1xuXHR9XG5cdHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGNvbnZlcnQgY29udGVudCBibG9jayB0eXBlICcke2Jsb2NrLnR5cGV9JyB0byBwcm92aWRlci1zcGVjaWZpYyBmb3JtYXQ6IG5vdCByZWNvZ25pemVkLmApO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IGNvbnZlcnRUb09wZW5BSUltYWdlQmxvY2ssIGNvbnZlcnRUb1Byb3ZpZGVyQ29udGVudEJsb2NrLCBpc0Jhc2U2NENvbnRlbnRCbG9jaywgaXNEYXRhQ29udGVudEJsb2NrLCBpc0lEQ29udGVudEJsb2NrLCBpc1BsYWluVGV4dENvbnRlbnRCbG9jaywgaXNVUkxDb250ZW50QmxvY2ssIHBhcnNlQmFzZTY0RGF0YVVybCwgcGFyc2VNaW1lVHlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/content/data.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/content/index.js":
/*!****************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/content/index.js ***!
  \****************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   KNOWN_BLOCK_TYPES: () => (/* binding */ KNOWN_BLOCK_TYPES$2)\n/* harmony export */ });\n/* harmony import */ var _tools_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tools.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/content/tools.js\");\n/* harmony import */ var _multimodal_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./multimodal.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/content/multimodal.js\");\n\n\n\n//#region src/messages/content/index.ts\nconst KNOWN_BLOCK_TYPES$2 = [\n\t\"text\",\n\t\"reasoning\",\n\t..._tools_js__WEBPACK_IMPORTED_MODULE_0__.KNOWN_BLOCK_TYPES,\n\t..._multimodal_js__WEBPACK_IMPORTED_MODULE_1__.KNOWN_BLOCK_TYPES\n];\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL2NvbnRlbnQvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQStDO0FBQzRCOztBQUUzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksd0RBQWlCO0FBQ3JCLElBQUksNkRBQW1CO0FBQ3ZCOztBQUVBO0FBQ29EO0FBQ3BEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL2NvbnRlbnQvaW5kZXguanM/NTEyOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBLTk9XTl9CTE9DS19UWVBFUyB9IGZyb20gXCIuL3Rvb2xzLmpzXCI7XG5pbXBvcnQgeyBLTk9XTl9CTE9DS19UWVBFUyBhcyBLTk9XTl9CTE9DS19UWVBFUyQxIH0gZnJvbSBcIi4vbXVsdGltb2RhbC5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL21lc3NhZ2VzL2NvbnRlbnQvaW5kZXgudHNcbmNvbnN0IEtOT1dOX0JMT0NLX1RZUEVTJDIgPSBbXG5cdFwidGV4dFwiLFxuXHRcInJlYXNvbmluZ1wiLFxuXHQuLi5LTk9XTl9CTE9DS19UWVBFUyxcblx0Li4uS05PV05fQkxPQ0tfVFlQRVMkMVxuXTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBLTk9XTl9CTE9DS19UWVBFUyQyIGFzIEtOT1dOX0JMT0NLX1RZUEVTIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/content/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/content/multimodal.js":
/*!*********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/content/multimodal.js ***!
  \*********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   KNOWN_BLOCK_TYPES: () => (/* binding */ KNOWN_BLOCK_TYPES)\n/* harmony export */ });\n//#region src/messages/content/multimodal.ts\nconst KNOWN_BLOCK_TYPES = [\n\t\"image\",\n\t\"video\",\n\t\"audio\",\n\t\"text-plain\",\n\t\"file\"\n];\n\n//#endregion\n\n//# sourceMappingURL=multimodal.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL2NvbnRlbnQvbXVsdGltb2RhbC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUM2QjtBQUM3QiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9jb250ZW50L211bHRpbW9kYWwuanM/M2QxZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyNyZWdpb24gc3JjL21lc3NhZ2VzL2NvbnRlbnQvbXVsdGltb2RhbC50c1xuY29uc3QgS05PV05fQkxPQ0tfVFlQRVMgPSBbXG5cdFwiaW1hZ2VcIixcblx0XCJ2aWRlb1wiLFxuXHRcImF1ZGlvXCIsXG5cdFwidGV4dC1wbGFpblwiLFxuXHRcImZpbGVcIlxuXTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBLTk9XTl9CTE9DS19UWVBFUyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bXVsdGltb2RhbC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/content/multimodal.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/content/tools.js":
/*!****************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/content/tools.js ***!
  \****************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   KNOWN_BLOCK_TYPES: () => (/* binding */ KNOWN_BLOCK_TYPES)\n/* harmony export */ });\n//#region src/messages/content/tools.ts\nconst KNOWN_BLOCK_TYPES = [\n\t\"tool_call\",\n\t\"tool_call_chunk\",\n\t\"invalid_tool_call\",\n\t\"server_tool_call\",\n\t\"server_tool_call_chunk\",\n\t\"server_tool_call_result\"\n];\n\n//#endregion\n\n//# sourceMappingURL=tools.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL2NvbnRlbnQvdG9vbHMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUM2QjtBQUM3QiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9jb250ZW50L3Rvb2xzLmpzPzgzN2IiXSwic291cmNlc0NvbnRlbnQiOlsiLy8jcmVnaW9uIHNyYy9tZXNzYWdlcy9jb250ZW50L3Rvb2xzLnRzXG5jb25zdCBLTk9XTl9CTE9DS19UWVBFUyA9IFtcblx0XCJ0b29sX2NhbGxcIixcblx0XCJ0b29sX2NhbGxfY2h1bmtcIixcblx0XCJpbnZhbGlkX3Rvb2xfY2FsbFwiLFxuXHRcInNlcnZlcl90b29sX2NhbGxcIixcblx0XCJzZXJ2ZXJfdG9vbF9jYWxsX2NodW5rXCIsXG5cdFwic2VydmVyX3Rvb2xfY2FsbF9yZXN1bHRcIlxuXTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBLTk9XTl9CTE9DS19UWVBFUyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dG9vbHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/content/tools.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/format.js":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/format.js ***!
  \*********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   convertToFormattedString: () => (/* binding */ convertToFormattedString)\n/* harmony export */ });\n//#region src/messages/format.ts\nfunction convertToFormattedString(message, format = \"pretty\") {\n\tif (format === \"pretty\") return convertToPrettyString(message);\n\treturn JSON.stringify(message);\n}\nfunction convertToPrettyString(message) {\n\tconst lines = [];\n\tconst title = ` ${message.type.charAt(0).toUpperCase() + message.type.slice(1)} Message `;\n\tconst sepLen = Math.floor((80 - title.length) / 2);\n\tconst sep = \"=\".repeat(sepLen);\n\tconst secondSep = title.length % 2 === 0 ? sep : `${sep}=`;\n\tlines.push(`${sep}${title}${secondSep}`);\n\tif (message.type === \"ai\") {\n\t\tconst aiMessage = message;\n\t\tif (aiMessage.tool_calls && aiMessage.tool_calls.length > 0) {\n\t\t\tlines.push(\"Tool Calls:\");\n\t\t\tfor (const tc of aiMessage.tool_calls) {\n\t\t\t\tlines.push(`  ${tc.name} (${tc.id})`);\n\t\t\t\tlines.push(` Call ID: ${tc.id}`);\n\t\t\t\tlines.push(\"  Args:\");\n\t\t\t\tfor (const [key, value] of Object.entries(tc.args)) lines.push(`    ${key}: ${typeof value === \"object\" ? JSON.stringify(value) : value}`);\n\t\t\t}\n\t\t}\n\t}\n\tif (message.type === \"tool\") {\n\t\tconst toolMessage = message;\n\t\tif (toolMessage.name) lines.push(`Name: ${toolMessage.name}`);\n\t}\n\tif (typeof message.content === \"string\" && message.content.trim()) {\n\t\tif (lines.length > 1) lines.push(\"\");\n\t\tlines.push(message.content);\n\t}\n\treturn lines.join(\"\\n\");\n}\n\n//#endregion\n\n//# sourceMappingURL=format.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL2Zvcm1hdC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsOERBQThEO0FBQ2pGO0FBQ0E7QUFDQSxxREFBcUQsSUFBSTtBQUN6RCxlQUFlLElBQUksRUFBRSxNQUFNLEVBQUUsVUFBVTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFNBQVMsR0FBRyxNQUFNO0FBQ3RDLDRCQUE0QixNQUFNO0FBQ2xDO0FBQ0EsMEVBQTBFLElBQUksSUFBSSwwREFBMEQ7QUFDNUk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxpQkFBaUI7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDb0M7QUFDcEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvbWVzc2FnZXMvZm9ybWF0LmpzP2ZmMGYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8jcmVnaW9uIHNyYy9tZXNzYWdlcy9mb3JtYXQudHNcbmZ1bmN0aW9uIGNvbnZlcnRUb0Zvcm1hdHRlZFN0cmluZyhtZXNzYWdlLCBmb3JtYXQgPSBcInByZXR0eVwiKSB7XG5cdGlmIChmb3JtYXQgPT09IFwicHJldHR5XCIpIHJldHVybiBjb252ZXJ0VG9QcmV0dHlTdHJpbmcobWVzc2FnZSk7XG5cdHJldHVybiBKU09OLnN0cmluZ2lmeShtZXNzYWdlKTtcbn1cbmZ1bmN0aW9uIGNvbnZlcnRUb1ByZXR0eVN0cmluZyhtZXNzYWdlKSB7XG5cdGNvbnN0IGxpbmVzID0gW107XG5cdGNvbnN0IHRpdGxlID0gYCAke21lc3NhZ2UudHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG1lc3NhZ2UudHlwZS5zbGljZSgxKX0gTWVzc2FnZSBgO1xuXHRjb25zdCBzZXBMZW4gPSBNYXRoLmZsb29yKCg4MCAtIHRpdGxlLmxlbmd0aCkgLyAyKTtcblx0Y29uc3Qgc2VwID0gXCI9XCIucmVwZWF0KHNlcExlbik7XG5cdGNvbnN0IHNlY29uZFNlcCA9IHRpdGxlLmxlbmd0aCAlIDIgPT09IDAgPyBzZXAgOiBgJHtzZXB9PWA7XG5cdGxpbmVzLnB1c2goYCR7c2VwfSR7dGl0bGV9JHtzZWNvbmRTZXB9YCk7XG5cdGlmIChtZXNzYWdlLnR5cGUgPT09IFwiYWlcIikge1xuXHRcdGNvbnN0IGFpTWVzc2FnZSA9IG1lc3NhZ2U7XG5cdFx0aWYgKGFpTWVzc2FnZS50b29sX2NhbGxzICYmIGFpTWVzc2FnZS50b29sX2NhbGxzLmxlbmd0aCA+IDApIHtcblx0XHRcdGxpbmVzLnB1c2goXCJUb29sIENhbGxzOlwiKTtcblx0XHRcdGZvciAoY29uc3QgdGMgb2YgYWlNZXNzYWdlLnRvb2xfY2FsbHMpIHtcblx0XHRcdFx0bGluZXMucHVzaChgICAke3RjLm5hbWV9ICgke3RjLmlkfSlgKTtcblx0XHRcdFx0bGluZXMucHVzaChgIENhbGwgSUQ6ICR7dGMuaWR9YCk7XG5cdFx0XHRcdGxpbmVzLnB1c2goXCIgIEFyZ3M6XCIpO1xuXHRcdFx0XHRmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyh0Yy5hcmdzKSkgbGluZXMucHVzaChgICAgICR7a2V5fTogJHt0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgPyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkgOiB2YWx1ZX1gKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0aWYgKG1lc3NhZ2UudHlwZSA9PT0gXCJ0b29sXCIpIHtcblx0XHRjb25zdCB0b29sTWVzc2FnZSA9IG1lc3NhZ2U7XG5cdFx0aWYgKHRvb2xNZXNzYWdlLm5hbWUpIGxpbmVzLnB1c2goYE5hbWU6ICR7dG9vbE1lc3NhZ2UubmFtZX1gKTtcblx0fVxuXHRpZiAodHlwZW9mIG1lc3NhZ2UuY29udGVudCA9PT0gXCJzdHJpbmdcIiAmJiBtZXNzYWdlLmNvbnRlbnQudHJpbSgpKSB7XG5cdFx0aWYgKGxpbmVzLmxlbmd0aCA+IDEpIGxpbmVzLnB1c2goXCJcIik7XG5cdFx0bGluZXMucHVzaChtZXNzYWdlLmNvbnRlbnQpO1xuXHR9XG5cdHJldHVybiBsaW5lcy5qb2luKFwiXFxuXCIpO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IGNvbnZlcnRUb0Zvcm1hdHRlZFN0cmluZyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Zm9ybWF0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/format.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/function.js":
/*!***********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/function.js ***!
  \***********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FunctionMessage: () => (/* binding */ FunctionMessage),\n/* harmony export */   FunctionMessageChunk: () => (/* binding */ FunctionMessageChunk),\n/* harmony export */   isFunctionMessage: () => (/* binding */ isFunctionMessage),\n/* harmony export */   isFunctionMessageChunk: () => (/* binding */ isFunctionMessageChunk)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/base.js\");\n\n\n//#region src/messages/function.ts\n/**\n* Represents a function message in a conversation.\n*/\nvar FunctionMessage = class extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseMessage {\n\tstatic lc_name() {\n\t\treturn \"FunctionMessage\";\n\t}\n\ttype = \"function\";\n\tname;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.name = fields.name;\n\t}\n};\n/**\n* Represents a chunk of a function message, which can be concatenated\n* with other function message chunks.\n*/\nvar FunctionMessageChunk = class extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseMessageChunk {\n\tstatic lc_name() {\n\t\treturn \"FunctionMessageChunk\";\n\t}\n\ttype = \"function\";\n\tconcat(chunk) {\n\t\tconst Cls = this.constructor;\n\t\treturn new Cls({\n\t\t\tcontent: (0,_base_js__WEBPACK_IMPORTED_MODULE_0__.mergeContent)(this.content, chunk.content),\n\t\t\tadditional_kwargs: (0,_base_js__WEBPACK_IMPORTED_MODULE_0__._mergeDicts)(this.additional_kwargs, chunk.additional_kwargs),\n\t\t\tresponse_metadata: (0,_base_js__WEBPACK_IMPORTED_MODULE_0__._mergeDicts)(this.response_metadata, chunk.response_metadata),\n\t\t\tname: this.name ?? \"\",\n\t\t\tid: this.id ?? chunk.id\n\t\t});\n\t}\n};\nfunction isFunctionMessage(x) {\n\treturn x._getType() === \"function\";\n}\nfunction isFunctionMessageChunk(x) {\n\treturn x._getType() === \"function\";\n}\n\n//#endregion\n\n//# sourceMappingURL=function.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL2Z1bmN0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXFGOztBQUVyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxpREFBVztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLHNEQUFnQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksc0RBQVk7QUFDeEIsc0JBQXNCLHFEQUFXO0FBQ2pDLHNCQUFzQixxREFBVztBQUNqQztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDNEY7QUFDNUYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvbWVzc2FnZXMvZnVuY3Rpb24uanM/MDVhMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYXNlTWVzc2FnZSwgQmFzZU1lc3NhZ2VDaHVuaywgX21lcmdlRGljdHMsIG1lcmdlQ29udGVudCB9IGZyb20gXCIuL2Jhc2UuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9tZXNzYWdlcy9mdW5jdGlvbi50c1xuLyoqXG4qIFJlcHJlc2VudHMgYSBmdW5jdGlvbiBtZXNzYWdlIGluIGEgY29udmVyc2F0aW9uLlxuKi9cbnZhciBGdW5jdGlvbk1lc3NhZ2UgPSBjbGFzcyBleHRlbmRzIEJhc2VNZXNzYWdlIHtcblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiRnVuY3Rpb25NZXNzYWdlXCI7XG5cdH1cblx0dHlwZSA9IFwiZnVuY3Rpb25cIjtcblx0bmFtZTtcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLm5hbWUgPSBmaWVsZHMubmFtZTtcblx0fVxufTtcbi8qKlxuKiBSZXByZXNlbnRzIGEgY2h1bmsgb2YgYSBmdW5jdGlvbiBtZXNzYWdlLCB3aGljaCBjYW4gYmUgY29uY2F0ZW5hdGVkXG4qIHdpdGggb3RoZXIgZnVuY3Rpb24gbWVzc2FnZSBjaHVua3MuXG4qL1xudmFyIEZ1bmN0aW9uTWVzc2FnZUNodW5rID0gY2xhc3MgZXh0ZW5kcyBCYXNlTWVzc2FnZUNodW5rIHtcblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiRnVuY3Rpb25NZXNzYWdlQ2h1bmtcIjtcblx0fVxuXHR0eXBlID0gXCJmdW5jdGlvblwiO1xuXHRjb25jYXQoY2h1bmspIHtcblx0XHRjb25zdCBDbHMgPSB0aGlzLmNvbnN0cnVjdG9yO1xuXHRcdHJldHVybiBuZXcgQ2xzKHtcblx0XHRcdGNvbnRlbnQ6IG1lcmdlQ29udGVudCh0aGlzLmNvbnRlbnQsIGNodW5rLmNvbnRlbnQpLFxuXHRcdFx0YWRkaXRpb25hbF9rd2FyZ3M6IF9tZXJnZURpY3RzKHRoaXMuYWRkaXRpb25hbF9rd2FyZ3MsIGNodW5rLmFkZGl0aW9uYWxfa3dhcmdzKSxcblx0XHRcdHJlc3BvbnNlX21ldGFkYXRhOiBfbWVyZ2VEaWN0cyh0aGlzLnJlc3BvbnNlX21ldGFkYXRhLCBjaHVuay5yZXNwb25zZV9tZXRhZGF0YSksXG5cdFx0XHRuYW1lOiB0aGlzLm5hbWUgPz8gXCJcIixcblx0XHRcdGlkOiB0aGlzLmlkID8/IGNodW5rLmlkXG5cdFx0fSk7XG5cdH1cbn07XG5mdW5jdGlvbiBpc0Z1bmN0aW9uTWVzc2FnZSh4KSB7XG5cdHJldHVybiB4Ll9nZXRUeXBlKCkgPT09IFwiZnVuY3Rpb25cIjtcbn1cbmZ1bmN0aW9uIGlzRnVuY3Rpb25NZXNzYWdlQ2h1bmsoeCkge1xuXHRyZXR1cm4geC5fZ2V0VHlwZSgpID09PSBcImZ1bmN0aW9uXCI7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgRnVuY3Rpb25NZXNzYWdlLCBGdW5jdGlvbk1lc3NhZ2VDaHVuaywgaXNGdW5jdGlvbk1lc3NhZ2UsIGlzRnVuY3Rpb25NZXNzYWdlQ2h1bmsgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZ1bmN0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/function.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/human.js":
/*!********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/human.js ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HumanMessage: () => (/* binding */ HumanMessage),\n/* harmony export */   HumanMessageChunk: () => (/* binding */ HumanMessageChunk),\n/* harmony export */   isHumanMessage: () => (/* binding */ isHumanMessage),\n/* harmony export */   isHumanMessageChunk: () => (/* binding */ isHumanMessageChunk)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/base.js\");\n\n\n//#region src/messages/human.ts\n/**\n* Represents a human message in a conversation.\n*/\nvar HumanMessage = class extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseMessage {\n\tstatic lc_name() {\n\t\treturn \"HumanMessage\";\n\t}\n\ttype = \"human\";\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t}\n\tstatic isInstance(obj) {\n\t\treturn super.isInstance(obj) && obj.type === \"human\";\n\t}\n};\n/**\n* Represents a chunk of a human message, which can be concatenated with\n* other human message chunks.\n*/\nvar HumanMessageChunk = class extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseMessageChunk {\n\tstatic lc_name() {\n\t\treturn \"HumanMessageChunk\";\n\t}\n\ttype = \"human\";\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t}\n\tconcat(chunk) {\n\t\tconst Cls = this.constructor;\n\t\treturn new Cls({\n\t\t\tcontent: (0,_base_js__WEBPACK_IMPORTED_MODULE_0__.mergeContent)(this.content, chunk.content),\n\t\t\tadditional_kwargs: (0,_base_js__WEBPACK_IMPORTED_MODULE_0__._mergeDicts)(this.additional_kwargs, chunk.additional_kwargs),\n\t\t\tresponse_metadata: (0,_base_js__WEBPACK_IMPORTED_MODULE_0__._mergeDicts)(this.response_metadata, chunk.response_metadata),\n\t\t\tid: this.id ?? chunk.id\n\t\t});\n\t}\n\tstatic isInstance(obj) {\n\t\treturn super.isInstance(obj) && obj.type === \"human\";\n\t}\n};\n/**\n* @deprecated Use {@link HumanMessage.isInstance} instead\n*/\nfunction isHumanMessage(x) {\n\treturn x.getType() === \"human\";\n}\n/**\n* @deprecated Use {@link HumanMessageChunk.isInstance} instead\n*/\nfunction isHumanMessageChunk(x) {\n\treturn x.getType() === \"human\";\n}\n\n//#endregion\n\n//# sourceMappingURL=human.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL2h1bWFuLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXFGOztBQUVyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxpREFBVztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0Msc0RBQWdCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxzREFBWTtBQUN4QixzQkFBc0IscURBQVc7QUFDakMsc0JBQXNCLHFEQUFXO0FBQ2pDO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiwrQkFBK0I7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixvQ0FBb0M7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDZ0Y7QUFDaEYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvbWVzc2FnZXMvaHVtYW4uanM/NGUzMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYXNlTWVzc2FnZSwgQmFzZU1lc3NhZ2VDaHVuaywgX21lcmdlRGljdHMsIG1lcmdlQ29udGVudCB9IGZyb20gXCIuL2Jhc2UuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9tZXNzYWdlcy9odW1hbi50c1xuLyoqXG4qIFJlcHJlc2VudHMgYSBodW1hbiBtZXNzYWdlIGluIGEgY29udmVyc2F0aW9uLlxuKi9cbnZhciBIdW1hbk1lc3NhZ2UgPSBjbGFzcyBleHRlbmRzIEJhc2VNZXNzYWdlIHtcblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiSHVtYW5NZXNzYWdlXCI7XG5cdH1cblx0dHlwZSA9IFwiaHVtYW5cIjtcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0fVxuXHRzdGF0aWMgaXNJbnN0YW5jZShvYmopIHtcblx0XHRyZXR1cm4gc3VwZXIuaXNJbnN0YW5jZShvYmopICYmIG9iai50eXBlID09PSBcImh1bWFuXCI7XG5cdH1cbn07XG4vKipcbiogUmVwcmVzZW50cyBhIGNodW5rIG9mIGEgaHVtYW4gbWVzc2FnZSwgd2hpY2ggY2FuIGJlIGNvbmNhdGVuYXRlZCB3aXRoXG4qIG90aGVyIGh1bWFuIG1lc3NhZ2UgY2h1bmtzLlxuKi9cbnZhciBIdW1hbk1lc3NhZ2VDaHVuayA9IGNsYXNzIGV4dGVuZHMgQmFzZU1lc3NhZ2VDaHVuayB7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIkh1bWFuTWVzc2FnZUNodW5rXCI7XG5cdH1cblx0dHlwZSA9IFwiaHVtYW5cIjtcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0fVxuXHRjb25jYXQoY2h1bmspIHtcblx0XHRjb25zdCBDbHMgPSB0aGlzLmNvbnN0cnVjdG9yO1xuXHRcdHJldHVybiBuZXcgQ2xzKHtcblx0XHRcdGNvbnRlbnQ6IG1lcmdlQ29udGVudCh0aGlzLmNvbnRlbnQsIGNodW5rLmNvbnRlbnQpLFxuXHRcdFx0YWRkaXRpb25hbF9rd2FyZ3M6IF9tZXJnZURpY3RzKHRoaXMuYWRkaXRpb25hbF9rd2FyZ3MsIGNodW5rLmFkZGl0aW9uYWxfa3dhcmdzKSxcblx0XHRcdHJlc3BvbnNlX21ldGFkYXRhOiBfbWVyZ2VEaWN0cyh0aGlzLnJlc3BvbnNlX21ldGFkYXRhLCBjaHVuay5yZXNwb25zZV9tZXRhZGF0YSksXG5cdFx0XHRpZDogdGhpcy5pZCA/PyBjaHVuay5pZFxuXHRcdH0pO1xuXHR9XG5cdHN0YXRpYyBpc0luc3RhbmNlKG9iaikge1xuXHRcdHJldHVybiBzdXBlci5pc0luc3RhbmNlKG9iaikgJiYgb2JqLnR5cGUgPT09IFwiaHVtYW5cIjtcblx0fVxufTtcbi8qKlxuKiBAZGVwcmVjYXRlZCBVc2Uge0BsaW5rIEh1bWFuTWVzc2FnZS5pc0luc3RhbmNlfSBpbnN0ZWFkXG4qL1xuZnVuY3Rpb24gaXNIdW1hbk1lc3NhZ2UoeCkge1xuXHRyZXR1cm4geC5nZXRUeXBlKCkgPT09IFwiaHVtYW5cIjtcbn1cbi8qKlxuKiBAZGVwcmVjYXRlZCBVc2Uge0BsaW5rIEh1bWFuTWVzc2FnZUNodW5rLmlzSW5zdGFuY2V9IGluc3RlYWRcbiovXG5mdW5jdGlvbiBpc0h1bWFuTWVzc2FnZUNodW5rKHgpIHtcblx0cmV0dXJuIHguZ2V0VHlwZSgpID09PSBcImh1bWFuXCI7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgSHVtYW5NZXNzYWdlLCBIdW1hbk1lc3NhZ2VDaHVuaywgaXNIdW1hbk1lc3NhZ2UsIGlzSHVtYW5NZXNzYWdlQ2h1bmsgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWh1bWFuLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/human.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/index.js":
/*!********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/index.js ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AIMessage: () => (/* reexport safe */ _ai_js__WEBPACK_IMPORTED_MODULE_12__.AIMessage),\n/* harmony export */   AIMessageChunk: () => (/* reexport safe */ _ai_js__WEBPACK_IMPORTED_MODULE_12__.AIMessageChunk),\n/* harmony export */   BaseMessage: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_3__.BaseMessage),\n/* harmony export */   BaseMessageChunk: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_3__.BaseMessageChunk),\n/* harmony export */   ChatMessage: () => (/* reexport safe */ _chat_js__WEBPACK_IMPORTED_MODULE_6__.ChatMessage),\n/* harmony export */   ChatMessageChunk: () => (/* reexport safe */ _chat_js__WEBPACK_IMPORTED_MODULE_6__.ChatMessageChunk),\n/* harmony export */   DEFAULT_MERGE_IGNORE_KEYS: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_3__.DEFAULT_MERGE_IGNORE_KEYS),\n/* harmony export */   FunctionMessage: () => (/* reexport safe */ _function_js__WEBPACK_IMPORTED_MODULE_7__.FunctionMessage),\n/* harmony export */   FunctionMessageChunk: () => (/* reexport safe */ _function_js__WEBPACK_IMPORTED_MODULE_7__.FunctionMessageChunk),\n/* harmony export */   HumanMessage: () => (/* reexport safe */ _human_js__WEBPACK_IMPORTED_MODULE_8__.HumanMessage),\n/* harmony export */   HumanMessageChunk: () => (/* reexport safe */ _human_js__WEBPACK_IMPORTED_MODULE_8__.HumanMessageChunk),\n/* harmony export */   KNOWN_BLOCK_TYPES: () => (/* reexport safe */ _content_index_js__WEBPACK_IMPORTED_MODULE_14__.KNOWN_BLOCK_TYPES),\n/* harmony export */   RemoveMessage: () => (/* reexport safe */ _modifier_js__WEBPACK_IMPORTED_MODULE_9__.RemoveMessage),\n/* harmony export */   SystemMessage: () => (/* reexport safe */ _system_js__WEBPACK_IMPORTED_MODULE_10__.SystemMessage),\n/* harmony export */   SystemMessageChunk: () => (/* reexport safe */ _system_js__WEBPACK_IMPORTED_MODULE_10__.SystemMessageChunk),\n/* harmony export */   ToolMessage: () => (/* reexport safe */ _tool_js__WEBPACK_IMPORTED_MODULE_5__.ToolMessage),\n/* harmony export */   ToolMessageChunk: () => (/* reexport safe */ _tool_js__WEBPACK_IMPORTED_MODULE_5__.ToolMessageChunk),\n/* harmony export */   _isMessageFieldWithRole: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_3__._isMessageFieldWithRole),\n/* harmony export */   _mergeDicts: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_3__._mergeDicts),\n/* harmony export */   _mergeLists: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_3__._mergeLists),\n/* harmony export */   _mergeObj: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_3__._mergeObj),\n/* harmony export */   _mergeStatus: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_3__._mergeStatus),\n/* harmony export */   coerceMessageLikeToMessage: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_11__.coerceMessageLikeToMessage),\n/* harmony export */   collapseToolCallChunks: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_11__.collapseToolCallChunks),\n/* harmony export */   convertToChunk: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_11__.convertToChunk),\n/* harmony export */   convertToOpenAIImageBlock: () => (/* reexport safe */ _content_data_js__WEBPACK_IMPORTED_MODULE_1__.convertToOpenAIImageBlock),\n/* harmony export */   convertToProviderContentBlock: () => (/* reexport safe */ _content_data_js__WEBPACK_IMPORTED_MODULE_1__.convertToProviderContentBlock),\n/* harmony export */   defaultTextSplitter: () => (/* reexport safe */ _transformers_js__WEBPACK_IMPORTED_MODULE_13__.defaultTextSplitter),\n/* harmony export */   defaultToolCallParser: () => (/* reexport safe */ _tool_js__WEBPACK_IMPORTED_MODULE_5__.defaultToolCallParser),\n/* harmony export */   filterMessages: () => (/* reexport safe */ _transformers_js__WEBPACK_IMPORTED_MODULE_13__.filterMessages),\n/* harmony export */   getBufferString: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_11__.getBufferString),\n/* harmony export */   iife: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_11__.iife),\n/* harmony export */   isAIMessage: () => (/* reexport safe */ _ai_js__WEBPACK_IMPORTED_MODULE_12__.isAIMessage),\n/* harmony export */   isAIMessageChunk: () => (/* reexport safe */ _ai_js__WEBPACK_IMPORTED_MODULE_12__.isAIMessageChunk),\n/* harmony export */   isBase64ContentBlock: () => (/* reexport safe */ _content_data_js__WEBPACK_IMPORTED_MODULE_1__.isBase64ContentBlock),\n/* harmony export */   isBaseMessage: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_3__.isBaseMessage),\n/* harmony export */   isBaseMessageChunk: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_3__.isBaseMessageChunk),\n/* harmony export */   isChatMessage: () => (/* reexport safe */ _chat_js__WEBPACK_IMPORTED_MODULE_6__.isChatMessage),\n/* harmony export */   isChatMessageChunk: () => (/* reexport safe */ _chat_js__WEBPACK_IMPORTED_MODULE_6__.isChatMessageChunk),\n/* harmony export */   isDataContentBlock: () => (/* reexport safe */ _content_data_js__WEBPACK_IMPORTED_MODULE_1__.isDataContentBlock),\n/* harmony export */   isDirectToolOutput: () => (/* reexport safe */ _tool_js__WEBPACK_IMPORTED_MODULE_5__.isDirectToolOutput),\n/* harmony export */   isFunctionMessage: () => (/* reexport safe */ _function_js__WEBPACK_IMPORTED_MODULE_7__.isFunctionMessage),\n/* harmony export */   isFunctionMessageChunk: () => (/* reexport safe */ _function_js__WEBPACK_IMPORTED_MODULE_7__.isFunctionMessageChunk),\n/* harmony export */   isHumanMessage: () => (/* reexport safe */ _human_js__WEBPACK_IMPORTED_MODULE_8__.isHumanMessage),\n/* harmony export */   isHumanMessageChunk: () => (/* reexport safe */ _human_js__WEBPACK_IMPORTED_MODULE_8__.isHumanMessageChunk),\n/* harmony export */   isIDContentBlock: () => (/* reexport safe */ _content_data_js__WEBPACK_IMPORTED_MODULE_1__.isIDContentBlock),\n/* harmony export */   isMessage: () => (/* reexport safe */ _message_js__WEBPACK_IMPORTED_MODULE_2__.isMessage),\n/* harmony export */   isOpenAIToolCallArray: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_3__.isOpenAIToolCallArray),\n/* harmony export */   isPlainTextContentBlock: () => (/* reexport safe */ _content_data_js__WEBPACK_IMPORTED_MODULE_1__.isPlainTextContentBlock),\n/* harmony export */   isSystemMessage: () => (/* reexport safe */ _system_js__WEBPACK_IMPORTED_MODULE_10__.isSystemMessage),\n/* harmony export */   isSystemMessageChunk: () => (/* reexport safe */ _system_js__WEBPACK_IMPORTED_MODULE_10__.isSystemMessageChunk),\n/* harmony export */   isToolMessage: () => (/* reexport safe */ _tool_js__WEBPACK_IMPORTED_MODULE_5__.isToolMessage),\n/* harmony export */   isToolMessageChunk: () => (/* reexport safe */ _tool_js__WEBPACK_IMPORTED_MODULE_5__.isToolMessageChunk),\n/* harmony export */   isURLContentBlock: () => (/* reexport safe */ _content_data_js__WEBPACK_IMPORTED_MODULE_1__.isURLContentBlock),\n/* harmony export */   mapChatMessagesToStoredMessages: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_11__.mapChatMessagesToStoredMessages),\n/* harmony export */   mapStoredMessageToChatMessage: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_11__.mapStoredMessageToChatMessage),\n/* harmony export */   mapStoredMessagesToChatMessages: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_11__.mapStoredMessagesToChatMessages),\n/* harmony export */   mergeContent: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_3__.mergeContent),\n/* harmony export */   mergeMessageRuns: () => (/* reexport safe */ _transformers_js__WEBPACK_IMPORTED_MODULE_13__.mergeMessageRuns),\n/* harmony export */   mergeResponseMetadata: () => (/* reexport safe */ _metadata_js__WEBPACK_IMPORTED_MODULE_4__.mergeResponseMetadata),\n/* harmony export */   mergeUsageMetadata: () => (/* reexport safe */ _metadata_js__WEBPACK_IMPORTED_MODULE_4__.mergeUsageMetadata),\n/* harmony export */   messages_exports: () => (/* binding */ messages_exports),\n/* harmony export */   parseBase64DataUrl: () => (/* reexport safe */ _content_data_js__WEBPACK_IMPORTED_MODULE_1__.parseBase64DataUrl),\n/* harmony export */   parseMimeType: () => (/* reexport safe */ _content_data_js__WEBPACK_IMPORTED_MODULE_1__.parseMimeType),\n/* harmony export */   trimMessages: () => (/* reexport safe */ _transformers_js__WEBPACK_IMPORTED_MODULE_13__.trimMessages)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _content_data_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./content/data.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/content/data.js\");\n/* harmony import */ var _message_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./message.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/message.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/base.js\");\n/* harmony import */ var _metadata_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./metadata.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/metadata.js\");\n/* harmony import */ var _tool_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./tool.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/tool.js\");\n/* harmony import */ var _chat_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./chat.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/chat.js\");\n/* harmony import */ var _function_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./function.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/function.js\");\n/* harmony import */ var _human_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./human.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/human.js\");\n/* harmony import */ var _modifier_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./modifier.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/modifier.js\");\n/* harmony import */ var _system_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./system.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/system.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/utils.js\");\n/* harmony import */ var _ai_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./ai.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/ai.js\");\n/* harmony import */ var _transformers_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./transformers.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/transformers.js\");\n/* harmony import */ var _content_index_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./content/index.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/content/index.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//#region src/messages/index.ts\nvar messages_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(messages_exports, {\n\tAIMessage: () => _ai_js__WEBPACK_IMPORTED_MODULE_12__.AIMessage,\n\tAIMessageChunk: () => _ai_js__WEBPACK_IMPORTED_MODULE_12__.AIMessageChunk,\n\tBaseMessage: () => _base_js__WEBPACK_IMPORTED_MODULE_3__.BaseMessage,\n\tBaseMessageChunk: () => _base_js__WEBPACK_IMPORTED_MODULE_3__.BaseMessageChunk,\n\tChatMessage: () => _chat_js__WEBPACK_IMPORTED_MODULE_6__.ChatMessage,\n\tChatMessageChunk: () => _chat_js__WEBPACK_IMPORTED_MODULE_6__.ChatMessageChunk,\n\tDEFAULT_MERGE_IGNORE_KEYS: () => _base_js__WEBPACK_IMPORTED_MODULE_3__.DEFAULT_MERGE_IGNORE_KEYS,\n\tFunctionMessage: () => _function_js__WEBPACK_IMPORTED_MODULE_7__.FunctionMessage,\n\tFunctionMessageChunk: () => _function_js__WEBPACK_IMPORTED_MODULE_7__.FunctionMessageChunk,\n\tHumanMessage: () => _human_js__WEBPACK_IMPORTED_MODULE_8__.HumanMessage,\n\tHumanMessageChunk: () => _human_js__WEBPACK_IMPORTED_MODULE_8__.HumanMessageChunk,\n\tKNOWN_BLOCK_TYPES: () => _content_index_js__WEBPACK_IMPORTED_MODULE_14__.KNOWN_BLOCK_TYPES,\n\tRemoveMessage: () => _modifier_js__WEBPACK_IMPORTED_MODULE_9__.RemoveMessage,\n\tSystemMessage: () => _system_js__WEBPACK_IMPORTED_MODULE_10__.SystemMessage,\n\tSystemMessageChunk: () => _system_js__WEBPACK_IMPORTED_MODULE_10__.SystemMessageChunk,\n\tToolMessage: () => _tool_js__WEBPACK_IMPORTED_MODULE_5__.ToolMessage,\n\tToolMessageChunk: () => _tool_js__WEBPACK_IMPORTED_MODULE_5__.ToolMessageChunk,\n\t_isMessageFieldWithRole: () => _base_js__WEBPACK_IMPORTED_MODULE_3__._isMessageFieldWithRole,\n\t_mergeDicts: () => _base_js__WEBPACK_IMPORTED_MODULE_3__._mergeDicts,\n\t_mergeLists: () => _base_js__WEBPACK_IMPORTED_MODULE_3__._mergeLists,\n\t_mergeObj: () => _base_js__WEBPACK_IMPORTED_MODULE_3__._mergeObj,\n\t_mergeStatus: () => _base_js__WEBPACK_IMPORTED_MODULE_3__._mergeStatus,\n\tcoerceMessageLikeToMessage: () => _utils_js__WEBPACK_IMPORTED_MODULE_11__.coerceMessageLikeToMessage,\n\tcollapseToolCallChunks: () => _utils_js__WEBPACK_IMPORTED_MODULE_11__.collapseToolCallChunks,\n\tconvertToChunk: () => _utils_js__WEBPACK_IMPORTED_MODULE_11__.convertToChunk,\n\tconvertToOpenAIImageBlock: () => _content_data_js__WEBPACK_IMPORTED_MODULE_1__.convertToOpenAIImageBlock,\n\tconvertToProviderContentBlock: () => _content_data_js__WEBPACK_IMPORTED_MODULE_1__.convertToProviderContentBlock,\n\tdefaultTextSplitter: () => _transformers_js__WEBPACK_IMPORTED_MODULE_13__.defaultTextSplitter,\n\tdefaultToolCallParser: () => _tool_js__WEBPACK_IMPORTED_MODULE_5__.defaultToolCallParser,\n\tfilterMessages: () => _transformers_js__WEBPACK_IMPORTED_MODULE_13__.filterMessages,\n\tgetBufferString: () => _utils_js__WEBPACK_IMPORTED_MODULE_11__.getBufferString,\n\tiife: () => _utils_js__WEBPACK_IMPORTED_MODULE_11__.iife,\n\tisAIMessage: () => _ai_js__WEBPACK_IMPORTED_MODULE_12__.isAIMessage,\n\tisAIMessageChunk: () => _ai_js__WEBPACK_IMPORTED_MODULE_12__.isAIMessageChunk,\n\tisBase64ContentBlock: () => _content_data_js__WEBPACK_IMPORTED_MODULE_1__.isBase64ContentBlock,\n\tisBaseMessage: () => _base_js__WEBPACK_IMPORTED_MODULE_3__.isBaseMessage,\n\tisBaseMessageChunk: () => _base_js__WEBPACK_IMPORTED_MODULE_3__.isBaseMessageChunk,\n\tisChatMessage: () => _chat_js__WEBPACK_IMPORTED_MODULE_6__.isChatMessage,\n\tisChatMessageChunk: () => _chat_js__WEBPACK_IMPORTED_MODULE_6__.isChatMessageChunk,\n\tisDataContentBlock: () => _content_data_js__WEBPACK_IMPORTED_MODULE_1__.isDataContentBlock,\n\tisDirectToolOutput: () => _tool_js__WEBPACK_IMPORTED_MODULE_5__.isDirectToolOutput,\n\tisFunctionMessage: () => _function_js__WEBPACK_IMPORTED_MODULE_7__.isFunctionMessage,\n\tisFunctionMessageChunk: () => _function_js__WEBPACK_IMPORTED_MODULE_7__.isFunctionMessageChunk,\n\tisHumanMessage: () => _human_js__WEBPACK_IMPORTED_MODULE_8__.isHumanMessage,\n\tisHumanMessageChunk: () => _human_js__WEBPACK_IMPORTED_MODULE_8__.isHumanMessageChunk,\n\tisIDContentBlock: () => _content_data_js__WEBPACK_IMPORTED_MODULE_1__.isIDContentBlock,\n\tisMessage: () => _message_js__WEBPACK_IMPORTED_MODULE_2__.isMessage,\n\tisOpenAIToolCallArray: () => _base_js__WEBPACK_IMPORTED_MODULE_3__.isOpenAIToolCallArray,\n\tisPlainTextContentBlock: () => _content_data_js__WEBPACK_IMPORTED_MODULE_1__.isPlainTextContentBlock,\n\tisSystemMessage: () => _system_js__WEBPACK_IMPORTED_MODULE_10__.isSystemMessage,\n\tisSystemMessageChunk: () => _system_js__WEBPACK_IMPORTED_MODULE_10__.isSystemMessageChunk,\n\tisToolMessage: () => _tool_js__WEBPACK_IMPORTED_MODULE_5__.isToolMessage,\n\tisToolMessageChunk: () => _tool_js__WEBPACK_IMPORTED_MODULE_5__.isToolMessageChunk,\n\tisURLContentBlock: () => _content_data_js__WEBPACK_IMPORTED_MODULE_1__.isURLContentBlock,\n\tmapChatMessagesToStoredMessages: () => _utils_js__WEBPACK_IMPORTED_MODULE_11__.mapChatMessagesToStoredMessages,\n\tmapStoredMessageToChatMessage: () => _utils_js__WEBPACK_IMPORTED_MODULE_11__.mapStoredMessageToChatMessage,\n\tmapStoredMessagesToChatMessages: () => _utils_js__WEBPACK_IMPORTED_MODULE_11__.mapStoredMessagesToChatMessages,\n\tmergeContent: () => _base_js__WEBPACK_IMPORTED_MODULE_3__.mergeContent,\n\tmergeMessageRuns: () => _transformers_js__WEBPACK_IMPORTED_MODULE_13__.mergeMessageRuns,\n\tmergeResponseMetadata: () => _metadata_js__WEBPACK_IMPORTED_MODULE_4__.mergeResponseMetadata,\n\tmergeUsageMetadata: () => _metadata_js__WEBPACK_IMPORTED_MODULE_4__.mergeUsageMetadata,\n\tparseBase64DataUrl: () => _content_data_js__WEBPACK_IMPORTED_MODULE_1__.parseBase64DataUrl,\n\tparseMimeType: () => _content_data_js__WEBPACK_IMPORTED_MODULE_1__.parseMimeType,\n\ttrimMessages: () => _transformers_js__WEBPACK_IMPORTED_MODULE_13__.trimMessages\n});\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTJEO0FBQzZLO0FBQy9MO0FBQ2dNO0FBQy9KO0FBQzhEO0FBQzNDO0FBQ29CO0FBQ2Y7QUFDcEQ7QUFDeUQ7QUFDaUg7QUFDckk7QUFDcUI7QUFDakQ7O0FBRXZEO0FBQ0E7QUFDQSxzRUFBUTtBQUNSLGtCQUFrQiw4Q0FBUztBQUMzQix1QkFBdUIsbURBQWM7QUFDckMsb0JBQW9CLGlEQUFXO0FBQy9CLHlCQUF5QixzREFBZ0I7QUFDekMsb0JBQW9CLGlEQUFXO0FBQy9CLHlCQUF5QixzREFBZ0I7QUFDekMsa0NBQWtDLCtEQUF5QjtBQUMzRCx3QkFBd0IseURBQWU7QUFDdkMsNkJBQTZCLDhEQUFvQjtBQUNqRCxxQkFBcUIsbURBQVk7QUFDakMsMEJBQTBCLHdEQUFpQjtBQUMzQywwQkFBMEIsaUVBQWlCO0FBQzNDLHNCQUFzQix1REFBYTtBQUNuQyxzQkFBc0Isc0RBQWE7QUFDbkMsMkJBQTJCLDJEQUFrQjtBQUM3QyxvQkFBb0IsaURBQVc7QUFDL0IseUJBQXlCLHNEQUFnQjtBQUN6QyxnQ0FBZ0MsNkRBQXVCO0FBQ3ZELG9CQUFvQixpREFBVztBQUMvQixvQkFBb0IsaURBQVc7QUFDL0Isa0JBQWtCLCtDQUFTO0FBQzNCLHFCQUFxQixrREFBWTtBQUNqQyxtQ0FBbUMsa0VBQTBCO0FBQzdELCtCQUErQiw4REFBc0I7QUFDckQsdUJBQXVCLHNEQUFjO0FBQ3JDLGtDQUFrQyx1RUFBeUI7QUFDM0Qsc0NBQXNDLDJFQUE2QjtBQUNuRSw0QkFBNEIsa0VBQW1CO0FBQy9DLDhCQUE4QiwyREFBcUI7QUFDbkQsdUJBQXVCLDZEQUFjO0FBQ3JDLHdCQUF3Qix1REFBZTtBQUN2QyxhQUFhLDRDQUFJO0FBQ2pCLG9CQUFvQixnREFBVztBQUMvQix5QkFBeUIscURBQWdCO0FBQ3pDLDZCQUE2QixrRUFBb0I7QUFDakQsc0JBQXNCLG1EQUFhO0FBQ25DLDJCQUEyQix3REFBa0I7QUFDN0Msc0JBQXNCLG1EQUFhO0FBQ25DLDJCQUEyQix3REFBa0I7QUFDN0MsMkJBQTJCLGdFQUFrQjtBQUM3QywyQkFBMkIsd0RBQWtCO0FBQzdDLDBCQUEwQiwyREFBaUI7QUFDM0MsK0JBQStCLGdFQUFzQjtBQUNyRCx1QkFBdUIscURBQWM7QUFDckMsNEJBQTRCLDBEQUFtQjtBQUMvQyx5QkFBeUIsOERBQWdCO0FBQ3pDLGtCQUFrQixrREFBUztBQUMzQiw4QkFBOEIsMkRBQXFCO0FBQ25ELGdDQUFnQyxxRUFBdUI7QUFDdkQsd0JBQXdCLHdEQUFlO0FBQ3ZDLDZCQUE2Qiw2REFBb0I7QUFDakQsc0JBQXNCLG1EQUFhO0FBQ25DLDJCQUEyQix3REFBa0I7QUFDN0MsMEJBQTBCLCtEQUFpQjtBQUMzQyx3Q0FBd0MsdUVBQStCO0FBQ3ZFLHNDQUFzQyxxRUFBNkI7QUFDbkUsd0NBQXdDLHVFQUErQjtBQUN2RSxxQkFBcUIsa0RBQVk7QUFDakMseUJBQXlCLCtEQUFnQjtBQUN6Qyw4QkFBOEIsK0RBQXFCO0FBQ25ELDJCQUEyQiw0REFBa0I7QUFDN0MsMkJBQTJCLGdFQUFrQjtBQUM3QyxzQkFBc0IsMkRBQWE7QUFDbkMscUJBQXFCLDJEQUFZO0FBQ2pDLENBQUM7O0FBRUQ7QUFDbXRDO0FBQ250QyIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9pbmRleC5qcz80ZDM2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fZXhwb3J0IH0gZnJvbSBcIi4uL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuanNcIjtcbmltcG9ydCB7IGNvbnZlcnRUb09wZW5BSUltYWdlQmxvY2ssIGNvbnZlcnRUb1Byb3ZpZGVyQ29udGVudEJsb2NrLCBpc0Jhc2U2NENvbnRlbnRCbG9jaywgaXNEYXRhQ29udGVudEJsb2NrLCBpc0lEQ29udGVudEJsb2NrLCBpc1BsYWluVGV4dENvbnRlbnRCbG9jaywgaXNVUkxDb250ZW50QmxvY2ssIHBhcnNlQmFzZTY0RGF0YVVybCwgcGFyc2VNaW1lVHlwZSB9IGZyb20gXCIuL2NvbnRlbnQvZGF0YS5qc1wiO1xuaW1wb3J0IHsgaXNNZXNzYWdlIH0gZnJvbSBcIi4vbWVzc2FnZS5qc1wiO1xuaW1wb3J0IHsgQmFzZU1lc3NhZ2UsIEJhc2VNZXNzYWdlQ2h1bmssIERFRkFVTFRfTUVSR0VfSUdOT1JFX0tFWVMsIF9pc01lc3NhZ2VGaWVsZFdpdGhSb2xlLCBfbWVyZ2VEaWN0cywgX21lcmdlTGlzdHMsIF9tZXJnZU9iaiwgX21lcmdlU3RhdHVzLCBpc0Jhc2VNZXNzYWdlLCBpc0Jhc2VNZXNzYWdlQ2h1bmssIGlzT3BlbkFJVG9vbENhbGxBcnJheSwgbWVyZ2VDb250ZW50IH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgbWVyZ2VSZXNwb25zZU1ldGFkYXRhLCBtZXJnZVVzYWdlTWV0YWRhdGEgfSBmcm9tIFwiLi9tZXRhZGF0YS5qc1wiO1xuaW1wb3J0IHsgVG9vbE1lc3NhZ2UsIFRvb2xNZXNzYWdlQ2h1bmssIGRlZmF1bHRUb29sQ2FsbFBhcnNlciwgaXNEaXJlY3RUb29sT3V0cHV0LCBpc1Rvb2xNZXNzYWdlLCBpc1Rvb2xNZXNzYWdlQ2h1bmsgfSBmcm9tIFwiLi90b29sLmpzXCI7XG5pbXBvcnQgeyBDaGF0TWVzc2FnZSwgQ2hhdE1lc3NhZ2VDaHVuaywgaXNDaGF0TWVzc2FnZSwgaXNDaGF0TWVzc2FnZUNodW5rIH0gZnJvbSBcIi4vY2hhdC5qc1wiO1xuaW1wb3J0IHsgRnVuY3Rpb25NZXNzYWdlLCBGdW5jdGlvbk1lc3NhZ2VDaHVuaywgaXNGdW5jdGlvbk1lc3NhZ2UsIGlzRnVuY3Rpb25NZXNzYWdlQ2h1bmsgfSBmcm9tIFwiLi9mdW5jdGlvbi5qc1wiO1xuaW1wb3J0IHsgSHVtYW5NZXNzYWdlLCBIdW1hbk1lc3NhZ2VDaHVuaywgaXNIdW1hbk1lc3NhZ2UsIGlzSHVtYW5NZXNzYWdlQ2h1bmsgfSBmcm9tIFwiLi9odW1hbi5qc1wiO1xuaW1wb3J0IHsgUmVtb3ZlTWVzc2FnZSB9IGZyb20gXCIuL21vZGlmaWVyLmpzXCI7XG5pbXBvcnQgeyBTeXN0ZW1NZXNzYWdlLCBTeXN0ZW1NZXNzYWdlQ2h1bmssIGlzU3lzdGVtTWVzc2FnZSwgaXNTeXN0ZW1NZXNzYWdlQ2h1bmsgfSBmcm9tIFwiLi9zeXN0ZW0uanNcIjtcbmltcG9ydCB7IGNvZXJjZU1lc3NhZ2VMaWtlVG9NZXNzYWdlLCBjb2xsYXBzZVRvb2xDYWxsQ2h1bmtzLCBjb252ZXJ0VG9DaHVuaywgZ2V0QnVmZmVyU3RyaW5nLCBpaWZlLCBtYXBDaGF0TWVzc2FnZXNUb1N0b3JlZE1lc3NhZ2VzLCBtYXBTdG9yZWRNZXNzYWdlVG9DaGF0TWVzc2FnZSwgbWFwU3RvcmVkTWVzc2FnZXNUb0NoYXRNZXNzYWdlcyB9IGZyb20gXCIuL3V0aWxzLmpzXCI7XG5pbXBvcnQgeyBBSU1lc3NhZ2UsIEFJTWVzc2FnZUNodW5rLCBpc0FJTWVzc2FnZSwgaXNBSU1lc3NhZ2VDaHVuayB9IGZyb20gXCIuL2FpLmpzXCI7XG5pbXBvcnQgeyBkZWZhdWx0VGV4dFNwbGl0dGVyLCBmaWx0ZXJNZXNzYWdlcywgbWVyZ2VNZXNzYWdlUnVucywgdHJpbU1lc3NhZ2VzIH0gZnJvbSBcIi4vdHJhbnNmb3JtZXJzLmpzXCI7XG5pbXBvcnQgeyBLTk9XTl9CTE9DS19UWVBFUyB9IGZyb20gXCIuL2NvbnRlbnQvaW5kZXguanNcIjtcblxuLy8jcmVnaW9uIHNyYy9tZXNzYWdlcy9pbmRleC50c1xudmFyIG1lc3NhZ2VzX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KG1lc3NhZ2VzX2V4cG9ydHMsIHtcblx0QUlNZXNzYWdlOiAoKSA9PiBBSU1lc3NhZ2UsXG5cdEFJTWVzc2FnZUNodW5rOiAoKSA9PiBBSU1lc3NhZ2VDaHVuayxcblx0QmFzZU1lc3NhZ2U6ICgpID0+IEJhc2VNZXNzYWdlLFxuXHRCYXNlTWVzc2FnZUNodW5rOiAoKSA9PiBCYXNlTWVzc2FnZUNodW5rLFxuXHRDaGF0TWVzc2FnZTogKCkgPT4gQ2hhdE1lc3NhZ2UsXG5cdENoYXRNZXNzYWdlQ2h1bms6ICgpID0+IENoYXRNZXNzYWdlQ2h1bmssXG5cdERFRkFVTFRfTUVSR0VfSUdOT1JFX0tFWVM6ICgpID0+IERFRkFVTFRfTUVSR0VfSUdOT1JFX0tFWVMsXG5cdEZ1bmN0aW9uTWVzc2FnZTogKCkgPT4gRnVuY3Rpb25NZXNzYWdlLFxuXHRGdW5jdGlvbk1lc3NhZ2VDaHVuazogKCkgPT4gRnVuY3Rpb25NZXNzYWdlQ2h1bmssXG5cdEh1bWFuTWVzc2FnZTogKCkgPT4gSHVtYW5NZXNzYWdlLFxuXHRIdW1hbk1lc3NhZ2VDaHVuazogKCkgPT4gSHVtYW5NZXNzYWdlQ2h1bmssXG5cdEtOT1dOX0JMT0NLX1RZUEVTOiAoKSA9PiBLTk9XTl9CTE9DS19UWVBFUyxcblx0UmVtb3ZlTWVzc2FnZTogKCkgPT4gUmVtb3ZlTWVzc2FnZSxcblx0U3lzdGVtTWVzc2FnZTogKCkgPT4gU3lzdGVtTWVzc2FnZSxcblx0U3lzdGVtTWVzc2FnZUNodW5rOiAoKSA9PiBTeXN0ZW1NZXNzYWdlQ2h1bmssXG5cdFRvb2xNZXNzYWdlOiAoKSA9PiBUb29sTWVzc2FnZSxcblx0VG9vbE1lc3NhZ2VDaHVuazogKCkgPT4gVG9vbE1lc3NhZ2VDaHVuayxcblx0X2lzTWVzc2FnZUZpZWxkV2l0aFJvbGU6ICgpID0+IF9pc01lc3NhZ2VGaWVsZFdpdGhSb2xlLFxuXHRfbWVyZ2VEaWN0czogKCkgPT4gX21lcmdlRGljdHMsXG5cdF9tZXJnZUxpc3RzOiAoKSA9PiBfbWVyZ2VMaXN0cyxcblx0X21lcmdlT2JqOiAoKSA9PiBfbWVyZ2VPYmosXG5cdF9tZXJnZVN0YXR1czogKCkgPT4gX21lcmdlU3RhdHVzLFxuXHRjb2VyY2VNZXNzYWdlTGlrZVRvTWVzc2FnZTogKCkgPT4gY29lcmNlTWVzc2FnZUxpa2VUb01lc3NhZ2UsXG5cdGNvbGxhcHNlVG9vbENhbGxDaHVua3M6ICgpID0+IGNvbGxhcHNlVG9vbENhbGxDaHVua3MsXG5cdGNvbnZlcnRUb0NodW5rOiAoKSA9PiBjb252ZXJ0VG9DaHVuayxcblx0Y29udmVydFRvT3BlbkFJSW1hZ2VCbG9jazogKCkgPT4gY29udmVydFRvT3BlbkFJSW1hZ2VCbG9jayxcblx0Y29udmVydFRvUHJvdmlkZXJDb250ZW50QmxvY2s6ICgpID0+IGNvbnZlcnRUb1Byb3ZpZGVyQ29udGVudEJsb2NrLFxuXHRkZWZhdWx0VGV4dFNwbGl0dGVyOiAoKSA9PiBkZWZhdWx0VGV4dFNwbGl0dGVyLFxuXHRkZWZhdWx0VG9vbENhbGxQYXJzZXI6ICgpID0+IGRlZmF1bHRUb29sQ2FsbFBhcnNlcixcblx0ZmlsdGVyTWVzc2FnZXM6ICgpID0+IGZpbHRlck1lc3NhZ2VzLFxuXHRnZXRCdWZmZXJTdHJpbmc6ICgpID0+IGdldEJ1ZmZlclN0cmluZyxcblx0aWlmZTogKCkgPT4gaWlmZSxcblx0aXNBSU1lc3NhZ2U6ICgpID0+IGlzQUlNZXNzYWdlLFxuXHRpc0FJTWVzc2FnZUNodW5rOiAoKSA9PiBpc0FJTWVzc2FnZUNodW5rLFxuXHRpc0Jhc2U2NENvbnRlbnRCbG9jazogKCkgPT4gaXNCYXNlNjRDb250ZW50QmxvY2ssXG5cdGlzQmFzZU1lc3NhZ2U6ICgpID0+IGlzQmFzZU1lc3NhZ2UsXG5cdGlzQmFzZU1lc3NhZ2VDaHVuazogKCkgPT4gaXNCYXNlTWVzc2FnZUNodW5rLFxuXHRpc0NoYXRNZXNzYWdlOiAoKSA9PiBpc0NoYXRNZXNzYWdlLFxuXHRpc0NoYXRNZXNzYWdlQ2h1bms6ICgpID0+IGlzQ2hhdE1lc3NhZ2VDaHVuayxcblx0aXNEYXRhQ29udGVudEJsb2NrOiAoKSA9PiBpc0RhdGFDb250ZW50QmxvY2ssXG5cdGlzRGlyZWN0VG9vbE91dHB1dDogKCkgPT4gaXNEaXJlY3RUb29sT3V0cHV0LFxuXHRpc0Z1bmN0aW9uTWVzc2FnZTogKCkgPT4gaXNGdW5jdGlvbk1lc3NhZ2UsXG5cdGlzRnVuY3Rpb25NZXNzYWdlQ2h1bms6ICgpID0+IGlzRnVuY3Rpb25NZXNzYWdlQ2h1bmssXG5cdGlzSHVtYW5NZXNzYWdlOiAoKSA9PiBpc0h1bWFuTWVzc2FnZSxcblx0aXNIdW1hbk1lc3NhZ2VDaHVuazogKCkgPT4gaXNIdW1hbk1lc3NhZ2VDaHVuayxcblx0aXNJRENvbnRlbnRCbG9jazogKCkgPT4gaXNJRENvbnRlbnRCbG9jayxcblx0aXNNZXNzYWdlOiAoKSA9PiBpc01lc3NhZ2UsXG5cdGlzT3BlbkFJVG9vbENhbGxBcnJheTogKCkgPT4gaXNPcGVuQUlUb29sQ2FsbEFycmF5LFxuXHRpc1BsYWluVGV4dENvbnRlbnRCbG9jazogKCkgPT4gaXNQbGFpblRleHRDb250ZW50QmxvY2ssXG5cdGlzU3lzdGVtTWVzc2FnZTogKCkgPT4gaXNTeXN0ZW1NZXNzYWdlLFxuXHRpc1N5c3RlbU1lc3NhZ2VDaHVuazogKCkgPT4gaXNTeXN0ZW1NZXNzYWdlQ2h1bmssXG5cdGlzVG9vbE1lc3NhZ2U6ICgpID0+IGlzVG9vbE1lc3NhZ2UsXG5cdGlzVG9vbE1lc3NhZ2VDaHVuazogKCkgPT4gaXNUb29sTWVzc2FnZUNodW5rLFxuXHRpc1VSTENvbnRlbnRCbG9jazogKCkgPT4gaXNVUkxDb250ZW50QmxvY2ssXG5cdG1hcENoYXRNZXNzYWdlc1RvU3RvcmVkTWVzc2FnZXM6ICgpID0+IG1hcENoYXRNZXNzYWdlc1RvU3RvcmVkTWVzc2FnZXMsXG5cdG1hcFN0b3JlZE1lc3NhZ2VUb0NoYXRNZXNzYWdlOiAoKSA9PiBtYXBTdG9yZWRNZXNzYWdlVG9DaGF0TWVzc2FnZSxcblx0bWFwU3RvcmVkTWVzc2FnZXNUb0NoYXRNZXNzYWdlczogKCkgPT4gbWFwU3RvcmVkTWVzc2FnZXNUb0NoYXRNZXNzYWdlcyxcblx0bWVyZ2VDb250ZW50OiAoKSA9PiBtZXJnZUNvbnRlbnQsXG5cdG1lcmdlTWVzc2FnZVJ1bnM6ICgpID0+IG1lcmdlTWVzc2FnZVJ1bnMsXG5cdG1lcmdlUmVzcG9uc2VNZXRhZGF0YTogKCkgPT4gbWVyZ2VSZXNwb25zZU1ldGFkYXRhLFxuXHRtZXJnZVVzYWdlTWV0YWRhdGE6ICgpID0+IG1lcmdlVXNhZ2VNZXRhZGF0YSxcblx0cGFyc2VCYXNlNjREYXRhVXJsOiAoKSA9PiBwYXJzZUJhc2U2NERhdGFVcmwsXG5cdHBhcnNlTWltZVR5cGU6ICgpID0+IHBhcnNlTWltZVR5cGUsXG5cdHRyaW1NZXNzYWdlczogKCkgPT4gdHJpbU1lc3NhZ2VzXG59KTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBBSU1lc3NhZ2UsIEFJTWVzc2FnZUNodW5rLCBCYXNlTWVzc2FnZSwgQmFzZU1lc3NhZ2VDaHVuaywgQ2hhdE1lc3NhZ2UsIENoYXRNZXNzYWdlQ2h1bmssIERFRkFVTFRfTUVSR0VfSUdOT1JFX0tFWVMsIEZ1bmN0aW9uTWVzc2FnZSwgRnVuY3Rpb25NZXNzYWdlQ2h1bmssIEh1bWFuTWVzc2FnZSwgSHVtYW5NZXNzYWdlQ2h1bmssIEtOT1dOX0JMT0NLX1RZUEVTLCBSZW1vdmVNZXNzYWdlLCBTeXN0ZW1NZXNzYWdlLCBTeXN0ZW1NZXNzYWdlQ2h1bmssIFRvb2xNZXNzYWdlLCBUb29sTWVzc2FnZUNodW5rLCBfaXNNZXNzYWdlRmllbGRXaXRoUm9sZSwgX21lcmdlRGljdHMsIF9tZXJnZUxpc3RzLCBfbWVyZ2VPYmosIF9tZXJnZVN0YXR1cywgY29lcmNlTWVzc2FnZUxpa2VUb01lc3NhZ2UsIGNvbGxhcHNlVG9vbENhbGxDaHVua3MsIGNvbnZlcnRUb0NodW5rLCBjb252ZXJ0VG9PcGVuQUlJbWFnZUJsb2NrLCBjb252ZXJ0VG9Qcm92aWRlckNvbnRlbnRCbG9jaywgZGVmYXVsdFRleHRTcGxpdHRlciwgZGVmYXVsdFRvb2xDYWxsUGFyc2VyLCBmaWx0ZXJNZXNzYWdlcywgZ2V0QnVmZmVyU3RyaW5nLCBpaWZlLCBpc0FJTWVzc2FnZSwgaXNBSU1lc3NhZ2VDaHVuaywgaXNCYXNlNjRDb250ZW50QmxvY2ssIGlzQmFzZU1lc3NhZ2UsIGlzQmFzZU1lc3NhZ2VDaHVuaywgaXNDaGF0TWVzc2FnZSwgaXNDaGF0TWVzc2FnZUNodW5rLCBpc0RhdGFDb250ZW50QmxvY2ssIGlzRGlyZWN0VG9vbE91dHB1dCwgaXNGdW5jdGlvbk1lc3NhZ2UsIGlzRnVuY3Rpb25NZXNzYWdlQ2h1bmssIGlzSHVtYW5NZXNzYWdlLCBpc0h1bWFuTWVzc2FnZUNodW5rLCBpc0lEQ29udGVudEJsb2NrLCBpc01lc3NhZ2UsIGlzT3BlbkFJVG9vbENhbGxBcnJheSwgaXNQbGFpblRleHRDb250ZW50QmxvY2ssIGlzU3lzdGVtTWVzc2FnZSwgaXNTeXN0ZW1NZXNzYWdlQ2h1bmssIGlzVG9vbE1lc3NhZ2UsIGlzVG9vbE1lc3NhZ2VDaHVuaywgaXNVUkxDb250ZW50QmxvY2ssIG1hcENoYXRNZXNzYWdlc1RvU3RvcmVkTWVzc2FnZXMsIG1hcFN0b3JlZE1lc3NhZ2VUb0NoYXRNZXNzYWdlLCBtYXBTdG9yZWRNZXNzYWdlc1RvQ2hhdE1lc3NhZ2VzLCBtZXJnZUNvbnRlbnQsIG1lcmdlTWVzc2FnZVJ1bnMsIG1lcmdlUmVzcG9uc2VNZXRhZGF0YSwgbWVyZ2VVc2FnZU1ldGFkYXRhLCBtZXNzYWdlc19leHBvcnRzLCBwYXJzZUJhc2U2NERhdGFVcmwsIHBhcnNlTWltZVR5cGUsIHRyaW1NZXNzYWdlcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/message.js":
/*!**********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/message.js ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isMessage: () => (/* binding */ isMessage)\n/* harmony export */ });\n//#region src/messages/message.ts\n/**\n* Type guard to check if a value is a valid Message object.\n*\n* @param message - The value to check\n* @returns true if the value is a valid Message object, false otherwise\n*/\nfunction isMessage(message) {\n\treturn typeof message === \"object\" && message !== null && \"type\" in message && \"content\" in message && (typeof message.content === \"string\" || Array.isArray(message.content));\n}\n\n//#endregion\n\n//# sourceMappingURL=message.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL21lc3NhZ2UuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3FCO0FBQ3JCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL21lc3NhZ2UuanM/YTAzZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyNyZWdpb24gc3JjL21lc3NhZ2VzL21lc3NhZ2UudHNcbi8qKlxuKiBUeXBlIGd1YXJkIHRvIGNoZWNrIGlmIGEgdmFsdWUgaXMgYSB2YWxpZCBNZXNzYWdlIG9iamVjdC5cbipcbiogQHBhcmFtIG1lc3NhZ2UgLSBUaGUgdmFsdWUgdG8gY2hlY2tcbiogQHJldHVybnMgdHJ1ZSBpZiB0aGUgdmFsdWUgaXMgYSB2YWxpZCBNZXNzYWdlIG9iamVjdCwgZmFsc2Ugb3RoZXJ3aXNlXG4qL1xuZnVuY3Rpb24gaXNNZXNzYWdlKG1lc3NhZ2UpIHtcblx0cmV0dXJuIHR5cGVvZiBtZXNzYWdlID09PSBcIm9iamVjdFwiICYmIG1lc3NhZ2UgIT09IG51bGwgJiYgXCJ0eXBlXCIgaW4gbWVzc2FnZSAmJiBcImNvbnRlbnRcIiBpbiBtZXNzYWdlICYmICh0eXBlb2YgbWVzc2FnZS5jb250ZW50ID09PSBcInN0cmluZ1wiIHx8IEFycmF5LmlzQXJyYXkobWVzc2FnZS5jb250ZW50KSk7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgaXNNZXNzYWdlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXNzYWdlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/message.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/metadata.js":
/*!***********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/metadata.js ***!
  \***********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   mergeResponseMetadata: () => (/* binding */ mergeResponseMetadata),\n/* harmony export */   mergeUsageMetadata: () => (/* binding */ mergeUsageMetadata)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/base.js\");\n\n\n//#region src/messages/metadata.ts\nfunction mergeResponseMetadata(a, b) {\n\tconst output = (0,_base_js__WEBPACK_IMPORTED_MODULE_0__._mergeDicts)(a, b) ?? {};\n\treturn output;\n}\nfunction mergeModalitiesTokenDetails(a, b) {\n\tconst output = {};\n\tif (a?.audio !== void 0 || b?.audio !== void 0) output.audio = (a?.audio ?? 0) + (b?.audio ?? 0);\n\tif (a?.image !== void 0 || b?.image !== void 0) output.image = (a?.image ?? 0) + (b?.image ?? 0);\n\tif (a?.video !== void 0 || b?.video !== void 0) output.video = (a?.video ?? 0) + (b?.video ?? 0);\n\tif (a?.document !== void 0 || b?.document !== void 0) output.document = (a?.document ?? 0) + (b?.document ?? 0);\n\tif (a?.text !== void 0 || b?.text !== void 0) output.text = (a?.text ?? 0) + (b?.text ?? 0);\n\treturn output;\n}\nfunction mergeInputTokenDetails(a, b) {\n\tconst output = { ...mergeModalitiesTokenDetails(a, b) };\n\tif (a?.cache_read !== void 0 || b?.cache_read !== void 0) output.cache_read = (a?.cache_read ?? 0) + (b?.cache_read ?? 0);\n\tif (a?.cache_creation !== void 0 || b?.cache_creation !== void 0) output.cache_creation = (a?.cache_creation ?? 0) + (b?.cache_creation ?? 0);\n\treturn output;\n}\nfunction mergeOutputTokenDetails(a, b) {\n\tconst output = { ...mergeModalitiesTokenDetails(a, b) };\n\tif (a?.reasoning !== void 0 || b?.reasoning !== void 0) output.reasoning = (a?.reasoning ?? 0) + (b?.reasoning ?? 0);\n\treturn output;\n}\nfunction mergeUsageMetadata(a, b) {\n\treturn {\n\t\tinput_tokens: (a?.input_tokens ?? 0) + (b?.input_tokens ?? 0),\n\t\toutput_tokens: (a?.output_tokens ?? 0) + (b?.output_tokens ?? 0),\n\t\ttotal_tokens: (a?.total_tokens ?? 0) + (b?.total_tokens ?? 0),\n\t\tinput_token_details: mergeInputTokenDetails(a?.input_token_details, b?.input_token_details),\n\t\toutput_token_details: mergeOutputTokenDetails(a?.output_token_details, b?.output_token_details)\n\t};\n}\n\n//#endregion\n\n//# sourceMappingURL=metadata.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL21ldGFkYXRhLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF3Qzs7QUFFeEM7QUFDQTtBQUNBLGdCQUFnQixxREFBVztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDcUQ7QUFDckQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvbWVzc2FnZXMvbWV0YWRhdGEuanM/NzA0YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfbWVyZ2VEaWN0cyB9IGZyb20gXCIuL2Jhc2UuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9tZXNzYWdlcy9tZXRhZGF0YS50c1xuZnVuY3Rpb24gbWVyZ2VSZXNwb25zZU1ldGFkYXRhKGEsIGIpIHtcblx0Y29uc3Qgb3V0cHV0ID0gX21lcmdlRGljdHMoYSwgYikgPz8ge307XG5cdHJldHVybiBvdXRwdXQ7XG59XG5mdW5jdGlvbiBtZXJnZU1vZGFsaXRpZXNUb2tlbkRldGFpbHMoYSwgYikge1xuXHRjb25zdCBvdXRwdXQgPSB7fTtcblx0aWYgKGE/LmF1ZGlvICE9PSB2b2lkIDAgfHwgYj8uYXVkaW8gIT09IHZvaWQgMCkgb3V0cHV0LmF1ZGlvID0gKGE/LmF1ZGlvID8/IDApICsgKGI/LmF1ZGlvID8/IDApO1xuXHRpZiAoYT8uaW1hZ2UgIT09IHZvaWQgMCB8fCBiPy5pbWFnZSAhPT0gdm9pZCAwKSBvdXRwdXQuaW1hZ2UgPSAoYT8uaW1hZ2UgPz8gMCkgKyAoYj8uaW1hZ2UgPz8gMCk7XG5cdGlmIChhPy52aWRlbyAhPT0gdm9pZCAwIHx8IGI/LnZpZGVvICE9PSB2b2lkIDApIG91dHB1dC52aWRlbyA9IChhPy52aWRlbyA/PyAwKSArIChiPy52aWRlbyA/PyAwKTtcblx0aWYgKGE/LmRvY3VtZW50ICE9PSB2b2lkIDAgfHwgYj8uZG9jdW1lbnQgIT09IHZvaWQgMCkgb3V0cHV0LmRvY3VtZW50ID0gKGE/LmRvY3VtZW50ID8/IDApICsgKGI/LmRvY3VtZW50ID8/IDApO1xuXHRpZiAoYT8udGV4dCAhPT0gdm9pZCAwIHx8IGI/LnRleHQgIT09IHZvaWQgMCkgb3V0cHV0LnRleHQgPSAoYT8udGV4dCA/PyAwKSArIChiPy50ZXh0ID8/IDApO1xuXHRyZXR1cm4gb3V0cHV0O1xufVxuZnVuY3Rpb24gbWVyZ2VJbnB1dFRva2VuRGV0YWlscyhhLCBiKSB7XG5cdGNvbnN0IG91dHB1dCA9IHsgLi4ubWVyZ2VNb2RhbGl0aWVzVG9rZW5EZXRhaWxzKGEsIGIpIH07XG5cdGlmIChhPy5jYWNoZV9yZWFkICE9PSB2b2lkIDAgfHwgYj8uY2FjaGVfcmVhZCAhPT0gdm9pZCAwKSBvdXRwdXQuY2FjaGVfcmVhZCA9IChhPy5jYWNoZV9yZWFkID8/IDApICsgKGI/LmNhY2hlX3JlYWQgPz8gMCk7XG5cdGlmIChhPy5jYWNoZV9jcmVhdGlvbiAhPT0gdm9pZCAwIHx8IGI/LmNhY2hlX2NyZWF0aW9uICE9PSB2b2lkIDApIG91dHB1dC5jYWNoZV9jcmVhdGlvbiA9IChhPy5jYWNoZV9jcmVhdGlvbiA/PyAwKSArIChiPy5jYWNoZV9jcmVhdGlvbiA/PyAwKTtcblx0cmV0dXJuIG91dHB1dDtcbn1cbmZ1bmN0aW9uIG1lcmdlT3V0cHV0VG9rZW5EZXRhaWxzKGEsIGIpIHtcblx0Y29uc3Qgb3V0cHV0ID0geyAuLi5tZXJnZU1vZGFsaXRpZXNUb2tlbkRldGFpbHMoYSwgYikgfTtcblx0aWYgKGE/LnJlYXNvbmluZyAhPT0gdm9pZCAwIHx8IGI/LnJlYXNvbmluZyAhPT0gdm9pZCAwKSBvdXRwdXQucmVhc29uaW5nID0gKGE/LnJlYXNvbmluZyA/PyAwKSArIChiPy5yZWFzb25pbmcgPz8gMCk7XG5cdHJldHVybiBvdXRwdXQ7XG59XG5mdW5jdGlvbiBtZXJnZVVzYWdlTWV0YWRhdGEoYSwgYikge1xuXHRyZXR1cm4ge1xuXHRcdGlucHV0X3Rva2VuczogKGE/LmlucHV0X3Rva2VucyA/PyAwKSArIChiPy5pbnB1dF90b2tlbnMgPz8gMCksXG5cdFx0b3V0cHV0X3Rva2VuczogKGE/Lm91dHB1dF90b2tlbnMgPz8gMCkgKyAoYj8ub3V0cHV0X3Rva2VucyA/PyAwKSxcblx0XHR0b3RhbF90b2tlbnM6IChhPy50b3RhbF90b2tlbnMgPz8gMCkgKyAoYj8udG90YWxfdG9rZW5zID8/IDApLFxuXHRcdGlucHV0X3Rva2VuX2RldGFpbHM6IG1lcmdlSW5wdXRUb2tlbkRldGFpbHMoYT8uaW5wdXRfdG9rZW5fZGV0YWlscywgYj8uaW5wdXRfdG9rZW5fZGV0YWlscyksXG5cdFx0b3V0cHV0X3Rva2VuX2RldGFpbHM6IG1lcmdlT3V0cHV0VG9rZW5EZXRhaWxzKGE/Lm91dHB1dF90b2tlbl9kZXRhaWxzLCBiPy5vdXRwdXRfdG9rZW5fZGV0YWlscylcblx0fTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBtZXJnZVJlc3BvbnNlTWV0YWRhdGEsIG1lcmdlVXNhZ2VNZXRhZGF0YSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWV0YWRhdGEuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/metadata.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/modifier.js":
/*!***********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/modifier.js ***!
  \***********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RemoveMessage: () => (/* binding */ RemoveMessage)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/base.js\");\n\n\n//#region src/messages/modifier.ts\n/**\n* Message responsible for deleting other messages.\n*/\nvar RemoveMessage = class extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseMessage {\n\ttype = \"remove\";\n\t/**\n\t* The ID of the message to remove.\n\t*/\n\tid;\n\tconstructor(fields) {\n\t\tsuper({\n\t\t\t...fields,\n\t\t\tcontent: []\n\t\t});\n\t\tthis.id = fields.id;\n\t}\n\tget _printableFields() {\n\t\treturn {\n\t\t\t...super._printableFields,\n\t\t\tid: this.id\n\t\t};\n\t}\n\tstatic isInstance(obj) {\n\t\treturn super.isInstance(obj) && obj.type === \"remove\";\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=modifier.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL21vZGlmaWVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXdDOztBQUV4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxpREFBVztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3lCO0FBQ3pCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL21vZGlmaWVyLmpzPzQ3NTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzZU1lc3NhZ2UgfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvbWVzc2FnZXMvbW9kaWZpZXIudHNcbi8qKlxuKiBNZXNzYWdlIHJlc3BvbnNpYmxlIGZvciBkZWxldGluZyBvdGhlciBtZXNzYWdlcy5cbiovXG52YXIgUmVtb3ZlTWVzc2FnZSA9IGNsYXNzIGV4dGVuZHMgQmFzZU1lc3NhZ2Uge1xuXHR0eXBlID0gXCJyZW1vdmVcIjtcblx0LyoqXG5cdCogVGhlIElEIG9mIHRoZSBtZXNzYWdlIHRvIHJlbW92ZS5cblx0Ki9cblx0aWQ7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdHN1cGVyKHtcblx0XHRcdC4uLmZpZWxkcyxcblx0XHRcdGNvbnRlbnQ6IFtdXG5cdFx0fSk7XG5cdFx0dGhpcy5pZCA9IGZpZWxkcy5pZDtcblx0fVxuXHRnZXQgX3ByaW50YWJsZUZpZWxkcygpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Li4uc3VwZXIuX3ByaW50YWJsZUZpZWxkcyxcblx0XHRcdGlkOiB0aGlzLmlkXG5cdFx0fTtcblx0fVxuXHRzdGF0aWMgaXNJbnN0YW5jZShvYmopIHtcblx0XHRyZXR1cm4gc3VwZXIuaXNJbnN0YW5jZShvYmopICYmIG9iai50eXBlID09PSBcInJlbW92ZVwiO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IFJlbW92ZU1lc3NhZ2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1vZGlmaWVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/modifier.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/system.js":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/system.js ***!
  \*********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SystemMessage: () => (/* binding */ SystemMessage),\n/* harmony export */   SystemMessageChunk: () => (/* binding */ SystemMessageChunk),\n/* harmony export */   isSystemMessage: () => (/* binding */ isSystemMessage),\n/* harmony export */   isSystemMessageChunk: () => (/* binding */ isSystemMessageChunk)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/base.js\");\n\n\n//#region src/messages/system.ts\n/**\n* Represents a system message in a conversation.\n*/\nvar SystemMessage = class SystemMessage extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseMessage {\n\tstatic lc_name() {\n\t\treturn \"SystemMessage\";\n\t}\n\ttype = \"system\";\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t}\n\t/**\n\t* Concatenates a string or another system message with the current system message.\n\t* @param chunk - The chunk to concatenate with the system message.\n\t* @returns A new system message with the concatenated content.\n\t*/\n\tconcat(chunk) {\n\t\tif (typeof chunk === \"string\") return new SystemMessage({\n\t\t\t...this,\n\t\t\tcontent: (0,_base_js__WEBPACK_IMPORTED_MODULE_0__.mergeContent)(this.content, chunk)\n\t\t});\n\t\tif (SystemMessage.isInstance(chunk)) return new SystemMessage({\n\t\t\t...this,\n\t\t\tadditional_kwargs: {\n\t\t\t\t...this.additional_kwargs,\n\t\t\t\t...chunk.additional_kwargs\n\t\t\t},\n\t\t\tresponse_metadata: {\n\t\t\t\t...this.response_metadata,\n\t\t\t\t...chunk.response_metadata\n\t\t\t},\n\t\t\tcontent: (0,_base_js__WEBPACK_IMPORTED_MODULE_0__.mergeContent)(this.content, chunk.content)\n\t\t});\n\t\tthrow new Error(\"Unexpected chunk type for system message\");\n\t}\n\tstatic isInstance(obj) {\n\t\treturn super.isInstance(obj) && obj.type === \"system\";\n\t}\n};\n/**\n* Represents a chunk of a system message, which can be concatenated with\n* other system message chunks.\n*/\nvar SystemMessageChunk = class extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseMessageChunk {\n\tstatic lc_name() {\n\t\treturn \"SystemMessageChunk\";\n\t}\n\ttype = \"system\";\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t}\n\tconcat(chunk) {\n\t\tconst Cls = this.constructor;\n\t\treturn new Cls({\n\t\t\tcontent: (0,_base_js__WEBPACK_IMPORTED_MODULE_0__.mergeContent)(this.content, chunk.content),\n\t\t\tadditional_kwargs: (0,_base_js__WEBPACK_IMPORTED_MODULE_0__._mergeDicts)(this.additional_kwargs, chunk.additional_kwargs),\n\t\t\tresponse_metadata: (0,_base_js__WEBPACK_IMPORTED_MODULE_0__._mergeDicts)(this.response_metadata, chunk.response_metadata),\n\t\t\tid: this.id ?? chunk.id\n\t\t});\n\t}\n\tstatic isInstance(obj) {\n\t\treturn super.isInstance(obj) && obj.type === \"system\";\n\t}\n};\n/**\n* @deprecated Use {@link SystemMessage.isInstance} instead\n*/\nfunction isSystemMessage(x) {\n\treturn x._getType() === \"system\";\n}\n/**\n* @deprecated Use {@link SystemMessageChunk.isInstance} instead\n*/\nfunction isSystemMessageChunk(x) {\n\treturn x._getType() === \"system\";\n}\n\n//#endregion\n\n//# sourceMappingURL=system.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL3N5c3RlbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFxRjs7QUFFckY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsaURBQVc7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxzREFBWTtBQUN4QixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osWUFBWSxzREFBWTtBQUN4QixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsc0RBQWdCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxzREFBWTtBQUN4QixzQkFBc0IscURBQVc7QUFDakMsc0JBQXNCLHFEQUFXO0FBQ2pDO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixnQ0FBZ0M7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixxQ0FBcUM7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDb0Y7QUFDcEYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvbWVzc2FnZXMvc3lzdGVtLmpzP2FmMGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzZU1lc3NhZ2UsIEJhc2VNZXNzYWdlQ2h1bmssIF9tZXJnZURpY3RzLCBtZXJnZUNvbnRlbnQgfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvbWVzc2FnZXMvc3lzdGVtLnRzXG4vKipcbiogUmVwcmVzZW50cyBhIHN5c3RlbSBtZXNzYWdlIGluIGEgY29udmVyc2F0aW9uLlxuKi9cbnZhciBTeXN0ZW1NZXNzYWdlID0gY2xhc3MgU3lzdGVtTWVzc2FnZSBleHRlbmRzIEJhc2VNZXNzYWdlIHtcblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiU3lzdGVtTWVzc2FnZVwiO1xuXHR9XG5cdHR5cGUgPSBcInN5c3RlbVwiO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRzdXBlcihmaWVsZHMpO1xuXHR9XG5cdC8qKlxuXHQqIENvbmNhdGVuYXRlcyBhIHN0cmluZyBvciBhbm90aGVyIHN5c3RlbSBtZXNzYWdlIHdpdGggdGhlIGN1cnJlbnQgc3lzdGVtIG1lc3NhZ2UuXG5cdCogQHBhcmFtIGNodW5rIC0gVGhlIGNodW5rIHRvIGNvbmNhdGVuYXRlIHdpdGggdGhlIHN5c3RlbSBtZXNzYWdlLlxuXHQqIEByZXR1cm5zIEEgbmV3IHN5c3RlbSBtZXNzYWdlIHdpdGggdGhlIGNvbmNhdGVuYXRlZCBjb250ZW50LlxuXHQqL1xuXHRjb25jYXQoY2h1bmspIHtcblx0XHRpZiAodHlwZW9mIGNodW5rID09PSBcInN0cmluZ1wiKSByZXR1cm4gbmV3IFN5c3RlbU1lc3NhZ2Uoe1xuXHRcdFx0Li4udGhpcyxcblx0XHRcdGNvbnRlbnQ6IG1lcmdlQ29udGVudCh0aGlzLmNvbnRlbnQsIGNodW5rKVxuXHRcdH0pO1xuXHRcdGlmIChTeXN0ZW1NZXNzYWdlLmlzSW5zdGFuY2UoY2h1bmspKSByZXR1cm4gbmV3IFN5c3RlbU1lc3NhZ2Uoe1xuXHRcdFx0Li4udGhpcyxcblx0XHRcdGFkZGl0aW9uYWxfa3dhcmdzOiB7XG5cdFx0XHRcdC4uLnRoaXMuYWRkaXRpb25hbF9rd2FyZ3MsXG5cdFx0XHRcdC4uLmNodW5rLmFkZGl0aW9uYWxfa3dhcmdzXG5cdFx0XHR9LFxuXHRcdFx0cmVzcG9uc2VfbWV0YWRhdGE6IHtcblx0XHRcdFx0Li4udGhpcy5yZXNwb25zZV9tZXRhZGF0YSxcblx0XHRcdFx0Li4uY2h1bmsucmVzcG9uc2VfbWV0YWRhdGFcblx0XHRcdH0sXG5cdFx0XHRjb250ZW50OiBtZXJnZUNvbnRlbnQodGhpcy5jb250ZW50LCBjaHVuay5jb250ZW50KVxuXHRcdH0pO1xuXHRcdHRocm93IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgY2h1bmsgdHlwZSBmb3Igc3lzdGVtIG1lc3NhZ2VcIik7XG5cdH1cblx0c3RhdGljIGlzSW5zdGFuY2Uob2JqKSB7XG5cdFx0cmV0dXJuIHN1cGVyLmlzSW5zdGFuY2Uob2JqKSAmJiBvYmoudHlwZSA9PT0gXCJzeXN0ZW1cIjtcblx0fVxufTtcbi8qKlxuKiBSZXByZXNlbnRzIGEgY2h1bmsgb2YgYSBzeXN0ZW0gbWVzc2FnZSwgd2hpY2ggY2FuIGJlIGNvbmNhdGVuYXRlZCB3aXRoXG4qIG90aGVyIHN5c3RlbSBtZXNzYWdlIGNodW5rcy5cbiovXG52YXIgU3lzdGVtTWVzc2FnZUNodW5rID0gY2xhc3MgZXh0ZW5kcyBCYXNlTWVzc2FnZUNodW5rIHtcblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiU3lzdGVtTWVzc2FnZUNodW5rXCI7XG5cdH1cblx0dHlwZSA9IFwic3lzdGVtXCI7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdHN1cGVyKGZpZWxkcyk7XG5cdH1cblx0Y29uY2F0KGNodW5rKSB7XG5cdFx0Y29uc3QgQ2xzID0gdGhpcy5jb25zdHJ1Y3Rvcjtcblx0XHRyZXR1cm4gbmV3IENscyh7XG5cdFx0XHRjb250ZW50OiBtZXJnZUNvbnRlbnQodGhpcy5jb250ZW50LCBjaHVuay5jb250ZW50KSxcblx0XHRcdGFkZGl0aW9uYWxfa3dhcmdzOiBfbWVyZ2VEaWN0cyh0aGlzLmFkZGl0aW9uYWxfa3dhcmdzLCBjaHVuay5hZGRpdGlvbmFsX2t3YXJncyksXG5cdFx0XHRyZXNwb25zZV9tZXRhZGF0YTogX21lcmdlRGljdHModGhpcy5yZXNwb25zZV9tZXRhZGF0YSwgY2h1bmsucmVzcG9uc2VfbWV0YWRhdGEpLFxuXHRcdFx0aWQ6IHRoaXMuaWQgPz8gY2h1bmsuaWRcblx0XHR9KTtcblx0fVxuXHRzdGF0aWMgaXNJbnN0YW5jZShvYmopIHtcblx0XHRyZXR1cm4gc3VwZXIuaXNJbnN0YW5jZShvYmopICYmIG9iai50eXBlID09PSBcInN5c3RlbVwiO1xuXHR9XG59O1xuLyoqXG4qIEBkZXByZWNhdGVkIFVzZSB7QGxpbmsgU3lzdGVtTWVzc2FnZS5pc0luc3RhbmNlfSBpbnN0ZWFkXG4qL1xuZnVuY3Rpb24gaXNTeXN0ZW1NZXNzYWdlKHgpIHtcblx0cmV0dXJuIHguX2dldFR5cGUoKSA9PT0gXCJzeXN0ZW1cIjtcbn1cbi8qKlxuKiBAZGVwcmVjYXRlZCBVc2Uge0BsaW5rIFN5c3RlbU1lc3NhZ2VDaHVuay5pc0luc3RhbmNlfSBpbnN0ZWFkXG4qL1xuZnVuY3Rpb24gaXNTeXN0ZW1NZXNzYWdlQ2h1bmsoeCkge1xuXHRyZXR1cm4geC5fZ2V0VHlwZSgpID09PSBcInN5c3RlbVwiO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IFN5c3RlbU1lc3NhZ2UsIFN5c3RlbU1lc3NhZ2VDaHVuaywgaXNTeXN0ZW1NZXNzYWdlLCBpc1N5c3RlbU1lc3NhZ2VDaHVuayB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3lzdGVtLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/system.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/tool.js":
/*!*******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/tool.js ***!
  \*******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ToolMessage: () => (/* binding */ ToolMessage),\n/* harmony export */   ToolMessageChunk: () => (/* binding */ ToolMessageChunk),\n/* harmony export */   defaultToolCallParser: () => (/* binding */ defaultToolCallParser),\n/* harmony export */   isDirectToolOutput: () => (/* binding */ isDirectToolOutput),\n/* harmony export */   isToolMessage: () => (/* binding */ isToolMessage),\n/* harmony export */   isToolMessageChunk: () => (/* binding */ isToolMessageChunk),\n/* harmony export */   tool_exports: () => (/* binding */ tool_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/base.js\");\n\n\n\n//#region src/messages/tool.ts\nvar tool_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(tool_exports, {\n\tToolMessage: () => ToolMessage,\n\tToolMessageChunk: () => ToolMessageChunk,\n\tdefaultToolCallParser: () => defaultToolCallParser,\n\tisDirectToolOutput: () => isDirectToolOutput,\n\tisToolMessage: () => isToolMessage,\n\tisToolMessageChunk: () => isToolMessageChunk\n});\nfunction isDirectToolOutput(x) {\n\treturn x != null && typeof x === \"object\" && \"lc_direct_tool_output\" in x && x.lc_direct_tool_output === true;\n}\n/**\n* Represents a tool message in a conversation.\n*/\nvar ToolMessage = class extends _base_js__WEBPACK_IMPORTED_MODULE_1__.BaseMessage {\n\tstatic lc_name() {\n\t\treturn \"ToolMessage\";\n\t}\n\tget lc_aliases() {\n\t\treturn { tool_call_id: \"tool_call_id\" };\n\t}\n\tlc_direct_tool_output = true;\n\ttype = \"tool\";\n\t/**\n\t* Status of the tool invocation.\n\t* @version 0.2.19\n\t*/\n\tstatus;\n\ttool_call_id;\n\tmetadata;\n\t/**\n\t* Artifact of the Tool execution which is not meant to be sent to the model.\n\t*\n\t* Should only be specified if it is different from the message content, e.g. if only\n\t* a subset of the full tool output is being passed as message content but the full\n\t* output is needed in other parts of the code.\n\t*/\n\tartifact;\n\tconstructor(fields, tool_call_id, name) {\n\t\tconst toolMessageFields = typeof fields === \"string\" || Array.isArray(fields) ? {\n\t\t\tcontent: fields,\n\t\t\tname,\n\t\t\ttool_call_id\n\t\t} : fields;\n\t\tsuper(toolMessageFields);\n\t\tthis.tool_call_id = toolMessageFields.tool_call_id;\n\t\tthis.artifact = toolMessageFields.artifact;\n\t\tthis.status = toolMessageFields.status;\n\t\tthis.metadata = toolMessageFields.metadata;\n\t}\n\tstatic isInstance(message) {\n\t\treturn super.isInstance(message) && message.type === \"tool\";\n\t}\n\tget _printableFields() {\n\t\treturn {\n\t\t\t...super._printableFields,\n\t\t\ttool_call_id: this.tool_call_id,\n\t\t\tartifact: this.artifact\n\t\t};\n\t}\n};\n/**\n* Represents a chunk of a tool message, which can be concatenated\n* with other tool message chunks.\n*/\nvar ToolMessageChunk = class extends _base_js__WEBPACK_IMPORTED_MODULE_1__.BaseMessageChunk {\n\ttype = \"tool\";\n\ttool_call_id;\n\t/**\n\t* Status of the tool invocation.\n\t* @version 0.2.19\n\t*/\n\tstatus;\n\t/**\n\t* Artifact of the Tool execution which is not meant to be sent to the model.\n\t*\n\t* Should only be specified if it is different from the message content, e.g. if only\n\t* a subset of the full tool output is being passed as message content but the full\n\t* output is needed in other parts of the code.\n\t*/\n\tartifact;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.tool_call_id = fields.tool_call_id;\n\t\tthis.artifact = fields.artifact;\n\t\tthis.status = fields.status;\n\t}\n\tstatic lc_name() {\n\t\treturn \"ToolMessageChunk\";\n\t}\n\tconcat(chunk) {\n\t\tconst Cls = this.constructor;\n\t\treturn new Cls({\n\t\t\tcontent: (0,_base_js__WEBPACK_IMPORTED_MODULE_1__.mergeContent)(this.content, chunk.content),\n\t\t\tadditional_kwargs: (0,_base_js__WEBPACK_IMPORTED_MODULE_1__._mergeDicts)(this.additional_kwargs, chunk.additional_kwargs),\n\t\t\tresponse_metadata: (0,_base_js__WEBPACK_IMPORTED_MODULE_1__._mergeDicts)(this.response_metadata, chunk.response_metadata),\n\t\t\tartifact: (0,_base_js__WEBPACK_IMPORTED_MODULE_1__._mergeObj)(this.artifact, chunk.artifact),\n\t\t\ttool_call_id: this.tool_call_id,\n\t\t\tid: this.id ?? chunk.id,\n\t\t\tstatus: (0,_base_js__WEBPACK_IMPORTED_MODULE_1__._mergeStatus)(this.status, chunk.status)\n\t\t});\n\t}\n\tget _printableFields() {\n\t\treturn {\n\t\t\t...super._printableFields,\n\t\t\ttool_call_id: this.tool_call_id,\n\t\t\tartifact: this.artifact\n\t\t};\n\t}\n};\nfunction defaultToolCallParser(rawToolCalls) {\n\tconst toolCalls = [];\n\tconst invalidToolCalls = [];\n\tfor (const toolCall of rawToolCalls) if (!toolCall.function) continue;\n\telse {\n\t\tconst functionName = toolCall.function.name;\n\t\ttry {\n\t\t\tconst functionArgs = JSON.parse(toolCall.function.arguments);\n\t\t\ttoolCalls.push({\n\t\t\t\tname: functionName || \"\",\n\t\t\t\targs: functionArgs || {},\n\t\t\t\tid: toolCall.id\n\t\t\t});\n\t\t} catch {\n\t\t\tinvalidToolCalls.push({\n\t\t\t\tname: functionName,\n\t\t\t\targs: toolCall.function.arguments,\n\t\t\t\tid: toolCall.id,\n\t\t\t\terror: \"Malformed args.\"\n\t\t\t});\n\t\t}\n\t}\n\treturn [toolCalls, invalidToolCalls];\n}\n/**\n* @deprecated Use {@link ToolMessage.isInstance} instead\n*/\nfunction isToolMessage(x) {\n\treturn typeof x === \"object\" && x !== null && \"getType\" in x && typeof x.getType === \"function\" && x.getType() === \"tool\";\n}\n/**\n* @deprecated Use {@link ToolMessageChunk.isInstance} instead\n*/\nfunction isToolMessageChunk(x) {\n\treturn x._getType() === \"tool\";\n}\n\n//#endregion\n\n//# sourceMappingURL=tool.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL3Rvb2wuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQTJEO0FBQ21EOztBQUU5RztBQUNBO0FBQ0Esc0VBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGlEQUFXO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLHNEQUFnQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHNEQUFZO0FBQ3hCLHNCQUFzQixxREFBVztBQUNqQyxzQkFBc0IscURBQVc7QUFDakMsYUFBYSxtREFBUztBQUN0QjtBQUNBO0FBQ0EsV0FBVyxzREFBWTtBQUN2QixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQSxJQUFJO0FBQ0osSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw4QkFBOEI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixtQ0FBbUM7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDcUk7QUFDckkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvbWVzc2FnZXMvdG9vbC5qcz9mYTBlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fZXhwb3J0IH0gZnJvbSBcIi4uL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuanNcIjtcbmltcG9ydCB7IEJhc2VNZXNzYWdlLCBCYXNlTWVzc2FnZUNodW5rLCBfbWVyZ2VEaWN0cywgX21lcmdlT2JqLCBfbWVyZ2VTdGF0dXMsIG1lcmdlQ29udGVudCB9IGZyb20gXCIuL2Jhc2UuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9tZXNzYWdlcy90b29sLnRzXG52YXIgdG9vbF9leHBvcnRzID0ge307XG5fX2V4cG9ydCh0b29sX2V4cG9ydHMsIHtcblx0VG9vbE1lc3NhZ2U6ICgpID0+IFRvb2xNZXNzYWdlLFxuXHRUb29sTWVzc2FnZUNodW5rOiAoKSA9PiBUb29sTWVzc2FnZUNodW5rLFxuXHRkZWZhdWx0VG9vbENhbGxQYXJzZXI6ICgpID0+IGRlZmF1bHRUb29sQ2FsbFBhcnNlcixcblx0aXNEaXJlY3RUb29sT3V0cHV0OiAoKSA9PiBpc0RpcmVjdFRvb2xPdXRwdXQsXG5cdGlzVG9vbE1lc3NhZ2U6ICgpID0+IGlzVG9vbE1lc3NhZ2UsXG5cdGlzVG9vbE1lc3NhZ2VDaHVuazogKCkgPT4gaXNUb29sTWVzc2FnZUNodW5rXG59KTtcbmZ1bmN0aW9uIGlzRGlyZWN0VG9vbE91dHB1dCh4KSB7XG5cdHJldHVybiB4ICE9IG51bGwgJiYgdHlwZW9mIHggPT09IFwib2JqZWN0XCIgJiYgXCJsY19kaXJlY3RfdG9vbF9vdXRwdXRcIiBpbiB4ICYmIHgubGNfZGlyZWN0X3Rvb2xfb3V0cHV0ID09PSB0cnVlO1xufVxuLyoqXG4qIFJlcHJlc2VudHMgYSB0b29sIG1lc3NhZ2UgaW4gYSBjb252ZXJzYXRpb24uXG4qL1xudmFyIFRvb2xNZXNzYWdlID0gY2xhc3MgZXh0ZW5kcyBCYXNlTWVzc2FnZSB7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIlRvb2xNZXNzYWdlXCI7XG5cdH1cblx0Z2V0IGxjX2FsaWFzZXMoKSB7XG5cdFx0cmV0dXJuIHsgdG9vbF9jYWxsX2lkOiBcInRvb2xfY2FsbF9pZFwiIH07XG5cdH1cblx0bGNfZGlyZWN0X3Rvb2xfb3V0cHV0ID0gdHJ1ZTtcblx0dHlwZSA9IFwidG9vbFwiO1xuXHQvKipcblx0KiBTdGF0dXMgb2YgdGhlIHRvb2wgaW52b2NhdGlvbi5cblx0KiBAdmVyc2lvbiAwLjIuMTlcblx0Ki9cblx0c3RhdHVzO1xuXHR0b29sX2NhbGxfaWQ7XG5cdG1ldGFkYXRhO1xuXHQvKipcblx0KiBBcnRpZmFjdCBvZiB0aGUgVG9vbCBleGVjdXRpb24gd2hpY2ggaXMgbm90IG1lYW50IHRvIGJlIHNlbnQgdG8gdGhlIG1vZGVsLlxuXHQqXG5cdCogU2hvdWxkIG9ubHkgYmUgc3BlY2lmaWVkIGlmIGl0IGlzIGRpZmZlcmVudCBmcm9tIHRoZSBtZXNzYWdlIGNvbnRlbnQsIGUuZy4gaWYgb25seVxuXHQqIGEgc3Vic2V0IG9mIHRoZSBmdWxsIHRvb2wgb3V0cHV0IGlzIGJlaW5nIHBhc3NlZCBhcyBtZXNzYWdlIGNvbnRlbnQgYnV0IHRoZSBmdWxsXG5cdCogb3V0cHV0IGlzIG5lZWRlZCBpbiBvdGhlciBwYXJ0cyBvZiB0aGUgY29kZS5cblx0Ki9cblx0YXJ0aWZhY3Q7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcywgdG9vbF9jYWxsX2lkLCBuYW1lKSB7XG5cdFx0Y29uc3QgdG9vbE1lc3NhZ2VGaWVsZHMgPSB0eXBlb2YgZmllbGRzID09PSBcInN0cmluZ1wiIHx8IEFycmF5LmlzQXJyYXkoZmllbGRzKSA/IHtcblx0XHRcdGNvbnRlbnQ6IGZpZWxkcyxcblx0XHRcdG5hbWUsXG5cdFx0XHR0b29sX2NhbGxfaWRcblx0XHR9IDogZmllbGRzO1xuXHRcdHN1cGVyKHRvb2xNZXNzYWdlRmllbGRzKTtcblx0XHR0aGlzLnRvb2xfY2FsbF9pZCA9IHRvb2xNZXNzYWdlRmllbGRzLnRvb2xfY2FsbF9pZDtcblx0XHR0aGlzLmFydGlmYWN0ID0gdG9vbE1lc3NhZ2VGaWVsZHMuYXJ0aWZhY3Q7XG5cdFx0dGhpcy5zdGF0dXMgPSB0b29sTWVzc2FnZUZpZWxkcy5zdGF0dXM7XG5cdFx0dGhpcy5tZXRhZGF0YSA9IHRvb2xNZXNzYWdlRmllbGRzLm1ldGFkYXRhO1xuXHR9XG5cdHN0YXRpYyBpc0luc3RhbmNlKG1lc3NhZ2UpIHtcblx0XHRyZXR1cm4gc3VwZXIuaXNJbnN0YW5jZShtZXNzYWdlKSAmJiBtZXNzYWdlLnR5cGUgPT09IFwidG9vbFwiO1xuXHR9XG5cdGdldCBfcHJpbnRhYmxlRmllbGRzKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHQuLi5zdXBlci5fcHJpbnRhYmxlRmllbGRzLFxuXHRcdFx0dG9vbF9jYWxsX2lkOiB0aGlzLnRvb2xfY2FsbF9pZCxcblx0XHRcdGFydGlmYWN0OiB0aGlzLmFydGlmYWN0XG5cdFx0fTtcblx0fVxufTtcbi8qKlxuKiBSZXByZXNlbnRzIGEgY2h1bmsgb2YgYSB0b29sIG1lc3NhZ2UsIHdoaWNoIGNhbiBiZSBjb25jYXRlbmF0ZWRcbiogd2l0aCBvdGhlciB0b29sIG1lc3NhZ2UgY2h1bmtzLlxuKi9cbnZhciBUb29sTWVzc2FnZUNodW5rID0gY2xhc3MgZXh0ZW5kcyBCYXNlTWVzc2FnZUNodW5rIHtcblx0dHlwZSA9IFwidG9vbFwiO1xuXHR0b29sX2NhbGxfaWQ7XG5cdC8qKlxuXHQqIFN0YXR1cyBvZiB0aGUgdG9vbCBpbnZvY2F0aW9uLlxuXHQqIEB2ZXJzaW9uIDAuMi4xOVxuXHQqL1xuXHRzdGF0dXM7XG5cdC8qKlxuXHQqIEFydGlmYWN0IG9mIHRoZSBUb29sIGV4ZWN1dGlvbiB3aGljaCBpcyBub3QgbWVhbnQgdG8gYmUgc2VudCB0byB0aGUgbW9kZWwuXG5cdCpcblx0KiBTaG91bGQgb25seSBiZSBzcGVjaWZpZWQgaWYgaXQgaXMgZGlmZmVyZW50IGZyb20gdGhlIG1lc3NhZ2UgY29udGVudCwgZS5nLiBpZiBvbmx5XG5cdCogYSBzdWJzZXQgb2YgdGhlIGZ1bGwgdG9vbCBvdXRwdXQgaXMgYmVpbmcgcGFzc2VkIGFzIG1lc3NhZ2UgY29udGVudCBidXQgdGhlIGZ1bGxcblx0KiBvdXRwdXQgaXMgbmVlZGVkIGluIG90aGVyIHBhcnRzIG9mIHRoZSBjb2RlLlxuXHQqL1xuXHRhcnRpZmFjdDtcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLnRvb2xfY2FsbF9pZCA9IGZpZWxkcy50b29sX2NhbGxfaWQ7XG5cdFx0dGhpcy5hcnRpZmFjdCA9IGZpZWxkcy5hcnRpZmFjdDtcblx0XHR0aGlzLnN0YXR1cyA9IGZpZWxkcy5zdGF0dXM7XG5cdH1cblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiVG9vbE1lc3NhZ2VDaHVua1wiO1xuXHR9XG5cdGNvbmNhdChjaHVuaykge1xuXHRcdGNvbnN0IENscyA9IHRoaXMuY29uc3RydWN0b3I7XG5cdFx0cmV0dXJuIG5ldyBDbHMoe1xuXHRcdFx0Y29udGVudDogbWVyZ2VDb250ZW50KHRoaXMuY29udGVudCwgY2h1bmsuY29udGVudCksXG5cdFx0XHRhZGRpdGlvbmFsX2t3YXJnczogX21lcmdlRGljdHModGhpcy5hZGRpdGlvbmFsX2t3YXJncywgY2h1bmsuYWRkaXRpb25hbF9rd2FyZ3MpLFxuXHRcdFx0cmVzcG9uc2VfbWV0YWRhdGE6IF9tZXJnZURpY3RzKHRoaXMucmVzcG9uc2VfbWV0YWRhdGEsIGNodW5rLnJlc3BvbnNlX21ldGFkYXRhKSxcblx0XHRcdGFydGlmYWN0OiBfbWVyZ2VPYmoodGhpcy5hcnRpZmFjdCwgY2h1bmsuYXJ0aWZhY3QpLFxuXHRcdFx0dG9vbF9jYWxsX2lkOiB0aGlzLnRvb2xfY2FsbF9pZCxcblx0XHRcdGlkOiB0aGlzLmlkID8/IGNodW5rLmlkLFxuXHRcdFx0c3RhdHVzOiBfbWVyZ2VTdGF0dXModGhpcy5zdGF0dXMsIGNodW5rLnN0YXR1cylcblx0XHR9KTtcblx0fVxuXHRnZXQgX3ByaW50YWJsZUZpZWxkcygpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Li4uc3VwZXIuX3ByaW50YWJsZUZpZWxkcyxcblx0XHRcdHRvb2xfY2FsbF9pZDogdGhpcy50b29sX2NhbGxfaWQsXG5cdFx0XHRhcnRpZmFjdDogdGhpcy5hcnRpZmFjdFxuXHRcdH07XG5cdH1cbn07XG5mdW5jdGlvbiBkZWZhdWx0VG9vbENhbGxQYXJzZXIocmF3VG9vbENhbGxzKSB7XG5cdGNvbnN0IHRvb2xDYWxscyA9IFtdO1xuXHRjb25zdCBpbnZhbGlkVG9vbENhbGxzID0gW107XG5cdGZvciAoY29uc3QgdG9vbENhbGwgb2YgcmF3VG9vbENhbGxzKSBpZiAoIXRvb2xDYWxsLmZ1bmN0aW9uKSBjb250aW51ZTtcblx0ZWxzZSB7XG5cdFx0Y29uc3QgZnVuY3Rpb25OYW1lID0gdG9vbENhbGwuZnVuY3Rpb24ubmFtZTtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgZnVuY3Rpb25BcmdzID0gSlNPTi5wYXJzZSh0b29sQ2FsbC5mdW5jdGlvbi5hcmd1bWVudHMpO1xuXHRcdFx0dG9vbENhbGxzLnB1c2goe1xuXHRcdFx0XHRuYW1lOiBmdW5jdGlvbk5hbWUgfHwgXCJcIixcblx0XHRcdFx0YXJnczogZnVuY3Rpb25BcmdzIHx8IHt9LFxuXHRcdFx0XHRpZDogdG9vbENhbGwuaWRcblx0XHRcdH0pO1xuXHRcdH0gY2F0Y2gge1xuXHRcdFx0aW52YWxpZFRvb2xDYWxscy5wdXNoKHtcblx0XHRcdFx0bmFtZTogZnVuY3Rpb25OYW1lLFxuXHRcdFx0XHRhcmdzOiB0b29sQ2FsbC5mdW5jdGlvbi5hcmd1bWVudHMsXG5cdFx0XHRcdGlkOiB0b29sQ2FsbC5pZCxcblx0XHRcdFx0ZXJyb3I6IFwiTWFsZm9ybWVkIGFyZ3MuXCJcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gW3Rvb2xDYWxscywgaW52YWxpZFRvb2xDYWxsc107XG59XG4vKipcbiogQGRlcHJlY2F0ZWQgVXNlIHtAbGluayBUb29sTWVzc2FnZS5pc0luc3RhbmNlfSBpbnN0ZWFkXG4qL1xuZnVuY3Rpb24gaXNUb29sTWVzc2FnZSh4KSB7XG5cdHJldHVybiB0eXBlb2YgeCA9PT0gXCJvYmplY3RcIiAmJiB4ICE9PSBudWxsICYmIFwiZ2V0VHlwZVwiIGluIHggJiYgdHlwZW9mIHguZ2V0VHlwZSA9PT0gXCJmdW5jdGlvblwiICYmIHguZ2V0VHlwZSgpID09PSBcInRvb2xcIjtcbn1cbi8qKlxuKiBAZGVwcmVjYXRlZCBVc2Uge0BsaW5rIFRvb2xNZXNzYWdlQ2h1bmsuaXNJbnN0YW5jZX0gaW5zdGVhZFxuKi9cbmZ1bmN0aW9uIGlzVG9vbE1lc3NhZ2VDaHVuayh4KSB7XG5cdHJldHVybiB4Ll9nZXRUeXBlKCkgPT09IFwidG9vbFwiO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IFRvb2xNZXNzYWdlLCBUb29sTWVzc2FnZUNodW5rLCBkZWZhdWx0VG9vbENhbGxQYXJzZXIsIGlzRGlyZWN0VG9vbE91dHB1dCwgaXNUb29sTWVzc2FnZSwgaXNUb29sTWVzc2FnZUNodW5rLCB0b29sX2V4cG9ydHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRvb2wuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/tool.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/transformers.js":
/*!***************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/transformers.js ***!
  \***************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   defaultTextSplitter: () => (/* binding */ defaultTextSplitter),\n/* harmony export */   filterMessages: () => (/* binding */ filterMessages),\n/* harmony export */   mergeMessageRuns: () => (/* binding */ mergeMessageRuns),\n/* harmony export */   trimMessages: () => (/* binding */ trimMessages)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/base.js\");\n/* harmony import */ var _tool_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./tool.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/tool.js\");\n/* harmony import */ var _chat_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chat.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/chat.js\");\n/* harmony import */ var _function_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./function.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/function.js\");\n/* harmony import */ var _human_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./human.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/human.js\");\n/* harmony import */ var _modifier_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./modifier.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/modifier.js\");\n/* harmony import */ var _system_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./system.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/system.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/utils.js\");\n/* harmony import */ var _ai_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ai.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/ai.js\");\n/* harmony import */ var _runnables_base_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../runnables/base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/base.js\");\n\n\n\n\n\n\n\n\n\n\n\n//#region src/messages/transformers.ts\nconst _isMessageType = (msg, types) => {\n\tconst typesAsStrings = [...new Set(types?.map((t) => {\n\t\tif (typeof t === \"string\") return t;\n\t\tconst instantiatedMsgClass = new t({});\n\t\tif (!(\"getType\" in instantiatedMsgClass) || typeof instantiatedMsgClass.getType !== \"function\") throw new Error(\"Invalid type provided.\");\n\t\treturn instantiatedMsgClass.getType();\n\t}))];\n\tconst msgType = msg.getType();\n\treturn typesAsStrings.some((t) => t === msgType);\n};\nfunction filterMessages(messagesOrOptions, options) {\n\tif (Array.isArray(messagesOrOptions)) return _filterMessages(messagesOrOptions, options);\n\treturn _runnables_base_js__WEBPACK_IMPORTED_MODULE_9__.RunnableLambda.from((input) => {\n\t\treturn _filterMessages(input, messagesOrOptions);\n\t});\n}\nfunction _filterMessages(messages, options = {}) {\n\tconst { includeNames, excludeNames, includeTypes, excludeTypes, includeIds, excludeIds } = options;\n\tconst filtered = [];\n\tfor (const msg of messages) {\n\t\tif (excludeNames && msg.name && excludeNames.includes(msg.name)) continue;\n\t\telse if (excludeTypes && _isMessageType(msg, excludeTypes)) continue;\n\t\telse if (excludeIds && msg.id && excludeIds.includes(msg.id)) continue;\n\t\tif (!(includeTypes || includeIds || includeNames)) filtered.push(msg);\n\t\telse if (includeNames && msg.name && includeNames.some((iName) => iName === msg.name)) filtered.push(msg);\n\t\telse if (includeTypes && _isMessageType(msg, includeTypes)) filtered.push(msg);\n\t\telse if (includeIds && msg.id && includeIds.some((id) => id === msg.id)) filtered.push(msg);\n\t}\n\treturn filtered;\n}\nfunction mergeMessageRuns(messages) {\n\tif (Array.isArray(messages)) return _mergeMessageRuns(messages);\n\treturn _runnables_base_js__WEBPACK_IMPORTED_MODULE_9__.RunnableLambda.from(_mergeMessageRuns);\n}\nfunction _mergeMessageRuns(messages) {\n\tif (!messages.length) return [];\n\tconst merged = [];\n\tfor (const msg of messages) {\n\t\tconst curr = msg;\n\t\tconst last = merged.pop();\n\t\tif (!last) merged.push(curr);\n\t\telse if (curr.getType() === \"tool\" || !(curr.getType() === last.getType())) merged.push(last, curr);\n\t\telse {\n\t\t\tconst lastChunk = (0,_utils_js__WEBPACK_IMPORTED_MODULE_7__.convertToChunk)(last);\n\t\t\tconst currChunk = (0,_utils_js__WEBPACK_IMPORTED_MODULE_7__.convertToChunk)(curr);\n\t\t\tconst mergedChunks = lastChunk.concat(currChunk);\n\t\t\tif (typeof lastChunk.content === \"string\" && typeof currChunk.content === \"string\") mergedChunks.content = `${lastChunk.content}\\n${currChunk.content}`;\n\t\t\tmerged.push(_chunkToMsg(mergedChunks));\n\t\t}\n\t}\n\treturn merged;\n}\nfunction trimMessages(messagesOrOptions, options) {\n\tif (Array.isArray(messagesOrOptions)) {\n\t\tconst messages = messagesOrOptions;\n\t\tif (!options) throw new Error(\"Options parameter is required when providing messages.\");\n\t\treturn _trimMessagesHelper(messages, options);\n\t} else {\n\t\tconst trimmerOptions = messagesOrOptions;\n\t\treturn _runnables_base_js__WEBPACK_IMPORTED_MODULE_9__.RunnableLambda.from((input) => _trimMessagesHelper(input, trimmerOptions)).withConfig({ runName: \"trim_messages\" });\n\t}\n}\nasync function _trimMessagesHelper(messages, options) {\n\tconst { maxTokens, tokenCounter, strategy = \"last\", allowPartial = false, endOn, startOn, includeSystem = false, textSplitter } = options;\n\tif (startOn && strategy === \"first\") throw new Error(\"`startOn` should only be specified if `strategy` is 'last'.\");\n\tif (includeSystem && strategy === \"first\") throw new Error(\"`includeSystem` should only be specified if `strategy` is 'last'.\");\n\tlet listTokenCounter;\n\tif (\"getNumTokens\" in tokenCounter) listTokenCounter = async (msgs) => {\n\t\tconst tokenCounts = await Promise.all(msgs.map((msg) => tokenCounter.getNumTokens(msg.content)));\n\t\treturn tokenCounts.reduce((sum, count) => sum + count, 0);\n\t};\n\telse listTokenCounter = async (msgs) => tokenCounter(msgs);\n\tlet textSplitterFunc = defaultTextSplitter;\n\tif (textSplitter) if (\"splitText\" in textSplitter) textSplitterFunc = textSplitter.splitText;\n\telse textSplitterFunc = async (text) => textSplitter(text);\n\tif (strategy === \"first\") return _firstMaxTokens(messages, {\n\t\tmaxTokens,\n\t\ttokenCounter: listTokenCounter,\n\t\ttextSplitter: textSplitterFunc,\n\t\tpartialStrategy: allowPartial ? \"first\" : void 0,\n\t\tendOn\n\t});\n\telse if (strategy === \"last\") return _lastMaxTokens(messages, {\n\t\tmaxTokens,\n\t\ttokenCounter: listTokenCounter,\n\t\ttextSplitter: textSplitterFunc,\n\t\tallowPartial,\n\t\tincludeSystem,\n\t\tstartOn,\n\t\tendOn\n\t});\n\telse throw new Error(`Unrecognized strategy: '${strategy}'. Must be one of 'first' or 'last'.`);\n}\nasync function _firstMaxTokens(messages, options) {\n\tconst { maxTokens, tokenCounter, textSplitter, partialStrategy, endOn } = options;\n\tlet messagesCopy = [...messages];\n\tlet idx = 0;\n\tfor (let i = 0; i < messagesCopy.length; i += 1) {\n\t\tconst remainingMessages = i > 0 ? messagesCopy.slice(0, -i) : messagesCopy;\n\t\tif (await tokenCounter(remainingMessages) <= maxTokens) {\n\t\t\tidx = messagesCopy.length - i;\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (idx < messagesCopy.length && partialStrategy) {\n\t\tlet includedPartial = false;\n\t\tif (Array.isArray(messagesCopy[idx].content)) {\n\t\t\tconst excluded = messagesCopy[idx];\n\t\t\tif (typeof excluded.content === \"string\") throw new Error(\"Expected content to be an array.\");\n\t\t\tconst numBlock = excluded.content.length;\n\t\t\tconst reversedContent = partialStrategy === \"last\" ? [...excluded.content].reverse() : excluded.content;\n\t\t\tfor (let i = 1; i <= numBlock; i += 1) {\n\t\t\t\tconst partialContent = partialStrategy === \"first\" ? reversedContent.slice(0, i) : reversedContent.slice(-i);\n\t\t\t\tconst fields = Object.fromEntries(Object.entries(excluded).filter(([k]) => k !== \"type\" && !k.startsWith(\"lc_\")));\n\t\t\t\tconst updatedMessage = _switchTypeToMessage(excluded.getType(), {\n\t\t\t\t\t...fields,\n\t\t\t\t\tcontent: partialContent\n\t\t\t\t});\n\t\t\t\tconst slicedMessages = [...messagesCopy.slice(0, idx), updatedMessage];\n\t\t\t\tif (await tokenCounter(slicedMessages) <= maxTokens) {\n\t\t\t\t\tmessagesCopy = slicedMessages;\n\t\t\t\t\tidx += 1;\n\t\t\t\t\tincludedPartial = true;\n\t\t\t\t} else break;\n\t\t\t}\n\t\t\tif (includedPartial && partialStrategy === \"last\") excluded.content = [...reversedContent].reverse();\n\t\t}\n\t\tif (!includedPartial) {\n\t\t\tconst excluded = messagesCopy[idx];\n\t\t\tlet text;\n\t\t\tif (Array.isArray(excluded.content) && excluded.content.some((block) => typeof block === \"string\" || block.type === \"text\")) {\n\t\t\t\tconst textBlock = excluded.content.find((block) => block.type === \"text\" && block.text);\n\t\t\t\ttext = textBlock?.text;\n\t\t\t} else if (typeof excluded.content === \"string\") text = excluded.content;\n\t\t\tif (text) {\n\t\t\t\tconst splitTexts = await textSplitter(text);\n\t\t\t\tconst numSplits = splitTexts.length;\n\t\t\t\tif (partialStrategy === \"last\") splitTexts.reverse();\n\t\t\t\tfor (let _ = 0; _ < numSplits - 1; _ += 1) {\n\t\t\t\t\tsplitTexts.pop();\n\t\t\t\t\texcluded.content = splitTexts.join(\"\");\n\t\t\t\t\tif (await tokenCounter([...messagesCopy.slice(0, idx), excluded]) <= maxTokens) {\n\t\t\t\t\t\tif (partialStrategy === \"last\") excluded.content = [...splitTexts].reverse().join(\"\");\n\t\t\t\t\t\tmessagesCopy = [...messagesCopy.slice(0, idx), excluded];\n\t\t\t\t\t\tidx += 1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tif (endOn) {\n\t\tconst endOnArr = Array.isArray(endOn) ? endOn : [endOn];\n\t\twhile (idx > 0 && !_isMessageType(messagesCopy[idx - 1], endOnArr)) idx -= 1;\n\t}\n\treturn messagesCopy.slice(0, idx);\n}\nasync function _lastMaxTokens(messages, options) {\n\tconst { allowPartial = false, includeSystem = false, endOn, startOn,...rest } = options;\n\tlet messagesCopy = messages.map((message) => {\n\t\tconst fields = Object.fromEntries(Object.entries(message).filter(([k]) => k !== \"type\" && !k.startsWith(\"lc_\")));\n\t\treturn _switchTypeToMessage(message.getType(), fields, (0,_base_js__WEBPACK_IMPORTED_MODULE_0__.isBaseMessageChunk)(message));\n\t});\n\tif (endOn) {\n\t\tconst endOnArr = Array.isArray(endOn) ? endOn : [endOn];\n\t\twhile (messagesCopy.length > 0 && !_isMessageType(messagesCopy[messagesCopy.length - 1], endOnArr)) messagesCopy = messagesCopy.slice(0, -1);\n\t}\n\tconst swappedSystem = includeSystem && messagesCopy[0]?.getType() === \"system\";\n\tlet reversed_ = swappedSystem ? messagesCopy.slice(0, 1).concat(messagesCopy.slice(1).reverse()) : messagesCopy.reverse();\n\treversed_ = await _firstMaxTokens(reversed_, {\n\t\t...rest,\n\t\tpartialStrategy: allowPartial ? \"last\" : void 0,\n\t\tendOn: startOn\n\t});\n\tif (swappedSystem) return [reversed_[0], ...reversed_.slice(1).reverse()];\n\telse return reversed_.reverse();\n}\nconst _MSG_CHUNK_MAP = {\n\thuman: {\n\t\tmessage: _human_js__WEBPACK_IMPORTED_MODULE_4__.HumanMessage,\n\t\tmessageChunk: _human_js__WEBPACK_IMPORTED_MODULE_4__.HumanMessageChunk\n\t},\n\tai: {\n\t\tmessage: _ai_js__WEBPACK_IMPORTED_MODULE_8__.AIMessage,\n\t\tmessageChunk: _ai_js__WEBPACK_IMPORTED_MODULE_8__.AIMessageChunk\n\t},\n\tsystem: {\n\t\tmessage: _system_js__WEBPACK_IMPORTED_MODULE_6__.SystemMessage,\n\t\tmessageChunk: _system_js__WEBPACK_IMPORTED_MODULE_6__.SystemMessageChunk\n\t},\n\tdeveloper: {\n\t\tmessage: _system_js__WEBPACK_IMPORTED_MODULE_6__.SystemMessage,\n\t\tmessageChunk: _system_js__WEBPACK_IMPORTED_MODULE_6__.SystemMessageChunk\n\t},\n\ttool: {\n\t\tmessage: _tool_js__WEBPACK_IMPORTED_MODULE_1__.ToolMessage,\n\t\tmessageChunk: _tool_js__WEBPACK_IMPORTED_MODULE_1__.ToolMessageChunk\n\t},\n\tfunction: {\n\t\tmessage: _function_js__WEBPACK_IMPORTED_MODULE_3__.FunctionMessage,\n\t\tmessageChunk: _function_js__WEBPACK_IMPORTED_MODULE_3__.FunctionMessageChunk\n\t},\n\tgeneric: {\n\t\tmessage: _chat_js__WEBPACK_IMPORTED_MODULE_2__.ChatMessage,\n\t\tmessageChunk: _chat_js__WEBPACK_IMPORTED_MODULE_2__.ChatMessageChunk\n\t},\n\tremove: {\n\t\tmessage: _modifier_js__WEBPACK_IMPORTED_MODULE_5__.RemoveMessage,\n\t\tmessageChunk: _modifier_js__WEBPACK_IMPORTED_MODULE_5__.RemoveMessage\n\t}\n};\nfunction _switchTypeToMessage(messageType, fields, returnChunk) {\n\tlet chunk;\n\tlet msg;\n\tswitch (messageType) {\n\t\tcase \"human\":\n\t\t\tif (returnChunk) chunk = new _human_js__WEBPACK_IMPORTED_MODULE_4__.HumanMessageChunk(fields);\n\t\t\telse msg = new _human_js__WEBPACK_IMPORTED_MODULE_4__.HumanMessage(fields);\n\t\t\tbreak;\n\t\tcase \"ai\":\n\t\t\tif (returnChunk) {\n\t\t\t\tlet aiChunkFields = { ...fields };\n\t\t\t\tif (\"tool_calls\" in aiChunkFields) aiChunkFields = {\n\t\t\t\t\t...aiChunkFields,\n\t\t\t\t\ttool_call_chunks: aiChunkFields.tool_calls?.map((tc) => ({\n\t\t\t\t\t\t...tc,\n\t\t\t\t\t\ttype: \"tool_call_chunk\",\n\t\t\t\t\t\tindex: void 0,\n\t\t\t\t\t\targs: JSON.stringify(tc.args)\n\t\t\t\t\t}))\n\t\t\t\t};\n\t\t\t\tchunk = new _ai_js__WEBPACK_IMPORTED_MODULE_8__.AIMessageChunk(aiChunkFields);\n\t\t\t} else msg = new _ai_js__WEBPACK_IMPORTED_MODULE_8__.AIMessage(fields);\n\t\t\tbreak;\n\t\tcase \"system\":\n\t\t\tif (returnChunk) chunk = new _system_js__WEBPACK_IMPORTED_MODULE_6__.SystemMessageChunk(fields);\n\t\t\telse msg = new _system_js__WEBPACK_IMPORTED_MODULE_6__.SystemMessage(fields);\n\t\t\tbreak;\n\t\tcase \"developer\":\n\t\t\tif (returnChunk) chunk = new _system_js__WEBPACK_IMPORTED_MODULE_6__.SystemMessageChunk({\n\t\t\t\t...fields,\n\t\t\t\tadditional_kwargs: {\n\t\t\t\t\t...fields.additional_kwargs,\n\t\t\t\t\t__openai_role__: \"developer\"\n\t\t\t\t}\n\t\t\t});\n\t\t\telse msg = new _system_js__WEBPACK_IMPORTED_MODULE_6__.SystemMessage({\n\t\t\t\t...fields,\n\t\t\t\tadditional_kwargs: {\n\t\t\t\t\t...fields.additional_kwargs,\n\t\t\t\t\t__openai_role__: \"developer\"\n\t\t\t\t}\n\t\t\t});\n\t\t\tbreak;\n\t\tcase \"tool\":\n\t\t\tif (\"tool_call_id\" in fields) if (returnChunk) chunk = new _tool_js__WEBPACK_IMPORTED_MODULE_1__.ToolMessageChunk(fields);\n\t\t\telse msg = new _tool_js__WEBPACK_IMPORTED_MODULE_1__.ToolMessage(fields);\n\t\t\telse throw new Error(\"Can not convert ToolMessage to ToolMessageChunk if 'tool_call_id' field is not defined.\");\n\t\t\tbreak;\n\t\tcase \"function\":\n\t\t\tif (returnChunk) chunk = new _function_js__WEBPACK_IMPORTED_MODULE_3__.FunctionMessageChunk(fields);\n\t\t\telse {\n\t\t\t\tif (!fields.name) throw new Error(\"FunctionMessage must have a 'name' field\");\n\t\t\t\tmsg = new _function_js__WEBPACK_IMPORTED_MODULE_3__.FunctionMessage(fields);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"generic\":\n\t\t\tif (\"role\" in fields) if (returnChunk) chunk = new _chat_js__WEBPACK_IMPORTED_MODULE_2__.ChatMessageChunk(fields);\n\t\t\telse msg = new _chat_js__WEBPACK_IMPORTED_MODULE_2__.ChatMessage(fields);\n\t\t\telse throw new Error(\"Can not convert ChatMessage to ChatMessageChunk if 'role' field is not defined.\");\n\t\t\tbreak;\n\t\tdefault: throw new Error(`Unrecognized message type ${messageType}`);\n\t}\n\tif (returnChunk && chunk) return chunk;\n\tif (msg) return msg;\n\tthrow new Error(`Unrecognized message type ${messageType}`);\n}\nfunction _chunkToMsg(chunk) {\n\tconst chunkType = chunk.getType();\n\tlet msg;\n\tconst fields = Object.fromEntries(Object.entries(chunk).filter(([k]) => ![\"type\", \"tool_call_chunks\"].includes(k) && !k.startsWith(\"lc_\")));\n\tif (chunkType in _MSG_CHUNK_MAP) msg = _switchTypeToMessage(chunkType, fields);\n\tif (!msg) throw new Error(`Unrecognized message chunk class ${chunkType}. Supported classes are ${Object.keys(_MSG_CHUNK_MAP)}`);\n\treturn msg;\n}\n/**\n* The default text splitter function that splits text by newlines.\n*\n* @param {string} text\n* @returns A promise that resolves to an array of strings split by newlines.\n*/\nfunction defaultTextSplitter(text) {\n\tconst splits = text.split(\"\\n\");\n\treturn Promise.resolve([...splits.slice(0, -1).map((s) => `${s}\\n`), splits[splits.length - 1]]);\n}\n\n//#endregion\n\n//# sourceMappingURL=transformers.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL3RyYW5zZm9ybWVycy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUErQztBQUNXO0FBQ0E7QUFDWTtBQUNUO0FBQ2Y7QUFDa0I7QUFDcEI7QUFDUTtBQUNFOztBQUV0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QztBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDhEQUFjO0FBQ3RCO0FBQ0EsRUFBRTtBQUNGO0FBQ0EsK0NBQStDO0FBQy9DLFNBQVMsaUZBQWlGO0FBQzFGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDhEQUFjO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHlEQUFjO0FBQ25DLHFCQUFxQix5REFBYztBQUNuQztBQUNBLGlIQUFpSCxrQkFBa0IsSUFBSSxrQkFBa0I7QUFDeko7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxTQUFTLDhEQUFjLDBFQUEwRSwwQkFBMEI7QUFDM0g7QUFDQTtBQUNBO0FBQ0EsU0FBUyx3SEFBd0g7QUFDakk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGLGlEQUFpRCxTQUFTO0FBQzFEO0FBQ0E7QUFDQSxTQUFTLGdFQUFnRTtBQUN6RTtBQUNBO0FBQ0EsaUJBQWlCLHlCQUF5QjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixlQUFlO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsbUJBQW1CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxzRUFBc0U7QUFDL0U7QUFDQTtBQUNBLHlEQUF5RCw0REFBa0I7QUFDM0UsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG1EQUFZO0FBQ3ZCLGdCQUFnQix3REFBaUI7QUFDakMsRUFBRTtBQUNGO0FBQ0EsV0FBVyw2Q0FBUztBQUNwQixnQkFBZ0Isa0RBQWM7QUFDOUIsRUFBRTtBQUNGO0FBQ0EsV0FBVyxxREFBYTtBQUN4QixnQkFBZ0IsMERBQWtCO0FBQ2xDLEVBQUU7QUFDRjtBQUNBLFdBQVcscURBQWE7QUFDeEIsZ0JBQWdCLDBEQUFrQjtBQUNsQyxFQUFFO0FBQ0Y7QUFDQSxXQUFXLGlEQUFXO0FBQ3RCLGdCQUFnQixzREFBZ0I7QUFDaEMsRUFBRTtBQUNGO0FBQ0EsV0FBVyx5REFBZTtBQUMxQixnQkFBZ0IsOERBQW9CO0FBQ3BDLEVBQUU7QUFDRjtBQUNBLFdBQVcsaURBQVc7QUFDdEIsZ0JBQWdCLHNEQUFnQjtBQUNoQyxFQUFFO0FBQ0Y7QUFDQSxXQUFXLHVEQUFhO0FBQ3hCLGdCQUFnQix1REFBYTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyx3REFBaUI7QUFDakQsa0JBQWtCLG1EQUFZO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLGdCQUFnQixrREFBYztBQUM5QixLQUFLLGVBQWUsNkNBQVM7QUFDN0I7QUFDQTtBQUNBLGdDQUFnQywwREFBa0I7QUFDbEQsa0JBQWtCLHFEQUFhO0FBQy9CO0FBQ0E7QUFDQSxnQ0FBZ0MsMERBQWtCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osa0JBQWtCLHFEQUFhO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLDhEQUE4RCxzREFBZ0I7QUFDOUUsa0JBQWtCLGlEQUFXO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyw4REFBb0I7QUFDcEQ7QUFDQTtBQUNBLGNBQWMseURBQWU7QUFDN0I7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELHNEQUFnQjtBQUN0RSxrQkFBa0IsaURBQVc7QUFDN0I7QUFDQTtBQUNBLHdEQUF3RCxZQUFZO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxZQUFZO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRCxVQUFVLDBCQUEwQiw0QkFBNEI7QUFDL0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsUUFBUTtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCxFQUFFO0FBQ2hFOztBQUVBO0FBQytFO0FBQy9FIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL3RyYW5zZm9ybWVycy5qcz9kYzIwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzQmFzZU1lc3NhZ2VDaHVuayB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCB7IFRvb2xNZXNzYWdlLCBUb29sTWVzc2FnZUNodW5rIH0gZnJvbSBcIi4vdG9vbC5qc1wiO1xuaW1wb3J0IHsgQ2hhdE1lc3NhZ2UsIENoYXRNZXNzYWdlQ2h1bmsgfSBmcm9tIFwiLi9jaGF0LmpzXCI7XG5pbXBvcnQgeyBGdW5jdGlvbk1lc3NhZ2UsIEZ1bmN0aW9uTWVzc2FnZUNodW5rIH0gZnJvbSBcIi4vZnVuY3Rpb24uanNcIjtcbmltcG9ydCB7IEh1bWFuTWVzc2FnZSwgSHVtYW5NZXNzYWdlQ2h1bmsgfSBmcm9tIFwiLi9odW1hbi5qc1wiO1xuaW1wb3J0IHsgUmVtb3ZlTWVzc2FnZSB9IGZyb20gXCIuL21vZGlmaWVyLmpzXCI7XG5pbXBvcnQgeyBTeXN0ZW1NZXNzYWdlLCBTeXN0ZW1NZXNzYWdlQ2h1bmsgfSBmcm9tIFwiLi9zeXN0ZW0uanNcIjtcbmltcG9ydCB7IGNvbnZlcnRUb0NodW5rIH0gZnJvbSBcIi4vdXRpbHMuanNcIjtcbmltcG9ydCB7IEFJTWVzc2FnZSwgQUlNZXNzYWdlQ2h1bmsgfSBmcm9tIFwiLi9haS5qc1wiO1xuaW1wb3J0IHsgUnVubmFibGVMYW1iZGEgfSBmcm9tIFwiLi4vcnVubmFibGVzL2Jhc2UuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9tZXNzYWdlcy90cmFuc2Zvcm1lcnMudHNcbmNvbnN0IF9pc01lc3NhZ2VUeXBlID0gKG1zZywgdHlwZXMpID0+IHtcblx0Y29uc3QgdHlwZXNBc1N0cmluZ3MgPSBbLi4ubmV3IFNldCh0eXBlcz8ubWFwKCh0KSA9PiB7XG5cdFx0aWYgKHR5cGVvZiB0ID09PSBcInN0cmluZ1wiKSByZXR1cm4gdDtcblx0XHRjb25zdCBpbnN0YW50aWF0ZWRNc2dDbGFzcyA9IG5ldyB0KHt9KTtcblx0XHRpZiAoIShcImdldFR5cGVcIiBpbiBpbnN0YW50aWF0ZWRNc2dDbGFzcykgfHwgdHlwZW9mIGluc3RhbnRpYXRlZE1zZ0NsYXNzLmdldFR5cGUgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB0eXBlIHByb3ZpZGVkLlwiKTtcblx0XHRyZXR1cm4gaW5zdGFudGlhdGVkTXNnQ2xhc3MuZ2V0VHlwZSgpO1xuXHR9KSldO1xuXHRjb25zdCBtc2dUeXBlID0gbXNnLmdldFR5cGUoKTtcblx0cmV0dXJuIHR5cGVzQXNTdHJpbmdzLnNvbWUoKHQpID0+IHQgPT09IG1zZ1R5cGUpO1xufTtcbmZ1bmN0aW9uIGZpbHRlck1lc3NhZ2VzKG1lc3NhZ2VzT3JPcHRpb25zLCBvcHRpb25zKSB7XG5cdGlmIChBcnJheS5pc0FycmF5KG1lc3NhZ2VzT3JPcHRpb25zKSkgcmV0dXJuIF9maWx0ZXJNZXNzYWdlcyhtZXNzYWdlc09yT3B0aW9ucywgb3B0aW9ucyk7XG5cdHJldHVybiBSdW5uYWJsZUxhbWJkYS5mcm9tKChpbnB1dCkgPT4ge1xuXHRcdHJldHVybiBfZmlsdGVyTWVzc2FnZXMoaW5wdXQsIG1lc3NhZ2VzT3JPcHRpb25zKTtcblx0fSk7XG59XG5mdW5jdGlvbiBfZmlsdGVyTWVzc2FnZXMobWVzc2FnZXMsIG9wdGlvbnMgPSB7fSkge1xuXHRjb25zdCB7IGluY2x1ZGVOYW1lcywgZXhjbHVkZU5hbWVzLCBpbmNsdWRlVHlwZXMsIGV4Y2x1ZGVUeXBlcywgaW5jbHVkZUlkcywgZXhjbHVkZUlkcyB9ID0gb3B0aW9ucztcblx0Y29uc3QgZmlsdGVyZWQgPSBbXTtcblx0Zm9yIChjb25zdCBtc2cgb2YgbWVzc2FnZXMpIHtcblx0XHRpZiAoZXhjbHVkZU5hbWVzICYmIG1zZy5uYW1lICYmIGV4Y2x1ZGVOYW1lcy5pbmNsdWRlcyhtc2cubmFtZSkpIGNvbnRpbnVlO1xuXHRcdGVsc2UgaWYgKGV4Y2x1ZGVUeXBlcyAmJiBfaXNNZXNzYWdlVHlwZShtc2csIGV4Y2x1ZGVUeXBlcykpIGNvbnRpbnVlO1xuXHRcdGVsc2UgaWYgKGV4Y2x1ZGVJZHMgJiYgbXNnLmlkICYmIGV4Y2x1ZGVJZHMuaW5jbHVkZXMobXNnLmlkKSkgY29udGludWU7XG5cdFx0aWYgKCEoaW5jbHVkZVR5cGVzIHx8IGluY2x1ZGVJZHMgfHwgaW5jbHVkZU5hbWVzKSkgZmlsdGVyZWQucHVzaChtc2cpO1xuXHRcdGVsc2UgaWYgKGluY2x1ZGVOYW1lcyAmJiBtc2cubmFtZSAmJiBpbmNsdWRlTmFtZXMuc29tZSgoaU5hbWUpID0+IGlOYW1lID09PSBtc2cubmFtZSkpIGZpbHRlcmVkLnB1c2gobXNnKTtcblx0XHRlbHNlIGlmIChpbmNsdWRlVHlwZXMgJiYgX2lzTWVzc2FnZVR5cGUobXNnLCBpbmNsdWRlVHlwZXMpKSBmaWx0ZXJlZC5wdXNoKG1zZyk7XG5cdFx0ZWxzZSBpZiAoaW5jbHVkZUlkcyAmJiBtc2cuaWQgJiYgaW5jbHVkZUlkcy5zb21lKChpZCkgPT4gaWQgPT09IG1zZy5pZCkpIGZpbHRlcmVkLnB1c2gobXNnKTtcblx0fVxuXHRyZXR1cm4gZmlsdGVyZWQ7XG59XG5mdW5jdGlvbiBtZXJnZU1lc3NhZ2VSdW5zKG1lc3NhZ2VzKSB7XG5cdGlmIChBcnJheS5pc0FycmF5KG1lc3NhZ2VzKSkgcmV0dXJuIF9tZXJnZU1lc3NhZ2VSdW5zKG1lc3NhZ2VzKTtcblx0cmV0dXJuIFJ1bm5hYmxlTGFtYmRhLmZyb20oX21lcmdlTWVzc2FnZVJ1bnMpO1xufVxuZnVuY3Rpb24gX21lcmdlTWVzc2FnZVJ1bnMobWVzc2FnZXMpIHtcblx0aWYgKCFtZXNzYWdlcy5sZW5ndGgpIHJldHVybiBbXTtcblx0Y29uc3QgbWVyZ2VkID0gW107XG5cdGZvciAoY29uc3QgbXNnIG9mIG1lc3NhZ2VzKSB7XG5cdFx0Y29uc3QgY3VyciA9IG1zZztcblx0XHRjb25zdCBsYXN0ID0gbWVyZ2VkLnBvcCgpO1xuXHRcdGlmICghbGFzdCkgbWVyZ2VkLnB1c2goY3Vycik7XG5cdFx0ZWxzZSBpZiAoY3Vyci5nZXRUeXBlKCkgPT09IFwidG9vbFwiIHx8ICEoY3Vyci5nZXRUeXBlKCkgPT09IGxhc3QuZ2V0VHlwZSgpKSkgbWVyZ2VkLnB1c2gobGFzdCwgY3Vycik7XG5cdFx0ZWxzZSB7XG5cdFx0XHRjb25zdCBsYXN0Q2h1bmsgPSBjb252ZXJ0VG9DaHVuayhsYXN0KTtcblx0XHRcdGNvbnN0IGN1cnJDaHVuayA9IGNvbnZlcnRUb0NodW5rKGN1cnIpO1xuXHRcdFx0Y29uc3QgbWVyZ2VkQ2h1bmtzID0gbGFzdENodW5rLmNvbmNhdChjdXJyQ2h1bmspO1xuXHRcdFx0aWYgKHR5cGVvZiBsYXN0Q2h1bmsuY29udGVudCA9PT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgY3VyckNodW5rLmNvbnRlbnQgPT09IFwic3RyaW5nXCIpIG1lcmdlZENodW5rcy5jb250ZW50ID0gYCR7bGFzdENodW5rLmNvbnRlbnR9XFxuJHtjdXJyQ2h1bmsuY29udGVudH1gO1xuXHRcdFx0bWVyZ2VkLnB1c2goX2NodW5rVG9Nc2cobWVyZ2VkQ2h1bmtzKSk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBtZXJnZWQ7XG59XG5mdW5jdGlvbiB0cmltTWVzc2FnZXMobWVzc2FnZXNPck9wdGlvbnMsIG9wdGlvbnMpIHtcblx0aWYgKEFycmF5LmlzQXJyYXkobWVzc2FnZXNPck9wdGlvbnMpKSB7XG5cdFx0Y29uc3QgbWVzc2FnZXMgPSBtZXNzYWdlc09yT3B0aW9ucztcblx0XHRpZiAoIW9wdGlvbnMpIHRocm93IG5ldyBFcnJvcihcIk9wdGlvbnMgcGFyYW1ldGVyIGlzIHJlcXVpcmVkIHdoZW4gcHJvdmlkaW5nIG1lc3NhZ2VzLlwiKTtcblx0XHRyZXR1cm4gX3RyaW1NZXNzYWdlc0hlbHBlcihtZXNzYWdlcywgb3B0aW9ucyk7XG5cdH0gZWxzZSB7XG5cdFx0Y29uc3QgdHJpbW1lck9wdGlvbnMgPSBtZXNzYWdlc09yT3B0aW9ucztcblx0XHRyZXR1cm4gUnVubmFibGVMYW1iZGEuZnJvbSgoaW5wdXQpID0+IF90cmltTWVzc2FnZXNIZWxwZXIoaW5wdXQsIHRyaW1tZXJPcHRpb25zKSkud2l0aENvbmZpZyh7IHJ1bk5hbWU6IFwidHJpbV9tZXNzYWdlc1wiIH0pO1xuXHR9XG59XG5hc3luYyBmdW5jdGlvbiBfdHJpbU1lc3NhZ2VzSGVscGVyKG1lc3NhZ2VzLCBvcHRpb25zKSB7XG5cdGNvbnN0IHsgbWF4VG9rZW5zLCB0b2tlbkNvdW50ZXIsIHN0cmF0ZWd5ID0gXCJsYXN0XCIsIGFsbG93UGFydGlhbCA9IGZhbHNlLCBlbmRPbiwgc3RhcnRPbiwgaW5jbHVkZVN5c3RlbSA9IGZhbHNlLCB0ZXh0U3BsaXR0ZXIgfSA9IG9wdGlvbnM7XG5cdGlmIChzdGFydE9uICYmIHN0cmF0ZWd5ID09PSBcImZpcnN0XCIpIHRocm93IG5ldyBFcnJvcihcImBzdGFydE9uYCBzaG91bGQgb25seSBiZSBzcGVjaWZpZWQgaWYgYHN0cmF0ZWd5YCBpcyAnbGFzdCcuXCIpO1xuXHRpZiAoaW5jbHVkZVN5c3RlbSAmJiBzdHJhdGVneSA9PT0gXCJmaXJzdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJgaW5jbHVkZVN5c3RlbWAgc2hvdWxkIG9ubHkgYmUgc3BlY2lmaWVkIGlmIGBzdHJhdGVneWAgaXMgJ2xhc3QnLlwiKTtcblx0bGV0IGxpc3RUb2tlbkNvdW50ZXI7XG5cdGlmIChcImdldE51bVRva2Vuc1wiIGluIHRva2VuQ291bnRlcikgbGlzdFRva2VuQ291bnRlciA9IGFzeW5jIChtc2dzKSA9PiB7XG5cdFx0Y29uc3QgdG9rZW5Db3VudHMgPSBhd2FpdCBQcm9taXNlLmFsbChtc2dzLm1hcCgobXNnKSA9PiB0b2tlbkNvdW50ZXIuZ2V0TnVtVG9rZW5zKG1zZy5jb250ZW50KSkpO1xuXHRcdHJldHVybiB0b2tlbkNvdW50cy5yZWR1Y2UoKHN1bSwgY291bnQpID0+IHN1bSArIGNvdW50LCAwKTtcblx0fTtcblx0ZWxzZSBsaXN0VG9rZW5Db3VudGVyID0gYXN5bmMgKG1zZ3MpID0+IHRva2VuQ291bnRlcihtc2dzKTtcblx0bGV0IHRleHRTcGxpdHRlckZ1bmMgPSBkZWZhdWx0VGV4dFNwbGl0dGVyO1xuXHRpZiAodGV4dFNwbGl0dGVyKSBpZiAoXCJzcGxpdFRleHRcIiBpbiB0ZXh0U3BsaXR0ZXIpIHRleHRTcGxpdHRlckZ1bmMgPSB0ZXh0U3BsaXR0ZXIuc3BsaXRUZXh0O1xuXHRlbHNlIHRleHRTcGxpdHRlckZ1bmMgPSBhc3luYyAodGV4dCkgPT4gdGV4dFNwbGl0dGVyKHRleHQpO1xuXHRpZiAoc3RyYXRlZ3kgPT09IFwiZmlyc3RcIikgcmV0dXJuIF9maXJzdE1heFRva2VucyhtZXNzYWdlcywge1xuXHRcdG1heFRva2Vucyxcblx0XHR0b2tlbkNvdW50ZXI6IGxpc3RUb2tlbkNvdW50ZXIsXG5cdFx0dGV4dFNwbGl0dGVyOiB0ZXh0U3BsaXR0ZXJGdW5jLFxuXHRcdHBhcnRpYWxTdHJhdGVneTogYWxsb3dQYXJ0aWFsID8gXCJmaXJzdFwiIDogdm9pZCAwLFxuXHRcdGVuZE9uXG5cdH0pO1xuXHRlbHNlIGlmIChzdHJhdGVneSA9PT0gXCJsYXN0XCIpIHJldHVybiBfbGFzdE1heFRva2VucyhtZXNzYWdlcywge1xuXHRcdG1heFRva2Vucyxcblx0XHR0b2tlbkNvdW50ZXI6IGxpc3RUb2tlbkNvdW50ZXIsXG5cdFx0dGV4dFNwbGl0dGVyOiB0ZXh0U3BsaXR0ZXJGdW5jLFxuXHRcdGFsbG93UGFydGlhbCxcblx0XHRpbmNsdWRlU3lzdGVtLFxuXHRcdHN0YXJ0T24sXG5cdFx0ZW5kT25cblx0fSk7XG5cdGVsc2UgdGhyb3cgbmV3IEVycm9yKGBVbnJlY29nbml6ZWQgc3RyYXRlZ3k6ICcke3N0cmF0ZWd5fScuIE11c3QgYmUgb25lIG9mICdmaXJzdCcgb3IgJ2xhc3QnLmApO1xufVxuYXN5bmMgZnVuY3Rpb24gX2ZpcnN0TWF4VG9rZW5zKG1lc3NhZ2VzLCBvcHRpb25zKSB7XG5cdGNvbnN0IHsgbWF4VG9rZW5zLCB0b2tlbkNvdW50ZXIsIHRleHRTcGxpdHRlciwgcGFydGlhbFN0cmF0ZWd5LCBlbmRPbiB9ID0gb3B0aW9ucztcblx0bGV0IG1lc3NhZ2VzQ29weSA9IFsuLi5tZXNzYWdlc107XG5cdGxldCBpZHggPSAwO1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IG1lc3NhZ2VzQ29weS5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGNvbnN0IHJlbWFpbmluZ01lc3NhZ2VzID0gaSA+IDAgPyBtZXNzYWdlc0NvcHkuc2xpY2UoMCwgLWkpIDogbWVzc2FnZXNDb3B5O1xuXHRcdGlmIChhd2FpdCB0b2tlbkNvdW50ZXIocmVtYWluaW5nTWVzc2FnZXMpIDw9IG1heFRva2Vucykge1xuXHRcdFx0aWR4ID0gbWVzc2FnZXNDb3B5Lmxlbmd0aCAtIGk7XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblx0aWYgKGlkeCA8IG1lc3NhZ2VzQ29weS5sZW5ndGggJiYgcGFydGlhbFN0cmF0ZWd5KSB7XG5cdFx0bGV0IGluY2x1ZGVkUGFydGlhbCA9IGZhbHNlO1xuXHRcdGlmIChBcnJheS5pc0FycmF5KG1lc3NhZ2VzQ29weVtpZHhdLmNvbnRlbnQpKSB7XG5cdFx0XHRjb25zdCBleGNsdWRlZCA9IG1lc3NhZ2VzQ29weVtpZHhdO1xuXHRcdFx0aWYgKHR5cGVvZiBleGNsdWRlZC5jb250ZW50ID09PSBcInN0cmluZ1wiKSB0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3RlZCBjb250ZW50IHRvIGJlIGFuIGFycmF5LlwiKTtcblx0XHRcdGNvbnN0IG51bUJsb2NrID0gZXhjbHVkZWQuY29udGVudC5sZW5ndGg7XG5cdFx0XHRjb25zdCByZXZlcnNlZENvbnRlbnQgPSBwYXJ0aWFsU3RyYXRlZ3kgPT09IFwibGFzdFwiID8gWy4uLmV4Y2x1ZGVkLmNvbnRlbnRdLnJldmVyc2UoKSA6IGV4Y2x1ZGVkLmNvbnRlbnQ7XG5cdFx0XHRmb3IgKGxldCBpID0gMTsgaSA8PSBudW1CbG9jazsgaSArPSAxKSB7XG5cdFx0XHRcdGNvbnN0IHBhcnRpYWxDb250ZW50ID0gcGFydGlhbFN0cmF0ZWd5ID09PSBcImZpcnN0XCIgPyByZXZlcnNlZENvbnRlbnQuc2xpY2UoMCwgaSkgOiByZXZlcnNlZENvbnRlbnQuc2xpY2UoLWkpO1xuXHRcdFx0XHRjb25zdCBmaWVsZHMgPSBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMoZXhjbHVkZWQpLmZpbHRlcigoW2tdKSA9PiBrICE9PSBcInR5cGVcIiAmJiAhay5zdGFydHNXaXRoKFwibGNfXCIpKSk7XG5cdFx0XHRcdGNvbnN0IHVwZGF0ZWRNZXNzYWdlID0gX3N3aXRjaFR5cGVUb01lc3NhZ2UoZXhjbHVkZWQuZ2V0VHlwZSgpLCB7XG5cdFx0XHRcdFx0Li4uZmllbGRzLFxuXHRcdFx0XHRcdGNvbnRlbnQ6IHBhcnRpYWxDb250ZW50XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRjb25zdCBzbGljZWRNZXNzYWdlcyA9IFsuLi5tZXNzYWdlc0NvcHkuc2xpY2UoMCwgaWR4KSwgdXBkYXRlZE1lc3NhZ2VdO1xuXHRcdFx0XHRpZiAoYXdhaXQgdG9rZW5Db3VudGVyKHNsaWNlZE1lc3NhZ2VzKSA8PSBtYXhUb2tlbnMpIHtcblx0XHRcdFx0XHRtZXNzYWdlc0NvcHkgPSBzbGljZWRNZXNzYWdlcztcblx0XHRcdFx0XHRpZHggKz0gMTtcblx0XHRcdFx0XHRpbmNsdWRlZFBhcnRpYWwgPSB0cnVlO1xuXHRcdFx0XHR9IGVsc2UgYnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRpZiAoaW5jbHVkZWRQYXJ0aWFsICYmIHBhcnRpYWxTdHJhdGVneSA9PT0gXCJsYXN0XCIpIGV4Y2x1ZGVkLmNvbnRlbnQgPSBbLi4ucmV2ZXJzZWRDb250ZW50XS5yZXZlcnNlKCk7XG5cdFx0fVxuXHRcdGlmICghaW5jbHVkZWRQYXJ0aWFsKSB7XG5cdFx0XHRjb25zdCBleGNsdWRlZCA9IG1lc3NhZ2VzQ29weVtpZHhdO1xuXHRcdFx0bGV0IHRleHQ7XG5cdFx0XHRpZiAoQXJyYXkuaXNBcnJheShleGNsdWRlZC5jb250ZW50KSAmJiBleGNsdWRlZC5jb250ZW50LnNvbWUoKGJsb2NrKSA9PiB0eXBlb2YgYmxvY2sgPT09IFwic3RyaW5nXCIgfHwgYmxvY2sudHlwZSA9PT0gXCJ0ZXh0XCIpKSB7XG5cdFx0XHRcdGNvbnN0IHRleHRCbG9jayA9IGV4Y2x1ZGVkLmNvbnRlbnQuZmluZCgoYmxvY2spID0+IGJsb2NrLnR5cGUgPT09IFwidGV4dFwiICYmIGJsb2NrLnRleHQpO1xuXHRcdFx0XHR0ZXh0ID0gdGV4dEJsb2NrPy50ZXh0O1xuXHRcdFx0fSBlbHNlIGlmICh0eXBlb2YgZXhjbHVkZWQuY29udGVudCA9PT0gXCJzdHJpbmdcIikgdGV4dCA9IGV4Y2x1ZGVkLmNvbnRlbnQ7XG5cdFx0XHRpZiAodGV4dCkge1xuXHRcdFx0XHRjb25zdCBzcGxpdFRleHRzID0gYXdhaXQgdGV4dFNwbGl0dGVyKHRleHQpO1xuXHRcdFx0XHRjb25zdCBudW1TcGxpdHMgPSBzcGxpdFRleHRzLmxlbmd0aDtcblx0XHRcdFx0aWYgKHBhcnRpYWxTdHJhdGVneSA9PT0gXCJsYXN0XCIpIHNwbGl0VGV4dHMucmV2ZXJzZSgpO1xuXHRcdFx0XHRmb3IgKGxldCBfID0gMDsgXyA8IG51bVNwbGl0cyAtIDE7IF8gKz0gMSkge1xuXHRcdFx0XHRcdHNwbGl0VGV4dHMucG9wKCk7XG5cdFx0XHRcdFx0ZXhjbHVkZWQuY29udGVudCA9IHNwbGl0VGV4dHMuam9pbihcIlwiKTtcblx0XHRcdFx0XHRpZiAoYXdhaXQgdG9rZW5Db3VudGVyKFsuLi5tZXNzYWdlc0NvcHkuc2xpY2UoMCwgaWR4KSwgZXhjbHVkZWRdKSA8PSBtYXhUb2tlbnMpIHtcblx0XHRcdFx0XHRcdGlmIChwYXJ0aWFsU3RyYXRlZ3kgPT09IFwibGFzdFwiKSBleGNsdWRlZC5jb250ZW50ID0gWy4uLnNwbGl0VGV4dHNdLnJldmVyc2UoKS5qb2luKFwiXCIpO1xuXHRcdFx0XHRcdFx0bWVzc2FnZXNDb3B5ID0gWy4uLm1lc3NhZ2VzQ29weS5zbGljZSgwLCBpZHgpLCBleGNsdWRlZF07XG5cdFx0XHRcdFx0XHRpZHggKz0gMTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRpZiAoZW5kT24pIHtcblx0XHRjb25zdCBlbmRPbkFyciA9IEFycmF5LmlzQXJyYXkoZW5kT24pID8gZW5kT24gOiBbZW5kT25dO1xuXHRcdHdoaWxlIChpZHggPiAwICYmICFfaXNNZXNzYWdlVHlwZShtZXNzYWdlc0NvcHlbaWR4IC0gMV0sIGVuZE9uQXJyKSkgaWR4IC09IDE7XG5cdH1cblx0cmV0dXJuIG1lc3NhZ2VzQ29weS5zbGljZSgwLCBpZHgpO1xufVxuYXN5bmMgZnVuY3Rpb24gX2xhc3RNYXhUb2tlbnMobWVzc2FnZXMsIG9wdGlvbnMpIHtcblx0Y29uc3QgeyBhbGxvd1BhcnRpYWwgPSBmYWxzZSwgaW5jbHVkZVN5c3RlbSA9IGZhbHNlLCBlbmRPbiwgc3RhcnRPbiwuLi5yZXN0IH0gPSBvcHRpb25zO1xuXHRsZXQgbWVzc2FnZXNDb3B5ID0gbWVzc2FnZXMubWFwKChtZXNzYWdlKSA9PiB7XG5cdFx0Y29uc3QgZmllbGRzID0gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKG1lc3NhZ2UpLmZpbHRlcigoW2tdKSA9PiBrICE9PSBcInR5cGVcIiAmJiAhay5zdGFydHNXaXRoKFwibGNfXCIpKSk7XG5cdFx0cmV0dXJuIF9zd2l0Y2hUeXBlVG9NZXNzYWdlKG1lc3NhZ2UuZ2V0VHlwZSgpLCBmaWVsZHMsIGlzQmFzZU1lc3NhZ2VDaHVuayhtZXNzYWdlKSk7XG5cdH0pO1xuXHRpZiAoZW5kT24pIHtcblx0XHRjb25zdCBlbmRPbkFyciA9IEFycmF5LmlzQXJyYXkoZW5kT24pID8gZW5kT24gOiBbZW5kT25dO1xuXHRcdHdoaWxlIChtZXNzYWdlc0NvcHkubGVuZ3RoID4gMCAmJiAhX2lzTWVzc2FnZVR5cGUobWVzc2FnZXNDb3B5W21lc3NhZ2VzQ29weS5sZW5ndGggLSAxXSwgZW5kT25BcnIpKSBtZXNzYWdlc0NvcHkgPSBtZXNzYWdlc0NvcHkuc2xpY2UoMCwgLTEpO1xuXHR9XG5cdGNvbnN0IHN3YXBwZWRTeXN0ZW0gPSBpbmNsdWRlU3lzdGVtICYmIG1lc3NhZ2VzQ29weVswXT8uZ2V0VHlwZSgpID09PSBcInN5c3RlbVwiO1xuXHRsZXQgcmV2ZXJzZWRfID0gc3dhcHBlZFN5c3RlbSA/IG1lc3NhZ2VzQ29weS5zbGljZSgwLCAxKS5jb25jYXQobWVzc2FnZXNDb3B5LnNsaWNlKDEpLnJldmVyc2UoKSkgOiBtZXNzYWdlc0NvcHkucmV2ZXJzZSgpO1xuXHRyZXZlcnNlZF8gPSBhd2FpdCBfZmlyc3RNYXhUb2tlbnMocmV2ZXJzZWRfLCB7XG5cdFx0Li4ucmVzdCxcblx0XHRwYXJ0aWFsU3RyYXRlZ3k6IGFsbG93UGFydGlhbCA/IFwibGFzdFwiIDogdm9pZCAwLFxuXHRcdGVuZE9uOiBzdGFydE9uXG5cdH0pO1xuXHRpZiAoc3dhcHBlZFN5c3RlbSkgcmV0dXJuIFtyZXZlcnNlZF9bMF0sIC4uLnJldmVyc2VkXy5zbGljZSgxKS5yZXZlcnNlKCldO1xuXHRlbHNlIHJldHVybiByZXZlcnNlZF8ucmV2ZXJzZSgpO1xufVxuY29uc3QgX01TR19DSFVOS19NQVAgPSB7XG5cdGh1bWFuOiB7XG5cdFx0bWVzc2FnZTogSHVtYW5NZXNzYWdlLFxuXHRcdG1lc3NhZ2VDaHVuazogSHVtYW5NZXNzYWdlQ2h1bmtcblx0fSxcblx0YWk6IHtcblx0XHRtZXNzYWdlOiBBSU1lc3NhZ2UsXG5cdFx0bWVzc2FnZUNodW5rOiBBSU1lc3NhZ2VDaHVua1xuXHR9LFxuXHRzeXN0ZW06IHtcblx0XHRtZXNzYWdlOiBTeXN0ZW1NZXNzYWdlLFxuXHRcdG1lc3NhZ2VDaHVuazogU3lzdGVtTWVzc2FnZUNodW5rXG5cdH0sXG5cdGRldmVsb3Blcjoge1xuXHRcdG1lc3NhZ2U6IFN5c3RlbU1lc3NhZ2UsXG5cdFx0bWVzc2FnZUNodW5rOiBTeXN0ZW1NZXNzYWdlQ2h1bmtcblx0fSxcblx0dG9vbDoge1xuXHRcdG1lc3NhZ2U6IFRvb2xNZXNzYWdlLFxuXHRcdG1lc3NhZ2VDaHVuazogVG9vbE1lc3NhZ2VDaHVua1xuXHR9LFxuXHRmdW5jdGlvbjoge1xuXHRcdG1lc3NhZ2U6IEZ1bmN0aW9uTWVzc2FnZSxcblx0XHRtZXNzYWdlQ2h1bms6IEZ1bmN0aW9uTWVzc2FnZUNodW5rXG5cdH0sXG5cdGdlbmVyaWM6IHtcblx0XHRtZXNzYWdlOiBDaGF0TWVzc2FnZSxcblx0XHRtZXNzYWdlQ2h1bms6IENoYXRNZXNzYWdlQ2h1bmtcblx0fSxcblx0cmVtb3ZlOiB7XG5cdFx0bWVzc2FnZTogUmVtb3ZlTWVzc2FnZSxcblx0XHRtZXNzYWdlQ2h1bms6IFJlbW92ZU1lc3NhZ2Vcblx0fVxufTtcbmZ1bmN0aW9uIF9zd2l0Y2hUeXBlVG9NZXNzYWdlKG1lc3NhZ2VUeXBlLCBmaWVsZHMsIHJldHVybkNodW5rKSB7XG5cdGxldCBjaHVuaztcblx0bGV0IG1zZztcblx0c3dpdGNoIChtZXNzYWdlVHlwZSkge1xuXHRcdGNhc2UgXCJodW1hblwiOlxuXHRcdFx0aWYgKHJldHVybkNodW5rKSBjaHVuayA9IG5ldyBIdW1hbk1lc3NhZ2VDaHVuayhmaWVsZHMpO1xuXHRcdFx0ZWxzZSBtc2cgPSBuZXcgSHVtYW5NZXNzYWdlKGZpZWxkcyk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwiYWlcIjpcblx0XHRcdGlmIChyZXR1cm5DaHVuaykge1xuXHRcdFx0XHRsZXQgYWlDaHVua0ZpZWxkcyA9IHsgLi4uZmllbGRzIH07XG5cdFx0XHRcdGlmIChcInRvb2xfY2FsbHNcIiBpbiBhaUNodW5rRmllbGRzKSBhaUNodW5rRmllbGRzID0ge1xuXHRcdFx0XHRcdC4uLmFpQ2h1bmtGaWVsZHMsXG5cdFx0XHRcdFx0dG9vbF9jYWxsX2NodW5rczogYWlDaHVua0ZpZWxkcy50b29sX2NhbGxzPy5tYXAoKHRjKSA9PiAoe1xuXHRcdFx0XHRcdFx0Li4udGMsXG5cdFx0XHRcdFx0XHR0eXBlOiBcInRvb2xfY2FsbF9jaHVua1wiLFxuXHRcdFx0XHRcdFx0aW5kZXg6IHZvaWQgMCxcblx0XHRcdFx0XHRcdGFyZ3M6IEpTT04uc3RyaW5naWZ5KHRjLmFyZ3MpXG5cdFx0XHRcdFx0fSkpXG5cdFx0XHRcdH07XG5cdFx0XHRcdGNodW5rID0gbmV3IEFJTWVzc2FnZUNodW5rKGFpQ2h1bmtGaWVsZHMpO1xuXHRcdFx0fSBlbHNlIG1zZyA9IG5ldyBBSU1lc3NhZ2UoZmllbGRzKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJzeXN0ZW1cIjpcblx0XHRcdGlmIChyZXR1cm5DaHVuaykgY2h1bmsgPSBuZXcgU3lzdGVtTWVzc2FnZUNodW5rKGZpZWxkcyk7XG5cdFx0XHRlbHNlIG1zZyA9IG5ldyBTeXN0ZW1NZXNzYWdlKGZpZWxkcyk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwiZGV2ZWxvcGVyXCI6XG5cdFx0XHRpZiAocmV0dXJuQ2h1bmspIGNodW5rID0gbmV3IFN5c3RlbU1lc3NhZ2VDaHVuayh7XG5cdFx0XHRcdC4uLmZpZWxkcyxcblx0XHRcdFx0YWRkaXRpb25hbF9rd2FyZ3M6IHtcblx0XHRcdFx0XHQuLi5maWVsZHMuYWRkaXRpb25hbF9rd2FyZ3MsXG5cdFx0XHRcdFx0X19vcGVuYWlfcm9sZV9fOiBcImRldmVsb3BlclwiXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0ZWxzZSBtc2cgPSBuZXcgU3lzdGVtTWVzc2FnZSh7XG5cdFx0XHRcdC4uLmZpZWxkcyxcblx0XHRcdFx0YWRkaXRpb25hbF9rd2FyZ3M6IHtcblx0XHRcdFx0XHQuLi5maWVsZHMuYWRkaXRpb25hbF9rd2FyZ3MsXG5cdFx0XHRcdFx0X19vcGVuYWlfcm9sZV9fOiBcImRldmVsb3BlclwiXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcInRvb2xcIjpcblx0XHRcdGlmIChcInRvb2xfY2FsbF9pZFwiIGluIGZpZWxkcykgaWYgKHJldHVybkNodW5rKSBjaHVuayA9IG5ldyBUb29sTWVzc2FnZUNodW5rKGZpZWxkcyk7XG5cdFx0XHRlbHNlIG1zZyA9IG5ldyBUb29sTWVzc2FnZShmaWVsZHMpO1xuXHRcdFx0ZWxzZSB0aHJvdyBuZXcgRXJyb3IoXCJDYW4gbm90IGNvbnZlcnQgVG9vbE1lc3NhZ2UgdG8gVG9vbE1lc3NhZ2VDaHVuayBpZiAndG9vbF9jYWxsX2lkJyBmaWVsZCBpcyBub3QgZGVmaW5lZC5cIik7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwiZnVuY3Rpb25cIjpcblx0XHRcdGlmIChyZXR1cm5DaHVuaykgY2h1bmsgPSBuZXcgRnVuY3Rpb25NZXNzYWdlQ2h1bmsoZmllbGRzKTtcblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRpZiAoIWZpZWxkcy5uYW1lKSB0aHJvdyBuZXcgRXJyb3IoXCJGdW5jdGlvbk1lc3NhZ2UgbXVzdCBoYXZlIGEgJ25hbWUnIGZpZWxkXCIpO1xuXHRcdFx0XHRtc2cgPSBuZXcgRnVuY3Rpb25NZXNzYWdlKGZpZWxkcyk7XG5cdFx0XHR9XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwiZ2VuZXJpY1wiOlxuXHRcdFx0aWYgKFwicm9sZVwiIGluIGZpZWxkcykgaWYgKHJldHVybkNodW5rKSBjaHVuayA9IG5ldyBDaGF0TWVzc2FnZUNodW5rKGZpZWxkcyk7XG5cdFx0XHRlbHNlIG1zZyA9IG5ldyBDaGF0TWVzc2FnZShmaWVsZHMpO1xuXHRcdFx0ZWxzZSB0aHJvdyBuZXcgRXJyb3IoXCJDYW4gbm90IGNvbnZlcnQgQ2hhdE1lc3NhZ2UgdG8gQ2hhdE1lc3NhZ2VDaHVuayBpZiAncm9sZScgZmllbGQgaXMgbm90IGRlZmluZWQuXCIpO1xuXHRcdFx0YnJlYWs7XG5cdFx0ZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKGBVbnJlY29nbml6ZWQgbWVzc2FnZSB0eXBlICR7bWVzc2FnZVR5cGV9YCk7XG5cdH1cblx0aWYgKHJldHVybkNodW5rICYmIGNodW5rKSByZXR1cm4gY2h1bms7XG5cdGlmIChtc2cpIHJldHVybiBtc2c7XG5cdHRocm93IG5ldyBFcnJvcihgVW5yZWNvZ25pemVkIG1lc3NhZ2UgdHlwZSAke21lc3NhZ2VUeXBlfWApO1xufVxuZnVuY3Rpb24gX2NodW5rVG9Nc2coY2h1bmspIHtcblx0Y29uc3QgY2h1bmtUeXBlID0gY2h1bmsuZ2V0VHlwZSgpO1xuXHRsZXQgbXNnO1xuXHRjb25zdCBmaWVsZHMgPSBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMoY2h1bmspLmZpbHRlcigoW2tdKSA9PiAhW1widHlwZVwiLCBcInRvb2xfY2FsbF9jaHVua3NcIl0uaW5jbHVkZXMoaykgJiYgIWsuc3RhcnRzV2l0aChcImxjX1wiKSkpO1xuXHRpZiAoY2h1bmtUeXBlIGluIF9NU0dfQ0hVTktfTUFQKSBtc2cgPSBfc3dpdGNoVHlwZVRvTWVzc2FnZShjaHVua1R5cGUsIGZpZWxkcyk7XG5cdGlmICghbXNnKSB0aHJvdyBuZXcgRXJyb3IoYFVucmVjb2duaXplZCBtZXNzYWdlIGNodW5rIGNsYXNzICR7Y2h1bmtUeXBlfS4gU3VwcG9ydGVkIGNsYXNzZXMgYXJlICR7T2JqZWN0LmtleXMoX01TR19DSFVOS19NQVApfWApO1xuXHRyZXR1cm4gbXNnO1xufVxuLyoqXG4qIFRoZSBkZWZhdWx0IHRleHQgc3BsaXR0ZXIgZnVuY3Rpb24gdGhhdCBzcGxpdHMgdGV4dCBieSBuZXdsaW5lcy5cbipcbiogQHBhcmFtIHtzdHJpbmd9IHRleHRcbiogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYW4gYXJyYXkgb2Ygc3RyaW5ncyBzcGxpdCBieSBuZXdsaW5lcy5cbiovXG5mdW5jdGlvbiBkZWZhdWx0VGV4dFNwbGl0dGVyKHRleHQpIHtcblx0Y29uc3Qgc3BsaXRzID0gdGV4dC5zcGxpdChcIlxcblwiKTtcblx0cmV0dXJuIFByb21pc2UucmVzb2x2ZShbLi4uc3BsaXRzLnNsaWNlKDAsIC0xKS5tYXAoKHMpID0+IGAke3N9XFxuYCksIHNwbGl0c1tzcGxpdHMubGVuZ3RoIC0gMV1dKTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBkZWZhdWx0VGV4dFNwbGl0dGVyLCBmaWx0ZXJNZXNzYWdlcywgbWVyZ2VNZXNzYWdlUnVucywgdHJpbU1lc3NhZ2VzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFuc2Zvcm1lcnMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/transformers.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/utils.js":
/*!********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/utils.js ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   coerceMessageLikeToMessage: () => (/* binding */ coerceMessageLikeToMessage),\n/* harmony export */   collapseToolCallChunks: () => (/* binding */ collapseToolCallChunks),\n/* harmony export */   convertToChunk: () => (/* binding */ convertToChunk),\n/* harmony export */   getBufferString: () => (/* binding */ getBufferString),\n/* harmony export */   iife: () => (/* binding */ iife),\n/* harmony export */   mapChatMessagesToStoredMessages: () => (/* binding */ mapChatMessagesToStoredMessages),\n/* harmony export */   mapStoredMessageToChatMessage: () => (/* binding */ mapStoredMessageToChatMessage),\n/* harmony export */   mapStoredMessagesToChatMessages: () => (/* binding */ mapStoredMessagesToChatMessages)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/base.js\");\n/* harmony import */ var _tool_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./tool.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/tool.js\");\n/* harmony import */ var _errors_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../errors/index.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/errors/index.js\");\n/* harmony import */ var _tools_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tools/utils.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tools/utils.js\");\n/* harmony import */ var _utils_json_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/json.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/json.js\");\n/* harmony import */ var _chat_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chat.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/chat.js\");\n/* harmony import */ var _function_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./function.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/function.js\");\n/* harmony import */ var _human_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./human.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/human.js\");\n/* harmony import */ var _modifier_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./modifier.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/modifier.js\");\n/* harmony import */ var _system_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./system.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/system.js\");\n/* harmony import */ var _ai_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ai.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/ai.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n//#region src/messages/utils.ts\n/**\n* Immediately-invoked function expression.\n*\n* @param fn - The function to execute\n* @returns The result of the function\n*/\nconst iife = (fn) => fn();\nfunction _coerceToolCall(toolCall) {\n\tif ((0,_tools_utils_js__WEBPACK_IMPORTED_MODULE_3__._isToolCall)(toolCall)) return toolCall;\n\telse if (typeof toolCall.id === \"string\" && toolCall.type === \"function\" && typeof toolCall.function === \"object\" && toolCall.function !== null && \"arguments\" in toolCall.function && typeof toolCall.function.arguments === \"string\" && \"name\" in toolCall.function && typeof toolCall.function.name === \"string\") return {\n\t\tid: toolCall.id,\n\t\targs: JSON.parse(toolCall.function.arguments),\n\t\tname: toolCall.function.name,\n\t\ttype: \"tool_call\"\n\t};\n\telse return toolCall;\n}\nfunction isSerializedConstructor(x) {\n\treturn typeof x === \"object\" && x != null && x.lc === 1 && Array.isArray(x.id) && x.kwargs != null && typeof x.kwargs === \"object\";\n}\nfunction _constructMessageFromParams(params) {\n\tlet type;\n\tlet rest;\n\tif (isSerializedConstructor(params)) {\n\t\tconst className = params.id.at(-1);\n\t\tif (className === \"HumanMessage\" || className === \"HumanMessageChunk\") type = \"user\";\n\t\telse if (className === \"AIMessage\" || className === \"AIMessageChunk\") type = \"assistant\";\n\t\telse if (className === \"SystemMessage\" || className === \"SystemMessageChunk\") type = \"system\";\n\t\telse if (className === \"FunctionMessage\" || className === \"FunctionMessageChunk\") type = \"function\";\n\t\telse if (className === \"ToolMessage\" || className === \"ToolMessageChunk\") type = \"tool\";\n\t\telse type = \"unknown\";\n\t\trest = params.kwargs;\n\t} else {\n\t\tconst { type: extractedType,...otherParams } = params;\n\t\ttype = extractedType;\n\t\trest = otherParams;\n\t}\n\tif (type === \"human\" || type === \"user\") return new _human_js__WEBPACK_IMPORTED_MODULE_7__.HumanMessage(rest);\n\telse if (type === \"ai\" || type === \"assistant\") {\n\t\tconst { tool_calls: rawToolCalls,...other } = rest;\n\t\tif (!Array.isArray(rawToolCalls)) return new _ai_js__WEBPACK_IMPORTED_MODULE_10__.AIMessage(rest);\n\t\tconst tool_calls = rawToolCalls.map(_coerceToolCall);\n\t\treturn new _ai_js__WEBPACK_IMPORTED_MODULE_10__.AIMessage({\n\t\t\t...other,\n\t\t\ttool_calls\n\t\t});\n\t} else if (type === \"system\") return new _system_js__WEBPACK_IMPORTED_MODULE_9__.SystemMessage(rest);\n\telse if (type === \"developer\") return new _system_js__WEBPACK_IMPORTED_MODULE_9__.SystemMessage({\n\t\t...rest,\n\t\tadditional_kwargs: {\n\t\t\t...rest.additional_kwargs,\n\t\t\t__openai_role__: \"developer\"\n\t\t}\n\t});\n\telse if (type === \"tool\" && \"tool_call_id\" in rest) return new _tool_js__WEBPACK_IMPORTED_MODULE_1__.ToolMessage({\n\t\t...rest,\n\t\tcontent: rest.content,\n\t\ttool_call_id: rest.tool_call_id,\n\t\tname: rest.name\n\t});\n\telse if (type === \"remove\" && \"id\" in rest && typeof rest.id === \"string\") return new _modifier_js__WEBPACK_IMPORTED_MODULE_8__.RemoveMessage({\n\t\t...rest,\n\t\tid: rest.id\n\t});\n\telse {\n\t\tconst error = (0,_errors_index_js__WEBPACK_IMPORTED_MODULE_2__.addLangChainErrorFields)(/* @__PURE__ */ new Error(`Unable to coerce message from array: only human, AI, system, developer, or tool message coercion is currently supported.\\n\\nReceived: ${JSON.stringify(params, null, 2)}`), \"MESSAGE_COERCION_FAILURE\");\n\t\tthrow error;\n\t}\n}\nfunction coerceMessageLikeToMessage(messageLike) {\n\tif (typeof messageLike === \"string\") return new _human_js__WEBPACK_IMPORTED_MODULE_7__.HumanMessage(messageLike);\n\telse if ((0,_base_js__WEBPACK_IMPORTED_MODULE_0__.isBaseMessage)(messageLike)) return messageLike;\n\tif (Array.isArray(messageLike)) {\n\t\tconst [type, content] = messageLike;\n\t\treturn _constructMessageFromParams({\n\t\t\ttype,\n\t\t\tcontent\n\t\t});\n\t} else if ((0,_base_js__WEBPACK_IMPORTED_MODULE_0__._isMessageFieldWithRole)(messageLike)) {\n\t\tconst { role: type,...rest } = messageLike;\n\t\treturn _constructMessageFromParams({\n\t\t\t...rest,\n\t\t\ttype\n\t\t});\n\t} else return _constructMessageFromParams(messageLike);\n}\n/**\n* This function is used by memory classes to get a string representation\n* of the chat message history, based on the message content and role.\n*\n* Produces compact output like:\n* ```\n* Human: What's the weather?\n* AI: Let me check...[tool_calls]\n* Tool: 72F and sunny\n* ```\n*\n* This avoids token inflation from metadata when stringifying message objects directly.\n*/\nfunction getBufferString(messages, humanPrefix = \"Human\", aiPrefix = \"AI\") {\n\tconst string_messages = [];\n\tfor (const m of messages) {\n\t\tlet role;\n\t\tif (m.type === \"human\") role = humanPrefix;\n\t\telse if (m.type === \"ai\") role = aiPrefix;\n\t\telse if (m.type === \"system\") role = \"System\";\n\t\telse if (m.type === \"tool\") role = \"Tool\";\n\t\telse if (m.type === \"generic\") role = m.role;\n\t\telse throw new Error(`Got unsupported message type: ${m.type}`);\n\t\tconst nameStr = m.name ? `${m.name}, ` : \"\";\n\t\tconst readableContent = m.text;\n\t\tlet message = `${role}: ${nameStr}${readableContent}`;\n\t\tif (m.type === \"ai\") {\n\t\t\tconst aiMessage = m;\n\t\t\tif (aiMessage.tool_calls && aiMessage.tool_calls.length > 0) message += JSON.stringify(aiMessage.tool_calls);\n\t\t\telse if (aiMessage.additional_kwargs && \"function_call\" in aiMessage.additional_kwargs) message += JSON.stringify(aiMessage.additional_kwargs.function_call);\n\t\t}\n\t\tstring_messages.push(message);\n\t}\n\treturn string_messages.join(\"\\n\");\n}\n/**\n* Maps messages from an older format (V1) to the current `StoredMessage`\n* format. If the message is already in the `StoredMessage` format, it is\n* returned as is. Otherwise, it transforms the V1 message into a\n* `StoredMessage`. This function is important for maintaining\n* compatibility with older message formats.\n*/\nfunction mapV1MessageToStoredMessage(message) {\n\tif (message.data !== void 0) return message;\n\telse {\n\t\tconst v1Message = message;\n\t\treturn {\n\t\t\ttype: v1Message.type,\n\t\t\tdata: {\n\t\t\t\tcontent: v1Message.text,\n\t\t\t\trole: v1Message.role,\n\t\t\t\tname: void 0,\n\t\t\t\ttool_call_id: void 0\n\t\t\t}\n\t\t};\n\t}\n}\nfunction mapStoredMessageToChatMessage(message) {\n\tconst storedMessage = mapV1MessageToStoredMessage(message);\n\tswitch (storedMessage.type) {\n\t\tcase \"human\": return new _human_js__WEBPACK_IMPORTED_MODULE_7__.HumanMessage(storedMessage.data);\n\t\tcase \"ai\": return new _ai_js__WEBPACK_IMPORTED_MODULE_10__.AIMessage(storedMessage.data);\n\t\tcase \"system\": return new _system_js__WEBPACK_IMPORTED_MODULE_9__.SystemMessage(storedMessage.data);\n\t\tcase \"function\":\n\t\t\tif (storedMessage.data.name === void 0) throw new Error(\"Name must be defined for function messages\");\n\t\t\treturn new _function_js__WEBPACK_IMPORTED_MODULE_6__.FunctionMessage(storedMessage.data);\n\t\tcase \"tool\":\n\t\t\tif (storedMessage.data.tool_call_id === void 0) throw new Error(\"Tool call ID must be defined for tool messages\");\n\t\t\treturn new _tool_js__WEBPACK_IMPORTED_MODULE_1__.ToolMessage(storedMessage.data);\n\t\tcase \"generic\":\n\t\t\tif (storedMessage.data.role === void 0) throw new Error(\"Role must be defined for chat messages\");\n\t\t\treturn new _chat_js__WEBPACK_IMPORTED_MODULE_5__.ChatMessage(storedMessage.data);\n\t\tdefault: throw new Error(`Got unexpected type: ${storedMessage.type}`);\n\t}\n}\n/**\n* Transforms an array of `StoredMessage` instances into an array of\n* `BaseMessage` instances. It uses the `mapV1MessageToStoredMessage`\n* function to ensure all messages are in the `StoredMessage` format, then\n* creates new instances of the appropriate `BaseMessage` subclass based\n* on the type of each message. This function is used to prepare stored\n* messages for use in a chat context.\n*/\nfunction mapStoredMessagesToChatMessages(messages) {\n\treturn messages.map(mapStoredMessageToChatMessage);\n}\n/**\n* Transforms an array of `BaseMessage` instances into an array of\n* `StoredMessage` instances. It does this by calling the `toDict` method\n* on each `BaseMessage`, which returns a `StoredMessage`. This function\n* is used to prepare chat messages for storage.\n*/\nfunction mapChatMessagesToStoredMessages(messages) {\n\treturn messages.map((message) => message.toDict());\n}\nfunction convertToChunk(message) {\n\tconst type = message._getType();\n\tif (type === \"human\") return new _human_js__WEBPACK_IMPORTED_MODULE_7__.HumanMessageChunk({ ...message });\n\telse if (type === \"ai\") {\n\t\tlet aiChunkFields = { ...message };\n\t\tif (\"tool_calls\" in aiChunkFields) aiChunkFields = {\n\t\t\t...aiChunkFields,\n\t\t\ttool_call_chunks: aiChunkFields.tool_calls?.map((tc) => ({\n\t\t\t\t...tc,\n\t\t\t\ttype: \"tool_call_chunk\",\n\t\t\t\tindex: void 0,\n\t\t\t\targs: JSON.stringify(tc.args)\n\t\t\t}))\n\t\t};\n\t\treturn new _ai_js__WEBPACK_IMPORTED_MODULE_10__.AIMessageChunk({ ...aiChunkFields });\n\t} else if (type === \"system\") return new _system_js__WEBPACK_IMPORTED_MODULE_9__.SystemMessageChunk({ ...message });\n\telse if (type === \"function\") return new _function_js__WEBPACK_IMPORTED_MODULE_6__.FunctionMessageChunk({ ...message });\n\telse if (_chat_js__WEBPACK_IMPORTED_MODULE_5__.ChatMessage.isInstance(message)) return new _chat_js__WEBPACK_IMPORTED_MODULE_5__.ChatMessageChunk({ ...message });\n\telse throw new Error(\"Unknown message type.\");\n}\n/**\n* Collapses an array of tool call chunks into complete tool calls.\n*\n* This function groups tool call chunks by their id and/or index, then attempts to\n* parse and validate the accumulated arguments for each group. Successfully parsed\n* tool calls are returned as valid `ToolCall` objects, while malformed ones are\n* returned as `InvalidToolCall` objects.\n*\n* @param chunks - An array of `ToolCallChunk` objects to collapse\n* @returns An object containing:\n*   - `tool_call_chunks`: The original input chunks\n*   - `tool_calls`: An array of successfully parsed and validated tool calls\n*   - `invalid_tool_calls`: An array of tool calls that failed parsing or validation\n*\n* @remarks\n* Chunks are grouped using the following matching logic:\n* - If a chunk has both an id and index, it matches chunks with the same id and index\n* - If a chunk has only an id, it matches chunks with the same id\n* - If a chunk has only an index, it matches chunks with the same index\n*\n* For each group, the function:\n* 1. Concatenates all `args` strings from the chunks\n* 2. Attempts to parse the concatenated string as JSON\n* 3. Validates that the result is a non-null object with a valid id\n* 4. Creates either a `ToolCall` (if valid) or `InvalidToolCall` (if invalid)\n*/\nfunction collapseToolCallChunks(chunks) {\n\tconst groupedToolCallChunks = chunks.reduce((acc, chunk) => {\n\t\tconst matchedChunkIndex = acc.findIndex(([match]) => {\n\t\t\tif (\"id\" in chunk && chunk.id && \"index\" in chunk && chunk.index !== void 0) return chunk.id === match.id && chunk.index === match.index;\n\t\t\tif (\"id\" in chunk && chunk.id) return chunk.id === match.id;\n\t\t\tif (\"index\" in chunk && chunk.index !== void 0) return chunk.index === match.index;\n\t\t\treturn false;\n\t\t});\n\t\tif (matchedChunkIndex !== -1) acc[matchedChunkIndex].push(chunk);\n\t\telse acc.push([chunk]);\n\t\treturn acc;\n\t}, []);\n\tconst toolCalls = [];\n\tconst invalidToolCalls = [];\n\tfor (const chunks$1 of groupedToolCallChunks) {\n\t\tlet parsedArgs = null;\n\t\tconst name = chunks$1[0]?.name ?? \"\";\n\t\tconst joinedArgs = chunks$1.map((c) => c.args || \"\").join(\"\").trim();\n\t\tconst argsStr = joinedArgs.length ? joinedArgs : \"{}\";\n\t\tconst id = chunks$1[0]?.id;\n\t\ttry {\n\t\t\tparsedArgs = (0,_utils_json_js__WEBPACK_IMPORTED_MODULE_4__.parsePartialJson)(argsStr);\n\t\t\tif (!id || parsedArgs === null || typeof parsedArgs !== \"object\" || Array.isArray(parsedArgs)) throw new Error(\"Malformed tool call chunk args.\");\n\t\t\ttoolCalls.push({\n\t\t\t\tname,\n\t\t\t\targs: parsedArgs,\n\t\t\t\tid,\n\t\t\t\ttype: \"tool_call\"\n\t\t\t});\n\t\t} catch {\n\t\t\tinvalidToolCalls.push({\n\t\t\t\tname,\n\t\t\t\targs: argsStr,\n\t\t\t\tid,\n\t\t\t\terror: \"Malformed args.\",\n\t\t\t\ttype: \"invalid_tool_call\"\n\t\t\t});\n\t\t}\n\t}\n\treturn {\n\t\ttool_call_chunks: chunks,\n\t\ttool_calls: toolCalls,\n\t\tinvalid_tool_calls: invalidToolCalls\n\t};\n}\n\n//#endregion\n\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL3V0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBbUU7QUFDM0I7QUFDcUI7QUFDYjtBQUNJO0FBQ007QUFDWTtBQUNUO0FBQ2Y7QUFDa0I7QUFDWjs7QUFFcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyw0REFBVztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILFVBQVUscUNBQXFDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxtREFBWTtBQUNqRTtBQUNBLFVBQVUsb0NBQW9DO0FBQzlDLCtDQUErQyw4Q0FBUztBQUN4RDtBQUNBLGFBQWEsOENBQVM7QUFDdEI7QUFDQTtBQUNBLEdBQUc7QUFDSCxHQUFHLHVDQUF1QyxxREFBYTtBQUN2RCwyQ0FBMkMscURBQWE7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRixnRUFBZ0UsaURBQVc7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0YsdUZBQXVGLHVEQUFhO0FBQ3BHO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQSxnQkFBZ0IseUVBQXVCLG9LQUFvSyxnQ0FBZ0M7QUFDM087QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsbURBQVk7QUFDN0QsVUFBVSx1REFBYTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEdBQUcsU0FBUyxpRUFBdUI7QUFDbkMsVUFBVSxxQkFBcUI7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELE9BQU87QUFDL0QsOEJBQThCLE9BQU87QUFDckM7QUFDQSxtQkFBbUIsS0FBSyxJQUFJLFFBQVEsRUFBRSxnQkFBZ0I7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsbURBQVk7QUFDdkMsd0JBQXdCLDhDQUFTO0FBQ2pDLDRCQUE0QixxREFBYTtBQUN6QztBQUNBO0FBQ0EsY0FBYyx5REFBZTtBQUM3QjtBQUNBO0FBQ0EsY0FBYyxpREFBVztBQUN6QjtBQUNBO0FBQ0EsY0FBYyxpREFBVztBQUN6QixtREFBbUQsbUJBQW1CO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyx3REFBaUIsR0FBRyxZQUFZO0FBQ2xFO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsYUFBYSxtREFBYyxHQUFHLGtCQUFrQjtBQUNoRCxHQUFHLHVDQUF1QywwREFBa0IsR0FBRyxZQUFZO0FBQzNFLDBDQUEwQyw4REFBb0IsR0FBRyxZQUFZO0FBQzdFLFVBQVUsaURBQVcsaUNBQWlDLHNEQUFnQixHQUFHLFlBQVk7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNEO0FBQ3REO0FBQ0E7QUFDQSxnQkFBZ0IsZ0VBQWdCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDc007QUFDdE0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvbWVzc2FnZXMvdXRpbHMuanM/NDFhMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfaXNNZXNzYWdlRmllbGRXaXRoUm9sZSwgaXNCYXNlTWVzc2FnZSB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCB7IFRvb2xNZXNzYWdlIH0gZnJvbSBcIi4vdG9vbC5qc1wiO1xuaW1wb3J0IHsgYWRkTGFuZ0NoYWluRXJyb3JGaWVsZHMgfSBmcm9tIFwiLi4vZXJyb3JzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBfaXNUb29sQ2FsbCB9IGZyb20gXCIuLi90b29scy91dGlscy5qc1wiO1xuaW1wb3J0IHsgcGFyc2VQYXJ0aWFsSnNvbiB9IGZyb20gXCIuLi91dGlscy9qc29uLmpzXCI7XG5pbXBvcnQgeyBDaGF0TWVzc2FnZSwgQ2hhdE1lc3NhZ2VDaHVuayB9IGZyb20gXCIuL2NoYXQuanNcIjtcbmltcG9ydCB7IEZ1bmN0aW9uTWVzc2FnZSwgRnVuY3Rpb25NZXNzYWdlQ2h1bmsgfSBmcm9tIFwiLi9mdW5jdGlvbi5qc1wiO1xuaW1wb3J0IHsgSHVtYW5NZXNzYWdlLCBIdW1hbk1lc3NhZ2VDaHVuayB9IGZyb20gXCIuL2h1bWFuLmpzXCI7XG5pbXBvcnQgeyBSZW1vdmVNZXNzYWdlIH0gZnJvbSBcIi4vbW9kaWZpZXIuanNcIjtcbmltcG9ydCB7IFN5c3RlbU1lc3NhZ2UsIFN5c3RlbU1lc3NhZ2VDaHVuayB9IGZyb20gXCIuL3N5c3RlbS5qc1wiO1xuaW1wb3J0IHsgQUlNZXNzYWdlLCBBSU1lc3NhZ2VDaHVuayB9IGZyb20gXCIuL2FpLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvbWVzc2FnZXMvdXRpbHMudHNcbi8qKlxuKiBJbW1lZGlhdGVseS1pbnZva2VkIGZ1bmN0aW9uIGV4cHJlc3Npb24uXG4qXG4qIEBwYXJhbSBmbiAtIFRoZSBmdW5jdGlvbiB0byBleGVjdXRlXG4qIEByZXR1cm5zIFRoZSByZXN1bHQgb2YgdGhlIGZ1bmN0aW9uXG4qL1xuY29uc3QgaWlmZSA9IChmbikgPT4gZm4oKTtcbmZ1bmN0aW9uIF9jb2VyY2VUb29sQ2FsbCh0b29sQ2FsbCkge1xuXHRpZiAoX2lzVG9vbENhbGwodG9vbENhbGwpKSByZXR1cm4gdG9vbENhbGw7XG5cdGVsc2UgaWYgKHR5cGVvZiB0b29sQ2FsbC5pZCA9PT0gXCJzdHJpbmdcIiAmJiB0b29sQ2FsbC50eXBlID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIHRvb2xDYWxsLmZ1bmN0aW9uID09PSBcIm9iamVjdFwiICYmIHRvb2xDYWxsLmZ1bmN0aW9uICE9PSBudWxsICYmIFwiYXJndW1lbnRzXCIgaW4gdG9vbENhbGwuZnVuY3Rpb24gJiYgdHlwZW9mIHRvb2xDYWxsLmZ1bmN0aW9uLmFyZ3VtZW50cyA9PT0gXCJzdHJpbmdcIiAmJiBcIm5hbWVcIiBpbiB0b29sQ2FsbC5mdW5jdGlvbiAmJiB0eXBlb2YgdG9vbENhbGwuZnVuY3Rpb24ubmFtZSA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIHtcblx0XHRpZDogdG9vbENhbGwuaWQsXG5cdFx0YXJnczogSlNPTi5wYXJzZSh0b29sQ2FsbC5mdW5jdGlvbi5hcmd1bWVudHMpLFxuXHRcdG5hbWU6IHRvb2xDYWxsLmZ1bmN0aW9uLm5hbWUsXG5cdFx0dHlwZTogXCJ0b29sX2NhbGxcIlxuXHR9O1xuXHRlbHNlIHJldHVybiB0b29sQ2FsbDtcbn1cbmZ1bmN0aW9uIGlzU2VyaWFsaXplZENvbnN0cnVjdG9yKHgpIHtcblx0cmV0dXJuIHR5cGVvZiB4ID09PSBcIm9iamVjdFwiICYmIHggIT0gbnVsbCAmJiB4LmxjID09PSAxICYmIEFycmF5LmlzQXJyYXkoeC5pZCkgJiYgeC5rd2FyZ3MgIT0gbnVsbCAmJiB0eXBlb2YgeC5rd2FyZ3MgPT09IFwib2JqZWN0XCI7XG59XG5mdW5jdGlvbiBfY29uc3RydWN0TWVzc2FnZUZyb21QYXJhbXMocGFyYW1zKSB7XG5cdGxldCB0eXBlO1xuXHRsZXQgcmVzdDtcblx0aWYgKGlzU2VyaWFsaXplZENvbnN0cnVjdG9yKHBhcmFtcykpIHtcblx0XHRjb25zdCBjbGFzc05hbWUgPSBwYXJhbXMuaWQuYXQoLTEpO1xuXHRcdGlmIChjbGFzc05hbWUgPT09IFwiSHVtYW5NZXNzYWdlXCIgfHwgY2xhc3NOYW1lID09PSBcIkh1bWFuTWVzc2FnZUNodW5rXCIpIHR5cGUgPSBcInVzZXJcIjtcblx0XHRlbHNlIGlmIChjbGFzc05hbWUgPT09IFwiQUlNZXNzYWdlXCIgfHwgY2xhc3NOYW1lID09PSBcIkFJTWVzc2FnZUNodW5rXCIpIHR5cGUgPSBcImFzc2lzdGFudFwiO1xuXHRcdGVsc2UgaWYgKGNsYXNzTmFtZSA9PT0gXCJTeXN0ZW1NZXNzYWdlXCIgfHwgY2xhc3NOYW1lID09PSBcIlN5c3RlbU1lc3NhZ2VDaHVua1wiKSB0eXBlID0gXCJzeXN0ZW1cIjtcblx0XHRlbHNlIGlmIChjbGFzc05hbWUgPT09IFwiRnVuY3Rpb25NZXNzYWdlXCIgfHwgY2xhc3NOYW1lID09PSBcIkZ1bmN0aW9uTWVzc2FnZUNodW5rXCIpIHR5cGUgPSBcImZ1bmN0aW9uXCI7XG5cdFx0ZWxzZSBpZiAoY2xhc3NOYW1lID09PSBcIlRvb2xNZXNzYWdlXCIgfHwgY2xhc3NOYW1lID09PSBcIlRvb2xNZXNzYWdlQ2h1bmtcIikgdHlwZSA9IFwidG9vbFwiO1xuXHRcdGVsc2UgdHlwZSA9IFwidW5rbm93blwiO1xuXHRcdHJlc3QgPSBwYXJhbXMua3dhcmdzO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnN0IHsgdHlwZTogZXh0cmFjdGVkVHlwZSwuLi5vdGhlclBhcmFtcyB9ID0gcGFyYW1zO1xuXHRcdHR5cGUgPSBleHRyYWN0ZWRUeXBlO1xuXHRcdHJlc3QgPSBvdGhlclBhcmFtcztcblx0fVxuXHRpZiAodHlwZSA9PT0gXCJodW1hblwiIHx8IHR5cGUgPT09IFwidXNlclwiKSByZXR1cm4gbmV3IEh1bWFuTWVzc2FnZShyZXN0KTtcblx0ZWxzZSBpZiAodHlwZSA9PT0gXCJhaVwiIHx8IHR5cGUgPT09IFwiYXNzaXN0YW50XCIpIHtcblx0XHRjb25zdCB7IHRvb2xfY2FsbHM6IHJhd1Rvb2xDYWxscywuLi5vdGhlciB9ID0gcmVzdDtcblx0XHRpZiAoIUFycmF5LmlzQXJyYXkocmF3VG9vbENhbGxzKSkgcmV0dXJuIG5ldyBBSU1lc3NhZ2UocmVzdCk7XG5cdFx0Y29uc3QgdG9vbF9jYWxscyA9IHJhd1Rvb2xDYWxscy5tYXAoX2NvZXJjZVRvb2xDYWxsKTtcblx0XHRyZXR1cm4gbmV3IEFJTWVzc2FnZSh7XG5cdFx0XHQuLi5vdGhlcixcblx0XHRcdHRvb2xfY2FsbHNcblx0XHR9KTtcblx0fSBlbHNlIGlmICh0eXBlID09PSBcInN5c3RlbVwiKSByZXR1cm4gbmV3IFN5c3RlbU1lc3NhZ2UocmVzdCk7XG5cdGVsc2UgaWYgKHR5cGUgPT09IFwiZGV2ZWxvcGVyXCIpIHJldHVybiBuZXcgU3lzdGVtTWVzc2FnZSh7XG5cdFx0Li4ucmVzdCxcblx0XHRhZGRpdGlvbmFsX2t3YXJnczoge1xuXHRcdFx0Li4ucmVzdC5hZGRpdGlvbmFsX2t3YXJncyxcblx0XHRcdF9fb3BlbmFpX3JvbGVfXzogXCJkZXZlbG9wZXJcIlxuXHRcdH1cblx0fSk7XG5cdGVsc2UgaWYgKHR5cGUgPT09IFwidG9vbFwiICYmIFwidG9vbF9jYWxsX2lkXCIgaW4gcmVzdCkgcmV0dXJuIG5ldyBUb29sTWVzc2FnZSh7XG5cdFx0Li4ucmVzdCxcblx0XHRjb250ZW50OiByZXN0LmNvbnRlbnQsXG5cdFx0dG9vbF9jYWxsX2lkOiByZXN0LnRvb2xfY2FsbF9pZCxcblx0XHRuYW1lOiByZXN0Lm5hbWVcblx0fSk7XG5cdGVsc2UgaWYgKHR5cGUgPT09IFwicmVtb3ZlXCIgJiYgXCJpZFwiIGluIHJlc3QgJiYgdHlwZW9mIHJlc3QuaWQgPT09IFwic3RyaW5nXCIpIHJldHVybiBuZXcgUmVtb3ZlTWVzc2FnZSh7XG5cdFx0Li4ucmVzdCxcblx0XHRpZDogcmVzdC5pZFxuXHR9KTtcblx0ZWxzZSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBhZGRMYW5nQ2hhaW5FcnJvckZpZWxkcygvKiBAX19QVVJFX18gKi8gbmV3IEVycm9yKGBVbmFibGUgdG8gY29lcmNlIG1lc3NhZ2UgZnJvbSBhcnJheTogb25seSBodW1hbiwgQUksIHN5c3RlbSwgZGV2ZWxvcGVyLCBvciB0b29sIG1lc3NhZ2UgY29lcmNpb24gaXMgY3VycmVudGx5IHN1cHBvcnRlZC5cXG5cXG5SZWNlaXZlZDogJHtKU09OLnN0cmluZ2lmeShwYXJhbXMsIG51bGwsIDIpfWApLCBcIk1FU1NBR0VfQ09FUkNJT05fRkFJTFVSRVwiKTtcblx0XHR0aHJvdyBlcnJvcjtcblx0fVxufVxuZnVuY3Rpb24gY29lcmNlTWVzc2FnZUxpa2VUb01lc3NhZ2UobWVzc2FnZUxpa2UpIHtcblx0aWYgKHR5cGVvZiBtZXNzYWdlTGlrZSA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIG5ldyBIdW1hbk1lc3NhZ2UobWVzc2FnZUxpa2UpO1xuXHRlbHNlIGlmIChpc0Jhc2VNZXNzYWdlKG1lc3NhZ2VMaWtlKSkgcmV0dXJuIG1lc3NhZ2VMaWtlO1xuXHRpZiAoQXJyYXkuaXNBcnJheShtZXNzYWdlTGlrZSkpIHtcblx0XHRjb25zdCBbdHlwZSwgY29udGVudF0gPSBtZXNzYWdlTGlrZTtcblx0XHRyZXR1cm4gX2NvbnN0cnVjdE1lc3NhZ2VGcm9tUGFyYW1zKHtcblx0XHRcdHR5cGUsXG5cdFx0XHRjb250ZW50XG5cdFx0fSk7XG5cdH0gZWxzZSBpZiAoX2lzTWVzc2FnZUZpZWxkV2l0aFJvbGUobWVzc2FnZUxpa2UpKSB7XG5cdFx0Y29uc3QgeyByb2xlOiB0eXBlLC4uLnJlc3QgfSA9IG1lc3NhZ2VMaWtlO1xuXHRcdHJldHVybiBfY29uc3RydWN0TWVzc2FnZUZyb21QYXJhbXMoe1xuXHRcdFx0Li4ucmVzdCxcblx0XHRcdHR5cGVcblx0XHR9KTtcblx0fSBlbHNlIHJldHVybiBfY29uc3RydWN0TWVzc2FnZUZyb21QYXJhbXMobWVzc2FnZUxpa2UpO1xufVxuLyoqXG4qIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCBieSBtZW1vcnkgY2xhc3NlcyB0byBnZXQgYSBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiogb2YgdGhlIGNoYXQgbWVzc2FnZSBoaXN0b3J5LCBiYXNlZCBvbiB0aGUgbWVzc2FnZSBjb250ZW50IGFuZCByb2xlLlxuKlxuKiBQcm9kdWNlcyBjb21wYWN0IG91dHB1dCBsaWtlOlxuKiBgYGBcbiogSHVtYW46IFdoYXQncyB0aGUgd2VhdGhlcj9cbiogQUk6IExldCBtZSBjaGVjay4uLlt0b29sX2NhbGxzXVxuKiBUb29sOiA3MsKwRiBhbmQgc3VubnlcbiogYGBgXG4qXG4qIFRoaXMgYXZvaWRzIHRva2VuIGluZmxhdGlvbiBmcm9tIG1ldGFkYXRhIHdoZW4gc3RyaW5naWZ5aW5nIG1lc3NhZ2Ugb2JqZWN0cyBkaXJlY3RseS5cbiovXG5mdW5jdGlvbiBnZXRCdWZmZXJTdHJpbmcobWVzc2FnZXMsIGh1bWFuUHJlZml4ID0gXCJIdW1hblwiLCBhaVByZWZpeCA9IFwiQUlcIikge1xuXHRjb25zdCBzdHJpbmdfbWVzc2FnZXMgPSBbXTtcblx0Zm9yIChjb25zdCBtIG9mIG1lc3NhZ2VzKSB7XG5cdFx0bGV0IHJvbGU7XG5cdFx0aWYgKG0udHlwZSA9PT0gXCJodW1hblwiKSByb2xlID0gaHVtYW5QcmVmaXg7XG5cdFx0ZWxzZSBpZiAobS50eXBlID09PSBcImFpXCIpIHJvbGUgPSBhaVByZWZpeDtcblx0XHRlbHNlIGlmIChtLnR5cGUgPT09IFwic3lzdGVtXCIpIHJvbGUgPSBcIlN5c3RlbVwiO1xuXHRcdGVsc2UgaWYgKG0udHlwZSA9PT0gXCJ0b29sXCIpIHJvbGUgPSBcIlRvb2xcIjtcblx0XHRlbHNlIGlmIChtLnR5cGUgPT09IFwiZ2VuZXJpY1wiKSByb2xlID0gbS5yb2xlO1xuXHRcdGVsc2UgdGhyb3cgbmV3IEVycm9yKGBHb3QgdW5zdXBwb3J0ZWQgbWVzc2FnZSB0eXBlOiAke20udHlwZX1gKTtcblx0XHRjb25zdCBuYW1lU3RyID0gbS5uYW1lID8gYCR7bS5uYW1lfSwgYCA6IFwiXCI7XG5cdFx0Y29uc3QgcmVhZGFibGVDb250ZW50ID0gbS50ZXh0O1xuXHRcdGxldCBtZXNzYWdlID0gYCR7cm9sZX06ICR7bmFtZVN0cn0ke3JlYWRhYmxlQ29udGVudH1gO1xuXHRcdGlmIChtLnR5cGUgPT09IFwiYWlcIikge1xuXHRcdFx0Y29uc3QgYWlNZXNzYWdlID0gbTtcblx0XHRcdGlmIChhaU1lc3NhZ2UudG9vbF9jYWxscyAmJiBhaU1lc3NhZ2UudG9vbF9jYWxscy5sZW5ndGggPiAwKSBtZXNzYWdlICs9IEpTT04uc3RyaW5naWZ5KGFpTWVzc2FnZS50b29sX2NhbGxzKTtcblx0XHRcdGVsc2UgaWYgKGFpTWVzc2FnZS5hZGRpdGlvbmFsX2t3YXJncyAmJiBcImZ1bmN0aW9uX2NhbGxcIiBpbiBhaU1lc3NhZ2UuYWRkaXRpb25hbF9rd2FyZ3MpIG1lc3NhZ2UgKz0gSlNPTi5zdHJpbmdpZnkoYWlNZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzLmZ1bmN0aW9uX2NhbGwpO1xuXHRcdH1cblx0XHRzdHJpbmdfbWVzc2FnZXMucHVzaChtZXNzYWdlKTtcblx0fVxuXHRyZXR1cm4gc3RyaW5nX21lc3NhZ2VzLmpvaW4oXCJcXG5cIik7XG59XG4vKipcbiogTWFwcyBtZXNzYWdlcyBmcm9tIGFuIG9sZGVyIGZvcm1hdCAoVjEpIHRvIHRoZSBjdXJyZW50IGBTdG9yZWRNZXNzYWdlYFxuKiBmb3JtYXQuIElmIHRoZSBtZXNzYWdlIGlzIGFscmVhZHkgaW4gdGhlIGBTdG9yZWRNZXNzYWdlYCBmb3JtYXQsIGl0IGlzXG4qIHJldHVybmVkIGFzIGlzLiBPdGhlcndpc2UsIGl0IHRyYW5zZm9ybXMgdGhlIFYxIG1lc3NhZ2UgaW50byBhXG4qIGBTdG9yZWRNZXNzYWdlYC4gVGhpcyBmdW5jdGlvbiBpcyBpbXBvcnRhbnQgZm9yIG1haW50YWluaW5nXG4qIGNvbXBhdGliaWxpdHkgd2l0aCBvbGRlciBtZXNzYWdlIGZvcm1hdHMuXG4qL1xuZnVuY3Rpb24gbWFwVjFNZXNzYWdlVG9TdG9yZWRNZXNzYWdlKG1lc3NhZ2UpIHtcblx0aWYgKG1lc3NhZ2UuZGF0YSAhPT0gdm9pZCAwKSByZXR1cm4gbWVzc2FnZTtcblx0ZWxzZSB7XG5cdFx0Y29uc3QgdjFNZXNzYWdlID0gbWVzc2FnZTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0dHlwZTogdjFNZXNzYWdlLnR5cGUsXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdGNvbnRlbnQ6IHYxTWVzc2FnZS50ZXh0LFxuXHRcdFx0XHRyb2xlOiB2MU1lc3NhZ2Uucm9sZSxcblx0XHRcdFx0bmFtZTogdm9pZCAwLFxuXHRcdFx0XHR0b29sX2NhbGxfaWQ6IHZvaWQgMFxuXHRcdFx0fVxuXHRcdH07XG5cdH1cbn1cbmZ1bmN0aW9uIG1hcFN0b3JlZE1lc3NhZ2VUb0NoYXRNZXNzYWdlKG1lc3NhZ2UpIHtcblx0Y29uc3Qgc3RvcmVkTWVzc2FnZSA9IG1hcFYxTWVzc2FnZVRvU3RvcmVkTWVzc2FnZShtZXNzYWdlKTtcblx0c3dpdGNoIChzdG9yZWRNZXNzYWdlLnR5cGUpIHtcblx0XHRjYXNlIFwiaHVtYW5cIjogcmV0dXJuIG5ldyBIdW1hbk1lc3NhZ2Uoc3RvcmVkTWVzc2FnZS5kYXRhKTtcblx0XHRjYXNlIFwiYWlcIjogcmV0dXJuIG5ldyBBSU1lc3NhZ2Uoc3RvcmVkTWVzc2FnZS5kYXRhKTtcblx0XHRjYXNlIFwic3lzdGVtXCI6IHJldHVybiBuZXcgU3lzdGVtTWVzc2FnZShzdG9yZWRNZXNzYWdlLmRhdGEpO1xuXHRcdGNhc2UgXCJmdW5jdGlvblwiOlxuXHRcdFx0aWYgKHN0b3JlZE1lc3NhZ2UuZGF0YS5uYW1lID09PSB2b2lkIDApIHRocm93IG5ldyBFcnJvcihcIk5hbWUgbXVzdCBiZSBkZWZpbmVkIGZvciBmdW5jdGlvbiBtZXNzYWdlc1wiKTtcblx0XHRcdHJldHVybiBuZXcgRnVuY3Rpb25NZXNzYWdlKHN0b3JlZE1lc3NhZ2UuZGF0YSk7XG5cdFx0Y2FzZSBcInRvb2xcIjpcblx0XHRcdGlmIChzdG9yZWRNZXNzYWdlLmRhdGEudG9vbF9jYWxsX2lkID09PSB2b2lkIDApIHRocm93IG5ldyBFcnJvcihcIlRvb2wgY2FsbCBJRCBtdXN0IGJlIGRlZmluZWQgZm9yIHRvb2wgbWVzc2FnZXNcIik7XG5cdFx0XHRyZXR1cm4gbmV3IFRvb2xNZXNzYWdlKHN0b3JlZE1lc3NhZ2UuZGF0YSk7XG5cdFx0Y2FzZSBcImdlbmVyaWNcIjpcblx0XHRcdGlmIChzdG9yZWRNZXNzYWdlLmRhdGEucm9sZSA9PT0gdm9pZCAwKSB0aHJvdyBuZXcgRXJyb3IoXCJSb2xlIG11c3QgYmUgZGVmaW5lZCBmb3IgY2hhdCBtZXNzYWdlc1wiKTtcblx0XHRcdHJldHVybiBuZXcgQ2hhdE1lc3NhZ2Uoc3RvcmVkTWVzc2FnZS5kYXRhKTtcblx0XHRkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoYEdvdCB1bmV4cGVjdGVkIHR5cGU6ICR7c3RvcmVkTWVzc2FnZS50eXBlfWApO1xuXHR9XG59XG4vKipcbiogVHJhbnNmb3JtcyBhbiBhcnJheSBvZiBgU3RvcmVkTWVzc2FnZWAgaW5zdGFuY2VzIGludG8gYW4gYXJyYXkgb2ZcbiogYEJhc2VNZXNzYWdlYCBpbnN0YW5jZXMuIEl0IHVzZXMgdGhlIGBtYXBWMU1lc3NhZ2VUb1N0b3JlZE1lc3NhZ2VgXG4qIGZ1bmN0aW9uIHRvIGVuc3VyZSBhbGwgbWVzc2FnZXMgYXJlIGluIHRoZSBgU3RvcmVkTWVzc2FnZWAgZm9ybWF0LCB0aGVuXG4qIGNyZWF0ZXMgbmV3IGluc3RhbmNlcyBvZiB0aGUgYXBwcm9wcmlhdGUgYEJhc2VNZXNzYWdlYCBzdWJjbGFzcyBiYXNlZFxuKiBvbiB0aGUgdHlwZSBvZiBlYWNoIG1lc3NhZ2UuIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBwcmVwYXJlIHN0b3JlZFxuKiBtZXNzYWdlcyBmb3IgdXNlIGluIGEgY2hhdCBjb250ZXh0LlxuKi9cbmZ1bmN0aW9uIG1hcFN0b3JlZE1lc3NhZ2VzVG9DaGF0TWVzc2FnZXMobWVzc2FnZXMpIHtcblx0cmV0dXJuIG1lc3NhZ2VzLm1hcChtYXBTdG9yZWRNZXNzYWdlVG9DaGF0TWVzc2FnZSk7XG59XG4vKipcbiogVHJhbnNmb3JtcyBhbiBhcnJheSBvZiBgQmFzZU1lc3NhZ2VgIGluc3RhbmNlcyBpbnRvIGFuIGFycmF5IG9mXG4qIGBTdG9yZWRNZXNzYWdlYCBpbnN0YW5jZXMuIEl0IGRvZXMgdGhpcyBieSBjYWxsaW5nIHRoZSBgdG9EaWN0YCBtZXRob2Rcbiogb24gZWFjaCBgQmFzZU1lc3NhZ2VgLCB3aGljaCByZXR1cm5zIGEgYFN0b3JlZE1lc3NhZ2VgLiBUaGlzIGZ1bmN0aW9uXG4qIGlzIHVzZWQgdG8gcHJlcGFyZSBjaGF0IG1lc3NhZ2VzIGZvciBzdG9yYWdlLlxuKi9cbmZ1bmN0aW9uIG1hcENoYXRNZXNzYWdlc1RvU3RvcmVkTWVzc2FnZXMobWVzc2FnZXMpIHtcblx0cmV0dXJuIG1lc3NhZ2VzLm1hcCgobWVzc2FnZSkgPT4gbWVzc2FnZS50b0RpY3QoKSk7XG59XG5mdW5jdGlvbiBjb252ZXJ0VG9DaHVuayhtZXNzYWdlKSB7XG5cdGNvbnN0IHR5cGUgPSBtZXNzYWdlLl9nZXRUeXBlKCk7XG5cdGlmICh0eXBlID09PSBcImh1bWFuXCIpIHJldHVybiBuZXcgSHVtYW5NZXNzYWdlQ2h1bmsoeyAuLi5tZXNzYWdlIH0pO1xuXHRlbHNlIGlmICh0eXBlID09PSBcImFpXCIpIHtcblx0XHRsZXQgYWlDaHVua0ZpZWxkcyA9IHsgLi4ubWVzc2FnZSB9O1xuXHRcdGlmIChcInRvb2xfY2FsbHNcIiBpbiBhaUNodW5rRmllbGRzKSBhaUNodW5rRmllbGRzID0ge1xuXHRcdFx0Li4uYWlDaHVua0ZpZWxkcyxcblx0XHRcdHRvb2xfY2FsbF9jaHVua3M6IGFpQ2h1bmtGaWVsZHMudG9vbF9jYWxscz8ubWFwKCh0YykgPT4gKHtcblx0XHRcdFx0Li4udGMsXG5cdFx0XHRcdHR5cGU6IFwidG9vbF9jYWxsX2NodW5rXCIsXG5cdFx0XHRcdGluZGV4OiB2b2lkIDAsXG5cdFx0XHRcdGFyZ3M6IEpTT04uc3RyaW5naWZ5KHRjLmFyZ3MpXG5cdFx0XHR9KSlcblx0XHR9O1xuXHRcdHJldHVybiBuZXcgQUlNZXNzYWdlQ2h1bmsoeyAuLi5haUNodW5rRmllbGRzIH0pO1xuXHR9IGVsc2UgaWYgKHR5cGUgPT09IFwic3lzdGVtXCIpIHJldHVybiBuZXcgU3lzdGVtTWVzc2FnZUNodW5rKHsgLi4ubWVzc2FnZSB9KTtcblx0ZWxzZSBpZiAodHlwZSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gbmV3IEZ1bmN0aW9uTWVzc2FnZUNodW5rKHsgLi4ubWVzc2FnZSB9KTtcblx0ZWxzZSBpZiAoQ2hhdE1lc3NhZ2UuaXNJbnN0YW5jZShtZXNzYWdlKSkgcmV0dXJuIG5ldyBDaGF0TWVzc2FnZUNodW5rKHsgLi4ubWVzc2FnZSB9KTtcblx0ZWxzZSB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIG1lc3NhZ2UgdHlwZS5cIik7XG59XG4vKipcbiogQ29sbGFwc2VzIGFuIGFycmF5IG9mIHRvb2wgY2FsbCBjaHVua3MgaW50byBjb21wbGV0ZSB0b29sIGNhbGxzLlxuKlxuKiBUaGlzIGZ1bmN0aW9uIGdyb3VwcyB0b29sIGNhbGwgY2h1bmtzIGJ5IHRoZWlyIGlkIGFuZC9vciBpbmRleCwgdGhlbiBhdHRlbXB0cyB0b1xuKiBwYXJzZSBhbmQgdmFsaWRhdGUgdGhlIGFjY3VtdWxhdGVkIGFyZ3VtZW50cyBmb3IgZWFjaCBncm91cC4gU3VjY2Vzc2Z1bGx5IHBhcnNlZFxuKiB0b29sIGNhbGxzIGFyZSByZXR1cm5lZCBhcyB2YWxpZCBgVG9vbENhbGxgIG9iamVjdHMsIHdoaWxlIG1hbGZvcm1lZCBvbmVzIGFyZVxuKiByZXR1cm5lZCBhcyBgSW52YWxpZFRvb2xDYWxsYCBvYmplY3RzLlxuKlxuKiBAcGFyYW0gY2h1bmtzIC0gQW4gYXJyYXkgb2YgYFRvb2xDYWxsQ2h1bmtgIG9iamVjdHMgdG8gY29sbGFwc2VcbiogQHJldHVybnMgQW4gb2JqZWN0IGNvbnRhaW5pbmc6XG4qICAgLSBgdG9vbF9jYWxsX2NodW5rc2A6IFRoZSBvcmlnaW5hbCBpbnB1dCBjaHVua3NcbiogICAtIGB0b29sX2NhbGxzYDogQW4gYXJyYXkgb2Ygc3VjY2Vzc2Z1bGx5IHBhcnNlZCBhbmQgdmFsaWRhdGVkIHRvb2wgY2FsbHNcbiogICAtIGBpbnZhbGlkX3Rvb2xfY2FsbHNgOiBBbiBhcnJheSBvZiB0b29sIGNhbGxzIHRoYXQgZmFpbGVkIHBhcnNpbmcgb3IgdmFsaWRhdGlvblxuKlxuKiBAcmVtYXJrc1xuKiBDaHVua3MgYXJlIGdyb3VwZWQgdXNpbmcgdGhlIGZvbGxvd2luZyBtYXRjaGluZyBsb2dpYzpcbiogLSBJZiBhIGNodW5rIGhhcyBib3RoIGFuIGlkIGFuZCBpbmRleCwgaXQgbWF0Y2hlcyBjaHVua3Mgd2l0aCB0aGUgc2FtZSBpZCBhbmQgaW5kZXhcbiogLSBJZiBhIGNodW5rIGhhcyBvbmx5IGFuIGlkLCBpdCBtYXRjaGVzIGNodW5rcyB3aXRoIHRoZSBzYW1lIGlkXG4qIC0gSWYgYSBjaHVuayBoYXMgb25seSBhbiBpbmRleCwgaXQgbWF0Y2hlcyBjaHVua3Mgd2l0aCB0aGUgc2FtZSBpbmRleFxuKlxuKiBGb3IgZWFjaCBncm91cCwgdGhlIGZ1bmN0aW9uOlxuKiAxLiBDb25jYXRlbmF0ZXMgYWxsIGBhcmdzYCBzdHJpbmdzIGZyb20gdGhlIGNodW5rc1xuKiAyLiBBdHRlbXB0cyB0byBwYXJzZSB0aGUgY29uY2F0ZW5hdGVkIHN0cmluZyBhcyBKU09OXG4qIDMuIFZhbGlkYXRlcyB0aGF0IHRoZSByZXN1bHQgaXMgYSBub24tbnVsbCBvYmplY3Qgd2l0aCBhIHZhbGlkIGlkXG4qIDQuIENyZWF0ZXMgZWl0aGVyIGEgYFRvb2xDYWxsYCAoaWYgdmFsaWQpIG9yIGBJbnZhbGlkVG9vbENhbGxgIChpZiBpbnZhbGlkKVxuKi9cbmZ1bmN0aW9uIGNvbGxhcHNlVG9vbENhbGxDaHVua3MoY2h1bmtzKSB7XG5cdGNvbnN0IGdyb3VwZWRUb29sQ2FsbENodW5rcyA9IGNodW5rcy5yZWR1Y2UoKGFjYywgY2h1bmspID0+IHtcblx0XHRjb25zdCBtYXRjaGVkQ2h1bmtJbmRleCA9IGFjYy5maW5kSW5kZXgoKFttYXRjaF0pID0+IHtcblx0XHRcdGlmIChcImlkXCIgaW4gY2h1bmsgJiYgY2h1bmsuaWQgJiYgXCJpbmRleFwiIGluIGNodW5rICYmIGNodW5rLmluZGV4ICE9PSB2b2lkIDApIHJldHVybiBjaHVuay5pZCA9PT0gbWF0Y2guaWQgJiYgY2h1bmsuaW5kZXggPT09IG1hdGNoLmluZGV4O1xuXHRcdFx0aWYgKFwiaWRcIiBpbiBjaHVuayAmJiBjaHVuay5pZCkgcmV0dXJuIGNodW5rLmlkID09PSBtYXRjaC5pZDtcblx0XHRcdGlmIChcImluZGV4XCIgaW4gY2h1bmsgJiYgY2h1bmsuaW5kZXggIT09IHZvaWQgMCkgcmV0dXJuIGNodW5rLmluZGV4ID09PSBtYXRjaC5pbmRleDtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9KTtcblx0XHRpZiAobWF0Y2hlZENodW5rSW5kZXggIT09IC0xKSBhY2NbbWF0Y2hlZENodW5rSW5kZXhdLnB1c2goY2h1bmspO1xuXHRcdGVsc2UgYWNjLnB1c2goW2NodW5rXSk7XG5cdFx0cmV0dXJuIGFjYztcblx0fSwgW10pO1xuXHRjb25zdCB0b29sQ2FsbHMgPSBbXTtcblx0Y29uc3QgaW52YWxpZFRvb2xDYWxscyA9IFtdO1xuXHRmb3IgKGNvbnN0IGNodW5rcyQxIG9mIGdyb3VwZWRUb29sQ2FsbENodW5rcykge1xuXHRcdGxldCBwYXJzZWRBcmdzID0gbnVsbDtcblx0XHRjb25zdCBuYW1lID0gY2h1bmtzJDFbMF0/Lm5hbWUgPz8gXCJcIjtcblx0XHRjb25zdCBqb2luZWRBcmdzID0gY2h1bmtzJDEubWFwKChjKSA9PiBjLmFyZ3MgfHwgXCJcIikuam9pbihcIlwiKS50cmltKCk7XG5cdFx0Y29uc3QgYXJnc1N0ciA9IGpvaW5lZEFyZ3MubGVuZ3RoID8gam9pbmVkQXJncyA6IFwie31cIjtcblx0XHRjb25zdCBpZCA9IGNodW5rcyQxWzBdPy5pZDtcblx0XHR0cnkge1xuXHRcdFx0cGFyc2VkQXJncyA9IHBhcnNlUGFydGlhbEpzb24oYXJnc1N0cik7XG5cdFx0XHRpZiAoIWlkIHx8IHBhcnNlZEFyZ3MgPT09IG51bGwgfHwgdHlwZW9mIHBhcnNlZEFyZ3MgIT09IFwib2JqZWN0XCIgfHwgQXJyYXkuaXNBcnJheShwYXJzZWRBcmdzKSkgdGhyb3cgbmV3IEVycm9yKFwiTWFsZm9ybWVkIHRvb2wgY2FsbCBjaHVuayBhcmdzLlwiKTtcblx0XHRcdHRvb2xDYWxscy5wdXNoKHtcblx0XHRcdFx0bmFtZSxcblx0XHRcdFx0YXJnczogcGFyc2VkQXJncyxcblx0XHRcdFx0aWQsXG5cdFx0XHRcdHR5cGU6IFwidG9vbF9jYWxsXCJcblx0XHRcdH0pO1xuXHRcdH0gY2F0Y2gge1xuXHRcdFx0aW52YWxpZFRvb2xDYWxscy5wdXNoKHtcblx0XHRcdFx0bmFtZSxcblx0XHRcdFx0YXJnczogYXJnc1N0cixcblx0XHRcdFx0aWQsXG5cdFx0XHRcdGVycm9yOiBcIk1hbGZvcm1lZCBhcmdzLlwiLFxuXHRcdFx0XHR0eXBlOiBcImludmFsaWRfdG9vbF9jYWxsXCJcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4ge1xuXHRcdHRvb2xfY2FsbF9jaHVua3M6IGNodW5rcyxcblx0XHR0b29sX2NhbGxzOiB0b29sQ2FsbHMsXG5cdFx0aW52YWxpZF90b29sX2NhbGxzOiBpbnZhbGlkVG9vbENhbGxzXG5cdH07XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgY29lcmNlTWVzc2FnZUxpa2VUb01lc3NhZ2UsIGNvbGxhcHNlVG9vbENhbGxDaHVua3MsIGNvbnZlcnRUb0NodW5rLCBnZXRCdWZmZXJTdHJpbmcsIGlpZmUsIG1hcENoYXRNZXNzYWdlc1RvU3RvcmVkTWVzc2FnZXMsIG1hcFN0b3JlZE1lc3NhZ2VUb0NoYXRNZXNzYWdlLCBtYXBTdG9yZWRNZXNzYWdlc1RvQ2hhdE1lc3NhZ2VzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/base.js":
/*!*************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/base.js ***!
  \*************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseLLMOutputParser: () => (/* binding */ BaseLLMOutputParser),\n/* harmony export */   BaseOutputParser: () => (/* binding */ BaseOutputParser),\n/* harmony export */   OutputParserException: () => (/* binding */ OutputParserException)\n/* harmony export */ });\n/* harmony import */ var _errors_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors/index.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/errors/index.js\");\n/* harmony import */ var _runnables_base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../runnables/base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/base.js\");\n/* harmony import */ var _runnables_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../runnables/index.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/index.js\");\n\n\n\n\n//#region src/output_parsers/base.ts\n/**\n* Abstract base class for parsing the output of a Large Language Model\n* (LLM) call. It provides methods for parsing the result of an LLM call\n* and invoking the parser with a given input.\n*/\nvar BaseLLMOutputParser = class extends _runnables_base_js__WEBPACK_IMPORTED_MODULE_1__.Runnable {\n\t/**\n\t* Parses the result of an LLM call with a given prompt. By default, it\n\t* simply calls `parseResult`.\n\t* @param generations The generations from an LLM call.\n\t* @param _prompt The prompt used in the LLM call.\n\t* @param callbacks Optional callbacks.\n\t* @returns A promise of the parsed output.\n\t*/\n\tparseResultWithPrompt(generations, _prompt, callbacks) {\n\t\treturn this.parseResult(generations, callbacks);\n\t}\n\t_baseMessageToString(message) {\n\t\treturn typeof message.content === \"string\" ? message.content : this._baseMessageContentToString(message.content);\n\t}\n\t_baseMessageContentToString(content) {\n\t\treturn JSON.stringify(content);\n\t}\n\t/**\n\t* Calls the parser with a given input and optional configuration options.\n\t* If the input is a string, it creates a generation with the input as\n\t* text and calls `parseResult`. If the input is a `BaseMessage`, it\n\t* creates a generation with the input as a message and the content of the\n\t* input as text, and then calls `parseResult`.\n\t* @param input The input to the parser, which can be a string or a `BaseMessage`.\n\t* @param options Optional configuration options.\n\t* @returns A promise of the parsed output.\n\t*/\n\tasync invoke(input, options) {\n\t\tif (typeof input === \"string\") return this._callWithConfig(async (input$1, options$1) => this.parseResult([{ text: input$1 }], options$1?.callbacks), input, {\n\t\t\t...options,\n\t\t\trunType: \"parser\"\n\t\t});\n\t\telse return this._callWithConfig(async (input$1, options$1) => this.parseResult([{\n\t\t\tmessage: input$1,\n\t\t\ttext: this._baseMessageToString(input$1)\n\t\t}], options$1?.callbacks), input, {\n\t\t\t...options,\n\t\t\trunType: \"parser\"\n\t\t});\n\t}\n};\n/**\n* Class to parse the output of an LLM call.\n*/\nvar BaseOutputParser = class extends BaseLLMOutputParser {\n\tparseResult(generations, callbacks) {\n\t\treturn this.parse(generations[0].text, callbacks);\n\t}\n\tasync parseWithPrompt(text, _prompt, callbacks) {\n\t\treturn this.parse(text, callbacks);\n\t}\n\t/**\n\t* Return the string type key uniquely identifying this class of parser\n\t*/\n\t_type() {\n\t\tthrow new Error(\"_type not implemented\");\n\t}\n};\n/**\n* Exception that output parsers should raise to signify a parsing error.\n*\n* This exists to differentiate parsing errors from other code or execution errors\n* that also may arise inside the output parser. OutputParserExceptions will be\n* available to catch and handle in ways to fix the parsing error, while other\n* errors will be raised.\n*\n* @param message - The error that's being re-raised or an error message.\n* @param llmOutput - String model output which is error-ing.\n* @param observation - String explanation of error which can be passed to a\n*     model to try and remediate the issue.\n* @param sendToLLM - Whether to send the observation and llm_output back to an Agent\n*     after an OutputParserException has been raised. This gives the underlying\n*     model driving the agent the context that the previous output was improperly\n*     structured, in the hopes that it will update the output to the correct\n*     format.\n*/\nvar OutputParserException = class extends Error {\n\tllmOutput;\n\tobservation;\n\tsendToLLM;\n\tconstructor(message, llmOutput, observation, sendToLLM = false) {\n\t\tsuper(message);\n\t\tthis.llmOutput = llmOutput;\n\t\tthis.observation = observation;\n\t\tthis.sendToLLM = sendToLLM;\n\t\tif (sendToLLM) {\n\t\t\tif (observation === void 0 || llmOutput === void 0) throw new Error(\"Arguments 'observation' & 'llmOutput' are required if 'sendToLlm' is true\");\n\t\t}\n\t\t(0,_errors_index_js__WEBPACK_IMPORTED_MODULE_0__.addLangChainErrorFields)(this, \"OUTPUT_PARSING_FAILURE\");\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=base.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L291dHB1dF9wYXJzZXJzL2Jhc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTZEO0FBQ2I7QUFDakI7O0FBRS9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3Qyx3REFBUTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtHQUErRyxlQUFlO0FBQzlIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLHlFQUF1QjtBQUN6QjtBQUNBOztBQUVBO0FBQ3dFO0FBQ3hFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L291dHB1dF9wYXJzZXJzL2Jhc2UuanM/OWVhMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhZGRMYW5nQ2hhaW5FcnJvckZpZWxkcyB9IGZyb20gXCIuLi9lcnJvcnMvaW5kZXguanNcIjtcbmltcG9ydCB7IFJ1bm5hYmxlIH0gZnJvbSBcIi4uL3J1bm5hYmxlcy9iYXNlLmpzXCI7XG5pbXBvcnQgXCIuLi9ydW5uYWJsZXMvaW5kZXguanNcIjtcblxuLy8jcmVnaW9uIHNyYy9vdXRwdXRfcGFyc2Vycy9iYXNlLnRzXG4vKipcbiogQWJzdHJhY3QgYmFzZSBjbGFzcyBmb3IgcGFyc2luZyB0aGUgb3V0cHV0IG9mIGEgTGFyZ2UgTGFuZ3VhZ2UgTW9kZWxcbiogKExMTSkgY2FsbC4gSXQgcHJvdmlkZXMgbWV0aG9kcyBmb3IgcGFyc2luZyB0aGUgcmVzdWx0IG9mIGFuIExMTSBjYWxsXG4qIGFuZCBpbnZva2luZyB0aGUgcGFyc2VyIHdpdGggYSBnaXZlbiBpbnB1dC5cbiovXG52YXIgQmFzZUxMTU91dHB1dFBhcnNlciA9IGNsYXNzIGV4dGVuZHMgUnVubmFibGUge1xuXHQvKipcblx0KiBQYXJzZXMgdGhlIHJlc3VsdCBvZiBhbiBMTE0gY2FsbCB3aXRoIGEgZ2l2ZW4gcHJvbXB0LiBCeSBkZWZhdWx0LCBpdFxuXHQqIHNpbXBseSBjYWxscyBgcGFyc2VSZXN1bHRgLlxuXHQqIEBwYXJhbSBnZW5lcmF0aW9ucyBUaGUgZ2VuZXJhdGlvbnMgZnJvbSBhbiBMTE0gY2FsbC5cblx0KiBAcGFyYW0gX3Byb21wdCBUaGUgcHJvbXB0IHVzZWQgaW4gdGhlIExMTSBjYWxsLlxuXHQqIEBwYXJhbSBjYWxsYmFja3MgT3B0aW9uYWwgY2FsbGJhY2tzLlxuXHQqIEByZXR1cm5zIEEgcHJvbWlzZSBvZiB0aGUgcGFyc2VkIG91dHB1dC5cblx0Ki9cblx0cGFyc2VSZXN1bHRXaXRoUHJvbXB0KGdlbmVyYXRpb25zLCBfcHJvbXB0LCBjYWxsYmFja3MpIHtcblx0XHRyZXR1cm4gdGhpcy5wYXJzZVJlc3VsdChnZW5lcmF0aW9ucywgY2FsbGJhY2tzKTtcblx0fVxuXHRfYmFzZU1lc3NhZ2VUb1N0cmluZyhtZXNzYWdlKSB7XG5cdFx0cmV0dXJuIHR5cGVvZiBtZXNzYWdlLmNvbnRlbnQgPT09IFwic3RyaW5nXCIgPyBtZXNzYWdlLmNvbnRlbnQgOiB0aGlzLl9iYXNlTWVzc2FnZUNvbnRlbnRUb1N0cmluZyhtZXNzYWdlLmNvbnRlbnQpO1xuXHR9XG5cdF9iYXNlTWVzc2FnZUNvbnRlbnRUb1N0cmluZyhjb250ZW50KSB7XG5cdFx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KGNvbnRlbnQpO1xuXHR9XG5cdC8qKlxuXHQqIENhbGxzIHRoZSBwYXJzZXIgd2l0aCBhIGdpdmVuIGlucHV0IGFuZCBvcHRpb25hbCBjb25maWd1cmF0aW9uIG9wdGlvbnMuXG5cdCogSWYgdGhlIGlucHV0IGlzIGEgc3RyaW5nLCBpdCBjcmVhdGVzIGEgZ2VuZXJhdGlvbiB3aXRoIHRoZSBpbnB1dCBhc1xuXHQqIHRleHQgYW5kIGNhbGxzIGBwYXJzZVJlc3VsdGAuIElmIHRoZSBpbnB1dCBpcyBhIGBCYXNlTWVzc2FnZWAsIGl0XG5cdCogY3JlYXRlcyBhIGdlbmVyYXRpb24gd2l0aCB0aGUgaW5wdXQgYXMgYSBtZXNzYWdlIGFuZCB0aGUgY29udGVudCBvZiB0aGVcblx0KiBpbnB1dCBhcyB0ZXh0LCBhbmQgdGhlbiBjYWxscyBgcGFyc2VSZXN1bHRgLlxuXHQqIEBwYXJhbSBpbnB1dCBUaGUgaW5wdXQgdG8gdGhlIHBhcnNlciwgd2hpY2ggY2FuIGJlIGEgc3RyaW5nIG9yIGEgYEJhc2VNZXNzYWdlYC5cblx0KiBAcGFyYW0gb3B0aW9ucyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9wdGlvbnMuXG5cdCogQHJldHVybnMgQSBwcm9taXNlIG9mIHRoZSBwYXJzZWQgb3V0cHV0LlxuXHQqL1xuXHRhc3luYyBpbnZva2UoaW5wdXQsIG9wdGlvbnMpIHtcblx0XHRpZiAodHlwZW9mIGlucHV0ID09PSBcInN0cmluZ1wiKSByZXR1cm4gdGhpcy5fY2FsbFdpdGhDb25maWcoYXN5bmMgKGlucHV0JDEsIG9wdGlvbnMkMSkgPT4gdGhpcy5wYXJzZVJlc3VsdChbeyB0ZXh0OiBpbnB1dCQxIH1dLCBvcHRpb25zJDE/LmNhbGxiYWNrcyksIGlucHV0LCB7XG5cdFx0XHQuLi5vcHRpb25zLFxuXHRcdFx0cnVuVHlwZTogXCJwYXJzZXJcIlxuXHRcdH0pO1xuXHRcdGVsc2UgcmV0dXJuIHRoaXMuX2NhbGxXaXRoQ29uZmlnKGFzeW5jIChpbnB1dCQxLCBvcHRpb25zJDEpID0+IHRoaXMucGFyc2VSZXN1bHQoW3tcblx0XHRcdG1lc3NhZ2U6IGlucHV0JDEsXG5cdFx0XHR0ZXh0OiB0aGlzLl9iYXNlTWVzc2FnZVRvU3RyaW5nKGlucHV0JDEpXG5cdFx0fV0sIG9wdGlvbnMkMT8uY2FsbGJhY2tzKSwgaW5wdXQsIHtcblx0XHRcdC4uLm9wdGlvbnMsXG5cdFx0XHRydW5UeXBlOiBcInBhcnNlclwiXG5cdFx0fSk7XG5cdH1cbn07XG4vKipcbiogQ2xhc3MgdG8gcGFyc2UgdGhlIG91dHB1dCBvZiBhbiBMTE0gY2FsbC5cbiovXG52YXIgQmFzZU91dHB1dFBhcnNlciA9IGNsYXNzIGV4dGVuZHMgQmFzZUxMTU91dHB1dFBhcnNlciB7XG5cdHBhcnNlUmVzdWx0KGdlbmVyYXRpb25zLCBjYWxsYmFja3MpIHtcblx0XHRyZXR1cm4gdGhpcy5wYXJzZShnZW5lcmF0aW9uc1swXS50ZXh0LCBjYWxsYmFja3MpO1xuXHR9XG5cdGFzeW5jIHBhcnNlV2l0aFByb21wdCh0ZXh0LCBfcHJvbXB0LCBjYWxsYmFja3MpIHtcblx0XHRyZXR1cm4gdGhpcy5wYXJzZSh0ZXh0LCBjYWxsYmFja3MpO1xuXHR9XG5cdC8qKlxuXHQqIFJldHVybiB0aGUgc3RyaW5nIHR5cGUga2V5IHVuaXF1ZWx5IGlkZW50aWZ5aW5nIHRoaXMgY2xhc3Mgb2YgcGFyc2VyXG5cdCovXG5cdF90eXBlKCkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIl90eXBlIG5vdCBpbXBsZW1lbnRlZFwiKTtcblx0fVxufTtcbi8qKlxuKiBFeGNlcHRpb24gdGhhdCBvdXRwdXQgcGFyc2VycyBzaG91bGQgcmFpc2UgdG8gc2lnbmlmeSBhIHBhcnNpbmcgZXJyb3IuXG4qXG4qIFRoaXMgZXhpc3RzIHRvIGRpZmZlcmVudGlhdGUgcGFyc2luZyBlcnJvcnMgZnJvbSBvdGhlciBjb2RlIG9yIGV4ZWN1dGlvbiBlcnJvcnNcbiogdGhhdCBhbHNvIG1heSBhcmlzZSBpbnNpZGUgdGhlIG91dHB1dCBwYXJzZXIuIE91dHB1dFBhcnNlckV4Y2VwdGlvbnMgd2lsbCBiZVxuKiBhdmFpbGFibGUgdG8gY2F0Y2ggYW5kIGhhbmRsZSBpbiB3YXlzIHRvIGZpeCB0aGUgcGFyc2luZyBlcnJvciwgd2hpbGUgb3RoZXJcbiogZXJyb3JzIHdpbGwgYmUgcmFpc2VkLlxuKlxuKiBAcGFyYW0gbWVzc2FnZSAtIFRoZSBlcnJvciB0aGF0J3MgYmVpbmcgcmUtcmFpc2VkIG9yIGFuIGVycm9yIG1lc3NhZ2UuXG4qIEBwYXJhbSBsbG1PdXRwdXQgLSBTdHJpbmcgbW9kZWwgb3V0cHV0IHdoaWNoIGlzIGVycm9yLWluZy5cbiogQHBhcmFtIG9ic2VydmF0aW9uIC0gU3RyaW5nIGV4cGxhbmF0aW9uIG9mIGVycm9yIHdoaWNoIGNhbiBiZSBwYXNzZWQgdG8gYVxuKiAgICAgbW9kZWwgdG8gdHJ5IGFuZCByZW1lZGlhdGUgdGhlIGlzc3VlLlxuKiBAcGFyYW0gc2VuZFRvTExNIC0gV2hldGhlciB0byBzZW5kIHRoZSBvYnNlcnZhdGlvbiBhbmQgbGxtX291dHB1dCBiYWNrIHRvIGFuIEFnZW50XG4qICAgICBhZnRlciBhbiBPdXRwdXRQYXJzZXJFeGNlcHRpb24gaGFzIGJlZW4gcmFpc2VkLiBUaGlzIGdpdmVzIHRoZSB1bmRlcmx5aW5nXG4qICAgICBtb2RlbCBkcml2aW5nIHRoZSBhZ2VudCB0aGUgY29udGV4dCB0aGF0IHRoZSBwcmV2aW91cyBvdXRwdXQgd2FzIGltcHJvcGVybHlcbiogICAgIHN0cnVjdHVyZWQsIGluIHRoZSBob3BlcyB0aGF0IGl0IHdpbGwgdXBkYXRlIHRoZSBvdXRwdXQgdG8gdGhlIGNvcnJlY3RcbiogICAgIGZvcm1hdC5cbiovXG52YXIgT3V0cHV0UGFyc2VyRXhjZXB0aW9uID0gY2xhc3MgZXh0ZW5kcyBFcnJvciB7XG5cdGxsbU91dHB1dDtcblx0b2JzZXJ2YXRpb247XG5cdHNlbmRUb0xMTTtcblx0Y29uc3RydWN0b3IobWVzc2FnZSwgbGxtT3V0cHV0LCBvYnNlcnZhdGlvbiwgc2VuZFRvTExNID0gZmFsc2UpIHtcblx0XHRzdXBlcihtZXNzYWdlKTtcblx0XHR0aGlzLmxsbU91dHB1dCA9IGxsbU91dHB1dDtcblx0XHR0aGlzLm9ic2VydmF0aW9uID0gb2JzZXJ2YXRpb247XG5cdFx0dGhpcy5zZW5kVG9MTE0gPSBzZW5kVG9MTE07XG5cdFx0aWYgKHNlbmRUb0xMTSkge1xuXHRcdFx0aWYgKG9ic2VydmF0aW9uID09PSB2b2lkIDAgfHwgbGxtT3V0cHV0ID09PSB2b2lkIDApIHRocm93IG5ldyBFcnJvcihcIkFyZ3VtZW50cyAnb2JzZXJ2YXRpb24nICYgJ2xsbU91dHB1dCcgYXJlIHJlcXVpcmVkIGlmICdzZW5kVG9MbG0nIGlzIHRydWVcIik7XG5cdFx0fVxuXHRcdGFkZExhbmdDaGFpbkVycm9yRmllbGRzKHRoaXMsIFwiT1VUUFVUX1BBUlNJTkdfRkFJTFVSRVwiKTtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBCYXNlTExNT3V0cHV0UGFyc2VyLCBCYXNlT3V0cHV0UGFyc2VyLCBPdXRwdXRQYXJzZXJFeGNlcHRpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhc2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/base.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/bytes.js":
/*!**************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/bytes.js ***!
  \**************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BytesOutputParser: () => (/* binding */ BytesOutputParser)\n/* harmony export */ });\n/* harmony import */ var _transform_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./transform.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/transform.js\");\n\n\n//#region src/output_parsers/bytes.ts\n/**\n* OutputParser that parses LLMResult into the top likely string and\n* encodes it into bytes.\n*/\nvar BytesOutputParser = class extends _transform_js__WEBPACK_IMPORTED_MODULE_0__.BaseTransformOutputParser {\n\tstatic lc_name() {\n\t\treturn \"BytesOutputParser\";\n\t}\n\tlc_namespace = [\n\t\t\"langchain_core\",\n\t\t\"output_parsers\",\n\t\t\"bytes\"\n\t];\n\tlc_serializable = true;\n\ttextEncoder = new TextEncoder();\n\tparse(text) {\n\t\treturn Promise.resolve(this.textEncoder.encode(text));\n\t}\n\tgetFormatInstructions() {\n\t\treturn \"\";\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=bytes.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L291dHB1dF9wYXJzZXJzL2J5dGVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTJEOztBQUUzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLG9FQUF5QjtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQzZCO0FBQzdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L291dHB1dF9wYXJzZXJzL2J5dGVzLmpzPzZjZTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzZVRyYW5zZm9ybU91dHB1dFBhcnNlciB9IGZyb20gXCIuL3RyYW5zZm9ybS5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL291dHB1dF9wYXJzZXJzL2J5dGVzLnRzXG4vKipcbiogT3V0cHV0UGFyc2VyIHRoYXQgcGFyc2VzIExMTVJlc3VsdCBpbnRvIHRoZSB0b3AgbGlrZWx5IHN0cmluZyBhbmRcbiogZW5jb2RlcyBpdCBpbnRvIGJ5dGVzLlxuKi9cbnZhciBCeXRlc091dHB1dFBhcnNlciA9IGNsYXNzIGV4dGVuZHMgQmFzZVRyYW5zZm9ybU91dHB1dFBhcnNlciB7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIkJ5dGVzT3V0cHV0UGFyc2VyXCI7XG5cdH1cblx0bGNfbmFtZXNwYWNlID0gW1xuXHRcdFwibGFuZ2NoYWluX2NvcmVcIixcblx0XHRcIm91dHB1dF9wYXJzZXJzXCIsXG5cdFx0XCJieXRlc1wiXG5cdF07XG5cdGxjX3NlcmlhbGl6YWJsZSA9IHRydWU7XG5cdHRleHRFbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XG5cdHBhcnNlKHRleHQpIHtcblx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMudGV4dEVuY29kZXIuZW5jb2RlKHRleHQpKTtcblx0fVxuXHRnZXRGb3JtYXRJbnN0cnVjdGlvbnMoKSB7XG5cdFx0cmV0dXJuIFwiXCI7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQnl0ZXNPdXRwdXRQYXJzZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ5dGVzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/bytes.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/index.js":
/*!**************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/index.js ***!
  \**************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AsymmetricStructuredOutputParser: () => (/* reexport safe */ _structured_js__WEBPACK_IMPORTED_MODULE_7__.AsymmetricStructuredOutputParser),\n/* harmony export */   BaseCumulativeTransformOutputParser: () => (/* reexport safe */ _transform_js__WEBPACK_IMPORTED_MODULE_3__.BaseCumulativeTransformOutputParser),\n/* harmony export */   BaseLLMOutputParser: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_2__.BaseLLMOutputParser),\n/* harmony export */   BaseOutputParser: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_2__.BaseOutputParser),\n/* harmony export */   BaseTransformOutputParser: () => (/* reexport safe */ _transform_js__WEBPACK_IMPORTED_MODULE_3__.BaseTransformOutputParser),\n/* harmony export */   BytesOutputParser: () => (/* reexport safe */ _bytes_js__WEBPACK_IMPORTED_MODULE_4__.BytesOutputParser),\n/* harmony export */   CommaSeparatedListOutputParser: () => (/* reexport safe */ _list_js__WEBPACK_IMPORTED_MODULE_5__.CommaSeparatedListOutputParser),\n/* harmony export */   CustomListOutputParser: () => (/* reexport safe */ _list_js__WEBPACK_IMPORTED_MODULE_5__.CustomListOutputParser),\n/* harmony export */   JsonMarkdownStructuredOutputParser: () => (/* reexport safe */ _structured_js__WEBPACK_IMPORTED_MODULE_7__.JsonMarkdownStructuredOutputParser),\n/* harmony export */   JsonOutputParser: () => (/* reexport safe */ _json_js__WEBPACK_IMPORTED_MODULE_8__.JsonOutputParser),\n/* harmony export */   ListOutputParser: () => (/* reexport safe */ _list_js__WEBPACK_IMPORTED_MODULE_5__.ListOutputParser),\n/* harmony export */   MarkdownListOutputParser: () => (/* reexport safe */ _list_js__WEBPACK_IMPORTED_MODULE_5__.MarkdownListOutputParser),\n/* harmony export */   NumberedListOutputParser: () => (/* reexport safe */ _list_js__WEBPACK_IMPORTED_MODULE_5__.NumberedListOutputParser),\n/* harmony export */   OutputParserException: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_2__.OutputParserException),\n/* harmony export */   StringOutputParser: () => (/* reexport safe */ _string_js__WEBPACK_IMPORTED_MODULE_6__.StringOutputParser),\n/* harmony export */   StructuredOutputParser: () => (/* reexport safe */ _structured_js__WEBPACK_IMPORTED_MODULE_7__.StructuredOutputParser),\n/* harmony export */   XMLOutputParser: () => (/* reexport safe */ _xml_js__WEBPACK_IMPORTED_MODULE_9__.XMLOutputParser),\n/* harmony export */   XML_FORMAT_INSTRUCTIONS: () => (/* reexport safe */ _xml_js__WEBPACK_IMPORTED_MODULE_9__.XML_FORMAT_INSTRUCTIONS),\n/* harmony export */   output_parsers_exports: () => (/* binding */ output_parsers_exports),\n/* harmony export */   parseJsonMarkdown: () => (/* reexport safe */ _utils_json_js__WEBPACK_IMPORTED_MODULE_1__.parseJsonMarkdown),\n/* harmony export */   parsePartialJson: () => (/* reexport safe */ _utils_json_js__WEBPACK_IMPORTED_MODULE_1__.parsePartialJson),\n/* harmony export */   parseXMLMarkdown: () => (/* reexport safe */ _xml_js__WEBPACK_IMPORTED_MODULE_9__.parseXMLMarkdown)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _utils_json_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/json.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/json.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/base.js\");\n/* harmony import */ var _transform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./transform.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/transform.js\");\n/* harmony import */ var _bytes_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./bytes.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/bytes.js\");\n/* harmony import */ var _list_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./list.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/list.js\");\n/* harmony import */ var _string_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./string.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/string.js\");\n/* harmony import */ var _structured_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./structured.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/structured.js\");\n/* harmony import */ var _json_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./json.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/json.js\");\n/* harmony import */ var _xml_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./xml.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/xml.js\");\n\n\n\n\n\n\n\n\n\n\n\n//#region src/output_parsers/index.ts\nvar output_parsers_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(output_parsers_exports, {\n\tAsymmetricStructuredOutputParser: () => _structured_js__WEBPACK_IMPORTED_MODULE_7__.AsymmetricStructuredOutputParser,\n\tBaseCumulativeTransformOutputParser: () => _transform_js__WEBPACK_IMPORTED_MODULE_3__.BaseCumulativeTransformOutputParser,\n\tBaseLLMOutputParser: () => _base_js__WEBPACK_IMPORTED_MODULE_2__.BaseLLMOutputParser,\n\tBaseOutputParser: () => _base_js__WEBPACK_IMPORTED_MODULE_2__.BaseOutputParser,\n\tBaseTransformOutputParser: () => _transform_js__WEBPACK_IMPORTED_MODULE_3__.BaseTransformOutputParser,\n\tBytesOutputParser: () => _bytes_js__WEBPACK_IMPORTED_MODULE_4__.BytesOutputParser,\n\tCommaSeparatedListOutputParser: () => _list_js__WEBPACK_IMPORTED_MODULE_5__.CommaSeparatedListOutputParser,\n\tCustomListOutputParser: () => _list_js__WEBPACK_IMPORTED_MODULE_5__.CustomListOutputParser,\n\tJsonMarkdownStructuredOutputParser: () => _structured_js__WEBPACK_IMPORTED_MODULE_7__.JsonMarkdownStructuredOutputParser,\n\tJsonOutputParser: () => _json_js__WEBPACK_IMPORTED_MODULE_8__.JsonOutputParser,\n\tListOutputParser: () => _list_js__WEBPACK_IMPORTED_MODULE_5__.ListOutputParser,\n\tMarkdownListOutputParser: () => _list_js__WEBPACK_IMPORTED_MODULE_5__.MarkdownListOutputParser,\n\tNumberedListOutputParser: () => _list_js__WEBPACK_IMPORTED_MODULE_5__.NumberedListOutputParser,\n\tOutputParserException: () => _base_js__WEBPACK_IMPORTED_MODULE_2__.OutputParserException,\n\tStringOutputParser: () => _string_js__WEBPACK_IMPORTED_MODULE_6__.StringOutputParser,\n\tStructuredOutputParser: () => _structured_js__WEBPACK_IMPORTED_MODULE_7__.StructuredOutputParser,\n\tXMLOutputParser: () => _xml_js__WEBPACK_IMPORTED_MODULE_9__.XMLOutputParser,\n\tXML_FORMAT_INSTRUCTIONS: () => _xml_js__WEBPACK_IMPORTED_MODULE_9__.XML_FORMAT_INSTRUCTIONS,\n\tparseJsonMarkdown: () => _utils_json_js__WEBPACK_IMPORTED_MODULE_1__.parseJsonMarkdown,\n\tparsePartialJson: () => _utils_json_js__WEBPACK_IMPORTED_MODULE_1__.parsePartialJson,\n\tparseXMLMarkdown: () => _xml_js__WEBPACK_IMPORTED_MODULE_9__.parseXMLMarkdown\n});\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L291dHB1dF9wYXJzZXJzL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTJEO0FBQ1k7QUFDa0I7QUFDTztBQUNqRDtBQUMwRztBQUN4RztBQUM4RTtBQUNsRjtBQUN5Qzs7QUFFdEY7QUFDQTtBQUNBLHNFQUFRO0FBQ1IseUNBQXlDLDRFQUFnQztBQUN6RSw0Q0FBNEMsOEVBQW1DO0FBQy9FLDRCQUE0Qix5REFBbUI7QUFDL0MseUJBQXlCLHNEQUFnQjtBQUN6QyxrQ0FBa0Msb0VBQXlCO0FBQzNELDBCQUEwQix3REFBaUI7QUFDM0MsdUNBQXVDLG9FQUE4QjtBQUNyRSwrQkFBK0IsNERBQXNCO0FBQ3JELDJDQUEyQyw4RUFBa0M7QUFDN0UseUJBQXlCLHNEQUFnQjtBQUN6Qyx5QkFBeUIsc0RBQWdCO0FBQ3pDLGlDQUFpQyw4REFBd0I7QUFDekQsaUNBQWlDLDhEQUF3QjtBQUN6RCw4QkFBOEIsMkRBQXFCO0FBQ25ELDJCQUEyQiwwREFBa0I7QUFDN0MsK0JBQStCLGtFQUFzQjtBQUNyRCx3QkFBd0Isb0RBQWU7QUFDdkMsZ0NBQWdDLDREQUF1QjtBQUN2RCwwQkFBMEIsNkRBQWlCO0FBQzNDLHlCQUF5Qiw0REFBZ0I7QUFDekMseUJBQXlCLHFEQUFnQjtBQUN6QyxDQUFDOztBQUVEO0FBQ3NoQjtBQUN0aEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3Qvb3V0cHV0X3BhcnNlcnMvaW5kZXguanM/NjdiOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2V4cG9ydCB9IGZyb20gXCIuLi9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUpzb25NYXJrZG93biwgcGFyc2VQYXJ0aWFsSnNvbiB9IGZyb20gXCIuLi91dGlscy9qc29uLmpzXCI7XG5pbXBvcnQgeyBCYXNlTExNT3V0cHV0UGFyc2VyLCBCYXNlT3V0cHV0UGFyc2VyLCBPdXRwdXRQYXJzZXJFeGNlcHRpb24gfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5pbXBvcnQgeyBCYXNlQ3VtdWxhdGl2ZVRyYW5zZm9ybU91dHB1dFBhcnNlciwgQmFzZVRyYW5zZm9ybU91dHB1dFBhcnNlciB9IGZyb20gXCIuL3RyYW5zZm9ybS5qc1wiO1xuaW1wb3J0IHsgQnl0ZXNPdXRwdXRQYXJzZXIgfSBmcm9tIFwiLi9ieXRlcy5qc1wiO1xuaW1wb3J0IHsgQ29tbWFTZXBhcmF0ZWRMaXN0T3V0cHV0UGFyc2VyLCBDdXN0b21MaXN0T3V0cHV0UGFyc2VyLCBMaXN0T3V0cHV0UGFyc2VyLCBNYXJrZG93bkxpc3RPdXRwdXRQYXJzZXIsIE51bWJlcmVkTGlzdE91dHB1dFBhcnNlciB9IGZyb20gXCIuL2xpc3QuanNcIjtcbmltcG9ydCB7IFN0cmluZ091dHB1dFBhcnNlciB9IGZyb20gXCIuL3N0cmluZy5qc1wiO1xuaW1wb3J0IHsgQXN5bW1ldHJpY1N0cnVjdHVyZWRPdXRwdXRQYXJzZXIsIEpzb25NYXJrZG93blN0cnVjdHVyZWRPdXRwdXRQYXJzZXIsIFN0cnVjdHVyZWRPdXRwdXRQYXJzZXIgfSBmcm9tIFwiLi9zdHJ1Y3R1cmVkLmpzXCI7XG5pbXBvcnQgeyBKc29uT3V0cHV0UGFyc2VyIH0gZnJvbSBcIi4vanNvbi5qc1wiO1xuaW1wb3J0IHsgWE1MT3V0cHV0UGFyc2VyLCBYTUxfRk9STUFUX0lOU1RSVUNUSU9OUywgcGFyc2VYTUxNYXJrZG93biB9IGZyb20gXCIuL3htbC5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL291dHB1dF9wYXJzZXJzL2luZGV4LnRzXG52YXIgb3V0cHV0X3BhcnNlcnNfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQob3V0cHV0X3BhcnNlcnNfZXhwb3J0cywge1xuXHRBc3ltbWV0cmljU3RydWN0dXJlZE91dHB1dFBhcnNlcjogKCkgPT4gQXN5bW1ldHJpY1N0cnVjdHVyZWRPdXRwdXRQYXJzZXIsXG5cdEJhc2VDdW11bGF0aXZlVHJhbnNmb3JtT3V0cHV0UGFyc2VyOiAoKSA9PiBCYXNlQ3VtdWxhdGl2ZVRyYW5zZm9ybU91dHB1dFBhcnNlcixcblx0QmFzZUxMTU91dHB1dFBhcnNlcjogKCkgPT4gQmFzZUxMTU91dHB1dFBhcnNlcixcblx0QmFzZU91dHB1dFBhcnNlcjogKCkgPT4gQmFzZU91dHB1dFBhcnNlcixcblx0QmFzZVRyYW5zZm9ybU91dHB1dFBhcnNlcjogKCkgPT4gQmFzZVRyYW5zZm9ybU91dHB1dFBhcnNlcixcblx0Qnl0ZXNPdXRwdXRQYXJzZXI6ICgpID0+IEJ5dGVzT3V0cHV0UGFyc2VyLFxuXHRDb21tYVNlcGFyYXRlZExpc3RPdXRwdXRQYXJzZXI6ICgpID0+IENvbW1hU2VwYXJhdGVkTGlzdE91dHB1dFBhcnNlcixcblx0Q3VzdG9tTGlzdE91dHB1dFBhcnNlcjogKCkgPT4gQ3VzdG9tTGlzdE91dHB1dFBhcnNlcixcblx0SnNvbk1hcmtkb3duU3RydWN0dXJlZE91dHB1dFBhcnNlcjogKCkgPT4gSnNvbk1hcmtkb3duU3RydWN0dXJlZE91dHB1dFBhcnNlcixcblx0SnNvbk91dHB1dFBhcnNlcjogKCkgPT4gSnNvbk91dHB1dFBhcnNlcixcblx0TGlzdE91dHB1dFBhcnNlcjogKCkgPT4gTGlzdE91dHB1dFBhcnNlcixcblx0TWFya2Rvd25MaXN0T3V0cHV0UGFyc2VyOiAoKSA9PiBNYXJrZG93bkxpc3RPdXRwdXRQYXJzZXIsXG5cdE51bWJlcmVkTGlzdE91dHB1dFBhcnNlcjogKCkgPT4gTnVtYmVyZWRMaXN0T3V0cHV0UGFyc2VyLFxuXHRPdXRwdXRQYXJzZXJFeGNlcHRpb246ICgpID0+IE91dHB1dFBhcnNlckV4Y2VwdGlvbixcblx0U3RyaW5nT3V0cHV0UGFyc2VyOiAoKSA9PiBTdHJpbmdPdXRwdXRQYXJzZXIsXG5cdFN0cnVjdHVyZWRPdXRwdXRQYXJzZXI6ICgpID0+IFN0cnVjdHVyZWRPdXRwdXRQYXJzZXIsXG5cdFhNTE91dHB1dFBhcnNlcjogKCkgPT4gWE1MT3V0cHV0UGFyc2VyLFxuXHRYTUxfRk9STUFUX0lOU1RSVUNUSU9OUzogKCkgPT4gWE1MX0ZPUk1BVF9JTlNUUlVDVElPTlMsXG5cdHBhcnNlSnNvbk1hcmtkb3duOiAoKSA9PiBwYXJzZUpzb25NYXJrZG93bixcblx0cGFyc2VQYXJ0aWFsSnNvbjogKCkgPT4gcGFyc2VQYXJ0aWFsSnNvbixcblx0cGFyc2VYTUxNYXJrZG93bjogKCkgPT4gcGFyc2VYTUxNYXJrZG93blxufSk7XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQXN5bW1ldHJpY1N0cnVjdHVyZWRPdXRwdXRQYXJzZXIsIEJhc2VDdW11bGF0aXZlVHJhbnNmb3JtT3V0cHV0UGFyc2VyLCBCYXNlTExNT3V0cHV0UGFyc2VyLCBCYXNlT3V0cHV0UGFyc2VyLCBCYXNlVHJhbnNmb3JtT3V0cHV0UGFyc2VyLCBCeXRlc091dHB1dFBhcnNlciwgQ29tbWFTZXBhcmF0ZWRMaXN0T3V0cHV0UGFyc2VyLCBDdXN0b21MaXN0T3V0cHV0UGFyc2VyLCBKc29uTWFya2Rvd25TdHJ1Y3R1cmVkT3V0cHV0UGFyc2VyLCBKc29uT3V0cHV0UGFyc2VyLCBMaXN0T3V0cHV0UGFyc2VyLCBNYXJrZG93bkxpc3RPdXRwdXRQYXJzZXIsIE51bWJlcmVkTGlzdE91dHB1dFBhcnNlciwgT3V0cHV0UGFyc2VyRXhjZXB0aW9uLCBTdHJpbmdPdXRwdXRQYXJzZXIsIFN0cnVjdHVyZWRPdXRwdXRQYXJzZXIsIFhNTE91dHB1dFBhcnNlciwgWE1MX0ZPUk1BVF9JTlNUUlVDVElPTlMsIG91dHB1dF9wYXJzZXJzX2V4cG9ydHMsIHBhcnNlSnNvbk1hcmtkb3duLCBwYXJzZVBhcnRpYWxKc29uLCBwYXJzZVhNTE1hcmtkb3duIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/json.js":
/*!*************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/json.js ***!
  \*************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JsonOutputParser: () => (/* binding */ JsonOutputParser)\n/* harmony export */ });\n/* harmony import */ var _utils_json_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/json.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/json.js\");\n/* harmony import */ var _utils_fast_json_patch_src_duplex_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/fast-json-patch/src/duplex.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/fast-json-patch/src/duplex.js\");\n/* harmony import */ var _transform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./transform.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/transform.js\");\n/* harmony import */ var _utils_json_patch_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/json_patch.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/json_patch.js\");\n\n\n\n\n\n//#region src/output_parsers/json.ts\n/**\n* Class for parsing the output of an LLM into a JSON object.\n*/\nvar JsonOutputParser = class extends _transform_js__WEBPACK_IMPORTED_MODULE_2__.BaseCumulativeTransformOutputParser {\n\tstatic lc_name() {\n\t\treturn \"JsonOutputParser\";\n\t}\n\tlc_namespace = [\"langchain_core\", \"output_parsers\"];\n\tlc_serializable = true;\n\t/** @internal */\n\t_concatOutputChunks(first, second) {\n\t\tif (this.diff) return super._concatOutputChunks(first, second);\n\t\treturn second;\n\t}\n\t_diff(prev, next) {\n\t\tif (!next) return void 0;\n\t\tif (!prev) return [{\n\t\t\top: \"replace\",\n\t\t\tpath: \"\",\n\t\t\tvalue: next\n\t\t}];\n\t\treturn (0,_utils_fast_json_patch_src_duplex_js__WEBPACK_IMPORTED_MODULE_1__.compare)(prev, next);\n\t}\n\tasync parsePartialResult(generations) {\n\t\treturn (0,_utils_json_js__WEBPACK_IMPORTED_MODULE_0__.parseJsonMarkdown)(generations[0].text);\n\t}\n\tasync parse(text) {\n\t\treturn (0,_utils_json_js__WEBPACK_IMPORTED_MODULE_0__.parseJsonMarkdown)(text, JSON.parse);\n\t}\n\tgetFormatInstructions() {\n\t\treturn \"\";\n\t}\n\t/**\n\t* Extracts text content from a message for JSON parsing.\n\t* Uses the message's `.text` accessor which properly handles both\n\t* string content and ContentBlock[] arrays (extracting text from text blocks).\n\t* @param message The message to extract text from\n\t* @returns The text content of the message\n\t*/\n\t_baseMessageToString(message) {\n\t\treturn message.text;\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=json.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L291dHB1dF9wYXJzZXJzL2pzb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBdUU7QUFDTjtBQUNJO0FBQ3JDOztBQUVoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyw4RUFBbUM7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsU0FBUyw2RUFBTztBQUNoQjtBQUNBO0FBQ0EsU0FBUyxpRUFBaUI7QUFDMUI7QUFDQTtBQUNBLFNBQVMsaUVBQWlCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUM0QjtBQUM1QiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9vdXRwdXRfcGFyc2Vycy9qc29uLmpzP2ZlOWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcGFyc2VKc29uTWFya2Rvd24sIHBhcnNlUGFydGlhbEpzb24gfSBmcm9tIFwiLi4vdXRpbHMvanNvbi5qc1wiO1xuaW1wb3J0IHsgY29tcGFyZSB9IGZyb20gXCIuLi91dGlscy9mYXN0LWpzb24tcGF0Y2gvc3JjL2R1cGxleC5qc1wiO1xuaW1wb3J0IHsgQmFzZUN1bXVsYXRpdmVUcmFuc2Zvcm1PdXRwdXRQYXJzZXIgfSBmcm9tIFwiLi90cmFuc2Zvcm0uanNcIjtcbmltcG9ydCBcIi4uL3V0aWxzL2pzb25fcGF0Y2guanNcIjtcblxuLy8jcmVnaW9uIHNyYy9vdXRwdXRfcGFyc2Vycy9qc29uLnRzXG4vKipcbiogQ2xhc3MgZm9yIHBhcnNpbmcgdGhlIG91dHB1dCBvZiBhbiBMTE0gaW50byBhIEpTT04gb2JqZWN0LlxuKi9cbnZhciBKc29uT3V0cHV0UGFyc2VyID0gY2xhc3MgZXh0ZW5kcyBCYXNlQ3VtdWxhdGl2ZVRyYW5zZm9ybU91dHB1dFBhcnNlciB7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIkpzb25PdXRwdXRQYXJzZXJcIjtcblx0fVxuXHRsY19uYW1lc3BhY2UgPSBbXCJsYW5nY2hhaW5fY29yZVwiLCBcIm91dHB1dF9wYXJzZXJzXCJdO1xuXHRsY19zZXJpYWxpemFibGUgPSB0cnVlO1xuXHQvKiogQGludGVybmFsICovXG5cdF9jb25jYXRPdXRwdXRDaHVua3MoZmlyc3QsIHNlY29uZCkge1xuXHRcdGlmICh0aGlzLmRpZmYpIHJldHVybiBzdXBlci5fY29uY2F0T3V0cHV0Q2h1bmtzKGZpcnN0LCBzZWNvbmQpO1xuXHRcdHJldHVybiBzZWNvbmQ7XG5cdH1cblx0X2RpZmYocHJldiwgbmV4dCkge1xuXHRcdGlmICghbmV4dCkgcmV0dXJuIHZvaWQgMDtcblx0XHRpZiAoIXByZXYpIHJldHVybiBbe1xuXHRcdFx0b3A6IFwicmVwbGFjZVwiLFxuXHRcdFx0cGF0aDogXCJcIixcblx0XHRcdHZhbHVlOiBuZXh0XG5cdFx0fV07XG5cdFx0cmV0dXJuIGNvbXBhcmUocHJldiwgbmV4dCk7XG5cdH1cblx0YXN5bmMgcGFyc2VQYXJ0aWFsUmVzdWx0KGdlbmVyYXRpb25zKSB7XG5cdFx0cmV0dXJuIHBhcnNlSnNvbk1hcmtkb3duKGdlbmVyYXRpb25zWzBdLnRleHQpO1xuXHR9XG5cdGFzeW5jIHBhcnNlKHRleHQpIHtcblx0XHRyZXR1cm4gcGFyc2VKc29uTWFya2Rvd24odGV4dCwgSlNPTi5wYXJzZSk7XG5cdH1cblx0Z2V0Rm9ybWF0SW5zdHJ1Y3Rpb25zKCkge1xuXHRcdHJldHVybiBcIlwiO1xuXHR9XG5cdC8qKlxuXHQqIEV4dHJhY3RzIHRleHQgY29udGVudCBmcm9tIGEgbWVzc2FnZSBmb3IgSlNPTiBwYXJzaW5nLlxuXHQqIFVzZXMgdGhlIG1lc3NhZ2UncyBgLnRleHRgIGFjY2Vzc29yIHdoaWNoIHByb3Blcmx5IGhhbmRsZXMgYm90aFxuXHQqIHN0cmluZyBjb250ZW50IGFuZCBDb250ZW50QmxvY2tbXSBhcnJheXMgKGV4dHJhY3RpbmcgdGV4dCBmcm9tIHRleHQgYmxvY2tzKS5cblx0KiBAcGFyYW0gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBleHRyYWN0IHRleHQgZnJvbVxuXHQqIEByZXR1cm5zIFRoZSB0ZXh0IGNvbnRlbnQgb2YgdGhlIG1lc3NhZ2Vcblx0Ki9cblx0X2Jhc2VNZXNzYWdlVG9TdHJpbmcobWVzc2FnZSkge1xuXHRcdHJldHVybiBtZXNzYWdlLnRleHQ7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgSnNvbk91dHB1dFBhcnNlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9anNvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/json.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/list.js":
/*!*************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/list.js ***!
  \*************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CommaSeparatedListOutputParser: () => (/* binding */ CommaSeparatedListOutputParser),\n/* harmony export */   CustomListOutputParser: () => (/* binding */ CustomListOutputParser),\n/* harmony export */   ListOutputParser: () => (/* binding */ ListOutputParser),\n/* harmony export */   MarkdownListOutputParser: () => (/* binding */ MarkdownListOutputParser),\n/* harmony export */   NumberedListOutputParser: () => (/* binding */ NumberedListOutputParser)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/base.js\");\n/* harmony import */ var _transform_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./transform.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/transform.js\");\n\n\n\n//#region src/output_parsers/list.ts\n/**\n* Class to parse the output of an LLM call to a list.\n* @augments BaseOutputParser\n*/\nvar ListOutputParser = class extends _transform_js__WEBPACK_IMPORTED_MODULE_1__.BaseTransformOutputParser {\n\tre;\n\tasync *_transform(inputGenerator) {\n\t\tlet buffer = \"\";\n\t\tfor await (const input of inputGenerator) {\n\t\t\tif (typeof input === \"string\") buffer += input;\n\t\t\telse buffer += input.content;\n\t\t\tif (!this.re) {\n\t\t\t\tconst parts = await this.parse(buffer);\n\t\t\t\tif (parts.length > 1) {\n\t\t\t\t\tfor (const part of parts.slice(0, -1)) yield [part];\n\t\t\t\t\tbuffer = parts[parts.length - 1];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst matches = [...buffer.matchAll(this.re)];\n\t\t\t\tif (matches.length > 1) {\n\t\t\t\t\tlet doneIdx = 0;\n\t\t\t\t\tfor (const match of matches.slice(0, -1)) {\n\t\t\t\t\t\tyield [match[1]];\n\t\t\t\t\t\tdoneIdx += (match.index ?? 0) + match[0].length;\n\t\t\t\t\t}\n\t\t\t\t\tbuffer = buffer.slice(doneIdx);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (const part of await this.parse(buffer)) yield [part];\n\t}\n};\n/**\n* Class to parse the output of an LLM call as a comma-separated list.\n* @augments ListOutputParser\n*/\nvar CommaSeparatedListOutputParser = class extends ListOutputParser {\n\tstatic lc_name() {\n\t\treturn \"CommaSeparatedListOutputParser\";\n\t}\n\tlc_namespace = [\n\t\t\"langchain_core\",\n\t\t\"output_parsers\",\n\t\t\"list\"\n\t];\n\tlc_serializable = true;\n\t/**\n\t* Parses the given text into an array of strings, using a comma as the\n\t* separator. If the parsing fails, throws an OutputParserException.\n\t* @param text The text to parse.\n\t* @returns An array of strings obtained by splitting the input text at each comma.\n\t*/\n\tasync parse(text) {\n\t\ttry {\n\t\t\treturn text.trim().split(\",\").map((s) => s.trim());\n\t\t} catch {\n\t\t\tthrow new _base_js__WEBPACK_IMPORTED_MODULE_0__.OutputParserException(`Could not parse output: ${text}`, text);\n\t\t}\n\t}\n\t/**\n\t* Provides instructions on the expected format of the response for the\n\t* CommaSeparatedListOutputParser.\n\t* @returns A string containing instructions on the expected format of the response.\n\t*/\n\tgetFormatInstructions() {\n\t\treturn `Your response should be a list of comma separated values, eg: \\`foo, bar, baz\\``;\n\t}\n};\n/**\n* Class to parse the output of an LLM call to a list with a specific length and separator.\n* @augments ListOutputParser\n*/\nvar CustomListOutputParser = class extends ListOutputParser {\n\tlc_namespace = [\n\t\t\"langchain_core\",\n\t\t\"output_parsers\",\n\t\t\"list\"\n\t];\n\tlength;\n\tseparator;\n\tconstructor({ length, separator }) {\n\t\tsuper(...arguments);\n\t\tthis.length = length;\n\t\tthis.separator = separator || \",\";\n\t}\n\t/**\n\t* Parses the given text into an array of strings, using the specified\n\t* separator. If the parsing fails or the number of items in the list\n\t* doesn't match the expected length, throws an OutputParserException.\n\t* @param text The text to parse.\n\t* @returns An array of strings obtained by splitting the input text at each occurrence of the specified separator.\n\t*/\n\tasync parse(text) {\n\t\ttry {\n\t\t\tconst items = text.trim().split(this.separator).map((s) => s.trim());\n\t\t\tif (this.length !== void 0 && items.length !== this.length) throw new _base_js__WEBPACK_IMPORTED_MODULE_0__.OutputParserException(`Incorrect number of items. Expected ${this.length}, got ${items.length}.`);\n\t\t\treturn items;\n\t\t} catch (e) {\n\t\t\tif (Object.getPrototypeOf(e) === _base_js__WEBPACK_IMPORTED_MODULE_0__.OutputParserException.prototype) throw e;\n\t\t\tthrow new _base_js__WEBPACK_IMPORTED_MODULE_0__.OutputParserException(`Could not parse output: ${text}`);\n\t\t}\n\t}\n\t/**\n\t* Provides instructions on the expected format of the response for the\n\t* CustomListOutputParser, including the number of items and the\n\t* separator.\n\t* @returns A string containing instructions on the expected format of the response.\n\t*/\n\tgetFormatInstructions() {\n\t\treturn `Your response should be a list of ${this.length === void 0 ? \"\" : `${this.length} `}items separated by \"${this.separator}\" (eg: \\`foo${this.separator} bar${this.separator} baz\\`)`;\n\t}\n};\nvar NumberedListOutputParser = class extends ListOutputParser {\n\tstatic lc_name() {\n\t\treturn \"NumberedListOutputParser\";\n\t}\n\tlc_namespace = [\n\t\t\"langchain_core\",\n\t\t\"output_parsers\",\n\t\t\"list\"\n\t];\n\tlc_serializable = true;\n\tgetFormatInstructions() {\n\t\treturn `Your response should be a numbered list with each item on a new line. For example: \\n\\n1. foo\\n\\n2. bar\\n\\n3. baz`;\n\t}\n\tre = /\\d+\\.\\s([^\\n]+)/g;\n\tasync parse(text) {\n\t\treturn [...text.matchAll(this.re) ?? []].map((m) => m[1]);\n\t}\n};\nvar MarkdownListOutputParser = class extends ListOutputParser {\n\tstatic lc_name() {\n\t\treturn \"NumberedListOutputParser\";\n\t}\n\tlc_namespace = [\n\t\t\"langchain_core\",\n\t\t\"output_parsers\",\n\t\t\"list\"\n\t];\n\tlc_serializable = true;\n\tgetFormatInstructions() {\n\t\treturn `Your response should be a numbered list with each item on a new line. For example: \\n\\n1. foo\\n\\n2. bar\\n\\n3. baz`;\n\t}\n\tre = /^\\s*[-*]\\s([^\\n]+)$/gm;\n\tasync parse(text) {\n\t\treturn [...text.matchAll(this.re) ?? []].map((m) => m[1]);\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=list.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L291dHB1dF9wYXJzZXJzL2xpc3QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFrRDtBQUNTOztBQUUzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLG9FQUF5QjtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osYUFBYSwyREFBcUIsNEJBQTRCLEtBQUs7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsbUJBQW1CO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5RUFBeUUsMkRBQXFCLHdDQUF3QyxZQUFZLFFBQVEsYUFBYTtBQUN2SztBQUNBLElBQUk7QUFDSixvQ0FBb0MsMkRBQXFCO0FBQ3pELGFBQWEsMkRBQXFCLDRCQUE0QixLQUFLO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxpQ0FBaUMsYUFBYSxFQUFFLHNCQUFzQixlQUFlLGNBQWMsZ0JBQWdCLEtBQUssZ0JBQWdCO0FBQ3RMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDd0k7QUFDeEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3Qvb3V0cHV0X3BhcnNlcnMvbGlzdC5qcz9iZWIzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE91dHB1dFBhcnNlckV4Y2VwdGlvbiB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCB7IEJhc2VUcmFuc2Zvcm1PdXRwdXRQYXJzZXIgfSBmcm9tIFwiLi90cmFuc2Zvcm0uanNcIjtcblxuLy8jcmVnaW9uIHNyYy9vdXRwdXRfcGFyc2Vycy9saXN0LnRzXG4vKipcbiogQ2xhc3MgdG8gcGFyc2UgdGhlIG91dHB1dCBvZiBhbiBMTE0gY2FsbCB0byBhIGxpc3QuXG4qIEBhdWdtZW50cyBCYXNlT3V0cHV0UGFyc2VyXG4qL1xudmFyIExpc3RPdXRwdXRQYXJzZXIgPSBjbGFzcyBleHRlbmRzIEJhc2VUcmFuc2Zvcm1PdXRwdXRQYXJzZXIge1xuXHRyZTtcblx0YXN5bmMgKl90cmFuc2Zvcm0oaW5wdXRHZW5lcmF0b3IpIHtcblx0XHRsZXQgYnVmZmVyID0gXCJcIjtcblx0XHRmb3IgYXdhaXQgKGNvbnN0IGlucHV0IG9mIGlucHV0R2VuZXJhdG9yKSB7XG5cdFx0XHRpZiAodHlwZW9mIGlucHV0ID09PSBcInN0cmluZ1wiKSBidWZmZXIgKz0gaW5wdXQ7XG5cdFx0XHRlbHNlIGJ1ZmZlciArPSBpbnB1dC5jb250ZW50O1xuXHRcdFx0aWYgKCF0aGlzLnJlKSB7XG5cdFx0XHRcdGNvbnN0IHBhcnRzID0gYXdhaXQgdGhpcy5wYXJzZShidWZmZXIpO1xuXHRcdFx0XHRpZiAocGFydHMubGVuZ3RoID4gMSkge1xuXHRcdFx0XHRcdGZvciAoY29uc3QgcGFydCBvZiBwYXJ0cy5zbGljZSgwLCAtMSkpIHlpZWxkIFtwYXJ0XTtcblx0XHRcdFx0XHRidWZmZXIgPSBwYXJ0c1twYXJ0cy5sZW5ndGggLSAxXTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc3QgbWF0Y2hlcyA9IFsuLi5idWZmZXIubWF0Y2hBbGwodGhpcy5yZSldO1xuXHRcdFx0XHRpZiAobWF0Y2hlcy5sZW5ndGggPiAxKSB7XG5cdFx0XHRcdFx0bGV0IGRvbmVJZHggPSAwO1xuXHRcdFx0XHRcdGZvciAoY29uc3QgbWF0Y2ggb2YgbWF0Y2hlcy5zbGljZSgwLCAtMSkpIHtcblx0XHRcdFx0XHRcdHlpZWxkIFttYXRjaFsxXV07XG5cdFx0XHRcdFx0XHRkb25lSWR4ICs9IChtYXRjaC5pbmRleCA/PyAwKSArIG1hdGNoWzBdLmxlbmd0aDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YnVmZmVyID0gYnVmZmVyLnNsaWNlKGRvbmVJZHgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGZvciAoY29uc3QgcGFydCBvZiBhd2FpdCB0aGlzLnBhcnNlKGJ1ZmZlcikpIHlpZWxkIFtwYXJ0XTtcblx0fVxufTtcbi8qKlxuKiBDbGFzcyB0byBwYXJzZSB0aGUgb3V0cHV0IG9mIGFuIExMTSBjYWxsIGFzIGEgY29tbWEtc2VwYXJhdGVkIGxpc3QuXG4qIEBhdWdtZW50cyBMaXN0T3V0cHV0UGFyc2VyXG4qL1xudmFyIENvbW1hU2VwYXJhdGVkTGlzdE91dHB1dFBhcnNlciA9IGNsYXNzIGV4dGVuZHMgTGlzdE91dHB1dFBhcnNlciB7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIkNvbW1hU2VwYXJhdGVkTGlzdE91dHB1dFBhcnNlclwiO1xuXHR9XG5cdGxjX25hbWVzcGFjZSA9IFtcblx0XHRcImxhbmdjaGFpbl9jb3JlXCIsXG5cdFx0XCJvdXRwdXRfcGFyc2Vyc1wiLFxuXHRcdFwibGlzdFwiXG5cdF07XG5cdGxjX3NlcmlhbGl6YWJsZSA9IHRydWU7XG5cdC8qKlxuXHQqIFBhcnNlcyB0aGUgZ2l2ZW4gdGV4dCBpbnRvIGFuIGFycmF5IG9mIHN0cmluZ3MsIHVzaW5nIGEgY29tbWEgYXMgdGhlXG5cdCogc2VwYXJhdG9yLiBJZiB0aGUgcGFyc2luZyBmYWlscywgdGhyb3dzIGFuIE91dHB1dFBhcnNlckV4Y2VwdGlvbi5cblx0KiBAcGFyYW0gdGV4dCBUaGUgdGV4dCB0byBwYXJzZS5cblx0KiBAcmV0dXJucyBBbiBhcnJheSBvZiBzdHJpbmdzIG9idGFpbmVkIGJ5IHNwbGl0dGluZyB0aGUgaW5wdXQgdGV4dCBhdCBlYWNoIGNvbW1hLlxuXHQqL1xuXHRhc3luYyBwYXJzZSh0ZXh0KSB7XG5cdFx0dHJ5IHtcblx0XHRcdHJldHVybiB0ZXh0LnRyaW0oKS5zcGxpdChcIixcIikubWFwKChzKSA9PiBzLnRyaW0oKSk7XG5cdFx0fSBjYXRjaCB7XG5cdFx0XHR0aHJvdyBuZXcgT3V0cHV0UGFyc2VyRXhjZXB0aW9uKGBDb3VsZCBub3QgcGFyc2Ugb3V0cHV0OiAke3RleHR9YCwgdGV4dCk7XG5cdFx0fVxuXHR9XG5cdC8qKlxuXHQqIFByb3ZpZGVzIGluc3RydWN0aW9ucyBvbiB0aGUgZXhwZWN0ZWQgZm9ybWF0IG9mIHRoZSByZXNwb25zZSBmb3IgdGhlXG5cdCogQ29tbWFTZXBhcmF0ZWRMaXN0T3V0cHV0UGFyc2VyLlxuXHQqIEByZXR1cm5zIEEgc3RyaW5nIGNvbnRhaW5pbmcgaW5zdHJ1Y3Rpb25zIG9uIHRoZSBleHBlY3RlZCBmb3JtYXQgb2YgdGhlIHJlc3BvbnNlLlxuXHQqL1xuXHRnZXRGb3JtYXRJbnN0cnVjdGlvbnMoKSB7XG5cdFx0cmV0dXJuIGBZb3VyIHJlc3BvbnNlIHNob3VsZCBiZSBhIGxpc3Qgb2YgY29tbWEgc2VwYXJhdGVkIHZhbHVlcywgZWc6IFxcYGZvbywgYmFyLCBiYXpcXGBgO1xuXHR9XG59O1xuLyoqXG4qIENsYXNzIHRvIHBhcnNlIHRoZSBvdXRwdXQgb2YgYW4gTExNIGNhbGwgdG8gYSBsaXN0IHdpdGggYSBzcGVjaWZpYyBsZW5ndGggYW5kIHNlcGFyYXRvci5cbiogQGF1Z21lbnRzIExpc3RPdXRwdXRQYXJzZXJcbiovXG52YXIgQ3VzdG9tTGlzdE91dHB1dFBhcnNlciA9IGNsYXNzIGV4dGVuZHMgTGlzdE91dHB1dFBhcnNlciB7XG5cdGxjX25hbWVzcGFjZSA9IFtcblx0XHRcImxhbmdjaGFpbl9jb3JlXCIsXG5cdFx0XCJvdXRwdXRfcGFyc2Vyc1wiLFxuXHRcdFwibGlzdFwiXG5cdF07XG5cdGxlbmd0aDtcblx0c2VwYXJhdG9yO1xuXHRjb25zdHJ1Y3Rvcih7IGxlbmd0aCwgc2VwYXJhdG9yIH0pIHtcblx0XHRzdXBlciguLi5hcmd1bWVudHMpO1xuXHRcdHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xuXHRcdHRoaXMuc2VwYXJhdG9yID0gc2VwYXJhdG9yIHx8IFwiLFwiO1xuXHR9XG5cdC8qKlxuXHQqIFBhcnNlcyB0aGUgZ2l2ZW4gdGV4dCBpbnRvIGFuIGFycmF5IG9mIHN0cmluZ3MsIHVzaW5nIHRoZSBzcGVjaWZpZWRcblx0KiBzZXBhcmF0b3IuIElmIHRoZSBwYXJzaW5nIGZhaWxzIG9yIHRoZSBudW1iZXIgb2YgaXRlbXMgaW4gdGhlIGxpc3Rcblx0KiBkb2Vzbid0IG1hdGNoIHRoZSBleHBlY3RlZCBsZW5ndGgsIHRocm93cyBhbiBPdXRwdXRQYXJzZXJFeGNlcHRpb24uXG5cdCogQHBhcmFtIHRleHQgVGhlIHRleHQgdG8gcGFyc2UuXG5cdCogQHJldHVybnMgQW4gYXJyYXkgb2Ygc3RyaW5ncyBvYnRhaW5lZCBieSBzcGxpdHRpbmcgdGhlIGlucHV0IHRleHQgYXQgZWFjaCBvY2N1cnJlbmNlIG9mIHRoZSBzcGVjaWZpZWQgc2VwYXJhdG9yLlxuXHQqL1xuXHRhc3luYyBwYXJzZSh0ZXh0KSB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IGl0ZW1zID0gdGV4dC50cmltKCkuc3BsaXQodGhpcy5zZXBhcmF0b3IpLm1hcCgocykgPT4gcy50cmltKCkpO1xuXHRcdFx0aWYgKHRoaXMubGVuZ3RoICE9PSB2b2lkIDAgJiYgaXRlbXMubGVuZ3RoICE9PSB0aGlzLmxlbmd0aCkgdGhyb3cgbmV3IE91dHB1dFBhcnNlckV4Y2VwdGlvbihgSW5jb3JyZWN0IG51bWJlciBvZiBpdGVtcy4gRXhwZWN0ZWQgJHt0aGlzLmxlbmd0aH0sIGdvdCAke2l0ZW1zLmxlbmd0aH0uYCk7XG5cdFx0XHRyZXR1cm4gaXRlbXM7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0aWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihlKSA9PT0gT3V0cHV0UGFyc2VyRXhjZXB0aW9uLnByb3RvdHlwZSkgdGhyb3cgZTtcblx0XHRcdHRocm93IG5ldyBPdXRwdXRQYXJzZXJFeGNlcHRpb24oYENvdWxkIG5vdCBwYXJzZSBvdXRwdXQ6ICR7dGV4dH1gKTtcblx0XHR9XG5cdH1cblx0LyoqXG5cdCogUHJvdmlkZXMgaW5zdHJ1Y3Rpb25zIG9uIHRoZSBleHBlY3RlZCBmb3JtYXQgb2YgdGhlIHJlc3BvbnNlIGZvciB0aGVcblx0KiBDdXN0b21MaXN0T3V0cHV0UGFyc2VyLCBpbmNsdWRpbmcgdGhlIG51bWJlciBvZiBpdGVtcyBhbmQgdGhlXG5cdCogc2VwYXJhdG9yLlxuXHQqIEByZXR1cm5zIEEgc3RyaW5nIGNvbnRhaW5pbmcgaW5zdHJ1Y3Rpb25zIG9uIHRoZSBleHBlY3RlZCBmb3JtYXQgb2YgdGhlIHJlc3BvbnNlLlxuXHQqL1xuXHRnZXRGb3JtYXRJbnN0cnVjdGlvbnMoKSB7XG5cdFx0cmV0dXJuIGBZb3VyIHJlc3BvbnNlIHNob3VsZCBiZSBhIGxpc3Qgb2YgJHt0aGlzLmxlbmd0aCA9PT0gdm9pZCAwID8gXCJcIiA6IGAke3RoaXMubGVuZ3RofSBgfWl0ZW1zIHNlcGFyYXRlZCBieSBcIiR7dGhpcy5zZXBhcmF0b3J9XCIgKGVnOiBcXGBmb28ke3RoaXMuc2VwYXJhdG9yfSBiYXIke3RoaXMuc2VwYXJhdG9yfSBiYXpcXGApYDtcblx0fVxufTtcbnZhciBOdW1iZXJlZExpc3RPdXRwdXRQYXJzZXIgPSBjbGFzcyBleHRlbmRzIExpc3RPdXRwdXRQYXJzZXIge1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJOdW1iZXJlZExpc3RPdXRwdXRQYXJzZXJcIjtcblx0fVxuXHRsY19uYW1lc3BhY2UgPSBbXG5cdFx0XCJsYW5nY2hhaW5fY29yZVwiLFxuXHRcdFwib3V0cHV0X3BhcnNlcnNcIixcblx0XHRcImxpc3RcIlxuXHRdO1xuXHRsY19zZXJpYWxpemFibGUgPSB0cnVlO1xuXHRnZXRGb3JtYXRJbnN0cnVjdGlvbnMoKSB7XG5cdFx0cmV0dXJuIGBZb3VyIHJlc3BvbnNlIHNob3VsZCBiZSBhIG51bWJlcmVkIGxpc3Qgd2l0aCBlYWNoIGl0ZW0gb24gYSBuZXcgbGluZS4gRm9yIGV4YW1wbGU6IFxcblxcbjEuIGZvb1xcblxcbjIuIGJhclxcblxcbjMuIGJhemA7XG5cdH1cblx0cmUgPSAvXFxkK1xcLlxccyhbXlxcbl0rKS9nO1xuXHRhc3luYyBwYXJzZSh0ZXh0KSB7XG5cdFx0cmV0dXJuIFsuLi50ZXh0Lm1hdGNoQWxsKHRoaXMucmUpID8/IFtdXS5tYXAoKG0pID0+IG1bMV0pO1xuXHR9XG59O1xudmFyIE1hcmtkb3duTGlzdE91dHB1dFBhcnNlciA9IGNsYXNzIGV4dGVuZHMgTGlzdE91dHB1dFBhcnNlciB7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIk51bWJlcmVkTGlzdE91dHB1dFBhcnNlclwiO1xuXHR9XG5cdGxjX25hbWVzcGFjZSA9IFtcblx0XHRcImxhbmdjaGFpbl9jb3JlXCIsXG5cdFx0XCJvdXRwdXRfcGFyc2Vyc1wiLFxuXHRcdFwibGlzdFwiXG5cdF07XG5cdGxjX3NlcmlhbGl6YWJsZSA9IHRydWU7XG5cdGdldEZvcm1hdEluc3RydWN0aW9ucygpIHtcblx0XHRyZXR1cm4gYFlvdXIgcmVzcG9uc2Ugc2hvdWxkIGJlIGEgbnVtYmVyZWQgbGlzdCB3aXRoIGVhY2ggaXRlbSBvbiBhIG5ldyBsaW5lLiBGb3IgZXhhbXBsZTogXFxuXFxuMS4gZm9vXFxuXFxuMi4gYmFyXFxuXFxuMy4gYmF6YDtcblx0fVxuXHRyZSA9IC9eXFxzKlstKl1cXHMoW15cXG5dKykkL2dtO1xuXHRhc3luYyBwYXJzZSh0ZXh0KSB7XG5cdFx0cmV0dXJuIFsuLi50ZXh0Lm1hdGNoQWxsKHRoaXMucmUpID8/IFtdXS5tYXAoKG0pID0+IG1bMV0pO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IENvbW1hU2VwYXJhdGVkTGlzdE91dHB1dFBhcnNlciwgQ3VzdG9tTGlzdE91dHB1dFBhcnNlciwgTGlzdE91dHB1dFBhcnNlciwgTWFya2Rvd25MaXN0T3V0cHV0UGFyc2VyLCBOdW1iZXJlZExpc3RPdXRwdXRQYXJzZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpc3QuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/list.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/openai_tools/index.js":
/*!***************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/openai_tools/index.js ***!
  \***************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JsonOutputKeyToolsParser: () => (/* reexport safe */ _json_output_tools_parsers_js__WEBPACK_IMPORTED_MODULE_1__.JsonOutputKeyToolsParser),\n/* harmony export */   JsonOutputToolsParser: () => (/* reexport safe */ _json_output_tools_parsers_js__WEBPACK_IMPORTED_MODULE_1__.JsonOutputToolsParser),\n/* harmony export */   convertLangChainToolCallToOpenAI: () => (/* reexport safe */ _json_output_tools_parsers_js__WEBPACK_IMPORTED_MODULE_1__.convertLangChainToolCallToOpenAI),\n/* harmony export */   makeInvalidToolCall: () => (/* reexport safe */ _json_output_tools_parsers_js__WEBPACK_IMPORTED_MODULE_1__.makeInvalidToolCall),\n/* harmony export */   openai_tools_exports: () => (/* binding */ openai_tools_exports),\n/* harmony export */   parseToolCall: () => (/* reexport safe */ _json_output_tools_parsers_js__WEBPACK_IMPORTED_MODULE_1__.parseToolCall)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../_virtual/rolldown_runtime.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _json_output_tools_parsers_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./json_output_tools_parsers.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/openai_tools/json_output_tools_parsers.js\");\n\n\n\n//#region src/output_parsers/openai_tools/index.ts\nvar openai_tools_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(openai_tools_exports, {\n\tJsonOutputKeyToolsParser: () => _json_output_tools_parsers_js__WEBPACK_IMPORTED_MODULE_1__.JsonOutputKeyToolsParser,\n\tJsonOutputToolsParser: () => _json_output_tools_parsers_js__WEBPACK_IMPORTED_MODULE_1__.JsonOutputToolsParser,\n\tconvertLangChainToolCallToOpenAI: () => _json_output_tools_parsers_js__WEBPACK_IMPORTED_MODULE_1__.convertLangChainToolCallToOpenAI,\n\tmakeInvalidToolCall: () => _json_output_tools_parsers_js__WEBPACK_IMPORTED_MODULE_1__.makeInvalidToolCall,\n\tparseToolCall: () => _json_output_tools_parsers_js__WEBPACK_IMPORTED_MODULE_1__.parseToolCall\n});\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L291dHB1dF9wYXJzZXJzL29wZW5haV90b29scy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUE4RDtBQUN5Rzs7QUFFdks7QUFDQTtBQUNBLHNFQUFRO0FBQ1IsaUNBQWlDLG1GQUF3QjtBQUN6RCw4QkFBOEIsZ0ZBQXFCO0FBQ25ELHlDQUF5QywyRkFBZ0M7QUFDekUsNEJBQTRCLDhFQUFtQjtBQUMvQyxzQkFBc0Isd0VBQWE7QUFDbkMsQ0FBQzs7QUFFRDtBQUN1SjtBQUN2SiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9vdXRwdXRfcGFyc2Vycy9vcGVuYWlfdG9vbHMvaW5kZXguanM/ODNlYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2V4cG9ydCB9IGZyb20gXCIuLi8uLi9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmpzXCI7XG5pbXBvcnQgeyBKc29uT3V0cHV0S2V5VG9vbHNQYXJzZXIsIEpzb25PdXRwdXRUb29sc1BhcnNlciwgY29udmVydExhbmdDaGFpblRvb2xDYWxsVG9PcGVuQUksIG1ha2VJbnZhbGlkVG9vbENhbGwsIHBhcnNlVG9vbENhbGwgfSBmcm9tIFwiLi9qc29uX291dHB1dF90b29sc19wYXJzZXJzLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvb3V0cHV0X3BhcnNlcnMvb3BlbmFpX3Rvb2xzL2luZGV4LnRzXG52YXIgb3BlbmFpX3Rvb2xzX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KG9wZW5haV90b29sc19leHBvcnRzLCB7XG5cdEpzb25PdXRwdXRLZXlUb29sc1BhcnNlcjogKCkgPT4gSnNvbk91dHB1dEtleVRvb2xzUGFyc2VyLFxuXHRKc29uT3V0cHV0VG9vbHNQYXJzZXI6ICgpID0+IEpzb25PdXRwdXRUb29sc1BhcnNlcixcblx0Y29udmVydExhbmdDaGFpblRvb2xDYWxsVG9PcGVuQUk6ICgpID0+IGNvbnZlcnRMYW5nQ2hhaW5Ub29sQ2FsbFRvT3BlbkFJLFxuXHRtYWtlSW52YWxpZFRvb2xDYWxsOiAoKSA9PiBtYWtlSW52YWxpZFRvb2xDYWxsLFxuXHRwYXJzZVRvb2xDYWxsOiAoKSA9PiBwYXJzZVRvb2xDYWxsXG59KTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBKc29uT3V0cHV0S2V5VG9vbHNQYXJzZXIsIEpzb25PdXRwdXRUb29sc1BhcnNlciwgY29udmVydExhbmdDaGFpblRvb2xDYWxsVG9PcGVuQUksIG1ha2VJbnZhbGlkVG9vbENhbGwsIG9wZW5haV90b29sc19leHBvcnRzLCBwYXJzZVRvb2xDYWxsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/openai_tools/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/openai_tools/json_output_tools_parsers.js":
/*!***********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/openai_tools/json_output_tools_parsers.js ***!
  \***********************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JsonOutputKeyToolsParser: () => (/* binding */ JsonOutputKeyToolsParser),\n/* harmony export */   JsonOutputToolsParser: () => (/* binding */ JsonOutputToolsParser),\n/* harmony export */   convertLangChainToolCallToOpenAI: () => (/* binding */ convertLangChainToolCallToOpenAI),\n/* harmony export */   makeInvalidToolCall: () => (/* binding */ makeInvalidToolCall),\n/* harmony export */   parseToolCall: () => (/* binding */ parseToolCall)\n/* harmony export */ });\n/* harmony import */ var _utils_json_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/json.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/json.js\");\n/* harmony import */ var _messages_ai_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../messages/ai.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/ai.js\");\n/* harmony import */ var _utils_types_zod_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/types/zod.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/types/zod.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/base.js\");\n/* harmony import */ var _transform_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../transform.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/transform.js\");\n/* harmony import */ var _json_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../json.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/json.js\");\n\n\n\n\n\n\n\n//#region src/output_parsers/openai_tools/json_output_tools_parsers.ts\nfunction parseToolCall(rawToolCall, options) {\n\tif (rawToolCall.function === void 0) return void 0;\n\tlet functionArgs;\n\tif (options?.partial) try {\n\t\tfunctionArgs = (0,_utils_json_js__WEBPACK_IMPORTED_MODULE_0__.parsePartialJson)(rawToolCall.function.arguments ?? \"{}\");\n\t} catch {\n\t\treturn void 0;\n\t}\n\telse try {\n\t\tfunctionArgs = JSON.parse(rawToolCall.function.arguments);\n\t} catch (e) {\n\t\tthrow new _base_js__WEBPACK_IMPORTED_MODULE_3__.OutputParserException([\n\t\t\t`Function \"${rawToolCall.function.name}\" arguments:`,\n\t\t\t``,\n\t\t\trawToolCall.function.arguments,\n\t\t\t``,\n\t\t\t`are not valid JSON.`,\n\t\t\t`Error: ${e.message}`\n\t\t].join(\"\\n\"));\n\t}\n\tconst parsedToolCall = {\n\t\tname: rawToolCall.function.name,\n\t\targs: functionArgs,\n\t\ttype: \"tool_call\"\n\t};\n\tif (options?.returnId) parsedToolCall.id = rawToolCall.id;\n\treturn parsedToolCall;\n}\nfunction convertLangChainToolCallToOpenAI(toolCall) {\n\tif (toolCall.id === void 0) throw new Error(`All OpenAI tool calls must have an \"id\" field.`);\n\treturn {\n\t\tid: toolCall.id,\n\t\ttype: \"function\",\n\t\tfunction: {\n\t\t\tname: toolCall.name,\n\t\t\targuments: JSON.stringify(toolCall.args)\n\t\t}\n\t};\n}\nfunction makeInvalidToolCall(rawToolCall, errorMsg) {\n\treturn {\n\t\tname: rawToolCall.function?.name,\n\t\targs: rawToolCall.function?.arguments,\n\t\tid: rawToolCall.id,\n\t\terror: errorMsg,\n\t\ttype: \"invalid_tool_call\"\n\t};\n}\n/**\n* Class for parsing the output of a tool-calling LLM into a JSON object.\n*/\nvar JsonOutputToolsParser = class extends _transform_js__WEBPACK_IMPORTED_MODULE_4__.BaseCumulativeTransformOutputParser {\n\tstatic lc_name() {\n\t\treturn \"JsonOutputToolsParser\";\n\t}\n\treturnId = false;\n\tlc_namespace = [\n\t\t\"langchain\",\n\t\t\"output_parsers\",\n\t\t\"openai_tools\"\n\t];\n\tlc_serializable = true;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.returnId = fields?.returnId ?? this.returnId;\n\t}\n\t_diff() {\n\t\tthrow new Error(\"Not supported.\");\n\t}\n\tasync parse() {\n\t\tthrow new Error(\"Not implemented.\");\n\t}\n\tasync parseResult(generations) {\n\t\tconst result = await this.parsePartialResult(generations, false);\n\t\treturn result;\n\t}\n\t/**\n\t* Parses the output and returns a JSON object. If `argsOnly` is true,\n\t* only the arguments of the function call are returned.\n\t* @param generations The output of the LLM to parse.\n\t* @returns A JSON object representation of the function call or its arguments.\n\t*/\n\tasync parsePartialResult(generations, partial = true) {\n\t\tconst message = generations[0].message;\n\t\tlet toolCalls;\n\t\tif ((0,_messages_ai_js__WEBPACK_IMPORTED_MODULE_1__.isAIMessage)(message) && message.tool_calls?.length) toolCalls = message.tool_calls.map((toolCall) => {\n\t\t\tconst { id,...rest } = toolCall;\n\t\t\tif (!this.returnId) return rest;\n\t\t\treturn {\n\t\t\t\tid,\n\t\t\t\t...rest\n\t\t\t};\n\t\t});\n\t\telse if (message.additional_kwargs.tool_calls !== void 0) {\n\t\t\tconst rawToolCalls = JSON.parse(JSON.stringify(message.additional_kwargs.tool_calls));\n\t\t\ttoolCalls = rawToolCalls.map((rawToolCall) => {\n\t\t\t\treturn parseToolCall(rawToolCall, {\n\t\t\t\t\treturnId: this.returnId,\n\t\t\t\t\tpartial\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\tif (!toolCalls) return [];\n\t\tconst parsedToolCalls = [];\n\t\tfor (const toolCall of toolCalls) if (toolCall !== void 0) {\n\t\t\tconst backwardsCompatibleToolCall = {\n\t\t\t\ttype: toolCall.name,\n\t\t\t\targs: toolCall.args,\n\t\t\t\tid: toolCall.id\n\t\t\t};\n\t\t\tparsedToolCalls.push(backwardsCompatibleToolCall);\n\t\t}\n\t\treturn parsedToolCalls;\n\t}\n};\n/**\n* Class for parsing the output of a tool-calling LLM into a JSON object if you are\n* expecting only a single tool to be called.\n*/\nvar JsonOutputKeyToolsParser = class extends JsonOutputToolsParser {\n\tstatic lc_name() {\n\t\treturn \"JsonOutputKeyToolsParser\";\n\t}\n\tlc_namespace = [\n\t\t\"langchain\",\n\t\t\"output_parsers\",\n\t\t\"openai_tools\"\n\t];\n\tlc_serializable = true;\n\treturnId = false;\n\t/** The type of tool calls to return. */\n\tkeyName;\n\t/** Whether to return only the first tool call. */\n\treturnSingle = false;\n\tzodSchema;\n\tconstructor(params) {\n\t\tsuper(params);\n\t\tthis.keyName = params.keyName;\n\t\tthis.returnSingle = params.returnSingle ?? this.returnSingle;\n\t\tthis.zodSchema = params.zodSchema;\n\t}\n\tasync _validateResult(result) {\n\t\tif (this.zodSchema === void 0) return result;\n\t\tconst zodParsedResult = await (0,_utils_types_zod_js__WEBPACK_IMPORTED_MODULE_2__.interopSafeParseAsync)(this.zodSchema, result);\n\t\tif (zodParsedResult.success) return zodParsedResult.data;\n\t\telse throw new _base_js__WEBPACK_IMPORTED_MODULE_3__.OutputParserException(`Failed to parse. Text: \"${JSON.stringify(result, null, 2)}\". Error: ${JSON.stringify(zodParsedResult.error?.issues)}`, JSON.stringify(result, null, 2));\n\t}\n\tasync parsePartialResult(generations) {\n\t\tconst results = await super.parsePartialResult(generations);\n\t\tconst matchingResults = results.filter((result) => result.type === this.keyName);\n\t\tlet returnedValues = matchingResults;\n\t\tif (!matchingResults.length) return void 0;\n\t\tif (!this.returnId) returnedValues = matchingResults.map((result) => result.args);\n\t\tif (this.returnSingle) return returnedValues[0];\n\t\treturn returnedValues;\n\t}\n\tasync parseResult(generations) {\n\t\tconst results = await super.parsePartialResult(generations, false);\n\t\tconst matchingResults = results.filter((result) => result.type === this.keyName);\n\t\tlet returnedValues = matchingResults;\n\t\tif (!matchingResults.length) return void 0;\n\t\tif (!this.returnId) returnedValues = matchingResults.map((result) => result.args);\n\t\tif (this.returnSingle) return this._validateResult(returnedValues[0]);\n\t\tconst toolCallResults = await Promise.all(returnedValues.map((value) => this._validateResult(value)));\n\t\treturn toolCallResults;\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=json_output_tools_parsers.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L291dHB1dF9wYXJzZXJzL29wZW5haV90b29scy9qc29uX291dHB1dF90b29sc19wYXJzZXJzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXVEO0FBQ0o7QUFDYztBQUNkO0FBQ21CO0FBQ2xEOztBQUVwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGdFQUFnQixzQ0FBc0M7QUFDdkUsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILFlBQVksMkRBQXFCO0FBQ2pDLGdCQUFnQiwwQkFBMEI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFVBQVU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLDhFQUFtQztBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLDREQUFXO0FBQ2pCLFdBQVcsYUFBYTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDBFQUFxQjtBQUNyRDtBQUNBLGlCQUFpQiwyREFBcUIsNEJBQTRCLGdDQUFnQyxZQUFZLDhDQUE4QztBQUM1SjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDaUk7QUFDakkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3Qvb3V0cHV0X3BhcnNlcnMvb3BlbmFpX3Rvb2xzL2pzb25fb3V0cHV0X3Rvb2xzX3BhcnNlcnMuanM/NzE1ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwYXJzZVBhcnRpYWxKc29uIH0gZnJvbSBcIi4uLy4uL3V0aWxzL2pzb24uanNcIjtcbmltcG9ydCB7IGlzQUlNZXNzYWdlIH0gZnJvbSBcIi4uLy4uL21lc3NhZ2VzL2FpLmpzXCI7XG5pbXBvcnQgeyBpbnRlcm9wU2FmZVBhcnNlQXN5bmMgfSBmcm9tIFwiLi4vLi4vdXRpbHMvdHlwZXMvem9kLmpzXCI7XG5pbXBvcnQgeyBPdXRwdXRQYXJzZXJFeGNlcHRpb24gfSBmcm9tIFwiLi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgQmFzZUN1bXVsYXRpdmVUcmFuc2Zvcm1PdXRwdXRQYXJzZXIgfSBmcm9tIFwiLi4vdHJhbnNmb3JtLmpzXCI7XG5pbXBvcnQgXCIuLi9qc29uLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvb3V0cHV0X3BhcnNlcnMvb3BlbmFpX3Rvb2xzL2pzb25fb3V0cHV0X3Rvb2xzX3BhcnNlcnMudHNcbmZ1bmN0aW9uIHBhcnNlVG9vbENhbGwocmF3VG9vbENhbGwsIG9wdGlvbnMpIHtcblx0aWYgKHJhd1Rvb2xDYWxsLmZ1bmN0aW9uID09PSB2b2lkIDApIHJldHVybiB2b2lkIDA7XG5cdGxldCBmdW5jdGlvbkFyZ3M7XG5cdGlmIChvcHRpb25zPy5wYXJ0aWFsKSB0cnkge1xuXHRcdGZ1bmN0aW9uQXJncyA9IHBhcnNlUGFydGlhbEpzb24ocmF3VG9vbENhbGwuZnVuY3Rpb24uYXJndW1lbnRzID8/IFwie31cIik7XG5cdH0gY2F0Y2gge1xuXHRcdHJldHVybiB2b2lkIDA7XG5cdH1cblx0ZWxzZSB0cnkge1xuXHRcdGZ1bmN0aW9uQXJncyA9IEpTT04ucGFyc2UocmF3VG9vbENhbGwuZnVuY3Rpb24uYXJndW1lbnRzKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdHRocm93IG5ldyBPdXRwdXRQYXJzZXJFeGNlcHRpb24oW1xuXHRcdFx0YEZ1bmN0aW9uIFwiJHtyYXdUb29sQ2FsbC5mdW5jdGlvbi5uYW1lfVwiIGFyZ3VtZW50czpgLFxuXHRcdFx0YGAsXG5cdFx0XHRyYXdUb29sQ2FsbC5mdW5jdGlvbi5hcmd1bWVudHMsXG5cdFx0XHRgYCxcblx0XHRcdGBhcmUgbm90IHZhbGlkIEpTT04uYCxcblx0XHRcdGBFcnJvcjogJHtlLm1lc3NhZ2V9YFxuXHRcdF0uam9pbihcIlxcblwiKSk7XG5cdH1cblx0Y29uc3QgcGFyc2VkVG9vbENhbGwgPSB7XG5cdFx0bmFtZTogcmF3VG9vbENhbGwuZnVuY3Rpb24ubmFtZSxcblx0XHRhcmdzOiBmdW5jdGlvbkFyZ3MsXG5cdFx0dHlwZTogXCJ0b29sX2NhbGxcIlxuXHR9O1xuXHRpZiAob3B0aW9ucz8ucmV0dXJuSWQpIHBhcnNlZFRvb2xDYWxsLmlkID0gcmF3VG9vbENhbGwuaWQ7XG5cdHJldHVybiBwYXJzZWRUb29sQ2FsbDtcbn1cbmZ1bmN0aW9uIGNvbnZlcnRMYW5nQ2hhaW5Ub29sQ2FsbFRvT3BlbkFJKHRvb2xDYWxsKSB7XG5cdGlmICh0b29sQ2FsbC5pZCA9PT0gdm9pZCAwKSB0aHJvdyBuZXcgRXJyb3IoYEFsbCBPcGVuQUkgdG9vbCBjYWxscyBtdXN0IGhhdmUgYW4gXCJpZFwiIGZpZWxkLmApO1xuXHRyZXR1cm4ge1xuXHRcdGlkOiB0b29sQ2FsbC5pZCxcblx0XHR0eXBlOiBcImZ1bmN0aW9uXCIsXG5cdFx0ZnVuY3Rpb246IHtcblx0XHRcdG5hbWU6IHRvb2xDYWxsLm5hbWUsXG5cdFx0XHRhcmd1bWVudHM6IEpTT04uc3RyaW5naWZ5KHRvb2xDYWxsLmFyZ3MpXG5cdFx0fVxuXHR9O1xufVxuZnVuY3Rpb24gbWFrZUludmFsaWRUb29sQ2FsbChyYXdUb29sQ2FsbCwgZXJyb3JNc2cpIHtcblx0cmV0dXJuIHtcblx0XHRuYW1lOiByYXdUb29sQ2FsbC5mdW5jdGlvbj8ubmFtZSxcblx0XHRhcmdzOiByYXdUb29sQ2FsbC5mdW5jdGlvbj8uYXJndW1lbnRzLFxuXHRcdGlkOiByYXdUb29sQ2FsbC5pZCxcblx0XHRlcnJvcjogZXJyb3JNc2csXG5cdFx0dHlwZTogXCJpbnZhbGlkX3Rvb2xfY2FsbFwiXG5cdH07XG59XG4vKipcbiogQ2xhc3MgZm9yIHBhcnNpbmcgdGhlIG91dHB1dCBvZiBhIHRvb2wtY2FsbGluZyBMTE0gaW50byBhIEpTT04gb2JqZWN0LlxuKi9cbnZhciBKc29uT3V0cHV0VG9vbHNQYXJzZXIgPSBjbGFzcyBleHRlbmRzIEJhc2VDdW11bGF0aXZlVHJhbnNmb3JtT3V0cHV0UGFyc2VyIHtcblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiSnNvbk91dHB1dFRvb2xzUGFyc2VyXCI7XG5cdH1cblx0cmV0dXJuSWQgPSBmYWxzZTtcblx0bGNfbmFtZXNwYWNlID0gW1xuXHRcdFwibGFuZ2NoYWluXCIsXG5cdFx0XCJvdXRwdXRfcGFyc2Vyc1wiLFxuXHRcdFwib3BlbmFpX3Rvb2xzXCJcblx0XTtcblx0bGNfc2VyaWFsaXphYmxlID0gdHJ1ZTtcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLnJldHVybklkID0gZmllbGRzPy5yZXR1cm5JZCA/PyB0aGlzLnJldHVybklkO1xuXHR9XG5cdF9kaWZmKCkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIk5vdCBzdXBwb3J0ZWQuXCIpO1xuXHR9XG5cdGFzeW5jIHBhcnNlKCkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZC5cIik7XG5cdH1cblx0YXN5bmMgcGFyc2VSZXN1bHQoZ2VuZXJhdGlvbnMpIHtcblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnBhcnNlUGFydGlhbFJlc3VsdChnZW5lcmF0aW9ucywgZmFsc2UpO1xuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cblx0LyoqXG5cdCogUGFyc2VzIHRoZSBvdXRwdXQgYW5kIHJldHVybnMgYSBKU09OIG9iamVjdC4gSWYgYGFyZ3NPbmx5YCBpcyB0cnVlLFxuXHQqIG9ubHkgdGhlIGFyZ3VtZW50cyBvZiB0aGUgZnVuY3Rpb24gY2FsbCBhcmUgcmV0dXJuZWQuXG5cdCogQHBhcmFtIGdlbmVyYXRpb25zIFRoZSBvdXRwdXQgb2YgdGhlIExMTSB0byBwYXJzZS5cblx0KiBAcmV0dXJucyBBIEpTT04gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIHRoZSBmdW5jdGlvbiBjYWxsIG9yIGl0cyBhcmd1bWVudHMuXG5cdCovXG5cdGFzeW5jIHBhcnNlUGFydGlhbFJlc3VsdChnZW5lcmF0aW9ucywgcGFydGlhbCA9IHRydWUpIHtcblx0XHRjb25zdCBtZXNzYWdlID0gZ2VuZXJhdGlvbnNbMF0ubWVzc2FnZTtcblx0XHRsZXQgdG9vbENhbGxzO1xuXHRcdGlmIChpc0FJTWVzc2FnZShtZXNzYWdlKSAmJiBtZXNzYWdlLnRvb2xfY2FsbHM/Lmxlbmd0aCkgdG9vbENhbGxzID0gbWVzc2FnZS50b29sX2NhbGxzLm1hcCgodG9vbENhbGwpID0+IHtcblx0XHRcdGNvbnN0IHsgaWQsLi4ucmVzdCB9ID0gdG9vbENhbGw7XG5cdFx0XHRpZiAoIXRoaXMucmV0dXJuSWQpIHJldHVybiByZXN0O1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0aWQsXG5cdFx0XHRcdC4uLnJlc3Rcblx0XHRcdH07XG5cdFx0fSk7XG5cdFx0ZWxzZSBpZiAobWVzc2FnZS5hZGRpdGlvbmFsX2t3YXJncy50b29sX2NhbGxzICE9PSB2b2lkIDApIHtcblx0XHRcdGNvbnN0IHJhd1Rvb2xDYWxscyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobWVzc2FnZS5hZGRpdGlvbmFsX2t3YXJncy50b29sX2NhbGxzKSk7XG5cdFx0XHR0b29sQ2FsbHMgPSByYXdUb29sQ2FsbHMubWFwKChyYXdUb29sQ2FsbCkgPT4ge1xuXHRcdFx0XHRyZXR1cm4gcGFyc2VUb29sQ2FsbChyYXdUb29sQ2FsbCwge1xuXHRcdFx0XHRcdHJldHVybklkOiB0aGlzLnJldHVybklkLFxuXHRcdFx0XHRcdHBhcnRpYWxcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0aWYgKCF0b29sQ2FsbHMpIHJldHVybiBbXTtcblx0XHRjb25zdCBwYXJzZWRUb29sQ2FsbHMgPSBbXTtcblx0XHRmb3IgKGNvbnN0IHRvb2xDYWxsIG9mIHRvb2xDYWxscykgaWYgKHRvb2xDYWxsICE9PSB2b2lkIDApIHtcblx0XHRcdGNvbnN0IGJhY2t3YXJkc0NvbXBhdGlibGVUb29sQ2FsbCA9IHtcblx0XHRcdFx0dHlwZTogdG9vbENhbGwubmFtZSxcblx0XHRcdFx0YXJnczogdG9vbENhbGwuYXJncyxcblx0XHRcdFx0aWQ6IHRvb2xDYWxsLmlkXG5cdFx0XHR9O1xuXHRcdFx0cGFyc2VkVG9vbENhbGxzLnB1c2goYmFja3dhcmRzQ29tcGF0aWJsZVRvb2xDYWxsKTtcblx0XHR9XG5cdFx0cmV0dXJuIHBhcnNlZFRvb2xDYWxscztcblx0fVxufTtcbi8qKlxuKiBDbGFzcyBmb3IgcGFyc2luZyB0aGUgb3V0cHV0IG9mIGEgdG9vbC1jYWxsaW5nIExMTSBpbnRvIGEgSlNPTiBvYmplY3QgaWYgeW91IGFyZVxuKiBleHBlY3Rpbmcgb25seSBhIHNpbmdsZSB0b29sIHRvIGJlIGNhbGxlZC5cbiovXG52YXIgSnNvbk91dHB1dEtleVRvb2xzUGFyc2VyID0gY2xhc3MgZXh0ZW5kcyBKc29uT3V0cHV0VG9vbHNQYXJzZXIge1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJKc29uT3V0cHV0S2V5VG9vbHNQYXJzZXJcIjtcblx0fVxuXHRsY19uYW1lc3BhY2UgPSBbXG5cdFx0XCJsYW5nY2hhaW5cIixcblx0XHRcIm91dHB1dF9wYXJzZXJzXCIsXG5cdFx0XCJvcGVuYWlfdG9vbHNcIlxuXHRdO1xuXHRsY19zZXJpYWxpemFibGUgPSB0cnVlO1xuXHRyZXR1cm5JZCA9IGZhbHNlO1xuXHQvKiogVGhlIHR5cGUgb2YgdG9vbCBjYWxscyB0byByZXR1cm4uICovXG5cdGtleU5hbWU7XG5cdC8qKiBXaGV0aGVyIHRvIHJldHVybiBvbmx5IHRoZSBmaXJzdCB0b29sIGNhbGwuICovXG5cdHJldHVyblNpbmdsZSA9IGZhbHNlO1xuXHR6b2RTY2hlbWE7XG5cdGNvbnN0cnVjdG9yKHBhcmFtcykge1xuXHRcdHN1cGVyKHBhcmFtcyk7XG5cdFx0dGhpcy5rZXlOYW1lID0gcGFyYW1zLmtleU5hbWU7XG5cdFx0dGhpcy5yZXR1cm5TaW5nbGUgPSBwYXJhbXMucmV0dXJuU2luZ2xlID8/IHRoaXMucmV0dXJuU2luZ2xlO1xuXHRcdHRoaXMuem9kU2NoZW1hID0gcGFyYW1zLnpvZFNjaGVtYTtcblx0fVxuXHRhc3luYyBfdmFsaWRhdGVSZXN1bHQocmVzdWx0KSB7XG5cdFx0aWYgKHRoaXMuem9kU2NoZW1hID09PSB2b2lkIDApIHJldHVybiByZXN1bHQ7XG5cdFx0Y29uc3Qgem9kUGFyc2VkUmVzdWx0ID0gYXdhaXQgaW50ZXJvcFNhZmVQYXJzZUFzeW5jKHRoaXMuem9kU2NoZW1hLCByZXN1bHQpO1xuXHRcdGlmICh6b2RQYXJzZWRSZXN1bHQuc3VjY2VzcykgcmV0dXJuIHpvZFBhcnNlZFJlc3VsdC5kYXRhO1xuXHRcdGVsc2UgdGhyb3cgbmV3IE91dHB1dFBhcnNlckV4Y2VwdGlvbihgRmFpbGVkIHRvIHBhcnNlLiBUZXh0OiBcIiR7SlNPTi5zdHJpbmdpZnkocmVzdWx0LCBudWxsLCAyKX1cIi4gRXJyb3I6ICR7SlNPTi5zdHJpbmdpZnkoem9kUGFyc2VkUmVzdWx0LmVycm9yPy5pc3N1ZXMpfWAsIEpTT04uc3RyaW5naWZ5KHJlc3VsdCwgbnVsbCwgMikpO1xuXHR9XG5cdGFzeW5jIHBhcnNlUGFydGlhbFJlc3VsdChnZW5lcmF0aW9ucykge1xuXHRcdGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBzdXBlci5wYXJzZVBhcnRpYWxSZXN1bHQoZ2VuZXJhdGlvbnMpO1xuXHRcdGNvbnN0IG1hdGNoaW5nUmVzdWx0cyA9IHJlc3VsdHMuZmlsdGVyKChyZXN1bHQpID0+IHJlc3VsdC50eXBlID09PSB0aGlzLmtleU5hbWUpO1xuXHRcdGxldCByZXR1cm5lZFZhbHVlcyA9IG1hdGNoaW5nUmVzdWx0cztcblx0XHRpZiAoIW1hdGNoaW5nUmVzdWx0cy5sZW5ndGgpIHJldHVybiB2b2lkIDA7XG5cdFx0aWYgKCF0aGlzLnJldHVybklkKSByZXR1cm5lZFZhbHVlcyA9IG1hdGNoaW5nUmVzdWx0cy5tYXAoKHJlc3VsdCkgPT4gcmVzdWx0LmFyZ3MpO1xuXHRcdGlmICh0aGlzLnJldHVyblNpbmdsZSkgcmV0dXJuIHJldHVybmVkVmFsdWVzWzBdO1xuXHRcdHJldHVybiByZXR1cm5lZFZhbHVlcztcblx0fVxuXHRhc3luYyBwYXJzZVJlc3VsdChnZW5lcmF0aW9ucykge1xuXHRcdGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBzdXBlci5wYXJzZVBhcnRpYWxSZXN1bHQoZ2VuZXJhdGlvbnMsIGZhbHNlKTtcblx0XHRjb25zdCBtYXRjaGluZ1Jlc3VsdHMgPSByZXN1bHRzLmZpbHRlcigocmVzdWx0KSA9PiByZXN1bHQudHlwZSA9PT0gdGhpcy5rZXlOYW1lKTtcblx0XHRsZXQgcmV0dXJuZWRWYWx1ZXMgPSBtYXRjaGluZ1Jlc3VsdHM7XG5cdFx0aWYgKCFtYXRjaGluZ1Jlc3VsdHMubGVuZ3RoKSByZXR1cm4gdm9pZCAwO1xuXHRcdGlmICghdGhpcy5yZXR1cm5JZCkgcmV0dXJuZWRWYWx1ZXMgPSBtYXRjaGluZ1Jlc3VsdHMubWFwKChyZXN1bHQpID0+IHJlc3VsdC5hcmdzKTtcblx0XHRpZiAodGhpcy5yZXR1cm5TaW5nbGUpIHJldHVybiB0aGlzLl92YWxpZGF0ZVJlc3VsdChyZXR1cm5lZFZhbHVlc1swXSk7XG5cdFx0Y29uc3QgdG9vbENhbGxSZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwocmV0dXJuZWRWYWx1ZXMubWFwKCh2YWx1ZSkgPT4gdGhpcy5fdmFsaWRhdGVSZXN1bHQodmFsdWUpKSk7XG5cdFx0cmV0dXJuIHRvb2xDYWxsUmVzdWx0cztcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBKc29uT3V0cHV0S2V5VG9vbHNQYXJzZXIsIEpzb25PdXRwdXRUb29sc1BhcnNlciwgY29udmVydExhbmdDaGFpblRvb2xDYWxsVG9PcGVuQUksIG1ha2VJbnZhbGlkVG9vbENhbGwsIHBhcnNlVG9vbENhbGwgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWpzb25fb3V0cHV0X3Rvb2xzX3BhcnNlcnMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/openai_tools/json_output_tools_parsers.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/string.js":
/*!***************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/string.js ***!
  \***************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StringOutputParser: () => (/* binding */ StringOutputParser)\n/* harmony export */ });\n/* harmony import */ var _transform_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./transform.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/transform.js\");\n\n\n//#region src/output_parsers/string.ts\n/**\n* OutputParser that parses LLMResult into the top likely string.\n* @example\n* ```typescript\n* const promptTemplate = PromptTemplate.fromTemplate(\n*   \"Tell me a joke about {topic}\",\n* );\n*\n* const chain = RunnableSequence.from([\n*   promptTemplate,\n*   new ChatOpenAI({ model: \"gpt-4o-mini\" }),\n*   new StringOutputParser(),\n* ]);\n*\n* const result = await chain.invoke({ topic: \"bears\" });\n* console.log(\"What do you call a bear with no teeth? A gummy bear!\");\n* ```\n*/\nvar StringOutputParser = class extends _transform_js__WEBPACK_IMPORTED_MODULE_0__.BaseTransformOutputParser {\n\tstatic lc_name() {\n\t\treturn \"StrOutputParser\";\n\t}\n\tlc_namespace = [\n\t\t\"langchain_core\",\n\t\t\"output_parsers\",\n\t\t\"string\"\n\t];\n\tlc_serializable = true;\n\t/**\n\t* Parses a string output from an LLM call. This method is meant to be\n\t* implemented by subclasses to define how a string output from an LLM\n\t* should be parsed.\n\t* @param text The string output from an LLM call.\n\t* @param callbacks Optional callbacks.\n\t* @returns A promise of the parsed output.\n\t*/\n\tparse(text) {\n\t\treturn Promise.resolve(text);\n\t}\n\tgetFormatInstructions() {\n\t\treturn \"\";\n\t}\n\t_textContentToString(content) {\n\t\treturn content.text;\n\t}\n\t_imageUrlContentToString(_content) {\n\t\tthrow new Error(`Cannot coerce a multimodal \"image_url\" message part into a string.`);\n\t}\n\t_messageContentToString(content) {\n\t\tswitch (content.type) {\n\t\t\tcase \"text\":\n\t\t\tcase \"text_delta\":\n\t\t\t\tif (\"text\" in content) return this._textContentToString(content);\n\t\t\t\tbreak;\n\t\t\tcase \"image_url\":\n\t\t\t\tif (\"image_url\" in content) return this._imageUrlContentToString(content);\n\t\t\t\tbreak;\n\t\t\tdefault: throw new Error(`Cannot coerce \"${content.type}\" message part into a string.`);\n\t\t}\n\t\tthrow new Error(`Invalid content type: ${content.type}`);\n\t}\n\t_baseMessageContentToString(content) {\n\t\treturn content.reduce((acc, item) => acc + this._messageContentToString(item), \"\");\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=string.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L291dHB1dF9wYXJzZXJzL3N0cmluZy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUEyRDs7QUFFM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLE1BQU07QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsc0JBQXNCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxnQkFBZ0I7QUFDdEQ7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLG9FQUF5QjtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLGFBQWE7QUFDM0Q7QUFDQSwyQ0FBMkMsYUFBYTtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQzhCO0FBQzlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L291dHB1dF9wYXJzZXJzL3N0cmluZy5qcz82ZjBiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhc2VUcmFuc2Zvcm1PdXRwdXRQYXJzZXIgfSBmcm9tIFwiLi90cmFuc2Zvcm0uanNcIjtcblxuLy8jcmVnaW9uIHNyYy9vdXRwdXRfcGFyc2Vycy9zdHJpbmcudHNcbi8qKlxuKiBPdXRwdXRQYXJzZXIgdGhhdCBwYXJzZXMgTExNUmVzdWx0IGludG8gdGhlIHRvcCBsaWtlbHkgc3RyaW5nLlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIGNvbnN0IHByb21wdFRlbXBsYXRlID0gUHJvbXB0VGVtcGxhdGUuZnJvbVRlbXBsYXRlKFxuKiAgIFwiVGVsbCBtZSBhIGpva2UgYWJvdXQge3RvcGljfVwiLFxuKiApO1xuKlxuKiBjb25zdCBjaGFpbiA9IFJ1bm5hYmxlU2VxdWVuY2UuZnJvbShbXG4qICAgcHJvbXB0VGVtcGxhdGUsXG4qICAgbmV3IENoYXRPcGVuQUkoeyBtb2RlbDogXCJncHQtNG8tbWluaVwiIH0pLFxuKiAgIG5ldyBTdHJpbmdPdXRwdXRQYXJzZXIoKSxcbiogXSk7XG4qXG4qIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNoYWluLmludm9rZSh7IHRvcGljOiBcImJlYXJzXCIgfSk7XG4qIGNvbnNvbGUubG9nKFwiV2hhdCBkbyB5b3UgY2FsbCBhIGJlYXIgd2l0aCBubyB0ZWV0aD8gQSBndW1teSBiZWFyIVwiKTtcbiogYGBgXG4qL1xudmFyIFN0cmluZ091dHB1dFBhcnNlciA9IGNsYXNzIGV4dGVuZHMgQmFzZVRyYW5zZm9ybU91dHB1dFBhcnNlciB7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIlN0ck91dHB1dFBhcnNlclwiO1xuXHR9XG5cdGxjX25hbWVzcGFjZSA9IFtcblx0XHRcImxhbmdjaGFpbl9jb3JlXCIsXG5cdFx0XCJvdXRwdXRfcGFyc2Vyc1wiLFxuXHRcdFwic3RyaW5nXCJcblx0XTtcblx0bGNfc2VyaWFsaXphYmxlID0gdHJ1ZTtcblx0LyoqXG5cdCogUGFyc2VzIGEgc3RyaW5nIG91dHB1dCBmcm9tIGFuIExMTSBjYWxsLiBUaGlzIG1ldGhvZCBpcyBtZWFudCB0byBiZVxuXHQqIGltcGxlbWVudGVkIGJ5IHN1YmNsYXNzZXMgdG8gZGVmaW5lIGhvdyBhIHN0cmluZyBvdXRwdXQgZnJvbSBhbiBMTE1cblx0KiBzaG91bGQgYmUgcGFyc2VkLlxuXHQqIEBwYXJhbSB0ZXh0IFRoZSBzdHJpbmcgb3V0cHV0IGZyb20gYW4gTExNIGNhbGwuXG5cdCogQHBhcmFtIGNhbGxiYWNrcyBPcHRpb25hbCBjYWxsYmFja3MuXG5cdCogQHJldHVybnMgQSBwcm9taXNlIG9mIHRoZSBwYXJzZWQgb3V0cHV0LlxuXHQqL1xuXHRwYXJzZSh0ZXh0KSB7XG5cdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0ZXh0KTtcblx0fVxuXHRnZXRGb3JtYXRJbnN0cnVjdGlvbnMoKSB7XG5cdFx0cmV0dXJuIFwiXCI7XG5cdH1cblx0X3RleHRDb250ZW50VG9TdHJpbmcoY29udGVudCkge1xuXHRcdHJldHVybiBjb250ZW50LnRleHQ7XG5cdH1cblx0X2ltYWdlVXJsQ29udGVudFRvU3RyaW5nKF9jb250ZW50KSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgY29lcmNlIGEgbXVsdGltb2RhbCBcImltYWdlX3VybFwiIG1lc3NhZ2UgcGFydCBpbnRvIGEgc3RyaW5nLmApO1xuXHR9XG5cdF9tZXNzYWdlQ29udGVudFRvU3RyaW5nKGNvbnRlbnQpIHtcblx0XHRzd2l0Y2ggKGNvbnRlbnQudHlwZSkge1xuXHRcdFx0Y2FzZSBcInRleHRcIjpcblx0XHRcdGNhc2UgXCJ0ZXh0X2RlbHRhXCI6XG5cdFx0XHRcdGlmIChcInRleHRcIiBpbiBjb250ZW50KSByZXR1cm4gdGhpcy5fdGV4dENvbnRlbnRUb1N0cmluZyhjb250ZW50KTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwiaW1hZ2VfdXJsXCI6XG5cdFx0XHRcdGlmIChcImltYWdlX3VybFwiIGluIGNvbnRlbnQpIHJldHVybiB0aGlzLl9pbWFnZVVybENvbnRlbnRUb1N0cmluZyhjb250ZW50KTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBjb2VyY2UgXCIke2NvbnRlbnQudHlwZX1cIiBtZXNzYWdlIHBhcnQgaW50byBhIHN0cmluZy5gKTtcblx0XHR9XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGNvbnRlbnQgdHlwZTogJHtjb250ZW50LnR5cGV9YCk7XG5cdH1cblx0X2Jhc2VNZXNzYWdlQ29udGVudFRvU3RyaW5nKGNvbnRlbnQpIHtcblx0XHRyZXR1cm4gY29udGVudC5yZWR1Y2UoKGFjYywgaXRlbSkgPT4gYWNjICsgdGhpcy5fbWVzc2FnZUNvbnRlbnRUb1N0cmluZyhpdGVtKSwgXCJcIik7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgU3RyaW5nT3V0cHV0UGFyc2VyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdHJpbmcuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/string.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/structured.js":
/*!*******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/structured.js ***!
  \*******************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AsymmetricStructuredOutputParser: () => (/* binding */ AsymmetricStructuredOutputParser),\n/* harmony export */   JsonMarkdownStructuredOutputParser: () => (/* binding */ JsonMarkdownStructuredOutputParser),\n/* harmony export */   StructuredOutputParser: () => (/* binding */ StructuredOutputParser)\n/* harmony export */ });\n/* harmony import */ var _utils_types_zod_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/types/zod.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/types/zod.js\");\n/* harmony import */ var _utils_json_schema_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/json_schema.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/json_schema.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/base.js\");\n/* harmony import */ var zod_v3__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! zod/v3 */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+zod@4.3.6/node_modules/zod/v3/index.js\");\n\n\n\n\n\n//#region src/output_parsers/structured.ts\nvar StructuredOutputParser = class extends _base_js__WEBPACK_IMPORTED_MODULE_2__.BaseOutputParser {\n\tstatic lc_name() {\n\t\treturn \"StructuredOutputParser\";\n\t}\n\tlc_namespace = [\n\t\t\"langchain\",\n\t\t\"output_parsers\",\n\t\t\"structured\"\n\t];\n\ttoJSON() {\n\t\treturn this.toJSONNotImplemented();\n\t}\n\tconstructor(schema) {\n\t\tsuper(schema);\n\t\tthis.schema = schema;\n\t}\n\t/**\n\t* Creates a new StructuredOutputParser from a Zod schema.\n\t* @param schema The Zod schema which the output should match\n\t* @returns A new instance of StructuredOutputParser.\n\t*/\n\tstatic fromZodSchema(schema) {\n\t\treturn new this(schema);\n\t}\n\t/**\n\t* Creates a new StructuredOutputParser from a set of names and\n\t* descriptions.\n\t* @param schemas An object where each key is a name and each value is a description\n\t* @returns A new instance of StructuredOutputParser.\n\t*/\n\tstatic fromNamesAndDescriptions(schemas) {\n\t\tconst zodSchema = zod_v3__WEBPACK_IMPORTED_MODULE_3__.z.object(Object.fromEntries(Object.entries(schemas).map(([name, description]) => [name, zod_v3__WEBPACK_IMPORTED_MODULE_3__.z.string().describe(description)])));\n\t\treturn new this(zodSchema);\n\t}\n\t/**\n\t* Returns a markdown code snippet with a JSON object formatted according\n\t* to the schema.\n\t* @param options Optional. The options for formatting the instructions\n\t* @returns A markdown code snippet with a JSON object formatted according to the schema.\n\t*/\n\tgetFormatInstructions() {\n\t\treturn `You must format your output as a JSON value that adheres to a given \"JSON Schema\" instance.\n\n\"JSON Schema\" is a declarative language that allows you to annotate and validate JSON documents.\n\nFor example, the example \"JSON Schema\" instance {{\"properties\": {{\"foo\": {{\"description\": \"a list of test words\", \"type\": \"array\", \"items\": {{\"type\": \"string\"}}}}}}, \"required\": [\"foo\"]}}\nwould match an object with one required property, \"foo\". The \"type\" property specifies \"foo\" must be an \"array\", and the \"description\" property semantically describes it as \"a list of test words\". The items within \"foo\" must be strings.\nThus, the object {{\"foo\": [\"bar\", \"baz\"]}} is a well-formatted instance of this example \"JSON Schema\". The object {{\"properties\": {{\"foo\": [\"bar\", \"baz\"]}}}} is not well-formatted.\n\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\n\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\n\\`\\`\\`json\n${JSON.stringify((0,_utils_json_schema_js__WEBPACK_IMPORTED_MODULE_1__.toJsonSchema)(this.schema))}\n\\`\\`\\`\n`;\n\t}\n\t/**\n\t* Parses the given text according to the schema.\n\t* @param text The text to parse\n\t* @returns The parsed output.\n\t*/\n\tasync parse(text) {\n\t\ttry {\n\t\t\tconst trimmedText = text.trim();\n\t\t\tconst json = trimmedText.match(/^```(?:json)?\\s*([\\s\\S]*?)```/)?.[1] || trimmedText.match(/```json\\s*([\\s\\S]*?)```/)?.[1] || trimmedText;\n\t\t\tconst escapedJson = json.replace(/\"([^\"\\\\]*(\\\\.[^\"\\\\]*)*)\"/g, (_match, capturedGroup) => {\n\t\t\t\tconst escapedInsideQuotes = capturedGroup.replace(/\\n/g, \"\\\\n\");\n\t\t\t\treturn `\"${escapedInsideQuotes}\"`;\n\t\t\t}).replace(/\\n/g, \"\");\n\t\t\treturn await (0,_utils_types_zod_js__WEBPACK_IMPORTED_MODULE_0__.interopParseAsync)(this.schema, JSON.parse(escapedJson));\n\t\t} catch (e) {\n\t\t\tthrow new _base_js__WEBPACK_IMPORTED_MODULE_2__.OutputParserException(`Failed to parse. Text: \"${text}\". Error: ${e}`, text);\n\t\t}\n\t}\n};\n/**\n* A specific type of `StructuredOutputParser` that parses JSON data\n* formatted as a markdown code snippet.\n*/\nvar JsonMarkdownStructuredOutputParser = class extends StructuredOutputParser {\n\tstatic lc_name() {\n\t\treturn \"JsonMarkdownStructuredOutputParser\";\n\t}\n\tgetFormatInstructions(options) {\n\t\tconst interpolationDepth = options?.interpolationDepth ?? 1;\n\t\tif (interpolationDepth < 1) throw new Error(\"f string interpolation depth must be at least 1\");\n\t\treturn `Return a markdown code snippet with a JSON object formatted to look like:\\n\\`\\`\\`json\\n${this._schemaToInstruction((0,_utils_json_schema_js__WEBPACK_IMPORTED_MODULE_1__.toJsonSchema)(this.schema)).replaceAll(\"{\", \"{\".repeat(interpolationDepth)).replaceAll(\"}\", \"}\".repeat(interpolationDepth))}\\n\\`\\`\\``;\n\t}\n\t_schemaToInstruction(schemaInput, indent = 2) {\n\t\tconst schema = schemaInput;\n\t\tif (\"type\" in schema) {\n\t\t\tlet nullable = false;\n\t\t\tlet type;\n\t\t\tif (Array.isArray(schema.type)) {\n\t\t\t\tconst nullIdx = schema.type.findIndex((type$1) => type$1 === \"null\");\n\t\t\t\tif (nullIdx !== -1) {\n\t\t\t\t\tnullable = true;\n\t\t\t\t\tschema.type.splice(nullIdx, 1);\n\t\t\t\t}\n\t\t\t\ttype = schema.type.join(\" | \");\n\t\t\t} else type = schema.type;\n\t\t\tif (schema.type === \"object\" && schema.properties) {\n\t\t\t\tconst description$1 = schema.description ? ` // ${schema.description}` : \"\";\n\t\t\t\tconst properties = Object.entries(schema.properties).map(([key, value]) => {\n\t\t\t\t\tconst isOptional = schema.required?.includes(key) ? \"\" : \" (optional)\";\n\t\t\t\t\treturn `${\" \".repeat(indent)}\"${key}\": ${this._schemaToInstruction(value, indent + 2)}${isOptional}`;\n\t\t\t\t}).join(\"\\n\");\n\t\t\t\treturn `{\\n${properties}\\n${\" \".repeat(indent - 2)}}${description$1}`;\n\t\t\t}\n\t\t\tif (schema.type === \"array\" && schema.items) {\n\t\t\t\tconst description$1 = schema.description ? ` // ${schema.description}` : \"\";\n\t\t\t\treturn `array[\\n${\" \".repeat(indent)}${this._schemaToInstruction(schema.items, indent + 2)}\\n${\" \".repeat(indent - 2)}] ${description$1}`;\n\t\t\t}\n\t\t\tconst isNullable = nullable ? \" (nullable)\" : \"\";\n\t\t\tconst description = schema.description ? ` // ${schema.description}` : \"\";\n\t\t\treturn `${type}${description}${isNullable}`;\n\t\t}\n\t\tif (\"anyOf\" in schema) return schema.anyOf.map((s) => this._schemaToInstruction(s, indent)).join(`\\n${\" \".repeat(indent - 2)}`);\n\t\tthrow new Error(\"unsupported schema type\");\n\t}\n\tstatic fromZodSchema(schema) {\n\t\treturn new this(schema);\n\t}\n\tstatic fromNamesAndDescriptions(schemas) {\n\t\tconst zodSchema = zod_v3__WEBPACK_IMPORTED_MODULE_3__.z.object(Object.fromEntries(Object.entries(schemas).map(([name, description]) => [name, zod_v3__WEBPACK_IMPORTED_MODULE_3__.z.string().describe(description)])));\n\t\treturn new this(zodSchema);\n\t}\n};\n/**\n* A type of `StructuredOutputParser` that handles asymmetric input and\n* output schemas.\n*/\nvar AsymmetricStructuredOutputParser = class extends _base_js__WEBPACK_IMPORTED_MODULE_2__.BaseOutputParser {\n\tstructuredInputParser;\n\tconstructor({ inputSchema }) {\n\t\tsuper(...arguments);\n\t\tthis.structuredInputParser = new JsonMarkdownStructuredOutputParser(inputSchema);\n\t}\n\tasync parse(text) {\n\t\tlet parsedInput;\n\t\ttry {\n\t\t\tparsedInput = await this.structuredInputParser.parse(text);\n\t\t} catch (e) {\n\t\t\tthrow new _base_js__WEBPACK_IMPORTED_MODULE_2__.OutputParserException(`Failed to parse. Text: \"${text}\". Error: ${e}`, text);\n\t\t}\n\t\treturn this.outputProcessor(parsedInput);\n\t}\n\tgetFormatInstructions() {\n\t\treturn this.structuredInputParser.getFormatInstructions();\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=structured.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L291dHB1dF9wYXJzZXJzL3N0cnVjdHVyZWQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUEwRDtBQUNIO0FBQ2E7QUFDekM7O0FBRTNCO0FBQ0EsMkNBQTJDLHNEQUFnQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNENBQVEsZ0ZBQWdGLDRDQUFRO0FBQ3BIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLGtEQUFrRCxnQkFBZ0IsU0FBUyxtRUFBbUUsc0JBQXNCO0FBQ3BLO0FBQ0EsbUJBQW1CLHdCQUF3Qix5RUFBeUUsZ0JBQWdCLDBCQUEwQjs7QUFFOUo7O0FBRUE7QUFDQTtBQUNBLEVBQUUsZUFBZSxtRUFBWTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvQkFBb0I7QUFDbkMsSUFBSTtBQUNKLGdCQUFnQixzRUFBaUI7QUFDakMsSUFBSTtBQUNKLGFBQWEsMkRBQXFCLDRCQUE0QixLQUFLLFlBQVksRUFBRTtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUdBQW1HLDBCQUEwQixtRUFBWSw0QkFBNEIsS0FBSywyQ0FBMkMsS0FBSyw4QkFBOEI7QUFDeFA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxzREFBc0QsbUJBQW1CO0FBQ3pFO0FBQ0E7QUFDQSxlQUFlLG1CQUFtQixHQUFHLElBQUksS0FBSyw2Q0FBNkMsRUFBRSxXQUFXO0FBQ3hHLEtBQUs7QUFDTCxhQUFhLElBQUksV0FBVyxJQUFJLHdCQUF3QixFQUFFLGNBQWM7QUFDeEU7QUFDQTtBQUNBLHNEQUFzRCxtQkFBbUI7QUFDekUsc0JBQXNCLG1CQUFtQixFQUFFLG9EQUFvRCxJQUFJLHVCQUF1QixJQUFJLGNBQWM7QUFDNUk7QUFDQTtBQUNBLG1EQUFtRCxtQkFBbUI7QUFDdEUsYUFBYSxLQUFLLEVBQUUsWUFBWSxFQUFFLFdBQVc7QUFDN0M7QUFDQSx3R0FBd0csdUJBQXVCO0FBQy9IO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw0Q0FBUSxnRkFBZ0YsNENBQVE7QUFDcEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsc0RBQWdCO0FBQ3JFO0FBQ0EsZUFBZSxhQUFhO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLGFBQWEsMkRBQXFCLDRCQUE0QixLQUFLLFlBQVksRUFBRTtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUN3RztBQUN4RyIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9vdXRwdXRfcGFyc2Vycy9zdHJ1Y3R1cmVkLmpzP2NmZmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW50ZXJvcFBhcnNlQXN5bmMgfSBmcm9tIFwiLi4vdXRpbHMvdHlwZXMvem9kLmpzXCI7XG5pbXBvcnQgeyB0b0pzb25TY2hlbWEgfSBmcm9tIFwiLi4vdXRpbHMvanNvbl9zY2hlbWEuanNcIjtcbmltcG9ydCB7IEJhc2VPdXRwdXRQYXJzZXIsIE91dHB1dFBhcnNlckV4Y2VwdGlvbiB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCB7IHogfSBmcm9tIFwiem9kL3YzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvb3V0cHV0X3BhcnNlcnMvc3RydWN0dXJlZC50c1xudmFyIFN0cnVjdHVyZWRPdXRwdXRQYXJzZXIgPSBjbGFzcyBleHRlbmRzIEJhc2VPdXRwdXRQYXJzZXIge1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJTdHJ1Y3R1cmVkT3V0cHV0UGFyc2VyXCI7XG5cdH1cblx0bGNfbmFtZXNwYWNlID0gW1xuXHRcdFwibGFuZ2NoYWluXCIsXG5cdFx0XCJvdXRwdXRfcGFyc2Vyc1wiLFxuXHRcdFwic3RydWN0dXJlZFwiXG5cdF07XG5cdHRvSlNPTigpIHtcblx0XHRyZXR1cm4gdGhpcy50b0pTT05Ob3RJbXBsZW1lbnRlZCgpO1xuXHR9XG5cdGNvbnN0cnVjdG9yKHNjaGVtYSkge1xuXHRcdHN1cGVyKHNjaGVtYSk7XG5cdFx0dGhpcy5zY2hlbWEgPSBzY2hlbWE7XG5cdH1cblx0LyoqXG5cdCogQ3JlYXRlcyBhIG5ldyBTdHJ1Y3R1cmVkT3V0cHV0UGFyc2VyIGZyb20gYSBab2Qgc2NoZW1hLlxuXHQqIEBwYXJhbSBzY2hlbWEgVGhlIFpvZCBzY2hlbWEgd2hpY2ggdGhlIG91dHB1dCBzaG91bGQgbWF0Y2hcblx0KiBAcmV0dXJucyBBIG5ldyBpbnN0YW5jZSBvZiBTdHJ1Y3R1cmVkT3V0cHV0UGFyc2VyLlxuXHQqL1xuXHRzdGF0aWMgZnJvbVpvZFNjaGVtYShzY2hlbWEpIHtcblx0XHRyZXR1cm4gbmV3IHRoaXMoc2NoZW1hKTtcblx0fVxuXHQvKipcblx0KiBDcmVhdGVzIGEgbmV3IFN0cnVjdHVyZWRPdXRwdXRQYXJzZXIgZnJvbSBhIHNldCBvZiBuYW1lcyBhbmRcblx0KiBkZXNjcmlwdGlvbnMuXG5cdCogQHBhcmFtIHNjaGVtYXMgQW4gb2JqZWN0IHdoZXJlIGVhY2gga2V5IGlzIGEgbmFtZSBhbmQgZWFjaCB2YWx1ZSBpcyBhIGRlc2NyaXB0aW9uXG5cdCogQHJldHVybnMgQSBuZXcgaW5zdGFuY2Ugb2YgU3RydWN0dXJlZE91dHB1dFBhcnNlci5cblx0Ki9cblx0c3RhdGljIGZyb21OYW1lc0FuZERlc2NyaXB0aW9ucyhzY2hlbWFzKSB7XG5cdFx0Y29uc3Qgem9kU2NoZW1hID0gei5vYmplY3QoT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHNjaGVtYXMpLm1hcCgoW25hbWUsIGRlc2NyaXB0aW9uXSkgPT4gW25hbWUsIHouc3RyaW5nKCkuZGVzY3JpYmUoZGVzY3JpcHRpb24pXSkpKTtcblx0XHRyZXR1cm4gbmV3IHRoaXMoem9kU2NoZW1hKTtcblx0fVxuXHQvKipcblx0KiBSZXR1cm5zIGEgbWFya2Rvd24gY29kZSBzbmlwcGV0IHdpdGggYSBKU09OIG9iamVjdCBmb3JtYXR0ZWQgYWNjb3JkaW5nXG5cdCogdG8gdGhlIHNjaGVtYS5cblx0KiBAcGFyYW0gb3B0aW9ucyBPcHRpb25hbC4gVGhlIG9wdGlvbnMgZm9yIGZvcm1hdHRpbmcgdGhlIGluc3RydWN0aW9uc1xuXHQqIEByZXR1cm5zIEEgbWFya2Rvd24gY29kZSBzbmlwcGV0IHdpdGggYSBKU09OIG9iamVjdCBmb3JtYXR0ZWQgYWNjb3JkaW5nIHRvIHRoZSBzY2hlbWEuXG5cdCovXG5cdGdldEZvcm1hdEluc3RydWN0aW9ucygpIHtcblx0XHRyZXR1cm4gYFlvdSBtdXN0IGZvcm1hdCB5b3VyIG91dHB1dCBhcyBhIEpTT04gdmFsdWUgdGhhdCBhZGhlcmVzIHRvIGEgZ2l2ZW4gXCJKU09OIFNjaGVtYVwiIGluc3RhbmNlLlxuXG5cIkpTT04gU2NoZW1hXCIgaXMgYSBkZWNsYXJhdGl2ZSBsYW5ndWFnZSB0aGF0IGFsbG93cyB5b3UgdG8gYW5ub3RhdGUgYW5kIHZhbGlkYXRlIEpTT04gZG9jdW1lbnRzLlxuXG5Gb3IgZXhhbXBsZSwgdGhlIGV4YW1wbGUgXCJKU09OIFNjaGVtYVwiIGluc3RhbmNlIHt7XCJwcm9wZXJ0aWVzXCI6IHt7XCJmb29cIjoge3tcImRlc2NyaXB0aW9uXCI6IFwiYSBsaXN0IG9mIHRlc3Qgd29yZHNcIiwgXCJ0eXBlXCI6IFwiYXJyYXlcIiwgXCJpdGVtc1wiOiB7e1widHlwZVwiOiBcInN0cmluZ1wifX19fX19LCBcInJlcXVpcmVkXCI6IFtcImZvb1wiXX19XG53b3VsZCBtYXRjaCBhbiBvYmplY3Qgd2l0aCBvbmUgcmVxdWlyZWQgcHJvcGVydHksIFwiZm9vXCIuIFRoZSBcInR5cGVcIiBwcm9wZXJ0eSBzcGVjaWZpZXMgXCJmb29cIiBtdXN0IGJlIGFuIFwiYXJyYXlcIiwgYW5kIHRoZSBcImRlc2NyaXB0aW9uXCIgcHJvcGVydHkgc2VtYW50aWNhbGx5IGRlc2NyaWJlcyBpdCBhcyBcImEgbGlzdCBvZiB0ZXN0IHdvcmRzXCIuIFRoZSBpdGVtcyB3aXRoaW4gXCJmb29cIiBtdXN0IGJlIHN0cmluZ3MuXG5UaHVzLCB0aGUgb2JqZWN0IHt7XCJmb29cIjogW1wiYmFyXCIsIFwiYmF6XCJdfX0gaXMgYSB3ZWxsLWZvcm1hdHRlZCBpbnN0YW5jZSBvZiB0aGlzIGV4YW1wbGUgXCJKU09OIFNjaGVtYVwiLiBUaGUgb2JqZWN0IHt7XCJwcm9wZXJ0aWVzXCI6IHt7XCJmb29cIjogW1wiYmFyXCIsIFwiYmF6XCJdfX19fSBpcyBub3Qgd2VsbC1mb3JtYXR0ZWQuXG5cbllvdXIgb3V0cHV0IHdpbGwgYmUgcGFyc2VkIGFuZCB0eXBlLWNoZWNrZWQgYWNjb3JkaW5nIHRvIHRoZSBwcm92aWRlZCBzY2hlbWEgaW5zdGFuY2UsIHNvIG1ha2Ugc3VyZSBhbGwgZmllbGRzIGluIHlvdXIgb3V0cHV0IG1hdGNoIHRoZSBzY2hlbWEgZXhhY3RseSBhbmQgdGhlcmUgYXJlIG5vIHRyYWlsaW5nIGNvbW1hcyFcblxuSGVyZSBpcyB0aGUgSlNPTiBTY2hlbWEgaW5zdGFuY2UgeW91ciBvdXRwdXQgbXVzdCBhZGhlcmUgdG8uIEluY2x1ZGUgdGhlIGVuY2xvc2luZyBtYXJrZG93biBjb2RlYmxvY2s6XG5cXGBcXGBcXGBqc29uXG4ke0pTT04uc3RyaW5naWZ5KHRvSnNvblNjaGVtYSh0aGlzLnNjaGVtYSkpfVxuXFxgXFxgXFxgXG5gO1xuXHR9XG5cdC8qKlxuXHQqIFBhcnNlcyB0aGUgZ2l2ZW4gdGV4dCBhY2NvcmRpbmcgdG8gdGhlIHNjaGVtYS5cblx0KiBAcGFyYW0gdGV4dCBUaGUgdGV4dCB0byBwYXJzZVxuXHQqIEByZXR1cm5zIFRoZSBwYXJzZWQgb3V0cHV0LlxuXHQqL1xuXHRhc3luYyBwYXJzZSh0ZXh0KSB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHRyaW1tZWRUZXh0ID0gdGV4dC50cmltKCk7XG5cdFx0XHRjb25zdCBqc29uID0gdHJpbW1lZFRleHQubWF0Y2goL15gYGAoPzpqc29uKT9cXHMqKFtcXHNcXFNdKj8pYGBgLyk/LlsxXSB8fCB0cmltbWVkVGV4dC5tYXRjaCgvYGBganNvblxccyooW1xcc1xcU10qPylgYGAvKT8uWzFdIHx8IHRyaW1tZWRUZXh0O1xuXHRcdFx0Y29uc3QgZXNjYXBlZEpzb24gPSBqc29uLnJlcGxhY2UoL1wiKFteXCJcXFxcXSooXFxcXC5bXlwiXFxcXF0qKSopXCIvZywgKF9tYXRjaCwgY2FwdHVyZWRHcm91cCkgPT4ge1xuXHRcdFx0XHRjb25zdCBlc2NhcGVkSW5zaWRlUXVvdGVzID0gY2FwdHVyZWRHcm91cC5yZXBsYWNlKC9cXG4vZywgXCJcXFxcblwiKTtcblx0XHRcdFx0cmV0dXJuIGBcIiR7ZXNjYXBlZEluc2lkZVF1b3Rlc31cImA7XG5cdFx0XHR9KS5yZXBsYWNlKC9cXG4vZywgXCJcIik7XG5cdFx0XHRyZXR1cm4gYXdhaXQgaW50ZXJvcFBhcnNlQXN5bmModGhpcy5zY2hlbWEsIEpTT04ucGFyc2UoZXNjYXBlZEpzb24pKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHR0aHJvdyBuZXcgT3V0cHV0UGFyc2VyRXhjZXB0aW9uKGBGYWlsZWQgdG8gcGFyc2UuIFRleHQ6IFwiJHt0ZXh0fVwiLiBFcnJvcjogJHtlfWAsIHRleHQpO1xuXHRcdH1cblx0fVxufTtcbi8qKlxuKiBBIHNwZWNpZmljIHR5cGUgb2YgYFN0cnVjdHVyZWRPdXRwdXRQYXJzZXJgIHRoYXQgcGFyc2VzIEpTT04gZGF0YVxuKiBmb3JtYXR0ZWQgYXMgYSBtYXJrZG93biBjb2RlIHNuaXBwZXQuXG4qL1xudmFyIEpzb25NYXJrZG93blN0cnVjdHVyZWRPdXRwdXRQYXJzZXIgPSBjbGFzcyBleHRlbmRzIFN0cnVjdHVyZWRPdXRwdXRQYXJzZXIge1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJKc29uTWFya2Rvd25TdHJ1Y3R1cmVkT3V0cHV0UGFyc2VyXCI7XG5cdH1cblx0Z2V0Rm9ybWF0SW5zdHJ1Y3Rpb25zKG9wdGlvbnMpIHtcblx0XHRjb25zdCBpbnRlcnBvbGF0aW9uRGVwdGggPSBvcHRpb25zPy5pbnRlcnBvbGF0aW9uRGVwdGggPz8gMTtcblx0XHRpZiAoaW50ZXJwb2xhdGlvbkRlcHRoIDwgMSkgdGhyb3cgbmV3IEVycm9yKFwiZiBzdHJpbmcgaW50ZXJwb2xhdGlvbiBkZXB0aCBtdXN0IGJlIGF0IGxlYXN0IDFcIik7XG5cdFx0cmV0dXJuIGBSZXR1cm4gYSBtYXJrZG93biBjb2RlIHNuaXBwZXQgd2l0aCBhIEpTT04gb2JqZWN0IGZvcm1hdHRlZCB0byBsb29rIGxpa2U6XFxuXFxgXFxgXFxganNvblxcbiR7dGhpcy5fc2NoZW1hVG9JbnN0cnVjdGlvbih0b0pzb25TY2hlbWEodGhpcy5zY2hlbWEpKS5yZXBsYWNlQWxsKFwie1wiLCBcIntcIi5yZXBlYXQoaW50ZXJwb2xhdGlvbkRlcHRoKSkucmVwbGFjZUFsbChcIn1cIiwgXCJ9XCIucmVwZWF0KGludGVycG9sYXRpb25EZXB0aCkpfVxcblxcYFxcYFxcYGA7XG5cdH1cblx0X3NjaGVtYVRvSW5zdHJ1Y3Rpb24oc2NoZW1hSW5wdXQsIGluZGVudCA9IDIpIHtcblx0XHRjb25zdCBzY2hlbWEgPSBzY2hlbWFJbnB1dDtcblx0XHRpZiAoXCJ0eXBlXCIgaW4gc2NoZW1hKSB7XG5cdFx0XHRsZXQgbnVsbGFibGUgPSBmYWxzZTtcblx0XHRcdGxldCB0eXBlO1xuXHRcdFx0aWYgKEFycmF5LmlzQXJyYXkoc2NoZW1hLnR5cGUpKSB7XG5cdFx0XHRcdGNvbnN0IG51bGxJZHggPSBzY2hlbWEudHlwZS5maW5kSW5kZXgoKHR5cGUkMSkgPT4gdHlwZSQxID09PSBcIm51bGxcIik7XG5cdFx0XHRcdGlmIChudWxsSWR4ICE9PSAtMSkge1xuXHRcdFx0XHRcdG51bGxhYmxlID0gdHJ1ZTtcblx0XHRcdFx0XHRzY2hlbWEudHlwZS5zcGxpY2UobnVsbElkeCwgMSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dHlwZSA9IHNjaGVtYS50eXBlLmpvaW4oXCIgfCBcIik7XG5cdFx0XHR9IGVsc2UgdHlwZSA9IHNjaGVtYS50eXBlO1xuXHRcdFx0aWYgKHNjaGVtYS50eXBlID09PSBcIm9iamVjdFwiICYmIHNjaGVtYS5wcm9wZXJ0aWVzKSB7XG5cdFx0XHRcdGNvbnN0IGRlc2NyaXB0aW9uJDEgPSBzY2hlbWEuZGVzY3JpcHRpb24gPyBgIC8vICR7c2NoZW1hLmRlc2NyaXB0aW9ufWAgOiBcIlwiO1xuXHRcdFx0XHRjb25zdCBwcm9wZXJ0aWVzID0gT2JqZWN0LmVudHJpZXMoc2NoZW1hLnByb3BlcnRpZXMpLm1hcCgoW2tleSwgdmFsdWVdKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3QgaXNPcHRpb25hbCA9IHNjaGVtYS5yZXF1aXJlZD8uaW5jbHVkZXMoa2V5KSA/IFwiXCIgOiBcIiAob3B0aW9uYWwpXCI7XG5cdFx0XHRcdFx0cmV0dXJuIGAke1wiIFwiLnJlcGVhdChpbmRlbnQpfVwiJHtrZXl9XCI6ICR7dGhpcy5fc2NoZW1hVG9JbnN0cnVjdGlvbih2YWx1ZSwgaW5kZW50ICsgMil9JHtpc09wdGlvbmFsfWA7XG5cdFx0XHRcdH0pLmpvaW4oXCJcXG5cIik7XG5cdFx0XHRcdHJldHVybiBge1xcbiR7cHJvcGVydGllc31cXG4ke1wiIFwiLnJlcGVhdChpbmRlbnQgLSAyKX19JHtkZXNjcmlwdGlvbiQxfWA7XG5cdFx0XHR9XG5cdFx0XHRpZiAoc2NoZW1hLnR5cGUgPT09IFwiYXJyYXlcIiAmJiBzY2hlbWEuaXRlbXMpIHtcblx0XHRcdFx0Y29uc3QgZGVzY3JpcHRpb24kMSA9IHNjaGVtYS5kZXNjcmlwdGlvbiA/IGAgLy8gJHtzY2hlbWEuZGVzY3JpcHRpb259YCA6IFwiXCI7XG5cdFx0XHRcdHJldHVybiBgYXJyYXlbXFxuJHtcIiBcIi5yZXBlYXQoaW5kZW50KX0ke3RoaXMuX3NjaGVtYVRvSW5zdHJ1Y3Rpb24oc2NoZW1hLml0ZW1zLCBpbmRlbnQgKyAyKX1cXG4ke1wiIFwiLnJlcGVhdChpbmRlbnQgLSAyKX1dICR7ZGVzY3JpcHRpb24kMX1gO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3QgaXNOdWxsYWJsZSA9IG51bGxhYmxlID8gXCIgKG51bGxhYmxlKVwiIDogXCJcIjtcblx0XHRcdGNvbnN0IGRlc2NyaXB0aW9uID0gc2NoZW1hLmRlc2NyaXB0aW9uID8gYCAvLyAke3NjaGVtYS5kZXNjcmlwdGlvbn1gIDogXCJcIjtcblx0XHRcdHJldHVybiBgJHt0eXBlfSR7ZGVzY3JpcHRpb259JHtpc051bGxhYmxlfWA7XG5cdFx0fVxuXHRcdGlmIChcImFueU9mXCIgaW4gc2NoZW1hKSByZXR1cm4gc2NoZW1hLmFueU9mLm1hcCgocykgPT4gdGhpcy5fc2NoZW1hVG9JbnN0cnVjdGlvbihzLCBpbmRlbnQpKS5qb2luKGBcXG4ke1wiIFwiLnJlcGVhdChpbmRlbnQgLSAyKX1gKTtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJ1bnN1cHBvcnRlZCBzY2hlbWEgdHlwZVwiKTtcblx0fVxuXHRzdGF0aWMgZnJvbVpvZFNjaGVtYShzY2hlbWEpIHtcblx0XHRyZXR1cm4gbmV3IHRoaXMoc2NoZW1hKTtcblx0fVxuXHRzdGF0aWMgZnJvbU5hbWVzQW5kRGVzY3JpcHRpb25zKHNjaGVtYXMpIHtcblx0XHRjb25zdCB6b2RTY2hlbWEgPSB6Lm9iamVjdChPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMoc2NoZW1hcykubWFwKChbbmFtZSwgZGVzY3JpcHRpb25dKSA9PiBbbmFtZSwgei5zdHJpbmcoKS5kZXNjcmliZShkZXNjcmlwdGlvbildKSkpO1xuXHRcdHJldHVybiBuZXcgdGhpcyh6b2RTY2hlbWEpO1xuXHR9XG59O1xuLyoqXG4qIEEgdHlwZSBvZiBgU3RydWN0dXJlZE91dHB1dFBhcnNlcmAgdGhhdCBoYW5kbGVzIGFzeW1tZXRyaWMgaW5wdXQgYW5kXG4qIG91dHB1dCBzY2hlbWFzLlxuKi9cbnZhciBBc3ltbWV0cmljU3RydWN0dXJlZE91dHB1dFBhcnNlciA9IGNsYXNzIGV4dGVuZHMgQmFzZU91dHB1dFBhcnNlciB7XG5cdHN0cnVjdHVyZWRJbnB1dFBhcnNlcjtcblx0Y29uc3RydWN0b3IoeyBpbnB1dFNjaGVtYSB9KSB7XG5cdFx0c3VwZXIoLi4uYXJndW1lbnRzKTtcblx0XHR0aGlzLnN0cnVjdHVyZWRJbnB1dFBhcnNlciA9IG5ldyBKc29uTWFya2Rvd25TdHJ1Y3R1cmVkT3V0cHV0UGFyc2VyKGlucHV0U2NoZW1hKTtcblx0fVxuXHRhc3luYyBwYXJzZSh0ZXh0KSB7XG5cdFx0bGV0IHBhcnNlZElucHV0O1xuXHRcdHRyeSB7XG5cdFx0XHRwYXJzZWRJbnB1dCA9IGF3YWl0IHRoaXMuc3RydWN0dXJlZElucHV0UGFyc2VyLnBhcnNlKHRleHQpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHRocm93IG5ldyBPdXRwdXRQYXJzZXJFeGNlcHRpb24oYEZhaWxlZCB0byBwYXJzZS4gVGV4dDogXCIke3RleHR9XCIuIEVycm9yOiAke2V9YCwgdGV4dCk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLm91dHB1dFByb2Nlc3NvcihwYXJzZWRJbnB1dCk7XG5cdH1cblx0Z2V0Rm9ybWF0SW5zdHJ1Y3Rpb25zKCkge1xuXHRcdHJldHVybiB0aGlzLnN0cnVjdHVyZWRJbnB1dFBhcnNlci5nZXRGb3JtYXRJbnN0cnVjdGlvbnMoKTtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBBc3ltbWV0cmljU3RydWN0dXJlZE91dHB1dFBhcnNlciwgSnNvbk1hcmtkb3duU3RydWN0dXJlZE91dHB1dFBhcnNlciwgU3RydWN0dXJlZE91dHB1dFBhcnNlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RydWN0dXJlZC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/structured.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/transform.js":
/*!******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/transform.js ***!
  \******************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseCumulativeTransformOutputParser: () => (/* binding */ BaseCumulativeTransformOutputParser),\n/* harmony export */   BaseTransformOutputParser: () => (/* binding */ BaseTransformOutputParser)\n/* harmony export */ });\n/* harmony import */ var _messages_base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../messages/base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/base.js\");\n/* harmony import */ var _messages_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../messages/utils.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/utils.js\");\n/* harmony import */ var _outputs_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../outputs.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/outputs.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/base.js\");\n/* harmony import */ var _cfworker_json_schema__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @cfworker/json-schema */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@cfworker+json-schema@4.1.1/node_modules/@cfworker/json-schema/dist/esm/index.js\");\n\n\n\n\n\n\n//#region src/output_parsers/transform.ts\n/**\n* Class to parse the output of an LLM call that also allows streaming inputs.\n*/\nvar BaseTransformOutputParser = class extends _base_js__WEBPACK_IMPORTED_MODULE_3__.BaseOutputParser {\n\tasync *_transform(inputGenerator) {\n\t\tfor await (const chunk of inputGenerator) if (typeof chunk === \"string\") yield this.parseResult([{ text: chunk }]);\n\t\telse yield this.parseResult([{\n\t\t\tmessage: chunk,\n\t\t\ttext: this._baseMessageToString(chunk)\n\t\t}]);\n\t}\n\t/**\n\t* Transforms an asynchronous generator of input into an asynchronous\n\t* generator of parsed output.\n\t* @param inputGenerator An asynchronous generator of input.\n\t* @param options A configuration object.\n\t* @returns An asynchronous generator of parsed output.\n\t*/\n\tasync *transform(inputGenerator, options) {\n\t\tyield* this._transformStreamWithConfig(inputGenerator, this._transform.bind(this), {\n\t\t\t...options,\n\t\t\trunType: \"parser\"\n\t\t});\n\t}\n};\n/**\n* A base class for output parsers that can handle streaming input. It\n* extends the `BaseTransformOutputParser` class and provides a method for\n* converting parsed outputs into a diff format.\n*/\nvar BaseCumulativeTransformOutputParser = class extends BaseTransformOutputParser {\n\tdiff = false;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.diff = fields?.diff ?? this.diff;\n\t}\n\tasync *_transform(inputGenerator) {\n\t\tlet prevParsed;\n\t\tlet accGen;\n\t\tfor await (const chunk of inputGenerator) {\n\t\t\tif (typeof chunk !== \"string\" && typeof chunk.content !== \"string\") throw new Error(\"Cannot handle non-string output.\");\n\t\t\tlet chunkGen;\n\t\t\tif ((0,_messages_base_js__WEBPACK_IMPORTED_MODULE_0__.isBaseMessageChunk)(chunk)) {\n\t\t\t\tif (typeof chunk.content !== \"string\") throw new Error(\"Cannot handle non-string message output.\");\n\t\t\t\tchunkGen = new _outputs_js__WEBPACK_IMPORTED_MODULE_2__.ChatGenerationChunk({\n\t\t\t\t\tmessage: chunk,\n\t\t\t\t\ttext: chunk.content\n\t\t\t\t});\n\t\t\t} else if ((0,_messages_base_js__WEBPACK_IMPORTED_MODULE_0__.isBaseMessage)(chunk)) {\n\t\t\t\tif (typeof chunk.content !== \"string\") throw new Error(\"Cannot handle non-string message output.\");\n\t\t\t\tchunkGen = new _outputs_js__WEBPACK_IMPORTED_MODULE_2__.ChatGenerationChunk({\n\t\t\t\t\tmessage: (0,_messages_utils_js__WEBPACK_IMPORTED_MODULE_1__.convertToChunk)(chunk),\n\t\t\t\t\ttext: chunk.content\n\t\t\t\t});\n\t\t\t} else chunkGen = new _outputs_js__WEBPACK_IMPORTED_MODULE_2__.GenerationChunk({ text: chunk });\n\t\t\tif (accGen === void 0) accGen = chunkGen;\n\t\t\telse accGen = accGen.concat(chunkGen);\n\t\t\tconst parsed = await this.parsePartialResult([accGen]);\n\t\t\tif (parsed !== void 0 && parsed !== null && !(0,_cfworker_json_schema__WEBPACK_IMPORTED_MODULE_4__.deepCompareStrict)(parsed, prevParsed)) {\n\t\t\t\tif (this.diff) yield this._diff(prevParsed, parsed);\n\t\t\t\telse yield parsed;\n\t\t\t\tprevParsed = parsed;\n\t\t\t}\n\t\t}\n\t}\n\tgetFormatInstructions() {\n\t\treturn \"\";\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=transform.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L291dHB1dF9wYXJzZXJzL3RyYW5zZm9ybS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXdFO0FBQ2xCO0FBQ2U7QUFDeEI7QUFDYTs7QUFFMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsc0RBQWdCO0FBQzlEO0FBQ0EscUdBQXFHLGFBQWE7QUFDbEg7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8scUVBQWtCO0FBQ3pCO0FBQ0EsbUJBQW1CLDREQUFtQjtBQUN0QztBQUNBO0FBQ0EsS0FBSztBQUNMLEtBQUssU0FBUyxnRUFBYTtBQUMzQjtBQUNBLG1CQUFtQiw0REFBbUI7QUFDdEMsY0FBYyxrRUFBYztBQUM1QjtBQUNBLEtBQUs7QUFDTCxLQUFLLG9CQUFvQix3REFBZSxHQUFHLGFBQWE7QUFDeEQ7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELHdFQUFpQjtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUMwRTtBQUMxRSIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9vdXRwdXRfcGFyc2Vycy90cmFuc2Zvcm0uanM/ZThjOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0Jhc2VNZXNzYWdlLCBpc0Jhc2VNZXNzYWdlQ2h1bmsgfSBmcm9tIFwiLi4vbWVzc2FnZXMvYmFzZS5qc1wiO1xuaW1wb3J0IHsgY29udmVydFRvQ2h1bmsgfSBmcm9tIFwiLi4vbWVzc2FnZXMvdXRpbHMuanNcIjtcbmltcG9ydCB7IENoYXRHZW5lcmF0aW9uQ2h1bmssIEdlbmVyYXRpb25DaHVuayB9IGZyb20gXCIuLi9vdXRwdXRzLmpzXCI7XG5pbXBvcnQgeyBCYXNlT3V0cHV0UGFyc2VyIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgZGVlcENvbXBhcmVTdHJpY3QgfSBmcm9tIFwiQGNmd29ya2VyL2pzb24tc2NoZW1hXCI7XG5cbi8vI3JlZ2lvbiBzcmMvb3V0cHV0X3BhcnNlcnMvdHJhbnNmb3JtLnRzXG4vKipcbiogQ2xhc3MgdG8gcGFyc2UgdGhlIG91dHB1dCBvZiBhbiBMTE0gY2FsbCB0aGF0IGFsc28gYWxsb3dzIHN0cmVhbWluZyBpbnB1dHMuXG4qL1xudmFyIEJhc2VUcmFuc2Zvcm1PdXRwdXRQYXJzZXIgPSBjbGFzcyBleHRlbmRzIEJhc2VPdXRwdXRQYXJzZXIge1xuXHRhc3luYyAqX3RyYW5zZm9ybShpbnB1dEdlbmVyYXRvcikge1xuXHRcdGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgaW5wdXRHZW5lcmF0b3IpIGlmICh0eXBlb2YgY2h1bmsgPT09IFwic3RyaW5nXCIpIHlpZWxkIHRoaXMucGFyc2VSZXN1bHQoW3sgdGV4dDogY2h1bmsgfV0pO1xuXHRcdGVsc2UgeWllbGQgdGhpcy5wYXJzZVJlc3VsdChbe1xuXHRcdFx0bWVzc2FnZTogY2h1bmssXG5cdFx0XHR0ZXh0OiB0aGlzLl9iYXNlTWVzc2FnZVRvU3RyaW5nKGNodW5rKVxuXHRcdH1dKTtcblx0fVxuXHQvKipcblx0KiBUcmFuc2Zvcm1zIGFuIGFzeW5jaHJvbm91cyBnZW5lcmF0b3Igb2YgaW5wdXQgaW50byBhbiBhc3luY2hyb25vdXNcblx0KiBnZW5lcmF0b3Igb2YgcGFyc2VkIG91dHB1dC5cblx0KiBAcGFyYW0gaW5wdXRHZW5lcmF0b3IgQW4gYXN5bmNocm9ub3VzIGdlbmVyYXRvciBvZiBpbnB1dC5cblx0KiBAcGFyYW0gb3B0aW9ucyBBIGNvbmZpZ3VyYXRpb24gb2JqZWN0LlxuXHQqIEByZXR1cm5zIEFuIGFzeW5jaHJvbm91cyBnZW5lcmF0b3Igb2YgcGFyc2VkIG91dHB1dC5cblx0Ki9cblx0YXN5bmMgKnRyYW5zZm9ybShpbnB1dEdlbmVyYXRvciwgb3B0aW9ucykge1xuXHRcdHlpZWxkKiB0aGlzLl90cmFuc2Zvcm1TdHJlYW1XaXRoQ29uZmlnKGlucHV0R2VuZXJhdG9yLCB0aGlzLl90cmFuc2Zvcm0uYmluZCh0aGlzKSwge1xuXHRcdFx0Li4ub3B0aW9ucyxcblx0XHRcdHJ1blR5cGU6IFwicGFyc2VyXCJcblx0XHR9KTtcblx0fVxufTtcbi8qKlxuKiBBIGJhc2UgY2xhc3MgZm9yIG91dHB1dCBwYXJzZXJzIHRoYXQgY2FuIGhhbmRsZSBzdHJlYW1pbmcgaW5wdXQuIEl0XG4qIGV4dGVuZHMgdGhlIGBCYXNlVHJhbnNmb3JtT3V0cHV0UGFyc2VyYCBjbGFzcyBhbmQgcHJvdmlkZXMgYSBtZXRob2QgZm9yXG4qIGNvbnZlcnRpbmcgcGFyc2VkIG91dHB1dHMgaW50byBhIGRpZmYgZm9ybWF0LlxuKi9cbnZhciBCYXNlQ3VtdWxhdGl2ZVRyYW5zZm9ybU91dHB1dFBhcnNlciA9IGNsYXNzIGV4dGVuZHMgQmFzZVRyYW5zZm9ybU91dHB1dFBhcnNlciB7XG5cdGRpZmYgPSBmYWxzZTtcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLmRpZmYgPSBmaWVsZHM/LmRpZmYgPz8gdGhpcy5kaWZmO1xuXHR9XG5cdGFzeW5jICpfdHJhbnNmb3JtKGlucHV0R2VuZXJhdG9yKSB7XG5cdFx0bGV0IHByZXZQYXJzZWQ7XG5cdFx0bGV0IGFjY0dlbjtcblx0XHRmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIGlucHV0R2VuZXJhdG9yKSB7XG5cdFx0XHRpZiAodHlwZW9mIGNodW5rICE9PSBcInN0cmluZ1wiICYmIHR5cGVvZiBjaHVuay5jb250ZW50ICE9PSBcInN0cmluZ1wiKSB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgaGFuZGxlIG5vbi1zdHJpbmcgb3V0cHV0LlwiKTtcblx0XHRcdGxldCBjaHVua0dlbjtcblx0XHRcdGlmIChpc0Jhc2VNZXNzYWdlQ2h1bmsoY2h1bmspKSB7XG5cdFx0XHRcdGlmICh0eXBlb2YgY2h1bmsuY29udGVudCAhPT0gXCJzdHJpbmdcIikgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGhhbmRsZSBub24tc3RyaW5nIG1lc3NhZ2Ugb3V0cHV0LlwiKTtcblx0XHRcdFx0Y2h1bmtHZW4gPSBuZXcgQ2hhdEdlbmVyYXRpb25DaHVuayh7XG5cdFx0XHRcdFx0bWVzc2FnZTogY2h1bmssXG5cdFx0XHRcdFx0dGV4dDogY2h1bmsuY29udGVudFxuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSBpZiAoaXNCYXNlTWVzc2FnZShjaHVuaykpIHtcblx0XHRcdFx0aWYgKHR5cGVvZiBjaHVuay5jb250ZW50ICE9PSBcInN0cmluZ1wiKSB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgaGFuZGxlIG5vbi1zdHJpbmcgbWVzc2FnZSBvdXRwdXQuXCIpO1xuXHRcdFx0XHRjaHVua0dlbiA9IG5ldyBDaGF0R2VuZXJhdGlvbkNodW5rKHtcblx0XHRcdFx0XHRtZXNzYWdlOiBjb252ZXJ0VG9DaHVuayhjaHVuayksXG5cdFx0XHRcdFx0dGV4dDogY2h1bmsuY29udGVudFxuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSBjaHVua0dlbiA9IG5ldyBHZW5lcmF0aW9uQ2h1bmsoeyB0ZXh0OiBjaHVuayB9KTtcblx0XHRcdGlmIChhY2NHZW4gPT09IHZvaWQgMCkgYWNjR2VuID0gY2h1bmtHZW47XG5cdFx0XHRlbHNlIGFjY0dlbiA9IGFjY0dlbi5jb25jYXQoY2h1bmtHZW4pO1xuXHRcdFx0Y29uc3QgcGFyc2VkID0gYXdhaXQgdGhpcy5wYXJzZVBhcnRpYWxSZXN1bHQoW2FjY0dlbl0pO1xuXHRcdFx0aWYgKHBhcnNlZCAhPT0gdm9pZCAwICYmIHBhcnNlZCAhPT0gbnVsbCAmJiAhZGVlcENvbXBhcmVTdHJpY3QocGFyc2VkLCBwcmV2UGFyc2VkKSkge1xuXHRcdFx0XHRpZiAodGhpcy5kaWZmKSB5aWVsZCB0aGlzLl9kaWZmKHByZXZQYXJzZWQsIHBhcnNlZCk7XG5cdFx0XHRcdGVsc2UgeWllbGQgcGFyc2VkO1xuXHRcdFx0XHRwcmV2UGFyc2VkID0gcGFyc2VkO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRnZXRGb3JtYXRJbnN0cnVjdGlvbnMoKSB7XG5cdFx0cmV0dXJuIFwiXCI7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQmFzZUN1bXVsYXRpdmVUcmFuc2Zvcm1PdXRwdXRQYXJzZXIsIEJhc2VUcmFuc2Zvcm1PdXRwdXRQYXJzZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYW5zZm9ybS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/transform.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/xml.js":
/*!************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/xml.js ***!
  \************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   XMLOutputParser: () => (/* binding */ XMLOutputParser),\n/* harmony export */   XML_FORMAT_INSTRUCTIONS: () => (/* binding */ XML_FORMAT_INSTRUCTIONS),\n/* harmony export */   parseXMLMarkdown: () => (/* binding */ parseXMLMarkdown)\n/* harmony export */ });\n/* harmony import */ var _utils_fast_json_patch_src_duplex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/fast-json-patch/src/duplex.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/fast-json-patch/src/duplex.js\");\n/* harmony import */ var _transform_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./transform.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/transform.js\");\n/* harmony import */ var _utils_json_patch_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/json_patch.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/json_patch.js\");\n/* harmony import */ var _utils_sax_js_sax_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/sax-js/sax.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/sax-js/sax.js\");\n\n\n\n\n\n//#region src/output_parsers/xml.ts\nconst XML_FORMAT_INSTRUCTIONS = `The output should be formatted as a XML file.\n1. Output should conform to the tags below. \n2. If tags are not given, make them on your own.\n3. Remember to always open and close all the tags.\n\nAs an example, for the tags [\"foo\", \"bar\", \"baz\"]:\n1. String \"<foo>\\n   <bar>\\n      <baz></baz>\\n   </bar>\\n</foo>\" is a well-formatted instance of the schema. \n2. String \"<foo>\\n   <bar>\\n   </foo>\" is a badly-formatted instance.\n3. String \"<foo>\\n   <tag>\\n   </tag>\\n</foo>\" is a badly-formatted instance.\n\nHere are the output tags:\n\\`\\`\\`\n{tags}\n\\`\\`\\``;\nvar XMLOutputParser = class extends _transform_js__WEBPACK_IMPORTED_MODULE_1__.BaseCumulativeTransformOutputParser {\n\ttags;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.tags = fields?.tags;\n\t}\n\tstatic lc_name() {\n\t\treturn \"XMLOutputParser\";\n\t}\n\tlc_namespace = [\"langchain_core\", \"output_parsers\"];\n\tlc_serializable = true;\n\t_diff(prev, next) {\n\t\tif (!next) return void 0;\n\t\tif (!prev) return [{\n\t\t\top: \"replace\",\n\t\t\tpath: \"\",\n\t\t\tvalue: next\n\t\t}];\n\t\treturn (0,_utils_fast_json_patch_src_duplex_js__WEBPACK_IMPORTED_MODULE_0__.compare)(prev, next);\n\t}\n\tasync parsePartialResult(generations) {\n\t\treturn parseXMLMarkdown(generations[0].text);\n\t}\n\tasync parse(text) {\n\t\treturn parseXMLMarkdown(text);\n\t}\n\tgetFormatInstructions() {\n\t\tconst withTags = !!(this.tags && this.tags.length > 0);\n\t\treturn withTags ? XML_FORMAT_INSTRUCTIONS.replace(\"{tags}\", this.tags?.join(\", \") ?? \"\") : XML_FORMAT_INSTRUCTIONS;\n\t}\n};\nconst strip = (text) => text.split(\"\\n\").map((line) => line.replace(/^\\s+/, \"\")).join(\"\\n\").trim();\nconst parseParsedResult = (input) => {\n\tif (Object.keys(input).length === 0) return {};\n\tconst result = {};\n\tif (input.children.length > 0) {\n\t\tresult[input.name] = input.children.map(parseParsedResult);\n\t\treturn result;\n\t} else {\n\t\tresult[input.name] = input.text ?? void 0;\n\t\treturn result;\n\t}\n};\nfunction parseXMLMarkdown(s) {\n\tconst cleanedString = strip(s);\n\tconst parser = _utils_sax_js_sax_js__WEBPACK_IMPORTED_MODULE_3__.sax.parser(true);\n\tlet parsedResult = {};\n\tconst elementStack = [];\n\tparser.onopentag = (node) => {\n\t\tconst element = {\n\t\t\tname: node.name,\n\t\t\tattributes: node.attributes,\n\t\t\tchildren: [],\n\t\t\ttext: \"\",\n\t\t\tisSelfClosing: node.isSelfClosing\n\t\t};\n\t\tif (elementStack.length > 0) {\n\t\t\tconst parentElement = elementStack[elementStack.length - 1];\n\t\t\tparentElement.children.push(element);\n\t\t} else parsedResult = element;\n\t\tif (!node.isSelfClosing) elementStack.push(element);\n\t};\n\tparser.onclosetag = () => {\n\t\tif (elementStack.length > 0) {\n\t\t\tconst lastElement = elementStack.pop();\n\t\t\tif (elementStack.length === 0 && lastElement) parsedResult = lastElement;\n\t\t}\n\t};\n\tparser.ontext = (text) => {\n\t\tif (elementStack.length > 0) {\n\t\t\tconst currentElement = elementStack[elementStack.length - 1];\n\t\t\tcurrentElement.text += text;\n\t\t}\n\t};\n\tparser.onattribute = (attr) => {\n\t\tif (elementStack.length > 0) {\n\t\t\tconst currentElement = elementStack[elementStack.length - 1];\n\t\t\tcurrentElement.attributes[attr.name] = attr.value;\n\t\t}\n\t};\n\tconst match = /```(xml)?(.*)```/s.exec(cleanedString);\n\tconst xmlString = match ? match[2] : cleanedString;\n\tparser.write(xmlString).close();\n\tif (parsedResult && parsedResult.name === \"?xml\") parsedResult = parsedResult.children[0];\n\treturn parseParsedResult(parsedResult);\n}\n\n//#endregion\n\n//# sourceMappingURL=xml.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L291dHB1dF9wYXJzZXJzL3htbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQWlFO0FBQ0k7QUFDckM7QUFDYTs7QUFFN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0Esb0NBQW9DLDhFQUFtQztBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxTQUFTLDZFQUFPO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxLQUFLO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IscURBQUc7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNzRTtBQUN0RSIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9vdXRwdXRfcGFyc2Vycy94bWwuanM/N2ZmZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb21wYXJlIH0gZnJvbSBcIi4uL3V0aWxzL2Zhc3QtanNvbi1wYXRjaC9zcmMvZHVwbGV4LmpzXCI7XG5pbXBvcnQgeyBCYXNlQ3VtdWxhdGl2ZVRyYW5zZm9ybU91dHB1dFBhcnNlciB9IGZyb20gXCIuL3RyYW5zZm9ybS5qc1wiO1xuaW1wb3J0IFwiLi4vdXRpbHMvanNvbl9wYXRjaC5qc1wiO1xuaW1wb3J0IHsgc2F4IH0gZnJvbSBcIi4uL3V0aWxzL3NheC1qcy9zYXguanNcIjtcblxuLy8jcmVnaW9uIHNyYy9vdXRwdXRfcGFyc2Vycy94bWwudHNcbmNvbnN0IFhNTF9GT1JNQVRfSU5TVFJVQ1RJT05TID0gYFRoZSBvdXRwdXQgc2hvdWxkIGJlIGZvcm1hdHRlZCBhcyBhIFhNTCBmaWxlLlxuMS4gT3V0cHV0IHNob3VsZCBjb25mb3JtIHRvIHRoZSB0YWdzIGJlbG93LiBcbjIuIElmIHRhZ3MgYXJlIG5vdCBnaXZlbiwgbWFrZSB0aGVtIG9uIHlvdXIgb3duLlxuMy4gUmVtZW1iZXIgdG8gYWx3YXlzIG9wZW4gYW5kIGNsb3NlIGFsbCB0aGUgdGFncy5cblxuQXMgYW4gZXhhbXBsZSwgZm9yIHRoZSB0YWdzIFtcImZvb1wiLCBcImJhclwiLCBcImJhelwiXTpcbjEuIFN0cmluZyBcIjxmb28+XFxuICAgPGJhcj5cXG4gICAgICA8YmF6PjwvYmF6PlxcbiAgIDwvYmFyPlxcbjwvZm9vPlwiIGlzIGEgd2VsbC1mb3JtYXR0ZWQgaW5zdGFuY2Ugb2YgdGhlIHNjaGVtYS4gXG4yLiBTdHJpbmcgXCI8Zm9vPlxcbiAgIDxiYXI+XFxuICAgPC9mb28+XCIgaXMgYSBiYWRseS1mb3JtYXR0ZWQgaW5zdGFuY2UuXG4zLiBTdHJpbmcgXCI8Zm9vPlxcbiAgIDx0YWc+XFxuICAgPC90YWc+XFxuPC9mb28+XCIgaXMgYSBiYWRseS1mb3JtYXR0ZWQgaW5zdGFuY2UuXG5cbkhlcmUgYXJlIHRoZSBvdXRwdXQgdGFnczpcblxcYFxcYFxcYFxue3RhZ3N9XG5cXGBcXGBcXGBgO1xudmFyIFhNTE91dHB1dFBhcnNlciA9IGNsYXNzIGV4dGVuZHMgQmFzZUN1bXVsYXRpdmVUcmFuc2Zvcm1PdXRwdXRQYXJzZXIge1xuXHR0YWdzO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRzdXBlcihmaWVsZHMpO1xuXHRcdHRoaXMudGFncyA9IGZpZWxkcz8udGFncztcblx0fVxuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJYTUxPdXRwdXRQYXJzZXJcIjtcblx0fVxuXHRsY19uYW1lc3BhY2UgPSBbXCJsYW5nY2hhaW5fY29yZVwiLCBcIm91dHB1dF9wYXJzZXJzXCJdO1xuXHRsY19zZXJpYWxpemFibGUgPSB0cnVlO1xuXHRfZGlmZihwcmV2LCBuZXh0KSB7XG5cdFx0aWYgKCFuZXh0KSByZXR1cm4gdm9pZCAwO1xuXHRcdGlmICghcHJldikgcmV0dXJuIFt7XG5cdFx0XHRvcDogXCJyZXBsYWNlXCIsXG5cdFx0XHRwYXRoOiBcIlwiLFxuXHRcdFx0dmFsdWU6IG5leHRcblx0XHR9XTtcblx0XHRyZXR1cm4gY29tcGFyZShwcmV2LCBuZXh0KTtcblx0fVxuXHRhc3luYyBwYXJzZVBhcnRpYWxSZXN1bHQoZ2VuZXJhdGlvbnMpIHtcblx0XHRyZXR1cm4gcGFyc2VYTUxNYXJrZG93bihnZW5lcmF0aW9uc1swXS50ZXh0KTtcblx0fVxuXHRhc3luYyBwYXJzZSh0ZXh0KSB7XG5cdFx0cmV0dXJuIHBhcnNlWE1MTWFya2Rvd24odGV4dCk7XG5cdH1cblx0Z2V0Rm9ybWF0SW5zdHJ1Y3Rpb25zKCkge1xuXHRcdGNvbnN0IHdpdGhUYWdzID0gISEodGhpcy50YWdzICYmIHRoaXMudGFncy5sZW5ndGggPiAwKTtcblx0XHRyZXR1cm4gd2l0aFRhZ3MgPyBYTUxfRk9STUFUX0lOU1RSVUNUSU9OUy5yZXBsYWNlKFwie3RhZ3N9XCIsIHRoaXMudGFncz8uam9pbihcIiwgXCIpID8/IFwiXCIpIDogWE1MX0ZPUk1BVF9JTlNUUlVDVElPTlM7XG5cdH1cbn07XG5jb25zdCBzdHJpcCA9ICh0ZXh0KSA9PiB0ZXh0LnNwbGl0KFwiXFxuXCIpLm1hcCgobGluZSkgPT4gbGluZS5yZXBsYWNlKC9eXFxzKy8sIFwiXCIpKS5qb2luKFwiXFxuXCIpLnRyaW0oKTtcbmNvbnN0IHBhcnNlUGFyc2VkUmVzdWx0ID0gKGlucHV0KSA9PiB7XG5cdGlmIChPYmplY3Qua2V5cyhpbnB1dCkubGVuZ3RoID09PSAwKSByZXR1cm4ge307XG5cdGNvbnN0IHJlc3VsdCA9IHt9O1xuXHRpZiAoaW5wdXQuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuXHRcdHJlc3VsdFtpbnB1dC5uYW1lXSA9IGlucHV0LmNoaWxkcmVuLm1hcChwYXJzZVBhcnNlZFJlc3VsdCk7XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSBlbHNlIHtcblx0XHRyZXN1bHRbaW5wdXQubmFtZV0gPSBpbnB1dC50ZXh0ID8/IHZvaWQgMDtcblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG59O1xuZnVuY3Rpb24gcGFyc2VYTUxNYXJrZG93bihzKSB7XG5cdGNvbnN0IGNsZWFuZWRTdHJpbmcgPSBzdHJpcChzKTtcblx0Y29uc3QgcGFyc2VyID0gc2F4LnBhcnNlcih0cnVlKTtcblx0bGV0IHBhcnNlZFJlc3VsdCA9IHt9O1xuXHRjb25zdCBlbGVtZW50U3RhY2sgPSBbXTtcblx0cGFyc2VyLm9ub3BlbnRhZyA9IChub2RlKSA9PiB7XG5cdFx0Y29uc3QgZWxlbWVudCA9IHtcblx0XHRcdG5hbWU6IG5vZGUubmFtZSxcblx0XHRcdGF0dHJpYnV0ZXM6IG5vZGUuYXR0cmlidXRlcyxcblx0XHRcdGNoaWxkcmVuOiBbXSxcblx0XHRcdHRleHQ6IFwiXCIsXG5cdFx0XHRpc1NlbGZDbG9zaW5nOiBub2RlLmlzU2VsZkNsb3Npbmdcblx0XHR9O1xuXHRcdGlmIChlbGVtZW50U3RhY2subGVuZ3RoID4gMCkge1xuXHRcdFx0Y29uc3QgcGFyZW50RWxlbWVudCA9IGVsZW1lbnRTdGFja1tlbGVtZW50U3RhY2subGVuZ3RoIC0gMV07XG5cdFx0XHRwYXJlbnRFbGVtZW50LmNoaWxkcmVuLnB1c2goZWxlbWVudCk7XG5cdFx0fSBlbHNlIHBhcnNlZFJlc3VsdCA9IGVsZW1lbnQ7XG5cdFx0aWYgKCFub2RlLmlzU2VsZkNsb3NpbmcpIGVsZW1lbnRTdGFjay5wdXNoKGVsZW1lbnQpO1xuXHR9O1xuXHRwYXJzZXIub25jbG9zZXRhZyA9ICgpID0+IHtcblx0XHRpZiAoZWxlbWVudFN0YWNrLmxlbmd0aCA+IDApIHtcblx0XHRcdGNvbnN0IGxhc3RFbGVtZW50ID0gZWxlbWVudFN0YWNrLnBvcCgpO1xuXHRcdFx0aWYgKGVsZW1lbnRTdGFjay5sZW5ndGggPT09IDAgJiYgbGFzdEVsZW1lbnQpIHBhcnNlZFJlc3VsdCA9IGxhc3RFbGVtZW50O1xuXHRcdH1cblx0fTtcblx0cGFyc2VyLm9udGV4dCA9ICh0ZXh0KSA9PiB7XG5cdFx0aWYgKGVsZW1lbnRTdGFjay5sZW5ndGggPiAwKSB7XG5cdFx0XHRjb25zdCBjdXJyZW50RWxlbWVudCA9IGVsZW1lbnRTdGFja1tlbGVtZW50U3RhY2subGVuZ3RoIC0gMV07XG5cdFx0XHRjdXJyZW50RWxlbWVudC50ZXh0ICs9IHRleHQ7XG5cdFx0fVxuXHR9O1xuXHRwYXJzZXIub25hdHRyaWJ1dGUgPSAoYXR0cikgPT4ge1xuXHRcdGlmIChlbGVtZW50U3RhY2subGVuZ3RoID4gMCkge1xuXHRcdFx0Y29uc3QgY3VycmVudEVsZW1lbnQgPSBlbGVtZW50U3RhY2tbZWxlbWVudFN0YWNrLmxlbmd0aCAtIDFdO1xuXHRcdFx0Y3VycmVudEVsZW1lbnQuYXR0cmlidXRlc1thdHRyLm5hbWVdID0gYXR0ci52YWx1ZTtcblx0XHR9XG5cdH07XG5cdGNvbnN0IG1hdGNoID0gL2BgYCh4bWwpPyguKilgYGAvcy5leGVjKGNsZWFuZWRTdHJpbmcpO1xuXHRjb25zdCB4bWxTdHJpbmcgPSBtYXRjaCA/IG1hdGNoWzJdIDogY2xlYW5lZFN0cmluZztcblx0cGFyc2VyLndyaXRlKHhtbFN0cmluZykuY2xvc2UoKTtcblx0aWYgKHBhcnNlZFJlc3VsdCAmJiBwYXJzZWRSZXN1bHQubmFtZSA9PT0gXCI/eG1sXCIpIHBhcnNlZFJlc3VsdCA9IHBhcnNlZFJlc3VsdC5jaGlsZHJlblswXTtcblx0cmV0dXJuIHBhcnNlUGFyc2VkUmVzdWx0KHBhcnNlZFJlc3VsdCk7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgWE1MT3V0cHV0UGFyc2VyLCBYTUxfRk9STUFUX0lOU1RSVUNUSU9OUywgcGFyc2VYTUxNYXJrZG93biB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9eG1sLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/output_parsers/xml.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/outputs.js":
/*!*************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/outputs.js ***!
  \*************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatGenerationChunk: () => (/* binding */ ChatGenerationChunk),\n/* harmony export */   GenerationChunk: () => (/* binding */ GenerationChunk),\n/* harmony export */   RUN_KEY: () => (/* binding */ RUN_KEY),\n/* harmony export */   outputs_exports: () => (/* binding */ outputs_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_virtual/rolldown_runtime.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n\n\n//#region src/outputs.ts\nvar outputs_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(outputs_exports, {\n\tChatGenerationChunk: () => ChatGenerationChunk,\n\tGenerationChunk: () => GenerationChunk,\n\tRUN_KEY: () => RUN_KEY\n});\nconst RUN_KEY = \"__run\";\n/**\n* Chunk of a single generation. Used for streaming.\n*/\nvar GenerationChunk = class GenerationChunk {\n\ttext;\n\tgenerationInfo;\n\tconstructor(fields) {\n\t\tthis.text = fields.text;\n\t\tthis.generationInfo = fields.generationInfo;\n\t}\n\tconcat(chunk) {\n\t\treturn new GenerationChunk({\n\t\t\ttext: this.text + chunk.text,\n\t\t\tgenerationInfo: {\n\t\t\t\t...this.generationInfo,\n\t\t\t\t...chunk.generationInfo\n\t\t\t}\n\t\t});\n\t}\n};\nvar ChatGenerationChunk = class ChatGenerationChunk extends GenerationChunk {\n\tmessage;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.message = fields.message;\n\t}\n\tconcat(chunk) {\n\t\treturn new ChatGenerationChunk({\n\t\t\ttext: this.text + chunk.text,\n\t\t\tgenerationInfo: {\n\t\t\t\t...this.generationInfo,\n\t\t\t\t...chunk.generationInfo\n\t\t\t},\n\t\t\tmessage: this.message.concat(chunk.message)\n\t\t});\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=outputs.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L291dHB1dHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBMEQ7O0FBRTFEO0FBQ0E7QUFDQSxzRUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQzBFO0FBQzFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L291dHB1dHMuanM/YjY5ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2V4cG9ydCB9IGZyb20gXCIuL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9vdXRwdXRzLnRzXG52YXIgb3V0cHV0c19leHBvcnRzID0ge307XG5fX2V4cG9ydChvdXRwdXRzX2V4cG9ydHMsIHtcblx0Q2hhdEdlbmVyYXRpb25DaHVuazogKCkgPT4gQ2hhdEdlbmVyYXRpb25DaHVuayxcblx0R2VuZXJhdGlvbkNodW5rOiAoKSA9PiBHZW5lcmF0aW9uQ2h1bmssXG5cdFJVTl9LRVk6ICgpID0+IFJVTl9LRVlcbn0pO1xuY29uc3QgUlVOX0tFWSA9IFwiX19ydW5cIjtcbi8qKlxuKiBDaHVuayBvZiBhIHNpbmdsZSBnZW5lcmF0aW9uLiBVc2VkIGZvciBzdHJlYW1pbmcuXG4qL1xudmFyIEdlbmVyYXRpb25DaHVuayA9IGNsYXNzIEdlbmVyYXRpb25DaHVuayB7XG5cdHRleHQ7XG5cdGdlbmVyYXRpb25JbmZvO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHR0aGlzLnRleHQgPSBmaWVsZHMudGV4dDtcblx0XHR0aGlzLmdlbmVyYXRpb25JbmZvID0gZmllbGRzLmdlbmVyYXRpb25JbmZvO1xuXHR9XG5cdGNvbmNhdChjaHVuaykge1xuXHRcdHJldHVybiBuZXcgR2VuZXJhdGlvbkNodW5rKHtcblx0XHRcdHRleHQ6IHRoaXMudGV4dCArIGNodW5rLnRleHQsXG5cdFx0XHRnZW5lcmF0aW9uSW5mbzoge1xuXHRcdFx0XHQuLi50aGlzLmdlbmVyYXRpb25JbmZvLFxuXHRcdFx0XHQuLi5jaHVuay5nZW5lcmF0aW9uSW5mb1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG59O1xudmFyIENoYXRHZW5lcmF0aW9uQ2h1bmsgPSBjbGFzcyBDaGF0R2VuZXJhdGlvbkNodW5rIGV4dGVuZHMgR2VuZXJhdGlvbkNodW5rIHtcblx0bWVzc2FnZTtcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLm1lc3NhZ2UgPSBmaWVsZHMubWVzc2FnZTtcblx0fVxuXHRjb25jYXQoY2h1bmspIHtcblx0XHRyZXR1cm4gbmV3IENoYXRHZW5lcmF0aW9uQ2h1bmsoe1xuXHRcdFx0dGV4dDogdGhpcy50ZXh0ICsgY2h1bmsudGV4dCxcblx0XHRcdGdlbmVyYXRpb25JbmZvOiB7XG5cdFx0XHRcdC4uLnRoaXMuZ2VuZXJhdGlvbkluZm8sXG5cdFx0XHRcdC4uLmNodW5rLmdlbmVyYXRpb25JbmZvXG5cdFx0XHR9LFxuXHRcdFx0bWVzc2FnZTogdGhpcy5tZXNzYWdlLmNvbmNhdChjaHVuay5tZXNzYWdlKVxuXHRcdH0pO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IENoYXRHZW5lcmF0aW9uQ2h1bmssIEdlbmVyYXRpb25DaHVuaywgUlVOX0tFWSwgb3V0cHV0c19leHBvcnRzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vdXRwdXRzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/outputs.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompt_values.js":
/*!*******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompt_values.js ***!
  \*******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BasePromptValue: () => (/* binding */ BasePromptValue),\n/* harmony export */   ChatPromptValue: () => (/* binding */ ChatPromptValue),\n/* harmony export */   ImagePromptValue: () => (/* binding */ ImagePromptValue),\n/* harmony export */   StringPromptValue: () => (/* binding */ StringPromptValue),\n/* harmony export */   prompt_values_exports: () => (/* binding */ prompt_values_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_virtual/rolldown_runtime.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _load_serializable_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./load/serializable.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/load/serializable.js\");\n/* harmony import */ var _messages_human_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./messages/human.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/human.js\");\n/* harmony import */ var _messages_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./messages/utils.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/utils.js\");\n\n\n\n\n\n//#region src/prompt_values.ts\nvar prompt_values_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(prompt_values_exports, {\n\tBasePromptValue: () => BasePromptValue,\n\tChatPromptValue: () => ChatPromptValue,\n\tImagePromptValue: () => ImagePromptValue,\n\tStringPromptValue: () => StringPromptValue\n});\n/**\n* Base PromptValue class. All prompt values should extend this class.\n*/\nvar BasePromptValue = class extends _load_serializable_js__WEBPACK_IMPORTED_MODULE_1__.Serializable {};\n/**\n* Represents a prompt value as a string. It extends the BasePromptValue\n* class and overrides the toString and toChatMessages methods.\n*/\nvar StringPromptValue = class extends BasePromptValue {\n\tstatic lc_name() {\n\t\treturn \"StringPromptValue\";\n\t}\n\tlc_namespace = [\"langchain_core\", \"prompt_values\"];\n\tlc_serializable = true;\n\tvalue;\n\tconstructor(value) {\n\t\tsuper({ value });\n\t\tthis.value = value;\n\t}\n\ttoString() {\n\t\treturn this.value;\n\t}\n\ttoChatMessages() {\n\t\treturn [new _messages_human_js__WEBPACK_IMPORTED_MODULE_2__.HumanMessage(this.value)];\n\t}\n};\n/**\n* Class that represents a chat prompt value. It extends the\n* BasePromptValue and includes an array of BaseMessage instances.\n*/\nvar ChatPromptValue = class extends BasePromptValue {\n\tlc_namespace = [\"langchain_core\", \"prompt_values\"];\n\tlc_serializable = true;\n\tstatic lc_name() {\n\t\treturn \"ChatPromptValue\";\n\t}\n\tmessages;\n\tconstructor(fields) {\n\t\tif (Array.isArray(fields)) fields = { messages: fields };\n\t\tsuper(fields);\n\t\tthis.messages = fields.messages;\n\t}\n\ttoString() {\n\t\treturn (0,_messages_utils_js__WEBPACK_IMPORTED_MODULE_3__.getBufferString)(this.messages);\n\t}\n\ttoChatMessages() {\n\t\treturn this.messages;\n\t}\n};\n/**\n* Class that represents an image prompt value. It extends the\n* BasePromptValue and includes an ImageURL instance.\n*/\nvar ImagePromptValue = class extends BasePromptValue {\n\tlc_namespace = [\"langchain_core\", \"prompt_values\"];\n\tlc_serializable = true;\n\tstatic lc_name() {\n\t\treturn \"ImagePromptValue\";\n\t}\n\timageUrl;\n\t/** @ignore */\n\tvalue;\n\tconstructor(fields) {\n\t\tif (!(\"imageUrl\" in fields)) fields = { imageUrl: fields };\n\t\tsuper(fields);\n\t\tthis.imageUrl = fields.imageUrl;\n\t}\n\ttoString() {\n\t\treturn this.imageUrl.url;\n\t}\n\ttoChatMessages() {\n\t\treturn [new _messages_human_js__WEBPACK_IMPORTED_MODULE_2__.HumanMessage({ content: [{\n\t\t\ttype: \"image_url\",\n\t\t\timage_url: {\n\t\t\t\tdetail: this.imageUrl.detail,\n\t\t\t\turl: this.imageUrl.url\n\t\t\t}\n\t\t}] })];\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=prompt_values.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3Byb21wdF92YWx1ZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQTBEO0FBQ0o7QUFDSDtBQUNHOztBQUV0RDtBQUNBO0FBQ0Esc0VBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsK0RBQVk7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxPQUFPO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsNERBQVk7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsbUVBQWU7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDREQUFZLEdBQUc7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsR0FBRztBQUNOO0FBQ0E7O0FBRUE7QUFDd0c7QUFDeEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvcHJvbXB0X3ZhbHVlcy5qcz9lODU3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fZXhwb3J0IH0gZnJvbSBcIi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5qc1wiO1xuaW1wb3J0IHsgU2VyaWFsaXphYmxlIH0gZnJvbSBcIi4vbG9hZC9zZXJpYWxpemFibGUuanNcIjtcbmltcG9ydCB7IEh1bWFuTWVzc2FnZSB9IGZyb20gXCIuL21lc3NhZ2VzL2h1bWFuLmpzXCI7XG5pbXBvcnQgeyBnZXRCdWZmZXJTdHJpbmcgfSBmcm9tIFwiLi9tZXNzYWdlcy91dGlscy5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3Byb21wdF92YWx1ZXMudHNcbnZhciBwcm9tcHRfdmFsdWVzX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KHByb21wdF92YWx1ZXNfZXhwb3J0cywge1xuXHRCYXNlUHJvbXB0VmFsdWU6ICgpID0+IEJhc2VQcm9tcHRWYWx1ZSxcblx0Q2hhdFByb21wdFZhbHVlOiAoKSA9PiBDaGF0UHJvbXB0VmFsdWUsXG5cdEltYWdlUHJvbXB0VmFsdWU6ICgpID0+IEltYWdlUHJvbXB0VmFsdWUsXG5cdFN0cmluZ1Byb21wdFZhbHVlOiAoKSA9PiBTdHJpbmdQcm9tcHRWYWx1ZVxufSk7XG4vKipcbiogQmFzZSBQcm9tcHRWYWx1ZSBjbGFzcy4gQWxsIHByb21wdCB2YWx1ZXMgc2hvdWxkIGV4dGVuZCB0aGlzIGNsYXNzLlxuKi9cbnZhciBCYXNlUHJvbXB0VmFsdWUgPSBjbGFzcyBleHRlbmRzIFNlcmlhbGl6YWJsZSB7fTtcbi8qKlxuKiBSZXByZXNlbnRzIGEgcHJvbXB0IHZhbHVlIGFzIGEgc3RyaW5nLiBJdCBleHRlbmRzIHRoZSBCYXNlUHJvbXB0VmFsdWVcbiogY2xhc3MgYW5kIG92ZXJyaWRlcyB0aGUgdG9TdHJpbmcgYW5kIHRvQ2hhdE1lc3NhZ2VzIG1ldGhvZHMuXG4qL1xudmFyIFN0cmluZ1Byb21wdFZhbHVlID0gY2xhc3MgZXh0ZW5kcyBCYXNlUHJvbXB0VmFsdWUge1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJTdHJpbmdQcm9tcHRWYWx1ZVwiO1xuXHR9XG5cdGxjX25hbWVzcGFjZSA9IFtcImxhbmdjaGFpbl9jb3JlXCIsIFwicHJvbXB0X3ZhbHVlc1wiXTtcblx0bGNfc2VyaWFsaXphYmxlID0gdHJ1ZTtcblx0dmFsdWU7XG5cdGNvbnN0cnVjdG9yKHZhbHVlKSB7XG5cdFx0c3VwZXIoeyB2YWx1ZSB9KTtcblx0XHR0aGlzLnZhbHVlID0gdmFsdWU7XG5cdH1cblx0dG9TdHJpbmcoKSB7XG5cdFx0cmV0dXJuIHRoaXMudmFsdWU7XG5cdH1cblx0dG9DaGF0TWVzc2FnZXMoKSB7XG5cdFx0cmV0dXJuIFtuZXcgSHVtYW5NZXNzYWdlKHRoaXMudmFsdWUpXTtcblx0fVxufTtcbi8qKlxuKiBDbGFzcyB0aGF0IHJlcHJlc2VudHMgYSBjaGF0IHByb21wdCB2YWx1ZS4gSXQgZXh0ZW5kcyB0aGVcbiogQmFzZVByb21wdFZhbHVlIGFuZCBpbmNsdWRlcyBhbiBhcnJheSBvZiBCYXNlTWVzc2FnZSBpbnN0YW5jZXMuXG4qL1xudmFyIENoYXRQcm9tcHRWYWx1ZSA9IGNsYXNzIGV4dGVuZHMgQmFzZVByb21wdFZhbHVlIHtcblx0bGNfbmFtZXNwYWNlID0gW1wibGFuZ2NoYWluX2NvcmVcIiwgXCJwcm9tcHRfdmFsdWVzXCJdO1xuXHRsY19zZXJpYWxpemFibGUgPSB0cnVlO1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJDaGF0UHJvbXB0VmFsdWVcIjtcblx0fVxuXHRtZXNzYWdlcztcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0aWYgKEFycmF5LmlzQXJyYXkoZmllbGRzKSkgZmllbGRzID0geyBtZXNzYWdlczogZmllbGRzIH07XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLm1lc3NhZ2VzID0gZmllbGRzLm1lc3NhZ2VzO1xuXHR9XG5cdHRvU3RyaW5nKCkge1xuXHRcdHJldHVybiBnZXRCdWZmZXJTdHJpbmcodGhpcy5tZXNzYWdlcyk7XG5cdH1cblx0dG9DaGF0TWVzc2FnZXMoKSB7XG5cdFx0cmV0dXJuIHRoaXMubWVzc2FnZXM7XG5cdH1cbn07XG4vKipcbiogQ2xhc3MgdGhhdCByZXByZXNlbnRzIGFuIGltYWdlIHByb21wdCB2YWx1ZS4gSXQgZXh0ZW5kcyB0aGVcbiogQmFzZVByb21wdFZhbHVlIGFuZCBpbmNsdWRlcyBhbiBJbWFnZVVSTCBpbnN0YW5jZS5cbiovXG52YXIgSW1hZ2VQcm9tcHRWYWx1ZSA9IGNsYXNzIGV4dGVuZHMgQmFzZVByb21wdFZhbHVlIHtcblx0bGNfbmFtZXNwYWNlID0gW1wibGFuZ2NoYWluX2NvcmVcIiwgXCJwcm9tcHRfdmFsdWVzXCJdO1xuXHRsY19zZXJpYWxpemFibGUgPSB0cnVlO1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJJbWFnZVByb21wdFZhbHVlXCI7XG5cdH1cblx0aW1hZ2VVcmw7XG5cdC8qKiBAaWdub3JlICovXG5cdHZhbHVlO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRpZiAoIShcImltYWdlVXJsXCIgaW4gZmllbGRzKSkgZmllbGRzID0geyBpbWFnZVVybDogZmllbGRzIH07XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLmltYWdlVXJsID0gZmllbGRzLmltYWdlVXJsO1xuXHR9XG5cdHRvU3RyaW5nKCkge1xuXHRcdHJldHVybiB0aGlzLmltYWdlVXJsLnVybDtcblx0fVxuXHR0b0NoYXRNZXNzYWdlcygpIHtcblx0XHRyZXR1cm4gW25ldyBIdW1hbk1lc3NhZ2UoeyBjb250ZW50OiBbe1xuXHRcdFx0dHlwZTogXCJpbWFnZV91cmxcIixcblx0XHRcdGltYWdlX3VybDoge1xuXHRcdFx0XHRkZXRhaWw6IHRoaXMuaW1hZ2VVcmwuZGV0YWlsLFxuXHRcdFx0XHR1cmw6IHRoaXMuaW1hZ2VVcmwudXJsXG5cdFx0XHR9XG5cdFx0fV0gfSldO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEJhc2VQcm9tcHRWYWx1ZSwgQ2hhdFByb21wdFZhbHVlLCBJbWFnZVByb21wdFZhbHVlLCBTdHJpbmdQcm9tcHRWYWx1ZSwgcHJvbXB0X3ZhbHVlc19leHBvcnRzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcm9tcHRfdmFsdWVzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompt_values.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/base.js":
/*!******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/base.js ***!
  \******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BasePromptTemplate: () => (/* binding */ BasePromptTemplate)\n/* harmony export */ });\n/* harmony import */ var _runnables_base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../runnables/base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/base.js\");\n\n\n//#region src/prompts/base.ts\n/**\n* Base class for prompt templates. Exposes a format method that returns a\n* string prompt given a set of input values.\n*/\nvar BasePromptTemplate = class extends _runnables_base_js__WEBPACK_IMPORTED_MODULE_0__.Runnable {\n\tlc_serializable = true;\n\tlc_namespace = [\n\t\t\"langchain_core\",\n\t\t\"prompts\",\n\t\tthis._getPromptType()\n\t];\n\tget lc_attributes() {\n\t\treturn { partialVariables: void 0 };\n\t}\n\tinputVariables;\n\toutputParser;\n\tpartialVariables;\n\t/**\n\t* Metadata to be used for tracing.\n\t*/\n\tmetadata;\n\t/** Tags to be used for tracing. */\n\ttags;\n\tconstructor(input) {\n\t\tsuper(input);\n\t\tconst { inputVariables } = input;\n\t\tif (inputVariables.includes(\"stop\")) throw new Error(\"Cannot have an input variable named 'stop', as it is used internally, please rename.\");\n\t\tObject.assign(this, input);\n\t}\n\t/**\n\t* Merges partial variables and user variables.\n\t* @param userVariables The user variables to merge with the partial variables.\n\t* @returns A Promise that resolves to an object containing the merged variables.\n\t*/\n\tasync mergePartialAndUserVariables(userVariables) {\n\t\tconst partialVariables = this.partialVariables ?? {};\n\t\tconst partialValues = {};\n\t\tfor (const [key, value] of Object.entries(partialVariables)) if (typeof value === \"string\") partialValues[key] = value;\n\t\telse partialValues[key] = await value();\n\t\tconst allKwargs = {\n\t\t\t...partialValues,\n\t\t\t...userVariables\n\t\t};\n\t\treturn allKwargs;\n\t}\n\t/**\n\t* Invokes the prompt template with the given input and options.\n\t* @param input The input to invoke the prompt template with.\n\t* @param options Optional configuration for the callback.\n\t* @returns A Promise that resolves to the output of the prompt template.\n\t*/\n\tasync invoke(input, options) {\n\t\tconst metadata = {\n\t\t\t...this.metadata,\n\t\t\t...options?.metadata\n\t\t};\n\t\tconst tags = [...this.tags ?? [], ...options?.tags ?? []];\n\t\treturn this._callWithConfig((input$1) => this.formatPromptValue(input$1), input, {\n\t\t\t...options,\n\t\t\ttags,\n\t\t\tmetadata,\n\t\t\trunType: \"prompt\"\n\t\t});\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=base.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3Byb21wdHMvYmFzZS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFnRDs7QUFFaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyx3REFBUTtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGlCQUFpQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUM4QjtBQUM5QiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9wcm9tcHRzL2Jhc2UuanM/MGZkNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSdW5uYWJsZSB9IGZyb20gXCIuLi9ydW5uYWJsZXMvYmFzZS5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3Byb21wdHMvYmFzZS50c1xuLyoqXG4qIEJhc2UgY2xhc3MgZm9yIHByb21wdCB0ZW1wbGF0ZXMuIEV4cG9zZXMgYSBmb3JtYXQgbWV0aG9kIHRoYXQgcmV0dXJucyBhXG4qIHN0cmluZyBwcm9tcHQgZ2l2ZW4gYSBzZXQgb2YgaW5wdXQgdmFsdWVzLlxuKi9cbnZhciBCYXNlUHJvbXB0VGVtcGxhdGUgPSBjbGFzcyBleHRlbmRzIFJ1bm5hYmxlIHtcblx0bGNfc2VyaWFsaXphYmxlID0gdHJ1ZTtcblx0bGNfbmFtZXNwYWNlID0gW1xuXHRcdFwibGFuZ2NoYWluX2NvcmVcIixcblx0XHRcInByb21wdHNcIixcblx0XHR0aGlzLl9nZXRQcm9tcHRUeXBlKClcblx0XTtcblx0Z2V0IGxjX2F0dHJpYnV0ZXMoKSB7XG5cdFx0cmV0dXJuIHsgcGFydGlhbFZhcmlhYmxlczogdm9pZCAwIH07XG5cdH1cblx0aW5wdXRWYXJpYWJsZXM7XG5cdG91dHB1dFBhcnNlcjtcblx0cGFydGlhbFZhcmlhYmxlcztcblx0LyoqXG5cdCogTWV0YWRhdGEgdG8gYmUgdXNlZCBmb3IgdHJhY2luZy5cblx0Ki9cblx0bWV0YWRhdGE7XG5cdC8qKiBUYWdzIHRvIGJlIHVzZWQgZm9yIHRyYWNpbmcuICovXG5cdHRhZ3M7XG5cdGNvbnN0cnVjdG9yKGlucHV0KSB7XG5cdFx0c3VwZXIoaW5wdXQpO1xuXHRcdGNvbnN0IHsgaW5wdXRWYXJpYWJsZXMgfSA9IGlucHV0O1xuXHRcdGlmIChpbnB1dFZhcmlhYmxlcy5pbmNsdWRlcyhcInN0b3BcIikpIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBoYXZlIGFuIGlucHV0IHZhcmlhYmxlIG5hbWVkICdzdG9wJywgYXMgaXQgaXMgdXNlZCBpbnRlcm5hbGx5LCBwbGVhc2UgcmVuYW1lLlwiKTtcblx0XHRPYmplY3QuYXNzaWduKHRoaXMsIGlucHV0KTtcblx0fVxuXHQvKipcblx0KiBNZXJnZXMgcGFydGlhbCB2YXJpYWJsZXMgYW5kIHVzZXIgdmFyaWFibGVzLlxuXHQqIEBwYXJhbSB1c2VyVmFyaWFibGVzIFRoZSB1c2VyIHZhcmlhYmxlcyB0byBtZXJnZSB3aXRoIHRoZSBwYXJ0aWFsIHZhcmlhYmxlcy5cblx0KiBAcmV0dXJucyBBIFByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgbWVyZ2VkIHZhcmlhYmxlcy5cblx0Ki9cblx0YXN5bmMgbWVyZ2VQYXJ0aWFsQW5kVXNlclZhcmlhYmxlcyh1c2VyVmFyaWFibGVzKSB7XG5cdFx0Y29uc3QgcGFydGlhbFZhcmlhYmxlcyA9IHRoaXMucGFydGlhbFZhcmlhYmxlcyA/PyB7fTtcblx0XHRjb25zdCBwYXJ0aWFsVmFsdWVzID0ge307XG5cdFx0Zm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMocGFydGlhbFZhcmlhYmxlcykpIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHBhcnRpYWxWYWx1ZXNba2V5XSA9IHZhbHVlO1xuXHRcdGVsc2UgcGFydGlhbFZhbHVlc1trZXldID0gYXdhaXQgdmFsdWUoKTtcblx0XHRjb25zdCBhbGxLd2FyZ3MgPSB7XG5cdFx0XHQuLi5wYXJ0aWFsVmFsdWVzLFxuXHRcdFx0Li4udXNlclZhcmlhYmxlc1xuXHRcdH07XG5cdFx0cmV0dXJuIGFsbEt3YXJncztcblx0fVxuXHQvKipcblx0KiBJbnZva2VzIHRoZSBwcm9tcHQgdGVtcGxhdGUgd2l0aCB0aGUgZ2l2ZW4gaW5wdXQgYW5kIG9wdGlvbnMuXG5cdCogQHBhcmFtIGlucHV0IFRoZSBpbnB1dCB0byBpbnZva2UgdGhlIHByb21wdCB0ZW1wbGF0ZSB3aXRoLlxuXHQqIEBwYXJhbSBvcHRpb25zIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBjYWxsYmFjay5cblx0KiBAcmV0dXJucyBBIFByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgb3V0cHV0IG9mIHRoZSBwcm9tcHQgdGVtcGxhdGUuXG5cdCovXG5cdGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuXHRcdGNvbnN0IG1ldGFkYXRhID0ge1xuXHRcdFx0Li4udGhpcy5tZXRhZGF0YSxcblx0XHRcdC4uLm9wdGlvbnM/Lm1ldGFkYXRhXG5cdFx0fTtcblx0XHRjb25zdCB0YWdzID0gWy4uLnRoaXMudGFncyA/PyBbXSwgLi4ub3B0aW9ucz8udGFncyA/PyBbXV07XG5cdFx0cmV0dXJuIHRoaXMuX2NhbGxXaXRoQ29uZmlnKChpbnB1dCQxKSA9PiB0aGlzLmZvcm1hdFByb21wdFZhbHVlKGlucHV0JDEpLCBpbnB1dCwge1xuXHRcdFx0Li4ub3B0aW9ucyxcblx0XHRcdHRhZ3MsXG5cdFx0XHRtZXRhZGF0YSxcblx0XHRcdHJ1blR5cGU6IFwicHJvbXB0XCJcblx0XHR9KTtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBCYXNlUHJvbXB0VGVtcGxhdGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhc2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/base.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/chat.js":
/*!******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/chat.js ***!
  \******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AIMessagePromptTemplate: () => (/* binding */ AIMessagePromptTemplate),\n/* harmony export */   BaseChatPromptTemplate: () => (/* binding */ BaseChatPromptTemplate),\n/* harmony export */   BaseMessagePromptTemplate: () => (/* binding */ BaseMessagePromptTemplate),\n/* harmony export */   BaseMessageStringPromptTemplate: () => (/* binding */ BaseMessageStringPromptTemplate),\n/* harmony export */   ChatMessagePromptTemplate: () => (/* binding */ ChatMessagePromptTemplate),\n/* harmony export */   ChatPromptTemplate: () => (/* binding */ ChatPromptTemplate),\n/* harmony export */   HumanMessagePromptTemplate: () => (/* binding */ HumanMessagePromptTemplate),\n/* harmony export */   MessagesPlaceholder: () => (/* binding */ MessagesPlaceholder),\n/* harmony export */   SystemMessagePromptTemplate: () => (/* binding */ SystemMessagePromptTemplate)\n/* harmony export */ });\n/* harmony import */ var _messages_base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../messages/base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/base.js\");\n/* harmony import */ var _errors_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../errors/index.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/errors/index.js\");\n/* harmony import */ var _messages_chat_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../messages/chat.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/chat.js\");\n/* harmony import */ var _messages_human_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../messages/human.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/human.js\");\n/* harmony import */ var _messages_system_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../messages/system.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/system.js\");\n/* harmony import */ var _messages_utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../messages/utils.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/utils.js\");\n/* harmony import */ var _messages_ai_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../messages/ai.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/ai.js\");\n/* harmony import */ var _runnables_base_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../runnables/base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/base.js\");\n/* harmony import */ var _messages_index_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../messages/index.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/index.js\");\n/* harmony import */ var _prompt_values_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../prompt_values.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompt_values.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/base.js\");\n/* harmony import */ var _string_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./string.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/string.js\");\n/* harmony import */ var _template_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./template.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/template.js\");\n/* harmony import */ var _prompt_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./prompt.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/prompt.js\");\n/* harmony import */ var _image_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./image.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/image.js\");\n/* harmony import */ var _dict_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./dict.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/dict.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//#region src/prompts/chat.ts\n/**\n* Abstract class that serves as a base for creating message prompt\n* templates. It defines how to format messages for different roles in a\n* conversation.\n*/\nvar BaseMessagePromptTemplate = class extends _runnables_base_js__WEBPACK_IMPORTED_MODULE_7__.Runnable {\n\tlc_namespace = [\n\t\t\"langchain_core\",\n\t\t\"prompts\",\n\t\t\"chat\"\n\t];\n\tlc_serializable = true;\n\t/**\n\t* Calls the formatMessages method with the provided input and options.\n\t* @param input Input for the formatMessages method\n\t* @param options Optional BaseCallbackConfig\n\t* @returns Formatted output messages\n\t*/\n\tasync invoke(input, options) {\n\t\treturn this._callWithConfig((input$1) => this.formatMessages(input$1), input, {\n\t\t\t...options,\n\t\t\trunType: \"prompt\"\n\t\t});\n\t}\n};\n/**\n* Class that represents a placeholder for messages in a chat prompt. It\n* extends the BaseMessagePromptTemplate.\n*/\nvar MessagesPlaceholder = class extends BaseMessagePromptTemplate {\n\tstatic lc_name() {\n\t\treturn \"MessagesPlaceholder\";\n\t}\n\tvariableName;\n\toptional;\n\tconstructor(fields) {\n\t\tif (typeof fields === \"string\") fields = { variableName: fields };\n\t\tsuper(fields);\n\t\tthis.variableName = fields.variableName;\n\t\tthis.optional = fields.optional ?? false;\n\t}\n\tget inputVariables() {\n\t\treturn [this.variableName];\n\t}\n\tasync formatMessages(values) {\n\t\tconst input = values[this.variableName];\n\t\tif (this.optional && !input) return [];\n\t\telse if (!input) {\n\t\t\tconst error = /* @__PURE__ */ new Error(`Field \"${this.variableName}\" in prompt uses a MessagesPlaceholder, which expects an array of BaseMessages as an input value. Received: undefined`);\n\t\t\terror.name = \"InputFormatError\";\n\t\t\tthrow error;\n\t\t}\n\t\tlet formattedMessages;\n\t\ttry {\n\t\t\tif (Array.isArray(input)) formattedMessages = input.map(_messages_utils_js__WEBPACK_IMPORTED_MODULE_5__.coerceMessageLikeToMessage);\n\t\t\telse formattedMessages = [(0,_messages_utils_js__WEBPACK_IMPORTED_MODULE_5__.coerceMessageLikeToMessage)(input)];\n\t\t} catch (e) {\n\t\t\tconst readableInput = typeof input === \"string\" ? input : JSON.stringify(input, null, 2);\n\t\t\tconst error = new Error([\n\t\t\t\t`Field \"${this.variableName}\" in prompt uses a MessagesPlaceholder, which expects an array of BaseMessages or coerceable values as input.`,\n\t\t\t\t`Received value: ${readableInput}`,\n\t\t\t\t`Additional message: ${e.message}`\n\t\t\t].join(\"\\n\\n\"));\n\t\t\terror.name = \"InputFormatError\";\n\t\t\terror.lc_error_code = e.lc_error_code;\n\t\t\tthrow error;\n\t\t}\n\t\treturn formattedMessages;\n\t}\n};\n/**\n* Abstract class that serves as a base for creating message string prompt\n* templates. It extends the BaseMessagePromptTemplate.\n*/\nvar BaseMessageStringPromptTemplate = class extends BaseMessagePromptTemplate {\n\tprompt;\n\tconstructor(fields) {\n\t\tif (!(\"prompt\" in fields)) fields = { prompt: fields };\n\t\tsuper(fields);\n\t\tthis.prompt = fields.prompt;\n\t}\n\tget inputVariables() {\n\t\treturn this.prompt.inputVariables;\n\t}\n\tasync formatMessages(values) {\n\t\treturn [await this.format(values)];\n\t}\n};\n/**\n* Abstract class that serves as a base for creating chat prompt\n* templates. It extends the BasePromptTemplate.\n*/\nvar BaseChatPromptTemplate = class extends _base_js__WEBPACK_IMPORTED_MODULE_10__.BasePromptTemplate {\n\tconstructor(input) {\n\t\tsuper(input);\n\t}\n\tasync format(values) {\n\t\treturn (await this.formatPromptValue(values)).toString();\n\t}\n\tasync formatPromptValue(values) {\n\t\tconst resultMessages = await this.formatMessages(values);\n\t\treturn new _prompt_values_js__WEBPACK_IMPORTED_MODULE_9__.ChatPromptValue(resultMessages);\n\t}\n};\n/**\n* Class that represents a chat message prompt template. It extends the\n* BaseMessageStringPromptTemplate.\n*/\nvar ChatMessagePromptTemplate = class extends BaseMessageStringPromptTemplate {\n\tstatic lc_name() {\n\t\treturn \"ChatMessagePromptTemplate\";\n\t}\n\trole;\n\tconstructor(fields, role) {\n\t\tif (!(\"prompt\" in fields)) fields = {\n\t\t\tprompt: fields,\n\t\t\trole\n\t\t};\n\t\tsuper(fields);\n\t\tthis.role = fields.role;\n\t}\n\tasync format(values) {\n\t\treturn new _messages_chat_js__WEBPACK_IMPORTED_MODULE_2__.ChatMessage(await this.prompt.format(values), this.role);\n\t}\n\tstatic fromTemplate(template, role, options) {\n\t\treturn new this(_prompt_js__WEBPACK_IMPORTED_MODULE_13__.PromptTemplate.fromTemplate(template, { templateFormat: options?.templateFormat }), role);\n\t}\n};\nfunction isTextTemplateParam(param) {\n\tif (param === null || typeof param !== \"object\" || Array.isArray(param)) return false;\n\treturn Object.keys(param).length === 1 && \"text\" in param && typeof param.text === \"string\";\n}\nfunction isImageTemplateParam(param) {\n\tif (param === null || typeof param !== \"object\" || Array.isArray(param)) return false;\n\treturn \"image_url\" in param && (typeof param.image_url === \"string\" || typeof param.image_url === \"object\" && param.image_url !== null && \"url\" in param.image_url && typeof param.image_url.url === \"string\");\n}\nvar _StringImageMessagePromptTemplate = class extends BaseMessagePromptTemplate {\n\tlc_namespace = [\n\t\t\"langchain_core\",\n\t\t\"prompts\",\n\t\t\"chat\"\n\t];\n\tlc_serializable = true;\n\tinputVariables = [];\n\tadditionalOptions = {};\n\tprompt;\n\tmessageClass;\n\tstatic _messageClass() {\n\t\tthrow new Error(\"Can not invoke _messageClass from inside _StringImageMessagePromptTemplate\");\n\t}\n\tchatMessageClass;\n\tconstructor(fields, additionalOptions) {\n\t\tif (!(\"prompt\" in fields)) fields = { prompt: fields };\n\t\tsuper(fields);\n\t\tthis.prompt = fields.prompt;\n\t\tif (Array.isArray(this.prompt)) {\n\t\t\tlet inputVariables = [];\n\t\t\tthis.prompt.forEach((prompt) => {\n\t\t\t\tif (\"inputVariables\" in prompt) inputVariables = inputVariables.concat(prompt.inputVariables);\n\t\t\t});\n\t\t\tthis.inputVariables = inputVariables;\n\t\t} else this.inputVariables = this.prompt.inputVariables;\n\t\tthis.additionalOptions = additionalOptions ?? this.additionalOptions;\n\t}\n\tcreateMessage(content) {\n\t\tconst constructor = this.constructor;\n\t\tif (constructor._messageClass()) {\n\t\t\tconst MsgClass = constructor._messageClass();\n\t\t\treturn new MsgClass({ content });\n\t\t} else if (constructor.chatMessageClass) {\n\t\t\tconst MsgClass = constructor.chatMessageClass();\n\t\t\treturn new MsgClass({\n\t\t\t\tcontent,\n\t\t\t\trole: this.getRoleFromMessageClass(MsgClass.lc_name())\n\t\t\t});\n\t\t} else throw new Error(\"No message class defined\");\n\t}\n\tgetRoleFromMessageClass(name) {\n\t\tswitch (name) {\n\t\t\tcase \"HumanMessage\": return \"human\";\n\t\t\tcase \"AIMessage\": return \"ai\";\n\t\t\tcase \"SystemMessage\": return \"system\";\n\t\t\tcase \"ChatMessage\": return \"chat\";\n\t\t\tdefault: throw new Error(\"Invalid message class name\");\n\t\t}\n\t}\n\tstatic fromTemplate(template, additionalOptions) {\n\t\tif (typeof template === \"string\") return new this(_prompt_js__WEBPACK_IMPORTED_MODULE_13__.PromptTemplate.fromTemplate(template, additionalOptions));\n\t\tconst prompt = [];\n\t\tfor (const item of template) if (typeof item === \"string\") prompt.push(_prompt_js__WEBPACK_IMPORTED_MODULE_13__.PromptTemplate.fromTemplate(item, additionalOptions));\n\t\telse if (item === null) {} else if (isTextTemplateParam(item)) {\n\t\t\tlet text = \"\";\n\t\t\tif (typeof item.text === \"string\") text = item.text ?? \"\";\n\t\t\tconst options = {\n\t\t\t\t...additionalOptions,\n\t\t\t\tadditionalContentFields: item\n\t\t\t};\n\t\t\tprompt.push(_prompt_js__WEBPACK_IMPORTED_MODULE_13__.PromptTemplate.fromTemplate(text, options));\n\t\t} else if (isImageTemplateParam(item)) {\n\t\t\tlet imgTemplate = item.image_url ?? \"\";\n\t\t\tlet imgTemplateObject;\n\t\t\tlet inputVariables = [];\n\t\t\tif (typeof imgTemplate === \"string\") {\n\t\t\t\tlet parsedTemplate;\n\t\t\t\tif (additionalOptions?.templateFormat === \"mustache\") parsedTemplate = (0,_template_js__WEBPACK_IMPORTED_MODULE_12__.parseMustache)(imgTemplate);\n\t\t\t\telse parsedTemplate = (0,_template_js__WEBPACK_IMPORTED_MODULE_12__.parseFString)(imgTemplate);\n\t\t\t\tconst variables = parsedTemplate.flatMap((item$1) => item$1.type === \"variable\" ? [item$1.name] : []);\n\t\t\t\tif ((variables?.length ?? 0) > 0) {\n\t\t\t\t\tif (variables.length > 1) throw new Error(`Only one format variable allowed per image template.\\nGot: ${variables}\\nFrom: ${imgTemplate}`);\n\t\t\t\t\tinputVariables = [variables[0]];\n\t\t\t\t} else inputVariables = [];\n\t\t\t\timgTemplate = { url: imgTemplate };\n\t\t\t\timgTemplateObject = new _image_js__WEBPACK_IMPORTED_MODULE_14__.ImagePromptTemplate({\n\t\t\t\t\ttemplate: imgTemplate,\n\t\t\t\t\tinputVariables,\n\t\t\t\t\ttemplateFormat: additionalOptions?.templateFormat,\n\t\t\t\t\tadditionalContentFields: item\n\t\t\t\t});\n\t\t\t} else if (typeof imgTemplate === \"object\") {\n\t\t\t\tif (\"url\" in imgTemplate) {\n\t\t\t\t\tlet parsedTemplate;\n\t\t\t\t\tif (additionalOptions?.templateFormat === \"mustache\") parsedTemplate = (0,_template_js__WEBPACK_IMPORTED_MODULE_12__.parseMustache)(imgTemplate.url);\n\t\t\t\t\telse parsedTemplate = (0,_template_js__WEBPACK_IMPORTED_MODULE_12__.parseFString)(imgTemplate.url);\n\t\t\t\t\tinputVariables = parsedTemplate.flatMap((item$1) => item$1.type === \"variable\" ? [item$1.name] : []);\n\t\t\t\t} else inputVariables = [];\n\t\t\t\timgTemplateObject = new _image_js__WEBPACK_IMPORTED_MODULE_14__.ImagePromptTemplate({\n\t\t\t\t\ttemplate: imgTemplate,\n\t\t\t\t\tinputVariables,\n\t\t\t\t\ttemplateFormat: additionalOptions?.templateFormat,\n\t\t\t\t\tadditionalContentFields: item\n\t\t\t\t});\n\t\t\t} else throw new Error(\"Invalid image template\");\n\t\t\tprompt.push(imgTemplateObject);\n\t\t} else if (typeof item === \"object\") prompt.push(new _dict_js__WEBPACK_IMPORTED_MODULE_15__.DictPromptTemplate({\n\t\t\ttemplate: item,\n\t\t\ttemplateFormat: additionalOptions?.templateFormat\n\t\t}));\n\t\treturn new this({\n\t\t\tprompt,\n\t\t\tadditionalOptions\n\t\t});\n\t}\n\tasync format(input) {\n\t\tif (this.prompt instanceof _string_js__WEBPACK_IMPORTED_MODULE_11__.BaseStringPromptTemplate) {\n\t\t\tconst text = await this.prompt.format(input);\n\t\t\treturn this.createMessage(text);\n\t\t} else {\n\t\t\tconst content = [];\n\t\t\tfor (const prompt of this.prompt) {\n\t\t\t\tlet inputs = {};\n\t\t\t\tif (!(\"inputVariables\" in prompt)) throw new Error(`Prompt ${prompt} does not have inputVariables defined.`);\n\t\t\t\tfor (const item of prompt.inputVariables) {\n\t\t\t\t\tif (!inputs) inputs = { [item]: input[item] };\n\t\t\t\t\tinputs = {\n\t\t\t\t\t\t...inputs,\n\t\t\t\t\t\t[item]: input[item]\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (prompt instanceof _string_js__WEBPACK_IMPORTED_MODULE_11__.BaseStringPromptTemplate) {\n\t\t\t\t\tconst formatted = await prompt.format(inputs);\n\t\t\t\t\tlet additionalContentFields;\n\t\t\t\t\tif (\"additionalContentFields\" in prompt) additionalContentFields = prompt.additionalContentFields;\n\t\t\t\t\tif (formatted !== \"\") content.push({\n\t\t\t\t\t\t...additionalContentFields,\n\t\t\t\t\t\ttype: \"text\",\n\t\t\t\t\t\ttext: formatted\n\t\t\t\t\t});\n\t\t\t\t} else if (prompt instanceof _image_js__WEBPACK_IMPORTED_MODULE_14__.ImagePromptTemplate) {\n\t\t\t\t\tconst formatted = await prompt.format(inputs);\n\t\t\t\t\tlet additionalContentFields;\n\t\t\t\t\tif (\"additionalContentFields\" in prompt) additionalContentFields = prompt.additionalContentFields;\n\t\t\t\t\tcontent.push({\n\t\t\t\t\t\t...additionalContentFields,\n\t\t\t\t\t\ttype: \"image_url\",\n\t\t\t\t\t\timage_url: formatted\n\t\t\t\t\t});\n\t\t\t\t} else if (prompt instanceof _dict_js__WEBPACK_IMPORTED_MODULE_15__.DictPromptTemplate) {\n\t\t\t\t\tconst formatted = await prompt.format(inputs);\n\t\t\t\t\tlet additionalContentFields;\n\t\t\t\t\tif (\"additionalContentFields\" in prompt) additionalContentFields = prompt.additionalContentFields;\n\t\t\t\t\tcontent.push({\n\t\t\t\t\t\t...additionalContentFields,\n\t\t\t\t\t\t...formatted\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this.createMessage(content);\n\t\t}\n\t}\n\tasync formatMessages(values) {\n\t\treturn [await this.format(values)];\n\t}\n};\n/**\n* Class that represents a human message prompt template. It extends the\n* BaseMessageStringPromptTemplate.\n* @example\n* ```typescript\n* const message = HumanMessagePromptTemplate.fromTemplate(\"{text}\");\n* const formatted = await message.format({ text: \"Hello world!\" });\n*\n* const chatPrompt = ChatPromptTemplate.fromMessages([message]);\n* const formattedChatPrompt = await chatPrompt.invoke({\n*   text: \"Hello world!\",\n* });\n* ```\n*/\nvar HumanMessagePromptTemplate = class extends _StringImageMessagePromptTemplate {\n\tstatic _messageClass() {\n\t\treturn _messages_human_js__WEBPACK_IMPORTED_MODULE_3__.HumanMessage;\n\t}\n\tstatic lc_name() {\n\t\treturn \"HumanMessagePromptTemplate\";\n\t}\n};\n/**\n* Class that represents an AI message prompt template. It extends the\n* BaseMessageStringPromptTemplate.\n*/\nvar AIMessagePromptTemplate = class extends _StringImageMessagePromptTemplate {\n\tstatic _messageClass() {\n\t\treturn _messages_ai_js__WEBPACK_IMPORTED_MODULE_6__.AIMessage;\n\t}\n\tstatic lc_name() {\n\t\treturn \"AIMessagePromptTemplate\";\n\t}\n};\n/**\n* Class that represents a system message prompt template. It extends the\n* BaseMessageStringPromptTemplate.\n* @example\n* ```typescript\n* const message = SystemMessagePromptTemplate.fromTemplate(\"{text}\");\n* const formatted = await message.format({ text: \"Hello world!\" });\n*\n* const chatPrompt = ChatPromptTemplate.fromMessages([message]);\n* const formattedChatPrompt = await chatPrompt.invoke({\n*   text: \"Hello world!\",\n* });\n* ```\n*/\nvar SystemMessagePromptTemplate = class extends _StringImageMessagePromptTemplate {\n\tstatic _messageClass() {\n\t\treturn _messages_system_js__WEBPACK_IMPORTED_MODULE_4__.SystemMessage;\n\t}\n\tstatic lc_name() {\n\t\treturn \"SystemMessagePromptTemplate\";\n\t}\n};\nfunction _isBaseMessagePromptTemplate(baseMessagePromptTemplateLike) {\n\treturn typeof baseMessagePromptTemplateLike.formatMessages === \"function\";\n}\nfunction _coerceMessagePromptTemplateLike(messagePromptTemplateLike, extra) {\n\tif (_isBaseMessagePromptTemplate(messagePromptTemplateLike) || (0,_messages_base_js__WEBPACK_IMPORTED_MODULE_0__.isBaseMessage)(messagePromptTemplateLike)) return messagePromptTemplateLike;\n\tif (Array.isArray(messagePromptTemplateLike) && messagePromptTemplateLike[0] === \"placeholder\") {\n\t\tconst messageContent = messagePromptTemplateLike[1];\n\t\tif (extra?.templateFormat === \"mustache\" && typeof messageContent === \"string\" && messageContent.slice(0, 2) === \"{{\" && messageContent.slice(-2) === \"}}\") {\n\t\t\tconst variableName = messageContent.slice(2, -2);\n\t\t\treturn new MessagesPlaceholder({\n\t\t\t\tvariableName,\n\t\t\t\toptional: true\n\t\t\t});\n\t\t} else if (typeof messageContent === \"string\" && messageContent[0] === \"{\" && messageContent[messageContent.length - 1] === \"}\") {\n\t\t\tconst variableName = messageContent.slice(1, -1);\n\t\t\treturn new MessagesPlaceholder({\n\t\t\t\tvariableName,\n\t\t\t\toptional: true\n\t\t\t});\n\t\t}\n\t\tthrow new Error(`Invalid placeholder template for format ${extra?.templateFormat ?? `\"f-string\"`}: \"${messagePromptTemplateLike[1]}\". Expected a variable name surrounded by ${extra?.templateFormat === \"mustache\" ? \"double\" : \"single\"} curly braces.`);\n\t}\n\tconst message = (0,_messages_utils_js__WEBPACK_IMPORTED_MODULE_5__.coerceMessageLikeToMessage)(messagePromptTemplateLike);\n\tlet templateData;\n\tif (typeof message.content === \"string\") templateData = message.content;\n\telse templateData = message.content.map((item) => {\n\t\tif (\"text\" in item) return {\n\t\t\t...item,\n\t\t\ttext: item.text\n\t\t};\n\t\telse if (\"image_url\" in item) return {\n\t\t\t...item,\n\t\t\timage_url: item.image_url\n\t\t};\n\t\telse return item;\n\t});\n\tif (message._getType() === \"human\") return HumanMessagePromptTemplate.fromTemplate(templateData, extra);\n\telse if (message._getType() === \"ai\") return AIMessagePromptTemplate.fromTemplate(templateData, extra);\n\telse if (message._getType() === \"system\") return SystemMessagePromptTemplate.fromTemplate(templateData, extra);\n\telse if (_messages_chat_js__WEBPACK_IMPORTED_MODULE_2__.ChatMessage.isInstance(message)) return ChatMessagePromptTemplate.fromTemplate(message.content, message.role, extra);\n\telse throw new Error(`Could not coerce message prompt template from input. Received message type: \"${message._getType()}\".`);\n}\nfunction isMessagesPlaceholder(x) {\n\treturn x.constructor.lc_name() === \"MessagesPlaceholder\";\n}\n/**\n* Class that represents a chat prompt. It extends the\n* BaseChatPromptTemplate and uses an array of BaseMessagePromptTemplate\n* instances to format a series of messages for a conversation.\n* @example\n* ```typescript\n* const message = SystemMessagePromptTemplate.fromTemplate(\"{text}\");\n* const chatPrompt = ChatPromptTemplate.fromMessages([\n*   [\"ai\", \"You are a helpful assistant.\"],\n*   message,\n* ]);\n* const formattedChatPrompt = await chatPrompt.invoke({\n*   text: \"Hello world!\",\n* });\n* ```\n*/\nvar ChatPromptTemplate = class ChatPromptTemplate extends BaseChatPromptTemplate {\n\tstatic lc_name() {\n\t\treturn \"ChatPromptTemplate\";\n\t}\n\tget lc_aliases() {\n\t\treturn { promptMessages: \"messages\" };\n\t}\n\tpromptMessages;\n\tvalidateTemplate = true;\n\ttemplateFormat = \"f-string\";\n\tconstructor(input) {\n\t\tsuper(input);\n\t\tif (input.templateFormat === \"mustache\" && input.validateTemplate === void 0) this.validateTemplate = false;\n\t\tObject.assign(this, input);\n\t\tif (this.validateTemplate) {\n\t\t\tconst inputVariablesMessages = /* @__PURE__ */ new Set();\n\t\t\tfor (const promptMessage of this.promptMessages) {\n\t\t\t\tif (promptMessage instanceof _messages_base_js__WEBPACK_IMPORTED_MODULE_0__.BaseMessage) continue;\n\t\t\t\tfor (const inputVariable of promptMessage.inputVariables) inputVariablesMessages.add(inputVariable);\n\t\t\t}\n\t\t\tconst totalInputVariables = this.inputVariables;\n\t\t\tconst inputVariablesInstance = new Set(this.partialVariables ? totalInputVariables.concat(Object.keys(this.partialVariables)) : totalInputVariables);\n\t\t\tconst difference = new Set([...inputVariablesInstance].filter((x) => !inputVariablesMessages.has(x)));\n\t\t\tif (difference.size > 0) throw new Error(`Input variables \\`${[...difference]}\\` are not used in any of the prompt messages.`);\n\t\t\tconst otherDifference = new Set([...inputVariablesMessages].filter((x) => !inputVariablesInstance.has(x)));\n\t\t\tif (otherDifference.size > 0) throw new Error(`Input variables \\`${[...otherDifference]}\\` are used in prompt messages but not in the prompt template.`);\n\t\t}\n\t}\n\t_getPromptType() {\n\t\treturn \"chat\";\n\t}\n\tasync _parseImagePrompts(message, inputValues) {\n\t\tif (typeof message.content === \"string\") return message;\n\t\tconst formattedMessageContent = await Promise.all(message.content.map(async (item) => {\n\t\t\tif (item.type !== \"image_url\") return item;\n\t\t\tlet imageUrl = \"\";\n\t\t\tif (typeof item.image_url === \"string\") imageUrl = item.image_url;\n\t\t\telse if (typeof item.image_url === \"object\" && item.image_url !== null && \"url\" in item.image_url && typeof item.image_url.url === \"string\") imageUrl = item.image_url.url;\n\t\t\tconst promptTemplatePlaceholder = _prompt_js__WEBPACK_IMPORTED_MODULE_13__.PromptTemplate.fromTemplate(imageUrl, { templateFormat: this.templateFormat });\n\t\t\tconst formattedUrl = await promptTemplatePlaceholder.format(inputValues);\n\t\t\tif (typeof item.image_url === \"object\" && item.image_url !== null && \"url\" in item.image_url) item.image_url.url = formattedUrl;\n\t\t\telse item.image_url = formattedUrl;\n\t\t\treturn item;\n\t\t}));\n\t\tmessage.content = formattedMessageContent;\n\t\treturn message;\n\t}\n\tasync formatMessages(values) {\n\t\tconst allValues = await this.mergePartialAndUserVariables(values);\n\t\tlet resultMessages = [];\n\t\tfor (const promptMessage of this.promptMessages) if (promptMessage instanceof _messages_base_js__WEBPACK_IMPORTED_MODULE_0__.BaseMessage) resultMessages.push(await this._parseImagePrompts(promptMessage, allValues));\n\t\telse {\n\t\t\tlet inputValues;\n\t\t\tif (this.templateFormat === \"mustache\") inputValues = { ...allValues };\n\t\t\telse inputValues = promptMessage.inputVariables.reduce((acc, inputVariable) => {\n\t\t\t\tif (!(inputVariable in allValues) && !(isMessagesPlaceholder(promptMessage) && promptMessage.optional)) {\n\t\t\t\t\tconst error = (0,_errors_index_js__WEBPACK_IMPORTED_MODULE_1__.addLangChainErrorFields)(/* @__PURE__ */ new Error(`Missing value for input variable \\`${inputVariable.toString()}\\``), \"INVALID_PROMPT_INPUT\");\n\t\t\t\t\tthrow error;\n\t\t\t\t}\n\t\t\t\tacc[inputVariable] = allValues[inputVariable];\n\t\t\t\treturn acc;\n\t\t\t}, {});\n\t\t\tconst message = await promptMessage.formatMessages(inputValues);\n\t\t\tresultMessages = resultMessages.concat(message);\n\t\t}\n\t\treturn resultMessages;\n\t}\n\tasync partial(values) {\n\t\tconst newInputVariables = this.inputVariables.filter((iv) => !(iv in values));\n\t\tconst newPartialVariables = {\n\t\t\t...this.partialVariables ?? {},\n\t\t\t...values\n\t\t};\n\t\tconst promptDict = {\n\t\t\t...this,\n\t\t\tinputVariables: newInputVariables,\n\t\t\tpartialVariables: newPartialVariables\n\t\t};\n\t\treturn new ChatPromptTemplate(promptDict);\n\t}\n\tstatic fromTemplate(template, options) {\n\t\tconst prompt = _prompt_js__WEBPACK_IMPORTED_MODULE_13__.PromptTemplate.fromTemplate(template, options);\n\t\tconst humanTemplate = new HumanMessagePromptTemplate({ prompt });\n\t\treturn this.fromMessages([humanTemplate]);\n\t}\n\t/**\n\t* Create a chat model-specific prompt from individual chat messages\n\t* or message-like tuples.\n\t* @param promptMessages Messages to be passed to the chat model\n\t* @returns A new ChatPromptTemplate\n\t*/\n\tstatic fromMessages(promptMessages, extra) {\n\t\tconst flattenedMessages = promptMessages.reduce((acc, promptMessage) => acc.concat(promptMessage instanceof ChatPromptTemplate ? promptMessage.promptMessages : [_coerceMessagePromptTemplateLike(promptMessage, extra)]), []);\n\t\tconst flattenedPartialVariables = promptMessages.reduce((acc, promptMessage) => promptMessage instanceof ChatPromptTemplate ? Object.assign(acc, promptMessage.partialVariables) : acc, Object.create(null));\n\t\tconst inputVariables = /* @__PURE__ */ new Set();\n\t\tfor (const promptMessage of flattenedMessages) {\n\t\t\tif (promptMessage instanceof _messages_base_js__WEBPACK_IMPORTED_MODULE_0__.BaseMessage) continue;\n\t\t\tfor (const inputVariable of promptMessage.inputVariables) {\n\t\t\t\tif (inputVariable in flattenedPartialVariables) continue;\n\t\t\t\tinputVariables.add(inputVariable);\n\t\t\t}\n\t\t}\n\t\treturn new this({\n\t\t\t...extra,\n\t\t\tinputVariables: [...inputVariables],\n\t\t\tpromptMessages: flattenedMessages,\n\t\t\tpartialVariables: flattenedPartialVariables,\n\t\t\ttemplateFormat: extra?.templateFormat\n\t\t});\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=chat.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3Byb21wdHMvY2hhdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWlFO0FBQ0o7QUFDWDtBQUNFO0FBQ0U7QUFDWTtBQUNwQjtBQUNFO0FBQ2xCO0FBQ3dCO0FBQ1A7QUFDUTtBQUNLO0FBQ2Y7QUFDSTtBQUNGOztBQUUvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsd0RBQVE7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxrQkFBa0I7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCwwRUFBMEI7QUFDckYsNkJBQTZCLDhFQUEwQjtBQUN2RCxJQUFJO0FBQ0o7QUFDQTtBQUNBLGNBQWMsa0JBQWtCO0FBQ2hDLHVCQUF1QixjQUFjO0FBQ3JDLDJCQUEyQixVQUFVO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLHlEQUFrQjtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSw4REFBZTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSwwREFBVztBQUN4QjtBQUNBO0FBQ0Esa0JBQWtCLHVEQUFjLDBCQUEwQix5Q0FBeUM7QUFDbkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLFNBQVM7QUFDbEMsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELHVEQUFjO0FBQ2xFO0FBQ0EseUVBQXlFLHVEQUFjO0FBQ3ZGLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHVEQUFjO0FBQzdCLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFLDREQUFhO0FBQ3hGLDBCQUEwQiwyREFBWTtBQUN0QztBQUNBO0FBQ0EsNkdBQTZHLFVBQVUsVUFBVSxZQUFZO0FBQzdJO0FBQ0EsTUFBTTtBQUNOLG9CQUFvQjtBQUNwQiw0QkFBNEIsMkRBQW1CO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEtBQUs7QUFDTDtBQUNBO0FBQ0EsNEVBQTRFLDREQUFhO0FBQ3pGLDJCQUEyQiwyREFBWTtBQUN2QztBQUNBLE1BQU07QUFDTiw0QkFBNEIsMkRBQW1CO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEtBQUs7QUFDTDtBQUNBLElBQUksbURBQW1ELHlEQUFrQjtBQUN6RTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsNkJBQTZCLGlFQUF3QjtBQUNyRDtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSxRQUFRO0FBQ3pFO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsaUVBQXdCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLE1BQU0sMkJBQTJCLDJEQUFtQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixNQUFNLDJCQUEyQix5REFBa0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsS0FBSztBQUNqRSwyQ0FBMkMsc0JBQXNCO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyw0REFBWTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxzREFBUztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxLQUFLO0FBQ2xFLDJDQUEyQyxzQkFBc0I7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDhEQUFhO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSxnRUFBYTtBQUM3RTtBQUNBO0FBQ0Esc0hBQXNILHFDQUFxQztBQUMzSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixJQUFJLHVFQUF1RSxxREFBcUQ7QUFDaEk7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSw2REFBNkQsc0NBQXNDLEtBQUssNkJBQTZCLDRDQUE0Qyw0REFBNEQ7QUFDN087QUFDQSxpQkFBaUIsOEVBQTBCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQSxVQUFVLDBEQUFXO0FBQ3JCLHNHQUFzRyxtQkFBbUI7QUFDekg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsS0FBSztBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQywwREFBVztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFLGdCQUFnQjtBQUNqRjtBQUNBLHNFQUFzRSxxQkFBcUI7QUFDM0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLHVEQUFjLDBCQUEwQixxQ0FBcUM7QUFDbEg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0ZBQWdGLDBEQUFXO0FBQzNGO0FBQ0E7QUFDQSwyREFBMkQ7QUFDM0Q7QUFDQTtBQUNBLG1CQUFtQix5RUFBdUIsaUVBQWlFLHlCQUF5QjtBQUNwSTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksSUFBSTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsdURBQWM7QUFDL0IseURBQXlELFFBQVE7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsMERBQVc7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ29QO0FBQ3BQIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3Byb21wdHMvY2hhdC5qcz9jMTg4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhc2VNZXNzYWdlLCBpc0Jhc2VNZXNzYWdlIH0gZnJvbSBcIi4uL21lc3NhZ2VzL2Jhc2UuanNcIjtcbmltcG9ydCB7IGFkZExhbmdDaGFpbkVycm9yRmllbGRzIH0gZnJvbSBcIi4uL2Vycm9ycy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgQ2hhdE1lc3NhZ2UgfSBmcm9tIFwiLi4vbWVzc2FnZXMvY2hhdC5qc1wiO1xuaW1wb3J0IHsgSHVtYW5NZXNzYWdlIH0gZnJvbSBcIi4uL21lc3NhZ2VzL2h1bWFuLmpzXCI7XG5pbXBvcnQgeyBTeXN0ZW1NZXNzYWdlIH0gZnJvbSBcIi4uL21lc3NhZ2VzL3N5c3RlbS5qc1wiO1xuaW1wb3J0IHsgY29lcmNlTWVzc2FnZUxpa2VUb01lc3NhZ2UgfSBmcm9tIFwiLi4vbWVzc2FnZXMvdXRpbHMuanNcIjtcbmltcG9ydCB7IEFJTWVzc2FnZSB9IGZyb20gXCIuLi9tZXNzYWdlcy9haS5qc1wiO1xuaW1wb3J0IHsgUnVubmFibGUgfSBmcm9tIFwiLi4vcnVubmFibGVzL2Jhc2UuanNcIjtcbmltcG9ydCBcIi4uL21lc3NhZ2VzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBDaGF0UHJvbXB0VmFsdWUgfSBmcm9tIFwiLi4vcHJvbXB0X3ZhbHVlcy5qc1wiO1xuaW1wb3J0IHsgQmFzZVByb21wdFRlbXBsYXRlIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgQmFzZVN0cmluZ1Byb21wdFRlbXBsYXRlIH0gZnJvbSBcIi4vc3RyaW5nLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUZTdHJpbmcsIHBhcnNlTXVzdGFjaGUgfSBmcm9tIFwiLi90ZW1wbGF0ZS5qc1wiO1xuaW1wb3J0IHsgUHJvbXB0VGVtcGxhdGUgfSBmcm9tIFwiLi9wcm9tcHQuanNcIjtcbmltcG9ydCB7IEltYWdlUHJvbXB0VGVtcGxhdGUgfSBmcm9tIFwiLi9pbWFnZS5qc1wiO1xuaW1wb3J0IHsgRGljdFByb21wdFRlbXBsYXRlIH0gZnJvbSBcIi4vZGljdC5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3Byb21wdHMvY2hhdC50c1xuLyoqXG4qIEFic3RyYWN0IGNsYXNzIHRoYXQgc2VydmVzIGFzIGEgYmFzZSBmb3IgY3JlYXRpbmcgbWVzc2FnZSBwcm9tcHRcbiogdGVtcGxhdGVzLiBJdCBkZWZpbmVzIGhvdyB0byBmb3JtYXQgbWVzc2FnZXMgZm9yIGRpZmZlcmVudCByb2xlcyBpbiBhXG4qIGNvbnZlcnNhdGlvbi5cbiovXG52YXIgQmFzZU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSA9IGNsYXNzIGV4dGVuZHMgUnVubmFibGUge1xuXHRsY19uYW1lc3BhY2UgPSBbXG5cdFx0XCJsYW5nY2hhaW5fY29yZVwiLFxuXHRcdFwicHJvbXB0c1wiLFxuXHRcdFwiY2hhdFwiXG5cdF07XG5cdGxjX3NlcmlhbGl6YWJsZSA9IHRydWU7XG5cdC8qKlxuXHQqIENhbGxzIHRoZSBmb3JtYXRNZXNzYWdlcyBtZXRob2Qgd2l0aCB0aGUgcHJvdmlkZWQgaW5wdXQgYW5kIG9wdGlvbnMuXG5cdCogQHBhcmFtIGlucHV0IElucHV0IGZvciB0aGUgZm9ybWF0TWVzc2FnZXMgbWV0aG9kXG5cdCogQHBhcmFtIG9wdGlvbnMgT3B0aW9uYWwgQmFzZUNhbGxiYWNrQ29uZmlnXG5cdCogQHJldHVybnMgRm9ybWF0dGVkIG91dHB1dCBtZXNzYWdlc1xuXHQqL1xuXHRhc3luYyBpbnZva2UoaW5wdXQsIG9wdGlvbnMpIHtcblx0XHRyZXR1cm4gdGhpcy5fY2FsbFdpdGhDb25maWcoKGlucHV0JDEpID0+IHRoaXMuZm9ybWF0TWVzc2FnZXMoaW5wdXQkMSksIGlucHV0LCB7XG5cdFx0XHQuLi5vcHRpb25zLFxuXHRcdFx0cnVuVHlwZTogXCJwcm9tcHRcIlxuXHRcdH0pO1xuXHR9XG59O1xuLyoqXG4qIENsYXNzIHRoYXQgcmVwcmVzZW50cyBhIHBsYWNlaG9sZGVyIGZvciBtZXNzYWdlcyBpbiBhIGNoYXQgcHJvbXB0LiBJdFxuKiBleHRlbmRzIHRoZSBCYXNlTWVzc2FnZVByb21wdFRlbXBsYXRlLlxuKi9cbnZhciBNZXNzYWdlc1BsYWNlaG9sZGVyID0gY2xhc3MgZXh0ZW5kcyBCYXNlTWVzc2FnZVByb21wdFRlbXBsYXRlIHtcblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiTWVzc2FnZXNQbGFjZWhvbGRlclwiO1xuXHR9XG5cdHZhcmlhYmxlTmFtZTtcblx0b3B0aW9uYWw7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdGlmICh0eXBlb2YgZmllbGRzID09PSBcInN0cmluZ1wiKSBmaWVsZHMgPSB7IHZhcmlhYmxlTmFtZTogZmllbGRzIH07XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLnZhcmlhYmxlTmFtZSA9IGZpZWxkcy52YXJpYWJsZU5hbWU7XG5cdFx0dGhpcy5vcHRpb25hbCA9IGZpZWxkcy5vcHRpb25hbCA/PyBmYWxzZTtcblx0fVxuXHRnZXQgaW5wdXRWYXJpYWJsZXMoKSB7XG5cdFx0cmV0dXJuIFt0aGlzLnZhcmlhYmxlTmFtZV07XG5cdH1cblx0YXN5bmMgZm9ybWF0TWVzc2FnZXModmFsdWVzKSB7XG5cdFx0Y29uc3QgaW5wdXQgPSB2YWx1ZXNbdGhpcy52YXJpYWJsZU5hbWVdO1xuXHRcdGlmICh0aGlzLm9wdGlvbmFsICYmICFpbnB1dCkgcmV0dXJuIFtdO1xuXHRcdGVsc2UgaWYgKCFpbnB1dCkge1xuXHRcdFx0Y29uc3QgZXJyb3IgPSAvKiBAX19QVVJFX18gKi8gbmV3IEVycm9yKGBGaWVsZCBcIiR7dGhpcy52YXJpYWJsZU5hbWV9XCIgaW4gcHJvbXB0IHVzZXMgYSBNZXNzYWdlc1BsYWNlaG9sZGVyLCB3aGljaCBleHBlY3RzIGFuIGFycmF5IG9mIEJhc2VNZXNzYWdlcyBhcyBhbiBpbnB1dCB2YWx1ZS4gUmVjZWl2ZWQ6IHVuZGVmaW5lZGApO1xuXHRcdFx0ZXJyb3IubmFtZSA9IFwiSW5wdXRGb3JtYXRFcnJvclwiO1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXHRcdGxldCBmb3JtYXR0ZWRNZXNzYWdlcztcblx0XHR0cnkge1xuXHRcdFx0aWYgKEFycmF5LmlzQXJyYXkoaW5wdXQpKSBmb3JtYXR0ZWRNZXNzYWdlcyA9IGlucHV0Lm1hcChjb2VyY2VNZXNzYWdlTGlrZVRvTWVzc2FnZSk7XG5cdFx0XHRlbHNlIGZvcm1hdHRlZE1lc3NhZ2VzID0gW2NvZXJjZU1lc3NhZ2VMaWtlVG9NZXNzYWdlKGlucHV0KV07XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0Y29uc3QgcmVhZGFibGVJbnB1dCA9IHR5cGVvZiBpbnB1dCA9PT0gXCJzdHJpbmdcIiA/IGlucHV0IDogSlNPTi5zdHJpbmdpZnkoaW5wdXQsIG51bGwsIDIpO1xuXHRcdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoW1xuXHRcdFx0XHRgRmllbGQgXCIke3RoaXMudmFyaWFibGVOYW1lfVwiIGluIHByb21wdCB1c2VzIGEgTWVzc2FnZXNQbGFjZWhvbGRlciwgd2hpY2ggZXhwZWN0cyBhbiBhcnJheSBvZiBCYXNlTWVzc2FnZXMgb3IgY29lcmNlYWJsZSB2YWx1ZXMgYXMgaW5wdXQuYCxcblx0XHRcdFx0YFJlY2VpdmVkIHZhbHVlOiAke3JlYWRhYmxlSW5wdXR9YCxcblx0XHRcdFx0YEFkZGl0aW9uYWwgbWVzc2FnZTogJHtlLm1lc3NhZ2V9YFxuXHRcdFx0XS5qb2luKFwiXFxuXFxuXCIpKTtcblx0XHRcdGVycm9yLm5hbWUgPSBcIklucHV0Rm9ybWF0RXJyb3JcIjtcblx0XHRcdGVycm9yLmxjX2Vycm9yX2NvZGUgPSBlLmxjX2Vycm9yX2NvZGU7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cdFx0cmV0dXJuIGZvcm1hdHRlZE1lc3NhZ2VzO1xuXHR9XG59O1xuLyoqXG4qIEFic3RyYWN0IGNsYXNzIHRoYXQgc2VydmVzIGFzIGEgYmFzZSBmb3IgY3JlYXRpbmcgbWVzc2FnZSBzdHJpbmcgcHJvbXB0XG4qIHRlbXBsYXRlcy4gSXQgZXh0ZW5kcyB0aGUgQmFzZU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZS5cbiovXG52YXIgQmFzZU1lc3NhZ2VTdHJpbmdQcm9tcHRUZW1wbGF0ZSA9IGNsYXNzIGV4dGVuZHMgQmFzZU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSB7XG5cdHByb21wdDtcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0aWYgKCEoXCJwcm9tcHRcIiBpbiBmaWVsZHMpKSBmaWVsZHMgPSB7IHByb21wdDogZmllbGRzIH07XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLnByb21wdCA9IGZpZWxkcy5wcm9tcHQ7XG5cdH1cblx0Z2V0IGlucHV0VmFyaWFibGVzKCkge1xuXHRcdHJldHVybiB0aGlzLnByb21wdC5pbnB1dFZhcmlhYmxlcztcblx0fVxuXHRhc3luYyBmb3JtYXRNZXNzYWdlcyh2YWx1ZXMpIHtcblx0XHRyZXR1cm4gW2F3YWl0IHRoaXMuZm9ybWF0KHZhbHVlcyldO1xuXHR9XG59O1xuLyoqXG4qIEFic3RyYWN0IGNsYXNzIHRoYXQgc2VydmVzIGFzIGEgYmFzZSBmb3IgY3JlYXRpbmcgY2hhdCBwcm9tcHRcbiogdGVtcGxhdGVzLiBJdCBleHRlbmRzIHRoZSBCYXNlUHJvbXB0VGVtcGxhdGUuXG4qL1xudmFyIEJhc2VDaGF0UHJvbXB0VGVtcGxhdGUgPSBjbGFzcyBleHRlbmRzIEJhc2VQcm9tcHRUZW1wbGF0ZSB7XG5cdGNvbnN0cnVjdG9yKGlucHV0KSB7XG5cdFx0c3VwZXIoaW5wdXQpO1xuXHR9XG5cdGFzeW5jIGZvcm1hdCh2YWx1ZXMpIHtcblx0XHRyZXR1cm4gKGF3YWl0IHRoaXMuZm9ybWF0UHJvbXB0VmFsdWUodmFsdWVzKSkudG9TdHJpbmcoKTtcblx0fVxuXHRhc3luYyBmb3JtYXRQcm9tcHRWYWx1ZSh2YWx1ZXMpIHtcblx0XHRjb25zdCByZXN1bHRNZXNzYWdlcyA9IGF3YWl0IHRoaXMuZm9ybWF0TWVzc2FnZXModmFsdWVzKTtcblx0XHRyZXR1cm4gbmV3IENoYXRQcm9tcHRWYWx1ZShyZXN1bHRNZXNzYWdlcyk7XG5cdH1cbn07XG4vKipcbiogQ2xhc3MgdGhhdCByZXByZXNlbnRzIGEgY2hhdCBtZXNzYWdlIHByb21wdCB0ZW1wbGF0ZS4gSXQgZXh0ZW5kcyB0aGVcbiogQmFzZU1lc3NhZ2VTdHJpbmdQcm9tcHRUZW1wbGF0ZS5cbiovXG52YXIgQ2hhdE1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSA9IGNsYXNzIGV4dGVuZHMgQmFzZU1lc3NhZ2VTdHJpbmdQcm9tcHRUZW1wbGF0ZSB7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIkNoYXRNZXNzYWdlUHJvbXB0VGVtcGxhdGVcIjtcblx0fVxuXHRyb2xlO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMsIHJvbGUpIHtcblx0XHRpZiAoIShcInByb21wdFwiIGluIGZpZWxkcykpIGZpZWxkcyA9IHtcblx0XHRcdHByb21wdDogZmllbGRzLFxuXHRcdFx0cm9sZVxuXHRcdH07XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLnJvbGUgPSBmaWVsZHMucm9sZTtcblx0fVxuXHRhc3luYyBmb3JtYXQodmFsdWVzKSB7XG5cdFx0cmV0dXJuIG5ldyBDaGF0TWVzc2FnZShhd2FpdCB0aGlzLnByb21wdC5mb3JtYXQodmFsdWVzKSwgdGhpcy5yb2xlKTtcblx0fVxuXHRzdGF0aWMgZnJvbVRlbXBsYXRlKHRlbXBsYXRlLCByb2xlLCBvcHRpb25zKSB7XG5cdFx0cmV0dXJuIG5ldyB0aGlzKFByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZSh0ZW1wbGF0ZSwgeyB0ZW1wbGF0ZUZvcm1hdDogb3B0aW9ucz8udGVtcGxhdGVGb3JtYXQgfSksIHJvbGUpO1xuXHR9XG59O1xuZnVuY3Rpb24gaXNUZXh0VGVtcGxhdGVQYXJhbShwYXJhbSkge1xuXHRpZiAocGFyYW0gPT09IG51bGwgfHwgdHlwZW9mIHBhcmFtICE9PSBcIm9iamVjdFwiIHx8IEFycmF5LmlzQXJyYXkocGFyYW0pKSByZXR1cm4gZmFsc2U7XG5cdHJldHVybiBPYmplY3Qua2V5cyhwYXJhbSkubGVuZ3RoID09PSAxICYmIFwidGV4dFwiIGluIHBhcmFtICYmIHR5cGVvZiBwYXJhbS50ZXh0ID09PSBcInN0cmluZ1wiO1xufVxuZnVuY3Rpb24gaXNJbWFnZVRlbXBsYXRlUGFyYW0ocGFyYW0pIHtcblx0aWYgKHBhcmFtID09PSBudWxsIHx8IHR5cGVvZiBwYXJhbSAhPT0gXCJvYmplY3RcIiB8fCBBcnJheS5pc0FycmF5KHBhcmFtKSkgcmV0dXJuIGZhbHNlO1xuXHRyZXR1cm4gXCJpbWFnZV91cmxcIiBpbiBwYXJhbSAmJiAodHlwZW9mIHBhcmFtLmltYWdlX3VybCA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgcGFyYW0uaW1hZ2VfdXJsID09PSBcIm9iamVjdFwiICYmIHBhcmFtLmltYWdlX3VybCAhPT0gbnVsbCAmJiBcInVybFwiIGluIHBhcmFtLmltYWdlX3VybCAmJiB0eXBlb2YgcGFyYW0uaW1hZ2VfdXJsLnVybCA9PT0gXCJzdHJpbmdcIik7XG59XG52YXIgX1N0cmluZ0ltYWdlTWVzc2FnZVByb21wdFRlbXBsYXRlID0gY2xhc3MgZXh0ZW5kcyBCYXNlTWVzc2FnZVByb21wdFRlbXBsYXRlIHtcblx0bGNfbmFtZXNwYWNlID0gW1xuXHRcdFwibGFuZ2NoYWluX2NvcmVcIixcblx0XHRcInByb21wdHNcIixcblx0XHRcImNoYXRcIlxuXHRdO1xuXHRsY19zZXJpYWxpemFibGUgPSB0cnVlO1xuXHRpbnB1dFZhcmlhYmxlcyA9IFtdO1xuXHRhZGRpdGlvbmFsT3B0aW9ucyA9IHt9O1xuXHRwcm9tcHQ7XG5cdG1lc3NhZ2VDbGFzcztcblx0c3RhdGljIF9tZXNzYWdlQ2xhc3MoKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiQ2FuIG5vdCBpbnZva2UgX21lc3NhZ2VDbGFzcyBmcm9tIGluc2lkZSBfU3RyaW5nSW1hZ2VNZXNzYWdlUHJvbXB0VGVtcGxhdGVcIik7XG5cdH1cblx0Y2hhdE1lc3NhZ2VDbGFzcztcblx0Y29uc3RydWN0b3IoZmllbGRzLCBhZGRpdGlvbmFsT3B0aW9ucykge1xuXHRcdGlmICghKFwicHJvbXB0XCIgaW4gZmllbGRzKSkgZmllbGRzID0geyBwcm9tcHQ6IGZpZWxkcyB9O1xuXHRcdHN1cGVyKGZpZWxkcyk7XG5cdFx0dGhpcy5wcm9tcHQgPSBmaWVsZHMucHJvbXB0O1xuXHRcdGlmIChBcnJheS5pc0FycmF5KHRoaXMucHJvbXB0KSkge1xuXHRcdFx0bGV0IGlucHV0VmFyaWFibGVzID0gW107XG5cdFx0XHR0aGlzLnByb21wdC5mb3JFYWNoKChwcm9tcHQpID0+IHtcblx0XHRcdFx0aWYgKFwiaW5wdXRWYXJpYWJsZXNcIiBpbiBwcm9tcHQpIGlucHV0VmFyaWFibGVzID0gaW5wdXRWYXJpYWJsZXMuY29uY2F0KHByb21wdC5pbnB1dFZhcmlhYmxlcyk7XG5cdFx0XHR9KTtcblx0XHRcdHRoaXMuaW5wdXRWYXJpYWJsZXMgPSBpbnB1dFZhcmlhYmxlcztcblx0XHR9IGVsc2UgdGhpcy5pbnB1dFZhcmlhYmxlcyA9IHRoaXMucHJvbXB0LmlucHV0VmFyaWFibGVzO1xuXHRcdHRoaXMuYWRkaXRpb25hbE9wdGlvbnMgPSBhZGRpdGlvbmFsT3B0aW9ucyA/PyB0aGlzLmFkZGl0aW9uYWxPcHRpb25zO1xuXHR9XG5cdGNyZWF0ZU1lc3NhZ2UoY29udGVudCkge1xuXHRcdGNvbnN0IGNvbnN0cnVjdG9yID0gdGhpcy5jb25zdHJ1Y3Rvcjtcblx0XHRpZiAoY29uc3RydWN0b3IuX21lc3NhZ2VDbGFzcygpKSB7XG5cdFx0XHRjb25zdCBNc2dDbGFzcyA9IGNvbnN0cnVjdG9yLl9tZXNzYWdlQ2xhc3MoKTtcblx0XHRcdHJldHVybiBuZXcgTXNnQ2xhc3MoeyBjb250ZW50IH0pO1xuXHRcdH0gZWxzZSBpZiAoY29uc3RydWN0b3IuY2hhdE1lc3NhZ2VDbGFzcykge1xuXHRcdFx0Y29uc3QgTXNnQ2xhc3MgPSBjb25zdHJ1Y3Rvci5jaGF0TWVzc2FnZUNsYXNzKCk7XG5cdFx0XHRyZXR1cm4gbmV3IE1zZ0NsYXNzKHtcblx0XHRcdFx0Y29udGVudCxcblx0XHRcdFx0cm9sZTogdGhpcy5nZXRSb2xlRnJvbU1lc3NhZ2VDbGFzcyhNc2dDbGFzcy5sY19uYW1lKCkpXG5cdFx0XHR9KTtcblx0XHR9IGVsc2UgdGhyb3cgbmV3IEVycm9yKFwiTm8gbWVzc2FnZSBjbGFzcyBkZWZpbmVkXCIpO1xuXHR9XG5cdGdldFJvbGVGcm9tTWVzc2FnZUNsYXNzKG5hbWUpIHtcblx0XHRzd2l0Y2ggKG5hbWUpIHtcblx0XHRcdGNhc2UgXCJIdW1hbk1lc3NhZ2VcIjogcmV0dXJuIFwiaHVtYW5cIjtcblx0XHRcdGNhc2UgXCJBSU1lc3NhZ2VcIjogcmV0dXJuIFwiYWlcIjtcblx0XHRcdGNhc2UgXCJTeXN0ZW1NZXNzYWdlXCI6IHJldHVybiBcInN5c3RlbVwiO1xuXHRcdFx0Y2FzZSBcIkNoYXRNZXNzYWdlXCI6IHJldHVybiBcImNoYXRcIjtcblx0XHRcdGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgbWVzc2FnZSBjbGFzcyBuYW1lXCIpO1xuXHRcdH1cblx0fVxuXHRzdGF0aWMgZnJvbVRlbXBsYXRlKHRlbXBsYXRlLCBhZGRpdGlvbmFsT3B0aW9ucykge1xuXHRcdGlmICh0eXBlb2YgdGVtcGxhdGUgPT09IFwic3RyaW5nXCIpIHJldHVybiBuZXcgdGhpcyhQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUodGVtcGxhdGUsIGFkZGl0aW9uYWxPcHRpb25zKSk7XG5cdFx0Y29uc3QgcHJvbXB0ID0gW107XG5cdFx0Zm9yIChjb25zdCBpdGVtIG9mIHRlbXBsYXRlKSBpZiAodHlwZW9mIGl0ZW0gPT09IFwic3RyaW5nXCIpIHByb21wdC5wdXNoKFByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZShpdGVtLCBhZGRpdGlvbmFsT3B0aW9ucykpO1xuXHRcdGVsc2UgaWYgKGl0ZW0gPT09IG51bGwpIHt9IGVsc2UgaWYgKGlzVGV4dFRlbXBsYXRlUGFyYW0oaXRlbSkpIHtcblx0XHRcdGxldCB0ZXh0ID0gXCJcIjtcblx0XHRcdGlmICh0eXBlb2YgaXRlbS50ZXh0ID09PSBcInN0cmluZ1wiKSB0ZXh0ID0gaXRlbS50ZXh0ID8/IFwiXCI7XG5cdFx0XHRjb25zdCBvcHRpb25zID0ge1xuXHRcdFx0XHQuLi5hZGRpdGlvbmFsT3B0aW9ucyxcblx0XHRcdFx0YWRkaXRpb25hbENvbnRlbnRGaWVsZHM6IGl0ZW1cblx0XHRcdH07XG5cdFx0XHRwcm9tcHQucHVzaChQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUodGV4dCwgb3B0aW9ucykpO1xuXHRcdH0gZWxzZSBpZiAoaXNJbWFnZVRlbXBsYXRlUGFyYW0oaXRlbSkpIHtcblx0XHRcdGxldCBpbWdUZW1wbGF0ZSA9IGl0ZW0uaW1hZ2VfdXJsID8/IFwiXCI7XG5cdFx0XHRsZXQgaW1nVGVtcGxhdGVPYmplY3Q7XG5cdFx0XHRsZXQgaW5wdXRWYXJpYWJsZXMgPSBbXTtcblx0XHRcdGlmICh0eXBlb2YgaW1nVGVtcGxhdGUgPT09IFwic3RyaW5nXCIpIHtcblx0XHRcdFx0bGV0IHBhcnNlZFRlbXBsYXRlO1xuXHRcdFx0XHRpZiAoYWRkaXRpb25hbE9wdGlvbnM/LnRlbXBsYXRlRm9ybWF0ID09PSBcIm11c3RhY2hlXCIpIHBhcnNlZFRlbXBsYXRlID0gcGFyc2VNdXN0YWNoZShpbWdUZW1wbGF0ZSk7XG5cdFx0XHRcdGVsc2UgcGFyc2VkVGVtcGxhdGUgPSBwYXJzZUZTdHJpbmcoaW1nVGVtcGxhdGUpO1xuXHRcdFx0XHRjb25zdCB2YXJpYWJsZXMgPSBwYXJzZWRUZW1wbGF0ZS5mbGF0TWFwKChpdGVtJDEpID0+IGl0ZW0kMS50eXBlID09PSBcInZhcmlhYmxlXCIgPyBbaXRlbSQxLm5hbWVdIDogW10pO1xuXHRcdFx0XHRpZiAoKHZhcmlhYmxlcz8ubGVuZ3RoID8/IDApID4gMCkge1xuXHRcdFx0XHRcdGlmICh2YXJpYWJsZXMubGVuZ3RoID4gMSkgdGhyb3cgbmV3IEVycm9yKGBPbmx5IG9uZSBmb3JtYXQgdmFyaWFibGUgYWxsb3dlZCBwZXIgaW1hZ2UgdGVtcGxhdGUuXFxuR290OiAke3ZhcmlhYmxlc31cXG5Gcm9tOiAke2ltZ1RlbXBsYXRlfWApO1xuXHRcdFx0XHRcdGlucHV0VmFyaWFibGVzID0gW3ZhcmlhYmxlc1swXV07XG5cdFx0XHRcdH0gZWxzZSBpbnB1dFZhcmlhYmxlcyA9IFtdO1xuXHRcdFx0XHRpbWdUZW1wbGF0ZSA9IHsgdXJsOiBpbWdUZW1wbGF0ZSB9O1xuXHRcdFx0XHRpbWdUZW1wbGF0ZU9iamVjdCA9IG5ldyBJbWFnZVByb21wdFRlbXBsYXRlKHtcblx0XHRcdFx0XHR0ZW1wbGF0ZTogaW1nVGVtcGxhdGUsXG5cdFx0XHRcdFx0aW5wdXRWYXJpYWJsZXMsXG5cdFx0XHRcdFx0dGVtcGxhdGVGb3JtYXQ6IGFkZGl0aW9uYWxPcHRpb25zPy50ZW1wbGF0ZUZvcm1hdCxcblx0XHRcdFx0XHRhZGRpdGlvbmFsQ29udGVudEZpZWxkczogaXRlbVxuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIGltZ1RlbXBsYXRlID09PSBcIm9iamVjdFwiKSB7XG5cdFx0XHRcdGlmIChcInVybFwiIGluIGltZ1RlbXBsYXRlKSB7XG5cdFx0XHRcdFx0bGV0IHBhcnNlZFRlbXBsYXRlO1xuXHRcdFx0XHRcdGlmIChhZGRpdGlvbmFsT3B0aW9ucz8udGVtcGxhdGVGb3JtYXQgPT09IFwibXVzdGFjaGVcIikgcGFyc2VkVGVtcGxhdGUgPSBwYXJzZU11c3RhY2hlKGltZ1RlbXBsYXRlLnVybCk7XG5cdFx0XHRcdFx0ZWxzZSBwYXJzZWRUZW1wbGF0ZSA9IHBhcnNlRlN0cmluZyhpbWdUZW1wbGF0ZS51cmwpO1xuXHRcdFx0XHRcdGlucHV0VmFyaWFibGVzID0gcGFyc2VkVGVtcGxhdGUuZmxhdE1hcCgoaXRlbSQxKSA9PiBpdGVtJDEudHlwZSA9PT0gXCJ2YXJpYWJsZVwiID8gW2l0ZW0kMS5uYW1lXSA6IFtdKTtcblx0XHRcdFx0fSBlbHNlIGlucHV0VmFyaWFibGVzID0gW107XG5cdFx0XHRcdGltZ1RlbXBsYXRlT2JqZWN0ID0gbmV3IEltYWdlUHJvbXB0VGVtcGxhdGUoe1xuXHRcdFx0XHRcdHRlbXBsYXRlOiBpbWdUZW1wbGF0ZSxcblx0XHRcdFx0XHRpbnB1dFZhcmlhYmxlcyxcblx0XHRcdFx0XHR0ZW1wbGF0ZUZvcm1hdDogYWRkaXRpb25hbE9wdGlvbnM/LnRlbXBsYXRlRm9ybWF0LFxuXHRcdFx0XHRcdGFkZGl0aW9uYWxDb250ZW50RmllbGRzOiBpdGVtXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaW1hZ2UgdGVtcGxhdGVcIik7XG5cdFx0XHRwcm9tcHQucHVzaChpbWdUZW1wbGF0ZU9iamVjdCk7XG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgaXRlbSA9PT0gXCJvYmplY3RcIikgcHJvbXB0LnB1c2gobmV3IERpY3RQcm9tcHRUZW1wbGF0ZSh7XG5cdFx0XHR0ZW1wbGF0ZTogaXRlbSxcblx0XHRcdHRlbXBsYXRlRm9ybWF0OiBhZGRpdGlvbmFsT3B0aW9ucz8udGVtcGxhdGVGb3JtYXRcblx0XHR9KSk7XG5cdFx0cmV0dXJuIG5ldyB0aGlzKHtcblx0XHRcdHByb21wdCxcblx0XHRcdGFkZGl0aW9uYWxPcHRpb25zXG5cdFx0fSk7XG5cdH1cblx0YXN5bmMgZm9ybWF0KGlucHV0KSB7XG5cdFx0aWYgKHRoaXMucHJvbXB0IGluc3RhbmNlb2YgQmFzZVN0cmluZ1Byb21wdFRlbXBsYXRlKSB7XG5cdFx0XHRjb25zdCB0ZXh0ID0gYXdhaXQgdGhpcy5wcm9tcHQuZm9ybWF0KGlucHV0KTtcblx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZU1lc3NhZ2UodGV4dCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnN0IGNvbnRlbnQgPSBbXTtcblx0XHRcdGZvciAoY29uc3QgcHJvbXB0IG9mIHRoaXMucHJvbXB0KSB7XG5cdFx0XHRcdGxldCBpbnB1dHMgPSB7fTtcblx0XHRcdFx0aWYgKCEoXCJpbnB1dFZhcmlhYmxlc1wiIGluIHByb21wdCkpIHRocm93IG5ldyBFcnJvcihgUHJvbXB0ICR7cHJvbXB0fSBkb2VzIG5vdCBoYXZlIGlucHV0VmFyaWFibGVzIGRlZmluZWQuYCk7XG5cdFx0XHRcdGZvciAoY29uc3QgaXRlbSBvZiBwcm9tcHQuaW5wdXRWYXJpYWJsZXMpIHtcblx0XHRcdFx0XHRpZiAoIWlucHV0cykgaW5wdXRzID0geyBbaXRlbV06IGlucHV0W2l0ZW1dIH07XG5cdFx0XHRcdFx0aW5wdXRzID0ge1xuXHRcdFx0XHRcdFx0Li4uaW5wdXRzLFxuXHRcdFx0XHRcdFx0W2l0ZW1dOiBpbnB1dFtpdGVtXVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHByb21wdCBpbnN0YW5jZW9mIEJhc2VTdHJpbmdQcm9tcHRUZW1wbGF0ZSkge1xuXHRcdFx0XHRcdGNvbnN0IGZvcm1hdHRlZCA9IGF3YWl0IHByb21wdC5mb3JtYXQoaW5wdXRzKTtcblx0XHRcdFx0XHRsZXQgYWRkaXRpb25hbENvbnRlbnRGaWVsZHM7XG5cdFx0XHRcdFx0aWYgKFwiYWRkaXRpb25hbENvbnRlbnRGaWVsZHNcIiBpbiBwcm9tcHQpIGFkZGl0aW9uYWxDb250ZW50RmllbGRzID0gcHJvbXB0LmFkZGl0aW9uYWxDb250ZW50RmllbGRzO1xuXHRcdFx0XHRcdGlmIChmb3JtYXR0ZWQgIT09IFwiXCIpIGNvbnRlbnQucHVzaCh7XG5cdFx0XHRcdFx0XHQuLi5hZGRpdGlvbmFsQ29udGVudEZpZWxkcyxcblx0XHRcdFx0XHRcdHR5cGU6IFwidGV4dFwiLFxuXHRcdFx0XHRcdFx0dGV4dDogZm9ybWF0dGVkXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0gZWxzZSBpZiAocHJvbXB0IGluc3RhbmNlb2YgSW1hZ2VQcm9tcHRUZW1wbGF0ZSkge1xuXHRcdFx0XHRcdGNvbnN0IGZvcm1hdHRlZCA9IGF3YWl0IHByb21wdC5mb3JtYXQoaW5wdXRzKTtcblx0XHRcdFx0XHRsZXQgYWRkaXRpb25hbENvbnRlbnRGaWVsZHM7XG5cdFx0XHRcdFx0aWYgKFwiYWRkaXRpb25hbENvbnRlbnRGaWVsZHNcIiBpbiBwcm9tcHQpIGFkZGl0aW9uYWxDb250ZW50RmllbGRzID0gcHJvbXB0LmFkZGl0aW9uYWxDb250ZW50RmllbGRzO1xuXHRcdFx0XHRcdGNvbnRlbnQucHVzaCh7XG5cdFx0XHRcdFx0XHQuLi5hZGRpdGlvbmFsQ29udGVudEZpZWxkcyxcblx0XHRcdFx0XHRcdHR5cGU6IFwiaW1hZ2VfdXJsXCIsXG5cdFx0XHRcdFx0XHRpbWFnZV91cmw6IGZvcm1hdHRlZFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHByb21wdCBpbnN0YW5jZW9mIERpY3RQcm9tcHRUZW1wbGF0ZSkge1xuXHRcdFx0XHRcdGNvbnN0IGZvcm1hdHRlZCA9IGF3YWl0IHByb21wdC5mb3JtYXQoaW5wdXRzKTtcblx0XHRcdFx0XHRsZXQgYWRkaXRpb25hbENvbnRlbnRGaWVsZHM7XG5cdFx0XHRcdFx0aWYgKFwiYWRkaXRpb25hbENvbnRlbnRGaWVsZHNcIiBpbiBwcm9tcHQpIGFkZGl0aW9uYWxDb250ZW50RmllbGRzID0gcHJvbXB0LmFkZGl0aW9uYWxDb250ZW50RmllbGRzO1xuXHRcdFx0XHRcdGNvbnRlbnQucHVzaCh7XG5cdFx0XHRcdFx0XHQuLi5hZGRpdGlvbmFsQ29udGVudEZpZWxkcyxcblx0XHRcdFx0XHRcdC4uLmZvcm1hdHRlZFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcy5jcmVhdGVNZXNzYWdlKGNvbnRlbnQpO1xuXHRcdH1cblx0fVxuXHRhc3luYyBmb3JtYXRNZXNzYWdlcyh2YWx1ZXMpIHtcblx0XHRyZXR1cm4gW2F3YWl0IHRoaXMuZm9ybWF0KHZhbHVlcyldO1xuXHR9XG59O1xuLyoqXG4qIENsYXNzIHRoYXQgcmVwcmVzZW50cyBhIGh1bWFuIG1lc3NhZ2UgcHJvbXB0IHRlbXBsYXRlLiBJdCBleHRlbmRzIHRoZVxuKiBCYXNlTWVzc2FnZVN0cmluZ1Byb21wdFRlbXBsYXRlLlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIGNvbnN0IG1lc3NhZ2UgPSBIdW1hbk1lc3NhZ2VQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUoXCJ7dGV4dH1cIik7XG4qIGNvbnN0IGZvcm1hdHRlZCA9IGF3YWl0IG1lc3NhZ2UuZm9ybWF0KHsgdGV4dDogXCJIZWxsbyB3b3JsZCFcIiB9KTtcbipcbiogY29uc3QgY2hhdFByb21wdCA9IENoYXRQcm9tcHRUZW1wbGF0ZS5mcm9tTWVzc2FnZXMoW21lc3NhZ2VdKTtcbiogY29uc3QgZm9ybWF0dGVkQ2hhdFByb21wdCA9IGF3YWl0IGNoYXRQcm9tcHQuaW52b2tlKHtcbiogICB0ZXh0OiBcIkhlbGxvIHdvcmxkIVwiLFxuKiB9KTtcbiogYGBgXG4qL1xudmFyIEh1bWFuTWVzc2FnZVByb21wdFRlbXBsYXRlID0gY2xhc3MgZXh0ZW5kcyBfU3RyaW5nSW1hZ2VNZXNzYWdlUHJvbXB0VGVtcGxhdGUge1xuXHRzdGF0aWMgX21lc3NhZ2VDbGFzcygpIHtcblx0XHRyZXR1cm4gSHVtYW5NZXNzYWdlO1xuXHR9XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIkh1bWFuTWVzc2FnZVByb21wdFRlbXBsYXRlXCI7XG5cdH1cbn07XG4vKipcbiogQ2xhc3MgdGhhdCByZXByZXNlbnRzIGFuIEFJIG1lc3NhZ2UgcHJvbXB0IHRlbXBsYXRlLiBJdCBleHRlbmRzIHRoZVxuKiBCYXNlTWVzc2FnZVN0cmluZ1Byb21wdFRlbXBsYXRlLlxuKi9cbnZhciBBSU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSA9IGNsYXNzIGV4dGVuZHMgX1N0cmluZ0ltYWdlTWVzc2FnZVByb21wdFRlbXBsYXRlIHtcblx0c3RhdGljIF9tZXNzYWdlQ2xhc3MoKSB7XG5cdFx0cmV0dXJuIEFJTWVzc2FnZTtcblx0fVxuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJBSU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZVwiO1xuXHR9XG59O1xuLyoqXG4qIENsYXNzIHRoYXQgcmVwcmVzZW50cyBhIHN5c3RlbSBtZXNzYWdlIHByb21wdCB0ZW1wbGF0ZS4gSXQgZXh0ZW5kcyB0aGVcbiogQmFzZU1lc3NhZ2VTdHJpbmdQcm9tcHRUZW1wbGF0ZS5cbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBtZXNzYWdlID0gU3lzdGVtTWVzc2FnZVByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZShcInt0ZXh0fVwiKTtcbiogY29uc3QgZm9ybWF0dGVkID0gYXdhaXQgbWVzc2FnZS5mb3JtYXQoeyB0ZXh0OiBcIkhlbGxvIHdvcmxkIVwiIH0pO1xuKlxuKiBjb25zdCBjaGF0UHJvbXB0ID0gQ2hhdFByb21wdFRlbXBsYXRlLmZyb21NZXNzYWdlcyhbbWVzc2FnZV0pO1xuKiBjb25zdCBmb3JtYXR0ZWRDaGF0UHJvbXB0ID0gYXdhaXQgY2hhdFByb21wdC5pbnZva2Uoe1xuKiAgIHRleHQ6IFwiSGVsbG8gd29ybGQhXCIsXG4qIH0pO1xuKiBgYGBcbiovXG52YXIgU3lzdGVtTWVzc2FnZVByb21wdFRlbXBsYXRlID0gY2xhc3MgZXh0ZW5kcyBfU3RyaW5nSW1hZ2VNZXNzYWdlUHJvbXB0VGVtcGxhdGUge1xuXHRzdGF0aWMgX21lc3NhZ2VDbGFzcygpIHtcblx0XHRyZXR1cm4gU3lzdGVtTWVzc2FnZTtcblx0fVxuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJTeXN0ZW1NZXNzYWdlUHJvbXB0VGVtcGxhdGVcIjtcblx0fVxufTtcbmZ1bmN0aW9uIF9pc0Jhc2VNZXNzYWdlUHJvbXB0VGVtcGxhdGUoYmFzZU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZUxpa2UpIHtcblx0cmV0dXJuIHR5cGVvZiBiYXNlTWVzc2FnZVByb21wdFRlbXBsYXRlTGlrZS5mb3JtYXRNZXNzYWdlcyA9PT0gXCJmdW5jdGlvblwiO1xufVxuZnVuY3Rpb24gX2NvZXJjZU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZUxpa2UobWVzc2FnZVByb21wdFRlbXBsYXRlTGlrZSwgZXh0cmEpIHtcblx0aWYgKF9pc0Jhc2VNZXNzYWdlUHJvbXB0VGVtcGxhdGUobWVzc2FnZVByb21wdFRlbXBsYXRlTGlrZSkgfHwgaXNCYXNlTWVzc2FnZShtZXNzYWdlUHJvbXB0VGVtcGxhdGVMaWtlKSkgcmV0dXJuIG1lc3NhZ2VQcm9tcHRUZW1wbGF0ZUxpa2U7XG5cdGlmIChBcnJheS5pc0FycmF5KG1lc3NhZ2VQcm9tcHRUZW1wbGF0ZUxpa2UpICYmIG1lc3NhZ2VQcm9tcHRUZW1wbGF0ZUxpa2VbMF0gPT09IFwicGxhY2Vob2xkZXJcIikge1xuXHRcdGNvbnN0IG1lc3NhZ2VDb250ZW50ID0gbWVzc2FnZVByb21wdFRlbXBsYXRlTGlrZVsxXTtcblx0XHRpZiAoZXh0cmE/LnRlbXBsYXRlRm9ybWF0ID09PSBcIm11c3RhY2hlXCIgJiYgdHlwZW9mIG1lc3NhZ2VDb250ZW50ID09PSBcInN0cmluZ1wiICYmIG1lc3NhZ2VDb250ZW50LnNsaWNlKDAsIDIpID09PSBcInt7XCIgJiYgbWVzc2FnZUNvbnRlbnQuc2xpY2UoLTIpID09PSBcIn19XCIpIHtcblx0XHRcdGNvbnN0IHZhcmlhYmxlTmFtZSA9IG1lc3NhZ2VDb250ZW50LnNsaWNlKDIsIC0yKTtcblx0XHRcdHJldHVybiBuZXcgTWVzc2FnZXNQbGFjZWhvbGRlcih7XG5cdFx0XHRcdHZhcmlhYmxlTmFtZSxcblx0XHRcdFx0b3B0aW9uYWw6IHRydWVcblx0XHRcdH0pO1xuXHRcdH0gZWxzZSBpZiAodHlwZW9mIG1lc3NhZ2VDb250ZW50ID09PSBcInN0cmluZ1wiICYmIG1lc3NhZ2VDb250ZW50WzBdID09PSBcIntcIiAmJiBtZXNzYWdlQ29udGVudFttZXNzYWdlQ29udGVudC5sZW5ndGggLSAxXSA9PT0gXCJ9XCIpIHtcblx0XHRcdGNvbnN0IHZhcmlhYmxlTmFtZSA9IG1lc3NhZ2VDb250ZW50LnNsaWNlKDEsIC0xKTtcblx0XHRcdHJldHVybiBuZXcgTWVzc2FnZXNQbGFjZWhvbGRlcih7XG5cdFx0XHRcdHZhcmlhYmxlTmFtZSxcblx0XHRcdFx0b3B0aW9uYWw6IHRydWVcblx0XHRcdH0pO1xuXHRcdH1cblx0XHR0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgcGxhY2Vob2xkZXIgdGVtcGxhdGUgZm9yIGZvcm1hdCAke2V4dHJhPy50ZW1wbGF0ZUZvcm1hdCA/PyBgXCJmLXN0cmluZ1wiYH06IFwiJHttZXNzYWdlUHJvbXB0VGVtcGxhdGVMaWtlWzFdfVwiLiBFeHBlY3RlZCBhIHZhcmlhYmxlIG5hbWUgc3Vycm91bmRlZCBieSAke2V4dHJhPy50ZW1wbGF0ZUZvcm1hdCA9PT0gXCJtdXN0YWNoZVwiID8gXCJkb3VibGVcIiA6IFwic2luZ2xlXCJ9IGN1cmx5IGJyYWNlcy5gKTtcblx0fVxuXHRjb25zdCBtZXNzYWdlID0gY29lcmNlTWVzc2FnZUxpa2VUb01lc3NhZ2UobWVzc2FnZVByb21wdFRlbXBsYXRlTGlrZSk7XG5cdGxldCB0ZW1wbGF0ZURhdGE7XG5cdGlmICh0eXBlb2YgbWVzc2FnZS5jb250ZW50ID09PSBcInN0cmluZ1wiKSB0ZW1wbGF0ZURhdGEgPSBtZXNzYWdlLmNvbnRlbnQ7XG5cdGVsc2UgdGVtcGxhdGVEYXRhID0gbWVzc2FnZS5jb250ZW50Lm1hcCgoaXRlbSkgPT4ge1xuXHRcdGlmIChcInRleHRcIiBpbiBpdGVtKSByZXR1cm4ge1xuXHRcdFx0Li4uaXRlbSxcblx0XHRcdHRleHQ6IGl0ZW0udGV4dFxuXHRcdH07XG5cdFx0ZWxzZSBpZiAoXCJpbWFnZV91cmxcIiBpbiBpdGVtKSByZXR1cm4ge1xuXHRcdFx0Li4uaXRlbSxcblx0XHRcdGltYWdlX3VybDogaXRlbS5pbWFnZV91cmxcblx0XHR9O1xuXHRcdGVsc2UgcmV0dXJuIGl0ZW07XG5cdH0pO1xuXHRpZiAobWVzc2FnZS5fZ2V0VHlwZSgpID09PSBcImh1bWFuXCIpIHJldHVybiBIdW1hbk1lc3NhZ2VQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUodGVtcGxhdGVEYXRhLCBleHRyYSk7XG5cdGVsc2UgaWYgKG1lc3NhZ2UuX2dldFR5cGUoKSA9PT0gXCJhaVwiKSByZXR1cm4gQUlNZXNzYWdlUHJvbXB0VGVtcGxhdGUuZnJvbVRlbXBsYXRlKHRlbXBsYXRlRGF0YSwgZXh0cmEpO1xuXHRlbHNlIGlmIChtZXNzYWdlLl9nZXRUeXBlKCkgPT09IFwic3lzdGVtXCIpIHJldHVybiBTeXN0ZW1NZXNzYWdlUHJvbXB0VGVtcGxhdGUuZnJvbVRlbXBsYXRlKHRlbXBsYXRlRGF0YSwgZXh0cmEpO1xuXHRlbHNlIGlmIChDaGF0TWVzc2FnZS5pc0luc3RhbmNlKG1lc3NhZ2UpKSByZXR1cm4gQ2hhdE1lc3NhZ2VQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUobWVzc2FnZS5jb250ZW50LCBtZXNzYWdlLnJvbGUsIGV4dHJhKTtcblx0ZWxzZSB0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBjb2VyY2UgbWVzc2FnZSBwcm9tcHQgdGVtcGxhdGUgZnJvbSBpbnB1dC4gUmVjZWl2ZWQgbWVzc2FnZSB0eXBlOiBcIiR7bWVzc2FnZS5fZ2V0VHlwZSgpfVwiLmApO1xufVxuZnVuY3Rpb24gaXNNZXNzYWdlc1BsYWNlaG9sZGVyKHgpIHtcblx0cmV0dXJuIHguY29uc3RydWN0b3IubGNfbmFtZSgpID09PSBcIk1lc3NhZ2VzUGxhY2Vob2xkZXJcIjtcbn1cbi8qKlxuKiBDbGFzcyB0aGF0IHJlcHJlc2VudHMgYSBjaGF0IHByb21wdC4gSXQgZXh0ZW5kcyB0aGVcbiogQmFzZUNoYXRQcm9tcHRUZW1wbGF0ZSBhbmQgdXNlcyBhbiBhcnJheSBvZiBCYXNlTWVzc2FnZVByb21wdFRlbXBsYXRlXG4qIGluc3RhbmNlcyB0byBmb3JtYXQgYSBzZXJpZXMgb2YgbWVzc2FnZXMgZm9yIGEgY29udmVyc2F0aW9uLlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIGNvbnN0IG1lc3NhZ2UgPSBTeXN0ZW1NZXNzYWdlUHJvbXB0VGVtcGxhdGUuZnJvbVRlbXBsYXRlKFwie3RleHR9XCIpO1xuKiBjb25zdCBjaGF0UHJvbXB0ID0gQ2hhdFByb21wdFRlbXBsYXRlLmZyb21NZXNzYWdlcyhbXG4qICAgW1wiYWlcIiwgXCJZb3UgYXJlIGEgaGVscGZ1bCBhc3Npc3RhbnQuXCJdLFxuKiAgIG1lc3NhZ2UsXG4qIF0pO1xuKiBjb25zdCBmb3JtYXR0ZWRDaGF0UHJvbXB0ID0gYXdhaXQgY2hhdFByb21wdC5pbnZva2Uoe1xuKiAgIHRleHQ6IFwiSGVsbG8gd29ybGQhXCIsXG4qIH0pO1xuKiBgYGBcbiovXG52YXIgQ2hhdFByb21wdFRlbXBsYXRlID0gY2xhc3MgQ2hhdFByb21wdFRlbXBsYXRlIGV4dGVuZHMgQmFzZUNoYXRQcm9tcHRUZW1wbGF0ZSB7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIkNoYXRQcm9tcHRUZW1wbGF0ZVwiO1xuXHR9XG5cdGdldCBsY19hbGlhc2VzKCkge1xuXHRcdHJldHVybiB7IHByb21wdE1lc3NhZ2VzOiBcIm1lc3NhZ2VzXCIgfTtcblx0fVxuXHRwcm9tcHRNZXNzYWdlcztcblx0dmFsaWRhdGVUZW1wbGF0ZSA9IHRydWU7XG5cdHRlbXBsYXRlRm9ybWF0ID0gXCJmLXN0cmluZ1wiO1xuXHRjb25zdHJ1Y3RvcihpbnB1dCkge1xuXHRcdHN1cGVyKGlucHV0KTtcblx0XHRpZiAoaW5wdXQudGVtcGxhdGVGb3JtYXQgPT09IFwibXVzdGFjaGVcIiAmJiBpbnB1dC52YWxpZGF0ZVRlbXBsYXRlID09PSB2b2lkIDApIHRoaXMudmFsaWRhdGVUZW1wbGF0ZSA9IGZhbHNlO1xuXHRcdE9iamVjdC5hc3NpZ24odGhpcywgaW5wdXQpO1xuXHRcdGlmICh0aGlzLnZhbGlkYXRlVGVtcGxhdGUpIHtcblx0XHRcdGNvbnN0IGlucHV0VmFyaWFibGVzTWVzc2FnZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuXHRcdFx0Zm9yIChjb25zdCBwcm9tcHRNZXNzYWdlIG9mIHRoaXMucHJvbXB0TWVzc2FnZXMpIHtcblx0XHRcdFx0aWYgKHByb21wdE1lc3NhZ2UgaW5zdGFuY2VvZiBCYXNlTWVzc2FnZSkgY29udGludWU7XG5cdFx0XHRcdGZvciAoY29uc3QgaW5wdXRWYXJpYWJsZSBvZiBwcm9tcHRNZXNzYWdlLmlucHV0VmFyaWFibGVzKSBpbnB1dFZhcmlhYmxlc01lc3NhZ2VzLmFkZChpbnB1dFZhcmlhYmxlKTtcblx0XHRcdH1cblx0XHRcdGNvbnN0IHRvdGFsSW5wdXRWYXJpYWJsZXMgPSB0aGlzLmlucHV0VmFyaWFibGVzO1xuXHRcdFx0Y29uc3QgaW5wdXRWYXJpYWJsZXNJbnN0YW5jZSA9IG5ldyBTZXQodGhpcy5wYXJ0aWFsVmFyaWFibGVzID8gdG90YWxJbnB1dFZhcmlhYmxlcy5jb25jYXQoT2JqZWN0LmtleXModGhpcy5wYXJ0aWFsVmFyaWFibGVzKSkgOiB0b3RhbElucHV0VmFyaWFibGVzKTtcblx0XHRcdGNvbnN0IGRpZmZlcmVuY2UgPSBuZXcgU2V0KFsuLi5pbnB1dFZhcmlhYmxlc0luc3RhbmNlXS5maWx0ZXIoKHgpID0+ICFpbnB1dFZhcmlhYmxlc01lc3NhZ2VzLmhhcyh4KSkpO1xuXHRcdFx0aWYgKGRpZmZlcmVuY2Uuc2l6ZSA+IDApIHRocm93IG5ldyBFcnJvcihgSW5wdXQgdmFyaWFibGVzIFxcYCR7Wy4uLmRpZmZlcmVuY2VdfVxcYCBhcmUgbm90IHVzZWQgaW4gYW55IG9mIHRoZSBwcm9tcHQgbWVzc2FnZXMuYCk7XG5cdFx0XHRjb25zdCBvdGhlckRpZmZlcmVuY2UgPSBuZXcgU2V0KFsuLi5pbnB1dFZhcmlhYmxlc01lc3NhZ2VzXS5maWx0ZXIoKHgpID0+ICFpbnB1dFZhcmlhYmxlc0luc3RhbmNlLmhhcyh4KSkpO1xuXHRcdFx0aWYgKG90aGVyRGlmZmVyZW5jZS5zaXplID4gMCkgdGhyb3cgbmV3IEVycm9yKGBJbnB1dCB2YXJpYWJsZXMgXFxgJHtbLi4ub3RoZXJEaWZmZXJlbmNlXX1cXGAgYXJlIHVzZWQgaW4gcHJvbXB0IG1lc3NhZ2VzIGJ1dCBub3QgaW4gdGhlIHByb21wdCB0ZW1wbGF0ZS5gKTtcblx0XHR9XG5cdH1cblx0X2dldFByb21wdFR5cGUoKSB7XG5cdFx0cmV0dXJuIFwiY2hhdFwiO1xuXHR9XG5cdGFzeW5jIF9wYXJzZUltYWdlUHJvbXB0cyhtZXNzYWdlLCBpbnB1dFZhbHVlcykge1xuXHRcdGlmICh0eXBlb2YgbWVzc2FnZS5jb250ZW50ID09PSBcInN0cmluZ1wiKSByZXR1cm4gbWVzc2FnZTtcblx0XHRjb25zdCBmb3JtYXR0ZWRNZXNzYWdlQ29udGVudCA9IGF3YWl0IFByb21pc2UuYWxsKG1lc3NhZ2UuY29udGVudC5tYXAoYXN5bmMgKGl0ZW0pID0+IHtcblx0XHRcdGlmIChpdGVtLnR5cGUgIT09IFwiaW1hZ2VfdXJsXCIpIHJldHVybiBpdGVtO1xuXHRcdFx0bGV0IGltYWdlVXJsID0gXCJcIjtcblx0XHRcdGlmICh0eXBlb2YgaXRlbS5pbWFnZV91cmwgPT09IFwic3RyaW5nXCIpIGltYWdlVXJsID0gaXRlbS5pbWFnZV91cmw7XG5cdFx0XHRlbHNlIGlmICh0eXBlb2YgaXRlbS5pbWFnZV91cmwgPT09IFwib2JqZWN0XCIgJiYgaXRlbS5pbWFnZV91cmwgIT09IG51bGwgJiYgXCJ1cmxcIiBpbiBpdGVtLmltYWdlX3VybCAmJiB0eXBlb2YgaXRlbS5pbWFnZV91cmwudXJsID09PSBcInN0cmluZ1wiKSBpbWFnZVVybCA9IGl0ZW0uaW1hZ2VfdXJsLnVybDtcblx0XHRcdGNvbnN0IHByb21wdFRlbXBsYXRlUGxhY2Vob2xkZXIgPSBQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUoaW1hZ2VVcmwsIHsgdGVtcGxhdGVGb3JtYXQ6IHRoaXMudGVtcGxhdGVGb3JtYXQgfSk7XG5cdFx0XHRjb25zdCBmb3JtYXR0ZWRVcmwgPSBhd2FpdCBwcm9tcHRUZW1wbGF0ZVBsYWNlaG9sZGVyLmZvcm1hdChpbnB1dFZhbHVlcyk7XG5cdFx0XHRpZiAodHlwZW9mIGl0ZW0uaW1hZ2VfdXJsID09PSBcIm9iamVjdFwiICYmIGl0ZW0uaW1hZ2VfdXJsICE9PSBudWxsICYmIFwidXJsXCIgaW4gaXRlbS5pbWFnZV91cmwpIGl0ZW0uaW1hZ2VfdXJsLnVybCA9IGZvcm1hdHRlZFVybDtcblx0XHRcdGVsc2UgaXRlbS5pbWFnZV91cmwgPSBmb3JtYXR0ZWRVcmw7XG5cdFx0XHRyZXR1cm4gaXRlbTtcblx0XHR9KSk7XG5cdFx0bWVzc2FnZS5jb250ZW50ID0gZm9ybWF0dGVkTWVzc2FnZUNvbnRlbnQ7XG5cdFx0cmV0dXJuIG1lc3NhZ2U7XG5cdH1cblx0YXN5bmMgZm9ybWF0TWVzc2FnZXModmFsdWVzKSB7XG5cdFx0Y29uc3QgYWxsVmFsdWVzID0gYXdhaXQgdGhpcy5tZXJnZVBhcnRpYWxBbmRVc2VyVmFyaWFibGVzKHZhbHVlcyk7XG5cdFx0bGV0IHJlc3VsdE1lc3NhZ2VzID0gW107XG5cdFx0Zm9yIChjb25zdCBwcm9tcHRNZXNzYWdlIG9mIHRoaXMucHJvbXB0TWVzc2FnZXMpIGlmIChwcm9tcHRNZXNzYWdlIGluc3RhbmNlb2YgQmFzZU1lc3NhZ2UpIHJlc3VsdE1lc3NhZ2VzLnB1c2goYXdhaXQgdGhpcy5fcGFyc2VJbWFnZVByb21wdHMocHJvbXB0TWVzc2FnZSwgYWxsVmFsdWVzKSk7XG5cdFx0ZWxzZSB7XG5cdFx0XHRsZXQgaW5wdXRWYWx1ZXM7XG5cdFx0XHRpZiAodGhpcy50ZW1wbGF0ZUZvcm1hdCA9PT0gXCJtdXN0YWNoZVwiKSBpbnB1dFZhbHVlcyA9IHsgLi4uYWxsVmFsdWVzIH07XG5cdFx0XHRlbHNlIGlucHV0VmFsdWVzID0gcHJvbXB0TWVzc2FnZS5pbnB1dFZhcmlhYmxlcy5yZWR1Y2UoKGFjYywgaW5wdXRWYXJpYWJsZSkgPT4ge1xuXHRcdFx0XHRpZiAoIShpbnB1dFZhcmlhYmxlIGluIGFsbFZhbHVlcykgJiYgIShpc01lc3NhZ2VzUGxhY2Vob2xkZXIocHJvbXB0TWVzc2FnZSkgJiYgcHJvbXB0TWVzc2FnZS5vcHRpb25hbCkpIHtcblx0XHRcdFx0XHRjb25zdCBlcnJvciA9IGFkZExhbmdDaGFpbkVycm9yRmllbGRzKC8qIEBfX1BVUkVfXyAqLyBuZXcgRXJyb3IoYE1pc3NpbmcgdmFsdWUgZm9yIGlucHV0IHZhcmlhYmxlIFxcYCR7aW5wdXRWYXJpYWJsZS50b1N0cmluZygpfVxcYGApLCBcIklOVkFMSURfUFJPTVBUX0lOUFVUXCIpO1xuXHRcdFx0XHRcdHRocm93IGVycm9yO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGFjY1tpbnB1dFZhcmlhYmxlXSA9IGFsbFZhbHVlc1tpbnB1dFZhcmlhYmxlXTtcblx0XHRcdFx0cmV0dXJuIGFjYztcblx0XHRcdH0sIHt9KTtcblx0XHRcdGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCBwcm9tcHRNZXNzYWdlLmZvcm1hdE1lc3NhZ2VzKGlucHV0VmFsdWVzKTtcblx0XHRcdHJlc3VsdE1lc3NhZ2VzID0gcmVzdWx0TWVzc2FnZXMuY29uY2F0KG1lc3NhZ2UpO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0TWVzc2FnZXM7XG5cdH1cblx0YXN5bmMgcGFydGlhbCh2YWx1ZXMpIHtcblx0XHRjb25zdCBuZXdJbnB1dFZhcmlhYmxlcyA9IHRoaXMuaW5wdXRWYXJpYWJsZXMuZmlsdGVyKChpdikgPT4gIShpdiBpbiB2YWx1ZXMpKTtcblx0XHRjb25zdCBuZXdQYXJ0aWFsVmFyaWFibGVzID0ge1xuXHRcdFx0Li4udGhpcy5wYXJ0aWFsVmFyaWFibGVzID8/IHt9LFxuXHRcdFx0Li4udmFsdWVzXG5cdFx0fTtcblx0XHRjb25zdCBwcm9tcHREaWN0ID0ge1xuXHRcdFx0Li4udGhpcyxcblx0XHRcdGlucHV0VmFyaWFibGVzOiBuZXdJbnB1dFZhcmlhYmxlcyxcblx0XHRcdHBhcnRpYWxWYXJpYWJsZXM6IG5ld1BhcnRpYWxWYXJpYWJsZXNcblx0XHR9O1xuXHRcdHJldHVybiBuZXcgQ2hhdFByb21wdFRlbXBsYXRlKHByb21wdERpY3QpO1xuXHR9XG5cdHN0YXRpYyBmcm9tVGVtcGxhdGUodGVtcGxhdGUsIG9wdGlvbnMpIHtcblx0XHRjb25zdCBwcm9tcHQgPSBQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUodGVtcGxhdGUsIG9wdGlvbnMpO1xuXHRcdGNvbnN0IGh1bWFuVGVtcGxhdGUgPSBuZXcgSHVtYW5NZXNzYWdlUHJvbXB0VGVtcGxhdGUoeyBwcm9tcHQgfSk7XG5cdFx0cmV0dXJuIHRoaXMuZnJvbU1lc3NhZ2VzKFtodW1hblRlbXBsYXRlXSk7XG5cdH1cblx0LyoqXG5cdCogQ3JlYXRlIGEgY2hhdCBtb2RlbC1zcGVjaWZpYyBwcm9tcHQgZnJvbSBpbmRpdmlkdWFsIGNoYXQgbWVzc2FnZXNcblx0KiBvciBtZXNzYWdlLWxpa2UgdHVwbGVzLlxuXHQqIEBwYXJhbSBwcm9tcHRNZXNzYWdlcyBNZXNzYWdlcyB0byBiZSBwYXNzZWQgdG8gdGhlIGNoYXQgbW9kZWxcblx0KiBAcmV0dXJucyBBIG5ldyBDaGF0UHJvbXB0VGVtcGxhdGVcblx0Ki9cblx0c3RhdGljIGZyb21NZXNzYWdlcyhwcm9tcHRNZXNzYWdlcywgZXh0cmEpIHtcblx0XHRjb25zdCBmbGF0dGVuZWRNZXNzYWdlcyA9IHByb21wdE1lc3NhZ2VzLnJlZHVjZSgoYWNjLCBwcm9tcHRNZXNzYWdlKSA9PiBhY2MuY29uY2F0KHByb21wdE1lc3NhZ2UgaW5zdGFuY2VvZiBDaGF0UHJvbXB0VGVtcGxhdGUgPyBwcm9tcHRNZXNzYWdlLnByb21wdE1lc3NhZ2VzIDogW19jb2VyY2VNZXNzYWdlUHJvbXB0VGVtcGxhdGVMaWtlKHByb21wdE1lc3NhZ2UsIGV4dHJhKV0pLCBbXSk7XG5cdFx0Y29uc3QgZmxhdHRlbmVkUGFydGlhbFZhcmlhYmxlcyA9IHByb21wdE1lc3NhZ2VzLnJlZHVjZSgoYWNjLCBwcm9tcHRNZXNzYWdlKSA9PiBwcm9tcHRNZXNzYWdlIGluc3RhbmNlb2YgQ2hhdFByb21wdFRlbXBsYXRlID8gT2JqZWN0LmFzc2lnbihhY2MsIHByb21wdE1lc3NhZ2UucGFydGlhbFZhcmlhYmxlcykgOiBhY2MsIE9iamVjdC5jcmVhdGUobnVsbCkpO1xuXHRcdGNvbnN0IGlucHV0VmFyaWFibGVzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcblx0XHRmb3IgKGNvbnN0IHByb21wdE1lc3NhZ2Ugb2YgZmxhdHRlbmVkTWVzc2FnZXMpIHtcblx0XHRcdGlmIChwcm9tcHRNZXNzYWdlIGluc3RhbmNlb2YgQmFzZU1lc3NhZ2UpIGNvbnRpbnVlO1xuXHRcdFx0Zm9yIChjb25zdCBpbnB1dFZhcmlhYmxlIG9mIHByb21wdE1lc3NhZ2UuaW5wdXRWYXJpYWJsZXMpIHtcblx0XHRcdFx0aWYgKGlucHV0VmFyaWFibGUgaW4gZmxhdHRlbmVkUGFydGlhbFZhcmlhYmxlcykgY29udGludWU7XG5cdFx0XHRcdGlucHV0VmFyaWFibGVzLmFkZChpbnB1dFZhcmlhYmxlKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG5ldyB0aGlzKHtcblx0XHRcdC4uLmV4dHJhLFxuXHRcdFx0aW5wdXRWYXJpYWJsZXM6IFsuLi5pbnB1dFZhcmlhYmxlc10sXG5cdFx0XHRwcm9tcHRNZXNzYWdlczogZmxhdHRlbmVkTWVzc2FnZXMsXG5cdFx0XHRwYXJ0aWFsVmFyaWFibGVzOiBmbGF0dGVuZWRQYXJ0aWFsVmFyaWFibGVzLFxuXHRcdFx0dGVtcGxhdGVGb3JtYXQ6IGV4dHJhPy50ZW1wbGF0ZUZvcm1hdFxuXHRcdH0pO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEFJTWVzc2FnZVByb21wdFRlbXBsYXRlLCBCYXNlQ2hhdFByb21wdFRlbXBsYXRlLCBCYXNlTWVzc2FnZVByb21wdFRlbXBsYXRlLCBCYXNlTWVzc2FnZVN0cmluZ1Byb21wdFRlbXBsYXRlLCBDaGF0TWVzc2FnZVByb21wdFRlbXBsYXRlLCBDaGF0UHJvbXB0VGVtcGxhdGUsIEh1bWFuTWVzc2FnZVByb21wdFRlbXBsYXRlLCBNZXNzYWdlc1BsYWNlaG9sZGVyLCBTeXN0ZW1NZXNzYWdlUHJvbXB0VGVtcGxhdGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoYXQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/chat.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/dict.js":
/*!******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/dict.js ***!
  \******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DictPromptTemplate: () => (/* binding */ DictPromptTemplate)\n/* harmony export */ });\n/* harmony import */ var _runnables_base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../runnables/base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/base.js\");\n/* harmony import */ var _template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./template.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/template.js\");\n\n\n\n//#region src/prompts/dict.ts\nvar DictPromptTemplate = class extends _runnables_base_js__WEBPACK_IMPORTED_MODULE_0__.Runnable {\n\tlc_namespace = [\n\t\t\"langchain_core\",\n\t\t\"prompts\",\n\t\t\"dict\"\n\t];\n\tlc_serializable = true;\n\ttemplate;\n\ttemplateFormat;\n\tinputVariables;\n\tstatic lc_name() {\n\t\treturn \"DictPromptTemplate\";\n\t}\n\tconstructor(fields) {\n\t\tconst templateFormat = fields.templateFormat ?? \"f-string\";\n\t\tconst inputVariables = _getInputVariables(fields.template, templateFormat);\n\t\tsuper({\n\t\t\tinputVariables,\n\t\t\t...fields\n\t\t});\n\t\tthis.template = fields.template;\n\t\tthis.templateFormat = templateFormat;\n\t\tthis.inputVariables = inputVariables;\n\t}\n\tasync format(values) {\n\t\treturn _insertInputVariables(this.template, values, this.templateFormat);\n\t}\n\tasync invoke(values) {\n\t\treturn await this._callWithConfig(this.format.bind(this), values, { runType: \"prompt\" });\n\t}\n};\nfunction _getInputVariables(template, templateFormat) {\n\tconst inputVariables = [];\n\tfor (const v of Object.values(template)) if (typeof v === \"string\") (0,_template_js__WEBPACK_IMPORTED_MODULE_1__.parseTemplate)(v, templateFormat).forEach((t) => {\n\t\tif (t.type === \"variable\") inputVariables.push(t.name);\n\t});\n\telse if (Array.isArray(v)) {\n\t\tfor (const x of v) if (typeof x === \"string\") (0,_template_js__WEBPACK_IMPORTED_MODULE_1__.parseTemplate)(x, templateFormat).forEach((t) => {\n\t\t\tif (t.type === \"variable\") inputVariables.push(t.name);\n\t\t});\n\t\telse if (typeof x === \"object\") inputVariables.push(..._getInputVariables(x, templateFormat));\n\t} else if (typeof v === \"object\" && v !== null) inputVariables.push(..._getInputVariables(v, templateFormat));\n\treturn Array.from(new Set(inputVariables));\n}\nfunction _insertInputVariables(template, inputs, templateFormat) {\n\tconst formatted = {};\n\tfor (const [k, v] of Object.entries(template)) if (typeof v === \"string\") formatted[k] = (0,_template_js__WEBPACK_IMPORTED_MODULE_1__.renderTemplate)(v, templateFormat, inputs);\n\telse if (Array.isArray(v)) {\n\t\tconst formattedV = [];\n\t\tfor (const x of v) if (typeof x === \"string\") formattedV.push((0,_template_js__WEBPACK_IMPORTED_MODULE_1__.renderTemplate)(x, templateFormat, inputs));\n\t\telse if (typeof x === \"object\") formattedV.push(_insertInputVariables(x, inputs, templateFormat));\n\t\tformatted[k] = formattedV;\n\t} else if (typeof v === \"object\" && v !== null) formatted[k] = _insertInputVariables(v, inputs, templateFormat);\n\telse formatted[k] = v;\n\treturn formatted;\n}\n\n//#endregion\n\n//# sourceMappingURL=dict.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3Byb21wdHMvZGljdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0Q7QUFDYzs7QUFFOUQ7QUFDQSx1Q0FBdUMsd0RBQVE7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0UsbUJBQW1CO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFLDJEQUFhO0FBQ2xGO0FBQ0EsRUFBRTtBQUNGO0FBQ0EsZ0RBQWdELDJEQUFhO0FBQzdEO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEZBQTBGLDREQUFjO0FBQ3hHO0FBQ0E7QUFDQSxnRUFBZ0UsNERBQWM7QUFDOUU7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDOEI7QUFDOUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvcHJvbXB0cy9kaWN0LmpzPzIzM2MiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUnVubmFibGUgfSBmcm9tIFwiLi4vcnVubmFibGVzL2Jhc2UuanNcIjtcbmltcG9ydCB7IHBhcnNlVGVtcGxhdGUsIHJlbmRlclRlbXBsYXRlIH0gZnJvbSBcIi4vdGVtcGxhdGUuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9wcm9tcHRzL2RpY3QudHNcbnZhciBEaWN0UHJvbXB0VGVtcGxhdGUgPSBjbGFzcyBleHRlbmRzIFJ1bm5hYmxlIHtcblx0bGNfbmFtZXNwYWNlID0gW1xuXHRcdFwibGFuZ2NoYWluX2NvcmVcIixcblx0XHRcInByb21wdHNcIixcblx0XHRcImRpY3RcIlxuXHRdO1xuXHRsY19zZXJpYWxpemFibGUgPSB0cnVlO1xuXHR0ZW1wbGF0ZTtcblx0dGVtcGxhdGVGb3JtYXQ7XG5cdGlucHV0VmFyaWFibGVzO1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJEaWN0UHJvbXB0VGVtcGxhdGVcIjtcblx0fVxuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRjb25zdCB0ZW1wbGF0ZUZvcm1hdCA9IGZpZWxkcy50ZW1wbGF0ZUZvcm1hdCA/PyBcImYtc3RyaW5nXCI7XG5cdFx0Y29uc3QgaW5wdXRWYXJpYWJsZXMgPSBfZ2V0SW5wdXRWYXJpYWJsZXMoZmllbGRzLnRlbXBsYXRlLCB0ZW1wbGF0ZUZvcm1hdCk7XG5cdFx0c3VwZXIoe1xuXHRcdFx0aW5wdXRWYXJpYWJsZXMsXG5cdFx0XHQuLi5maWVsZHNcblx0XHR9KTtcblx0XHR0aGlzLnRlbXBsYXRlID0gZmllbGRzLnRlbXBsYXRlO1xuXHRcdHRoaXMudGVtcGxhdGVGb3JtYXQgPSB0ZW1wbGF0ZUZvcm1hdDtcblx0XHR0aGlzLmlucHV0VmFyaWFibGVzID0gaW5wdXRWYXJpYWJsZXM7XG5cdH1cblx0YXN5bmMgZm9ybWF0KHZhbHVlcykge1xuXHRcdHJldHVybiBfaW5zZXJ0SW5wdXRWYXJpYWJsZXModGhpcy50ZW1wbGF0ZSwgdmFsdWVzLCB0aGlzLnRlbXBsYXRlRm9ybWF0KTtcblx0fVxuXHRhc3luYyBpbnZva2UodmFsdWVzKSB7XG5cdFx0cmV0dXJuIGF3YWl0IHRoaXMuX2NhbGxXaXRoQ29uZmlnKHRoaXMuZm9ybWF0LmJpbmQodGhpcyksIHZhbHVlcywgeyBydW5UeXBlOiBcInByb21wdFwiIH0pO1xuXHR9XG59O1xuZnVuY3Rpb24gX2dldElucHV0VmFyaWFibGVzKHRlbXBsYXRlLCB0ZW1wbGF0ZUZvcm1hdCkge1xuXHRjb25zdCBpbnB1dFZhcmlhYmxlcyA9IFtdO1xuXHRmb3IgKGNvbnN0IHYgb2YgT2JqZWN0LnZhbHVlcyh0ZW1wbGF0ZSkpIGlmICh0eXBlb2YgdiA9PT0gXCJzdHJpbmdcIikgcGFyc2VUZW1wbGF0ZSh2LCB0ZW1wbGF0ZUZvcm1hdCkuZm9yRWFjaCgodCkgPT4ge1xuXHRcdGlmICh0LnR5cGUgPT09IFwidmFyaWFibGVcIikgaW5wdXRWYXJpYWJsZXMucHVzaCh0Lm5hbWUpO1xuXHR9KTtcblx0ZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2KSkge1xuXHRcdGZvciAoY29uc3QgeCBvZiB2KSBpZiAodHlwZW9mIHggPT09IFwic3RyaW5nXCIpIHBhcnNlVGVtcGxhdGUoeCwgdGVtcGxhdGVGb3JtYXQpLmZvckVhY2goKHQpID0+IHtcblx0XHRcdGlmICh0LnR5cGUgPT09IFwidmFyaWFibGVcIikgaW5wdXRWYXJpYWJsZXMucHVzaCh0Lm5hbWUpO1xuXHRcdH0pO1xuXHRcdGVsc2UgaWYgKHR5cGVvZiB4ID09PSBcIm9iamVjdFwiKSBpbnB1dFZhcmlhYmxlcy5wdXNoKC4uLl9nZXRJbnB1dFZhcmlhYmxlcyh4LCB0ZW1wbGF0ZUZvcm1hdCkpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiB2ID09PSBcIm9iamVjdFwiICYmIHYgIT09IG51bGwpIGlucHV0VmFyaWFibGVzLnB1c2goLi4uX2dldElucHV0VmFyaWFibGVzKHYsIHRlbXBsYXRlRm9ybWF0KSk7XG5cdHJldHVybiBBcnJheS5mcm9tKG5ldyBTZXQoaW5wdXRWYXJpYWJsZXMpKTtcbn1cbmZ1bmN0aW9uIF9pbnNlcnRJbnB1dFZhcmlhYmxlcyh0ZW1wbGF0ZSwgaW5wdXRzLCB0ZW1wbGF0ZUZvcm1hdCkge1xuXHRjb25zdCBmb3JtYXR0ZWQgPSB7fTtcblx0Zm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXModGVtcGxhdGUpKSBpZiAodHlwZW9mIHYgPT09IFwic3RyaW5nXCIpIGZvcm1hdHRlZFtrXSA9IHJlbmRlclRlbXBsYXRlKHYsIHRlbXBsYXRlRm9ybWF0LCBpbnB1dHMpO1xuXHRlbHNlIGlmIChBcnJheS5pc0FycmF5KHYpKSB7XG5cdFx0Y29uc3QgZm9ybWF0dGVkViA9IFtdO1xuXHRcdGZvciAoY29uc3QgeCBvZiB2KSBpZiAodHlwZW9mIHggPT09IFwic3RyaW5nXCIpIGZvcm1hdHRlZFYucHVzaChyZW5kZXJUZW1wbGF0ZSh4LCB0ZW1wbGF0ZUZvcm1hdCwgaW5wdXRzKSk7XG5cdFx0ZWxzZSBpZiAodHlwZW9mIHggPT09IFwib2JqZWN0XCIpIGZvcm1hdHRlZFYucHVzaChfaW5zZXJ0SW5wdXRWYXJpYWJsZXMoeCwgaW5wdXRzLCB0ZW1wbGF0ZUZvcm1hdCkpO1xuXHRcdGZvcm1hdHRlZFtrXSA9IGZvcm1hdHRlZFY7XG5cdH0gZWxzZSBpZiAodHlwZW9mIHYgPT09IFwib2JqZWN0XCIgJiYgdiAhPT0gbnVsbCkgZm9ybWF0dGVkW2tdID0gX2luc2VydElucHV0VmFyaWFibGVzKHYsIGlucHV0cywgdGVtcGxhdGVGb3JtYXQpO1xuXHRlbHNlIGZvcm1hdHRlZFtrXSA9IHY7XG5cdHJldHVybiBmb3JtYXR0ZWQ7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgRGljdFByb21wdFRlbXBsYXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaWN0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/dict.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/few_shot.js":
/*!**********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/few_shot.js ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FewShotChatMessagePromptTemplate: () => (/* binding */ FewShotChatMessagePromptTemplate),\n/* harmony export */   FewShotPromptTemplate: () => (/* binding */ FewShotPromptTemplate)\n/* harmony export */ });\n/* harmony import */ var _string_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./string.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/string.js\");\n/* harmony import */ var _template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./template.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/template.js\");\n/* harmony import */ var _prompt_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./prompt.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/prompt.js\");\n/* harmony import */ var _chat_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chat.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/chat.js\");\n\n\n\n\n\n//#region src/prompts/few_shot.ts\n/**\n* Prompt template that contains few-shot examples.\n* @augments BasePromptTemplate\n* @augments FewShotPromptTemplateInput\n* @example\n* ```typescript\n* const examplePrompt = PromptTemplate.fromTemplate(\n*   \"Input: {input}\\nOutput: {output}\",\n* );\n*\n* const exampleSelector = await SemanticSimilarityExampleSelector.fromExamples(\n*   [\n*     { input: \"happy\", output: \"sad\" },\n*     { input: \"tall\", output: \"short\" },\n*     { input: \"energetic\", output: \"lethargic\" },\n*     { input: \"sunny\", output: \"gloomy\" },\n*     { input: \"windy\", output: \"calm\" },\n*   ],\n*   new OpenAIEmbeddings(),\n*   HNSWLib,\n*   { k: 1 },\n* );\n*\n* const dynamicPrompt = new FewShotPromptTemplate({\n*   exampleSelector,\n*   examplePrompt,\n*   prefix: \"Give the antonym of every input\",\n*   suffix: \"Input: {adjective}\\nOutput:\",\n*   inputVariables: [\"adjective\"],\n* });\n*\n* // Format the dynamic prompt with the input 'rainy'\n* console.log(await dynamicPrompt.format({ adjective: \"rainy\" }));\n*\n* ```\n*/\nvar FewShotPromptTemplate = class FewShotPromptTemplate extends _string_js__WEBPACK_IMPORTED_MODULE_0__.BaseStringPromptTemplate {\n\tlc_serializable = false;\n\texamples;\n\texampleSelector;\n\texamplePrompt;\n\tsuffix = \"\";\n\texampleSeparator = \"\\n\\n\";\n\tprefix = \"\";\n\ttemplateFormat = \"f-string\";\n\tvalidateTemplate = true;\n\tconstructor(input) {\n\t\tsuper(input);\n\t\tObject.assign(this, input);\n\t\tif (this.examples !== void 0 && this.exampleSelector !== void 0) throw new Error(\"Only one of 'examples' and 'example_selector' should be provided\");\n\t\tif (this.examples === void 0 && this.exampleSelector === void 0) throw new Error(\"One of 'examples' and 'example_selector' should be provided\");\n\t\tif (this.validateTemplate) {\n\t\t\tlet totalInputVariables = this.inputVariables;\n\t\t\tif (this.partialVariables) totalInputVariables = totalInputVariables.concat(Object.keys(this.partialVariables));\n\t\t\t(0,_template_js__WEBPACK_IMPORTED_MODULE_1__.checkValidTemplate)(this.prefix + this.suffix, this.templateFormat, totalInputVariables);\n\t\t}\n\t}\n\t_getPromptType() {\n\t\treturn \"few_shot\";\n\t}\n\tstatic lc_name() {\n\t\treturn \"FewShotPromptTemplate\";\n\t}\n\tasync getExamples(inputVariables) {\n\t\tif (this.examples !== void 0) return this.examples;\n\t\tif (this.exampleSelector !== void 0) return this.exampleSelector.selectExamples(inputVariables);\n\t\tthrow new Error(\"One of 'examples' and 'example_selector' should be provided\");\n\t}\n\tasync partial(values) {\n\t\tconst newInputVariables = this.inputVariables.filter((iv) => !(iv in values));\n\t\tconst newPartialVariables = {\n\t\t\t...this.partialVariables ?? {},\n\t\t\t...values\n\t\t};\n\t\tconst promptDict = {\n\t\t\t...this,\n\t\t\tinputVariables: newInputVariables,\n\t\t\tpartialVariables: newPartialVariables\n\t\t};\n\t\treturn new FewShotPromptTemplate(promptDict);\n\t}\n\t/**\n\t* Formats the prompt with the given values.\n\t* @param values The values to format the prompt with.\n\t* @returns A promise that resolves to a string representing the formatted prompt.\n\t*/\n\tasync format(values) {\n\t\tconst allValues = await this.mergePartialAndUserVariables(values);\n\t\tconst examples = await this.getExamples(allValues);\n\t\tconst exampleStrings = await Promise.all(examples.map((example) => this.examplePrompt.format(example)));\n\t\tconst template = [\n\t\t\tthis.prefix,\n\t\t\t...exampleStrings,\n\t\t\tthis.suffix\n\t\t].join(this.exampleSeparator);\n\t\treturn (0,_template_js__WEBPACK_IMPORTED_MODULE_1__.renderTemplate)(template, this.templateFormat, allValues);\n\t}\n\tserialize() {\n\t\tif (this.exampleSelector || !this.examples) throw new Error(\"Serializing an example selector is not currently supported\");\n\t\tif (this.outputParser !== void 0) throw new Error(\"Serializing an output parser is not currently supported\");\n\t\treturn {\n\t\t\t_type: this._getPromptType(),\n\t\t\tinput_variables: this.inputVariables,\n\t\t\texample_prompt: this.examplePrompt.serialize(),\n\t\t\texample_separator: this.exampleSeparator,\n\t\t\tsuffix: this.suffix,\n\t\t\tprefix: this.prefix,\n\t\t\ttemplate_format: this.templateFormat,\n\t\t\texamples: this.examples\n\t\t};\n\t}\n\tstatic async deserialize(data) {\n\t\tconst { example_prompt } = data;\n\t\tif (!example_prompt) throw new Error(\"Missing example prompt\");\n\t\tconst examplePrompt = await _prompt_js__WEBPACK_IMPORTED_MODULE_2__.PromptTemplate.deserialize(example_prompt);\n\t\tlet examples;\n\t\tif (Array.isArray(data.examples)) examples = data.examples;\n\t\telse throw new Error(\"Invalid examples format. Only list or string are supported.\");\n\t\treturn new FewShotPromptTemplate({\n\t\t\tinputVariables: data.input_variables,\n\t\t\texamplePrompt,\n\t\t\texamples,\n\t\t\texampleSeparator: data.example_separator,\n\t\t\tprefix: data.prefix,\n\t\t\tsuffix: data.suffix,\n\t\t\ttemplateFormat: data.template_format\n\t\t});\n\t}\n};\n/**\n* Chat prompt template that contains few-shot examples.\n* @augments BasePromptTemplateInput\n* @augments FewShotChatMessagePromptTemplateInput\n*/\nvar FewShotChatMessagePromptTemplate = class FewShotChatMessagePromptTemplate extends _chat_js__WEBPACK_IMPORTED_MODULE_3__.BaseChatPromptTemplate {\n\tlc_serializable = true;\n\texamples;\n\texampleSelector;\n\texamplePrompt;\n\tsuffix = \"\";\n\texampleSeparator = \"\\n\\n\";\n\tprefix = \"\";\n\ttemplateFormat = \"f-string\";\n\tvalidateTemplate = true;\n\t_getPromptType() {\n\t\treturn \"few_shot_chat\";\n\t}\n\tstatic lc_name() {\n\t\treturn \"FewShotChatMessagePromptTemplate\";\n\t}\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.examples = fields.examples;\n\t\tthis.examplePrompt = fields.examplePrompt;\n\t\tthis.exampleSeparator = fields.exampleSeparator ?? \"\\n\\n\";\n\t\tthis.exampleSelector = fields.exampleSelector;\n\t\tthis.prefix = fields.prefix ?? \"\";\n\t\tthis.suffix = fields.suffix ?? \"\";\n\t\tthis.templateFormat = fields.templateFormat ?? \"f-string\";\n\t\tthis.validateTemplate = fields.validateTemplate ?? true;\n\t\tif (this.examples !== void 0 && this.exampleSelector !== void 0) throw new Error(\"Only one of 'examples' and 'example_selector' should be provided\");\n\t\tif (this.examples === void 0 && this.exampleSelector === void 0) throw new Error(\"One of 'examples' and 'example_selector' should be provided\");\n\t\tif (this.validateTemplate) {\n\t\t\tlet totalInputVariables = this.inputVariables;\n\t\t\tif (this.partialVariables) totalInputVariables = totalInputVariables.concat(Object.keys(this.partialVariables));\n\t\t\t(0,_template_js__WEBPACK_IMPORTED_MODULE_1__.checkValidTemplate)(this.prefix + this.suffix, this.templateFormat, totalInputVariables);\n\t\t}\n\t}\n\tasync getExamples(inputVariables) {\n\t\tif (this.examples !== void 0) return this.examples;\n\t\tif (this.exampleSelector !== void 0) return this.exampleSelector.selectExamples(inputVariables);\n\t\tthrow new Error(\"One of 'examples' and 'example_selector' should be provided\");\n\t}\n\t/**\n\t* Formats the list of values and returns a list of formatted messages.\n\t* @param values The values to format the prompt with.\n\t* @returns A promise that resolves to a string representing the formatted prompt.\n\t*/\n\tasync formatMessages(values) {\n\t\tconst allValues = await this.mergePartialAndUserVariables(values);\n\t\tlet examples = await this.getExamples(allValues);\n\t\texamples = examples.map((example) => {\n\t\t\tconst result = {};\n\t\t\tthis.examplePrompt.inputVariables.forEach((inputVariable) => {\n\t\t\t\tresult[inputVariable] = example[inputVariable];\n\t\t\t});\n\t\t\treturn result;\n\t\t});\n\t\tconst messages = [];\n\t\tfor (const example of examples) {\n\t\t\tconst exampleMessages = await this.examplePrompt.formatMessages(example);\n\t\t\tmessages.push(...exampleMessages);\n\t\t}\n\t\treturn messages;\n\t}\n\t/**\n\t* Formats the prompt with the given values.\n\t* @param values The values to format the prompt with.\n\t* @returns A promise that resolves to a string representing the formatted prompt.\n\t*/\n\tasync format(values) {\n\t\tconst allValues = await this.mergePartialAndUserVariables(values);\n\t\tconst examples = await this.getExamples(allValues);\n\t\tconst exampleMessages = await Promise.all(examples.map((example) => this.examplePrompt.formatMessages(example)));\n\t\tconst exampleStrings = exampleMessages.flat().map((message) => message.content);\n\t\tconst template = [\n\t\t\tthis.prefix,\n\t\t\t...exampleStrings,\n\t\t\tthis.suffix\n\t\t].join(this.exampleSeparator);\n\t\treturn (0,_template_js__WEBPACK_IMPORTED_MODULE_1__.renderTemplate)(template, this.templateFormat, allValues);\n\t}\n\t/**\n\t* Partially formats the prompt with the given values.\n\t* @param values The values to partially format the prompt with.\n\t* @returns A promise that resolves to an instance of `FewShotChatMessagePromptTemplate` with the given values partially formatted.\n\t*/\n\tasync partial(values) {\n\t\tconst newInputVariables = this.inputVariables.filter((variable) => !(variable in values));\n\t\tconst newPartialVariables = {\n\t\t\t...this.partialVariables ?? {},\n\t\t\t...values\n\t\t};\n\t\tconst promptDict = {\n\t\t\t...this,\n\t\t\tinputVariables: newInputVariables,\n\t\t\tpartialVariables: newPartialVariables\n\t\t};\n\t\treturn new FewShotChatMessagePromptTemplate(promptDict);\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=few_shot.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3Byb21wdHMvZmV3X3Nob3QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXVEO0FBQ1k7QUFDdEI7QUFDTTs7QUFFbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsTUFBTSxXQUFXLE9BQU87QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLCtCQUErQjtBQUN2QyxRQUFRLGdDQUFnQztBQUN4QyxRQUFRLHlDQUF5QztBQUNqRCxRQUFRLGtDQUFrQztBQUMxQyxRQUFRLGdDQUFnQztBQUN4QztBQUNBO0FBQ0E7QUFDQSxNQUFNLE1BQU07QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsVUFBVTtBQUMvQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsMkNBQTJDLG9CQUFvQjtBQUMvRDtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0UsZ0VBQXdCO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLGdFQUFrQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyw0REFBYztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsaUJBQWlCO0FBQzNCO0FBQ0EsOEJBQThCLHNEQUFjO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRkFBc0YsNERBQXNCO0FBQzVHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsZ0VBQWtCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyw0REFBYztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDbUU7QUFDbkUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvcHJvbXB0cy9mZXdfc2hvdC5qcz84ZDdlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhc2VTdHJpbmdQcm9tcHRUZW1wbGF0ZSB9IGZyb20gXCIuL3N0cmluZy5qc1wiO1xuaW1wb3J0IHsgY2hlY2tWYWxpZFRlbXBsYXRlLCByZW5kZXJUZW1wbGF0ZSB9IGZyb20gXCIuL3RlbXBsYXRlLmpzXCI7XG5pbXBvcnQgeyBQcm9tcHRUZW1wbGF0ZSB9IGZyb20gXCIuL3Byb21wdC5qc1wiO1xuaW1wb3J0IHsgQmFzZUNoYXRQcm9tcHRUZW1wbGF0ZSB9IGZyb20gXCIuL2NoYXQuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9wcm9tcHRzL2Zld19zaG90LnRzXG4vKipcbiogUHJvbXB0IHRlbXBsYXRlIHRoYXQgY29udGFpbnMgZmV3LXNob3QgZXhhbXBsZXMuXG4qIEBhdWdtZW50cyBCYXNlUHJvbXB0VGVtcGxhdGVcbiogQGF1Z21lbnRzIEZld1Nob3RQcm9tcHRUZW1wbGF0ZUlucHV0XG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogY29uc3QgZXhhbXBsZVByb21wdCA9IFByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZShcbiogICBcIklucHV0OiB7aW5wdXR9XFxuT3V0cHV0OiB7b3V0cHV0fVwiLFxuKiApO1xuKlxuKiBjb25zdCBleGFtcGxlU2VsZWN0b3IgPSBhd2FpdCBTZW1hbnRpY1NpbWlsYXJpdHlFeGFtcGxlU2VsZWN0b3IuZnJvbUV4YW1wbGVzKFxuKiAgIFtcbiogICAgIHsgaW5wdXQ6IFwiaGFwcHlcIiwgb3V0cHV0OiBcInNhZFwiIH0sXG4qICAgICB7IGlucHV0OiBcInRhbGxcIiwgb3V0cHV0OiBcInNob3J0XCIgfSxcbiogICAgIHsgaW5wdXQ6IFwiZW5lcmdldGljXCIsIG91dHB1dDogXCJsZXRoYXJnaWNcIiB9LFxuKiAgICAgeyBpbnB1dDogXCJzdW5ueVwiLCBvdXRwdXQ6IFwiZ2xvb215XCIgfSxcbiogICAgIHsgaW5wdXQ6IFwid2luZHlcIiwgb3V0cHV0OiBcImNhbG1cIiB9LFxuKiAgIF0sXG4qICAgbmV3IE9wZW5BSUVtYmVkZGluZ3MoKSxcbiogICBITlNXTGliLFxuKiAgIHsgazogMSB9LFxuKiApO1xuKlxuKiBjb25zdCBkeW5hbWljUHJvbXB0ID0gbmV3IEZld1Nob3RQcm9tcHRUZW1wbGF0ZSh7XG4qICAgZXhhbXBsZVNlbGVjdG9yLFxuKiAgIGV4YW1wbGVQcm9tcHQsXG4qICAgcHJlZml4OiBcIkdpdmUgdGhlIGFudG9ueW0gb2YgZXZlcnkgaW5wdXRcIixcbiogICBzdWZmaXg6IFwiSW5wdXQ6IHthZGplY3RpdmV9XFxuT3V0cHV0OlwiLFxuKiAgIGlucHV0VmFyaWFibGVzOiBbXCJhZGplY3RpdmVcIl0sXG4qIH0pO1xuKlxuKiAvLyBGb3JtYXQgdGhlIGR5bmFtaWMgcHJvbXB0IHdpdGggdGhlIGlucHV0ICdyYWlueSdcbiogY29uc29sZS5sb2coYXdhaXQgZHluYW1pY1Byb21wdC5mb3JtYXQoeyBhZGplY3RpdmU6IFwicmFpbnlcIiB9KSk7XG4qXG4qIGBgYFxuKi9cbnZhciBGZXdTaG90UHJvbXB0VGVtcGxhdGUgPSBjbGFzcyBGZXdTaG90UHJvbXB0VGVtcGxhdGUgZXh0ZW5kcyBCYXNlU3RyaW5nUHJvbXB0VGVtcGxhdGUge1xuXHRsY19zZXJpYWxpemFibGUgPSBmYWxzZTtcblx0ZXhhbXBsZXM7XG5cdGV4YW1wbGVTZWxlY3Rvcjtcblx0ZXhhbXBsZVByb21wdDtcblx0c3VmZml4ID0gXCJcIjtcblx0ZXhhbXBsZVNlcGFyYXRvciA9IFwiXFxuXFxuXCI7XG5cdHByZWZpeCA9IFwiXCI7XG5cdHRlbXBsYXRlRm9ybWF0ID0gXCJmLXN0cmluZ1wiO1xuXHR2YWxpZGF0ZVRlbXBsYXRlID0gdHJ1ZTtcblx0Y29uc3RydWN0b3IoaW5wdXQpIHtcblx0XHRzdXBlcihpbnB1dCk7XG5cdFx0T2JqZWN0LmFzc2lnbih0aGlzLCBpbnB1dCk7XG5cdFx0aWYgKHRoaXMuZXhhbXBsZXMgIT09IHZvaWQgMCAmJiB0aGlzLmV4YW1wbGVTZWxlY3RvciAhPT0gdm9pZCAwKSB0aHJvdyBuZXcgRXJyb3IoXCJPbmx5IG9uZSBvZiAnZXhhbXBsZXMnIGFuZCAnZXhhbXBsZV9zZWxlY3Rvcicgc2hvdWxkIGJlIHByb3ZpZGVkXCIpO1xuXHRcdGlmICh0aGlzLmV4YW1wbGVzID09PSB2b2lkIDAgJiYgdGhpcy5leGFtcGxlU2VsZWN0b3IgPT09IHZvaWQgMCkgdGhyb3cgbmV3IEVycm9yKFwiT25lIG9mICdleGFtcGxlcycgYW5kICdleGFtcGxlX3NlbGVjdG9yJyBzaG91bGQgYmUgcHJvdmlkZWRcIik7XG5cdFx0aWYgKHRoaXMudmFsaWRhdGVUZW1wbGF0ZSkge1xuXHRcdFx0bGV0IHRvdGFsSW5wdXRWYXJpYWJsZXMgPSB0aGlzLmlucHV0VmFyaWFibGVzO1xuXHRcdFx0aWYgKHRoaXMucGFydGlhbFZhcmlhYmxlcykgdG90YWxJbnB1dFZhcmlhYmxlcyA9IHRvdGFsSW5wdXRWYXJpYWJsZXMuY29uY2F0KE9iamVjdC5rZXlzKHRoaXMucGFydGlhbFZhcmlhYmxlcykpO1xuXHRcdFx0Y2hlY2tWYWxpZFRlbXBsYXRlKHRoaXMucHJlZml4ICsgdGhpcy5zdWZmaXgsIHRoaXMudGVtcGxhdGVGb3JtYXQsIHRvdGFsSW5wdXRWYXJpYWJsZXMpO1xuXHRcdH1cblx0fVxuXHRfZ2V0UHJvbXB0VHlwZSgpIHtcblx0XHRyZXR1cm4gXCJmZXdfc2hvdFwiO1xuXHR9XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIkZld1Nob3RQcm9tcHRUZW1wbGF0ZVwiO1xuXHR9XG5cdGFzeW5jIGdldEV4YW1wbGVzKGlucHV0VmFyaWFibGVzKSB7XG5cdFx0aWYgKHRoaXMuZXhhbXBsZXMgIT09IHZvaWQgMCkgcmV0dXJuIHRoaXMuZXhhbXBsZXM7XG5cdFx0aWYgKHRoaXMuZXhhbXBsZVNlbGVjdG9yICE9PSB2b2lkIDApIHJldHVybiB0aGlzLmV4YW1wbGVTZWxlY3Rvci5zZWxlY3RFeGFtcGxlcyhpbnB1dFZhcmlhYmxlcyk7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiT25lIG9mICdleGFtcGxlcycgYW5kICdleGFtcGxlX3NlbGVjdG9yJyBzaG91bGQgYmUgcHJvdmlkZWRcIik7XG5cdH1cblx0YXN5bmMgcGFydGlhbCh2YWx1ZXMpIHtcblx0XHRjb25zdCBuZXdJbnB1dFZhcmlhYmxlcyA9IHRoaXMuaW5wdXRWYXJpYWJsZXMuZmlsdGVyKChpdikgPT4gIShpdiBpbiB2YWx1ZXMpKTtcblx0XHRjb25zdCBuZXdQYXJ0aWFsVmFyaWFibGVzID0ge1xuXHRcdFx0Li4udGhpcy5wYXJ0aWFsVmFyaWFibGVzID8/IHt9LFxuXHRcdFx0Li4udmFsdWVzXG5cdFx0fTtcblx0XHRjb25zdCBwcm9tcHREaWN0ID0ge1xuXHRcdFx0Li4udGhpcyxcblx0XHRcdGlucHV0VmFyaWFibGVzOiBuZXdJbnB1dFZhcmlhYmxlcyxcblx0XHRcdHBhcnRpYWxWYXJpYWJsZXM6IG5ld1BhcnRpYWxWYXJpYWJsZXNcblx0XHR9O1xuXHRcdHJldHVybiBuZXcgRmV3U2hvdFByb21wdFRlbXBsYXRlKHByb21wdERpY3QpO1xuXHR9XG5cdC8qKlxuXHQqIEZvcm1hdHMgdGhlIHByb21wdCB3aXRoIHRoZSBnaXZlbiB2YWx1ZXMuXG5cdCogQHBhcmFtIHZhbHVlcyBUaGUgdmFsdWVzIHRvIGZvcm1hdCB0aGUgcHJvbXB0IHdpdGguXG5cdCogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBmb3JtYXR0ZWQgcHJvbXB0LlxuXHQqL1xuXHRhc3luYyBmb3JtYXQodmFsdWVzKSB7XG5cdFx0Y29uc3QgYWxsVmFsdWVzID0gYXdhaXQgdGhpcy5tZXJnZVBhcnRpYWxBbmRVc2VyVmFyaWFibGVzKHZhbHVlcyk7XG5cdFx0Y29uc3QgZXhhbXBsZXMgPSBhd2FpdCB0aGlzLmdldEV4YW1wbGVzKGFsbFZhbHVlcyk7XG5cdFx0Y29uc3QgZXhhbXBsZVN0cmluZ3MgPSBhd2FpdCBQcm9taXNlLmFsbChleGFtcGxlcy5tYXAoKGV4YW1wbGUpID0+IHRoaXMuZXhhbXBsZVByb21wdC5mb3JtYXQoZXhhbXBsZSkpKTtcblx0XHRjb25zdCB0ZW1wbGF0ZSA9IFtcblx0XHRcdHRoaXMucHJlZml4LFxuXHRcdFx0Li4uZXhhbXBsZVN0cmluZ3MsXG5cdFx0XHR0aGlzLnN1ZmZpeFxuXHRcdF0uam9pbih0aGlzLmV4YW1wbGVTZXBhcmF0b3IpO1xuXHRcdHJldHVybiByZW5kZXJUZW1wbGF0ZSh0ZW1wbGF0ZSwgdGhpcy50ZW1wbGF0ZUZvcm1hdCwgYWxsVmFsdWVzKTtcblx0fVxuXHRzZXJpYWxpemUoKSB7XG5cdFx0aWYgKHRoaXMuZXhhbXBsZVNlbGVjdG9yIHx8ICF0aGlzLmV4YW1wbGVzKSB0aHJvdyBuZXcgRXJyb3IoXCJTZXJpYWxpemluZyBhbiBleGFtcGxlIHNlbGVjdG9yIGlzIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkXCIpO1xuXHRcdGlmICh0aGlzLm91dHB1dFBhcnNlciAhPT0gdm9pZCAwKSB0aHJvdyBuZXcgRXJyb3IoXCJTZXJpYWxpemluZyBhbiBvdXRwdXQgcGFyc2VyIGlzIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkXCIpO1xuXHRcdHJldHVybiB7XG5cdFx0XHRfdHlwZTogdGhpcy5fZ2V0UHJvbXB0VHlwZSgpLFxuXHRcdFx0aW5wdXRfdmFyaWFibGVzOiB0aGlzLmlucHV0VmFyaWFibGVzLFxuXHRcdFx0ZXhhbXBsZV9wcm9tcHQ6IHRoaXMuZXhhbXBsZVByb21wdC5zZXJpYWxpemUoKSxcblx0XHRcdGV4YW1wbGVfc2VwYXJhdG9yOiB0aGlzLmV4YW1wbGVTZXBhcmF0b3IsXG5cdFx0XHRzdWZmaXg6IHRoaXMuc3VmZml4LFxuXHRcdFx0cHJlZml4OiB0aGlzLnByZWZpeCxcblx0XHRcdHRlbXBsYXRlX2Zvcm1hdDogdGhpcy50ZW1wbGF0ZUZvcm1hdCxcblx0XHRcdGV4YW1wbGVzOiB0aGlzLmV4YW1wbGVzXG5cdFx0fTtcblx0fVxuXHRzdGF0aWMgYXN5bmMgZGVzZXJpYWxpemUoZGF0YSkge1xuXHRcdGNvbnN0IHsgZXhhbXBsZV9wcm9tcHQgfSA9IGRhdGE7XG5cdFx0aWYgKCFleGFtcGxlX3Byb21wdCkgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBleGFtcGxlIHByb21wdFwiKTtcblx0XHRjb25zdCBleGFtcGxlUHJvbXB0ID0gYXdhaXQgUHJvbXB0VGVtcGxhdGUuZGVzZXJpYWxpemUoZXhhbXBsZV9wcm9tcHQpO1xuXHRcdGxldCBleGFtcGxlcztcblx0XHRpZiAoQXJyYXkuaXNBcnJheShkYXRhLmV4YW1wbGVzKSkgZXhhbXBsZXMgPSBkYXRhLmV4YW1wbGVzO1xuXHRcdGVsc2UgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBleGFtcGxlcyBmb3JtYXQuIE9ubHkgbGlzdCBvciBzdHJpbmcgYXJlIHN1cHBvcnRlZC5cIik7XG5cdFx0cmV0dXJuIG5ldyBGZXdTaG90UHJvbXB0VGVtcGxhdGUoe1xuXHRcdFx0aW5wdXRWYXJpYWJsZXM6IGRhdGEuaW5wdXRfdmFyaWFibGVzLFxuXHRcdFx0ZXhhbXBsZVByb21wdCxcblx0XHRcdGV4YW1wbGVzLFxuXHRcdFx0ZXhhbXBsZVNlcGFyYXRvcjogZGF0YS5leGFtcGxlX3NlcGFyYXRvcixcblx0XHRcdHByZWZpeDogZGF0YS5wcmVmaXgsXG5cdFx0XHRzdWZmaXg6IGRhdGEuc3VmZml4LFxuXHRcdFx0dGVtcGxhdGVGb3JtYXQ6IGRhdGEudGVtcGxhdGVfZm9ybWF0XG5cdFx0fSk7XG5cdH1cbn07XG4vKipcbiogQ2hhdCBwcm9tcHQgdGVtcGxhdGUgdGhhdCBjb250YWlucyBmZXctc2hvdCBleGFtcGxlcy5cbiogQGF1Z21lbnRzIEJhc2VQcm9tcHRUZW1wbGF0ZUlucHV0XG4qIEBhdWdtZW50cyBGZXdTaG90Q2hhdE1lc3NhZ2VQcm9tcHRUZW1wbGF0ZUlucHV0XG4qL1xudmFyIEZld1Nob3RDaGF0TWVzc2FnZVByb21wdFRlbXBsYXRlID0gY2xhc3MgRmV3U2hvdENoYXRNZXNzYWdlUHJvbXB0VGVtcGxhdGUgZXh0ZW5kcyBCYXNlQ2hhdFByb21wdFRlbXBsYXRlIHtcblx0bGNfc2VyaWFsaXphYmxlID0gdHJ1ZTtcblx0ZXhhbXBsZXM7XG5cdGV4YW1wbGVTZWxlY3Rvcjtcblx0ZXhhbXBsZVByb21wdDtcblx0c3VmZml4ID0gXCJcIjtcblx0ZXhhbXBsZVNlcGFyYXRvciA9IFwiXFxuXFxuXCI7XG5cdHByZWZpeCA9IFwiXCI7XG5cdHRlbXBsYXRlRm9ybWF0ID0gXCJmLXN0cmluZ1wiO1xuXHR2YWxpZGF0ZVRlbXBsYXRlID0gdHJ1ZTtcblx0X2dldFByb21wdFR5cGUoKSB7XG5cdFx0cmV0dXJuIFwiZmV3X3Nob3RfY2hhdFwiO1xuXHR9XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIkZld1Nob3RDaGF0TWVzc2FnZVByb21wdFRlbXBsYXRlXCI7XG5cdH1cblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLmV4YW1wbGVzID0gZmllbGRzLmV4YW1wbGVzO1xuXHRcdHRoaXMuZXhhbXBsZVByb21wdCA9IGZpZWxkcy5leGFtcGxlUHJvbXB0O1xuXHRcdHRoaXMuZXhhbXBsZVNlcGFyYXRvciA9IGZpZWxkcy5leGFtcGxlU2VwYXJhdG9yID8/IFwiXFxuXFxuXCI7XG5cdFx0dGhpcy5leGFtcGxlU2VsZWN0b3IgPSBmaWVsZHMuZXhhbXBsZVNlbGVjdG9yO1xuXHRcdHRoaXMucHJlZml4ID0gZmllbGRzLnByZWZpeCA/PyBcIlwiO1xuXHRcdHRoaXMuc3VmZml4ID0gZmllbGRzLnN1ZmZpeCA/PyBcIlwiO1xuXHRcdHRoaXMudGVtcGxhdGVGb3JtYXQgPSBmaWVsZHMudGVtcGxhdGVGb3JtYXQgPz8gXCJmLXN0cmluZ1wiO1xuXHRcdHRoaXMudmFsaWRhdGVUZW1wbGF0ZSA9IGZpZWxkcy52YWxpZGF0ZVRlbXBsYXRlID8/IHRydWU7XG5cdFx0aWYgKHRoaXMuZXhhbXBsZXMgIT09IHZvaWQgMCAmJiB0aGlzLmV4YW1wbGVTZWxlY3RvciAhPT0gdm9pZCAwKSB0aHJvdyBuZXcgRXJyb3IoXCJPbmx5IG9uZSBvZiAnZXhhbXBsZXMnIGFuZCAnZXhhbXBsZV9zZWxlY3Rvcicgc2hvdWxkIGJlIHByb3ZpZGVkXCIpO1xuXHRcdGlmICh0aGlzLmV4YW1wbGVzID09PSB2b2lkIDAgJiYgdGhpcy5leGFtcGxlU2VsZWN0b3IgPT09IHZvaWQgMCkgdGhyb3cgbmV3IEVycm9yKFwiT25lIG9mICdleGFtcGxlcycgYW5kICdleGFtcGxlX3NlbGVjdG9yJyBzaG91bGQgYmUgcHJvdmlkZWRcIik7XG5cdFx0aWYgKHRoaXMudmFsaWRhdGVUZW1wbGF0ZSkge1xuXHRcdFx0bGV0IHRvdGFsSW5wdXRWYXJpYWJsZXMgPSB0aGlzLmlucHV0VmFyaWFibGVzO1xuXHRcdFx0aWYgKHRoaXMucGFydGlhbFZhcmlhYmxlcykgdG90YWxJbnB1dFZhcmlhYmxlcyA9IHRvdGFsSW5wdXRWYXJpYWJsZXMuY29uY2F0KE9iamVjdC5rZXlzKHRoaXMucGFydGlhbFZhcmlhYmxlcykpO1xuXHRcdFx0Y2hlY2tWYWxpZFRlbXBsYXRlKHRoaXMucHJlZml4ICsgdGhpcy5zdWZmaXgsIHRoaXMudGVtcGxhdGVGb3JtYXQsIHRvdGFsSW5wdXRWYXJpYWJsZXMpO1xuXHRcdH1cblx0fVxuXHRhc3luYyBnZXRFeGFtcGxlcyhpbnB1dFZhcmlhYmxlcykge1xuXHRcdGlmICh0aGlzLmV4YW1wbGVzICE9PSB2b2lkIDApIHJldHVybiB0aGlzLmV4YW1wbGVzO1xuXHRcdGlmICh0aGlzLmV4YW1wbGVTZWxlY3RvciAhPT0gdm9pZCAwKSByZXR1cm4gdGhpcy5leGFtcGxlU2VsZWN0b3Iuc2VsZWN0RXhhbXBsZXMoaW5wdXRWYXJpYWJsZXMpO1xuXHRcdHRocm93IG5ldyBFcnJvcihcIk9uZSBvZiAnZXhhbXBsZXMnIGFuZCAnZXhhbXBsZV9zZWxlY3Rvcicgc2hvdWxkIGJlIHByb3ZpZGVkXCIpO1xuXHR9XG5cdC8qKlxuXHQqIEZvcm1hdHMgdGhlIGxpc3Qgb2YgdmFsdWVzIGFuZCByZXR1cm5zIGEgbGlzdCBvZiBmb3JtYXR0ZWQgbWVzc2FnZXMuXG5cdCogQHBhcmFtIHZhbHVlcyBUaGUgdmFsdWVzIHRvIGZvcm1hdCB0aGUgcHJvbXB0IHdpdGguXG5cdCogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBmb3JtYXR0ZWQgcHJvbXB0LlxuXHQqL1xuXHRhc3luYyBmb3JtYXRNZXNzYWdlcyh2YWx1ZXMpIHtcblx0XHRjb25zdCBhbGxWYWx1ZXMgPSBhd2FpdCB0aGlzLm1lcmdlUGFydGlhbEFuZFVzZXJWYXJpYWJsZXModmFsdWVzKTtcblx0XHRsZXQgZXhhbXBsZXMgPSBhd2FpdCB0aGlzLmdldEV4YW1wbGVzKGFsbFZhbHVlcyk7XG5cdFx0ZXhhbXBsZXMgPSBleGFtcGxlcy5tYXAoKGV4YW1wbGUpID0+IHtcblx0XHRcdGNvbnN0IHJlc3VsdCA9IHt9O1xuXHRcdFx0dGhpcy5leGFtcGxlUHJvbXB0LmlucHV0VmFyaWFibGVzLmZvckVhY2goKGlucHV0VmFyaWFibGUpID0+IHtcblx0XHRcdFx0cmVzdWx0W2lucHV0VmFyaWFibGVdID0gZXhhbXBsZVtpbnB1dFZhcmlhYmxlXTtcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9KTtcblx0XHRjb25zdCBtZXNzYWdlcyA9IFtdO1xuXHRcdGZvciAoY29uc3QgZXhhbXBsZSBvZiBleGFtcGxlcykge1xuXHRcdFx0Y29uc3QgZXhhbXBsZU1lc3NhZ2VzID0gYXdhaXQgdGhpcy5leGFtcGxlUHJvbXB0LmZvcm1hdE1lc3NhZ2VzKGV4YW1wbGUpO1xuXHRcdFx0bWVzc2FnZXMucHVzaCguLi5leGFtcGxlTWVzc2FnZXMpO1xuXHRcdH1cblx0XHRyZXR1cm4gbWVzc2FnZXM7XG5cdH1cblx0LyoqXG5cdCogRm9ybWF0cyB0aGUgcHJvbXB0IHdpdGggdGhlIGdpdmVuIHZhbHVlcy5cblx0KiBAcGFyYW0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gZm9ybWF0IHRoZSBwcm9tcHQgd2l0aC5cblx0KiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGZvcm1hdHRlZCBwcm9tcHQuXG5cdCovXG5cdGFzeW5jIGZvcm1hdCh2YWx1ZXMpIHtcblx0XHRjb25zdCBhbGxWYWx1ZXMgPSBhd2FpdCB0aGlzLm1lcmdlUGFydGlhbEFuZFVzZXJWYXJpYWJsZXModmFsdWVzKTtcblx0XHRjb25zdCBleGFtcGxlcyA9IGF3YWl0IHRoaXMuZ2V0RXhhbXBsZXMoYWxsVmFsdWVzKTtcblx0XHRjb25zdCBleGFtcGxlTWVzc2FnZXMgPSBhd2FpdCBQcm9taXNlLmFsbChleGFtcGxlcy5tYXAoKGV4YW1wbGUpID0+IHRoaXMuZXhhbXBsZVByb21wdC5mb3JtYXRNZXNzYWdlcyhleGFtcGxlKSkpO1xuXHRcdGNvbnN0IGV4YW1wbGVTdHJpbmdzID0gZXhhbXBsZU1lc3NhZ2VzLmZsYXQoKS5tYXAoKG1lc3NhZ2UpID0+IG1lc3NhZ2UuY29udGVudCk7XG5cdFx0Y29uc3QgdGVtcGxhdGUgPSBbXG5cdFx0XHR0aGlzLnByZWZpeCxcblx0XHRcdC4uLmV4YW1wbGVTdHJpbmdzLFxuXHRcdFx0dGhpcy5zdWZmaXhcblx0XHRdLmpvaW4odGhpcy5leGFtcGxlU2VwYXJhdG9yKTtcblx0XHRyZXR1cm4gcmVuZGVyVGVtcGxhdGUodGVtcGxhdGUsIHRoaXMudGVtcGxhdGVGb3JtYXQsIGFsbFZhbHVlcyk7XG5cdH1cblx0LyoqXG5cdCogUGFydGlhbGx5IGZvcm1hdHMgdGhlIHByb21wdCB3aXRoIHRoZSBnaXZlbiB2YWx1ZXMuXG5cdCogQHBhcmFtIHZhbHVlcyBUaGUgdmFsdWVzIHRvIHBhcnRpYWxseSBmb3JtYXQgdGhlIHByb21wdCB3aXRoLlxuXHQqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGFuIGluc3RhbmNlIG9mIGBGZXdTaG90Q2hhdE1lc3NhZ2VQcm9tcHRUZW1wbGF0ZWAgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzIHBhcnRpYWxseSBmb3JtYXR0ZWQuXG5cdCovXG5cdGFzeW5jIHBhcnRpYWwodmFsdWVzKSB7XG5cdFx0Y29uc3QgbmV3SW5wdXRWYXJpYWJsZXMgPSB0aGlzLmlucHV0VmFyaWFibGVzLmZpbHRlcigodmFyaWFibGUpID0+ICEodmFyaWFibGUgaW4gdmFsdWVzKSk7XG5cdFx0Y29uc3QgbmV3UGFydGlhbFZhcmlhYmxlcyA9IHtcblx0XHRcdC4uLnRoaXMucGFydGlhbFZhcmlhYmxlcyA/PyB7fSxcblx0XHRcdC4uLnZhbHVlc1xuXHRcdH07XG5cdFx0Y29uc3QgcHJvbXB0RGljdCA9IHtcblx0XHRcdC4uLnRoaXMsXG5cdFx0XHRpbnB1dFZhcmlhYmxlczogbmV3SW5wdXRWYXJpYWJsZXMsXG5cdFx0XHRwYXJ0aWFsVmFyaWFibGVzOiBuZXdQYXJ0aWFsVmFyaWFibGVzXG5cdFx0fTtcblx0XHRyZXR1cm4gbmV3IEZld1Nob3RDaGF0TWVzc2FnZVByb21wdFRlbXBsYXRlKHByb21wdERpY3QpO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEZld1Nob3RDaGF0TWVzc2FnZVByb21wdFRlbXBsYXRlLCBGZXdTaG90UHJvbXB0VGVtcGxhdGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZld19zaG90LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/few_shot.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/image.js":
/*!*******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/image.js ***!
  \*******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ImagePromptTemplate: () => (/* binding */ ImagePromptTemplate)\n/* harmony export */ });\n/* harmony import */ var _prompt_values_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../prompt_values.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompt_values.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/base.js\");\n/* harmony import */ var _template_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./template.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/template.js\");\n\n\n\n\n//#region src/prompts/image.ts\n/**\n* An image prompt template for a multimodal model.\n*/\nvar ImagePromptTemplate = class ImagePromptTemplate extends _base_js__WEBPACK_IMPORTED_MODULE_1__.BasePromptTemplate {\n\tstatic lc_name() {\n\t\treturn \"ImagePromptTemplate\";\n\t}\n\tlc_namespace = [\n\t\t\"langchain_core\",\n\t\t\"prompts\",\n\t\t\"image\"\n\t];\n\ttemplate;\n\ttemplateFormat = \"f-string\";\n\tvalidateTemplate = true;\n\t/**\n\t* Additional fields which should be included inside\n\t* the message content array if using a complex message\n\t* content.\n\t*/\n\tadditionalContentFields;\n\tconstructor(input) {\n\t\tsuper(input);\n\t\tthis.template = input.template;\n\t\tthis.templateFormat = input.templateFormat ?? this.templateFormat;\n\t\tthis.validateTemplate = input.validateTemplate ?? this.validateTemplate;\n\t\tthis.additionalContentFields = input.additionalContentFields;\n\t\tif (this.validateTemplate) {\n\t\t\tlet totalInputVariables = this.inputVariables;\n\t\t\tif (this.partialVariables) totalInputVariables = totalInputVariables.concat(Object.keys(this.partialVariables));\n\t\t\t(0,_template_js__WEBPACK_IMPORTED_MODULE_2__.checkValidTemplate)([{\n\t\t\t\ttype: \"image_url\",\n\t\t\t\timage_url: this.template\n\t\t\t}], this.templateFormat, totalInputVariables);\n\t\t}\n\t}\n\t_getPromptType() {\n\t\treturn \"prompt\";\n\t}\n\t/**\n\t* Partially applies values to the prompt template.\n\t* @param values The values to be partially applied to the prompt template.\n\t* @returns A new instance of ImagePromptTemplate with the partially applied values.\n\t*/\n\tasync partial(values) {\n\t\tconst newInputVariables = this.inputVariables.filter((iv) => !(iv in values));\n\t\tconst newPartialVariables = {\n\t\t\t...this.partialVariables ?? {},\n\t\t\t...values\n\t\t};\n\t\tconst promptDict = {\n\t\t\t...this,\n\t\t\tinputVariables: newInputVariables,\n\t\t\tpartialVariables: newPartialVariables\n\t\t};\n\t\treturn new ImagePromptTemplate(promptDict);\n\t}\n\t/**\n\t* Formats the prompt template with the provided values.\n\t* @param values The values to be used to format the prompt template.\n\t* @returns A promise that resolves to a string which is the formatted prompt.\n\t*/\n\tasync format(values) {\n\t\tconst formatted = {};\n\t\tfor (const [key, value] of Object.entries(this.template)) if (typeof value === \"string\") formatted[key] = (0,_template_js__WEBPACK_IMPORTED_MODULE_2__.renderTemplate)(value, this.templateFormat, values);\n\t\telse formatted[key] = value;\n\t\tconst url = values.url || formatted.url;\n\t\tconst detail = values.detail || formatted.detail;\n\t\tif (!url) throw new Error(\"Must provide either an image URL.\");\n\t\tif (typeof url !== \"string\") throw new Error(\"url must be a string.\");\n\t\tconst output = { url };\n\t\tif (detail) output.detail = detail;\n\t\treturn output;\n\t}\n\t/**\n\t* Formats the prompt given the input values and returns a formatted\n\t* prompt value.\n\t* @param values The input values to format the prompt.\n\t* @returns A Promise that resolves to a formatted prompt value.\n\t*/\n\tasync formatPromptValue(values) {\n\t\tconst formattedPrompt = await this.format(values);\n\t\treturn new _prompt_values_js__WEBPACK_IMPORTED_MODULE_0__.ImagePromptValue(formattedPrompt);\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=image.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3Byb21wdHMvaW1hZ2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF1RDtBQUNSO0FBQ29COztBQUVuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCx3REFBa0I7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsZ0VBQWtCO0FBQ3JCO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0R0FBNEcsNERBQWM7QUFDMUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSwrREFBZ0I7QUFDN0I7QUFDQTs7QUFFQTtBQUMrQjtBQUMvQiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9wcm9tcHRzL2ltYWdlLmpzP2Q5MTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW1hZ2VQcm9tcHRWYWx1ZSB9IGZyb20gXCIuLi9wcm9tcHRfdmFsdWVzLmpzXCI7XG5pbXBvcnQgeyBCYXNlUHJvbXB0VGVtcGxhdGUgfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5pbXBvcnQgeyBjaGVja1ZhbGlkVGVtcGxhdGUsIHJlbmRlclRlbXBsYXRlIH0gZnJvbSBcIi4vdGVtcGxhdGUuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9wcm9tcHRzL2ltYWdlLnRzXG4vKipcbiogQW4gaW1hZ2UgcHJvbXB0IHRlbXBsYXRlIGZvciBhIG11bHRpbW9kYWwgbW9kZWwuXG4qL1xudmFyIEltYWdlUHJvbXB0VGVtcGxhdGUgPSBjbGFzcyBJbWFnZVByb21wdFRlbXBsYXRlIGV4dGVuZHMgQmFzZVByb21wdFRlbXBsYXRlIHtcblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiSW1hZ2VQcm9tcHRUZW1wbGF0ZVwiO1xuXHR9XG5cdGxjX25hbWVzcGFjZSA9IFtcblx0XHRcImxhbmdjaGFpbl9jb3JlXCIsXG5cdFx0XCJwcm9tcHRzXCIsXG5cdFx0XCJpbWFnZVwiXG5cdF07XG5cdHRlbXBsYXRlO1xuXHR0ZW1wbGF0ZUZvcm1hdCA9IFwiZi1zdHJpbmdcIjtcblx0dmFsaWRhdGVUZW1wbGF0ZSA9IHRydWU7XG5cdC8qKlxuXHQqIEFkZGl0aW9uYWwgZmllbGRzIHdoaWNoIHNob3VsZCBiZSBpbmNsdWRlZCBpbnNpZGVcblx0KiB0aGUgbWVzc2FnZSBjb250ZW50IGFycmF5IGlmIHVzaW5nIGEgY29tcGxleCBtZXNzYWdlXG5cdCogY29udGVudC5cblx0Ki9cblx0YWRkaXRpb25hbENvbnRlbnRGaWVsZHM7XG5cdGNvbnN0cnVjdG9yKGlucHV0KSB7XG5cdFx0c3VwZXIoaW5wdXQpO1xuXHRcdHRoaXMudGVtcGxhdGUgPSBpbnB1dC50ZW1wbGF0ZTtcblx0XHR0aGlzLnRlbXBsYXRlRm9ybWF0ID0gaW5wdXQudGVtcGxhdGVGb3JtYXQgPz8gdGhpcy50ZW1wbGF0ZUZvcm1hdDtcblx0XHR0aGlzLnZhbGlkYXRlVGVtcGxhdGUgPSBpbnB1dC52YWxpZGF0ZVRlbXBsYXRlID8/IHRoaXMudmFsaWRhdGVUZW1wbGF0ZTtcblx0XHR0aGlzLmFkZGl0aW9uYWxDb250ZW50RmllbGRzID0gaW5wdXQuYWRkaXRpb25hbENvbnRlbnRGaWVsZHM7XG5cdFx0aWYgKHRoaXMudmFsaWRhdGVUZW1wbGF0ZSkge1xuXHRcdFx0bGV0IHRvdGFsSW5wdXRWYXJpYWJsZXMgPSB0aGlzLmlucHV0VmFyaWFibGVzO1xuXHRcdFx0aWYgKHRoaXMucGFydGlhbFZhcmlhYmxlcykgdG90YWxJbnB1dFZhcmlhYmxlcyA9IHRvdGFsSW5wdXRWYXJpYWJsZXMuY29uY2F0KE9iamVjdC5rZXlzKHRoaXMucGFydGlhbFZhcmlhYmxlcykpO1xuXHRcdFx0Y2hlY2tWYWxpZFRlbXBsYXRlKFt7XG5cdFx0XHRcdHR5cGU6IFwiaW1hZ2VfdXJsXCIsXG5cdFx0XHRcdGltYWdlX3VybDogdGhpcy50ZW1wbGF0ZVxuXHRcdFx0fV0sIHRoaXMudGVtcGxhdGVGb3JtYXQsIHRvdGFsSW5wdXRWYXJpYWJsZXMpO1xuXHRcdH1cblx0fVxuXHRfZ2V0UHJvbXB0VHlwZSgpIHtcblx0XHRyZXR1cm4gXCJwcm9tcHRcIjtcblx0fVxuXHQvKipcblx0KiBQYXJ0aWFsbHkgYXBwbGllcyB2YWx1ZXMgdG8gdGhlIHByb21wdCB0ZW1wbGF0ZS5cblx0KiBAcGFyYW0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQgdG8gdGhlIHByb21wdCB0ZW1wbGF0ZS5cblx0KiBAcmV0dXJucyBBIG5ldyBpbnN0YW5jZSBvZiBJbWFnZVByb21wdFRlbXBsYXRlIHdpdGggdGhlIHBhcnRpYWxseSBhcHBsaWVkIHZhbHVlcy5cblx0Ki9cblx0YXN5bmMgcGFydGlhbCh2YWx1ZXMpIHtcblx0XHRjb25zdCBuZXdJbnB1dFZhcmlhYmxlcyA9IHRoaXMuaW5wdXRWYXJpYWJsZXMuZmlsdGVyKChpdikgPT4gIShpdiBpbiB2YWx1ZXMpKTtcblx0XHRjb25zdCBuZXdQYXJ0aWFsVmFyaWFibGVzID0ge1xuXHRcdFx0Li4udGhpcy5wYXJ0aWFsVmFyaWFibGVzID8/IHt9LFxuXHRcdFx0Li4udmFsdWVzXG5cdFx0fTtcblx0XHRjb25zdCBwcm9tcHREaWN0ID0ge1xuXHRcdFx0Li4udGhpcyxcblx0XHRcdGlucHV0VmFyaWFibGVzOiBuZXdJbnB1dFZhcmlhYmxlcyxcblx0XHRcdHBhcnRpYWxWYXJpYWJsZXM6IG5ld1BhcnRpYWxWYXJpYWJsZXNcblx0XHR9O1xuXHRcdHJldHVybiBuZXcgSW1hZ2VQcm9tcHRUZW1wbGF0ZShwcm9tcHREaWN0KTtcblx0fVxuXHQvKipcblx0KiBGb3JtYXRzIHRoZSBwcm9tcHQgdGVtcGxhdGUgd2l0aCB0aGUgcHJvdmlkZWQgdmFsdWVzLlxuXHQqIEBwYXJhbSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBiZSB1c2VkIHRvIGZvcm1hdCB0aGUgcHJvbXB0IHRlbXBsYXRlLlxuXHQqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGEgc3RyaW5nIHdoaWNoIGlzIHRoZSBmb3JtYXR0ZWQgcHJvbXB0LlxuXHQqL1xuXHRhc3luYyBmb3JtYXQodmFsdWVzKSB7XG5cdFx0Y29uc3QgZm9ybWF0dGVkID0ge307XG5cdFx0Zm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy50ZW1wbGF0ZSkpIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIGZvcm1hdHRlZFtrZXldID0gcmVuZGVyVGVtcGxhdGUodmFsdWUsIHRoaXMudGVtcGxhdGVGb3JtYXQsIHZhbHVlcyk7XG5cdFx0ZWxzZSBmb3JtYXR0ZWRba2V5XSA9IHZhbHVlO1xuXHRcdGNvbnN0IHVybCA9IHZhbHVlcy51cmwgfHwgZm9ybWF0dGVkLnVybDtcblx0XHRjb25zdCBkZXRhaWwgPSB2YWx1ZXMuZGV0YWlsIHx8IGZvcm1hdHRlZC5kZXRhaWw7XG5cdFx0aWYgKCF1cmwpIHRocm93IG5ldyBFcnJvcihcIk11c3QgcHJvdmlkZSBlaXRoZXIgYW4gaW1hZ2UgVVJMLlwiKTtcblx0XHRpZiAodHlwZW9mIHVybCAhPT0gXCJzdHJpbmdcIikgdGhyb3cgbmV3IEVycm9yKFwidXJsIG11c3QgYmUgYSBzdHJpbmcuXCIpO1xuXHRcdGNvbnN0IG91dHB1dCA9IHsgdXJsIH07XG5cdFx0aWYgKGRldGFpbCkgb3V0cHV0LmRldGFpbCA9IGRldGFpbDtcblx0XHRyZXR1cm4gb3V0cHV0O1xuXHR9XG5cdC8qKlxuXHQqIEZvcm1hdHMgdGhlIHByb21wdCBnaXZlbiB0aGUgaW5wdXQgdmFsdWVzIGFuZCByZXR1cm5zIGEgZm9ybWF0dGVkXG5cdCogcHJvbXB0IHZhbHVlLlxuXHQqIEBwYXJhbSB2YWx1ZXMgVGhlIGlucHV0IHZhbHVlcyB0byBmb3JtYXQgdGhlIHByb21wdC5cblx0KiBAcmV0dXJucyBBIFByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIGZvcm1hdHRlZCBwcm9tcHQgdmFsdWUuXG5cdCovXG5cdGFzeW5jIGZvcm1hdFByb21wdFZhbHVlKHZhbHVlcykge1xuXHRcdGNvbnN0IGZvcm1hdHRlZFByb21wdCA9IGF3YWl0IHRoaXMuZm9ybWF0KHZhbHVlcyk7XG5cdFx0cmV0dXJuIG5ldyBJbWFnZVByb21wdFZhbHVlKGZvcm1hdHRlZFByb21wdCk7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgSW1hZ2VQcm9tcHRUZW1wbGF0ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW1hZ2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/image.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/index.js":
/*!*******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/index.js ***!
  \*******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AIMessagePromptTemplate: () => (/* reexport safe */ _chat_js__WEBPACK_IMPORTED_MODULE_7__.AIMessagePromptTemplate),\n/* harmony export */   BaseChatPromptTemplate: () => (/* reexport safe */ _chat_js__WEBPACK_IMPORTED_MODULE_7__.BaseChatPromptTemplate),\n/* harmony export */   BaseMessagePromptTemplate: () => (/* reexport safe */ _chat_js__WEBPACK_IMPORTED_MODULE_7__.BaseMessagePromptTemplate),\n/* harmony export */   BaseMessageStringPromptTemplate: () => (/* reexport safe */ _chat_js__WEBPACK_IMPORTED_MODULE_7__.BaseMessageStringPromptTemplate),\n/* harmony export */   BasePromptTemplate: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_1__.BasePromptTemplate),\n/* harmony export */   BaseStringPromptTemplate: () => (/* reexport safe */ _string_js__WEBPACK_IMPORTED_MODULE_2__.BaseStringPromptTemplate),\n/* harmony export */   ChatMessagePromptTemplate: () => (/* reexport safe */ _chat_js__WEBPACK_IMPORTED_MODULE_7__.ChatMessagePromptTemplate),\n/* harmony export */   ChatPromptTemplate: () => (/* reexport safe */ _chat_js__WEBPACK_IMPORTED_MODULE_7__.ChatPromptTemplate),\n/* harmony export */   DEFAULT_FORMATTER_MAPPING: () => (/* reexport safe */ _template_js__WEBPACK_IMPORTED_MODULE_3__.DEFAULT_FORMATTER_MAPPING),\n/* harmony export */   DEFAULT_PARSER_MAPPING: () => (/* reexport safe */ _template_js__WEBPACK_IMPORTED_MODULE_3__.DEFAULT_PARSER_MAPPING),\n/* harmony export */   DictPromptTemplate: () => (/* reexport safe */ _dict_js__WEBPACK_IMPORTED_MODULE_6__.DictPromptTemplate),\n/* harmony export */   FewShotChatMessagePromptTemplate: () => (/* reexport safe */ _few_shot_js__WEBPACK_IMPORTED_MODULE_8__.FewShotChatMessagePromptTemplate),\n/* harmony export */   FewShotPromptTemplate: () => (/* reexport safe */ _few_shot_js__WEBPACK_IMPORTED_MODULE_8__.FewShotPromptTemplate),\n/* harmony export */   HumanMessagePromptTemplate: () => (/* reexport safe */ _chat_js__WEBPACK_IMPORTED_MODULE_7__.HumanMessagePromptTemplate),\n/* harmony export */   ImagePromptTemplate: () => (/* reexport safe */ _image_js__WEBPACK_IMPORTED_MODULE_5__.ImagePromptTemplate),\n/* harmony export */   MessagesPlaceholder: () => (/* reexport safe */ _chat_js__WEBPACK_IMPORTED_MODULE_7__.MessagesPlaceholder),\n/* harmony export */   PipelinePromptTemplate: () => (/* reexport safe */ _pipeline_js__WEBPACK_IMPORTED_MODULE_9__.PipelinePromptTemplate),\n/* harmony export */   PromptTemplate: () => (/* reexport safe */ _prompt_js__WEBPACK_IMPORTED_MODULE_4__.PromptTemplate),\n/* harmony export */   StructuredPrompt: () => (/* reexport safe */ _structured_js__WEBPACK_IMPORTED_MODULE_10__.StructuredPrompt),\n/* harmony export */   SystemMessagePromptTemplate: () => (/* reexport safe */ _chat_js__WEBPACK_IMPORTED_MODULE_7__.SystemMessagePromptTemplate),\n/* harmony export */   checkValidTemplate: () => (/* reexport safe */ _template_js__WEBPACK_IMPORTED_MODULE_3__.checkValidTemplate),\n/* harmony export */   interpolateFString: () => (/* reexport safe */ _template_js__WEBPACK_IMPORTED_MODULE_3__.interpolateFString),\n/* harmony export */   interpolateMustache: () => (/* reexport safe */ _template_js__WEBPACK_IMPORTED_MODULE_3__.interpolateMustache),\n/* harmony export */   parseFString: () => (/* reexport safe */ _template_js__WEBPACK_IMPORTED_MODULE_3__.parseFString),\n/* harmony export */   parseMustache: () => (/* reexport safe */ _template_js__WEBPACK_IMPORTED_MODULE_3__.parseMustache),\n/* harmony export */   parseTemplate: () => (/* reexport safe */ _template_js__WEBPACK_IMPORTED_MODULE_3__.parseTemplate),\n/* harmony export */   prompts_exports: () => (/* binding */ prompts_exports),\n/* harmony export */   renderTemplate: () => (/* reexport safe */ _template_js__WEBPACK_IMPORTED_MODULE_3__.renderTemplate)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/base.js\");\n/* harmony import */ var _string_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./string.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/string.js\");\n/* harmony import */ var _template_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./template.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/template.js\");\n/* harmony import */ var _prompt_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./prompt.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/prompt.js\");\n/* harmony import */ var _image_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./image.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/image.js\");\n/* harmony import */ var _dict_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./dict.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/dict.js\");\n/* harmony import */ var _chat_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./chat.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/chat.js\");\n/* harmony import */ var _few_shot_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./few_shot.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/few_shot.js\");\n/* harmony import */ var _pipeline_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./pipeline.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/pipeline.js\");\n/* harmony import */ var _structured_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./structured.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/structured.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n//#region src/prompts/index.ts\nvar prompts_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(prompts_exports, {\n\tAIMessagePromptTemplate: () => _chat_js__WEBPACK_IMPORTED_MODULE_7__.AIMessagePromptTemplate,\n\tBaseChatPromptTemplate: () => _chat_js__WEBPACK_IMPORTED_MODULE_7__.BaseChatPromptTemplate,\n\tBaseMessagePromptTemplate: () => _chat_js__WEBPACK_IMPORTED_MODULE_7__.BaseMessagePromptTemplate,\n\tBaseMessageStringPromptTemplate: () => _chat_js__WEBPACK_IMPORTED_MODULE_7__.BaseMessageStringPromptTemplate,\n\tBasePromptTemplate: () => _base_js__WEBPACK_IMPORTED_MODULE_1__.BasePromptTemplate,\n\tBaseStringPromptTemplate: () => _string_js__WEBPACK_IMPORTED_MODULE_2__.BaseStringPromptTemplate,\n\tChatMessagePromptTemplate: () => _chat_js__WEBPACK_IMPORTED_MODULE_7__.ChatMessagePromptTemplate,\n\tChatPromptTemplate: () => _chat_js__WEBPACK_IMPORTED_MODULE_7__.ChatPromptTemplate,\n\tDEFAULT_FORMATTER_MAPPING: () => _template_js__WEBPACK_IMPORTED_MODULE_3__.DEFAULT_FORMATTER_MAPPING,\n\tDEFAULT_PARSER_MAPPING: () => _template_js__WEBPACK_IMPORTED_MODULE_3__.DEFAULT_PARSER_MAPPING,\n\tDictPromptTemplate: () => _dict_js__WEBPACK_IMPORTED_MODULE_6__.DictPromptTemplate,\n\tFewShotChatMessagePromptTemplate: () => _few_shot_js__WEBPACK_IMPORTED_MODULE_8__.FewShotChatMessagePromptTemplate,\n\tFewShotPromptTemplate: () => _few_shot_js__WEBPACK_IMPORTED_MODULE_8__.FewShotPromptTemplate,\n\tHumanMessagePromptTemplate: () => _chat_js__WEBPACK_IMPORTED_MODULE_7__.HumanMessagePromptTemplate,\n\tImagePromptTemplate: () => _image_js__WEBPACK_IMPORTED_MODULE_5__.ImagePromptTemplate,\n\tMessagesPlaceholder: () => _chat_js__WEBPACK_IMPORTED_MODULE_7__.MessagesPlaceholder,\n\tPipelinePromptTemplate: () => _pipeline_js__WEBPACK_IMPORTED_MODULE_9__.PipelinePromptTemplate,\n\tPromptTemplate: () => _prompt_js__WEBPACK_IMPORTED_MODULE_4__.PromptTemplate,\n\tStructuredPrompt: () => _structured_js__WEBPACK_IMPORTED_MODULE_10__.StructuredPrompt,\n\tSystemMessagePromptTemplate: () => _chat_js__WEBPACK_IMPORTED_MODULE_7__.SystemMessagePromptTemplate,\n\tcheckValidTemplate: () => _template_js__WEBPACK_IMPORTED_MODULE_3__.checkValidTemplate,\n\tinterpolateFString: () => _template_js__WEBPACK_IMPORTED_MODULE_3__.interpolateFString,\n\tinterpolateMustache: () => _template_js__WEBPACK_IMPORTED_MODULE_3__.interpolateMustache,\n\tparseFString: () => _template_js__WEBPACK_IMPORTED_MODULE_3__.parseFString,\n\tparseMustache: () => _template_js__WEBPACK_IMPORTED_MODULE_3__.parseMustache,\n\tparseTemplate: () => _template_js__WEBPACK_IMPORTED_MODULE_3__.parseTemplate,\n\trenderTemplate: () => _template_js__WEBPACK_IMPORTED_MODULE_3__.renderTemplate\n});\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3Byb21wdHMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTJEO0FBQ1o7QUFDUTtBQUNvSjtBQUM5SjtBQUNJO0FBQ0Y7QUFDc047QUFDN0s7QUFDakM7QUFDSjs7QUFFbkQ7QUFDQTtBQUNBLHNFQUFRO0FBQ1IsZ0NBQWdDLDZEQUF1QjtBQUN2RCwrQkFBK0IsNERBQXNCO0FBQ3JELGtDQUFrQywrREFBeUI7QUFDM0Qsd0NBQXdDLHFFQUErQjtBQUN2RSwyQkFBMkIsd0RBQWtCO0FBQzdDLGlDQUFpQyxnRUFBd0I7QUFDekQsa0NBQWtDLCtEQUF5QjtBQUMzRCwyQkFBMkIsd0RBQWtCO0FBQzdDLGtDQUFrQyxtRUFBeUI7QUFDM0QsK0JBQStCLGdFQUFzQjtBQUNyRCwyQkFBMkIsd0RBQWtCO0FBQzdDLHlDQUF5QywwRUFBZ0M7QUFDekUsOEJBQThCLCtEQUFxQjtBQUNuRCxtQ0FBbUMsZ0VBQTBCO0FBQzdELDRCQUE0QiwwREFBbUI7QUFDL0MsNEJBQTRCLHlEQUFtQjtBQUMvQywrQkFBK0IsZ0VBQXNCO0FBQ3JELHVCQUF1QixzREFBYztBQUNyQyx5QkFBeUIsNkRBQWdCO0FBQ3pDLG9DQUFvQyxpRUFBMkI7QUFDL0QsMkJBQTJCLDREQUFrQjtBQUM3QywyQkFBMkIsNERBQWtCO0FBQzdDLDRCQUE0Qiw2REFBbUI7QUFDL0MscUJBQXFCLHNEQUFZO0FBQ2pDLHNCQUFzQix1REFBYTtBQUNuQyxzQkFBc0IsdURBQWE7QUFDbkMsdUJBQXVCLHdEQUFjO0FBQ3JDLENBQUM7O0FBRUQ7QUFDMm5CO0FBQzNuQiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9wcm9tcHRzL2luZGV4LmpzP2U5YmQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19leHBvcnQgfSBmcm9tIFwiLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5qc1wiO1xuaW1wb3J0IHsgQmFzZVByb21wdFRlbXBsYXRlIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgQmFzZVN0cmluZ1Byb21wdFRlbXBsYXRlIH0gZnJvbSBcIi4vc3RyaW5nLmpzXCI7XG5pbXBvcnQgeyBERUZBVUxUX0ZPUk1BVFRFUl9NQVBQSU5HLCBERUZBVUxUX1BBUlNFUl9NQVBQSU5HLCBjaGVja1ZhbGlkVGVtcGxhdGUsIGludGVycG9sYXRlRlN0cmluZywgaW50ZXJwb2xhdGVNdXN0YWNoZSwgcGFyc2VGU3RyaW5nLCBwYXJzZU11c3RhY2hlLCBwYXJzZVRlbXBsYXRlLCByZW5kZXJUZW1wbGF0ZSB9IGZyb20gXCIuL3RlbXBsYXRlLmpzXCI7XG5pbXBvcnQgeyBQcm9tcHRUZW1wbGF0ZSB9IGZyb20gXCIuL3Byb21wdC5qc1wiO1xuaW1wb3J0IHsgSW1hZ2VQcm9tcHRUZW1wbGF0ZSB9IGZyb20gXCIuL2ltYWdlLmpzXCI7XG5pbXBvcnQgeyBEaWN0UHJvbXB0VGVtcGxhdGUgfSBmcm9tIFwiLi9kaWN0LmpzXCI7XG5pbXBvcnQgeyBBSU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSwgQmFzZUNoYXRQcm9tcHRUZW1wbGF0ZSwgQmFzZU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSwgQmFzZU1lc3NhZ2VTdHJpbmdQcm9tcHRUZW1wbGF0ZSwgQ2hhdE1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSwgQ2hhdFByb21wdFRlbXBsYXRlLCBIdW1hbk1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSwgTWVzc2FnZXNQbGFjZWhvbGRlciwgU3lzdGVtTWVzc2FnZVByb21wdFRlbXBsYXRlIH0gZnJvbSBcIi4vY2hhdC5qc1wiO1xuaW1wb3J0IHsgRmV3U2hvdENoYXRNZXNzYWdlUHJvbXB0VGVtcGxhdGUsIEZld1Nob3RQcm9tcHRUZW1wbGF0ZSB9IGZyb20gXCIuL2Zld19zaG90LmpzXCI7XG5pbXBvcnQgeyBQaXBlbGluZVByb21wdFRlbXBsYXRlIH0gZnJvbSBcIi4vcGlwZWxpbmUuanNcIjtcbmltcG9ydCB7IFN0cnVjdHVyZWRQcm9tcHQgfSBmcm9tIFwiLi9zdHJ1Y3R1cmVkLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvcHJvbXB0cy9pbmRleC50c1xudmFyIHByb21wdHNfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQocHJvbXB0c19leHBvcnRzLCB7XG5cdEFJTWVzc2FnZVByb21wdFRlbXBsYXRlOiAoKSA9PiBBSU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSxcblx0QmFzZUNoYXRQcm9tcHRUZW1wbGF0ZTogKCkgPT4gQmFzZUNoYXRQcm9tcHRUZW1wbGF0ZSxcblx0QmFzZU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZTogKCkgPT4gQmFzZU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSxcblx0QmFzZU1lc3NhZ2VTdHJpbmdQcm9tcHRUZW1wbGF0ZTogKCkgPT4gQmFzZU1lc3NhZ2VTdHJpbmdQcm9tcHRUZW1wbGF0ZSxcblx0QmFzZVByb21wdFRlbXBsYXRlOiAoKSA9PiBCYXNlUHJvbXB0VGVtcGxhdGUsXG5cdEJhc2VTdHJpbmdQcm9tcHRUZW1wbGF0ZTogKCkgPT4gQmFzZVN0cmluZ1Byb21wdFRlbXBsYXRlLFxuXHRDaGF0TWVzc2FnZVByb21wdFRlbXBsYXRlOiAoKSA9PiBDaGF0TWVzc2FnZVByb21wdFRlbXBsYXRlLFxuXHRDaGF0UHJvbXB0VGVtcGxhdGU6ICgpID0+IENoYXRQcm9tcHRUZW1wbGF0ZSxcblx0REVGQVVMVF9GT1JNQVRURVJfTUFQUElORzogKCkgPT4gREVGQVVMVF9GT1JNQVRURVJfTUFQUElORyxcblx0REVGQVVMVF9QQVJTRVJfTUFQUElORzogKCkgPT4gREVGQVVMVF9QQVJTRVJfTUFQUElORyxcblx0RGljdFByb21wdFRlbXBsYXRlOiAoKSA9PiBEaWN0UHJvbXB0VGVtcGxhdGUsXG5cdEZld1Nob3RDaGF0TWVzc2FnZVByb21wdFRlbXBsYXRlOiAoKSA9PiBGZXdTaG90Q2hhdE1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSxcblx0RmV3U2hvdFByb21wdFRlbXBsYXRlOiAoKSA9PiBGZXdTaG90UHJvbXB0VGVtcGxhdGUsXG5cdEh1bWFuTWVzc2FnZVByb21wdFRlbXBsYXRlOiAoKSA9PiBIdW1hbk1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSxcblx0SW1hZ2VQcm9tcHRUZW1wbGF0ZTogKCkgPT4gSW1hZ2VQcm9tcHRUZW1wbGF0ZSxcblx0TWVzc2FnZXNQbGFjZWhvbGRlcjogKCkgPT4gTWVzc2FnZXNQbGFjZWhvbGRlcixcblx0UGlwZWxpbmVQcm9tcHRUZW1wbGF0ZTogKCkgPT4gUGlwZWxpbmVQcm9tcHRUZW1wbGF0ZSxcblx0UHJvbXB0VGVtcGxhdGU6ICgpID0+IFByb21wdFRlbXBsYXRlLFxuXHRTdHJ1Y3R1cmVkUHJvbXB0OiAoKSA9PiBTdHJ1Y3R1cmVkUHJvbXB0LFxuXHRTeXN0ZW1NZXNzYWdlUHJvbXB0VGVtcGxhdGU6ICgpID0+IFN5c3RlbU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSxcblx0Y2hlY2tWYWxpZFRlbXBsYXRlOiAoKSA9PiBjaGVja1ZhbGlkVGVtcGxhdGUsXG5cdGludGVycG9sYXRlRlN0cmluZzogKCkgPT4gaW50ZXJwb2xhdGVGU3RyaW5nLFxuXHRpbnRlcnBvbGF0ZU11c3RhY2hlOiAoKSA9PiBpbnRlcnBvbGF0ZU11c3RhY2hlLFxuXHRwYXJzZUZTdHJpbmc6ICgpID0+IHBhcnNlRlN0cmluZyxcblx0cGFyc2VNdXN0YWNoZTogKCkgPT4gcGFyc2VNdXN0YWNoZSxcblx0cGFyc2VUZW1wbGF0ZTogKCkgPT4gcGFyc2VUZW1wbGF0ZSxcblx0cmVuZGVyVGVtcGxhdGU6ICgpID0+IHJlbmRlclRlbXBsYXRlXG59KTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBBSU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSwgQmFzZUNoYXRQcm9tcHRUZW1wbGF0ZSwgQmFzZU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSwgQmFzZU1lc3NhZ2VTdHJpbmdQcm9tcHRUZW1wbGF0ZSwgQmFzZVByb21wdFRlbXBsYXRlLCBCYXNlU3RyaW5nUHJvbXB0VGVtcGxhdGUsIENoYXRNZXNzYWdlUHJvbXB0VGVtcGxhdGUsIENoYXRQcm9tcHRUZW1wbGF0ZSwgREVGQVVMVF9GT1JNQVRURVJfTUFQUElORywgREVGQVVMVF9QQVJTRVJfTUFQUElORywgRGljdFByb21wdFRlbXBsYXRlLCBGZXdTaG90Q2hhdE1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSwgRmV3U2hvdFByb21wdFRlbXBsYXRlLCBIdW1hbk1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSwgSW1hZ2VQcm9tcHRUZW1wbGF0ZSwgTWVzc2FnZXNQbGFjZWhvbGRlciwgUGlwZWxpbmVQcm9tcHRUZW1wbGF0ZSwgUHJvbXB0VGVtcGxhdGUsIFN0cnVjdHVyZWRQcm9tcHQsIFN5c3RlbU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSwgY2hlY2tWYWxpZFRlbXBsYXRlLCBpbnRlcnBvbGF0ZUZTdHJpbmcsIGludGVycG9sYXRlTXVzdGFjaGUsIHBhcnNlRlN0cmluZywgcGFyc2VNdXN0YWNoZSwgcGFyc2VUZW1wbGF0ZSwgcHJvbXB0c19leHBvcnRzLCByZW5kZXJUZW1wbGF0ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/pipeline.js":
/*!**********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/pipeline.js ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PipelinePromptTemplate: () => (/* binding */ PipelinePromptTemplate)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/base.js\");\n/* harmony import */ var _chat_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chat.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/chat.js\");\n\n\n\n//#region src/prompts/pipeline.ts\n/**\n* Class that handles a sequence of prompts, each of which may require\n* different input variables. Includes methods for formatting these\n* prompts, extracting required input values, and handling partial\n* prompts.\n* @example\n* ```typescript\n* const composedPrompt = new PipelinePromptTemplate({\n*   pipelinePrompts: [\n*     {\n*       name: \"introduction\",\n*       prompt: PromptTemplate.fromTemplate(`You are impersonating {person}.`),\n*     },\n*     {\n*       name: \"example\",\n*       prompt: PromptTemplate.fromTemplate(\n*         `Here's an example of an interaction:\n* Q: {example_q}\n* A: {example_a}`,\n*       ),\n*     },\n*     {\n*       name: \"start\",\n*       prompt: PromptTemplate.fromTemplate(\n*         `Now, do this for real!\n* Q: {input}\n* A:`,\n*       ),\n*     },\n*   ],\n*   finalPrompt: PromptTemplate.fromTemplate(\n*     `{introduction}\n* {example}\n* {start}`,\n*   ),\n* });\n*\n* const formattedPrompt = await composedPrompt.format({\n*   person: \"Elon Musk\",\n*   example_q: `What's your favorite car?`,\n*   example_a: \"Tesla\",\n*   input: `What's your favorite social media site?`,\n* });\n* ```\n*/\nvar PipelinePromptTemplate = class PipelinePromptTemplate extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BasePromptTemplate {\n\tstatic lc_name() {\n\t\treturn \"PipelinePromptTemplate\";\n\t}\n\tpipelinePrompts;\n\tfinalPrompt;\n\tconstructor(input) {\n\t\tsuper({\n\t\t\t...input,\n\t\t\tinputVariables: []\n\t\t});\n\t\tthis.pipelinePrompts = input.pipelinePrompts;\n\t\tthis.finalPrompt = input.finalPrompt;\n\t\tthis.inputVariables = this.computeInputValues();\n\t}\n\t/**\n\t* Computes the input values required by the pipeline prompts.\n\t* @returns Array of input values required by the pipeline prompts.\n\t*/\n\tcomputeInputValues() {\n\t\tconst intermediateValues = this.pipelinePrompts.map((pipelinePrompt) => pipelinePrompt.name);\n\t\tconst inputValues = this.pipelinePrompts.map((pipelinePrompt) => pipelinePrompt.prompt.inputVariables.filter((inputValue) => !intermediateValues.includes(inputValue))).flat();\n\t\treturn [...new Set(inputValues)];\n\t}\n\tstatic extractRequiredInputValues(allValues, requiredValueNames) {\n\t\treturn requiredValueNames.reduce((requiredValues, valueName) => {\n\t\t\trequiredValues[valueName] = allValues[valueName];\n\t\t\treturn requiredValues;\n\t\t}, {});\n\t}\n\t/**\n\t* Formats the pipeline prompts based on the provided input values.\n\t* @param values Input values to format the pipeline prompts.\n\t* @returns Promise that resolves with the formatted input values.\n\t*/\n\tasync formatPipelinePrompts(values) {\n\t\tconst allValues = await this.mergePartialAndUserVariables(values);\n\t\tfor (const { name: pipelinePromptName, prompt: pipelinePrompt } of this.pipelinePrompts) {\n\t\t\tconst pipelinePromptInputValues = PipelinePromptTemplate.extractRequiredInputValues(allValues, pipelinePrompt.inputVariables);\n\t\t\tif (pipelinePrompt instanceof _chat_js__WEBPACK_IMPORTED_MODULE_1__.ChatPromptTemplate) allValues[pipelinePromptName] = await pipelinePrompt.formatMessages(pipelinePromptInputValues);\n\t\t\telse allValues[pipelinePromptName] = await pipelinePrompt.format(pipelinePromptInputValues);\n\t\t}\n\t\treturn PipelinePromptTemplate.extractRequiredInputValues(allValues, this.finalPrompt.inputVariables);\n\t}\n\t/**\n\t* Formats the final prompt value based on the provided input values.\n\t* @param values Input values to format the final prompt value.\n\t* @returns Promise that resolves with the formatted final prompt value.\n\t*/\n\tasync formatPromptValue(values) {\n\t\treturn this.finalPrompt.formatPromptValue(await this.formatPipelinePrompts(values));\n\t}\n\tasync format(values) {\n\t\treturn this.finalPrompt.format(await this.formatPipelinePrompts(values));\n\t}\n\t/**\n\t* Handles partial prompts, which are prompts that have been partially\n\t* filled with input values.\n\t* @param values Partial input values.\n\t* @returns Promise that resolves with a new PipelinePromptTemplate instance with updated input variables.\n\t*/\n\tasync partial(values) {\n\t\tconst promptDict = { ...this };\n\t\tpromptDict.inputVariables = this.inputVariables.filter((iv) => !(iv in values));\n\t\tpromptDict.partialVariables = {\n\t\t\t...this.partialVariables ?? {},\n\t\t\t...values\n\t\t};\n\t\treturn new PipelinePromptTemplate(promptDict);\n\t}\n\tserialize() {\n\t\tthrow new Error(\"Not implemented.\");\n\t}\n\t_getPromptType() {\n\t\treturn \"pipeline\";\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=pipeline.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3Byb21wdHMvcGlwZWxpbmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQStDO0FBQ0E7O0FBRS9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRSxPQUFPO0FBQzNFLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixNQUFNLFVBQVU7QUFDaEI7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsUUFBUTtBQUNSLEdBQUc7QUFDSCxHQUFHLE1BQU07QUFDVDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGtFQUFrRSx3REFBa0I7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLElBQUk7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxtREFBbUQ7QUFDbEU7QUFDQSxpQ0FBaUMsd0RBQWtCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNrQztBQUNsQyIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9wcm9tcHRzL3BpcGVsaW5lLmpzPzZmM2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzZVByb21wdFRlbXBsYXRlIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgQ2hhdFByb21wdFRlbXBsYXRlIH0gZnJvbSBcIi4vY2hhdC5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3Byb21wdHMvcGlwZWxpbmUudHNcbi8qKlxuKiBDbGFzcyB0aGF0IGhhbmRsZXMgYSBzZXF1ZW5jZSBvZiBwcm9tcHRzLCBlYWNoIG9mIHdoaWNoIG1heSByZXF1aXJlXG4qIGRpZmZlcmVudCBpbnB1dCB2YXJpYWJsZXMuIEluY2x1ZGVzIG1ldGhvZHMgZm9yIGZvcm1hdHRpbmcgdGhlc2VcbiogcHJvbXB0cywgZXh0cmFjdGluZyByZXF1aXJlZCBpbnB1dCB2YWx1ZXMsIGFuZCBoYW5kbGluZyBwYXJ0aWFsXG4qIHByb21wdHMuXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogY29uc3QgY29tcG9zZWRQcm9tcHQgPSBuZXcgUGlwZWxpbmVQcm9tcHRUZW1wbGF0ZSh7XG4qICAgcGlwZWxpbmVQcm9tcHRzOiBbXG4qICAgICB7XG4qICAgICAgIG5hbWU6IFwiaW50cm9kdWN0aW9uXCIsXG4qICAgICAgIHByb21wdDogUHJvbXB0VGVtcGxhdGUuZnJvbVRlbXBsYXRlKGBZb3UgYXJlIGltcGVyc29uYXRpbmcge3BlcnNvbn0uYCksXG4qICAgICB9LFxuKiAgICAge1xuKiAgICAgICBuYW1lOiBcImV4YW1wbGVcIixcbiogICAgICAgcHJvbXB0OiBQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUoXG4qICAgICAgICAgYEhlcmUncyBhbiBleGFtcGxlIG9mIGFuIGludGVyYWN0aW9uOlxuKiBROiB7ZXhhbXBsZV9xfVxuKiBBOiB7ZXhhbXBsZV9hfWAsXG4qICAgICAgICksXG4qICAgICB9LFxuKiAgICAge1xuKiAgICAgICBuYW1lOiBcInN0YXJ0XCIsXG4qICAgICAgIHByb21wdDogUHJvbXB0VGVtcGxhdGUuZnJvbVRlbXBsYXRlKFxuKiAgICAgICAgIGBOb3csIGRvIHRoaXMgZm9yIHJlYWwhXG4qIFE6IHtpbnB1dH1cbiogQTpgLFxuKiAgICAgICApLFxuKiAgICAgfSxcbiogICBdLFxuKiAgIGZpbmFsUHJvbXB0OiBQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUoXG4qICAgICBge2ludHJvZHVjdGlvbn1cbioge2V4YW1wbGV9XG4qIHtzdGFydH1gLFxuKiAgICksXG4qIH0pO1xuKlxuKiBjb25zdCBmb3JtYXR0ZWRQcm9tcHQgPSBhd2FpdCBjb21wb3NlZFByb21wdC5mb3JtYXQoe1xuKiAgIHBlcnNvbjogXCJFbG9uIE11c2tcIixcbiogICBleGFtcGxlX3E6IGBXaGF0J3MgeW91ciBmYXZvcml0ZSBjYXI/YCxcbiogICBleGFtcGxlX2E6IFwiVGVzbGFcIixcbiogICBpbnB1dDogYFdoYXQncyB5b3VyIGZhdm9yaXRlIHNvY2lhbCBtZWRpYSBzaXRlP2AsXG4qIH0pO1xuKiBgYGBcbiovXG52YXIgUGlwZWxpbmVQcm9tcHRUZW1wbGF0ZSA9IGNsYXNzIFBpcGVsaW5lUHJvbXB0VGVtcGxhdGUgZXh0ZW5kcyBCYXNlUHJvbXB0VGVtcGxhdGUge1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJQaXBlbGluZVByb21wdFRlbXBsYXRlXCI7XG5cdH1cblx0cGlwZWxpbmVQcm9tcHRzO1xuXHRmaW5hbFByb21wdDtcblx0Y29uc3RydWN0b3IoaW5wdXQpIHtcblx0XHRzdXBlcih7XG5cdFx0XHQuLi5pbnB1dCxcblx0XHRcdGlucHV0VmFyaWFibGVzOiBbXVxuXHRcdH0pO1xuXHRcdHRoaXMucGlwZWxpbmVQcm9tcHRzID0gaW5wdXQucGlwZWxpbmVQcm9tcHRzO1xuXHRcdHRoaXMuZmluYWxQcm9tcHQgPSBpbnB1dC5maW5hbFByb21wdDtcblx0XHR0aGlzLmlucHV0VmFyaWFibGVzID0gdGhpcy5jb21wdXRlSW5wdXRWYWx1ZXMoKTtcblx0fVxuXHQvKipcblx0KiBDb21wdXRlcyB0aGUgaW5wdXQgdmFsdWVzIHJlcXVpcmVkIGJ5IHRoZSBwaXBlbGluZSBwcm9tcHRzLlxuXHQqIEByZXR1cm5zIEFycmF5IG9mIGlucHV0IHZhbHVlcyByZXF1aXJlZCBieSB0aGUgcGlwZWxpbmUgcHJvbXB0cy5cblx0Ki9cblx0Y29tcHV0ZUlucHV0VmFsdWVzKCkge1xuXHRcdGNvbnN0IGludGVybWVkaWF0ZVZhbHVlcyA9IHRoaXMucGlwZWxpbmVQcm9tcHRzLm1hcCgocGlwZWxpbmVQcm9tcHQpID0+IHBpcGVsaW5lUHJvbXB0Lm5hbWUpO1xuXHRcdGNvbnN0IGlucHV0VmFsdWVzID0gdGhpcy5waXBlbGluZVByb21wdHMubWFwKChwaXBlbGluZVByb21wdCkgPT4gcGlwZWxpbmVQcm9tcHQucHJvbXB0LmlucHV0VmFyaWFibGVzLmZpbHRlcigoaW5wdXRWYWx1ZSkgPT4gIWludGVybWVkaWF0ZVZhbHVlcy5pbmNsdWRlcyhpbnB1dFZhbHVlKSkpLmZsYXQoKTtcblx0XHRyZXR1cm4gWy4uLm5ldyBTZXQoaW5wdXRWYWx1ZXMpXTtcblx0fVxuXHRzdGF0aWMgZXh0cmFjdFJlcXVpcmVkSW5wdXRWYWx1ZXMoYWxsVmFsdWVzLCByZXF1aXJlZFZhbHVlTmFtZXMpIHtcblx0XHRyZXR1cm4gcmVxdWlyZWRWYWx1ZU5hbWVzLnJlZHVjZSgocmVxdWlyZWRWYWx1ZXMsIHZhbHVlTmFtZSkgPT4ge1xuXHRcdFx0cmVxdWlyZWRWYWx1ZXNbdmFsdWVOYW1lXSA9IGFsbFZhbHVlc1t2YWx1ZU5hbWVdO1xuXHRcdFx0cmV0dXJuIHJlcXVpcmVkVmFsdWVzO1xuXHRcdH0sIHt9KTtcblx0fVxuXHQvKipcblx0KiBGb3JtYXRzIHRoZSBwaXBlbGluZSBwcm9tcHRzIGJhc2VkIG9uIHRoZSBwcm92aWRlZCBpbnB1dCB2YWx1ZXMuXG5cdCogQHBhcmFtIHZhbHVlcyBJbnB1dCB2YWx1ZXMgdG8gZm9ybWF0IHRoZSBwaXBlbGluZSBwcm9tcHRzLlxuXHQqIEByZXR1cm5zIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBmb3JtYXR0ZWQgaW5wdXQgdmFsdWVzLlxuXHQqL1xuXHRhc3luYyBmb3JtYXRQaXBlbGluZVByb21wdHModmFsdWVzKSB7XG5cdFx0Y29uc3QgYWxsVmFsdWVzID0gYXdhaXQgdGhpcy5tZXJnZVBhcnRpYWxBbmRVc2VyVmFyaWFibGVzKHZhbHVlcyk7XG5cdFx0Zm9yIChjb25zdCB7IG5hbWU6IHBpcGVsaW5lUHJvbXB0TmFtZSwgcHJvbXB0OiBwaXBlbGluZVByb21wdCB9IG9mIHRoaXMucGlwZWxpbmVQcm9tcHRzKSB7XG5cdFx0XHRjb25zdCBwaXBlbGluZVByb21wdElucHV0VmFsdWVzID0gUGlwZWxpbmVQcm9tcHRUZW1wbGF0ZS5leHRyYWN0UmVxdWlyZWRJbnB1dFZhbHVlcyhhbGxWYWx1ZXMsIHBpcGVsaW5lUHJvbXB0LmlucHV0VmFyaWFibGVzKTtcblx0XHRcdGlmIChwaXBlbGluZVByb21wdCBpbnN0YW5jZW9mIENoYXRQcm9tcHRUZW1wbGF0ZSkgYWxsVmFsdWVzW3BpcGVsaW5lUHJvbXB0TmFtZV0gPSBhd2FpdCBwaXBlbGluZVByb21wdC5mb3JtYXRNZXNzYWdlcyhwaXBlbGluZVByb21wdElucHV0VmFsdWVzKTtcblx0XHRcdGVsc2UgYWxsVmFsdWVzW3BpcGVsaW5lUHJvbXB0TmFtZV0gPSBhd2FpdCBwaXBlbGluZVByb21wdC5mb3JtYXQocGlwZWxpbmVQcm9tcHRJbnB1dFZhbHVlcyk7XG5cdFx0fVxuXHRcdHJldHVybiBQaXBlbGluZVByb21wdFRlbXBsYXRlLmV4dHJhY3RSZXF1aXJlZElucHV0VmFsdWVzKGFsbFZhbHVlcywgdGhpcy5maW5hbFByb21wdC5pbnB1dFZhcmlhYmxlcyk7XG5cdH1cblx0LyoqXG5cdCogRm9ybWF0cyB0aGUgZmluYWwgcHJvbXB0IHZhbHVlIGJhc2VkIG9uIHRoZSBwcm92aWRlZCBpbnB1dCB2YWx1ZXMuXG5cdCogQHBhcmFtIHZhbHVlcyBJbnB1dCB2YWx1ZXMgdG8gZm9ybWF0IHRoZSBmaW5hbCBwcm9tcHQgdmFsdWUuXG5cdCogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIGZvcm1hdHRlZCBmaW5hbCBwcm9tcHQgdmFsdWUuXG5cdCovXG5cdGFzeW5jIGZvcm1hdFByb21wdFZhbHVlKHZhbHVlcykge1xuXHRcdHJldHVybiB0aGlzLmZpbmFsUHJvbXB0LmZvcm1hdFByb21wdFZhbHVlKGF3YWl0IHRoaXMuZm9ybWF0UGlwZWxpbmVQcm9tcHRzKHZhbHVlcykpO1xuXHR9XG5cdGFzeW5jIGZvcm1hdCh2YWx1ZXMpIHtcblx0XHRyZXR1cm4gdGhpcy5maW5hbFByb21wdC5mb3JtYXQoYXdhaXQgdGhpcy5mb3JtYXRQaXBlbGluZVByb21wdHModmFsdWVzKSk7XG5cdH1cblx0LyoqXG5cdCogSGFuZGxlcyBwYXJ0aWFsIHByb21wdHMsIHdoaWNoIGFyZSBwcm9tcHRzIHRoYXQgaGF2ZSBiZWVuIHBhcnRpYWxseVxuXHQqIGZpbGxlZCB3aXRoIGlucHV0IHZhbHVlcy5cblx0KiBAcGFyYW0gdmFsdWVzIFBhcnRpYWwgaW5wdXQgdmFsdWVzLlxuXHQqIEByZXR1cm5zIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIGEgbmV3IFBpcGVsaW5lUHJvbXB0VGVtcGxhdGUgaW5zdGFuY2Ugd2l0aCB1cGRhdGVkIGlucHV0IHZhcmlhYmxlcy5cblx0Ki9cblx0YXN5bmMgcGFydGlhbCh2YWx1ZXMpIHtcblx0XHRjb25zdCBwcm9tcHREaWN0ID0geyAuLi50aGlzIH07XG5cdFx0cHJvbXB0RGljdC5pbnB1dFZhcmlhYmxlcyA9IHRoaXMuaW5wdXRWYXJpYWJsZXMuZmlsdGVyKChpdikgPT4gIShpdiBpbiB2YWx1ZXMpKTtcblx0XHRwcm9tcHREaWN0LnBhcnRpYWxWYXJpYWJsZXMgPSB7XG5cdFx0XHQuLi50aGlzLnBhcnRpYWxWYXJpYWJsZXMgPz8ge30sXG5cdFx0XHQuLi52YWx1ZXNcblx0XHR9O1xuXHRcdHJldHVybiBuZXcgUGlwZWxpbmVQcm9tcHRUZW1wbGF0ZShwcm9tcHREaWN0KTtcblx0fVxuXHRzZXJpYWxpemUoKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkLlwiKTtcblx0fVxuXHRfZ2V0UHJvbXB0VHlwZSgpIHtcblx0XHRyZXR1cm4gXCJwaXBlbGluZVwiO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IFBpcGVsaW5lUHJvbXB0VGVtcGxhdGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBpcGVsaW5lLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/pipeline.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/prompt.js":
/*!********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/prompt.js ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PromptTemplate: () => (/* binding */ PromptTemplate)\n/* harmony export */ });\n/* harmony import */ var _string_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./string.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/string.js\");\n/* harmony import */ var _template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./template.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/template.js\");\n\n\n\n//#region src/prompts/prompt.ts\n/**\n* Schema to represent a basic prompt for an LLM.\n* @augments BasePromptTemplate\n* @augments PromptTemplateInput\n*\n* @example\n* ```ts\n* import { PromptTemplate } from \"langchain/prompts\";\n*\n* const prompt = new PromptTemplate({\n*   inputVariables: [\"foo\"],\n*   template: \"Say {foo}\",\n* });\n* ```\n*/\nvar PromptTemplate = class PromptTemplate extends _string_js__WEBPACK_IMPORTED_MODULE_0__.BaseStringPromptTemplate {\n\tstatic lc_name() {\n\t\treturn \"PromptTemplate\";\n\t}\n\ttemplate;\n\ttemplateFormat = \"f-string\";\n\tvalidateTemplate = true;\n\t/**\n\t* Additional fields which should be included inside\n\t* the message content array if using a complex message\n\t* content.\n\t*/\n\tadditionalContentFields;\n\tconstructor(input) {\n\t\tsuper(input);\n\t\tif (input.templateFormat === \"mustache\" && input.validateTemplate === void 0) this.validateTemplate = false;\n\t\tObject.assign(this, input);\n\t\tif (this.validateTemplate) {\n\t\t\tif (this.templateFormat === \"mustache\") throw new Error(\"Mustache templates cannot be validated.\");\n\t\t\tlet totalInputVariables = this.inputVariables;\n\t\t\tif (this.partialVariables) totalInputVariables = totalInputVariables.concat(Object.keys(this.partialVariables));\n\t\t\t(0,_template_js__WEBPACK_IMPORTED_MODULE_1__.checkValidTemplate)(this.template, this.templateFormat, totalInputVariables);\n\t\t}\n\t}\n\t_getPromptType() {\n\t\treturn \"prompt\";\n\t}\n\t/**\n\t* Formats the prompt template with the provided values.\n\t* @param values The values to be used to format the prompt template.\n\t* @returns A promise that resolves to a string which is the formatted prompt.\n\t*/\n\tasync format(values) {\n\t\tconst allValues = await this.mergePartialAndUserVariables(values);\n\t\treturn (0,_template_js__WEBPACK_IMPORTED_MODULE_1__.renderTemplate)(this.template, this.templateFormat, allValues);\n\t}\n\t/**\n\t* Take examples in list format with prefix and suffix to create a prompt.\n\t*\n\t* Intended to be used a a way to dynamically create a prompt from examples.\n\t*\n\t* @param examples - List of examples to use in the prompt.\n\t* @param suffix - String to go after the list of examples. Should generally set up the user's input.\n\t* @param inputVariables - A list of variable names the final prompt template will expect\n\t* @param exampleSeparator - The separator to use in between examples\n\t* @param prefix - String that should go before any examples. Generally includes examples.\n\t*\n\t* @returns The final prompt template generated.\n\t*/\n\tstatic fromExamples(examples, suffix, inputVariables, exampleSeparator = \"\\n\\n\", prefix = \"\") {\n\t\tconst template = [\n\t\t\tprefix,\n\t\t\t...examples,\n\t\t\tsuffix\n\t\t].join(exampleSeparator);\n\t\treturn new PromptTemplate({\n\t\t\tinputVariables,\n\t\t\ttemplate\n\t\t});\n\t}\n\tstatic fromTemplate(template, options) {\n\t\tconst { templateFormat = \"f-string\",...rest } = options ?? {};\n\t\tconst names = /* @__PURE__ */ new Set();\n\t\t(0,_template_js__WEBPACK_IMPORTED_MODULE_1__.parseTemplate)(template, templateFormat).forEach((node) => {\n\t\t\tif (node.type === \"variable\") names.add(node.name);\n\t\t});\n\t\treturn new PromptTemplate({\n\t\t\tinputVariables: [...names],\n\t\t\ttemplateFormat,\n\t\t\ttemplate,\n\t\t\t...rest\n\t\t});\n\t}\n\t/**\n\t* Partially applies values to the prompt template.\n\t* @param values The values to be partially applied to the prompt template.\n\t* @returns A new instance of PromptTemplate with the partially applied values.\n\t*/\n\tasync partial(values) {\n\t\tconst newInputVariables = this.inputVariables.filter((iv) => !(iv in values));\n\t\tconst newPartialVariables = {\n\t\t\t...this.partialVariables ?? {},\n\t\t\t...values\n\t\t};\n\t\tconst promptDict = {\n\t\t\t...this,\n\t\t\tinputVariables: newInputVariables,\n\t\t\tpartialVariables: newPartialVariables\n\t\t};\n\t\treturn new PromptTemplate(promptDict);\n\t}\n\tserialize() {\n\t\tif (this.outputParser !== void 0) throw new Error(\"Cannot serialize a prompt template with an output parser\");\n\t\treturn {\n\t\t\t_type: this._getPromptType(),\n\t\t\tinput_variables: this.inputVariables,\n\t\t\ttemplate: this.template,\n\t\t\ttemplate_format: this.templateFormat\n\t\t};\n\t}\n\tstatic async deserialize(data) {\n\t\tif (!data.template) throw new Error(\"Prompt template must have a template\");\n\t\tconst res = new PromptTemplate({\n\t\t\tinputVariables: data.input_variables,\n\t\t\ttemplate: data.template,\n\t\t\ttemplateFormat: data.template_format\n\t\t});\n\t\treturn res;\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=prompt.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3Byb21wdHMvcHJvbXB0LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF1RDtBQUMyQjs7QUFFbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUJBQWlCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixJQUFJO0FBQ3hCLEdBQUc7QUFDSDtBQUNBO0FBQ0Esa0RBQWtELGdFQUF3QjtBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxnRUFBa0I7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyw0REFBYztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxVQUFVLHNDQUFzQztBQUNoRDtBQUNBLEVBQUUsMkRBQWE7QUFDZjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQzBCO0FBQzFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3Byb21wdHMvcHJvbXB0LmpzPzk4YTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzZVN0cmluZ1Byb21wdFRlbXBsYXRlIH0gZnJvbSBcIi4vc3RyaW5nLmpzXCI7XG5pbXBvcnQgeyBjaGVja1ZhbGlkVGVtcGxhdGUsIHBhcnNlVGVtcGxhdGUsIHJlbmRlclRlbXBsYXRlIH0gZnJvbSBcIi4vdGVtcGxhdGUuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9wcm9tcHRzL3Byb21wdC50c1xuLyoqXG4qIFNjaGVtYSB0byByZXByZXNlbnQgYSBiYXNpYyBwcm9tcHQgZm9yIGFuIExMTS5cbiogQGF1Z21lbnRzIEJhc2VQcm9tcHRUZW1wbGF0ZVxuKiBAYXVnbWVudHMgUHJvbXB0VGVtcGxhdGVJbnB1dFxuKlxuKiBAZXhhbXBsZVxuKiBgYGB0c1xuKiBpbXBvcnQgeyBQcm9tcHRUZW1wbGF0ZSB9IGZyb20gXCJsYW5nY2hhaW4vcHJvbXB0c1wiO1xuKlxuKiBjb25zdCBwcm9tcHQgPSBuZXcgUHJvbXB0VGVtcGxhdGUoe1xuKiAgIGlucHV0VmFyaWFibGVzOiBbXCJmb29cIl0sXG4qICAgdGVtcGxhdGU6IFwiU2F5IHtmb299XCIsXG4qIH0pO1xuKiBgYGBcbiovXG52YXIgUHJvbXB0VGVtcGxhdGUgPSBjbGFzcyBQcm9tcHRUZW1wbGF0ZSBleHRlbmRzIEJhc2VTdHJpbmdQcm9tcHRUZW1wbGF0ZSB7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIlByb21wdFRlbXBsYXRlXCI7XG5cdH1cblx0dGVtcGxhdGU7XG5cdHRlbXBsYXRlRm9ybWF0ID0gXCJmLXN0cmluZ1wiO1xuXHR2YWxpZGF0ZVRlbXBsYXRlID0gdHJ1ZTtcblx0LyoqXG5cdCogQWRkaXRpb25hbCBmaWVsZHMgd2hpY2ggc2hvdWxkIGJlIGluY2x1ZGVkIGluc2lkZVxuXHQqIHRoZSBtZXNzYWdlIGNvbnRlbnQgYXJyYXkgaWYgdXNpbmcgYSBjb21wbGV4IG1lc3NhZ2Vcblx0KiBjb250ZW50LlxuXHQqL1xuXHRhZGRpdGlvbmFsQ29udGVudEZpZWxkcztcblx0Y29uc3RydWN0b3IoaW5wdXQpIHtcblx0XHRzdXBlcihpbnB1dCk7XG5cdFx0aWYgKGlucHV0LnRlbXBsYXRlRm9ybWF0ID09PSBcIm11c3RhY2hlXCIgJiYgaW5wdXQudmFsaWRhdGVUZW1wbGF0ZSA9PT0gdm9pZCAwKSB0aGlzLnZhbGlkYXRlVGVtcGxhdGUgPSBmYWxzZTtcblx0XHRPYmplY3QuYXNzaWduKHRoaXMsIGlucHV0KTtcblx0XHRpZiAodGhpcy52YWxpZGF0ZVRlbXBsYXRlKSB7XG5cdFx0XHRpZiAodGhpcy50ZW1wbGF0ZUZvcm1hdCA9PT0gXCJtdXN0YWNoZVwiKSB0aHJvdyBuZXcgRXJyb3IoXCJNdXN0YWNoZSB0ZW1wbGF0ZXMgY2Fubm90IGJlIHZhbGlkYXRlZC5cIik7XG5cdFx0XHRsZXQgdG90YWxJbnB1dFZhcmlhYmxlcyA9IHRoaXMuaW5wdXRWYXJpYWJsZXM7XG5cdFx0XHRpZiAodGhpcy5wYXJ0aWFsVmFyaWFibGVzKSB0b3RhbElucHV0VmFyaWFibGVzID0gdG90YWxJbnB1dFZhcmlhYmxlcy5jb25jYXQoT2JqZWN0LmtleXModGhpcy5wYXJ0aWFsVmFyaWFibGVzKSk7XG5cdFx0XHRjaGVja1ZhbGlkVGVtcGxhdGUodGhpcy50ZW1wbGF0ZSwgdGhpcy50ZW1wbGF0ZUZvcm1hdCwgdG90YWxJbnB1dFZhcmlhYmxlcyk7XG5cdFx0fVxuXHR9XG5cdF9nZXRQcm9tcHRUeXBlKCkge1xuXHRcdHJldHVybiBcInByb21wdFwiO1xuXHR9XG5cdC8qKlxuXHQqIEZvcm1hdHMgdGhlIHByb21wdCB0ZW1wbGF0ZSB3aXRoIHRoZSBwcm92aWRlZCB2YWx1ZXMuXG5cdCogQHBhcmFtIHZhbHVlcyBUaGUgdmFsdWVzIHRvIGJlIHVzZWQgdG8gZm9ybWF0IHRoZSBwcm9tcHQgdGVtcGxhdGUuXG5cdCogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYSBzdHJpbmcgd2hpY2ggaXMgdGhlIGZvcm1hdHRlZCBwcm9tcHQuXG5cdCovXG5cdGFzeW5jIGZvcm1hdCh2YWx1ZXMpIHtcblx0XHRjb25zdCBhbGxWYWx1ZXMgPSBhd2FpdCB0aGlzLm1lcmdlUGFydGlhbEFuZFVzZXJWYXJpYWJsZXModmFsdWVzKTtcblx0XHRyZXR1cm4gcmVuZGVyVGVtcGxhdGUodGhpcy50ZW1wbGF0ZSwgdGhpcy50ZW1wbGF0ZUZvcm1hdCwgYWxsVmFsdWVzKTtcblx0fVxuXHQvKipcblx0KiBUYWtlIGV4YW1wbGVzIGluIGxpc3QgZm9ybWF0IHdpdGggcHJlZml4IGFuZCBzdWZmaXggdG8gY3JlYXRlIGEgcHJvbXB0LlxuXHQqXG5cdCogSW50ZW5kZWQgdG8gYmUgdXNlZCBhIGEgd2F5IHRvIGR5bmFtaWNhbGx5IGNyZWF0ZSBhIHByb21wdCBmcm9tIGV4YW1wbGVzLlxuXHQqXG5cdCogQHBhcmFtIGV4YW1wbGVzIC0gTGlzdCBvZiBleGFtcGxlcyB0byB1c2UgaW4gdGhlIHByb21wdC5cblx0KiBAcGFyYW0gc3VmZml4IC0gU3RyaW5nIHRvIGdvIGFmdGVyIHRoZSBsaXN0IG9mIGV4YW1wbGVzLiBTaG91bGQgZ2VuZXJhbGx5IHNldCB1cCB0aGUgdXNlcidzIGlucHV0LlxuXHQqIEBwYXJhbSBpbnB1dFZhcmlhYmxlcyAtIEEgbGlzdCBvZiB2YXJpYWJsZSBuYW1lcyB0aGUgZmluYWwgcHJvbXB0IHRlbXBsYXRlIHdpbGwgZXhwZWN0XG5cdCogQHBhcmFtIGV4YW1wbGVTZXBhcmF0b3IgLSBUaGUgc2VwYXJhdG9yIHRvIHVzZSBpbiBiZXR3ZWVuIGV4YW1wbGVzXG5cdCogQHBhcmFtIHByZWZpeCAtIFN0cmluZyB0aGF0IHNob3VsZCBnbyBiZWZvcmUgYW55IGV4YW1wbGVzLiBHZW5lcmFsbHkgaW5jbHVkZXMgZXhhbXBsZXMuXG5cdCpcblx0KiBAcmV0dXJucyBUaGUgZmluYWwgcHJvbXB0IHRlbXBsYXRlIGdlbmVyYXRlZC5cblx0Ki9cblx0c3RhdGljIGZyb21FeGFtcGxlcyhleGFtcGxlcywgc3VmZml4LCBpbnB1dFZhcmlhYmxlcywgZXhhbXBsZVNlcGFyYXRvciA9IFwiXFxuXFxuXCIsIHByZWZpeCA9IFwiXCIpIHtcblx0XHRjb25zdCB0ZW1wbGF0ZSA9IFtcblx0XHRcdHByZWZpeCxcblx0XHRcdC4uLmV4YW1wbGVzLFxuXHRcdFx0c3VmZml4XG5cdFx0XS5qb2luKGV4YW1wbGVTZXBhcmF0b3IpO1xuXHRcdHJldHVybiBuZXcgUHJvbXB0VGVtcGxhdGUoe1xuXHRcdFx0aW5wdXRWYXJpYWJsZXMsXG5cdFx0XHR0ZW1wbGF0ZVxuXHRcdH0pO1xuXHR9XG5cdHN0YXRpYyBmcm9tVGVtcGxhdGUodGVtcGxhdGUsIG9wdGlvbnMpIHtcblx0XHRjb25zdCB7IHRlbXBsYXRlRm9ybWF0ID0gXCJmLXN0cmluZ1wiLC4uLnJlc3QgfSA9IG9wdGlvbnMgPz8ge307XG5cdFx0Y29uc3QgbmFtZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuXHRcdHBhcnNlVGVtcGxhdGUodGVtcGxhdGUsIHRlbXBsYXRlRm9ybWF0KS5mb3JFYWNoKChub2RlKSA9PiB7XG5cdFx0XHRpZiAobm9kZS50eXBlID09PSBcInZhcmlhYmxlXCIpIG5hbWVzLmFkZChub2RlLm5hbWUpO1xuXHRcdH0pO1xuXHRcdHJldHVybiBuZXcgUHJvbXB0VGVtcGxhdGUoe1xuXHRcdFx0aW5wdXRWYXJpYWJsZXM6IFsuLi5uYW1lc10sXG5cdFx0XHR0ZW1wbGF0ZUZvcm1hdCxcblx0XHRcdHRlbXBsYXRlLFxuXHRcdFx0Li4ucmVzdFxuXHRcdH0pO1xuXHR9XG5cdC8qKlxuXHQqIFBhcnRpYWxseSBhcHBsaWVzIHZhbHVlcyB0byB0aGUgcHJvbXB0IHRlbXBsYXRlLlxuXHQqIEBwYXJhbSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZCB0byB0aGUgcHJvbXB0IHRlbXBsYXRlLlxuXHQqIEByZXR1cm5zIEEgbmV3IGluc3RhbmNlIG9mIFByb21wdFRlbXBsYXRlIHdpdGggdGhlIHBhcnRpYWxseSBhcHBsaWVkIHZhbHVlcy5cblx0Ki9cblx0YXN5bmMgcGFydGlhbCh2YWx1ZXMpIHtcblx0XHRjb25zdCBuZXdJbnB1dFZhcmlhYmxlcyA9IHRoaXMuaW5wdXRWYXJpYWJsZXMuZmlsdGVyKChpdikgPT4gIShpdiBpbiB2YWx1ZXMpKTtcblx0XHRjb25zdCBuZXdQYXJ0aWFsVmFyaWFibGVzID0ge1xuXHRcdFx0Li4udGhpcy5wYXJ0aWFsVmFyaWFibGVzID8/IHt9LFxuXHRcdFx0Li4udmFsdWVzXG5cdFx0fTtcblx0XHRjb25zdCBwcm9tcHREaWN0ID0ge1xuXHRcdFx0Li4udGhpcyxcblx0XHRcdGlucHV0VmFyaWFibGVzOiBuZXdJbnB1dFZhcmlhYmxlcyxcblx0XHRcdHBhcnRpYWxWYXJpYWJsZXM6IG5ld1BhcnRpYWxWYXJpYWJsZXNcblx0XHR9O1xuXHRcdHJldHVybiBuZXcgUHJvbXB0VGVtcGxhdGUocHJvbXB0RGljdCk7XG5cdH1cblx0c2VyaWFsaXplKCkge1xuXHRcdGlmICh0aGlzLm91dHB1dFBhcnNlciAhPT0gdm9pZCAwKSB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3Qgc2VyaWFsaXplIGEgcHJvbXB0IHRlbXBsYXRlIHdpdGggYW4gb3V0cHV0IHBhcnNlclwiKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0X3R5cGU6IHRoaXMuX2dldFByb21wdFR5cGUoKSxcblx0XHRcdGlucHV0X3ZhcmlhYmxlczogdGhpcy5pbnB1dFZhcmlhYmxlcyxcblx0XHRcdHRlbXBsYXRlOiB0aGlzLnRlbXBsYXRlLFxuXHRcdFx0dGVtcGxhdGVfZm9ybWF0OiB0aGlzLnRlbXBsYXRlRm9ybWF0XG5cdFx0fTtcblx0fVxuXHRzdGF0aWMgYXN5bmMgZGVzZXJpYWxpemUoZGF0YSkge1xuXHRcdGlmICghZGF0YS50ZW1wbGF0ZSkgdGhyb3cgbmV3IEVycm9yKFwiUHJvbXB0IHRlbXBsYXRlIG11c3QgaGF2ZSBhIHRlbXBsYXRlXCIpO1xuXHRcdGNvbnN0IHJlcyA9IG5ldyBQcm9tcHRUZW1wbGF0ZSh7XG5cdFx0XHRpbnB1dFZhcmlhYmxlczogZGF0YS5pbnB1dF92YXJpYWJsZXMsXG5cdFx0XHR0ZW1wbGF0ZTogZGF0YS50ZW1wbGF0ZSxcblx0XHRcdHRlbXBsYXRlRm9ybWF0OiBkYXRhLnRlbXBsYXRlX2Zvcm1hdFxuXHRcdH0pO1xuXHRcdHJldHVybiByZXM7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgUHJvbXB0VGVtcGxhdGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb21wdC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/prompt.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/string.js":
/*!********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/string.js ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseStringPromptTemplate: () => (/* binding */ BaseStringPromptTemplate)\n/* harmony export */ });\n/* harmony import */ var _prompt_values_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../prompt_values.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompt_values.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/base.js\");\n\n\n\n//#region src/prompts/string.ts\n/**\n* Base class for string prompt templates. It extends the\n* BasePromptTemplate class and overrides the formatPromptValue method to\n* return a StringPromptValue.\n*/\nvar BaseStringPromptTemplate = class extends _base_js__WEBPACK_IMPORTED_MODULE_1__.BasePromptTemplate {\n\t/**\n\t* Formats the prompt given the input values and returns a formatted\n\t* prompt value.\n\t* @param values The input values to format the prompt.\n\t* @returns A Promise that resolves to a formatted prompt value.\n\t*/\n\tasync formatPromptValue(values) {\n\t\tconst formattedPrompt = await this.format(values);\n\t\treturn new _prompt_values_js__WEBPACK_IMPORTED_MODULE_0__.StringPromptValue(formattedPrompt);\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=string.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3Byb21wdHMvc3RyaW5nLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF3RDtBQUNUOztBQUUvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsd0RBQWtCO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGdFQUFpQjtBQUM5QjtBQUNBOztBQUVBO0FBQ29DO0FBQ3BDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3Byb21wdHMvc3RyaW5nLmpzPzY4ZWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU3RyaW5nUHJvbXB0VmFsdWUgfSBmcm9tIFwiLi4vcHJvbXB0X3ZhbHVlcy5qc1wiO1xuaW1wb3J0IHsgQmFzZVByb21wdFRlbXBsYXRlIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3Byb21wdHMvc3RyaW5nLnRzXG4vKipcbiogQmFzZSBjbGFzcyBmb3Igc3RyaW5nIHByb21wdCB0ZW1wbGF0ZXMuIEl0IGV4dGVuZHMgdGhlXG4qIEJhc2VQcm9tcHRUZW1wbGF0ZSBjbGFzcyBhbmQgb3ZlcnJpZGVzIHRoZSBmb3JtYXRQcm9tcHRWYWx1ZSBtZXRob2QgdG9cbiogcmV0dXJuIGEgU3RyaW5nUHJvbXB0VmFsdWUuXG4qL1xudmFyIEJhc2VTdHJpbmdQcm9tcHRUZW1wbGF0ZSA9IGNsYXNzIGV4dGVuZHMgQmFzZVByb21wdFRlbXBsYXRlIHtcblx0LyoqXG5cdCogRm9ybWF0cyB0aGUgcHJvbXB0IGdpdmVuIHRoZSBpbnB1dCB2YWx1ZXMgYW5kIHJldHVybnMgYSBmb3JtYXR0ZWRcblx0KiBwcm9tcHQgdmFsdWUuXG5cdCogQHBhcmFtIHZhbHVlcyBUaGUgaW5wdXQgdmFsdWVzIHRvIGZvcm1hdCB0aGUgcHJvbXB0LlxuXHQqIEByZXR1cm5zIEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGEgZm9ybWF0dGVkIHByb21wdCB2YWx1ZS5cblx0Ki9cblx0YXN5bmMgZm9ybWF0UHJvbXB0VmFsdWUodmFsdWVzKSB7XG5cdFx0Y29uc3QgZm9ybWF0dGVkUHJvbXB0ID0gYXdhaXQgdGhpcy5mb3JtYXQodmFsdWVzKTtcblx0XHRyZXR1cm4gbmV3IFN0cmluZ1Byb21wdFZhbHVlKGZvcm1hdHRlZFByb21wdCk7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQmFzZVN0cmluZ1Byb21wdFRlbXBsYXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdHJpbmcuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/string.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/structured.js":
/*!************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/structured.js ***!
  \************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StructuredPrompt: () => (/* binding */ StructuredPrompt)\n/* harmony export */ });\n/* harmony import */ var _runnables_base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../runnables/base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/base.js\");\n/* harmony import */ var _chat_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chat.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/chat.js\");\n\n\n\n//#region src/prompts/structured.ts\nfunction isWithStructuredOutput(x) {\n\treturn typeof x === \"object\" && x != null && \"withStructuredOutput\" in x && typeof x.withStructuredOutput === \"function\";\n}\nfunction isRunnableBinding(x) {\n\treturn typeof x === \"object\" && x != null && \"lc_id\" in x && Array.isArray(x.lc_id) && x.lc_id.join(\"/\") === \"langchain_core/runnables/RunnableBinding\";\n}\nvar StructuredPrompt = class StructuredPrompt extends _chat_js__WEBPACK_IMPORTED_MODULE_1__.ChatPromptTemplate {\n\tschema;\n\tmethod;\n\tlc_namespace = [\n\t\t\"langchain_core\",\n\t\t\"prompts\",\n\t\t\"structured\"\n\t];\n\tget lc_aliases() {\n\t\treturn {\n\t\t\t...super.lc_aliases,\n\t\t\tschema: \"schema_\"\n\t\t};\n\t}\n\tconstructor(input) {\n\t\tsuper(input);\n\t\tthis.schema = input.schema;\n\t\tthis.method = input.method;\n\t}\n\tpipe(coerceable) {\n\t\tif (isWithStructuredOutput(coerceable)) return super.pipe(coerceable.withStructuredOutput(this.schema));\n\t\tif (isRunnableBinding(coerceable) && isWithStructuredOutput(coerceable.bound)) return super.pipe(new _runnables_base_js__WEBPACK_IMPORTED_MODULE_0__.RunnableBinding({\n\t\t\tbound: coerceable.bound.withStructuredOutput(this.schema, ...this.method ? [{ method: this.method }] : []),\n\t\t\tkwargs: coerceable.kwargs ?? {},\n\t\t\tconfig: coerceable.config,\n\t\t\tconfigFactories: coerceable.configFactories\n\t\t}));\n\t\tthrow new Error(`Structured prompts need to be piped to a language model that supports the \"withStructuredOutput()\" method.`);\n\t}\n\tstatic fromMessagesAndSchema(promptMessages, schema, method) {\n\t\treturn StructuredPrompt.fromMessages(promptMessages, {\n\t\t\tschema,\n\t\t\tmethod\n\t\t});\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=structured.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3Byb21wdHMvc3RydWN0dXJlZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBdUQ7QUFDUjs7QUFFL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0Qsd0RBQWtCO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1R0FBdUcsK0RBQWU7QUFDdEgsaUZBQWlGLHFCQUFxQjtBQUN0RyxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUM0QjtBQUM1QiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9wcm9tcHRzL3N0cnVjdHVyZWQuanM/NDQ0ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSdW5uYWJsZUJpbmRpbmcgfSBmcm9tIFwiLi4vcnVubmFibGVzL2Jhc2UuanNcIjtcbmltcG9ydCB7IENoYXRQcm9tcHRUZW1wbGF0ZSB9IGZyb20gXCIuL2NoYXQuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9wcm9tcHRzL3N0cnVjdHVyZWQudHNcbmZ1bmN0aW9uIGlzV2l0aFN0cnVjdHVyZWRPdXRwdXQoeCkge1xuXHRyZXR1cm4gdHlwZW9mIHggPT09IFwib2JqZWN0XCIgJiYgeCAhPSBudWxsICYmIFwid2l0aFN0cnVjdHVyZWRPdXRwdXRcIiBpbiB4ICYmIHR5cGVvZiB4LndpdGhTdHJ1Y3R1cmVkT3V0cHV0ID09PSBcImZ1bmN0aW9uXCI7XG59XG5mdW5jdGlvbiBpc1J1bm5hYmxlQmluZGluZyh4KSB7XG5cdHJldHVybiB0eXBlb2YgeCA9PT0gXCJvYmplY3RcIiAmJiB4ICE9IG51bGwgJiYgXCJsY19pZFwiIGluIHggJiYgQXJyYXkuaXNBcnJheSh4LmxjX2lkKSAmJiB4LmxjX2lkLmpvaW4oXCIvXCIpID09PSBcImxhbmdjaGFpbl9jb3JlL3J1bm5hYmxlcy9SdW5uYWJsZUJpbmRpbmdcIjtcbn1cbnZhciBTdHJ1Y3R1cmVkUHJvbXB0ID0gY2xhc3MgU3RydWN0dXJlZFByb21wdCBleHRlbmRzIENoYXRQcm9tcHRUZW1wbGF0ZSB7XG5cdHNjaGVtYTtcblx0bWV0aG9kO1xuXHRsY19uYW1lc3BhY2UgPSBbXG5cdFx0XCJsYW5nY2hhaW5fY29yZVwiLFxuXHRcdFwicHJvbXB0c1wiLFxuXHRcdFwic3RydWN0dXJlZFwiXG5cdF07XG5cdGdldCBsY19hbGlhc2VzKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHQuLi5zdXBlci5sY19hbGlhc2VzLFxuXHRcdFx0c2NoZW1hOiBcInNjaGVtYV9cIlxuXHRcdH07XG5cdH1cblx0Y29uc3RydWN0b3IoaW5wdXQpIHtcblx0XHRzdXBlcihpbnB1dCk7XG5cdFx0dGhpcy5zY2hlbWEgPSBpbnB1dC5zY2hlbWE7XG5cdFx0dGhpcy5tZXRob2QgPSBpbnB1dC5tZXRob2Q7XG5cdH1cblx0cGlwZShjb2VyY2VhYmxlKSB7XG5cdFx0aWYgKGlzV2l0aFN0cnVjdHVyZWRPdXRwdXQoY29lcmNlYWJsZSkpIHJldHVybiBzdXBlci5waXBlKGNvZXJjZWFibGUud2l0aFN0cnVjdHVyZWRPdXRwdXQodGhpcy5zY2hlbWEpKTtcblx0XHRpZiAoaXNSdW5uYWJsZUJpbmRpbmcoY29lcmNlYWJsZSkgJiYgaXNXaXRoU3RydWN0dXJlZE91dHB1dChjb2VyY2VhYmxlLmJvdW5kKSkgcmV0dXJuIHN1cGVyLnBpcGUobmV3IFJ1bm5hYmxlQmluZGluZyh7XG5cdFx0XHRib3VuZDogY29lcmNlYWJsZS5ib3VuZC53aXRoU3RydWN0dXJlZE91dHB1dCh0aGlzLnNjaGVtYSwgLi4udGhpcy5tZXRob2QgPyBbeyBtZXRob2Q6IHRoaXMubWV0aG9kIH1dIDogW10pLFxuXHRcdFx0a3dhcmdzOiBjb2VyY2VhYmxlLmt3YXJncyA/PyB7fSxcblx0XHRcdGNvbmZpZzogY29lcmNlYWJsZS5jb25maWcsXG5cdFx0XHRjb25maWdGYWN0b3JpZXM6IGNvZXJjZWFibGUuY29uZmlnRmFjdG9yaWVzXG5cdFx0fSkpO1xuXHRcdHRocm93IG5ldyBFcnJvcihgU3RydWN0dXJlZCBwcm9tcHRzIG5lZWQgdG8gYmUgcGlwZWQgdG8gYSBsYW5ndWFnZSBtb2RlbCB0aGF0IHN1cHBvcnRzIHRoZSBcIndpdGhTdHJ1Y3R1cmVkT3V0cHV0KClcIiBtZXRob2QuYCk7XG5cdH1cblx0c3RhdGljIGZyb21NZXNzYWdlc0FuZFNjaGVtYShwcm9tcHRNZXNzYWdlcywgc2NoZW1hLCBtZXRob2QpIHtcblx0XHRyZXR1cm4gU3RydWN0dXJlZFByb21wdC5mcm9tTWVzc2FnZXMocHJvbXB0TWVzc2FnZXMsIHtcblx0XHRcdHNjaGVtYSxcblx0XHRcdG1ldGhvZFxuXHRcdH0pO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IFN0cnVjdHVyZWRQcm9tcHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0cnVjdHVyZWQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/structured.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/template.js":
/*!**********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/template.js ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_FORMATTER_MAPPING: () => (/* binding */ DEFAULT_FORMATTER_MAPPING),\n/* harmony export */   DEFAULT_PARSER_MAPPING: () => (/* binding */ DEFAULT_PARSER_MAPPING),\n/* harmony export */   checkValidTemplate: () => (/* binding */ checkValidTemplate),\n/* harmony export */   interpolateFString: () => (/* binding */ interpolateFString),\n/* harmony export */   interpolateMustache: () => (/* binding */ interpolateMustache),\n/* harmony export */   parseFString: () => (/* binding */ parseFString),\n/* harmony export */   parseMustache: () => (/* binding */ parseMustache),\n/* harmony export */   parseTemplate: () => (/* binding */ parseTemplate),\n/* harmony export */   renderTemplate: () => (/* binding */ renderTemplate)\n/* harmony export */ });\n/* harmony import */ var _errors_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors/index.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/errors/index.js\");\n/* harmony import */ var mustache__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mustache */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+mustache@4.2.0/node_modules/mustache/mustache.mjs\");\n\n\n\n//#region src/prompts/template.ts\nfunction configureMustache() {\n\tmustache__WEBPACK_IMPORTED_MODULE_1__[\"default\"].escape = (text) => text;\n}\nconst parseFString = (template) => {\n\tconst chars = template.split(\"\");\n\tconst nodes = [];\n\tconst nextBracket = (bracket, start) => {\n\t\tfor (let i$1 = start; i$1 < chars.length; i$1 += 1) if (bracket.includes(chars[i$1])) return i$1;\n\t\treturn -1;\n\t};\n\tlet i = 0;\n\twhile (i < chars.length) if (chars[i] === \"{\" && i + 1 < chars.length && chars[i + 1] === \"{\") {\n\t\tnodes.push({\n\t\t\ttype: \"literal\",\n\t\t\ttext: \"{\"\n\t\t});\n\t\ti += 2;\n\t} else if (chars[i] === \"}\" && i + 1 < chars.length && chars[i + 1] === \"}\") {\n\t\tnodes.push({\n\t\t\ttype: \"literal\",\n\t\t\ttext: \"}\"\n\t\t});\n\t\ti += 2;\n\t} else if (chars[i] === \"{\") {\n\t\tconst j = nextBracket(\"}\", i);\n\t\tif (j < 0) throw new Error(\"Unclosed '{' in template.\");\n\t\tnodes.push({\n\t\t\ttype: \"variable\",\n\t\t\tname: chars.slice(i + 1, j).join(\"\")\n\t\t});\n\t\ti = j + 1;\n\t} else if (chars[i] === \"}\") throw new Error(\"Single '}' in template.\");\n\telse {\n\t\tconst next = nextBracket(\"{}\", i);\n\t\tconst text = (next < 0 ? chars.slice(i) : chars.slice(i, next)).join(\"\");\n\t\tnodes.push({\n\t\t\ttype: \"literal\",\n\t\t\ttext\n\t\t});\n\t\ti = next < 0 ? chars.length : next;\n\t}\n\treturn nodes;\n};\n/**\n* Convert the result of mustache.parse into an array of ParsedTemplateNode,\n* to make it compatible with other LangChain string parsing template formats.\n*\n* @param {mustache.TemplateSpans} template The result of parsing a mustache template with the mustache.js library.\n* @param {string[]} context Array of section variable names for nested context\n* @returns {ParsedTemplateNode[]}\n*/\nconst mustacheTemplateToNodes = (template, context = []) => {\n\tconst nodes = [];\n\tfor (const temp of template) if (temp[0] === \"name\") {\n\t\tconst name = temp[1].includes(\".\") ? temp[1].split(\".\")[0] : temp[1];\n\t\tnodes.push({\n\t\t\ttype: \"variable\",\n\t\t\tname\n\t\t});\n\t} else if ([\n\t\t\"#\",\n\t\t\"&\",\n\t\t\"^\",\n\t\t\">\"\n\t].includes(temp[0])) {\n\t\tnodes.push({\n\t\t\ttype: \"variable\",\n\t\t\tname: temp[1]\n\t\t});\n\t\tif (temp[0] === \"#\" && temp.length > 4 && Array.isArray(temp[4])) {\n\t\t\tconst newContext = [...context, temp[1]];\n\t\t\tconst nestedNodes = mustacheTemplateToNodes(temp[4], newContext);\n\t\t\tnodes.push(...nestedNodes);\n\t\t}\n\t} else nodes.push({\n\t\ttype: \"literal\",\n\t\ttext: temp[1]\n\t});\n\treturn nodes;\n};\nconst parseMustache = (template) => {\n\tconfigureMustache();\n\tconst parsed = mustache__WEBPACK_IMPORTED_MODULE_1__[\"default\"].parse(template);\n\treturn mustacheTemplateToNodes(parsed);\n};\nconst interpolateFString = (template, values) => {\n\treturn parseFString(template).reduce((res, node) => {\n\t\tif (node.type === \"variable\") {\n\t\t\tif (node.name in values) {\n\t\t\t\tconst stringValue = typeof values[node.name] === \"string\" ? values[node.name] : JSON.stringify(values[node.name]);\n\t\t\t\treturn res + stringValue;\n\t\t\t}\n\t\t\tthrow new Error(`(f-string) Missing value for input ${node.name}`);\n\t\t}\n\t\treturn res + node.text;\n\t}, \"\");\n};\nconst interpolateMustache = (template, values) => {\n\tconfigureMustache();\n\treturn mustache__WEBPACK_IMPORTED_MODULE_1__[\"default\"].render(template, values);\n};\nconst DEFAULT_FORMATTER_MAPPING = {\n\t\"f-string\": interpolateFString,\n\tmustache: interpolateMustache\n};\nconst DEFAULT_PARSER_MAPPING = {\n\t\"f-string\": parseFString,\n\tmustache: parseMustache\n};\nconst renderTemplate = (template, templateFormat, inputValues) => {\n\ttry {\n\t\treturn DEFAULT_FORMATTER_MAPPING[templateFormat](template, inputValues);\n\t} catch (e) {\n\t\tconst error = (0,_errors_index_js__WEBPACK_IMPORTED_MODULE_0__.addLangChainErrorFields)(e, \"INVALID_PROMPT_INPUT\");\n\t\tthrow error;\n\t}\n};\nconst parseTemplate = (template, templateFormat) => DEFAULT_PARSER_MAPPING[templateFormat](template);\nconst checkValidTemplate = (template, templateFormat, inputVariables) => {\n\tif (!(templateFormat in DEFAULT_FORMATTER_MAPPING)) {\n\t\tconst validFormats = Object.keys(DEFAULT_FORMATTER_MAPPING);\n\t\tthrow new Error(`Invalid template format. Got \\`${templateFormat}\\`;\n                         should be one of ${validFormats}`);\n\t}\n\ttry {\n\t\tconst dummyInputs = Object.fromEntries(inputVariables.map((v) => [v, \"foo\"]));\n\t\tif (Array.isArray(template)) template.forEach((message) => {\n\t\t\tif (message.type === \"text\" && \"text\" in message && typeof message.text === \"string\") renderTemplate(message.text, templateFormat, dummyInputs);\n\t\t\telse if (message.type === \"image_url\") {\n\t\t\t\tif (typeof message.image_url === \"string\") renderTemplate(message.image_url, templateFormat, dummyInputs);\n\t\t\t\telse if (typeof message.image_url === \"object\" && message.image_url !== null && \"url\" in message.image_url && typeof message.image_url.url === \"string\") {\n\t\t\t\t\tconst imageUrl = message.image_url.url;\n\t\t\t\t\trenderTemplate(imageUrl, templateFormat, dummyInputs);\n\t\t\t\t}\n\t\t\t} else throw new Error(`Invalid message template received. ${JSON.stringify(message, null, 2)}`);\n\t\t});\n\t\telse renderTemplate(template, templateFormat, dummyInputs);\n\t} catch (e) {\n\t\tthrow new Error(`Invalid prompt schema: ${e.message}`);\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=template.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3Byb21wdHMvdGVtcGxhdGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBNkQ7QUFDN0I7O0FBRWhDO0FBQ0E7QUFDQSxDQUFDLGdEQUFRO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixvQkFBb0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLGdEQUFnRDtBQUM3RjtBQUNBO0FBQ0EsV0FBVztBQUNYLEdBQUc7QUFDSDtBQUNBLEdBQUcsd0JBQXdCLGdEQUFnRDtBQUMzRTtBQUNBO0FBQ0EsV0FBVztBQUNYLEdBQUc7QUFDSDtBQUNBLEdBQUcsd0JBQXdCO0FBQzNCLDBCQUEwQjtBQUMxQix5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRyx3QkFBd0IsNkJBQTZCO0FBQ3hEO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLHdCQUF3QjtBQUNsQyxVQUFVLFVBQVU7QUFDcEIsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGdEQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxVQUFVO0FBQ25FO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0EsUUFBUSxnREFBUTtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsZ0JBQWdCLHlFQUF1QjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxlQUFlO0FBQ25FLDRDQUE0QyxhQUFhO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLDJEQUEyRCxpQ0FBaUM7QUFDakcsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNILDRDQUE0QyxVQUFVO0FBQ3REO0FBQ0E7O0FBRUE7QUFDc0w7QUFDdEwiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvcHJvbXB0cy90ZW1wbGF0ZS5qcz82OGUyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFkZExhbmdDaGFpbkVycm9yRmllbGRzIH0gZnJvbSBcIi4uL2Vycm9ycy9pbmRleC5qc1wiO1xuaW1wb3J0IG11c3RhY2hlIGZyb20gXCJtdXN0YWNoZVwiO1xuXG4vLyNyZWdpb24gc3JjL3Byb21wdHMvdGVtcGxhdGUudHNcbmZ1bmN0aW9uIGNvbmZpZ3VyZU11c3RhY2hlKCkge1xuXHRtdXN0YWNoZS5lc2NhcGUgPSAodGV4dCkgPT4gdGV4dDtcbn1cbmNvbnN0IHBhcnNlRlN0cmluZyA9ICh0ZW1wbGF0ZSkgPT4ge1xuXHRjb25zdCBjaGFycyA9IHRlbXBsYXRlLnNwbGl0KFwiXCIpO1xuXHRjb25zdCBub2RlcyA9IFtdO1xuXHRjb25zdCBuZXh0QnJhY2tldCA9IChicmFja2V0LCBzdGFydCkgPT4ge1xuXHRcdGZvciAobGV0IGkkMSA9IHN0YXJ0OyBpJDEgPCBjaGFycy5sZW5ndGg7IGkkMSArPSAxKSBpZiAoYnJhY2tldC5pbmNsdWRlcyhjaGFyc1tpJDFdKSkgcmV0dXJuIGkkMTtcblx0XHRyZXR1cm4gLTE7XG5cdH07XG5cdGxldCBpID0gMDtcblx0d2hpbGUgKGkgPCBjaGFycy5sZW5ndGgpIGlmIChjaGFyc1tpXSA9PT0gXCJ7XCIgJiYgaSArIDEgPCBjaGFycy5sZW5ndGggJiYgY2hhcnNbaSArIDFdID09PSBcIntcIikge1xuXHRcdG5vZGVzLnB1c2goe1xuXHRcdFx0dHlwZTogXCJsaXRlcmFsXCIsXG5cdFx0XHR0ZXh0OiBcIntcIlxuXHRcdH0pO1xuXHRcdGkgKz0gMjtcblx0fSBlbHNlIGlmIChjaGFyc1tpXSA9PT0gXCJ9XCIgJiYgaSArIDEgPCBjaGFycy5sZW5ndGggJiYgY2hhcnNbaSArIDFdID09PSBcIn1cIikge1xuXHRcdG5vZGVzLnB1c2goe1xuXHRcdFx0dHlwZTogXCJsaXRlcmFsXCIsXG5cdFx0XHR0ZXh0OiBcIn1cIlxuXHRcdH0pO1xuXHRcdGkgKz0gMjtcblx0fSBlbHNlIGlmIChjaGFyc1tpXSA9PT0gXCJ7XCIpIHtcblx0XHRjb25zdCBqID0gbmV4dEJyYWNrZXQoXCJ9XCIsIGkpO1xuXHRcdGlmIChqIDwgMCkgdGhyb3cgbmV3IEVycm9yKFwiVW5jbG9zZWQgJ3snIGluIHRlbXBsYXRlLlwiKTtcblx0XHRub2Rlcy5wdXNoKHtcblx0XHRcdHR5cGU6IFwidmFyaWFibGVcIixcblx0XHRcdG5hbWU6IGNoYXJzLnNsaWNlKGkgKyAxLCBqKS5qb2luKFwiXCIpXG5cdFx0fSk7XG5cdFx0aSA9IGogKyAxO1xuXHR9IGVsc2UgaWYgKGNoYXJzW2ldID09PSBcIn1cIikgdGhyb3cgbmV3IEVycm9yKFwiU2luZ2xlICd9JyBpbiB0ZW1wbGF0ZS5cIik7XG5cdGVsc2Uge1xuXHRcdGNvbnN0IG5leHQgPSBuZXh0QnJhY2tldChcInt9XCIsIGkpO1xuXHRcdGNvbnN0IHRleHQgPSAobmV4dCA8IDAgPyBjaGFycy5zbGljZShpKSA6IGNoYXJzLnNsaWNlKGksIG5leHQpKS5qb2luKFwiXCIpO1xuXHRcdG5vZGVzLnB1c2goe1xuXHRcdFx0dHlwZTogXCJsaXRlcmFsXCIsXG5cdFx0XHR0ZXh0XG5cdFx0fSk7XG5cdFx0aSA9IG5leHQgPCAwID8gY2hhcnMubGVuZ3RoIDogbmV4dDtcblx0fVxuXHRyZXR1cm4gbm9kZXM7XG59O1xuLyoqXG4qIENvbnZlcnQgdGhlIHJlc3VsdCBvZiBtdXN0YWNoZS5wYXJzZSBpbnRvIGFuIGFycmF5IG9mIFBhcnNlZFRlbXBsYXRlTm9kZSxcbiogdG8gbWFrZSBpdCBjb21wYXRpYmxlIHdpdGggb3RoZXIgTGFuZ0NoYWluIHN0cmluZyBwYXJzaW5nIHRlbXBsYXRlIGZvcm1hdHMuXG4qXG4qIEBwYXJhbSB7bXVzdGFjaGUuVGVtcGxhdGVTcGFuc30gdGVtcGxhdGUgVGhlIHJlc3VsdCBvZiBwYXJzaW5nIGEgbXVzdGFjaGUgdGVtcGxhdGUgd2l0aCB0aGUgbXVzdGFjaGUuanMgbGlicmFyeS5cbiogQHBhcmFtIHtzdHJpbmdbXX0gY29udGV4dCBBcnJheSBvZiBzZWN0aW9uIHZhcmlhYmxlIG5hbWVzIGZvciBuZXN0ZWQgY29udGV4dFxuKiBAcmV0dXJucyB7UGFyc2VkVGVtcGxhdGVOb2RlW119XG4qL1xuY29uc3QgbXVzdGFjaGVUZW1wbGF0ZVRvTm9kZXMgPSAodGVtcGxhdGUsIGNvbnRleHQgPSBbXSkgPT4ge1xuXHRjb25zdCBub2RlcyA9IFtdO1xuXHRmb3IgKGNvbnN0IHRlbXAgb2YgdGVtcGxhdGUpIGlmICh0ZW1wWzBdID09PSBcIm5hbWVcIikge1xuXHRcdGNvbnN0IG5hbWUgPSB0ZW1wWzFdLmluY2x1ZGVzKFwiLlwiKSA/IHRlbXBbMV0uc3BsaXQoXCIuXCIpWzBdIDogdGVtcFsxXTtcblx0XHRub2Rlcy5wdXNoKHtcblx0XHRcdHR5cGU6IFwidmFyaWFibGVcIixcblx0XHRcdG5hbWVcblx0XHR9KTtcblx0fSBlbHNlIGlmIChbXG5cdFx0XCIjXCIsXG5cdFx0XCImXCIsXG5cdFx0XCJeXCIsXG5cdFx0XCI+XCJcblx0XS5pbmNsdWRlcyh0ZW1wWzBdKSkge1xuXHRcdG5vZGVzLnB1c2goe1xuXHRcdFx0dHlwZTogXCJ2YXJpYWJsZVwiLFxuXHRcdFx0bmFtZTogdGVtcFsxXVxuXHRcdH0pO1xuXHRcdGlmICh0ZW1wWzBdID09PSBcIiNcIiAmJiB0ZW1wLmxlbmd0aCA+IDQgJiYgQXJyYXkuaXNBcnJheSh0ZW1wWzRdKSkge1xuXHRcdFx0Y29uc3QgbmV3Q29udGV4dCA9IFsuLi5jb250ZXh0LCB0ZW1wWzFdXTtcblx0XHRcdGNvbnN0IG5lc3RlZE5vZGVzID0gbXVzdGFjaGVUZW1wbGF0ZVRvTm9kZXModGVtcFs0XSwgbmV3Q29udGV4dCk7XG5cdFx0XHRub2Rlcy5wdXNoKC4uLm5lc3RlZE5vZGVzKTtcblx0XHR9XG5cdH0gZWxzZSBub2Rlcy5wdXNoKHtcblx0XHR0eXBlOiBcImxpdGVyYWxcIixcblx0XHR0ZXh0OiB0ZW1wWzFdXG5cdH0pO1xuXHRyZXR1cm4gbm9kZXM7XG59O1xuY29uc3QgcGFyc2VNdXN0YWNoZSA9ICh0ZW1wbGF0ZSkgPT4ge1xuXHRjb25maWd1cmVNdXN0YWNoZSgpO1xuXHRjb25zdCBwYXJzZWQgPSBtdXN0YWNoZS5wYXJzZSh0ZW1wbGF0ZSk7XG5cdHJldHVybiBtdXN0YWNoZVRlbXBsYXRlVG9Ob2RlcyhwYXJzZWQpO1xufTtcbmNvbnN0IGludGVycG9sYXRlRlN0cmluZyA9ICh0ZW1wbGF0ZSwgdmFsdWVzKSA9PiB7XG5cdHJldHVybiBwYXJzZUZTdHJpbmcodGVtcGxhdGUpLnJlZHVjZSgocmVzLCBub2RlKSA9PiB7XG5cdFx0aWYgKG5vZGUudHlwZSA9PT0gXCJ2YXJpYWJsZVwiKSB7XG5cdFx0XHRpZiAobm9kZS5uYW1lIGluIHZhbHVlcykge1xuXHRcdFx0XHRjb25zdCBzdHJpbmdWYWx1ZSA9IHR5cGVvZiB2YWx1ZXNbbm9kZS5uYW1lXSA9PT0gXCJzdHJpbmdcIiA/IHZhbHVlc1tub2RlLm5hbWVdIDogSlNPTi5zdHJpbmdpZnkodmFsdWVzW25vZGUubmFtZV0pO1xuXHRcdFx0XHRyZXR1cm4gcmVzICsgc3RyaW5nVmFsdWU7XG5cdFx0XHR9XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYChmLXN0cmluZykgTWlzc2luZyB2YWx1ZSBmb3IgaW5wdXQgJHtub2RlLm5hbWV9YCk7XG5cdFx0fVxuXHRcdHJldHVybiByZXMgKyBub2RlLnRleHQ7XG5cdH0sIFwiXCIpO1xufTtcbmNvbnN0IGludGVycG9sYXRlTXVzdGFjaGUgPSAodGVtcGxhdGUsIHZhbHVlcykgPT4ge1xuXHRjb25maWd1cmVNdXN0YWNoZSgpO1xuXHRyZXR1cm4gbXVzdGFjaGUucmVuZGVyKHRlbXBsYXRlLCB2YWx1ZXMpO1xufTtcbmNvbnN0IERFRkFVTFRfRk9STUFUVEVSX01BUFBJTkcgPSB7XG5cdFwiZi1zdHJpbmdcIjogaW50ZXJwb2xhdGVGU3RyaW5nLFxuXHRtdXN0YWNoZTogaW50ZXJwb2xhdGVNdXN0YWNoZVxufTtcbmNvbnN0IERFRkFVTFRfUEFSU0VSX01BUFBJTkcgPSB7XG5cdFwiZi1zdHJpbmdcIjogcGFyc2VGU3RyaW5nLFxuXHRtdXN0YWNoZTogcGFyc2VNdXN0YWNoZVxufTtcbmNvbnN0IHJlbmRlclRlbXBsYXRlID0gKHRlbXBsYXRlLCB0ZW1wbGF0ZUZvcm1hdCwgaW5wdXRWYWx1ZXMpID0+IHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gREVGQVVMVF9GT1JNQVRURVJfTUFQUElOR1t0ZW1wbGF0ZUZvcm1hdF0odGVtcGxhdGUsIGlucHV0VmFsdWVzKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGNvbnN0IGVycm9yID0gYWRkTGFuZ0NoYWluRXJyb3JGaWVsZHMoZSwgXCJJTlZBTElEX1BST01QVF9JTlBVVFwiKTtcblx0XHR0aHJvdyBlcnJvcjtcblx0fVxufTtcbmNvbnN0IHBhcnNlVGVtcGxhdGUgPSAodGVtcGxhdGUsIHRlbXBsYXRlRm9ybWF0KSA9PiBERUZBVUxUX1BBUlNFUl9NQVBQSU5HW3RlbXBsYXRlRm9ybWF0XSh0ZW1wbGF0ZSk7XG5jb25zdCBjaGVja1ZhbGlkVGVtcGxhdGUgPSAodGVtcGxhdGUsIHRlbXBsYXRlRm9ybWF0LCBpbnB1dFZhcmlhYmxlcykgPT4ge1xuXHRpZiAoISh0ZW1wbGF0ZUZvcm1hdCBpbiBERUZBVUxUX0ZPUk1BVFRFUl9NQVBQSU5HKSkge1xuXHRcdGNvbnN0IHZhbGlkRm9ybWF0cyA9IE9iamVjdC5rZXlzKERFRkFVTFRfRk9STUFUVEVSX01BUFBJTkcpO1xuXHRcdHRocm93IG5ldyBFcnJvcihgSW52YWxpZCB0ZW1wbGF0ZSBmb3JtYXQuIEdvdCBcXGAke3RlbXBsYXRlRm9ybWF0fVxcYDtcbiAgICAgICAgICAgICAgICAgICAgICAgICBzaG91bGQgYmUgb25lIG9mICR7dmFsaWRGb3JtYXRzfWApO1xuXHR9XG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVtbXlJbnB1dHMgPSBPYmplY3QuZnJvbUVudHJpZXMoaW5wdXRWYXJpYWJsZXMubWFwKCh2KSA9PiBbdiwgXCJmb29cIl0pKTtcblx0XHRpZiAoQXJyYXkuaXNBcnJheSh0ZW1wbGF0ZSkpIHRlbXBsYXRlLmZvckVhY2goKG1lc3NhZ2UpID0+IHtcblx0XHRcdGlmIChtZXNzYWdlLnR5cGUgPT09IFwidGV4dFwiICYmIFwidGV4dFwiIGluIG1lc3NhZ2UgJiYgdHlwZW9mIG1lc3NhZ2UudGV4dCA9PT0gXCJzdHJpbmdcIikgcmVuZGVyVGVtcGxhdGUobWVzc2FnZS50ZXh0LCB0ZW1wbGF0ZUZvcm1hdCwgZHVtbXlJbnB1dHMpO1xuXHRcdFx0ZWxzZSBpZiAobWVzc2FnZS50eXBlID09PSBcImltYWdlX3VybFwiKSB7XG5cdFx0XHRcdGlmICh0eXBlb2YgbWVzc2FnZS5pbWFnZV91cmwgPT09IFwic3RyaW5nXCIpIHJlbmRlclRlbXBsYXRlKG1lc3NhZ2UuaW1hZ2VfdXJsLCB0ZW1wbGF0ZUZvcm1hdCwgZHVtbXlJbnB1dHMpO1xuXHRcdFx0XHRlbHNlIGlmICh0eXBlb2YgbWVzc2FnZS5pbWFnZV91cmwgPT09IFwib2JqZWN0XCIgJiYgbWVzc2FnZS5pbWFnZV91cmwgIT09IG51bGwgJiYgXCJ1cmxcIiBpbiBtZXNzYWdlLmltYWdlX3VybCAmJiB0eXBlb2YgbWVzc2FnZS5pbWFnZV91cmwudXJsID09PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRcdFx0Y29uc3QgaW1hZ2VVcmwgPSBtZXNzYWdlLmltYWdlX3VybC51cmw7XG5cdFx0XHRcdFx0cmVuZGVyVGVtcGxhdGUoaW1hZ2VVcmwsIHRlbXBsYXRlRm9ybWF0LCBkdW1teUlucHV0cyk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgbWVzc2FnZSB0ZW1wbGF0ZSByZWNlaXZlZC4gJHtKU09OLnN0cmluZ2lmeShtZXNzYWdlLCBudWxsLCAyKX1gKTtcblx0XHR9KTtcblx0XHRlbHNlIHJlbmRlclRlbXBsYXRlKHRlbXBsYXRlLCB0ZW1wbGF0ZUZvcm1hdCwgZHVtbXlJbnB1dHMpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHByb21wdCBzY2hlbWE6ICR7ZS5tZXNzYWdlfWApO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IERFRkFVTFRfRk9STUFUVEVSX01BUFBJTkcsIERFRkFVTFRfUEFSU0VSX01BUFBJTkcsIGNoZWNrVmFsaWRUZW1wbGF0ZSwgaW50ZXJwb2xhdGVGU3RyaW5nLCBpbnRlcnBvbGF0ZU11c3RhY2hlLCBwYXJzZUZTdHJpbmcsIHBhcnNlTXVzdGFjaGUsIHBhcnNlVGVtcGxhdGUsIHJlbmRlclRlbXBsYXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZW1wbGF0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/prompts/template.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/base.js":
/*!********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/base.js ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Runnable: () => (/* binding */ Runnable),\n/* harmony export */   RunnableAssign: () => (/* binding */ RunnableAssign),\n/* harmony export */   RunnableBinding: () => (/* binding */ RunnableBinding),\n/* harmony export */   RunnableEach: () => (/* binding */ RunnableEach),\n/* harmony export */   RunnableLambda: () => (/* binding */ RunnableLambda),\n/* harmony export */   RunnableMap: () => (/* binding */ RunnableMap),\n/* harmony export */   RunnableParallel: () => (/* binding */ RunnableParallel),\n/* harmony export */   RunnablePick: () => (/* binding */ RunnablePick),\n/* harmony export */   RunnableRetry: () => (/* binding */ RunnableRetry),\n/* harmony export */   RunnableSequence: () => (/* binding */ RunnableSequence),\n/* harmony export */   RunnableToolLike: () => (/* binding */ RunnableToolLike),\n/* harmony export */   RunnableWithFallbacks: () => (/* binding */ RunnableWithFallbacks),\n/* harmony export */   _coerceToDict: () => (/* binding */ _coerceToDict),\n/* harmony export */   _coerceToRunnable: () => (/* binding */ _coerceToRunnable)\n/* harmony export */ });\n/* harmony import */ var _load_serializable_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../load/serializable.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/load/serializable.js\");\n/* harmony import */ var _tools_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tools/utils.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tools/utils.js\");\n/* harmony import */ var _singletons_async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../singletons/async_local_storage/index.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/async_local_storage/index.js\");\n/* harmony import */ var _singletons_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../singletons/index.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/index.js\");\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./config.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/config.js\");\n/* harmony import */ var _utils_signal_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/signal.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/signal.js\");\n/* harmony import */ var _utils_stream_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/stream.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/stream.js\");\n/* harmony import */ var _tracers_log_stream_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../tracers/log_stream.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tracers/log_stream.js\");\n/* harmony import */ var _tracers_event_stream_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../tracers/event_stream.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tracers/event_stream.js\");\n/* harmony import */ var _utils_p_retry_index_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/p-retry/index.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/p-retry/index.js\");\n/* harmony import */ var _utils_async_caller_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../utils/async_caller.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/async_caller.js\");\n/* harmony import */ var _tracers_root_listener_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../tracers/root_listener.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tracers/root_listener.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/utils.js\");\n/* harmony import */ var _utils_types_zod_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../utils/types/zod.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/types/zod.js\");\n/* harmony import */ var _graph_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./graph.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/graph.js\");\n/* harmony import */ var _wrappers_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./wrappers.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/wrappers.js\");\n/* harmony import */ var _iter_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./iter.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/iter.js\");\n/* harmony import */ var zod_v3__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! zod/v3 */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+zod@4.3.6/node_modules/zod/v3/index.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! uuid */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+uuid@10.0.0/node_modules/uuid/dist/esm-node/v4.js\");\n/* harmony import */ var langsmith_singletons_traceable__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! langsmith/singletons/traceable */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+langsmith@0.4.9_openai@6.16.0/node_modules/langsmith/singletons/traceable.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//#region src/runnables/base.ts\nfunction _coerceToDict(value, defaultKey) {\n\treturn value && !Array.isArray(value) && !(value instanceof Date) && typeof value === \"object\" ? value : { [defaultKey]: value };\n}\n/**\n* A Runnable is a generic unit of work that can be invoked, batched, streamed, and/or\n* transformed.\n*/\nvar Runnable = class extends _load_serializable_js__WEBPACK_IMPORTED_MODULE_0__.Serializable {\n\tlc_runnable = true;\n\tname;\n\tgetName(suffix) {\n\t\tconst name = this.name ?? this.constructor.lc_name() ?? this.constructor.name;\n\t\treturn suffix ? `${name}${suffix}` : name;\n\t}\n\t/**\n\t* Add retry logic to an existing runnable.\n\t* @param fields.stopAfterAttempt The number of attempts to retry.\n\t* @param fields.onFailedAttempt A function that is called when a retry fails.\n\t* @returns A new RunnableRetry that, when invoked, will retry according to the parameters.\n\t*/\n\twithRetry(fields) {\n\t\treturn new RunnableRetry({\n\t\t\tbound: this,\n\t\t\tkwargs: {},\n\t\t\tconfig: {},\n\t\t\tmaxAttemptNumber: fields?.stopAfterAttempt,\n\t\t\t...fields\n\t\t});\n\t}\n\t/**\n\t* Bind config to a Runnable, returning a new Runnable.\n\t* @param config New configuration parameters to attach to the new runnable.\n\t* @returns A new RunnableBinding with a config matching what's passed.\n\t*/\n\twithConfig(config) {\n\t\treturn new RunnableBinding({\n\t\t\tbound: this,\n\t\t\tconfig,\n\t\t\tkwargs: {}\n\t\t});\n\t}\n\t/**\n\t* Create a new runnable from the current one that will try invoking\n\t* other passed fallback runnables if the initial invocation fails.\n\t* @param fields.fallbacks Other runnables to call if the runnable errors.\n\t* @returns A new RunnableWithFallbacks.\n\t*/\n\twithFallbacks(fields) {\n\t\tconst fallbacks = Array.isArray(fields) ? fields : fields.fallbacks;\n\t\treturn new RunnableWithFallbacks({\n\t\t\trunnable: this,\n\t\t\tfallbacks\n\t\t});\n\t}\n\t_getOptionsList(options, length = 0) {\n\t\tif (Array.isArray(options) && options.length !== length) throw new Error(`Passed \"options\" must be an array with the same length as the inputs, but got ${options.length} options for ${length} inputs`);\n\t\tif (Array.isArray(options)) return options.map(_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig);\n\t\tif (length > 1 && !Array.isArray(options) && options.runId) {\n\t\t\tconsole.warn(\"Provided runId will be used only for the first element of the batch.\");\n\t\t\tconst subsequent = Object.fromEntries(Object.entries(options).filter(([key]) => key !== \"runId\"));\n\t\t\treturn Array.from({ length }, (_, i) => (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(i === 0 ? options : subsequent));\n\t\t}\n\t\treturn Array.from({ length }, () => (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options));\n\t}\n\tasync batch(inputs, options, batchOptions) {\n\t\tconst configList = this._getOptionsList(options ?? {}, inputs.length);\n\t\tconst maxConcurrency = configList[0]?.maxConcurrency ?? batchOptions?.maxConcurrency;\n\t\tconst caller = new _utils_async_caller_js__WEBPACK_IMPORTED_MODULE_10__.AsyncCaller({\n\t\t\tmaxConcurrency,\n\t\t\tonFailedAttempt: (e) => {\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t});\n\t\tconst batchCalls = inputs.map((input, i) => caller.call(async () => {\n\t\t\ttry {\n\t\t\t\tconst result = await this.invoke(input, configList[i]);\n\t\t\t\treturn result;\n\t\t\t} catch (e) {\n\t\t\t\tif (batchOptions?.returnExceptions) return e;\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t}));\n\t\treturn Promise.all(batchCalls);\n\t}\n\t/**\n\t* Default streaming implementation.\n\t* Subclasses should override this method if they support streaming output.\n\t* @param input\n\t* @param options\n\t*/\n\tasync *_streamIterator(input, options) {\n\t\tyield this.invoke(input, options);\n\t}\n\t/**\n\t* Stream output in chunks.\n\t* @param input\n\t* @param options\n\t* @returns A readable stream that is also an iterable.\n\t*/\n\tasync stream(input, options) {\n\t\tconst config = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options);\n\t\tconst wrappedGenerator = new _utils_stream_js__WEBPACK_IMPORTED_MODULE_6__.AsyncGeneratorWithSetup({\n\t\t\tgenerator: this._streamIterator(input, config),\n\t\t\tconfig\n\t\t});\n\t\tawait wrappedGenerator.setup;\n\t\treturn _utils_stream_js__WEBPACK_IMPORTED_MODULE_6__.IterableReadableStream.fromAsyncGenerator(wrappedGenerator);\n\t}\n\t_separateRunnableConfigFromCallOptions(options) {\n\t\tlet runnableConfig;\n\t\tif (options === void 0) runnableConfig = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options);\n\t\telse runnableConfig = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)({\n\t\t\tcallbacks: options.callbacks,\n\t\t\ttags: options.tags,\n\t\t\tmetadata: options.metadata,\n\t\t\trunName: options.runName,\n\t\t\tconfigurable: options.configurable,\n\t\t\trecursionLimit: options.recursionLimit,\n\t\t\tmaxConcurrency: options.maxConcurrency,\n\t\t\trunId: options.runId,\n\t\t\ttimeout: options.timeout,\n\t\t\tsignal: options.signal\n\t\t});\n\t\tconst callOptions = { ...options };\n\t\tdelete callOptions.callbacks;\n\t\tdelete callOptions.tags;\n\t\tdelete callOptions.metadata;\n\t\tdelete callOptions.runName;\n\t\tdelete callOptions.configurable;\n\t\tdelete callOptions.recursionLimit;\n\t\tdelete callOptions.maxConcurrency;\n\t\tdelete callOptions.runId;\n\t\tdelete callOptions.timeout;\n\t\tdelete callOptions.signal;\n\t\treturn [runnableConfig, callOptions];\n\t}\n\tasync _callWithConfig(func, input, options) {\n\t\tconst config = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options);\n\t\tconst callbackManager_ = await (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.getCallbackManagerForConfig)(config);\n\t\tconst runManager = await callbackManager_?.handleChainStart(this.toJSON(), _coerceToDict(input, \"input\"), config.runId, config?.runType, void 0, void 0, config?.runName ?? this.getName());\n\t\tdelete config.runId;\n\t\tlet output;\n\t\ttry {\n\t\t\tconst promise = func.call(this, input, config, runManager);\n\t\t\toutput = await (0,_utils_signal_js__WEBPACK_IMPORTED_MODULE_5__.raceWithSignal)(promise, options?.signal);\n\t\t} catch (e) {\n\t\t\tawait runManager?.handleChainError(e);\n\t\t\tthrow e;\n\t\t}\n\t\tawait runManager?.handleChainEnd(_coerceToDict(output, \"output\"));\n\t\treturn output;\n\t}\n\t/**\n\t* Internal method that handles batching and configuration for a runnable\n\t* It takes a function, input values, and optional configuration, and\n\t* returns a promise that resolves to the output values.\n\t* @param func The function to be executed for each input value.\n\t* @param input The input values to be processed.\n\t* @param config Optional configuration for the function execution.\n\t* @returns A promise that resolves to the output values.\n\t*/\n\tasync _batchWithConfig(func, inputs, options, batchOptions) {\n\t\tconst optionsList = this._getOptionsList(options ?? {}, inputs.length);\n\t\tconst callbackManagers = await Promise.all(optionsList.map(_config_js__WEBPACK_IMPORTED_MODULE_4__.getCallbackManagerForConfig));\n\t\tconst runManagers = await Promise.all(callbackManagers.map(async (callbackManager, i) => {\n\t\t\tconst handleStartRes = await callbackManager?.handleChainStart(this.toJSON(), _coerceToDict(inputs[i], \"input\"), optionsList[i].runId, optionsList[i].runType, void 0, void 0, optionsList[i].runName ?? this.getName());\n\t\t\tdelete optionsList[i].runId;\n\t\t\treturn handleStartRes;\n\t\t}));\n\t\tlet outputs;\n\t\ttry {\n\t\t\tconst promise = func.call(this, inputs, optionsList, runManagers, batchOptions);\n\t\t\toutputs = await (0,_utils_signal_js__WEBPACK_IMPORTED_MODULE_5__.raceWithSignal)(promise, optionsList?.[0]?.signal);\n\t\t} catch (e) {\n\t\t\tawait Promise.all(runManagers.map((runManager) => runManager?.handleChainError(e)));\n\t\t\tthrow e;\n\t\t}\n\t\tawait Promise.all(runManagers.map((runManager) => runManager?.handleChainEnd(_coerceToDict(outputs, \"output\"))));\n\t\treturn outputs;\n\t}\n\t/** @internal */\n\t_concatOutputChunks(first, second) {\n\t\treturn (0,_utils_stream_js__WEBPACK_IMPORTED_MODULE_6__.concat)(first, second);\n\t}\n\t/**\n\t* Helper method to transform an Iterator of Input values into an Iterator of\n\t* Output values, with callbacks.\n\t* Use this to implement `stream()` or `transform()` in Runnable subclasses.\n\t*/\n\tasync *_transformStreamWithConfig(inputGenerator, transformer, options) {\n\t\tlet finalInput;\n\t\tlet finalInputSupported = true;\n\t\tlet finalOutput;\n\t\tlet finalOutputSupported = true;\n\t\tconst config = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options);\n\t\tconst callbackManager_ = await (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.getCallbackManagerForConfig)(config);\n\t\tconst outerThis = this;\n\t\tasync function* wrapInputForTracing() {\n\t\t\tfor await (const chunk of inputGenerator) {\n\t\t\t\tif (finalInputSupported) if (finalInput === void 0) finalInput = chunk;\n\t\t\t\telse try {\n\t\t\t\t\tfinalInput = outerThis._concatOutputChunks(finalInput, chunk);\n\t\t\t\t} catch {\n\t\t\t\t\tfinalInput = void 0;\n\t\t\t\t\tfinalInputSupported = false;\n\t\t\t\t}\n\t\t\t\tyield chunk;\n\t\t\t}\n\t\t}\n\t\tlet runManager;\n\t\ttry {\n\t\t\tconst pipe = await (0,_utils_stream_js__WEBPACK_IMPORTED_MODULE_6__.pipeGeneratorWithSetup)(transformer.bind(this), wrapInputForTracing(), async () => callbackManager_?.handleChainStart(this.toJSON(), { input: \"\" }, config.runId, config.runType, void 0, void 0, config.runName ?? this.getName(), void 0, { lc_defers_inputs: true }), options?.signal, config);\n\t\t\tdelete config.runId;\n\t\t\trunManager = pipe.setup;\n\t\t\tconst streamEventsHandler = runManager?.handlers.find(_tracers_event_stream_js__WEBPACK_IMPORTED_MODULE_8__.isStreamEventsHandler);\n\t\t\tlet iterator = pipe.output;\n\t\t\tif (streamEventsHandler !== void 0 && runManager !== void 0) iterator = streamEventsHandler.tapOutputIterable(runManager.runId, iterator);\n\t\t\tconst streamLogHandler = runManager?.handlers.find(_tracers_log_stream_js__WEBPACK_IMPORTED_MODULE_7__.isLogStreamHandler);\n\t\t\tif (streamLogHandler !== void 0 && runManager !== void 0) iterator = streamLogHandler.tapOutputIterable(runManager.runId, iterator);\n\t\t\tfor await (const chunk of iterator) {\n\t\t\t\tyield chunk;\n\t\t\t\tif (finalOutputSupported) if (finalOutput === void 0) finalOutput = chunk;\n\t\t\t\telse try {\n\t\t\t\t\tfinalOutput = this._concatOutputChunks(finalOutput, chunk);\n\t\t\t\t} catch {\n\t\t\t\t\tfinalOutput = void 0;\n\t\t\t\t\tfinalOutputSupported = false;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tawait runManager?.handleChainError(e, void 0, void 0, void 0, { inputs: _coerceToDict(finalInput, \"input\") });\n\t\t\tthrow e;\n\t\t}\n\t\tawait runManager?.handleChainEnd(finalOutput ?? {}, void 0, void 0, void 0, { inputs: _coerceToDict(finalInput, \"input\") });\n\t}\n\tgetGraph(_) {\n\t\tconst graph = new _graph_js__WEBPACK_IMPORTED_MODULE_14__.Graph();\n\t\tconst inputNode = graph.addNode({\n\t\t\tname: `${this.getName()}Input`,\n\t\t\tschema: zod_v3__WEBPACK_IMPORTED_MODULE_17__.z.any()\n\t\t});\n\t\tconst runnableNode = graph.addNode(this);\n\t\tconst outputNode = graph.addNode({\n\t\t\tname: `${this.getName()}Output`,\n\t\t\tschema: zod_v3__WEBPACK_IMPORTED_MODULE_17__.z.any()\n\t\t});\n\t\tgraph.addEdge(inputNode, runnableNode);\n\t\tgraph.addEdge(runnableNode, outputNode);\n\t\treturn graph;\n\t}\n\t/**\n\t* Create a new runnable sequence that runs each individual runnable in series,\n\t* piping the output of one runnable into another runnable or runnable-like.\n\t* @param coerceable A runnable, function, or object whose values are functions or runnables.\n\t* @returns A new runnable sequence.\n\t*/\n\tpipe(coerceable) {\n\t\treturn new RunnableSequence({\n\t\t\tfirst: this,\n\t\t\tlast: _coerceToRunnable(coerceable)\n\t\t});\n\t}\n\t/**\n\t* Pick keys from the dict output of this runnable. Returns a new runnable.\n\t*/\n\tpick(keys) {\n\t\treturn this.pipe(new RunnablePick(keys));\n\t}\n\t/**\n\t* Assigns new fields to the dict output of this runnable. Returns a new runnable.\n\t*/\n\tassign(mapping) {\n\t\treturn this.pipe(new RunnableAssign(new RunnableMap({ steps: mapping })));\n\t}\n\t/**\n\t* Default implementation of transform, which buffers input and then calls stream.\n\t* Subclasses should override this method if they can start producing output while\n\t* input is still being generated.\n\t* @param generator\n\t* @param options\n\t*/\n\tasync *transform(generator, options) {\n\t\tlet finalChunk;\n\t\tfor await (const chunk of generator) if (finalChunk === void 0) finalChunk = chunk;\n\t\telse finalChunk = this._concatOutputChunks(finalChunk, chunk);\n\t\tyield* this._streamIterator(finalChunk, (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options));\n\t}\n\t/**\n\t* Stream all output from a runnable, as reported to the callback system.\n\t* This includes all inner runs of LLMs, Retrievers, Tools, etc.\n\t* Output is streamed as Log objects, which include a list of\n\t* jsonpatch ops that describe how the state of the run has changed in each\n\t* step, and the final state of the run.\n\t* The jsonpatch ops can be applied in order to construct state.\n\t* @param input\n\t* @param options\n\t* @param streamOptions\n\t*/\n\tasync *streamLog(input, options, streamOptions) {\n\t\tconst logStreamCallbackHandler = new _tracers_log_stream_js__WEBPACK_IMPORTED_MODULE_7__.LogStreamCallbackHandler({\n\t\t\t...streamOptions,\n\t\t\tautoClose: false,\n\t\t\t_schemaFormat: \"original\"\n\t\t});\n\t\tconst config = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options);\n\t\tyield* this._streamLog(input, logStreamCallbackHandler, config);\n\t}\n\tasync *_streamLog(input, logStreamCallbackHandler, config) {\n\t\tconst { callbacks } = config;\n\t\tif (callbacks === void 0) config.callbacks = [logStreamCallbackHandler];\n\t\telse if (Array.isArray(callbacks)) config.callbacks = callbacks.concat([logStreamCallbackHandler]);\n\t\telse {\n\t\t\tconst copiedCallbacks = callbacks.copy();\n\t\t\tcopiedCallbacks.addHandler(logStreamCallbackHandler, true);\n\t\t\tconfig.callbacks = copiedCallbacks;\n\t\t}\n\t\tconst runnableStreamPromise = this.stream(input, config);\n\t\tasync function consumeRunnableStream() {\n\t\t\ttry {\n\t\t\t\tconst runnableStream = await runnableStreamPromise;\n\t\t\t\tfor await (const chunk of runnableStream) {\n\t\t\t\t\tconst patch = new _tracers_log_stream_js__WEBPACK_IMPORTED_MODULE_7__.RunLogPatch({ ops: [{\n\t\t\t\t\t\top: \"add\",\n\t\t\t\t\t\tpath: \"/streamed_output/-\",\n\t\t\t\t\t\tvalue: chunk\n\t\t\t\t\t}] });\n\t\t\t\t\tawait logStreamCallbackHandler.writer.write(patch);\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tawait logStreamCallbackHandler.writer.close();\n\t\t\t}\n\t\t}\n\t\tconst runnableStreamConsumePromise = consumeRunnableStream();\n\t\ttry {\n\t\t\tfor await (const log of logStreamCallbackHandler) yield log;\n\t\t} finally {\n\t\t\tawait runnableStreamConsumePromise;\n\t\t}\n\t}\n\tstreamEvents(input, options, streamOptions) {\n\t\tlet stream;\n\t\tif (options.version === \"v1\") stream = this._streamEventsV1(input, options, streamOptions);\n\t\telse if (options.version === \"v2\") stream = this._streamEventsV2(input, options, streamOptions);\n\t\telse throw new Error(`Only versions \"v1\" and \"v2\" of the schema are currently supported.`);\n\t\tif (options.encoding === \"text/event-stream\") return (0,_wrappers_js__WEBPACK_IMPORTED_MODULE_15__.convertToHttpEventStream)(stream);\n\t\telse return _utils_stream_js__WEBPACK_IMPORTED_MODULE_6__.IterableReadableStream.fromAsyncGenerator(stream);\n\t}\n\tasync *_streamEventsV2(input, options, streamOptions) {\n\t\tconst eventStreamer = new _tracers_event_stream_js__WEBPACK_IMPORTED_MODULE_8__.EventStreamCallbackHandler({\n\t\t\t...streamOptions,\n\t\t\tautoClose: false\n\t\t});\n\t\tconst config = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options);\n\t\tconst runId = config.runId ?? (0,uuid__WEBPACK_IMPORTED_MODULE_19__[\"default\"])();\n\t\tconfig.runId = runId;\n\t\tconst callbacks = config.callbacks;\n\t\tif (callbacks === void 0) config.callbacks = [eventStreamer];\n\t\telse if (Array.isArray(callbacks)) config.callbacks = callbacks.concat(eventStreamer);\n\t\telse {\n\t\t\tconst copiedCallbacks = callbacks.copy();\n\t\t\tcopiedCallbacks.addHandler(eventStreamer, true);\n\t\t\tconfig.callbacks = copiedCallbacks;\n\t\t}\n\t\tconst abortController = new AbortController();\n\t\tconst outerThis = this;\n\t\tasync function consumeRunnableStream() {\n\t\t\tlet signal;\n\t\t\tlet listener = null;\n\t\t\ttry {\n\t\t\t\tif (options?.signal) if (\"any\" in AbortSignal) signal = AbortSignal.any([abortController.signal, options.signal]);\n\t\t\t\telse {\n\t\t\t\t\tsignal = options.signal;\n\t\t\t\t\tlistener = () => {\n\t\t\t\t\t\tabortController.abort();\n\t\t\t\t\t};\n\t\t\t\t\toptions.signal.addEventListener(\"abort\", listener, { once: true });\n\t\t\t\t}\n\t\t\t\telse signal = abortController.signal;\n\t\t\t\tconst runnableStream = await outerThis.stream(input, {\n\t\t\t\t\t...config,\n\t\t\t\t\tsignal\n\t\t\t\t});\n\t\t\t\tconst tappedStream = eventStreamer.tapOutputIterable(runId, runnableStream);\n\t\t\t\tfor await (const _ of tappedStream) if (abortController.signal.aborted) break;\n\t\t\t} finally {\n\t\t\t\tawait eventStreamer.finish();\n\t\t\t\tif (signal && listener) signal.removeEventListener(\"abort\", listener);\n\t\t\t}\n\t\t}\n\t\tconst runnableStreamConsumePromise = consumeRunnableStream();\n\t\tlet firstEventSent = false;\n\t\tlet firstEventRunId;\n\t\ttry {\n\t\t\tfor await (const event of eventStreamer) {\n\t\t\t\tif (!firstEventSent) {\n\t\t\t\t\tevent.data.input = input;\n\t\t\t\t\tfirstEventSent = true;\n\t\t\t\t\tfirstEventRunId = event.run_id;\n\t\t\t\t\tyield event;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (event.run_id === firstEventRunId && event.event.endsWith(\"_end\")) {\n\t\t\t\t\tif (event.data?.input) delete event.data.input;\n\t\t\t\t}\n\t\t\t\tyield event;\n\t\t\t}\n\t\t} finally {\n\t\t\tabortController.abort();\n\t\t\tawait runnableStreamConsumePromise;\n\t\t}\n\t}\n\tasync *_streamEventsV1(input, options, streamOptions) {\n\t\tlet runLog;\n\t\tlet hasEncounteredStartEvent = false;\n\t\tconst config = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options);\n\t\tconst rootTags = config.tags ?? [];\n\t\tconst rootMetadata = config.metadata ?? {};\n\t\tconst rootName = config.runName ?? this.getName();\n\t\tconst logStreamCallbackHandler = new _tracers_log_stream_js__WEBPACK_IMPORTED_MODULE_7__.LogStreamCallbackHandler({\n\t\t\t...streamOptions,\n\t\t\tautoClose: false,\n\t\t\t_schemaFormat: \"streaming_events\"\n\t\t});\n\t\tconst rootEventFilter = new _utils_js__WEBPACK_IMPORTED_MODULE_12__._RootEventFilter({ ...streamOptions });\n\t\tconst logStream = this._streamLog(input, logStreamCallbackHandler, config);\n\t\tfor await (const log of logStream) {\n\t\t\tif (!runLog) runLog = _tracers_log_stream_js__WEBPACK_IMPORTED_MODULE_7__.RunLog.fromRunLogPatch(log);\n\t\t\telse runLog = runLog.concat(log);\n\t\t\tif (runLog.state === void 0) throw new Error(`Internal error: \"streamEvents\" state is missing. Please open a bug report.`);\n\t\t\tif (!hasEncounteredStartEvent) {\n\t\t\t\thasEncounteredStartEvent = true;\n\t\t\t\tconst state$2 = { ...runLog.state };\n\t\t\t\tconst event = {\n\t\t\t\t\trun_id: state$2.id,\n\t\t\t\t\tevent: `on_${state$2.type}_start`,\n\t\t\t\t\tname: rootName,\n\t\t\t\t\ttags: rootTags,\n\t\t\t\t\tmetadata: rootMetadata,\n\t\t\t\t\tdata: { input }\n\t\t\t\t};\n\t\t\t\tif (rootEventFilter.includeEvent(event, state$2.type)) yield event;\n\t\t\t}\n\t\t\tconst paths = log.ops.filter((op) => op.path.startsWith(\"/logs/\")).map((op) => op.path.split(\"/\")[2]);\n\t\t\tconst dedupedPaths = [...new Set(paths)];\n\t\t\tfor (const path of dedupedPaths) {\n\t\t\t\tlet eventType;\n\t\t\t\tlet data = {};\n\t\t\t\tconst logEntry = runLog.state.logs[path];\n\t\t\t\tif (logEntry.end_time === void 0) if (logEntry.streamed_output.length > 0) eventType = \"stream\";\n\t\t\t\telse eventType = \"start\";\n\t\t\t\telse eventType = \"end\";\n\t\t\t\tif (eventType === \"start\") {\n\t\t\t\t\tif (logEntry.inputs !== void 0) data.input = logEntry.inputs;\n\t\t\t\t} else if (eventType === \"end\") {\n\t\t\t\t\tif (logEntry.inputs !== void 0) data.input = logEntry.inputs;\n\t\t\t\t\tdata.output = logEntry.final_output;\n\t\t\t\t} else if (eventType === \"stream\") {\n\t\t\t\t\tconst chunkCount = logEntry.streamed_output.length;\n\t\t\t\t\tif (chunkCount !== 1) throw new Error(`Expected exactly one chunk of streamed output, got ${chunkCount} instead. Encountered in: \"${logEntry.name}\"`);\n\t\t\t\t\tdata = { chunk: logEntry.streamed_output[0] };\n\t\t\t\t\tlogEntry.streamed_output = [];\n\t\t\t\t}\n\t\t\t\tyield {\n\t\t\t\t\tevent: `on_${logEntry.type}_${eventType}`,\n\t\t\t\t\tname: logEntry.name,\n\t\t\t\t\trun_id: logEntry.id,\n\t\t\t\t\ttags: logEntry.tags,\n\t\t\t\t\tmetadata: logEntry.metadata,\n\t\t\t\t\tdata\n\t\t\t\t};\n\t\t\t}\n\t\t\tconst { state: state$1 } = runLog;\n\t\t\tif (state$1.streamed_output.length > 0) {\n\t\t\t\tconst chunkCount = state$1.streamed_output.length;\n\t\t\t\tif (chunkCount !== 1) throw new Error(`Expected exactly one chunk of streamed output, got ${chunkCount} instead. Encountered in: \"${state$1.name}\"`);\n\t\t\t\tconst data = { chunk: state$1.streamed_output[0] };\n\t\t\t\tstate$1.streamed_output = [];\n\t\t\t\tconst event = {\n\t\t\t\t\tevent: `on_${state$1.type}_stream`,\n\t\t\t\t\trun_id: state$1.id,\n\t\t\t\t\ttags: rootTags,\n\t\t\t\t\tmetadata: rootMetadata,\n\t\t\t\t\tname: rootName,\n\t\t\t\t\tdata\n\t\t\t\t};\n\t\t\t\tif (rootEventFilter.includeEvent(event, state$1.type)) yield event;\n\t\t\t}\n\t\t}\n\t\tconst state = runLog?.state;\n\t\tif (state !== void 0) {\n\t\t\tconst event = {\n\t\t\t\tevent: `on_${state.type}_end`,\n\t\t\t\tname: rootName,\n\t\t\t\trun_id: state.id,\n\t\t\t\ttags: rootTags,\n\t\t\t\tmetadata: rootMetadata,\n\t\t\t\tdata: { output: state.final_output }\n\t\t\t};\n\t\t\tif (rootEventFilter.includeEvent(event, state.type)) yield event;\n\t\t}\n\t}\n\tstatic isRunnable(thing) {\n\t\treturn (0,_utils_js__WEBPACK_IMPORTED_MODULE_12__.isRunnableInterface)(thing);\n\t}\n\t/**\n\t* Bind lifecycle listeners to a Runnable, returning a new Runnable.\n\t* The Run object contains information about the run, including its id,\n\t* type, input, output, error, startTime, endTime, and any tags or metadata\n\t* added to the run.\n\t*\n\t* @param {Object} params - The object containing the callback functions.\n\t* @param {(run: Run) => void} params.onStart - Called before the runnable starts running, with the Run object.\n\t* @param {(run: Run) => void} params.onEnd - Called after the runnable finishes running, with the Run object.\n\t* @param {(run: Run) => void} params.onError - Called if the runnable throws an error, with the Run object.\n\t*/\n\twithListeners({ onStart, onEnd, onError }) {\n\t\treturn new RunnableBinding({\n\t\t\tbound: this,\n\t\t\tconfig: {},\n\t\t\tconfigFactories: [(config) => ({ callbacks: [new _tracers_root_listener_js__WEBPACK_IMPORTED_MODULE_11__.RootListenersTracer({\n\t\t\t\tconfig,\n\t\t\t\tonStart,\n\t\t\t\tonEnd,\n\t\t\t\tonError\n\t\t\t})] })]\n\t\t});\n\t}\n\t/**\n\t* Convert a runnable to a tool. Return a new instance of `RunnableToolLike`\n\t* which contains the runnable, name, description and schema.\n\t*\n\t* @template {T extends RunInput = RunInput} RunInput - The input type of the runnable. Should be the same as the `RunInput` type of the runnable.\n\t*\n\t* @param fields\n\t* @param {string | undefined} [fields.name] The name of the tool. If not provided, it will default to the name of the runnable.\n\t* @param {string | undefined} [fields.description] The description of the tool. Falls back to the description on the Zod schema if not provided, or undefined if neither are provided.\n\t* @param {z.ZodType<T>} [fields.schema] The Zod schema for the input of the tool. Infers the Zod type from the input type of the runnable.\n\t* @returns {RunnableToolLike<z.ZodType<T>, RunOutput>} An instance of `RunnableToolLike` which is a runnable that can be used as a tool.\n\t*/\n\tasTool(fields) {\n\t\treturn convertRunnableToTool(this, fields);\n\t}\n};\n/**\n* Wraps a runnable and applies partial config upon invocation.\n*\n* @example\n* ```typescript\n* import {\n*   type RunnableConfig,\n*   RunnableLambda,\n* } from \"@langchain/core/runnables\";\n*\n* const enhanceProfile = (\n*   profile: Record<string, any>,\n*   config?: RunnableConfig\n* ) => {\n*   if (config?.configurable?.role) {\n*     return { ...profile, role: config.configurable.role };\n*   }\n*   return profile;\n* };\n*\n* const runnable = RunnableLambda.from(enhanceProfile);\n*\n* // Bind configuration to the runnable to set the user's role dynamically\n* const adminRunnable = runnable.withConfig({ configurable: { role: \"Admin\" } });\n* const userRunnable = runnable.withConfig({ configurable: { role: \"User\" } });\n*\n* const result1 = await adminRunnable.invoke({\n*   name: \"Alice\",\n*   email: \"alice@example.com\"\n* });\n*\n* // { name: \"Alice\", email: \"alice@example.com\", role: \"Admin\" }\n*\n* const result2 = await userRunnable.invoke({\n*   name: \"Bob\",\n*   email: \"bob@example.com\"\n* });\n*\n* // { name: \"Bob\", email: \"bob@example.com\", role: \"User\" }\n* ```\n*/\nvar RunnableBinding = class RunnableBinding extends Runnable {\n\tstatic lc_name() {\n\t\treturn \"RunnableBinding\";\n\t}\n\tlc_namespace = [\"langchain_core\", \"runnables\"];\n\tlc_serializable = true;\n\tbound;\n\tconfig;\n\tkwargs;\n\tconfigFactories;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.bound = fields.bound;\n\t\tthis.kwargs = fields.kwargs;\n\t\tthis.config = fields.config;\n\t\tthis.configFactories = fields.configFactories;\n\t}\n\tgetName(suffix) {\n\t\treturn this.bound.getName(suffix);\n\t}\n\tasync _mergeConfig(...options) {\n\t\tconst config = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.mergeConfigs)(this.config, ...options);\n\t\treturn (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.mergeConfigs)(config, ...this.configFactories ? await Promise.all(this.configFactories.map(async (configFactory) => await configFactory(config))) : []);\n\t}\n\twithConfig(config) {\n\t\treturn new this.constructor({\n\t\t\tbound: this.bound,\n\t\t\tkwargs: this.kwargs,\n\t\t\tconfig: {\n\t\t\t\t...this.config,\n\t\t\t\t...config\n\t\t\t}\n\t\t});\n\t}\n\twithRetry(fields) {\n\t\treturn new RunnableRetry({\n\t\t\tbound: this.bound,\n\t\t\tkwargs: this.kwargs,\n\t\t\tconfig: this.config,\n\t\t\tmaxAttemptNumber: fields?.stopAfterAttempt,\n\t\t\t...fields\n\t\t});\n\t}\n\tasync invoke(input, options) {\n\t\treturn this.bound.invoke(input, await this._mergeConfig(options, this.kwargs));\n\t}\n\tasync batch(inputs, options, batchOptions) {\n\t\tconst mergedOptions = Array.isArray(options) ? await Promise.all(options.map(async (individualOption) => this._mergeConfig((0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(individualOption), this.kwargs))) : await this._mergeConfig((0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options), this.kwargs);\n\t\treturn this.bound.batch(inputs, mergedOptions, batchOptions);\n\t}\n\t/** @internal */\n\t_concatOutputChunks(first, second) {\n\t\treturn this.bound._concatOutputChunks(first, second);\n\t}\n\tasync *_streamIterator(input, options) {\n\t\tyield* this.bound._streamIterator(input, await this._mergeConfig((0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options), this.kwargs));\n\t}\n\tasync stream(input, options) {\n\t\treturn this.bound.stream(input, await this._mergeConfig((0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options), this.kwargs));\n\t}\n\tasync *transform(generator, options) {\n\t\tyield* this.bound.transform(generator, await this._mergeConfig((0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options), this.kwargs));\n\t}\n\tstreamEvents(input, options, streamOptions) {\n\t\tconst outerThis = this;\n\t\tconst generator = async function* () {\n\t\t\tyield* outerThis.bound.streamEvents(input, {\n\t\t\t\t...await outerThis._mergeConfig((0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options), outerThis.kwargs),\n\t\t\t\tversion: options.version\n\t\t\t}, streamOptions);\n\t\t};\n\t\treturn _utils_stream_js__WEBPACK_IMPORTED_MODULE_6__.IterableReadableStream.fromAsyncGenerator(generator());\n\t}\n\tstatic isRunnableBinding(thing) {\n\t\treturn thing.bound && Runnable.isRunnable(thing.bound);\n\t}\n\t/**\n\t* Bind lifecycle listeners to a Runnable, returning a new Runnable.\n\t* The Run object contains information about the run, including its id,\n\t* type, input, output, error, startTime, endTime, and any tags or metadata\n\t* added to the run.\n\t*\n\t* @param {Object} params - The object containing the callback functions.\n\t* @param {(run: Run) => void} params.onStart - Called before the runnable starts running, with the Run object.\n\t* @param {(run: Run) => void} params.onEnd - Called after the runnable finishes running, with the Run object.\n\t* @param {(run: Run) => void} params.onError - Called if the runnable throws an error, with the Run object.\n\t*/\n\twithListeners({ onStart, onEnd, onError }) {\n\t\treturn new RunnableBinding({\n\t\t\tbound: this.bound,\n\t\t\tkwargs: this.kwargs,\n\t\t\tconfig: this.config,\n\t\t\tconfigFactories: [(config) => ({ callbacks: [new _tracers_root_listener_js__WEBPACK_IMPORTED_MODULE_11__.RootListenersTracer({\n\t\t\t\tconfig,\n\t\t\t\tonStart,\n\t\t\t\tonEnd,\n\t\t\t\tonError\n\t\t\t})] })]\n\t\t});\n\t}\n};\n/**\n* A runnable that delegates calls to another runnable\n* with each element of the input sequence.\n* @example\n* ```typescript\n* import { RunnableEach, RunnableLambda } from \"@langchain/core/runnables\";\n*\n* const toUpperCase = (input: string): string => input.toUpperCase();\n* const addGreeting = (input: string): string => `Hello, ${input}!`;\n*\n* const upperCaseLambda = RunnableLambda.from(toUpperCase);\n* const greetingLambda = RunnableLambda.from(addGreeting);\n*\n* const chain = new RunnableEach({\n*   bound: upperCaseLambda.pipe(greetingLambda),\n* });\n*\n* const result = await chain.invoke([\"alice\", \"bob\", \"carol\"])\n*\n* // [\"Hello, ALICE!\", \"Hello, BOB!\", \"Hello, CAROL!\"]\n* ```\n*/\nvar RunnableEach = class RunnableEach extends Runnable {\n\tstatic lc_name() {\n\t\treturn \"RunnableEach\";\n\t}\n\tlc_serializable = true;\n\tlc_namespace = [\"langchain_core\", \"runnables\"];\n\tbound;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.bound = fields.bound;\n\t}\n\t/**\n\t* Invokes the runnable with the specified input and configuration.\n\t* @param input The input to invoke the runnable with.\n\t* @param config The configuration to invoke the runnable with.\n\t* @returns A promise that resolves to the output of the runnable.\n\t*/\n\tasync invoke(inputs, config) {\n\t\treturn this._callWithConfig(this._invoke.bind(this), inputs, config);\n\t}\n\t/**\n\t* A helper method that is used to invoke the runnable with the specified input and configuration.\n\t* @param input The input to invoke the runnable with.\n\t* @param config The configuration to invoke the runnable with.\n\t* @returns A promise that resolves to the output of the runnable.\n\t*/\n\tasync _invoke(inputs, config, runManager) {\n\t\treturn this.bound.batch(inputs, (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.patchConfig)(config, { callbacks: runManager?.getChild() }));\n\t}\n\t/**\n\t* Bind lifecycle listeners to a Runnable, returning a new Runnable.\n\t* The Run object contains information about the run, including its id,\n\t* type, input, output, error, startTime, endTime, and any tags or metadata\n\t* added to the run.\n\t*\n\t* @param {Object} params - The object containing the callback functions.\n\t* @param {(run: Run) => void} params.onStart - Called before the runnable starts running, with the Run object.\n\t* @param {(run: Run) => void} params.onEnd - Called after the runnable finishes running, with the Run object.\n\t* @param {(run: Run) => void} params.onError - Called if the runnable throws an error, with the Run object.\n\t*/\n\twithListeners({ onStart, onEnd, onError }) {\n\t\treturn new RunnableEach({ bound: this.bound.withListeners({\n\t\t\tonStart,\n\t\t\tonEnd,\n\t\t\tonError\n\t\t}) });\n\t}\n};\n/**\n* Base class for runnables that can be retried a\n* specified number of times.\n* @example\n* ```typescript\n* import {\n*   RunnableLambda,\n*   RunnableRetry,\n* } from \"@langchain/core/runnables\";\n*\n* // Simulate an API call that fails\n* const simulateApiCall = (input: string): string => {\n*   console.log(`Attempting API call with input: ${input}`);\n*   throw new Error(\"API call failed due to network issue\");\n* };\n*\n* const apiCallLambda = RunnableLambda.from(simulateApiCall);\n*\n* // Apply retry logic using the .withRetry() method\n* const apiCallWithRetry = apiCallLambda.withRetry({ stopAfterAttempt: 3 });\n*\n* // Alternatively, create a RunnableRetry instance manually\n* const manualRetry = new RunnableRetry({\n*   bound: apiCallLambda,\n*   maxAttemptNumber: 3,\n*   config: {},\n* });\n*\n* // Example invocation using the .withRetry() method\n* const res = await apiCallWithRetry\n*   .invoke(\"Request 1\")\n*   .catch((error) => {\n*     console.error(\"Failed after multiple retries:\", error.message);\n*   });\n*\n* // Example invocation using the manual retry instance\n* const res2 = await manualRetry\n*   .invoke(\"Request 2\")\n*   .catch((error) => {\n*     console.error(\"Failed after multiple retries:\", error.message);\n*   });\n* ```\n*/\nvar RunnableRetry = class extends RunnableBinding {\n\tstatic lc_name() {\n\t\treturn \"RunnableRetry\";\n\t}\n\tlc_namespace = [\"langchain_core\", \"runnables\"];\n\tmaxAttemptNumber = 3;\n\tonFailedAttempt = () => {};\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.maxAttemptNumber = fields.maxAttemptNumber ?? this.maxAttemptNumber;\n\t\tthis.onFailedAttempt = fields.onFailedAttempt ?? this.onFailedAttempt;\n\t}\n\t_patchConfigForRetry(attempt, config, runManager) {\n\t\tconst tag = attempt > 1 ? `retry:attempt:${attempt}` : void 0;\n\t\treturn (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.patchConfig)(config, { callbacks: runManager?.getChild(tag) });\n\t}\n\tasync _invoke(input, config, runManager) {\n\t\treturn (0,_utils_p_retry_index_js__WEBPACK_IMPORTED_MODULE_9__.pRetry)((attemptNumber) => super.invoke(input, this._patchConfigForRetry(attemptNumber, config, runManager)), {\n\t\t\tonFailedAttempt: ({ error }) => this.onFailedAttempt(error, input),\n\t\t\tretries: Math.max(this.maxAttemptNumber - 1, 0),\n\t\t\trandomize: true\n\t\t});\n\t}\n\t/**\n\t* Method that invokes the runnable with the specified input, run manager,\n\t* and config. It handles the retry logic by catching any errors and\n\t* recursively invoking itself with the updated config for the next retry\n\t* attempt.\n\t* @param input The input for the runnable.\n\t* @param runManager The run manager for the runnable.\n\t* @param config The config for the runnable.\n\t* @returns A promise that resolves to the output of the runnable.\n\t*/\n\tasync invoke(input, config) {\n\t\treturn this._callWithConfig(this._invoke.bind(this), input, config);\n\t}\n\tasync _batch(inputs, configs, runManagers, batchOptions) {\n\t\tconst resultsMap = {};\n\t\ttry {\n\t\t\tawait (0,_utils_p_retry_index_js__WEBPACK_IMPORTED_MODULE_9__.pRetry)(async (attemptNumber) => {\n\t\t\t\tconst remainingIndexes = inputs.map((_, i) => i).filter((i) => resultsMap[i.toString()] === void 0 || resultsMap[i.toString()] instanceof Error);\n\t\t\t\tconst remainingInputs = remainingIndexes.map((i) => inputs[i]);\n\t\t\t\tconst patchedConfigs = remainingIndexes.map((i) => this._patchConfigForRetry(attemptNumber, configs?.[i], runManagers?.[i]));\n\t\t\t\tconst results = await super.batch(remainingInputs, patchedConfigs, {\n\t\t\t\t\t...batchOptions,\n\t\t\t\t\treturnExceptions: true\n\t\t\t\t});\n\t\t\t\tlet firstException;\n\t\t\t\tfor (let i = 0; i < results.length; i += 1) {\n\t\t\t\t\tconst result = results[i];\n\t\t\t\t\tconst resultMapIndex = remainingIndexes[i];\n\t\t\t\t\tif (result instanceof Error) {\n\t\t\t\t\t\tif (firstException === void 0) {\n\t\t\t\t\t\t\tfirstException = result;\n\t\t\t\t\t\t\tfirstException.input = remainingInputs[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tresultsMap[resultMapIndex.toString()] = result;\n\t\t\t\t}\n\t\t\t\tif (firstException) throw firstException;\n\t\t\t\treturn results;\n\t\t\t}, {\n\t\t\t\tonFailedAttempt: ({ error }) => this.onFailedAttempt(error, error.input),\n\t\t\t\tretries: Math.max(this.maxAttemptNumber - 1, 0),\n\t\t\t\trandomize: true\n\t\t\t});\n\t\t} catch (e) {\n\t\t\tif (batchOptions?.returnExceptions !== true) throw e;\n\t\t}\n\t\treturn Object.keys(resultsMap).sort((a, b) => parseInt(a, 10) - parseInt(b, 10)).map((key) => resultsMap[parseInt(key, 10)]);\n\t}\n\tasync batch(inputs, options, batchOptions) {\n\t\treturn this._batchWithConfig(this._batch.bind(this), inputs, options, batchOptions);\n\t}\n};\n/**\n* A sequence of runnables, where the output of each is the input of the next.\n* @example\n* ```typescript\n* const promptTemplate = PromptTemplate.fromTemplate(\n*   \"Tell me a joke about {topic}\",\n* );\n* const chain = RunnableSequence.from([promptTemplate, new ChatOpenAI({ model: \"gpt-4o-mini\" })]);\n* const result = await chain.invoke({ topic: \"bears\" });\n* ```\n*/\nvar RunnableSequence = class RunnableSequence extends Runnable {\n\tstatic lc_name() {\n\t\treturn \"RunnableSequence\";\n\t}\n\tfirst;\n\tmiddle = [];\n\tlast;\n\tomitSequenceTags = false;\n\tlc_serializable = true;\n\tlc_namespace = [\"langchain_core\", \"runnables\"];\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.first = fields.first;\n\t\tthis.middle = fields.middle ?? this.middle;\n\t\tthis.last = fields.last;\n\t\tthis.name = fields.name;\n\t\tthis.omitSequenceTags = fields.omitSequenceTags ?? this.omitSequenceTags;\n\t}\n\tget steps() {\n\t\treturn [\n\t\t\tthis.first,\n\t\t\t...this.middle,\n\t\t\tthis.last\n\t\t];\n\t}\n\tasync invoke(input, options) {\n\t\tconst config = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options);\n\t\tconst callbackManager_ = await (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.getCallbackManagerForConfig)(config);\n\t\tconst runManager = await callbackManager_?.handleChainStart(this.toJSON(), _coerceToDict(input, \"input\"), config.runId, void 0, void 0, void 0, config?.runName);\n\t\tdelete config.runId;\n\t\tlet nextStepInput = input;\n\t\tlet finalOutput;\n\t\ttry {\n\t\t\tconst initialSteps = [this.first, ...this.middle];\n\t\t\tfor (let i = 0; i < initialSteps.length; i += 1) {\n\t\t\t\tconst step = initialSteps[i];\n\t\t\t\tconst promise = step.invoke(nextStepInput, (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.patchConfig)(config, { callbacks: runManager?.getChild(this.omitSequenceTags ? void 0 : `seq:step:${i + 1}`) }));\n\t\t\t\tnextStepInput = await (0,_utils_signal_js__WEBPACK_IMPORTED_MODULE_5__.raceWithSignal)(promise, options?.signal);\n\t\t\t}\n\t\t\tif (options?.signal?.aborted) throw (0,_utils_signal_js__WEBPACK_IMPORTED_MODULE_5__.getAbortSignalError)(options.signal);\n\t\t\tfinalOutput = await this.last.invoke(nextStepInput, (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.patchConfig)(config, { callbacks: runManager?.getChild(this.omitSequenceTags ? void 0 : `seq:step:${this.steps.length}`) }));\n\t\t} catch (e) {\n\t\t\tawait runManager?.handleChainError(e);\n\t\t\tthrow e;\n\t\t}\n\t\tawait runManager?.handleChainEnd(_coerceToDict(finalOutput, \"output\"));\n\t\treturn finalOutput;\n\t}\n\tasync batch(inputs, options, batchOptions) {\n\t\tconst configList = this._getOptionsList(options ?? {}, inputs.length);\n\t\tconst callbackManagers = await Promise.all(configList.map(_config_js__WEBPACK_IMPORTED_MODULE_4__.getCallbackManagerForConfig));\n\t\tconst runManagers = await Promise.all(callbackManagers.map(async (callbackManager, i) => {\n\t\t\tconst handleStartRes = await callbackManager?.handleChainStart(this.toJSON(), _coerceToDict(inputs[i], \"input\"), configList[i].runId, void 0, void 0, void 0, configList[i].runName);\n\t\t\tdelete configList[i].runId;\n\t\t\treturn handleStartRes;\n\t\t}));\n\t\tlet nextStepInputs = inputs;\n\t\ttry {\n\t\t\tfor (let i = 0; i < this.steps.length; i += 1) {\n\t\t\t\tconst step = this.steps[i];\n\t\t\t\tconst promise = step.batch(nextStepInputs, runManagers.map((runManager, j) => {\n\t\t\t\t\tconst childRunManager = runManager?.getChild(this.omitSequenceTags ? void 0 : `seq:step:${i + 1}`);\n\t\t\t\t\treturn (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.patchConfig)(configList[j], { callbacks: childRunManager });\n\t\t\t\t}), batchOptions);\n\t\t\t\tnextStepInputs = await (0,_utils_signal_js__WEBPACK_IMPORTED_MODULE_5__.raceWithSignal)(promise, configList[0]?.signal);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tawait Promise.all(runManagers.map((runManager) => runManager?.handleChainError(e)));\n\t\t\tthrow e;\n\t\t}\n\t\tawait Promise.all(runManagers.map((runManager) => runManager?.handleChainEnd(_coerceToDict(nextStepInputs, \"output\"))));\n\t\treturn nextStepInputs;\n\t}\n\t/** @internal */\n\t_concatOutputChunks(first, second) {\n\t\treturn this.last._concatOutputChunks(first, second);\n\t}\n\tasync *_streamIterator(input, options) {\n\t\tconst callbackManager_ = await (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.getCallbackManagerForConfig)(options);\n\t\tconst { runId,...otherOptions } = options ?? {};\n\t\tconst runManager = await callbackManager_?.handleChainStart(this.toJSON(), _coerceToDict(input, \"input\"), runId, void 0, void 0, void 0, otherOptions?.runName);\n\t\tconst steps = [\n\t\t\tthis.first,\n\t\t\t...this.middle,\n\t\t\tthis.last\n\t\t];\n\t\tlet concatSupported = true;\n\t\tlet finalOutput;\n\t\tasync function* inputGenerator() {\n\t\t\tyield input;\n\t\t}\n\t\ttry {\n\t\t\tlet finalGenerator = steps[0].transform(inputGenerator(), (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.patchConfig)(otherOptions, { callbacks: runManager?.getChild(this.omitSequenceTags ? void 0 : `seq:step:1`) }));\n\t\t\tfor (let i = 1; i < steps.length; i += 1) {\n\t\t\t\tconst step = steps[i];\n\t\t\t\tfinalGenerator = await step.transform(finalGenerator, (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.patchConfig)(otherOptions, { callbacks: runManager?.getChild(this.omitSequenceTags ? void 0 : `seq:step:${i + 1}`) }));\n\t\t\t}\n\t\t\tfor await (const chunk of finalGenerator) {\n\t\t\t\toptions?.signal?.throwIfAborted();\n\t\t\t\tyield chunk;\n\t\t\t\tif (concatSupported) if (finalOutput === void 0) finalOutput = chunk;\n\t\t\t\telse try {\n\t\t\t\t\tfinalOutput = this._concatOutputChunks(finalOutput, chunk);\n\t\t\t\t} catch {\n\t\t\t\t\tfinalOutput = void 0;\n\t\t\t\t\tconcatSupported = false;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tawait runManager?.handleChainError(e);\n\t\t\tthrow e;\n\t\t}\n\t\tawait runManager?.handleChainEnd(_coerceToDict(finalOutput, \"output\"));\n\t}\n\tgetGraph(config) {\n\t\tconst graph = new _graph_js__WEBPACK_IMPORTED_MODULE_14__.Graph();\n\t\tlet currentLastNode = null;\n\t\tthis.steps.forEach((step, index) => {\n\t\t\tconst stepGraph = step.getGraph(config);\n\t\t\tif (index !== 0) stepGraph.trimFirstNode();\n\t\t\tif (index !== this.steps.length - 1) stepGraph.trimLastNode();\n\t\t\tgraph.extend(stepGraph);\n\t\t\tconst stepFirstNode = stepGraph.firstNode();\n\t\t\tif (!stepFirstNode) throw new Error(`Runnable ${step} has no first node`);\n\t\t\tif (currentLastNode) graph.addEdge(currentLastNode, stepFirstNode);\n\t\t\tcurrentLastNode = stepGraph.lastNode();\n\t\t});\n\t\treturn graph;\n\t}\n\tpipe(coerceable) {\n\t\tif (RunnableSequence.isRunnableSequence(coerceable)) return new RunnableSequence({\n\t\t\tfirst: this.first,\n\t\t\tmiddle: this.middle.concat([\n\t\t\t\tthis.last,\n\t\t\t\tcoerceable.first,\n\t\t\t\t...coerceable.middle\n\t\t\t]),\n\t\t\tlast: coerceable.last,\n\t\t\tname: this.name ?? coerceable.name\n\t\t});\n\t\telse return new RunnableSequence({\n\t\t\tfirst: this.first,\n\t\t\tmiddle: [...this.middle, this.last],\n\t\t\tlast: _coerceToRunnable(coerceable),\n\t\t\tname: this.name\n\t\t});\n\t}\n\tstatic isRunnableSequence(thing) {\n\t\treturn Array.isArray(thing.middle) && Runnable.isRunnable(thing);\n\t}\n\tstatic from([first, ...runnables], nameOrFields) {\n\t\tlet extra = {};\n\t\tif (typeof nameOrFields === \"string\") extra.name = nameOrFields;\n\t\telse if (nameOrFields !== void 0) extra = nameOrFields;\n\t\treturn new RunnableSequence({\n\t\t\t...extra,\n\t\t\tfirst: _coerceToRunnable(first),\n\t\t\tmiddle: runnables.slice(0, -1).map(_coerceToRunnable),\n\t\t\tlast: _coerceToRunnable(runnables[runnables.length - 1])\n\t\t});\n\t}\n};\n/**\n* A runnable that runs a mapping of runnables in parallel,\n* and returns a mapping of their outputs.\n* @example\n* ```typescript\n* const mapChain = RunnableMap.from({\n*   joke: PromptTemplate.fromTemplate(\"Tell me a joke about {topic}\").pipe(\n*     new ChatAnthropic({}),\n*   ),\n*   poem: PromptTemplate.fromTemplate(\"write a 2-line poem about {topic}\").pipe(\n*     new ChatAnthropic({}),\n*   ),\n* });\n* const result = await mapChain.invoke({ topic: \"bear\" });\n* ```\n*/\nvar RunnableMap = class RunnableMap extends Runnable {\n\tstatic lc_name() {\n\t\treturn \"RunnableMap\";\n\t}\n\tlc_namespace = [\"langchain_core\", \"runnables\"];\n\tlc_serializable = true;\n\tsteps;\n\tgetStepsKeys() {\n\t\treturn Object.keys(this.steps);\n\t}\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.steps = {};\n\t\tfor (const [key, value] of Object.entries(fields.steps)) this.steps[key] = _coerceToRunnable(value);\n\t}\n\tstatic from(steps) {\n\t\treturn new RunnableMap({ steps });\n\t}\n\tasync invoke(input, options) {\n\t\tconst config = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options);\n\t\tconst callbackManager_ = await (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.getCallbackManagerForConfig)(config);\n\t\tconst runManager = await callbackManager_?.handleChainStart(this.toJSON(), { input }, config.runId, void 0, void 0, void 0, config?.runName);\n\t\tdelete config.runId;\n\t\tconst output = {};\n\t\ttry {\n\t\t\tconst promises = Object.entries(this.steps).map(async ([key, runnable]) => {\n\t\t\t\toutput[key] = await runnable.invoke(input, (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.patchConfig)(config, { callbacks: runManager?.getChild(`map:key:${key}`) }));\n\t\t\t});\n\t\t\tawait (0,_utils_signal_js__WEBPACK_IMPORTED_MODULE_5__.raceWithSignal)(Promise.all(promises), options?.signal);\n\t\t} catch (e) {\n\t\t\tawait runManager?.handleChainError(e);\n\t\t\tthrow e;\n\t\t}\n\t\tawait runManager?.handleChainEnd(output);\n\t\treturn output;\n\t}\n\tasync *_transform(generator, runManager, options) {\n\t\tconst steps = { ...this.steps };\n\t\tconst inputCopies = (0,_utils_stream_js__WEBPACK_IMPORTED_MODULE_6__.atee)(generator, Object.keys(steps).length);\n\t\tconst tasks = new Map(Object.entries(steps).map(([key, runnable], i) => {\n\t\t\tconst gen = runnable.transform(inputCopies[i], (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.patchConfig)(options, { callbacks: runManager?.getChild(`map:key:${key}`) }));\n\t\t\treturn [key, gen.next().then((result) => ({\n\t\t\t\tkey,\n\t\t\t\tgen,\n\t\t\t\tresult\n\t\t\t}))];\n\t\t}));\n\t\twhile (tasks.size) {\n\t\t\tconst promise = Promise.race(tasks.values());\n\t\t\tconst { key, result, gen } = await (0,_utils_signal_js__WEBPACK_IMPORTED_MODULE_5__.raceWithSignal)(promise, options?.signal);\n\t\t\ttasks.delete(key);\n\t\t\tif (!result.done) {\n\t\t\t\tyield { [key]: result.value };\n\t\t\t\ttasks.set(key, gen.next().then((result$1) => ({\n\t\t\t\t\tkey,\n\t\t\t\t\tgen,\n\t\t\t\t\tresult: result$1\n\t\t\t\t})));\n\t\t\t}\n\t\t}\n\t}\n\ttransform(generator, options) {\n\t\treturn this._transformStreamWithConfig(generator, this._transform.bind(this), options);\n\t}\n\tasync stream(input, options) {\n\t\tasync function* generator() {\n\t\t\tyield input;\n\t\t}\n\t\tconst config = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options);\n\t\tconst wrappedGenerator = new _utils_stream_js__WEBPACK_IMPORTED_MODULE_6__.AsyncGeneratorWithSetup({\n\t\t\tgenerator: this.transform(generator(), config),\n\t\t\tconfig\n\t\t});\n\t\tawait wrappedGenerator.setup;\n\t\treturn _utils_stream_js__WEBPACK_IMPORTED_MODULE_6__.IterableReadableStream.fromAsyncGenerator(wrappedGenerator);\n\t}\n};\n/**\n* A runnable that wraps a traced LangSmith function.\n*/\nvar RunnableTraceable = class RunnableTraceable extends Runnable {\n\tlc_serializable = false;\n\tlc_namespace = [\"langchain_core\", \"runnables\"];\n\tfunc;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tif (!(0,langsmith_singletons_traceable__WEBPACK_IMPORTED_MODULE_18__.isTraceableFunction)(fields.func)) throw new Error(\"RunnableTraceable requires a function that is wrapped in traceable higher-order function\");\n\t\tthis.func = fields.func;\n\t}\n\tasync invoke(input, options) {\n\t\tconst [config] = this._getOptionsList(options ?? {}, 1);\n\t\tconst callbacks = await (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.getCallbackManagerForConfig)(config);\n\t\tconst promise = this.func((0,_config_js__WEBPACK_IMPORTED_MODULE_4__.patchConfig)(config, { callbacks }), input);\n\t\treturn (0,_utils_signal_js__WEBPACK_IMPORTED_MODULE_5__.raceWithSignal)(promise, config?.signal);\n\t}\n\tasync *_streamIterator(input, options) {\n\t\tconst [config] = this._getOptionsList(options ?? {}, 1);\n\t\tconst result = await this.invoke(input, options);\n\t\tif ((0,_iter_js__WEBPACK_IMPORTED_MODULE_16__.isAsyncIterable)(result)) {\n\t\t\tfor await (const item of result) {\n\t\t\t\tconfig?.signal?.throwIfAborted();\n\t\t\t\tyield item;\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tif ((0,_iter_js__WEBPACK_IMPORTED_MODULE_16__.isIterator)(result)) {\n\t\t\twhile (true) {\n\t\t\t\tconfig?.signal?.throwIfAborted();\n\t\t\t\tconst state = result.next();\n\t\t\t\tif (state.done) break;\n\t\t\t\tyield state.value;\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tyield result;\n\t}\n\tstatic from(func) {\n\t\treturn new RunnableTraceable({ func });\n\t}\n};\nfunction assertNonTraceableFunction(func) {\n\tif ((0,langsmith_singletons_traceable__WEBPACK_IMPORTED_MODULE_18__.isTraceableFunction)(func)) throw new Error(\"RunnableLambda requires a function that is not wrapped in traceable higher-order function. This shouldn't happen.\");\n}\n/**\n* A runnable that wraps an arbitrary function that takes a single argument.\n* @example\n* ```typescript\n* import { RunnableLambda } from \"@langchain/core/runnables\";\n*\n* const add = (input: { x: number; y: number }) => input.x + input.y;\n*\n* const multiply = (input: { value: number; multiplier: number }) =>\n*   input.value * input.multiplier;\n*\n* // Create runnables for the functions\n* const addLambda = RunnableLambda.from(add);\n* const multiplyLambda = RunnableLambda.from(multiply);\n*\n* // Chain the lambdas for a mathematical operation\n* const chainedLambda = addLambda.pipe((result) =>\n*   multiplyLambda.invoke({ value: result, multiplier: 2 })\n* );\n*\n* // Example invocation of the chainedLambda\n* const result = await chainedLambda.invoke({ x: 2, y: 3 });\n*\n* // Will log \"10\" (since (2 + 3) * 2 = 10)\n* ```\n*/\nvar RunnableLambda = class RunnableLambda extends Runnable {\n\tstatic lc_name() {\n\t\treturn \"RunnableLambda\";\n\t}\n\tlc_namespace = [\"langchain_core\", \"runnables\"];\n\tfunc;\n\tconstructor(fields) {\n\t\tif ((0,langsmith_singletons_traceable__WEBPACK_IMPORTED_MODULE_18__.isTraceableFunction)(fields.func)) return RunnableTraceable.from(fields.func);\n\t\tsuper(fields);\n\t\tassertNonTraceableFunction(fields.func);\n\t\tthis.func = fields.func;\n\t}\n\tstatic from(func) {\n\t\treturn new RunnableLambda({ func });\n\t}\n\tasync _invoke(input, config, runManager) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst childConfig = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.patchConfig)(config, {\n\t\t\t\tcallbacks: runManager?.getChild(),\n\t\t\t\trecursionLimit: (config?.recursionLimit ?? _config_js__WEBPACK_IMPORTED_MODULE_4__.DEFAULT_RECURSION_LIMIT) - 1\n\t\t\t});\n\t\t\t_singletons_async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_2__.AsyncLocalStorageProviderSingleton.runWithConfig((0,_config_js__WEBPACK_IMPORTED_MODULE_4__.pickRunnableConfigKeys)(childConfig), async () => {\n\t\t\t\ttry {\n\t\t\t\t\tlet output = await this.func(input, { ...childConfig });\n\t\t\t\t\tif (output && Runnable.isRunnable(output)) {\n\t\t\t\t\t\tif (config?.recursionLimit === 0) throw new Error(\"Recursion limit reached.\");\n\t\t\t\t\t\toutput = await output.invoke(input, {\n\t\t\t\t\t\t\t...childConfig,\n\t\t\t\t\t\t\trecursionLimit: (childConfig.recursionLimit ?? _config_js__WEBPACK_IMPORTED_MODULE_4__.DEFAULT_RECURSION_LIMIT) - 1\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if ((0,_iter_js__WEBPACK_IMPORTED_MODULE_16__.isAsyncIterable)(output)) {\n\t\t\t\t\t\tlet finalOutput;\n\t\t\t\t\t\tfor await (const chunk of (0,_iter_js__WEBPACK_IMPORTED_MODULE_16__.consumeAsyncIterableInContext)(childConfig, output)) {\n\t\t\t\t\t\t\tconfig?.signal?.throwIfAborted();\n\t\t\t\t\t\t\tif (finalOutput === void 0) finalOutput = chunk;\n\t\t\t\t\t\t\telse try {\n\t\t\t\t\t\t\t\tfinalOutput = this._concatOutputChunks(finalOutput, chunk);\n\t\t\t\t\t\t\t} catch {\n\t\t\t\t\t\t\t\tfinalOutput = chunk;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\toutput = finalOutput;\n\t\t\t\t\t} else if ((0,_iter_js__WEBPACK_IMPORTED_MODULE_16__.isIterableIterator)(output)) {\n\t\t\t\t\t\tlet finalOutput;\n\t\t\t\t\t\tfor (const chunk of (0,_iter_js__WEBPACK_IMPORTED_MODULE_16__.consumeIteratorInContext)(childConfig, output)) {\n\t\t\t\t\t\t\tconfig?.signal?.throwIfAborted();\n\t\t\t\t\t\t\tif (finalOutput === void 0) finalOutput = chunk;\n\t\t\t\t\t\t\telse try {\n\t\t\t\t\t\t\t\tfinalOutput = this._concatOutputChunks(finalOutput, chunk);\n\t\t\t\t\t\t\t} catch {\n\t\t\t\t\t\t\t\tfinalOutput = chunk;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\toutput = finalOutput;\n\t\t\t\t\t}\n\t\t\t\t\tresolve(output);\n\t\t\t\t} catch (e) {\n\t\t\t\t\treject(e);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\tasync invoke(input, options) {\n\t\treturn this._callWithConfig(this._invoke.bind(this), input, options);\n\t}\n\tasync *_transform(generator, runManager, config) {\n\t\tlet finalChunk;\n\t\tfor await (const chunk of generator) if (finalChunk === void 0) finalChunk = chunk;\n\t\telse try {\n\t\t\tfinalChunk = this._concatOutputChunks(finalChunk, chunk);\n\t\t} catch {\n\t\t\tfinalChunk = chunk;\n\t\t}\n\t\tconst childConfig = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.patchConfig)(config, {\n\t\t\tcallbacks: runManager?.getChild(),\n\t\t\trecursionLimit: (config?.recursionLimit ?? _config_js__WEBPACK_IMPORTED_MODULE_4__.DEFAULT_RECURSION_LIMIT) - 1\n\t\t});\n\t\tconst output = await new Promise((resolve, reject) => {\n\t\t\t_singletons_async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_2__.AsyncLocalStorageProviderSingleton.runWithConfig((0,_config_js__WEBPACK_IMPORTED_MODULE_4__.pickRunnableConfigKeys)(childConfig), async () => {\n\t\t\t\ttry {\n\t\t\t\t\tconst res = await this.func(finalChunk, {\n\t\t\t\t\t\t...childConfig,\n\t\t\t\t\t\tconfig: childConfig\n\t\t\t\t\t});\n\t\t\t\t\tresolve(res);\n\t\t\t\t} catch (e) {\n\t\t\t\t\treject(e);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\tif (output && Runnable.isRunnable(output)) {\n\t\t\tif (config?.recursionLimit === 0) throw new Error(\"Recursion limit reached.\");\n\t\t\tconst stream = await output.stream(finalChunk, childConfig);\n\t\t\tfor await (const chunk of stream) yield chunk;\n\t\t} else if ((0,_iter_js__WEBPACK_IMPORTED_MODULE_16__.isAsyncIterable)(output)) for await (const chunk of (0,_iter_js__WEBPACK_IMPORTED_MODULE_16__.consumeAsyncIterableInContext)(childConfig, output)) {\n\t\t\tconfig?.signal?.throwIfAborted();\n\t\t\tyield chunk;\n\t\t}\n\t\telse if ((0,_iter_js__WEBPACK_IMPORTED_MODULE_16__.isIterableIterator)(output)) for (const chunk of (0,_iter_js__WEBPACK_IMPORTED_MODULE_16__.consumeIteratorInContext)(childConfig, output)) {\n\t\t\tconfig?.signal?.throwIfAborted();\n\t\t\tyield chunk;\n\t\t}\n\t\telse yield output;\n\t}\n\ttransform(generator, options) {\n\t\treturn this._transformStreamWithConfig(generator, this._transform.bind(this), options);\n\t}\n\tasync stream(input, options) {\n\t\tasync function* generator() {\n\t\t\tyield input;\n\t\t}\n\t\tconst config = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options);\n\t\tconst wrappedGenerator = new _utils_stream_js__WEBPACK_IMPORTED_MODULE_6__.AsyncGeneratorWithSetup({\n\t\t\tgenerator: this.transform(generator(), config),\n\t\t\tconfig\n\t\t});\n\t\tawait wrappedGenerator.setup;\n\t\treturn _utils_stream_js__WEBPACK_IMPORTED_MODULE_6__.IterableReadableStream.fromAsyncGenerator(wrappedGenerator);\n\t}\n};\n/**\n* A runnable that runs a mapping of runnables in parallel,\n* and returns a mapping of their outputs.\n* @example\n* ```typescript\n* import {\n*   RunnableLambda,\n*   RunnableParallel,\n* } from \"@langchain/core/runnables\";\n*\n* const addYears = (age: number): number => age + 5;\n* const yearsToFifty = (age: number): number => 50 - age;\n* const yearsToHundred = (age: number): number => 100 - age;\n*\n* const addYearsLambda = RunnableLambda.from(addYears);\n* const milestoneFiftyLambda = RunnableLambda.from(yearsToFifty);\n* const milestoneHundredLambda = RunnableLambda.from(yearsToHundred);\n*\n* // Pipe will coerce objects into RunnableParallel by default, but we\n* // explicitly instantiate one here to demonstrate\n* const sequence = addYearsLambda.pipe(\n*   RunnableParallel.from({\n*     years_to_fifty: milestoneFiftyLambda,\n*     years_to_hundred: milestoneHundredLambda,\n*   })\n* );\n*\n* // Invoke the sequence with a single age input\n* const res = await sequence.invoke(25);\n*\n* // { years_to_fifty: 20, years_to_hundred: 70 }\n* ```\n*/\nvar RunnableParallel = class extends RunnableMap {};\n/**\n* A Runnable that can fallback to other Runnables if it fails.\n* External APIs (e.g., APIs for a language model) may at times experience\n* degraded performance or even downtime.\n*\n* In these cases, it can be useful to have a fallback Runnable that can be\n* used in place of the original Runnable (e.g., fallback to another LLM provider).\n*\n* Fallbacks can be defined at the level of a single Runnable, or at the level\n* of a chain of Runnables. Fallbacks are tried in order until one succeeds or\n* all fail.\n*\n* While you can instantiate a `RunnableWithFallbacks` directly, it is usually\n* more convenient to use the `withFallbacks` method on an existing Runnable.\n*\n* When streaming, fallbacks will only be called on failures during the initial\n* stream creation. Errors that occur after a stream starts will not fallback\n* to the next Runnable.\n*\n* @example\n* ```typescript\n* import {\n*   RunnableLambda,\n*   RunnableWithFallbacks,\n* } from \"@langchain/core/runnables\";\n*\n* const primaryOperation = (input: string): string => {\n*   if (input !== \"safe\") {\n*     throw new Error(\"Primary operation failed due to unsafe input\");\n*   }\n*   return `Processed: ${input}`;\n* };\n*\n* // Define a fallback operation that processes the input differently\n* const fallbackOperation = (input: string): string =>\n*   `Fallback processed: ${input}`;\n*\n* const primaryRunnable = RunnableLambda.from(primaryOperation);\n* const fallbackRunnable = RunnableLambda.from(fallbackOperation);\n*\n* // Apply the fallback logic using the .withFallbacks() method\n* const runnableWithFallback = primaryRunnable.withFallbacks([fallbackRunnable]);\n*\n* // Alternatively, create a RunnableWithFallbacks instance manually\n* const manualFallbackChain = new RunnableWithFallbacks({\n*   runnable: primaryRunnable,\n*   fallbacks: [fallbackRunnable],\n* });\n*\n* // Example invocation using .withFallbacks()\n* const res = await runnableWithFallback\n*   .invoke(\"unsafe input\")\n*   .catch((error) => {\n*     console.error(\"Failed after all attempts:\", error.message);\n*   });\n*\n* // \"Fallback processed: unsafe input\"\n*\n* // Example invocation using manual instantiation\n* const res = await manualFallbackChain\n*   .invoke(\"safe\")\n*   .catch((error) => {\n*     console.error(\"Failed after all attempts:\", error.message);\n*   });\n*\n* // \"Processed: safe\"\n* ```\n*/\nvar RunnableWithFallbacks = class extends Runnable {\n\tstatic lc_name() {\n\t\treturn \"RunnableWithFallbacks\";\n\t}\n\tlc_namespace = [\"langchain_core\", \"runnables\"];\n\tlc_serializable = true;\n\trunnable;\n\tfallbacks;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.runnable = fields.runnable;\n\t\tthis.fallbacks = fields.fallbacks;\n\t}\n\t*runnables() {\n\t\tyield this.runnable;\n\t\tfor (const fallback of this.fallbacks) yield fallback;\n\t}\n\tasync invoke(input, options) {\n\t\tconst config = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options);\n\t\tconst callbackManager_ = await (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.getCallbackManagerForConfig)(config);\n\t\tconst { runId,...otherConfigFields } = config;\n\t\tconst runManager = await callbackManager_?.handleChainStart(this.toJSON(), _coerceToDict(input, \"input\"), runId, void 0, void 0, void 0, otherConfigFields?.runName);\n\t\tconst childConfig = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.patchConfig)(otherConfigFields, { callbacks: runManager?.getChild() });\n\t\tconst res = await _singletons_async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_2__.AsyncLocalStorageProviderSingleton.runWithConfig(childConfig, async () => {\n\t\t\tlet firstError;\n\t\t\tfor (const runnable of this.runnables()) {\n\t\t\t\tconfig?.signal?.throwIfAborted();\n\t\t\t\ttry {\n\t\t\t\t\tconst output = await runnable.invoke(input, childConfig);\n\t\t\t\t\tawait runManager?.handleChainEnd(_coerceToDict(output, \"output\"));\n\t\t\t\t\treturn output;\n\t\t\t\t} catch (e) {\n\t\t\t\t\tif (firstError === void 0) firstError = e;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (firstError === void 0) throw new Error(\"No error stored at end of fallback.\");\n\t\t\tawait runManager?.handleChainError(firstError);\n\t\t\tthrow firstError;\n\t\t});\n\t\treturn res;\n\t}\n\tasync *_streamIterator(input, options) {\n\t\tconst config = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options);\n\t\tconst callbackManager_ = await (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.getCallbackManagerForConfig)(config);\n\t\tconst { runId,...otherConfigFields } = config;\n\t\tconst runManager = await callbackManager_?.handleChainStart(this.toJSON(), _coerceToDict(input, \"input\"), runId, void 0, void 0, void 0, otherConfigFields?.runName);\n\t\tlet firstError;\n\t\tlet stream;\n\t\tfor (const runnable of this.runnables()) {\n\t\t\tconfig?.signal?.throwIfAborted();\n\t\t\tconst childConfig = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.patchConfig)(otherConfigFields, { callbacks: runManager?.getChild() });\n\t\t\ttry {\n\t\t\t\tconst originalStream = await runnable.stream(input, childConfig);\n\t\t\t\tstream = (0,_iter_js__WEBPACK_IMPORTED_MODULE_16__.consumeAsyncIterableInContext)(childConfig, originalStream);\n\t\t\t\tbreak;\n\t\t\t} catch (e) {\n\t\t\t\tif (firstError === void 0) firstError = e;\n\t\t\t}\n\t\t}\n\t\tif (stream === void 0) {\n\t\t\tconst error = firstError ?? /* @__PURE__ */ new Error(\"No error stored at end of fallback.\");\n\t\t\tawait runManager?.handleChainError(error);\n\t\t\tthrow error;\n\t\t}\n\t\tlet output;\n\t\ttry {\n\t\t\tfor await (const chunk of stream) {\n\t\t\t\tyield chunk;\n\t\t\t\ttry {\n\t\t\t\t\toutput = output === void 0 ? output : this._concatOutputChunks(output, chunk);\n\t\t\t\t} catch {\n\t\t\t\t\toutput = void 0;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tawait runManager?.handleChainError(e);\n\t\t\tthrow e;\n\t\t}\n\t\tawait runManager?.handleChainEnd(_coerceToDict(output, \"output\"));\n\t}\n\tasync batch(inputs, options, batchOptions) {\n\t\tif (batchOptions?.returnExceptions) throw new Error(\"Not implemented.\");\n\t\tconst configList = this._getOptionsList(options ?? {}, inputs.length);\n\t\tconst callbackManagers = await Promise.all(configList.map((config) => (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.getCallbackManagerForConfig)(config)));\n\t\tconst runManagers = await Promise.all(callbackManagers.map(async (callbackManager, i) => {\n\t\t\tconst handleStartRes = await callbackManager?.handleChainStart(this.toJSON(), _coerceToDict(inputs[i], \"input\"), configList[i].runId, void 0, void 0, void 0, configList[i].runName);\n\t\t\tdelete configList[i].runId;\n\t\t\treturn handleStartRes;\n\t\t}));\n\t\tlet firstError;\n\t\tfor (const runnable of this.runnables()) {\n\t\t\tconfigList[0].signal?.throwIfAborted();\n\t\t\ttry {\n\t\t\t\tconst outputs = await runnable.batch(inputs, runManagers.map((runManager, j) => (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.patchConfig)(configList[j], { callbacks: runManager?.getChild() })), batchOptions);\n\t\t\t\tawait Promise.all(runManagers.map((runManager, i) => runManager?.handleChainEnd(_coerceToDict(outputs[i], \"output\"))));\n\t\t\t\treturn outputs;\n\t\t\t} catch (e) {\n\t\t\t\tif (firstError === void 0) firstError = e;\n\t\t\t}\n\t\t}\n\t\tif (!firstError) throw new Error(\"No error stored at end of fallbacks.\");\n\t\tawait Promise.all(runManagers.map((runManager) => runManager?.handleChainError(firstError)));\n\t\tthrow firstError;\n\t}\n};\nfunction _coerceToRunnable(coerceable) {\n\tif (typeof coerceable === \"function\") return new RunnableLambda({ func: coerceable });\n\telse if (Runnable.isRunnable(coerceable)) return coerceable;\n\telse if (!Array.isArray(coerceable) && typeof coerceable === \"object\") {\n\t\tconst runnables = {};\n\t\tfor (const [key, value] of Object.entries(coerceable)) runnables[key] = _coerceToRunnable(value);\n\t\treturn new RunnableMap({ steps: runnables });\n\t} else throw new Error(`Expected a Runnable, function or object.\\nInstead got an unsupported type.`);\n}\n/**\n* A runnable that assigns key-value pairs to inputs of type `Record<string, unknown>`.\n* @example\n* ```typescript\n* import {\n*   RunnableAssign,\n*   RunnableLambda,\n*   RunnableParallel,\n* } from \"@langchain/core/runnables\";\n*\n* const calculateAge = (x: { birthYear: number }): { age: number } => {\n*   const currentYear = new Date().getFullYear();\n*   return { age: currentYear - x.birthYear };\n* };\n*\n* const createGreeting = (x: { name: string }): { greeting: string } => {\n*   return { greeting: `Hello, ${x.name}!` };\n* };\n*\n* const mapper = RunnableParallel.from({\n*   age_step: RunnableLambda.from(calculateAge),\n*   greeting_step: RunnableLambda.from(createGreeting),\n* });\n*\n* const runnableAssign = new RunnableAssign({ mapper });\n*\n* const res = await runnableAssign.invoke({ name: \"Alice\", birthYear: 1990 });\n*\n* // { name: \"Alice\", birthYear: 1990, age_step: { age: 34 }, greeting_step: { greeting: \"Hello, Alice!\" } }\n* ```\n*/\nvar RunnableAssign = class extends Runnable {\n\tstatic lc_name() {\n\t\treturn \"RunnableAssign\";\n\t}\n\tlc_namespace = [\"langchain_core\", \"runnables\"];\n\tlc_serializable = true;\n\tmapper;\n\tconstructor(fields) {\n\t\tif (fields instanceof RunnableMap) fields = { mapper: fields };\n\t\tsuper(fields);\n\t\tthis.mapper = fields.mapper;\n\t}\n\tasync invoke(input, options) {\n\t\tconst mapperResult = await this.mapper.invoke(input, options);\n\t\treturn {\n\t\t\t...input,\n\t\t\t...mapperResult\n\t\t};\n\t}\n\tasync *_transform(generator, runManager, options) {\n\t\tconst mapperKeys = this.mapper.getStepsKeys();\n\t\tconst [forPassthrough, forMapper] = (0,_utils_stream_js__WEBPACK_IMPORTED_MODULE_6__.atee)(generator);\n\t\tconst mapperOutput = this.mapper.transform(forMapper, (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.patchConfig)(options, { callbacks: runManager?.getChild() }));\n\t\tconst firstMapperChunkPromise = mapperOutput.next();\n\t\tfor await (const chunk of forPassthrough) {\n\t\t\tif (typeof chunk !== \"object\" || Array.isArray(chunk)) throw new Error(`RunnableAssign can only be used with objects as input, got ${typeof chunk}`);\n\t\t\tconst filtered = Object.fromEntries(Object.entries(chunk).filter(([key]) => !mapperKeys.includes(key)));\n\t\t\tif (Object.keys(filtered).length > 0) yield filtered;\n\t\t}\n\t\tyield (await firstMapperChunkPromise).value;\n\t\tfor await (const chunk of mapperOutput) yield chunk;\n\t}\n\ttransform(generator, options) {\n\t\treturn this._transformStreamWithConfig(generator, this._transform.bind(this), options);\n\t}\n\tasync stream(input, options) {\n\t\tasync function* generator() {\n\t\t\tyield input;\n\t\t}\n\t\tconst config = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options);\n\t\tconst wrappedGenerator = new _utils_stream_js__WEBPACK_IMPORTED_MODULE_6__.AsyncGeneratorWithSetup({\n\t\t\tgenerator: this.transform(generator(), config),\n\t\t\tconfig\n\t\t});\n\t\tawait wrappedGenerator.setup;\n\t\treturn _utils_stream_js__WEBPACK_IMPORTED_MODULE_6__.IterableReadableStream.fromAsyncGenerator(wrappedGenerator);\n\t}\n};\n/**\n* A runnable that assigns key-value pairs to inputs of type `Record<string, unknown>`.\n* Useful for streaming, can be automatically created and chained by calling `runnable.pick();`.\n* @example\n* ```typescript\n* import { RunnablePick } from \"@langchain/core/runnables\";\n*\n* const inputData = {\n*   name: \"John\",\n*   age: 30,\n*   city: \"New York\",\n*   country: \"USA\",\n*   email: \"john.doe@example.com\",\n*   phone: \"+1234567890\",\n* };\n*\n* const basicInfoRunnable = new RunnablePick([\"name\", \"city\"]);\n*\n* // Example invocation\n* const res = await basicInfoRunnable.invoke(inputData);\n*\n* // { name: 'John', city: 'New York' }\n* ```\n*/\nvar RunnablePick = class extends Runnable {\n\tstatic lc_name() {\n\t\treturn \"RunnablePick\";\n\t}\n\tlc_namespace = [\"langchain_core\", \"runnables\"];\n\tlc_serializable = true;\n\tkeys;\n\tconstructor(fields) {\n\t\tif (typeof fields === \"string\" || Array.isArray(fields)) fields = { keys: fields };\n\t\tsuper(fields);\n\t\tthis.keys = fields.keys;\n\t}\n\tasync _pick(input) {\n\t\tif (typeof this.keys === \"string\") return input[this.keys];\n\t\telse {\n\t\t\tconst picked = this.keys.map((key) => [key, input[key]]).filter((v) => v[1] !== void 0);\n\t\t\treturn picked.length === 0 ? void 0 : Object.fromEntries(picked);\n\t\t}\n\t}\n\tasync invoke(input, options) {\n\t\treturn this._callWithConfig(this._pick.bind(this), input, options);\n\t}\n\tasync *_transform(generator) {\n\t\tfor await (const chunk of generator) {\n\t\t\tconst picked = await this._pick(chunk);\n\t\t\tif (picked !== void 0) yield picked;\n\t\t}\n\t}\n\ttransform(generator, options) {\n\t\treturn this._transformStreamWithConfig(generator, this._transform.bind(this), options);\n\t}\n\tasync stream(input, options) {\n\t\tasync function* generator() {\n\t\t\tyield input;\n\t\t}\n\t\tconst config = (0,_config_js__WEBPACK_IMPORTED_MODULE_4__.ensureConfig)(options);\n\t\tconst wrappedGenerator = new _utils_stream_js__WEBPACK_IMPORTED_MODULE_6__.AsyncGeneratorWithSetup({\n\t\t\tgenerator: this.transform(generator(), config),\n\t\t\tconfig\n\t\t});\n\t\tawait wrappedGenerator.setup;\n\t\treturn _utils_stream_js__WEBPACK_IMPORTED_MODULE_6__.IterableReadableStream.fromAsyncGenerator(wrappedGenerator);\n\t}\n};\nvar RunnableToolLike = class extends RunnableBinding {\n\tname;\n\tdescription;\n\tschema;\n\tconstructor(fields) {\n\t\tconst sequence = RunnableSequence.from([RunnableLambda.from(async (input) => {\n\t\t\tlet toolInput;\n\t\t\tif ((0,_tools_utils_js__WEBPACK_IMPORTED_MODULE_1__._isToolCall)(input)) try {\n\t\t\t\ttoolInput = await (0,_utils_types_zod_js__WEBPACK_IMPORTED_MODULE_13__.interopParseAsync)(this.schema, input.args);\n\t\t\t} catch {\n\t\t\t\tthrow new _tools_utils_js__WEBPACK_IMPORTED_MODULE_1__.ToolInputParsingException(`Received tool input did not match expected schema`, JSON.stringify(input.args));\n\t\t\t}\n\t\t\telse toolInput = input;\n\t\t\treturn toolInput;\n\t\t}).withConfig({ runName: `${fields.name}:parse_input` }), fields.bound]).withConfig({ runName: fields.name });\n\t\tsuper({\n\t\t\tbound: sequence,\n\t\t\tconfig: fields.config ?? {}\n\t\t});\n\t\tthis.name = fields.name;\n\t\tthis.description = fields.description;\n\t\tthis.schema = fields.schema;\n\t}\n\tstatic lc_name() {\n\t\treturn \"RunnableToolLike\";\n\t}\n};\n/**\n* Given a runnable and a Zod schema, convert the runnable to a tool.\n*\n* @template RunInput The input type for the runnable.\n* @template RunOutput The output type for the runnable.\n*\n* @param {Runnable<RunInput, RunOutput>} runnable The runnable to convert to a tool.\n* @param fields\n* @param {string | undefined} [fields.name] The name of the tool. If not provided, it will default to the name of the runnable.\n* @param {string | undefined} [fields.description] The description of the tool. Falls back to the description on the Zod schema if not provided, or undefined if neither are provided.\n* @param {InteropZodType<RunInput>} [fields.schema] The Zod schema for the input of the tool. Infers the Zod type from the input type of the runnable.\n* @returns {RunnableToolLike<InteropZodType<RunInput>, RunOutput>} An instance of `RunnableToolLike` which is a runnable that can be used as a tool.\n*/\nfunction convertRunnableToTool(runnable, fields) {\n\tconst name = fields.name ?? runnable.getName();\n\tconst description = fields.description ?? (0,_utils_types_zod_js__WEBPACK_IMPORTED_MODULE_13__.getSchemaDescription)(fields.schema);\n\tif ((0,_utils_types_zod_js__WEBPACK_IMPORTED_MODULE_13__.isSimpleStringZodSchema)(fields.schema)) return new RunnableToolLike({\n\t\tname,\n\t\tdescription,\n\t\tschema: zod_v3__WEBPACK_IMPORTED_MODULE_17__.z.object({ input: zod_v3__WEBPACK_IMPORTED_MODULE_17__.z.string() }).transform((input) => input.input),\n\t\tbound: runnable\n\t});\n\treturn new RunnableToolLike({\n\t\tname,\n\t\tdescription,\n\t\tschema: fields.schema,\n\t\tbound: runnable\n\t});\n}\n\n//#endregion\n\n//# sourceMappingURL=base.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3J1bm5hYmxlcy9iYXNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBdUQ7QUFDb0I7QUFDcUI7QUFDaEU7QUFDb0g7QUFDM0U7QUFDa0Q7QUFDZDtBQUNkO0FBQzVDO0FBQ0k7QUFDVztBQUNDO0FBQ3NDO0FBQ3RFO0FBQ3NCO0FBQzRFO0FBQzFHO0FBQ0Q7QUFDMkM7O0FBRXJFO0FBQ0E7QUFDQSw0R0FBNEc7QUFDNUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QiwrREFBWTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixLQUFLLEVBQUUsT0FBTztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixhQUFhO0FBQ2I7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsNEpBQTRKLGdCQUFnQixjQUFjLFFBQVE7QUFDbE0saURBQWlELG9EQUFZO0FBQzdEO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixRQUFRLFlBQVksd0RBQVk7QUFDdkQ7QUFDQSxzQkFBc0IsUUFBUSxRQUFRLHdEQUFZO0FBQ2xEO0FBQ0E7QUFDQSx1REFBdUQ7QUFDdkQ7QUFDQSxxQkFBcUIsZ0VBQVc7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix3REFBWTtBQUM3QiwrQkFBK0IscUVBQXVCO0FBQ3REO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxTQUFTLG9FQUFzQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsd0RBQVk7QUFDdkQsd0JBQXdCLHdEQUFZO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix3REFBWTtBQUM3QixpQ0FBaUMsdUVBQTJCO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsZ0VBQWM7QUFDaEMsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdEO0FBQ3hELDZEQUE2RCxtRUFBMkI7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGdFQUFjO0FBQ2pDLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyx3REFBTTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsd0RBQVk7QUFDN0IsaUNBQWlDLHVFQUEyQjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQix3RUFBc0IsZ0hBQWdILFdBQVcsNEZBQTRGLHdCQUF3QjtBQUMzUjtBQUNBO0FBQ0EseURBQXlELDJFQUFxQjtBQUM5RTtBQUNBO0FBQ0Esc0RBQXNELHNFQUFrQjtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osbUVBQW1FLDRDQUE0QztBQUMvRztBQUNBO0FBQ0Esb0RBQW9ELDRCQUE0Qiw0Q0FBNEM7QUFDNUg7QUFDQTtBQUNBLG9CQUFvQiw2Q0FBSztBQUN6QjtBQUNBLFlBQVksZUFBZTtBQUMzQixXQUFXLDBDQUFLO0FBQ2hCLEdBQUc7QUFDSDtBQUNBO0FBQ0EsWUFBWSxlQUFlO0FBQzNCLFdBQVcsMENBQUs7QUFDaEIsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCxnQkFBZ0I7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLHdEQUFZO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLDRFQUF3QjtBQUMvRDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsaUJBQWlCLHdEQUFZO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLFVBQVUsWUFBWTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsK0RBQVcsR0FBRztBQUNyQztBQUNBO0FBQ0E7QUFDQSxNQUFNLEdBQUc7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELHVFQUF3QjtBQUMvRSxjQUFjLG9FQUFzQjtBQUNwQztBQUNBO0FBQ0EsNEJBQTRCLGdGQUEwQjtBQUN0RDtBQUNBO0FBQ0EsR0FBRztBQUNILGlCQUFpQix3REFBWTtBQUM3QixnQ0FBZ0MsaURBQUU7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELFlBQVk7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix3REFBWTtBQUM3QjtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsNEVBQXdCO0FBQy9EO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCw4QkFBOEIsd0RBQWdCLEdBQUcsa0JBQWtCO0FBQ25FO0FBQ0E7QUFDQSx5QkFBeUIsMERBQU07QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBLGtCQUFrQixhQUFhO0FBQy9CO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxpR0FBaUcsWUFBWSw0QkFBNEIsY0FBYztBQUN2SixjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGNBQWMsR0FBRyxVQUFVO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpQkFBaUI7QUFDNUI7QUFDQTtBQUNBLGdHQUFnRyxZQUFZLDRCQUE0QixhQUFhO0FBQ3JKLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0Esa0JBQWtCLGFBQWE7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFdBQVc7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsK0RBQW1CO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsb0JBQW9CO0FBQy9CLFdBQVcsb0JBQW9CO0FBQy9CLFdBQVcsb0JBQW9CO0FBQy9CO0FBQ0EsaUJBQWlCLHlCQUF5QjtBQUMxQztBQUNBO0FBQ0EsYUFBYTtBQUNiLG9DQUFvQyxnQkFBZ0IsMkVBQW1CO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxJQUFJO0FBQ1IsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLCtCQUErQjtBQUM3QztBQUNBO0FBQ0EsV0FBVyxvQkFBb0I7QUFDL0IsV0FBVyxvQkFBb0I7QUFDL0IsV0FBVyxjQUFjO0FBQ3pCLGFBQWEsMkNBQTJDO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxnQkFBZ0IsaUJBQWlCO0FBQy9FLDZDQUE2QyxnQkFBZ0IsZ0JBQWdCO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsd0RBQVk7QUFDN0IsU0FBUyx3REFBWTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkhBQTZILHdEQUFZLDZEQUE2RCx3REFBWTtBQUNsTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRSx3REFBWTtBQUMvRTtBQUNBO0FBQ0EsMERBQTBELHdEQUFZO0FBQ3RFO0FBQ0E7QUFDQSxpRUFBaUUsd0RBQVk7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyx3REFBWTtBQUNoRDtBQUNBLElBQUk7QUFDSjtBQUNBLFNBQVMsb0VBQXNCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsb0JBQW9CO0FBQy9CLFdBQVcsb0JBQW9CO0FBQy9CLFdBQVcsb0JBQW9CO0FBQy9CO0FBQ0EsaUJBQWlCLHlCQUF5QjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxnQkFBZ0IsMkVBQW1CO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxJQUFJO0FBQ1IsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVywrQkFBK0I7QUFDMUM7QUFDQTtBQUNBLDJEQUEyRCxNQUFNO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsdURBQVcsV0FBVyxtQ0FBbUM7QUFDM0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxvQkFBb0I7QUFDL0IsV0FBVyxvQkFBb0I7QUFDL0IsV0FBVyxvQkFBb0I7QUFDL0I7QUFDQSxpQkFBaUIseUJBQXlCO0FBQzFDLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxHQUFHLEdBQUc7QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsTUFBTTtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQscUJBQXFCO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2QsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLFFBQVE7QUFDckQsU0FBUyx1REFBVyxXQUFXLHNDQUFzQztBQUNyRTtBQUNBO0FBQ0EsU0FBUywrREFBTTtBQUNmLHVCQUF1QixPQUFPO0FBQzlCO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsK0RBQU07QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxvQkFBb0Isb0JBQW9CO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSix3QkFBd0IsT0FBTztBQUMvQjtBQUNBO0FBQ0EsSUFBSTtBQUNKLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixNQUFNO0FBQ2pDO0FBQ0Esd0VBQXdFLHNCQUFzQjtBQUM5RixzQ0FBc0MsZ0JBQWdCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHdEQUFZO0FBQzdCLGlDQUFpQyx1RUFBMkI7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHlCQUF5QjtBQUM1QztBQUNBLCtDQUErQyx1REFBVyxXQUFXLDZFQUE2RSxNQUFNLElBQUk7QUFDNUosMEJBQTBCLGdFQUFjO0FBQ3hDO0FBQ0EsdUNBQXVDLHFFQUFtQjtBQUMxRCx1REFBdUQsdURBQVcsV0FBVyw2RUFBNkUsa0JBQWtCLElBQUk7QUFDaEwsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVEO0FBQ3ZELDREQUE0RCxtRUFBMkI7QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLG1CQUFtQix1QkFBdUI7QUFDMUM7QUFDQTtBQUNBLCtGQUErRixNQUFNO0FBQ3JHLFlBQVksdURBQVcsa0JBQWtCLDRCQUE0QjtBQUNyRSxLQUFLO0FBQ0wsMkJBQTJCLGdFQUFjO0FBQ3pDO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsdUVBQTJCO0FBQzVELFVBQVUsd0JBQXdCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCx1REFBVyxpQkFBaUIsZ0ZBQWdGO0FBQ3pLLG1CQUFtQixrQkFBa0I7QUFDckM7QUFDQSwwREFBMEQsdURBQVcsaUJBQWlCLDZFQUE2RSxNQUFNLElBQUk7QUFDN0s7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDZDQUFLO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELE1BQU07QUFDekQ7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELE1BQU07QUFDbkUsMEJBQTBCO0FBQzFCO0FBQ0Esa0VBQWtFLE1BQU07QUFDeEUsMEJBQTBCO0FBQzFCO0FBQ0EsR0FBRztBQUNILHlDQUF5QyxlQUFlO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixPQUFPO0FBQ2xDO0FBQ0E7QUFDQSxpQkFBaUIsd0RBQVk7QUFDN0IsaUNBQWlDLHVFQUEyQjtBQUM1RCwrRUFBK0UsT0FBTztBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyx1REFBVyxXQUFXLDJDQUEyQyxJQUFJLElBQUk7QUFDeEgsSUFBSTtBQUNKLFNBQVMsZ0VBQWM7QUFDdkIsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCLHNCQUFzQixzREFBSTtBQUMxQjtBQUNBLGtEQUFrRCx1REFBVyxZQUFZLDJDQUEyQyxJQUFJLElBQUk7QUFDNUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNIO0FBQ0E7QUFDQSxXQUFXLG1CQUFtQixRQUFRLGdFQUFjO0FBQ3BEO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsd0RBQVk7QUFDN0IsK0JBQStCLHFFQUF1QjtBQUN0RDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsU0FBUyxvRUFBc0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sb0ZBQW1CO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRDtBQUNyRCwwQkFBMEIsdUVBQTJCO0FBQ3JELDRCQUE0Qix1REFBVyxXQUFXLFdBQVc7QUFDN0QsU0FBUyxnRUFBYztBQUN2QjtBQUNBO0FBQ0EscURBQXFEO0FBQ3JEO0FBQ0EsTUFBTSwwREFBZTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLHFEQUFVO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsTUFBTTtBQUN2QztBQUNBO0FBQ0E7QUFDQSxLQUFLLG9GQUFtQjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpQkFBaUI7QUFDNUI7QUFDQSx3QkFBd0IsV0FBVyxXQUFXO0FBQzlDO0FBQ0EsNkJBQTZCLGVBQWUsb0JBQW9CO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsOEJBQThCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxZQUFZO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLG9GQUFtQjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLE1BQU07QUFDcEM7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHVEQUFXO0FBQ2xDO0FBQ0EsK0NBQStDLCtEQUF1QjtBQUN0RSxJQUFJO0FBQ0osR0FBRyx3R0FBa0MsZUFBZSxrRUFBc0I7QUFDMUU7QUFDQSwyQ0FBMkMsZ0JBQWdCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELCtEQUF1QjtBQUM3RSxPQUFPO0FBQ1AsT0FBTyxTQUFTLDBEQUFlO0FBQy9CO0FBQ0EsZ0NBQWdDLHdFQUE2QjtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sU0FBUyw2REFBa0I7QUFDbEM7QUFDQSwwQkFBMEIsbUVBQXdCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLHNCQUFzQix1REFBVztBQUNqQztBQUNBLDhDQUE4QywrREFBdUI7QUFDckUsR0FBRztBQUNIO0FBQ0EsR0FBRyx3R0FBa0MsZUFBZSxrRUFBc0I7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLFNBQVMsMERBQWUsb0NBQW9DLHdFQUE2QjtBQUM3RjtBQUNBO0FBQ0E7QUFDQSxXQUFXLDZEQUFrQiw4QkFBOEIsbUVBQXdCO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix3REFBWTtBQUM3QiwrQkFBK0IscUVBQXVCO0FBQ3REO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxTQUFTLG9FQUFzQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixNQUFNO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLE1BQU07QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix3REFBWTtBQUM3QixpQ0FBaUMsdUVBQTJCO0FBQzVELFVBQVUsNkJBQTZCO0FBQ3ZDO0FBQ0Esc0JBQXNCLHVEQUFXLHNCQUFzQixtQ0FBbUM7QUFDMUYsb0JBQW9CLHdHQUFrQztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHdEQUFZO0FBQzdCLGlDQUFpQyx1RUFBMkI7QUFDNUQsVUFBVSw2QkFBNkI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix1REFBVyxzQkFBc0IsbUNBQW1DO0FBQzNGO0FBQ0E7QUFDQSxhQUFhLHdFQUE2QjtBQUMxQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RDtBQUN2RCx3RUFBd0UsdUVBQTJCO0FBQ25HO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0ZBQW9GLHVEQUFXLGtCQUFrQixtQ0FBbUM7QUFDcEo7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsa0JBQWtCO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGtCQUFrQjtBQUM3QyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsNkJBQTZCLG1CQUFtQixLQUFLLGNBQWM7QUFDbkU7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLCtCQUErQixjQUFjLEtBQUssbUJBQW1CO0FBQ3JFLGFBQWEsb0JBQW9CLE9BQU87QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLDhDQUE4QyxRQUFRO0FBQ3REO0FBQ0EsNENBQTRDLGdDQUFnQztBQUM1RTtBQUNBLE9BQU8sNENBQTRDLFNBQVMsbUJBQW1CO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdEO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxzREFBSTtBQUMxQyx3REFBd0QsdURBQVcsWUFBWSxtQ0FBbUM7QUFDbEg7QUFDQTtBQUNBLHdJQUF3SSxhQUFhO0FBQ3JKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHdEQUFZO0FBQzdCLCtCQUErQixxRUFBdUI7QUFDdEQ7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLFNBQVMsb0VBQXNCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkZBQTZGO0FBQzdGO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0VBQXNFO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsd0RBQVk7QUFDN0IsK0JBQStCLHFFQUF1QjtBQUN0RDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsU0FBUyxvRUFBc0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyw0REFBVztBQUNsQixzQkFBc0IsdUVBQWlCO0FBQ3ZDLEtBQUs7QUFDTCxjQUFjLHNFQUF5QjtBQUN2QztBQUNBO0FBQ0E7QUFDQSxHQUFHLGVBQWUsWUFBWSxZQUFZLGVBQWUsK0JBQStCLHNCQUFzQjtBQUM5RztBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsK0JBQStCO0FBQ3pDO0FBQ0EsVUFBVSxvQkFBb0I7QUFDOUIsVUFBVSxvQkFBb0I7QUFDOUIsVUFBVSwwQkFBMEI7QUFDcEMsWUFBWSx1REFBdUQ7QUFDbkU7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLDBFQUFvQjtBQUMvRCxLQUFLLDZFQUF1QjtBQUM1QjtBQUNBO0FBQ0EsVUFBVSw2Q0FBUSxHQUFHLE9BQU8sNkNBQVEsSUFBSTtBQUN4QztBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQzRPO0FBQzVPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3J1bm5hYmxlcy9iYXNlLmpzP2YzZTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2VyaWFsaXphYmxlIH0gZnJvbSBcIi4uL2xvYWQvc2VyaWFsaXphYmxlLmpzXCI7XG5pbXBvcnQgeyBUb29sSW5wdXRQYXJzaW5nRXhjZXB0aW9uLCBfaXNUb29sQ2FsbCB9IGZyb20gXCIuLi90b29scy91dGlscy5qc1wiO1xuaW1wb3J0IHsgQXN5bmNMb2NhbFN0b3JhZ2VQcm92aWRlclNpbmdsZXRvbiB9IGZyb20gXCIuLi9zaW5nbGV0b25zL2FzeW5jX2xvY2FsX3N0b3JhZ2UvaW5kZXguanNcIjtcbmltcG9ydCBcIi4uL3NpbmdsZXRvbnMvaW5kZXguanNcIjtcbmltcG9ydCB7IERFRkFVTFRfUkVDVVJTSU9OX0xJTUlULCBlbnN1cmVDb25maWcsIGdldENhbGxiYWNrTWFuYWdlckZvckNvbmZpZywgbWVyZ2VDb25maWdzLCBwYXRjaENvbmZpZywgcGlja1J1bm5hYmxlQ29uZmlnS2V5cyB9IGZyb20gXCIuL2NvbmZpZy5qc1wiO1xuaW1wb3J0IHsgZ2V0QWJvcnRTaWduYWxFcnJvciwgcmFjZVdpdGhTaWduYWwgfSBmcm9tIFwiLi4vdXRpbHMvc2lnbmFsLmpzXCI7XG5pbXBvcnQgeyBBc3luY0dlbmVyYXRvcldpdGhTZXR1cCwgSXRlcmFibGVSZWFkYWJsZVN0cmVhbSwgYXRlZSwgY29uY2F0LCBwaXBlR2VuZXJhdG9yV2l0aFNldHVwIH0gZnJvbSBcIi4uL3V0aWxzL3N0cmVhbS5qc1wiO1xuaW1wb3J0IHsgTG9nU3RyZWFtQ2FsbGJhY2tIYW5kbGVyLCBSdW5Mb2csIFJ1bkxvZ1BhdGNoLCBpc0xvZ1N0cmVhbUhhbmRsZXIgfSBmcm9tIFwiLi4vdHJhY2Vycy9sb2dfc3RyZWFtLmpzXCI7XG5pbXBvcnQgeyBFdmVudFN0cmVhbUNhbGxiYWNrSGFuZGxlciwgaXNTdHJlYW1FdmVudHNIYW5kbGVyIH0gZnJvbSBcIi4uL3RyYWNlcnMvZXZlbnRfc3RyZWFtLmpzXCI7XG5pbXBvcnQgeyBwUmV0cnkgfSBmcm9tIFwiLi4vdXRpbHMvcC1yZXRyeS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgQXN5bmNDYWxsZXIgfSBmcm9tIFwiLi4vdXRpbHMvYXN5bmNfY2FsbGVyLmpzXCI7XG5pbXBvcnQgeyBSb290TGlzdGVuZXJzVHJhY2VyIH0gZnJvbSBcIi4uL3RyYWNlcnMvcm9vdF9saXN0ZW5lci5qc1wiO1xuaW1wb3J0IHsgX1Jvb3RFdmVudEZpbHRlciwgaXNSdW5uYWJsZUludGVyZmFjZSB9IGZyb20gXCIuL3V0aWxzLmpzXCI7XG5pbXBvcnQgeyBnZXRTY2hlbWFEZXNjcmlwdGlvbiwgaW50ZXJvcFBhcnNlQXN5bmMsIGlzU2ltcGxlU3RyaW5nWm9kU2NoZW1hIH0gZnJvbSBcIi4uL3V0aWxzL3R5cGVzL3pvZC5qc1wiO1xuaW1wb3J0IHsgR3JhcGggfSBmcm9tIFwiLi9ncmFwaC5qc1wiO1xuaW1wb3J0IHsgY29udmVydFRvSHR0cEV2ZW50U3RyZWFtIH0gZnJvbSBcIi4vd3JhcHBlcnMuanNcIjtcbmltcG9ydCB7IGNvbnN1bWVBc3luY0l0ZXJhYmxlSW5Db250ZXh0LCBjb25zdW1lSXRlcmF0b3JJbkNvbnRleHQsIGlzQXN5bmNJdGVyYWJsZSwgaXNJdGVyYWJsZUl0ZXJhdG9yLCBpc0l0ZXJhdG9yIH0gZnJvbSBcIi4vaXRlci5qc1wiO1xuaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2QvdjNcIjtcbmltcG9ydCB7IHY0IH0gZnJvbSBcInV1aWRcIjtcbmltcG9ydCB7IGlzVHJhY2VhYmxlRnVuY3Rpb24gfSBmcm9tIFwibGFuZ3NtaXRoL3NpbmdsZXRvbnMvdHJhY2VhYmxlXCI7XG5cbi8vI3JlZ2lvbiBzcmMvcnVubmFibGVzL2Jhc2UudHNcbmZ1bmN0aW9uIF9jb2VyY2VUb0RpY3QodmFsdWUsIGRlZmF1bHRLZXkpIHtcblx0cmV0dXJuIHZhbHVlICYmICFBcnJheS5pc0FycmF5KHZhbHVlKSAmJiAhKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiID8gdmFsdWUgOiB7IFtkZWZhdWx0S2V5XTogdmFsdWUgfTtcbn1cbi8qKlxuKiBBIFJ1bm5hYmxlIGlzIGEgZ2VuZXJpYyB1bml0IG9mIHdvcmsgdGhhdCBjYW4gYmUgaW52b2tlZCwgYmF0Y2hlZCwgc3RyZWFtZWQsIGFuZC9vclxuKiB0cmFuc2Zvcm1lZC5cbiovXG52YXIgUnVubmFibGUgPSBjbGFzcyBleHRlbmRzIFNlcmlhbGl6YWJsZSB7XG5cdGxjX3J1bm5hYmxlID0gdHJ1ZTtcblx0bmFtZTtcblx0Z2V0TmFtZShzdWZmaXgpIHtcblx0XHRjb25zdCBuYW1lID0gdGhpcy5uYW1lID8/IHRoaXMuY29uc3RydWN0b3IubGNfbmFtZSgpID8/IHRoaXMuY29uc3RydWN0b3IubmFtZTtcblx0XHRyZXR1cm4gc3VmZml4ID8gYCR7bmFtZX0ke3N1ZmZpeH1gIDogbmFtZTtcblx0fVxuXHQvKipcblx0KiBBZGQgcmV0cnkgbG9naWMgdG8gYW4gZXhpc3RpbmcgcnVubmFibGUuXG5cdCogQHBhcmFtIGZpZWxkcy5zdG9wQWZ0ZXJBdHRlbXB0IFRoZSBudW1iZXIgb2YgYXR0ZW1wdHMgdG8gcmV0cnkuXG5cdCogQHBhcmFtIGZpZWxkcy5vbkZhaWxlZEF0dGVtcHQgQSBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aGVuIGEgcmV0cnkgZmFpbHMuXG5cdCogQHJldHVybnMgQSBuZXcgUnVubmFibGVSZXRyeSB0aGF0LCB3aGVuIGludm9rZWQsIHdpbGwgcmV0cnkgYWNjb3JkaW5nIHRvIHRoZSBwYXJhbWV0ZXJzLlxuXHQqL1xuXHR3aXRoUmV0cnkoZmllbGRzKSB7XG5cdFx0cmV0dXJuIG5ldyBSdW5uYWJsZVJldHJ5KHtcblx0XHRcdGJvdW5kOiB0aGlzLFxuXHRcdFx0a3dhcmdzOiB7fSxcblx0XHRcdGNvbmZpZzoge30sXG5cdFx0XHRtYXhBdHRlbXB0TnVtYmVyOiBmaWVsZHM/LnN0b3BBZnRlckF0dGVtcHQsXG5cdFx0XHQuLi5maWVsZHNcblx0XHR9KTtcblx0fVxuXHQvKipcblx0KiBCaW5kIGNvbmZpZyB0byBhIFJ1bm5hYmxlLCByZXR1cm5pbmcgYSBuZXcgUnVubmFibGUuXG5cdCogQHBhcmFtIGNvbmZpZyBOZXcgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzIHRvIGF0dGFjaCB0byB0aGUgbmV3IHJ1bm5hYmxlLlxuXHQqIEByZXR1cm5zIEEgbmV3IFJ1bm5hYmxlQmluZGluZyB3aXRoIGEgY29uZmlnIG1hdGNoaW5nIHdoYXQncyBwYXNzZWQuXG5cdCovXG5cdHdpdGhDb25maWcoY29uZmlnKSB7XG5cdFx0cmV0dXJuIG5ldyBSdW5uYWJsZUJpbmRpbmcoe1xuXHRcdFx0Ym91bmQ6IHRoaXMsXG5cdFx0XHRjb25maWcsXG5cdFx0XHRrd2FyZ3M6IHt9XG5cdFx0fSk7XG5cdH1cblx0LyoqXG5cdCogQ3JlYXRlIGEgbmV3IHJ1bm5hYmxlIGZyb20gdGhlIGN1cnJlbnQgb25lIHRoYXQgd2lsbCB0cnkgaW52b2tpbmdcblx0KiBvdGhlciBwYXNzZWQgZmFsbGJhY2sgcnVubmFibGVzIGlmIHRoZSBpbml0aWFsIGludm9jYXRpb24gZmFpbHMuXG5cdCogQHBhcmFtIGZpZWxkcy5mYWxsYmFja3MgT3RoZXIgcnVubmFibGVzIHRvIGNhbGwgaWYgdGhlIHJ1bm5hYmxlIGVycm9ycy5cblx0KiBAcmV0dXJucyBBIG5ldyBSdW5uYWJsZVdpdGhGYWxsYmFja3MuXG5cdCovXG5cdHdpdGhGYWxsYmFja3MoZmllbGRzKSB7XG5cdFx0Y29uc3QgZmFsbGJhY2tzID0gQXJyYXkuaXNBcnJheShmaWVsZHMpID8gZmllbGRzIDogZmllbGRzLmZhbGxiYWNrcztcblx0XHRyZXR1cm4gbmV3IFJ1bm5hYmxlV2l0aEZhbGxiYWNrcyh7XG5cdFx0XHRydW5uYWJsZTogdGhpcyxcblx0XHRcdGZhbGxiYWNrc1xuXHRcdH0pO1xuXHR9XG5cdF9nZXRPcHRpb25zTGlzdChvcHRpb25zLCBsZW5ndGggPSAwKSB7XG5cdFx0aWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucykgJiYgb3B0aW9ucy5sZW5ndGggIT09IGxlbmd0aCkgdGhyb3cgbmV3IEVycm9yKGBQYXNzZWQgXCJvcHRpb25zXCIgbXVzdCBiZSBhbiBhcnJheSB3aXRoIHRoZSBzYW1lIGxlbmd0aCBhcyB0aGUgaW5wdXRzLCBidXQgZ290ICR7b3B0aW9ucy5sZW5ndGh9IG9wdGlvbnMgZm9yICR7bGVuZ3RofSBpbnB1dHNgKTtcblx0XHRpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zKSkgcmV0dXJuIG9wdGlvbnMubWFwKGVuc3VyZUNvbmZpZyk7XG5cdFx0aWYgKGxlbmd0aCA+IDEgJiYgIUFycmF5LmlzQXJyYXkob3B0aW9ucykgJiYgb3B0aW9ucy5ydW5JZCkge1xuXHRcdFx0Y29uc29sZS53YXJuKFwiUHJvdmlkZWQgcnVuSWQgd2lsbCBiZSB1c2VkIG9ubHkgZm9yIHRoZSBmaXJzdCBlbGVtZW50IG9mIHRoZSBiYXRjaC5cIik7XG5cdFx0XHRjb25zdCBzdWJzZXF1ZW50ID0gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKG9wdGlvbnMpLmZpbHRlcigoW2tleV0pID0+IGtleSAhPT0gXCJydW5JZFwiKSk7XG5cdFx0XHRyZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aCB9LCAoXywgaSkgPT4gZW5zdXJlQ29uZmlnKGkgPT09IDAgPyBvcHRpb25zIDogc3Vic2VxdWVudCkpO1xuXHRcdH1cblx0XHRyZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aCB9LCAoKSA9PiBlbnN1cmVDb25maWcob3B0aW9ucykpO1xuXHR9XG5cdGFzeW5jIGJhdGNoKGlucHV0cywgb3B0aW9ucywgYmF0Y2hPcHRpb25zKSB7XG5cdFx0Y29uc3QgY29uZmlnTGlzdCA9IHRoaXMuX2dldE9wdGlvbnNMaXN0KG9wdGlvbnMgPz8ge30sIGlucHV0cy5sZW5ndGgpO1xuXHRcdGNvbnN0IG1heENvbmN1cnJlbmN5ID0gY29uZmlnTGlzdFswXT8ubWF4Q29uY3VycmVuY3kgPz8gYmF0Y2hPcHRpb25zPy5tYXhDb25jdXJyZW5jeTtcblx0XHRjb25zdCBjYWxsZXIgPSBuZXcgQXN5bmNDYWxsZXIoe1xuXHRcdFx0bWF4Q29uY3VycmVuY3ksXG5cdFx0XHRvbkZhaWxlZEF0dGVtcHQ6IChlKSA9PiB7XG5cdFx0XHRcdHRocm93IGU7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0Y29uc3QgYmF0Y2hDYWxscyA9IGlucHV0cy5tYXAoKGlucHV0LCBpKSA9PiBjYWxsZXIuY2FsbChhc3luYyAoKSA9PiB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmludm9rZShpbnB1dCwgY29uZmlnTGlzdFtpXSk7XG5cdFx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdGlmIChiYXRjaE9wdGlvbnM/LnJldHVybkV4Y2VwdGlvbnMpIHJldHVybiBlO1xuXHRcdFx0XHR0aHJvdyBlO1xuXHRcdFx0fVxuXHRcdH0pKTtcblx0XHRyZXR1cm4gUHJvbWlzZS5hbGwoYmF0Y2hDYWxscyk7XG5cdH1cblx0LyoqXG5cdCogRGVmYXVsdCBzdHJlYW1pbmcgaW1wbGVtZW50YXRpb24uXG5cdCogU3ViY2xhc3NlcyBzaG91bGQgb3ZlcnJpZGUgdGhpcyBtZXRob2QgaWYgdGhleSBzdXBwb3J0IHN0cmVhbWluZyBvdXRwdXQuXG5cdCogQHBhcmFtIGlucHV0XG5cdCogQHBhcmFtIG9wdGlvbnNcblx0Ki9cblx0YXN5bmMgKl9zdHJlYW1JdGVyYXRvcihpbnB1dCwgb3B0aW9ucykge1xuXHRcdHlpZWxkIHRoaXMuaW52b2tlKGlucHV0LCBvcHRpb25zKTtcblx0fVxuXHQvKipcblx0KiBTdHJlYW0gb3V0cHV0IGluIGNodW5rcy5cblx0KiBAcGFyYW0gaW5wdXRcblx0KiBAcGFyYW0gb3B0aW9uc1xuXHQqIEByZXR1cm5zIEEgcmVhZGFibGUgc3RyZWFtIHRoYXQgaXMgYWxzbyBhbiBpdGVyYWJsZS5cblx0Ki9cblx0YXN5bmMgc3RyZWFtKGlucHV0LCBvcHRpb25zKSB7XG5cdFx0Y29uc3QgY29uZmlnID0gZW5zdXJlQ29uZmlnKG9wdGlvbnMpO1xuXHRcdGNvbnN0IHdyYXBwZWRHZW5lcmF0b3IgPSBuZXcgQXN5bmNHZW5lcmF0b3JXaXRoU2V0dXAoe1xuXHRcdFx0Z2VuZXJhdG9yOiB0aGlzLl9zdHJlYW1JdGVyYXRvcihpbnB1dCwgY29uZmlnKSxcblx0XHRcdGNvbmZpZ1xuXHRcdH0pO1xuXHRcdGF3YWl0IHdyYXBwZWRHZW5lcmF0b3Iuc2V0dXA7XG5cdFx0cmV0dXJuIEl0ZXJhYmxlUmVhZGFibGVTdHJlYW0uZnJvbUFzeW5jR2VuZXJhdG9yKHdyYXBwZWRHZW5lcmF0b3IpO1xuXHR9XG5cdF9zZXBhcmF0ZVJ1bm5hYmxlQ29uZmlnRnJvbUNhbGxPcHRpb25zKG9wdGlvbnMpIHtcblx0XHRsZXQgcnVubmFibGVDb25maWc7XG5cdFx0aWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgcnVubmFibGVDb25maWcgPSBlbnN1cmVDb25maWcob3B0aW9ucyk7XG5cdFx0ZWxzZSBydW5uYWJsZUNvbmZpZyA9IGVuc3VyZUNvbmZpZyh7XG5cdFx0XHRjYWxsYmFja3M6IG9wdGlvbnMuY2FsbGJhY2tzLFxuXHRcdFx0dGFnczogb3B0aW9ucy50YWdzLFxuXHRcdFx0bWV0YWRhdGE6IG9wdGlvbnMubWV0YWRhdGEsXG5cdFx0XHRydW5OYW1lOiBvcHRpb25zLnJ1bk5hbWUsXG5cdFx0XHRjb25maWd1cmFibGU6IG9wdGlvbnMuY29uZmlndXJhYmxlLFxuXHRcdFx0cmVjdXJzaW9uTGltaXQ6IG9wdGlvbnMucmVjdXJzaW9uTGltaXQsXG5cdFx0XHRtYXhDb25jdXJyZW5jeTogb3B0aW9ucy5tYXhDb25jdXJyZW5jeSxcblx0XHRcdHJ1bklkOiBvcHRpb25zLnJ1bklkLFxuXHRcdFx0dGltZW91dDogb3B0aW9ucy50aW1lb3V0LFxuXHRcdFx0c2lnbmFsOiBvcHRpb25zLnNpZ25hbFxuXHRcdH0pO1xuXHRcdGNvbnN0IGNhbGxPcHRpb25zID0geyAuLi5vcHRpb25zIH07XG5cdFx0ZGVsZXRlIGNhbGxPcHRpb25zLmNhbGxiYWNrcztcblx0XHRkZWxldGUgY2FsbE9wdGlvbnMudGFncztcblx0XHRkZWxldGUgY2FsbE9wdGlvbnMubWV0YWRhdGE7XG5cdFx0ZGVsZXRlIGNhbGxPcHRpb25zLnJ1bk5hbWU7XG5cdFx0ZGVsZXRlIGNhbGxPcHRpb25zLmNvbmZpZ3VyYWJsZTtcblx0XHRkZWxldGUgY2FsbE9wdGlvbnMucmVjdXJzaW9uTGltaXQ7XG5cdFx0ZGVsZXRlIGNhbGxPcHRpb25zLm1heENvbmN1cnJlbmN5O1xuXHRcdGRlbGV0ZSBjYWxsT3B0aW9ucy5ydW5JZDtcblx0XHRkZWxldGUgY2FsbE9wdGlvbnMudGltZW91dDtcblx0XHRkZWxldGUgY2FsbE9wdGlvbnMuc2lnbmFsO1xuXHRcdHJldHVybiBbcnVubmFibGVDb25maWcsIGNhbGxPcHRpb25zXTtcblx0fVxuXHRhc3luYyBfY2FsbFdpdGhDb25maWcoZnVuYywgaW5wdXQsIG9wdGlvbnMpIHtcblx0XHRjb25zdCBjb25maWcgPSBlbnN1cmVDb25maWcob3B0aW9ucyk7XG5cdFx0Y29uc3QgY2FsbGJhY2tNYW5hZ2VyXyA9IGF3YWl0IGdldENhbGxiYWNrTWFuYWdlckZvckNvbmZpZyhjb25maWcpO1xuXHRcdGNvbnN0IHJ1bk1hbmFnZXIgPSBhd2FpdCBjYWxsYmFja01hbmFnZXJfPy5oYW5kbGVDaGFpblN0YXJ0KHRoaXMudG9KU09OKCksIF9jb2VyY2VUb0RpY3QoaW5wdXQsIFwiaW5wdXRcIiksIGNvbmZpZy5ydW5JZCwgY29uZmlnPy5ydW5UeXBlLCB2b2lkIDAsIHZvaWQgMCwgY29uZmlnPy5ydW5OYW1lID8/IHRoaXMuZ2V0TmFtZSgpKTtcblx0XHRkZWxldGUgY29uZmlnLnJ1bklkO1xuXHRcdGxldCBvdXRwdXQ7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHByb21pc2UgPSBmdW5jLmNhbGwodGhpcywgaW5wdXQsIGNvbmZpZywgcnVuTWFuYWdlcik7XG5cdFx0XHRvdXRwdXQgPSBhd2FpdCByYWNlV2l0aFNpZ25hbChwcm9taXNlLCBvcHRpb25zPy5zaWduYWwpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRXJyb3IoZSk7XG5cdFx0XHR0aHJvdyBlO1xuXHRcdH1cblx0XHRhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVDaGFpbkVuZChfY29lcmNlVG9EaWN0KG91dHB1dCwgXCJvdXRwdXRcIikpO1xuXHRcdHJldHVybiBvdXRwdXQ7XG5cdH1cblx0LyoqXG5cdCogSW50ZXJuYWwgbWV0aG9kIHRoYXQgaGFuZGxlcyBiYXRjaGluZyBhbmQgY29uZmlndXJhdGlvbiBmb3IgYSBydW5uYWJsZVxuXHQqIEl0IHRha2VzIGEgZnVuY3Rpb24sIGlucHV0IHZhbHVlcywgYW5kIG9wdGlvbmFsIGNvbmZpZ3VyYXRpb24sIGFuZFxuXHQqIHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIG91dHB1dCB2YWx1ZXMuXG5cdCogQHBhcmFtIGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGJlIGV4ZWN1dGVkIGZvciBlYWNoIGlucHV0IHZhbHVlLlxuXHQqIEBwYXJhbSBpbnB1dCBUaGUgaW5wdXQgdmFsdWVzIHRvIGJlIHByb2Nlc3NlZC5cblx0KiBAcGFyYW0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBmdW5jdGlvbiBleGVjdXRpb24uXG5cdCogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIG91dHB1dCB2YWx1ZXMuXG5cdCovXG5cdGFzeW5jIF9iYXRjaFdpdGhDb25maWcoZnVuYywgaW5wdXRzLCBvcHRpb25zLCBiYXRjaE9wdGlvbnMpIHtcblx0XHRjb25zdCBvcHRpb25zTGlzdCA9IHRoaXMuX2dldE9wdGlvbnNMaXN0KG9wdGlvbnMgPz8ge30sIGlucHV0cy5sZW5ndGgpO1xuXHRcdGNvbnN0IGNhbGxiYWNrTWFuYWdlcnMgPSBhd2FpdCBQcm9taXNlLmFsbChvcHRpb25zTGlzdC5tYXAoZ2V0Q2FsbGJhY2tNYW5hZ2VyRm9yQ29uZmlnKSk7XG5cdFx0Y29uc3QgcnVuTWFuYWdlcnMgPSBhd2FpdCBQcm9taXNlLmFsbChjYWxsYmFja01hbmFnZXJzLm1hcChhc3luYyAoY2FsbGJhY2tNYW5hZ2VyLCBpKSA9PiB7XG5cdFx0XHRjb25zdCBoYW5kbGVTdGFydFJlcyA9IGF3YWl0IGNhbGxiYWNrTWFuYWdlcj8uaGFuZGxlQ2hhaW5TdGFydCh0aGlzLnRvSlNPTigpLCBfY29lcmNlVG9EaWN0KGlucHV0c1tpXSwgXCJpbnB1dFwiKSwgb3B0aW9uc0xpc3RbaV0ucnVuSWQsIG9wdGlvbnNMaXN0W2ldLnJ1blR5cGUsIHZvaWQgMCwgdm9pZCAwLCBvcHRpb25zTGlzdFtpXS5ydW5OYW1lID8/IHRoaXMuZ2V0TmFtZSgpKTtcblx0XHRcdGRlbGV0ZSBvcHRpb25zTGlzdFtpXS5ydW5JZDtcblx0XHRcdHJldHVybiBoYW5kbGVTdGFydFJlcztcblx0XHR9KSk7XG5cdFx0bGV0IG91dHB1dHM7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHByb21pc2UgPSBmdW5jLmNhbGwodGhpcywgaW5wdXRzLCBvcHRpb25zTGlzdCwgcnVuTWFuYWdlcnMsIGJhdGNoT3B0aW9ucyk7XG5cdFx0XHRvdXRwdXRzID0gYXdhaXQgcmFjZVdpdGhTaWduYWwocHJvbWlzZSwgb3B0aW9uc0xpc3Q/LlswXT8uc2lnbmFsKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRhd2FpdCBQcm9taXNlLmFsbChydW5NYW5hZ2Vycy5tYXAoKHJ1bk1hbmFnZXIpID0+IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRXJyb3IoZSkpKTtcblx0XHRcdHRocm93IGU7XG5cdFx0fVxuXHRcdGF3YWl0IFByb21pc2UuYWxsKHJ1bk1hbmFnZXJzLm1hcCgocnVuTWFuYWdlcikgPT4gcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FbmQoX2NvZXJjZVRvRGljdChvdXRwdXRzLCBcIm91dHB1dFwiKSkpKTtcblx0XHRyZXR1cm4gb3V0cHV0cztcblx0fVxuXHQvKiogQGludGVybmFsICovXG5cdF9jb25jYXRPdXRwdXRDaHVua3MoZmlyc3QsIHNlY29uZCkge1xuXHRcdHJldHVybiBjb25jYXQoZmlyc3QsIHNlY29uZCk7XG5cdH1cblx0LyoqXG5cdCogSGVscGVyIG1ldGhvZCB0byB0cmFuc2Zvcm0gYW4gSXRlcmF0b3Igb2YgSW5wdXQgdmFsdWVzIGludG8gYW4gSXRlcmF0b3Igb2Zcblx0KiBPdXRwdXQgdmFsdWVzLCB3aXRoIGNhbGxiYWNrcy5cblx0KiBVc2UgdGhpcyB0byBpbXBsZW1lbnQgYHN0cmVhbSgpYCBvciBgdHJhbnNmb3JtKClgIGluIFJ1bm5hYmxlIHN1YmNsYXNzZXMuXG5cdCovXG5cdGFzeW5jICpfdHJhbnNmb3JtU3RyZWFtV2l0aENvbmZpZyhpbnB1dEdlbmVyYXRvciwgdHJhbnNmb3JtZXIsIG9wdGlvbnMpIHtcblx0XHRsZXQgZmluYWxJbnB1dDtcblx0XHRsZXQgZmluYWxJbnB1dFN1cHBvcnRlZCA9IHRydWU7XG5cdFx0bGV0IGZpbmFsT3V0cHV0O1xuXHRcdGxldCBmaW5hbE91dHB1dFN1cHBvcnRlZCA9IHRydWU7XG5cdFx0Y29uc3QgY29uZmlnID0gZW5zdXJlQ29uZmlnKG9wdGlvbnMpO1xuXHRcdGNvbnN0IGNhbGxiYWNrTWFuYWdlcl8gPSBhd2FpdCBnZXRDYWxsYmFja01hbmFnZXJGb3JDb25maWcoY29uZmlnKTtcblx0XHRjb25zdCBvdXRlclRoaXMgPSB0aGlzO1xuXHRcdGFzeW5jIGZ1bmN0aW9uKiB3cmFwSW5wdXRGb3JUcmFjaW5nKCkge1xuXHRcdFx0Zm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBpbnB1dEdlbmVyYXRvcikge1xuXHRcdFx0XHRpZiAoZmluYWxJbnB1dFN1cHBvcnRlZCkgaWYgKGZpbmFsSW5wdXQgPT09IHZvaWQgMCkgZmluYWxJbnB1dCA9IGNodW5rO1xuXHRcdFx0XHRlbHNlIHRyeSB7XG5cdFx0XHRcdFx0ZmluYWxJbnB1dCA9IG91dGVyVGhpcy5fY29uY2F0T3V0cHV0Q2h1bmtzKGZpbmFsSW5wdXQsIGNodW5rKTtcblx0XHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdFx0ZmluYWxJbnB1dCA9IHZvaWQgMDtcblx0XHRcdFx0XHRmaW5hbElucHV0U3VwcG9ydGVkID0gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0eWllbGQgY2h1bms7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGxldCBydW5NYW5hZ2VyO1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBwaXBlID0gYXdhaXQgcGlwZUdlbmVyYXRvcldpdGhTZXR1cCh0cmFuc2Zvcm1lci5iaW5kKHRoaXMpLCB3cmFwSW5wdXRGb3JUcmFjaW5nKCksIGFzeW5jICgpID0+IGNhbGxiYWNrTWFuYWdlcl8/LmhhbmRsZUNoYWluU3RhcnQodGhpcy50b0pTT04oKSwgeyBpbnB1dDogXCJcIiB9LCBjb25maWcucnVuSWQsIGNvbmZpZy5ydW5UeXBlLCB2b2lkIDAsIHZvaWQgMCwgY29uZmlnLnJ1bk5hbWUgPz8gdGhpcy5nZXROYW1lKCksIHZvaWQgMCwgeyBsY19kZWZlcnNfaW5wdXRzOiB0cnVlIH0pLCBvcHRpb25zPy5zaWduYWwsIGNvbmZpZyk7XG5cdFx0XHRkZWxldGUgY29uZmlnLnJ1bklkO1xuXHRcdFx0cnVuTWFuYWdlciA9IHBpcGUuc2V0dXA7XG5cdFx0XHRjb25zdCBzdHJlYW1FdmVudHNIYW5kbGVyID0gcnVuTWFuYWdlcj8uaGFuZGxlcnMuZmluZChpc1N0cmVhbUV2ZW50c0hhbmRsZXIpO1xuXHRcdFx0bGV0IGl0ZXJhdG9yID0gcGlwZS5vdXRwdXQ7XG5cdFx0XHRpZiAoc3RyZWFtRXZlbnRzSGFuZGxlciAhPT0gdm9pZCAwICYmIHJ1bk1hbmFnZXIgIT09IHZvaWQgMCkgaXRlcmF0b3IgPSBzdHJlYW1FdmVudHNIYW5kbGVyLnRhcE91dHB1dEl0ZXJhYmxlKHJ1bk1hbmFnZXIucnVuSWQsIGl0ZXJhdG9yKTtcblx0XHRcdGNvbnN0IHN0cmVhbUxvZ0hhbmRsZXIgPSBydW5NYW5hZ2VyPy5oYW5kbGVycy5maW5kKGlzTG9nU3RyZWFtSGFuZGxlcik7XG5cdFx0XHRpZiAoc3RyZWFtTG9nSGFuZGxlciAhPT0gdm9pZCAwICYmIHJ1bk1hbmFnZXIgIT09IHZvaWQgMCkgaXRlcmF0b3IgPSBzdHJlYW1Mb2dIYW5kbGVyLnRhcE91dHB1dEl0ZXJhYmxlKHJ1bk1hbmFnZXIucnVuSWQsIGl0ZXJhdG9yKTtcblx0XHRcdGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgaXRlcmF0b3IpIHtcblx0XHRcdFx0eWllbGQgY2h1bms7XG5cdFx0XHRcdGlmIChmaW5hbE91dHB1dFN1cHBvcnRlZCkgaWYgKGZpbmFsT3V0cHV0ID09PSB2b2lkIDApIGZpbmFsT3V0cHV0ID0gY2h1bms7XG5cdFx0XHRcdGVsc2UgdHJ5IHtcblx0XHRcdFx0XHRmaW5hbE91dHB1dCA9IHRoaXMuX2NvbmNhdE91dHB1dENodW5rcyhmaW5hbE91dHB1dCwgY2h1bmspO1xuXHRcdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0XHRmaW5hbE91dHB1dCA9IHZvaWQgMDtcblx0XHRcdFx0XHRmaW5hbE91dHB1dFN1cHBvcnRlZCA9IGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0YXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FcnJvcihlLCB2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCB7IGlucHV0czogX2NvZXJjZVRvRGljdChmaW5hbElucHV0LCBcImlucHV0XCIpIH0pO1xuXHRcdFx0dGhyb3cgZTtcblx0XHR9XG5cdFx0YXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FbmQoZmluYWxPdXRwdXQgPz8ge30sIHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIHsgaW5wdXRzOiBfY29lcmNlVG9EaWN0KGZpbmFsSW5wdXQsIFwiaW5wdXRcIikgfSk7XG5cdH1cblx0Z2V0R3JhcGgoXykge1xuXHRcdGNvbnN0IGdyYXBoID0gbmV3IEdyYXBoKCk7XG5cdFx0Y29uc3QgaW5wdXROb2RlID0gZ3JhcGguYWRkTm9kZSh7XG5cdFx0XHRuYW1lOiBgJHt0aGlzLmdldE5hbWUoKX1JbnB1dGAsXG5cdFx0XHRzY2hlbWE6IHouYW55KClcblx0XHR9KTtcblx0XHRjb25zdCBydW5uYWJsZU5vZGUgPSBncmFwaC5hZGROb2RlKHRoaXMpO1xuXHRcdGNvbnN0IG91dHB1dE5vZGUgPSBncmFwaC5hZGROb2RlKHtcblx0XHRcdG5hbWU6IGAke3RoaXMuZ2V0TmFtZSgpfU91dHB1dGAsXG5cdFx0XHRzY2hlbWE6IHouYW55KClcblx0XHR9KTtcblx0XHRncmFwaC5hZGRFZGdlKGlucHV0Tm9kZSwgcnVubmFibGVOb2RlKTtcblx0XHRncmFwaC5hZGRFZGdlKHJ1bm5hYmxlTm9kZSwgb3V0cHV0Tm9kZSk7XG5cdFx0cmV0dXJuIGdyYXBoO1xuXHR9XG5cdC8qKlxuXHQqIENyZWF0ZSBhIG5ldyBydW5uYWJsZSBzZXF1ZW5jZSB0aGF0IHJ1bnMgZWFjaCBpbmRpdmlkdWFsIHJ1bm5hYmxlIGluIHNlcmllcyxcblx0KiBwaXBpbmcgdGhlIG91dHB1dCBvZiBvbmUgcnVubmFibGUgaW50byBhbm90aGVyIHJ1bm5hYmxlIG9yIHJ1bm5hYmxlLWxpa2UuXG5cdCogQHBhcmFtIGNvZXJjZWFibGUgQSBydW5uYWJsZSwgZnVuY3Rpb24sIG9yIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIGZ1bmN0aW9ucyBvciBydW5uYWJsZXMuXG5cdCogQHJldHVybnMgQSBuZXcgcnVubmFibGUgc2VxdWVuY2UuXG5cdCovXG5cdHBpcGUoY29lcmNlYWJsZSkge1xuXHRcdHJldHVybiBuZXcgUnVubmFibGVTZXF1ZW5jZSh7XG5cdFx0XHRmaXJzdDogdGhpcyxcblx0XHRcdGxhc3Q6IF9jb2VyY2VUb1J1bm5hYmxlKGNvZXJjZWFibGUpXG5cdFx0fSk7XG5cdH1cblx0LyoqXG5cdCogUGljayBrZXlzIGZyb20gdGhlIGRpY3Qgb3V0cHV0IG9mIHRoaXMgcnVubmFibGUuIFJldHVybnMgYSBuZXcgcnVubmFibGUuXG5cdCovXG5cdHBpY2soa2V5cykge1xuXHRcdHJldHVybiB0aGlzLnBpcGUobmV3IFJ1bm5hYmxlUGljayhrZXlzKSk7XG5cdH1cblx0LyoqXG5cdCogQXNzaWducyBuZXcgZmllbGRzIHRvIHRoZSBkaWN0IG91dHB1dCBvZiB0aGlzIHJ1bm5hYmxlLiBSZXR1cm5zIGEgbmV3IHJ1bm5hYmxlLlxuXHQqL1xuXHRhc3NpZ24obWFwcGluZykge1xuXHRcdHJldHVybiB0aGlzLnBpcGUobmV3IFJ1bm5hYmxlQXNzaWduKG5ldyBSdW5uYWJsZU1hcCh7IHN0ZXBzOiBtYXBwaW5nIH0pKSk7XG5cdH1cblx0LyoqXG5cdCogRGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBvZiB0cmFuc2Zvcm0sIHdoaWNoIGJ1ZmZlcnMgaW5wdXQgYW5kIHRoZW4gY2FsbHMgc3RyZWFtLlxuXHQqIFN1YmNsYXNzZXMgc2hvdWxkIG92ZXJyaWRlIHRoaXMgbWV0aG9kIGlmIHRoZXkgY2FuIHN0YXJ0IHByb2R1Y2luZyBvdXRwdXQgd2hpbGVcblx0KiBpbnB1dCBpcyBzdGlsbCBiZWluZyBnZW5lcmF0ZWQuXG5cdCogQHBhcmFtIGdlbmVyYXRvclxuXHQqIEBwYXJhbSBvcHRpb25zXG5cdCovXG5cdGFzeW5jICp0cmFuc2Zvcm0oZ2VuZXJhdG9yLCBvcHRpb25zKSB7XG5cdFx0bGV0IGZpbmFsQ2h1bms7XG5cdFx0Zm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBnZW5lcmF0b3IpIGlmIChmaW5hbENodW5rID09PSB2b2lkIDApIGZpbmFsQ2h1bmsgPSBjaHVuaztcblx0XHRlbHNlIGZpbmFsQ2h1bmsgPSB0aGlzLl9jb25jYXRPdXRwdXRDaHVua3MoZmluYWxDaHVuaywgY2h1bmspO1xuXHRcdHlpZWxkKiB0aGlzLl9zdHJlYW1JdGVyYXRvcihmaW5hbENodW5rLCBlbnN1cmVDb25maWcob3B0aW9ucykpO1xuXHR9XG5cdC8qKlxuXHQqIFN0cmVhbSBhbGwgb3V0cHV0IGZyb20gYSBydW5uYWJsZSwgYXMgcmVwb3J0ZWQgdG8gdGhlIGNhbGxiYWNrIHN5c3RlbS5cblx0KiBUaGlzIGluY2x1ZGVzIGFsbCBpbm5lciBydW5zIG9mIExMTXMsIFJldHJpZXZlcnMsIFRvb2xzLCBldGMuXG5cdCogT3V0cHV0IGlzIHN0cmVhbWVkIGFzIExvZyBvYmplY3RzLCB3aGljaCBpbmNsdWRlIGEgbGlzdCBvZlxuXHQqIGpzb25wYXRjaCBvcHMgdGhhdCBkZXNjcmliZSBob3cgdGhlIHN0YXRlIG9mIHRoZSBydW4gaGFzIGNoYW5nZWQgaW4gZWFjaFxuXHQqIHN0ZXAsIGFuZCB0aGUgZmluYWwgc3RhdGUgb2YgdGhlIHJ1bi5cblx0KiBUaGUganNvbnBhdGNoIG9wcyBjYW4gYmUgYXBwbGllZCBpbiBvcmRlciB0byBjb25zdHJ1Y3Qgc3RhdGUuXG5cdCogQHBhcmFtIGlucHV0XG5cdCogQHBhcmFtIG9wdGlvbnNcblx0KiBAcGFyYW0gc3RyZWFtT3B0aW9uc1xuXHQqL1xuXHRhc3luYyAqc3RyZWFtTG9nKGlucHV0LCBvcHRpb25zLCBzdHJlYW1PcHRpb25zKSB7XG5cdFx0Y29uc3QgbG9nU3RyZWFtQ2FsbGJhY2tIYW5kbGVyID0gbmV3IExvZ1N0cmVhbUNhbGxiYWNrSGFuZGxlcih7XG5cdFx0XHQuLi5zdHJlYW1PcHRpb25zLFxuXHRcdFx0YXV0b0Nsb3NlOiBmYWxzZSxcblx0XHRcdF9zY2hlbWFGb3JtYXQ6IFwib3JpZ2luYWxcIlxuXHRcdH0pO1xuXHRcdGNvbnN0IGNvbmZpZyA9IGVuc3VyZUNvbmZpZyhvcHRpb25zKTtcblx0XHR5aWVsZCogdGhpcy5fc3RyZWFtTG9nKGlucHV0LCBsb2dTdHJlYW1DYWxsYmFja0hhbmRsZXIsIGNvbmZpZyk7XG5cdH1cblx0YXN5bmMgKl9zdHJlYW1Mb2coaW5wdXQsIGxvZ1N0cmVhbUNhbGxiYWNrSGFuZGxlciwgY29uZmlnKSB7XG5cdFx0Y29uc3QgeyBjYWxsYmFja3MgfSA9IGNvbmZpZztcblx0XHRpZiAoY2FsbGJhY2tzID09PSB2b2lkIDApIGNvbmZpZy5jYWxsYmFja3MgPSBbbG9nU3RyZWFtQ2FsbGJhY2tIYW5kbGVyXTtcblx0XHRlbHNlIGlmIChBcnJheS5pc0FycmF5KGNhbGxiYWNrcykpIGNvbmZpZy5jYWxsYmFja3MgPSBjYWxsYmFja3MuY29uY2F0KFtsb2dTdHJlYW1DYWxsYmFja0hhbmRsZXJdKTtcblx0XHRlbHNlIHtcblx0XHRcdGNvbnN0IGNvcGllZENhbGxiYWNrcyA9IGNhbGxiYWNrcy5jb3B5KCk7XG5cdFx0XHRjb3BpZWRDYWxsYmFja3MuYWRkSGFuZGxlcihsb2dTdHJlYW1DYWxsYmFja0hhbmRsZXIsIHRydWUpO1xuXHRcdFx0Y29uZmlnLmNhbGxiYWNrcyA9IGNvcGllZENhbGxiYWNrcztcblx0XHR9XG5cdFx0Y29uc3QgcnVubmFibGVTdHJlYW1Qcm9taXNlID0gdGhpcy5zdHJlYW0oaW5wdXQsIGNvbmZpZyk7XG5cdFx0YXN5bmMgZnVuY3Rpb24gY29uc3VtZVJ1bm5hYmxlU3RyZWFtKCkge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29uc3QgcnVubmFibGVTdHJlYW0gPSBhd2FpdCBydW5uYWJsZVN0cmVhbVByb21pc2U7XG5cdFx0XHRcdGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgcnVubmFibGVTdHJlYW0pIHtcblx0XHRcdFx0XHRjb25zdCBwYXRjaCA9IG5ldyBSdW5Mb2dQYXRjaCh7IG9wczogW3tcblx0XHRcdFx0XHRcdG9wOiBcImFkZFwiLFxuXHRcdFx0XHRcdFx0cGF0aDogXCIvc3RyZWFtZWRfb3V0cHV0Ly1cIixcblx0XHRcdFx0XHRcdHZhbHVlOiBjaHVua1xuXHRcdFx0XHRcdH1dIH0pO1xuXHRcdFx0XHRcdGF3YWl0IGxvZ1N0cmVhbUNhbGxiYWNrSGFuZGxlci53cml0ZXIud3JpdGUocGF0Y2gpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGZpbmFsbHkge1xuXHRcdFx0XHRhd2FpdCBsb2dTdHJlYW1DYWxsYmFja0hhbmRsZXIud3JpdGVyLmNsb3NlKCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGNvbnN0IHJ1bm5hYmxlU3RyZWFtQ29uc3VtZVByb21pc2UgPSBjb25zdW1lUnVubmFibGVTdHJlYW0oKTtcblx0XHR0cnkge1xuXHRcdFx0Zm9yIGF3YWl0IChjb25zdCBsb2cgb2YgbG9nU3RyZWFtQ2FsbGJhY2tIYW5kbGVyKSB5aWVsZCBsb2c7XG5cdFx0fSBmaW5hbGx5IHtcblx0XHRcdGF3YWl0IHJ1bm5hYmxlU3RyZWFtQ29uc3VtZVByb21pc2U7XG5cdFx0fVxuXHR9XG5cdHN0cmVhbUV2ZW50cyhpbnB1dCwgb3B0aW9ucywgc3RyZWFtT3B0aW9ucykge1xuXHRcdGxldCBzdHJlYW07XG5cdFx0aWYgKG9wdGlvbnMudmVyc2lvbiA9PT0gXCJ2MVwiKSBzdHJlYW0gPSB0aGlzLl9zdHJlYW1FdmVudHNWMShpbnB1dCwgb3B0aW9ucywgc3RyZWFtT3B0aW9ucyk7XG5cdFx0ZWxzZSBpZiAob3B0aW9ucy52ZXJzaW9uID09PSBcInYyXCIpIHN0cmVhbSA9IHRoaXMuX3N0cmVhbUV2ZW50c1YyKGlucHV0LCBvcHRpb25zLCBzdHJlYW1PcHRpb25zKTtcblx0XHRlbHNlIHRocm93IG5ldyBFcnJvcihgT25seSB2ZXJzaW9ucyBcInYxXCIgYW5kIFwidjJcIiBvZiB0aGUgc2NoZW1hIGFyZSBjdXJyZW50bHkgc3VwcG9ydGVkLmApO1xuXHRcdGlmIChvcHRpb25zLmVuY29kaW5nID09PSBcInRleHQvZXZlbnQtc3RyZWFtXCIpIHJldHVybiBjb252ZXJ0VG9IdHRwRXZlbnRTdHJlYW0oc3RyZWFtKTtcblx0XHRlbHNlIHJldHVybiBJdGVyYWJsZVJlYWRhYmxlU3RyZWFtLmZyb21Bc3luY0dlbmVyYXRvcihzdHJlYW0pO1xuXHR9XG5cdGFzeW5jICpfc3RyZWFtRXZlbnRzVjIoaW5wdXQsIG9wdGlvbnMsIHN0cmVhbU9wdGlvbnMpIHtcblx0XHRjb25zdCBldmVudFN0cmVhbWVyID0gbmV3IEV2ZW50U3RyZWFtQ2FsbGJhY2tIYW5kbGVyKHtcblx0XHRcdC4uLnN0cmVhbU9wdGlvbnMsXG5cdFx0XHRhdXRvQ2xvc2U6IGZhbHNlXG5cdFx0fSk7XG5cdFx0Y29uc3QgY29uZmlnID0gZW5zdXJlQ29uZmlnKG9wdGlvbnMpO1xuXHRcdGNvbnN0IHJ1bklkID0gY29uZmlnLnJ1bklkID8/IHY0KCk7XG5cdFx0Y29uZmlnLnJ1bklkID0gcnVuSWQ7XG5cdFx0Y29uc3QgY2FsbGJhY2tzID0gY29uZmlnLmNhbGxiYWNrcztcblx0XHRpZiAoY2FsbGJhY2tzID09PSB2b2lkIDApIGNvbmZpZy5jYWxsYmFja3MgPSBbZXZlbnRTdHJlYW1lcl07XG5cdFx0ZWxzZSBpZiAoQXJyYXkuaXNBcnJheShjYWxsYmFja3MpKSBjb25maWcuY2FsbGJhY2tzID0gY2FsbGJhY2tzLmNvbmNhdChldmVudFN0cmVhbWVyKTtcblx0XHRlbHNlIHtcblx0XHRcdGNvbnN0IGNvcGllZENhbGxiYWNrcyA9IGNhbGxiYWNrcy5jb3B5KCk7XG5cdFx0XHRjb3BpZWRDYWxsYmFja3MuYWRkSGFuZGxlcihldmVudFN0cmVhbWVyLCB0cnVlKTtcblx0XHRcdGNvbmZpZy5jYWxsYmFja3MgPSBjb3BpZWRDYWxsYmFja3M7XG5cdFx0fVxuXHRcdGNvbnN0IGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcblx0XHRjb25zdCBvdXRlclRoaXMgPSB0aGlzO1xuXHRcdGFzeW5jIGZ1bmN0aW9uIGNvbnN1bWVSdW5uYWJsZVN0cmVhbSgpIHtcblx0XHRcdGxldCBzaWduYWw7XG5cdFx0XHRsZXQgbGlzdGVuZXIgPSBudWxsO1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0aWYgKG9wdGlvbnM/LnNpZ25hbCkgaWYgKFwiYW55XCIgaW4gQWJvcnRTaWduYWwpIHNpZ25hbCA9IEFib3J0U2lnbmFsLmFueShbYWJvcnRDb250cm9sbGVyLnNpZ25hbCwgb3B0aW9ucy5zaWduYWxdKTtcblx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0c2lnbmFsID0gb3B0aW9ucy5zaWduYWw7XG5cdFx0XHRcdFx0bGlzdGVuZXIgPSAoKSA9PiB7XG5cdFx0XHRcdFx0XHRhYm9ydENvbnRyb2xsZXIuYWJvcnQoKTtcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdG9wdGlvbnMuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBsaXN0ZW5lciwgeyBvbmNlOiB0cnVlIH0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Ugc2lnbmFsID0gYWJvcnRDb250cm9sbGVyLnNpZ25hbDtcblx0XHRcdFx0Y29uc3QgcnVubmFibGVTdHJlYW0gPSBhd2FpdCBvdXRlclRoaXMuc3RyZWFtKGlucHV0LCB7XG5cdFx0XHRcdFx0Li4uY29uZmlnLFxuXHRcdFx0XHRcdHNpZ25hbFxuXHRcdFx0XHR9KTtcblx0XHRcdFx0Y29uc3QgdGFwcGVkU3RyZWFtID0gZXZlbnRTdHJlYW1lci50YXBPdXRwdXRJdGVyYWJsZShydW5JZCwgcnVubmFibGVTdHJlYW0pO1xuXHRcdFx0XHRmb3IgYXdhaXQgKGNvbnN0IF8gb2YgdGFwcGVkU3RyZWFtKSBpZiAoYWJvcnRDb250cm9sbGVyLnNpZ25hbC5hYm9ydGVkKSBicmVhaztcblx0XHRcdH0gZmluYWxseSB7XG5cdFx0XHRcdGF3YWl0IGV2ZW50U3RyZWFtZXIuZmluaXNoKCk7XG5cdFx0XHRcdGlmIChzaWduYWwgJiYgbGlzdGVuZXIpIHNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgbGlzdGVuZXIpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRjb25zdCBydW5uYWJsZVN0cmVhbUNvbnN1bWVQcm9taXNlID0gY29uc3VtZVJ1bm5hYmxlU3RyZWFtKCk7XG5cdFx0bGV0IGZpcnN0RXZlbnRTZW50ID0gZmFsc2U7XG5cdFx0bGV0IGZpcnN0RXZlbnRSdW5JZDtcblx0XHR0cnkge1xuXHRcdFx0Zm9yIGF3YWl0IChjb25zdCBldmVudCBvZiBldmVudFN0cmVhbWVyKSB7XG5cdFx0XHRcdGlmICghZmlyc3RFdmVudFNlbnQpIHtcblx0XHRcdFx0XHRldmVudC5kYXRhLmlucHV0ID0gaW5wdXQ7XG5cdFx0XHRcdFx0Zmlyc3RFdmVudFNlbnQgPSB0cnVlO1xuXHRcdFx0XHRcdGZpcnN0RXZlbnRSdW5JZCA9IGV2ZW50LnJ1bl9pZDtcblx0XHRcdFx0XHR5aWVsZCBldmVudDtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoZXZlbnQucnVuX2lkID09PSBmaXJzdEV2ZW50UnVuSWQgJiYgZXZlbnQuZXZlbnQuZW5kc1dpdGgoXCJfZW5kXCIpKSB7XG5cdFx0XHRcdFx0aWYgKGV2ZW50LmRhdGE/LmlucHV0KSBkZWxldGUgZXZlbnQuZGF0YS5pbnB1dDtcblx0XHRcdFx0fVxuXHRcdFx0XHR5aWVsZCBldmVudDtcblx0XHRcdH1cblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0YWJvcnRDb250cm9sbGVyLmFib3J0KCk7XG5cdFx0XHRhd2FpdCBydW5uYWJsZVN0cmVhbUNvbnN1bWVQcm9taXNlO1xuXHRcdH1cblx0fVxuXHRhc3luYyAqX3N0cmVhbUV2ZW50c1YxKGlucHV0LCBvcHRpb25zLCBzdHJlYW1PcHRpb25zKSB7XG5cdFx0bGV0IHJ1bkxvZztcblx0XHRsZXQgaGFzRW5jb3VudGVyZWRTdGFydEV2ZW50ID0gZmFsc2U7XG5cdFx0Y29uc3QgY29uZmlnID0gZW5zdXJlQ29uZmlnKG9wdGlvbnMpO1xuXHRcdGNvbnN0IHJvb3RUYWdzID0gY29uZmlnLnRhZ3MgPz8gW107XG5cdFx0Y29uc3Qgcm9vdE1ldGFkYXRhID0gY29uZmlnLm1ldGFkYXRhID8/IHt9O1xuXHRcdGNvbnN0IHJvb3ROYW1lID0gY29uZmlnLnJ1bk5hbWUgPz8gdGhpcy5nZXROYW1lKCk7XG5cdFx0Y29uc3QgbG9nU3RyZWFtQ2FsbGJhY2tIYW5kbGVyID0gbmV3IExvZ1N0cmVhbUNhbGxiYWNrSGFuZGxlcih7XG5cdFx0XHQuLi5zdHJlYW1PcHRpb25zLFxuXHRcdFx0YXV0b0Nsb3NlOiBmYWxzZSxcblx0XHRcdF9zY2hlbWFGb3JtYXQ6IFwic3RyZWFtaW5nX2V2ZW50c1wiXG5cdFx0fSk7XG5cdFx0Y29uc3Qgcm9vdEV2ZW50RmlsdGVyID0gbmV3IF9Sb290RXZlbnRGaWx0ZXIoeyAuLi5zdHJlYW1PcHRpb25zIH0pO1xuXHRcdGNvbnN0IGxvZ1N0cmVhbSA9IHRoaXMuX3N0cmVhbUxvZyhpbnB1dCwgbG9nU3RyZWFtQ2FsbGJhY2tIYW5kbGVyLCBjb25maWcpO1xuXHRcdGZvciBhd2FpdCAoY29uc3QgbG9nIG9mIGxvZ1N0cmVhbSkge1xuXHRcdFx0aWYgKCFydW5Mb2cpIHJ1bkxvZyA9IFJ1bkxvZy5mcm9tUnVuTG9nUGF0Y2gobG9nKTtcblx0XHRcdGVsc2UgcnVuTG9nID0gcnVuTG9nLmNvbmNhdChsb2cpO1xuXHRcdFx0aWYgKHJ1bkxvZy5zdGF0ZSA9PT0gdm9pZCAwKSB0aHJvdyBuZXcgRXJyb3IoYEludGVybmFsIGVycm9yOiBcInN0cmVhbUV2ZW50c1wiIHN0YXRlIGlzIG1pc3NpbmcuIFBsZWFzZSBvcGVuIGEgYnVnIHJlcG9ydC5gKTtcblx0XHRcdGlmICghaGFzRW5jb3VudGVyZWRTdGFydEV2ZW50KSB7XG5cdFx0XHRcdGhhc0VuY291bnRlcmVkU3RhcnRFdmVudCA9IHRydWU7XG5cdFx0XHRcdGNvbnN0IHN0YXRlJDIgPSB7IC4uLnJ1bkxvZy5zdGF0ZSB9O1xuXHRcdFx0XHRjb25zdCBldmVudCA9IHtcblx0XHRcdFx0XHRydW5faWQ6IHN0YXRlJDIuaWQsXG5cdFx0XHRcdFx0ZXZlbnQ6IGBvbl8ke3N0YXRlJDIudHlwZX1fc3RhcnRgLFxuXHRcdFx0XHRcdG5hbWU6IHJvb3ROYW1lLFxuXHRcdFx0XHRcdHRhZ3M6IHJvb3RUYWdzLFxuXHRcdFx0XHRcdG1ldGFkYXRhOiByb290TWV0YWRhdGEsXG5cdFx0XHRcdFx0ZGF0YTogeyBpbnB1dCB9XG5cdFx0XHRcdH07XG5cdFx0XHRcdGlmIChyb290RXZlbnRGaWx0ZXIuaW5jbHVkZUV2ZW50KGV2ZW50LCBzdGF0ZSQyLnR5cGUpKSB5aWVsZCBldmVudDtcblx0XHRcdH1cblx0XHRcdGNvbnN0IHBhdGhzID0gbG9nLm9wcy5maWx0ZXIoKG9wKSA9PiBvcC5wYXRoLnN0YXJ0c1dpdGgoXCIvbG9ncy9cIikpLm1hcCgob3ApID0+IG9wLnBhdGguc3BsaXQoXCIvXCIpWzJdKTtcblx0XHRcdGNvbnN0IGRlZHVwZWRQYXRocyA9IFsuLi5uZXcgU2V0KHBhdGhzKV07XG5cdFx0XHRmb3IgKGNvbnN0IHBhdGggb2YgZGVkdXBlZFBhdGhzKSB7XG5cdFx0XHRcdGxldCBldmVudFR5cGU7XG5cdFx0XHRcdGxldCBkYXRhID0ge307XG5cdFx0XHRcdGNvbnN0IGxvZ0VudHJ5ID0gcnVuTG9nLnN0YXRlLmxvZ3NbcGF0aF07XG5cdFx0XHRcdGlmIChsb2dFbnRyeS5lbmRfdGltZSA9PT0gdm9pZCAwKSBpZiAobG9nRW50cnkuc3RyZWFtZWRfb3V0cHV0Lmxlbmd0aCA+IDApIGV2ZW50VHlwZSA9IFwic3RyZWFtXCI7XG5cdFx0XHRcdGVsc2UgZXZlbnRUeXBlID0gXCJzdGFydFwiO1xuXHRcdFx0XHRlbHNlIGV2ZW50VHlwZSA9IFwiZW5kXCI7XG5cdFx0XHRcdGlmIChldmVudFR5cGUgPT09IFwic3RhcnRcIikge1xuXHRcdFx0XHRcdGlmIChsb2dFbnRyeS5pbnB1dHMgIT09IHZvaWQgMCkgZGF0YS5pbnB1dCA9IGxvZ0VudHJ5LmlucHV0cztcblx0XHRcdFx0fSBlbHNlIGlmIChldmVudFR5cGUgPT09IFwiZW5kXCIpIHtcblx0XHRcdFx0XHRpZiAobG9nRW50cnkuaW5wdXRzICE9PSB2b2lkIDApIGRhdGEuaW5wdXQgPSBsb2dFbnRyeS5pbnB1dHM7XG5cdFx0XHRcdFx0ZGF0YS5vdXRwdXQgPSBsb2dFbnRyeS5maW5hbF9vdXRwdXQ7XG5cdFx0XHRcdH0gZWxzZSBpZiAoZXZlbnRUeXBlID09PSBcInN0cmVhbVwiKSB7XG5cdFx0XHRcdFx0Y29uc3QgY2h1bmtDb3VudCA9IGxvZ0VudHJ5LnN0cmVhbWVkX291dHB1dC5sZW5ndGg7XG5cdFx0XHRcdFx0aWYgKGNodW5rQ291bnQgIT09IDEpIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgZXhhY3RseSBvbmUgY2h1bmsgb2Ygc3RyZWFtZWQgb3V0cHV0LCBnb3QgJHtjaHVua0NvdW50fSBpbnN0ZWFkLiBFbmNvdW50ZXJlZCBpbjogXCIke2xvZ0VudHJ5Lm5hbWV9XCJgKTtcblx0XHRcdFx0XHRkYXRhID0geyBjaHVuazogbG9nRW50cnkuc3RyZWFtZWRfb3V0cHV0WzBdIH07XG5cdFx0XHRcdFx0bG9nRW50cnkuc3RyZWFtZWRfb3V0cHV0ID0gW107XG5cdFx0XHRcdH1cblx0XHRcdFx0eWllbGQge1xuXHRcdFx0XHRcdGV2ZW50OiBgb25fJHtsb2dFbnRyeS50eXBlfV8ke2V2ZW50VHlwZX1gLFxuXHRcdFx0XHRcdG5hbWU6IGxvZ0VudHJ5Lm5hbWUsXG5cdFx0XHRcdFx0cnVuX2lkOiBsb2dFbnRyeS5pZCxcblx0XHRcdFx0XHR0YWdzOiBsb2dFbnRyeS50YWdzLFxuXHRcdFx0XHRcdG1ldGFkYXRhOiBsb2dFbnRyeS5tZXRhZGF0YSxcblx0XHRcdFx0XHRkYXRhXG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cdFx0XHRjb25zdCB7IHN0YXRlOiBzdGF0ZSQxIH0gPSBydW5Mb2c7XG5cdFx0XHRpZiAoc3RhdGUkMS5zdHJlYW1lZF9vdXRwdXQubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRjb25zdCBjaHVua0NvdW50ID0gc3RhdGUkMS5zdHJlYW1lZF9vdXRwdXQubGVuZ3RoO1xuXHRcdFx0XHRpZiAoY2h1bmtDb3VudCAhPT0gMSkgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBleGFjdGx5IG9uZSBjaHVuayBvZiBzdHJlYW1lZCBvdXRwdXQsIGdvdCAke2NodW5rQ291bnR9IGluc3RlYWQuIEVuY291bnRlcmVkIGluOiBcIiR7c3RhdGUkMS5uYW1lfVwiYCk7XG5cdFx0XHRcdGNvbnN0IGRhdGEgPSB7IGNodW5rOiBzdGF0ZSQxLnN0cmVhbWVkX291dHB1dFswXSB9O1xuXHRcdFx0XHRzdGF0ZSQxLnN0cmVhbWVkX291dHB1dCA9IFtdO1xuXHRcdFx0XHRjb25zdCBldmVudCA9IHtcblx0XHRcdFx0XHRldmVudDogYG9uXyR7c3RhdGUkMS50eXBlfV9zdHJlYW1gLFxuXHRcdFx0XHRcdHJ1bl9pZDogc3RhdGUkMS5pZCxcblx0XHRcdFx0XHR0YWdzOiByb290VGFncyxcblx0XHRcdFx0XHRtZXRhZGF0YTogcm9vdE1ldGFkYXRhLFxuXHRcdFx0XHRcdG5hbWU6IHJvb3ROYW1lLFxuXHRcdFx0XHRcdGRhdGFcblx0XHRcdFx0fTtcblx0XHRcdFx0aWYgKHJvb3RFdmVudEZpbHRlci5pbmNsdWRlRXZlbnQoZXZlbnQsIHN0YXRlJDEudHlwZSkpIHlpZWxkIGV2ZW50O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRjb25zdCBzdGF0ZSA9IHJ1bkxvZz8uc3RhdGU7XG5cdFx0aWYgKHN0YXRlICE9PSB2b2lkIDApIHtcblx0XHRcdGNvbnN0IGV2ZW50ID0ge1xuXHRcdFx0XHRldmVudDogYG9uXyR7c3RhdGUudHlwZX1fZW5kYCxcblx0XHRcdFx0bmFtZTogcm9vdE5hbWUsXG5cdFx0XHRcdHJ1bl9pZDogc3RhdGUuaWQsXG5cdFx0XHRcdHRhZ3M6IHJvb3RUYWdzLFxuXHRcdFx0XHRtZXRhZGF0YTogcm9vdE1ldGFkYXRhLFxuXHRcdFx0XHRkYXRhOiB7IG91dHB1dDogc3RhdGUuZmluYWxfb3V0cHV0IH1cblx0XHRcdH07XG5cdFx0XHRpZiAocm9vdEV2ZW50RmlsdGVyLmluY2x1ZGVFdmVudChldmVudCwgc3RhdGUudHlwZSkpIHlpZWxkIGV2ZW50O1xuXHRcdH1cblx0fVxuXHRzdGF0aWMgaXNSdW5uYWJsZSh0aGluZykge1xuXHRcdHJldHVybiBpc1J1bm5hYmxlSW50ZXJmYWNlKHRoaW5nKTtcblx0fVxuXHQvKipcblx0KiBCaW5kIGxpZmVjeWNsZSBsaXN0ZW5lcnMgdG8gYSBSdW5uYWJsZSwgcmV0dXJuaW5nIGEgbmV3IFJ1bm5hYmxlLlxuXHQqIFRoZSBSdW4gb2JqZWN0IGNvbnRhaW5zIGluZm9ybWF0aW9uIGFib3V0IHRoZSBydW4sIGluY2x1ZGluZyBpdHMgaWQsXG5cdCogdHlwZSwgaW5wdXQsIG91dHB1dCwgZXJyb3IsIHN0YXJ0VGltZSwgZW5kVGltZSwgYW5kIGFueSB0YWdzIG9yIG1ldGFkYXRhXG5cdCogYWRkZWQgdG8gdGhlIHJ1bi5cblx0KlxuXHQqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgLSBUaGUgb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGNhbGxiYWNrIGZ1bmN0aW9ucy5cblx0KiBAcGFyYW0geyhydW46IFJ1bikgPT4gdm9pZH0gcGFyYW1zLm9uU3RhcnQgLSBDYWxsZWQgYmVmb3JlIHRoZSBydW5uYWJsZSBzdGFydHMgcnVubmluZywgd2l0aCB0aGUgUnVuIG9iamVjdC5cblx0KiBAcGFyYW0geyhydW46IFJ1bikgPT4gdm9pZH0gcGFyYW1zLm9uRW5kIC0gQ2FsbGVkIGFmdGVyIHRoZSBydW5uYWJsZSBmaW5pc2hlcyBydW5uaW5nLCB3aXRoIHRoZSBSdW4gb2JqZWN0LlxuXHQqIEBwYXJhbSB7KHJ1bjogUnVuKSA9PiB2b2lkfSBwYXJhbXMub25FcnJvciAtIENhbGxlZCBpZiB0aGUgcnVubmFibGUgdGhyb3dzIGFuIGVycm9yLCB3aXRoIHRoZSBSdW4gb2JqZWN0LlxuXHQqL1xuXHR3aXRoTGlzdGVuZXJzKHsgb25TdGFydCwgb25FbmQsIG9uRXJyb3IgfSkge1xuXHRcdHJldHVybiBuZXcgUnVubmFibGVCaW5kaW5nKHtcblx0XHRcdGJvdW5kOiB0aGlzLFxuXHRcdFx0Y29uZmlnOiB7fSxcblx0XHRcdGNvbmZpZ0ZhY3RvcmllczogWyhjb25maWcpID0+ICh7IGNhbGxiYWNrczogW25ldyBSb290TGlzdGVuZXJzVHJhY2VyKHtcblx0XHRcdFx0Y29uZmlnLFxuXHRcdFx0XHRvblN0YXJ0LFxuXHRcdFx0XHRvbkVuZCxcblx0XHRcdFx0b25FcnJvclxuXHRcdFx0fSldIH0pXVxuXHRcdH0pO1xuXHR9XG5cdC8qKlxuXHQqIENvbnZlcnQgYSBydW5uYWJsZSB0byBhIHRvb2wuIFJldHVybiBhIG5ldyBpbnN0YW5jZSBvZiBgUnVubmFibGVUb29sTGlrZWBcblx0KiB3aGljaCBjb250YWlucyB0aGUgcnVubmFibGUsIG5hbWUsIGRlc2NyaXB0aW9uIGFuZCBzY2hlbWEuXG5cdCpcblx0KiBAdGVtcGxhdGUge1QgZXh0ZW5kcyBSdW5JbnB1dCA9IFJ1bklucHV0fSBSdW5JbnB1dCAtIFRoZSBpbnB1dCB0eXBlIG9mIHRoZSBydW5uYWJsZS4gU2hvdWxkIGJlIHRoZSBzYW1lIGFzIHRoZSBgUnVuSW5wdXRgIHR5cGUgb2YgdGhlIHJ1bm5hYmxlLlxuXHQqXG5cdCogQHBhcmFtIGZpZWxkc1xuXHQqIEBwYXJhbSB7c3RyaW5nIHwgdW5kZWZpbmVkfSBbZmllbGRzLm5hbWVdIFRoZSBuYW1lIG9mIHRoZSB0b29sLiBJZiBub3QgcHJvdmlkZWQsIGl0IHdpbGwgZGVmYXVsdCB0byB0aGUgbmFtZSBvZiB0aGUgcnVubmFibGUuXG5cdCogQHBhcmFtIHtzdHJpbmcgfCB1bmRlZmluZWR9IFtmaWVsZHMuZGVzY3JpcHRpb25dIFRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgdG9vbC4gRmFsbHMgYmFjayB0byB0aGUgZGVzY3JpcHRpb24gb24gdGhlIFpvZCBzY2hlbWEgaWYgbm90IHByb3ZpZGVkLCBvciB1bmRlZmluZWQgaWYgbmVpdGhlciBhcmUgcHJvdmlkZWQuXG5cdCogQHBhcmFtIHt6LlpvZFR5cGU8VD59IFtmaWVsZHMuc2NoZW1hXSBUaGUgWm9kIHNjaGVtYSBmb3IgdGhlIGlucHV0IG9mIHRoZSB0b29sLiBJbmZlcnMgdGhlIFpvZCB0eXBlIGZyb20gdGhlIGlucHV0IHR5cGUgb2YgdGhlIHJ1bm5hYmxlLlxuXHQqIEByZXR1cm5zIHtSdW5uYWJsZVRvb2xMaWtlPHouWm9kVHlwZTxUPiwgUnVuT3V0cHV0Pn0gQW4gaW5zdGFuY2Ugb2YgYFJ1bm5hYmxlVG9vbExpa2VgIHdoaWNoIGlzIGEgcnVubmFibGUgdGhhdCBjYW4gYmUgdXNlZCBhcyBhIHRvb2wuXG5cdCovXG5cdGFzVG9vbChmaWVsZHMpIHtcblx0XHRyZXR1cm4gY29udmVydFJ1bm5hYmxlVG9Ub29sKHRoaXMsIGZpZWxkcyk7XG5cdH1cbn07XG4vKipcbiogV3JhcHMgYSBydW5uYWJsZSBhbmQgYXBwbGllcyBwYXJ0aWFsIGNvbmZpZyB1cG9uIGludm9jYXRpb24uXG4qXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogaW1wb3J0IHtcbiogICB0eXBlIFJ1bm5hYmxlQ29uZmlnLFxuKiAgIFJ1bm5hYmxlTGFtYmRhLFxuKiB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvcnVubmFibGVzXCI7XG4qXG4qIGNvbnN0IGVuaGFuY2VQcm9maWxlID0gKFxuKiAgIHByb2ZpbGU6IFJlY29yZDxzdHJpbmcsIGFueT4sXG4qICAgY29uZmlnPzogUnVubmFibGVDb25maWdcbiogKSA9PiB7XG4qICAgaWYgKGNvbmZpZz8uY29uZmlndXJhYmxlPy5yb2xlKSB7XG4qICAgICByZXR1cm4geyAuLi5wcm9maWxlLCByb2xlOiBjb25maWcuY29uZmlndXJhYmxlLnJvbGUgfTtcbiogICB9XG4qICAgcmV0dXJuIHByb2ZpbGU7XG4qIH07XG4qXG4qIGNvbnN0IHJ1bm5hYmxlID0gUnVubmFibGVMYW1iZGEuZnJvbShlbmhhbmNlUHJvZmlsZSk7XG4qXG4qIC8vIEJpbmQgY29uZmlndXJhdGlvbiB0byB0aGUgcnVubmFibGUgdG8gc2V0IHRoZSB1c2VyJ3Mgcm9sZSBkeW5hbWljYWxseVxuKiBjb25zdCBhZG1pblJ1bm5hYmxlID0gcnVubmFibGUud2l0aENvbmZpZyh7IGNvbmZpZ3VyYWJsZTogeyByb2xlOiBcIkFkbWluXCIgfSB9KTtcbiogY29uc3QgdXNlclJ1bm5hYmxlID0gcnVubmFibGUud2l0aENvbmZpZyh7IGNvbmZpZ3VyYWJsZTogeyByb2xlOiBcIlVzZXJcIiB9IH0pO1xuKlxuKiBjb25zdCByZXN1bHQxID0gYXdhaXQgYWRtaW5SdW5uYWJsZS5pbnZva2Uoe1xuKiAgIG5hbWU6IFwiQWxpY2VcIixcbiogICBlbWFpbDogXCJhbGljZUBleGFtcGxlLmNvbVwiXG4qIH0pO1xuKlxuKiAvLyB7IG5hbWU6IFwiQWxpY2VcIiwgZW1haWw6IFwiYWxpY2VAZXhhbXBsZS5jb21cIiwgcm9sZTogXCJBZG1pblwiIH1cbipcbiogY29uc3QgcmVzdWx0MiA9IGF3YWl0IHVzZXJSdW5uYWJsZS5pbnZva2Uoe1xuKiAgIG5hbWU6IFwiQm9iXCIsXG4qICAgZW1haWw6IFwiYm9iQGV4YW1wbGUuY29tXCJcbiogfSk7XG4qXG4qIC8vIHsgbmFtZTogXCJCb2JcIiwgZW1haWw6IFwiYm9iQGV4YW1wbGUuY29tXCIsIHJvbGU6IFwiVXNlclwiIH1cbiogYGBgXG4qL1xudmFyIFJ1bm5hYmxlQmluZGluZyA9IGNsYXNzIFJ1bm5hYmxlQmluZGluZyBleHRlbmRzIFJ1bm5hYmxlIHtcblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiUnVubmFibGVCaW5kaW5nXCI7XG5cdH1cblx0bGNfbmFtZXNwYWNlID0gW1wibGFuZ2NoYWluX2NvcmVcIiwgXCJydW5uYWJsZXNcIl07XG5cdGxjX3NlcmlhbGl6YWJsZSA9IHRydWU7XG5cdGJvdW5kO1xuXHRjb25maWc7XG5cdGt3YXJncztcblx0Y29uZmlnRmFjdG9yaWVzO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRzdXBlcihmaWVsZHMpO1xuXHRcdHRoaXMuYm91bmQgPSBmaWVsZHMuYm91bmQ7XG5cdFx0dGhpcy5rd2FyZ3MgPSBmaWVsZHMua3dhcmdzO1xuXHRcdHRoaXMuY29uZmlnID0gZmllbGRzLmNvbmZpZztcblx0XHR0aGlzLmNvbmZpZ0ZhY3RvcmllcyA9IGZpZWxkcy5jb25maWdGYWN0b3JpZXM7XG5cdH1cblx0Z2V0TmFtZShzdWZmaXgpIHtcblx0XHRyZXR1cm4gdGhpcy5ib3VuZC5nZXROYW1lKHN1ZmZpeCk7XG5cdH1cblx0YXN5bmMgX21lcmdlQ29uZmlnKC4uLm9wdGlvbnMpIHtcblx0XHRjb25zdCBjb25maWcgPSBtZXJnZUNvbmZpZ3ModGhpcy5jb25maWcsIC4uLm9wdGlvbnMpO1xuXHRcdHJldHVybiBtZXJnZUNvbmZpZ3MoY29uZmlnLCAuLi50aGlzLmNvbmZpZ0ZhY3RvcmllcyA/IGF3YWl0IFByb21pc2UuYWxsKHRoaXMuY29uZmlnRmFjdG9yaWVzLm1hcChhc3luYyAoY29uZmlnRmFjdG9yeSkgPT4gYXdhaXQgY29uZmlnRmFjdG9yeShjb25maWcpKSkgOiBbXSk7XG5cdH1cblx0d2l0aENvbmZpZyhjb25maWcpIHtcblx0XHRyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3Ioe1xuXHRcdFx0Ym91bmQ6IHRoaXMuYm91bmQsXG5cdFx0XHRrd2FyZ3M6IHRoaXMua3dhcmdzLFxuXHRcdFx0Y29uZmlnOiB7XG5cdFx0XHRcdC4uLnRoaXMuY29uZmlnLFxuXHRcdFx0XHQuLi5jb25maWdcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXHR3aXRoUmV0cnkoZmllbGRzKSB7XG5cdFx0cmV0dXJuIG5ldyBSdW5uYWJsZVJldHJ5KHtcblx0XHRcdGJvdW5kOiB0aGlzLmJvdW5kLFxuXHRcdFx0a3dhcmdzOiB0aGlzLmt3YXJncyxcblx0XHRcdGNvbmZpZzogdGhpcy5jb25maWcsXG5cdFx0XHRtYXhBdHRlbXB0TnVtYmVyOiBmaWVsZHM/LnN0b3BBZnRlckF0dGVtcHQsXG5cdFx0XHQuLi5maWVsZHNcblx0XHR9KTtcblx0fVxuXHRhc3luYyBpbnZva2UoaW5wdXQsIG9wdGlvbnMpIHtcblx0XHRyZXR1cm4gdGhpcy5ib3VuZC5pbnZva2UoaW5wdXQsIGF3YWl0IHRoaXMuX21lcmdlQ29uZmlnKG9wdGlvbnMsIHRoaXMua3dhcmdzKSk7XG5cdH1cblx0YXN5bmMgYmF0Y2goaW5wdXRzLCBvcHRpb25zLCBiYXRjaE9wdGlvbnMpIHtcblx0XHRjb25zdCBtZXJnZWRPcHRpb25zID0gQXJyYXkuaXNBcnJheShvcHRpb25zKSA/IGF3YWl0IFByb21pc2UuYWxsKG9wdGlvbnMubWFwKGFzeW5jIChpbmRpdmlkdWFsT3B0aW9uKSA9PiB0aGlzLl9tZXJnZUNvbmZpZyhlbnN1cmVDb25maWcoaW5kaXZpZHVhbE9wdGlvbiksIHRoaXMua3dhcmdzKSkpIDogYXdhaXQgdGhpcy5fbWVyZ2VDb25maWcoZW5zdXJlQ29uZmlnKG9wdGlvbnMpLCB0aGlzLmt3YXJncyk7XG5cdFx0cmV0dXJuIHRoaXMuYm91bmQuYmF0Y2goaW5wdXRzLCBtZXJnZWRPcHRpb25zLCBiYXRjaE9wdGlvbnMpO1xuXHR9XG5cdC8qKiBAaW50ZXJuYWwgKi9cblx0X2NvbmNhdE91dHB1dENodW5rcyhmaXJzdCwgc2Vjb25kKSB7XG5cdFx0cmV0dXJuIHRoaXMuYm91bmQuX2NvbmNhdE91dHB1dENodW5rcyhmaXJzdCwgc2Vjb25kKTtcblx0fVxuXHRhc3luYyAqX3N0cmVhbUl0ZXJhdG9yKGlucHV0LCBvcHRpb25zKSB7XG5cdFx0eWllbGQqIHRoaXMuYm91bmQuX3N0cmVhbUl0ZXJhdG9yKGlucHV0LCBhd2FpdCB0aGlzLl9tZXJnZUNvbmZpZyhlbnN1cmVDb25maWcob3B0aW9ucyksIHRoaXMua3dhcmdzKSk7XG5cdH1cblx0YXN5bmMgc3RyZWFtKGlucHV0LCBvcHRpb25zKSB7XG5cdFx0cmV0dXJuIHRoaXMuYm91bmQuc3RyZWFtKGlucHV0LCBhd2FpdCB0aGlzLl9tZXJnZUNvbmZpZyhlbnN1cmVDb25maWcob3B0aW9ucyksIHRoaXMua3dhcmdzKSk7XG5cdH1cblx0YXN5bmMgKnRyYW5zZm9ybShnZW5lcmF0b3IsIG9wdGlvbnMpIHtcblx0XHR5aWVsZCogdGhpcy5ib3VuZC50cmFuc2Zvcm0oZ2VuZXJhdG9yLCBhd2FpdCB0aGlzLl9tZXJnZUNvbmZpZyhlbnN1cmVDb25maWcob3B0aW9ucyksIHRoaXMua3dhcmdzKSk7XG5cdH1cblx0c3RyZWFtRXZlbnRzKGlucHV0LCBvcHRpb25zLCBzdHJlYW1PcHRpb25zKSB7XG5cdFx0Y29uc3Qgb3V0ZXJUaGlzID0gdGhpcztcblx0XHRjb25zdCBnZW5lcmF0b3IgPSBhc3luYyBmdW5jdGlvbiogKCkge1xuXHRcdFx0eWllbGQqIG91dGVyVGhpcy5ib3VuZC5zdHJlYW1FdmVudHMoaW5wdXQsIHtcblx0XHRcdFx0Li4uYXdhaXQgb3V0ZXJUaGlzLl9tZXJnZUNvbmZpZyhlbnN1cmVDb25maWcob3B0aW9ucyksIG91dGVyVGhpcy5rd2FyZ3MpLFxuXHRcdFx0XHR2ZXJzaW9uOiBvcHRpb25zLnZlcnNpb25cblx0XHRcdH0sIHN0cmVhbU9wdGlvbnMpO1xuXHRcdH07XG5cdFx0cmV0dXJuIEl0ZXJhYmxlUmVhZGFibGVTdHJlYW0uZnJvbUFzeW5jR2VuZXJhdG9yKGdlbmVyYXRvcigpKTtcblx0fVxuXHRzdGF0aWMgaXNSdW5uYWJsZUJpbmRpbmcodGhpbmcpIHtcblx0XHRyZXR1cm4gdGhpbmcuYm91bmQgJiYgUnVubmFibGUuaXNSdW5uYWJsZSh0aGluZy5ib3VuZCk7XG5cdH1cblx0LyoqXG5cdCogQmluZCBsaWZlY3ljbGUgbGlzdGVuZXJzIHRvIGEgUnVubmFibGUsIHJldHVybmluZyBhIG5ldyBSdW5uYWJsZS5cblx0KiBUaGUgUnVuIG9iamVjdCBjb250YWlucyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgcnVuLCBpbmNsdWRpbmcgaXRzIGlkLFxuXHQqIHR5cGUsIGlucHV0LCBvdXRwdXQsIGVycm9yLCBzdGFydFRpbWUsIGVuZFRpbWUsIGFuZCBhbnkgdGFncyBvciBtZXRhZGF0YVxuXHQqIGFkZGVkIHRvIHRoZSBydW4uXG5cdCpcblx0KiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIC0gVGhlIG9iamVjdCBjb250YWluaW5nIHRoZSBjYWxsYmFjayBmdW5jdGlvbnMuXG5cdCogQHBhcmFtIHsocnVuOiBSdW4pID0+IHZvaWR9IHBhcmFtcy5vblN0YXJ0IC0gQ2FsbGVkIGJlZm9yZSB0aGUgcnVubmFibGUgc3RhcnRzIHJ1bm5pbmcsIHdpdGggdGhlIFJ1biBvYmplY3QuXG5cdCogQHBhcmFtIHsocnVuOiBSdW4pID0+IHZvaWR9IHBhcmFtcy5vbkVuZCAtIENhbGxlZCBhZnRlciB0aGUgcnVubmFibGUgZmluaXNoZXMgcnVubmluZywgd2l0aCB0aGUgUnVuIG9iamVjdC5cblx0KiBAcGFyYW0geyhydW46IFJ1bikgPT4gdm9pZH0gcGFyYW1zLm9uRXJyb3IgLSBDYWxsZWQgaWYgdGhlIHJ1bm5hYmxlIHRocm93cyBhbiBlcnJvciwgd2l0aCB0aGUgUnVuIG9iamVjdC5cblx0Ki9cblx0d2l0aExpc3RlbmVycyh7IG9uU3RhcnQsIG9uRW5kLCBvbkVycm9yIH0pIHtcblx0XHRyZXR1cm4gbmV3IFJ1bm5hYmxlQmluZGluZyh7XG5cdFx0XHRib3VuZDogdGhpcy5ib3VuZCxcblx0XHRcdGt3YXJnczogdGhpcy5rd2FyZ3MsXG5cdFx0XHRjb25maWc6IHRoaXMuY29uZmlnLFxuXHRcdFx0Y29uZmlnRmFjdG9yaWVzOiBbKGNvbmZpZykgPT4gKHsgY2FsbGJhY2tzOiBbbmV3IFJvb3RMaXN0ZW5lcnNUcmFjZXIoe1xuXHRcdFx0XHRjb25maWcsXG5cdFx0XHRcdG9uU3RhcnQsXG5cdFx0XHRcdG9uRW5kLFxuXHRcdFx0XHRvbkVycm9yXG5cdFx0XHR9KV0gfSldXG5cdFx0fSk7XG5cdH1cbn07XG4vKipcbiogQSBydW5uYWJsZSB0aGF0IGRlbGVnYXRlcyBjYWxscyB0byBhbm90aGVyIHJ1bm5hYmxlXG4qIHdpdGggZWFjaCBlbGVtZW50IG9mIHRoZSBpbnB1dCBzZXF1ZW5jZS5cbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiBpbXBvcnQgeyBSdW5uYWJsZUVhY2gsIFJ1bm5hYmxlTGFtYmRhIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9ydW5uYWJsZXNcIjtcbipcbiogY29uc3QgdG9VcHBlckNhc2UgPSAoaW5wdXQ6IHN0cmluZyk6IHN0cmluZyA9PiBpbnB1dC50b1VwcGVyQ2FzZSgpO1xuKiBjb25zdCBhZGRHcmVldGluZyA9IChpbnB1dDogc3RyaW5nKTogc3RyaW5nID0+IGBIZWxsbywgJHtpbnB1dH0hYDtcbipcbiogY29uc3QgdXBwZXJDYXNlTGFtYmRhID0gUnVubmFibGVMYW1iZGEuZnJvbSh0b1VwcGVyQ2FzZSk7XG4qIGNvbnN0IGdyZWV0aW5nTGFtYmRhID0gUnVubmFibGVMYW1iZGEuZnJvbShhZGRHcmVldGluZyk7XG4qXG4qIGNvbnN0IGNoYWluID0gbmV3IFJ1bm5hYmxlRWFjaCh7XG4qICAgYm91bmQ6IHVwcGVyQ2FzZUxhbWJkYS5waXBlKGdyZWV0aW5nTGFtYmRhKSxcbiogfSk7XG4qXG4qIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNoYWluLmludm9rZShbXCJhbGljZVwiLCBcImJvYlwiLCBcImNhcm9sXCJdKVxuKlxuKiAvLyBbXCJIZWxsbywgQUxJQ0UhXCIsIFwiSGVsbG8sIEJPQiFcIiwgXCJIZWxsbywgQ0FST0whXCJdXG4qIGBgYFxuKi9cbnZhciBSdW5uYWJsZUVhY2ggPSBjbGFzcyBSdW5uYWJsZUVhY2ggZXh0ZW5kcyBSdW5uYWJsZSB7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIlJ1bm5hYmxlRWFjaFwiO1xuXHR9XG5cdGxjX3NlcmlhbGl6YWJsZSA9IHRydWU7XG5cdGxjX25hbWVzcGFjZSA9IFtcImxhbmdjaGFpbl9jb3JlXCIsIFwicnVubmFibGVzXCJdO1xuXHRib3VuZDtcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLmJvdW5kID0gZmllbGRzLmJvdW5kO1xuXHR9XG5cdC8qKlxuXHQqIEludm9rZXMgdGhlIHJ1bm5hYmxlIHdpdGggdGhlIHNwZWNpZmllZCBpbnB1dCBhbmQgY29uZmlndXJhdGlvbi5cblx0KiBAcGFyYW0gaW5wdXQgVGhlIGlucHV0IHRvIGludm9rZSB0aGUgcnVubmFibGUgd2l0aC5cblx0KiBAcGFyYW0gY29uZmlnIFRoZSBjb25maWd1cmF0aW9uIHRvIGludm9rZSB0aGUgcnVubmFibGUgd2l0aC5cblx0KiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgb3V0cHV0IG9mIHRoZSBydW5uYWJsZS5cblx0Ki9cblx0YXN5bmMgaW52b2tlKGlucHV0cywgY29uZmlnKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2NhbGxXaXRoQ29uZmlnKHRoaXMuX2ludm9rZS5iaW5kKHRoaXMpLCBpbnB1dHMsIGNvbmZpZyk7XG5cdH1cblx0LyoqXG5cdCogQSBoZWxwZXIgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byBpbnZva2UgdGhlIHJ1bm5hYmxlIHdpdGggdGhlIHNwZWNpZmllZCBpbnB1dCBhbmQgY29uZmlndXJhdGlvbi5cblx0KiBAcGFyYW0gaW5wdXQgVGhlIGlucHV0IHRvIGludm9rZSB0aGUgcnVubmFibGUgd2l0aC5cblx0KiBAcGFyYW0gY29uZmlnIFRoZSBjb25maWd1cmF0aW9uIHRvIGludm9rZSB0aGUgcnVubmFibGUgd2l0aC5cblx0KiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgb3V0cHV0IG9mIHRoZSBydW5uYWJsZS5cblx0Ki9cblx0YXN5bmMgX2ludm9rZShpbnB1dHMsIGNvbmZpZywgcnVuTWFuYWdlcikge1xuXHRcdHJldHVybiB0aGlzLmJvdW5kLmJhdGNoKGlucHV0cywgcGF0Y2hDb25maWcoY29uZmlnLCB7IGNhbGxiYWNrczogcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoKSB9KSk7XG5cdH1cblx0LyoqXG5cdCogQmluZCBsaWZlY3ljbGUgbGlzdGVuZXJzIHRvIGEgUnVubmFibGUsIHJldHVybmluZyBhIG5ldyBSdW5uYWJsZS5cblx0KiBUaGUgUnVuIG9iamVjdCBjb250YWlucyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgcnVuLCBpbmNsdWRpbmcgaXRzIGlkLFxuXHQqIHR5cGUsIGlucHV0LCBvdXRwdXQsIGVycm9yLCBzdGFydFRpbWUsIGVuZFRpbWUsIGFuZCBhbnkgdGFncyBvciBtZXRhZGF0YVxuXHQqIGFkZGVkIHRvIHRoZSBydW4uXG5cdCpcblx0KiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIC0gVGhlIG9iamVjdCBjb250YWluaW5nIHRoZSBjYWxsYmFjayBmdW5jdGlvbnMuXG5cdCogQHBhcmFtIHsocnVuOiBSdW4pID0+IHZvaWR9IHBhcmFtcy5vblN0YXJ0IC0gQ2FsbGVkIGJlZm9yZSB0aGUgcnVubmFibGUgc3RhcnRzIHJ1bm5pbmcsIHdpdGggdGhlIFJ1biBvYmplY3QuXG5cdCogQHBhcmFtIHsocnVuOiBSdW4pID0+IHZvaWR9IHBhcmFtcy5vbkVuZCAtIENhbGxlZCBhZnRlciB0aGUgcnVubmFibGUgZmluaXNoZXMgcnVubmluZywgd2l0aCB0aGUgUnVuIG9iamVjdC5cblx0KiBAcGFyYW0geyhydW46IFJ1bikgPT4gdm9pZH0gcGFyYW1zLm9uRXJyb3IgLSBDYWxsZWQgaWYgdGhlIHJ1bm5hYmxlIHRocm93cyBhbiBlcnJvciwgd2l0aCB0aGUgUnVuIG9iamVjdC5cblx0Ki9cblx0d2l0aExpc3RlbmVycyh7IG9uU3RhcnQsIG9uRW5kLCBvbkVycm9yIH0pIHtcblx0XHRyZXR1cm4gbmV3IFJ1bm5hYmxlRWFjaCh7IGJvdW5kOiB0aGlzLmJvdW5kLndpdGhMaXN0ZW5lcnMoe1xuXHRcdFx0b25TdGFydCxcblx0XHRcdG9uRW5kLFxuXHRcdFx0b25FcnJvclxuXHRcdH0pIH0pO1xuXHR9XG59O1xuLyoqXG4qIEJhc2UgY2xhc3MgZm9yIHJ1bm5hYmxlcyB0aGF0IGNhbiBiZSByZXRyaWVkIGFcbiogc3BlY2lmaWVkIG51bWJlciBvZiB0aW1lcy5cbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiBpbXBvcnQge1xuKiAgIFJ1bm5hYmxlTGFtYmRhLFxuKiAgIFJ1bm5hYmxlUmV0cnksXG4qIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9ydW5uYWJsZXNcIjtcbipcbiogLy8gU2ltdWxhdGUgYW4gQVBJIGNhbGwgdGhhdCBmYWlsc1xuKiBjb25zdCBzaW11bGF0ZUFwaUNhbGwgPSAoaW5wdXQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4qICAgY29uc29sZS5sb2coYEF0dGVtcHRpbmcgQVBJIGNhbGwgd2l0aCBpbnB1dDogJHtpbnB1dH1gKTtcbiogICB0aHJvdyBuZXcgRXJyb3IoXCJBUEkgY2FsbCBmYWlsZWQgZHVlIHRvIG5ldHdvcmsgaXNzdWVcIik7XG4qIH07XG4qXG4qIGNvbnN0IGFwaUNhbGxMYW1iZGEgPSBSdW5uYWJsZUxhbWJkYS5mcm9tKHNpbXVsYXRlQXBpQ2FsbCk7XG4qXG4qIC8vIEFwcGx5IHJldHJ5IGxvZ2ljIHVzaW5nIHRoZSAud2l0aFJldHJ5KCkgbWV0aG9kXG4qIGNvbnN0IGFwaUNhbGxXaXRoUmV0cnkgPSBhcGlDYWxsTGFtYmRhLndpdGhSZXRyeSh7IHN0b3BBZnRlckF0dGVtcHQ6IDMgfSk7XG4qXG4qIC8vIEFsdGVybmF0aXZlbHksIGNyZWF0ZSBhIFJ1bm5hYmxlUmV0cnkgaW5zdGFuY2UgbWFudWFsbHlcbiogY29uc3QgbWFudWFsUmV0cnkgPSBuZXcgUnVubmFibGVSZXRyeSh7XG4qICAgYm91bmQ6IGFwaUNhbGxMYW1iZGEsXG4qICAgbWF4QXR0ZW1wdE51bWJlcjogMyxcbiogICBjb25maWc6IHt9LFxuKiB9KTtcbipcbiogLy8gRXhhbXBsZSBpbnZvY2F0aW9uIHVzaW5nIHRoZSAud2l0aFJldHJ5KCkgbWV0aG9kXG4qIGNvbnN0IHJlcyA9IGF3YWl0IGFwaUNhbGxXaXRoUmV0cnlcbiogICAuaW52b2tlKFwiUmVxdWVzdCAxXCIpXG4qICAgLmNhdGNoKChlcnJvcikgPT4ge1xuKiAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCBhZnRlciBtdWx0aXBsZSByZXRyaWVzOlwiLCBlcnJvci5tZXNzYWdlKTtcbiogICB9KTtcbipcbiogLy8gRXhhbXBsZSBpbnZvY2F0aW9uIHVzaW5nIHRoZSBtYW51YWwgcmV0cnkgaW5zdGFuY2VcbiogY29uc3QgcmVzMiA9IGF3YWl0IG1hbnVhbFJldHJ5XG4qICAgLmludm9rZShcIlJlcXVlc3QgMlwiKVxuKiAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiogICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgYWZ0ZXIgbXVsdGlwbGUgcmV0cmllczpcIiwgZXJyb3IubWVzc2FnZSk7XG4qICAgfSk7XG4qIGBgYFxuKi9cbnZhciBSdW5uYWJsZVJldHJ5ID0gY2xhc3MgZXh0ZW5kcyBSdW5uYWJsZUJpbmRpbmcge1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJSdW5uYWJsZVJldHJ5XCI7XG5cdH1cblx0bGNfbmFtZXNwYWNlID0gW1wibGFuZ2NoYWluX2NvcmVcIiwgXCJydW5uYWJsZXNcIl07XG5cdG1heEF0dGVtcHROdW1iZXIgPSAzO1xuXHRvbkZhaWxlZEF0dGVtcHQgPSAoKSA9PiB7fTtcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLm1heEF0dGVtcHROdW1iZXIgPSBmaWVsZHMubWF4QXR0ZW1wdE51bWJlciA/PyB0aGlzLm1heEF0dGVtcHROdW1iZXI7XG5cdFx0dGhpcy5vbkZhaWxlZEF0dGVtcHQgPSBmaWVsZHMub25GYWlsZWRBdHRlbXB0ID8/IHRoaXMub25GYWlsZWRBdHRlbXB0O1xuXHR9XG5cdF9wYXRjaENvbmZpZ0ZvclJldHJ5KGF0dGVtcHQsIGNvbmZpZywgcnVuTWFuYWdlcikge1xuXHRcdGNvbnN0IHRhZyA9IGF0dGVtcHQgPiAxID8gYHJldHJ5OmF0dGVtcHQ6JHthdHRlbXB0fWAgOiB2b2lkIDA7XG5cdFx0cmV0dXJuIHBhdGNoQ29uZmlnKGNvbmZpZywgeyBjYWxsYmFja3M6IHJ1bk1hbmFnZXI/LmdldENoaWxkKHRhZykgfSk7XG5cdH1cblx0YXN5bmMgX2ludm9rZShpbnB1dCwgY29uZmlnLCBydW5NYW5hZ2VyKSB7XG5cdFx0cmV0dXJuIHBSZXRyeSgoYXR0ZW1wdE51bWJlcikgPT4gc3VwZXIuaW52b2tlKGlucHV0LCB0aGlzLl9wYXRjaENvbmZpZ0ZvclJldHJ5KGF0dGVtcHROdW1iZXIsIGNvbmZpZywgcnVuTWFuYWdlcikpLCB7XG5cdFx0XHRvbkZhaWxlZEF0dGVtcHQ6ICh7IGVycm9yIH0pID0+IHRoaXMub25GYWlsZWRBdHRlbXB0KGVycm9yLCBpbnB1dCksXG5cdFx0XHRyZXRyaWVzOiBNYXRoLm1heCh0aGlzLm1heEF0dGVtcHROdW1iZXIgLSAxLCAwKSxcblx0XHRcdHJhbmRvbWl6ZTogdHJ1ZVxuXHRcdH0pO1xuXHR9XG5cdC8qKlxuXHQqIE1ldGhvZCB0aGF0IGludm9rZXMgdGhlIHJ1bm5hYmxlIHdpdGggdGhlIHNwZWNpZmllZCBpbnB1dCwgcnVuIG1hbmFnZXIsXG5cdCogYW5kIGNvbmZpZy4gSXQgaGFuZGxlcyB0aGUgcmV0cnkgbG9naWMgYnkgY2F0Y2hpbmcgYW55IGVycm9ycyBhbmRcblx0KiByZWN1cnNpdmVseSBpbnZva2luZyBpdHNlbGYgd2l0aCB0aGUgdXBkYXRlZCBjb25maWcgZm9yIHRoZSBuZXh0IHJldHJ5XG5cdCogYXR0ZW1wdC5cblx0KiBAcGFyYW0gaW5wdXQgVGhlIGlucHV0IGZvciB0aGUgcnVubmFibGUuXG5cdCogQHBhcmFtIHJ1bk1hbmFnZXIgVGhlIHJ1biBtYW5hZ2VyIGZvciB0aGUgcnVubmFibGUuXG5cdCogQHBhcmFtIGNvbmZpZyBUaGUgY29uZmlnIGZvciB0aGUgcnVubmFibGUuXG5cdCogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIG91dHB1dCBvZiB0aGUgcnVubmFibGUuXG5cdCovXG5cdGFzeW5jIGludm9rZShpbnB1dCwgY29uZmlnKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2NhbGxXaXRoQ29uZmlnKHRoaXMuX2ludm9rZS5iaW5kKHRoaXMpLCBpbnB1dCwgY29uZmlnKTtcblx0fVxuXHRhc3luYyBfYmF0Y2goaW5wdXRzLCBjb25maWdzLCBydW5NYW5hZ2VycywgYmF0Y2hPcHRpb25zKSB7XG5cdFx0Y29uc3QgcmVzdWx0c01hcCA9IHt9O1xuXHRcdHRyeSB7XG5cdFx0XHRhd2FpdCBwUmV0cnkoYXN5bmMgKGF0dGVtcHROdW1iZXIpID0+IHtcblx0XHRcdFx0Y29uc3QgcmVtYWluaW5nSW5kZXhlcyA9IGlucHV0cy5tYXAoKF8sIGkpID0+IGkpLmZpbHRlcigoaSkgPT4gcmVzdWx0c01hcFtpLnRvU3RyaW5nKCldID09PSB2b2lkIDAgfHwgcmVzdWx0c01hcFtpLnRvU3RyaW5nKCldIGluc3RhbmNlb2YgRXJyb3IpO1xuXHRcdFx0XHRjb25zdCByZW1haW5pbmdJbnB1dHMgPSByZW1haW5pbmdJbmRleGVzLm1hcCgoaSkgPT4gaW5wdXRzW2ldKTtcblx0XHRcdFx0Y29uc3QgcGF0Y2hlZENvbmZpZ3MgPSByZW1haW5pbmdJbmRleGVzLm1hcCgoaSkgPT4gdGhpcy5fcGF0Y2hDb25maWdGb3JSZXRyeShhdHRlbXB0TnVtYmVyLCBjb25maWdzPy5baV0sIHJ1bk1hbmFnZXJzPy5baV0pKTtcblx0XHRcdFx0Y29uc3QgcmVzdWx0cyA9IGF3YWl0IHN1cGVyLmJhdGNoKHJlbWFpbmluZ0lucHV0cywgcGF0Y2hlZENvbmZpZ3MsIHtcblx0XHRcdFx0XHQuLi5iYXRjaE9wdGlvbnMsXG5cdFx0XHRcdFx0cmV0dXJuRXhjZXB0aW9uczogdHJ1ZVxuXHRcdFx0XHR9KTtcblx0XHRcdFx0bGV0IGZpcnN0RXhjZXB0aW9uO1xuXHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHJlc3VsdHMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0XHRjb25zdCByZXN1bHQgPSByZXN1bHRzW2ldO1xuXHRcdFx0XHRcdGNvbnN0IHJlc3VsdE1hcEluZGV4ID0gcmVtYWluaW5nSW5kZXhlc1tpXTtcblx0XHRcdFx0XHRpZiAocmVzdWx0IGluc3RhbmNlb2YgRXJyb3IpIHtcblx0XHRcdFx0XHRcdGlmIChmaXJzdEV4Y2VwdGlvbiA9PT0gdm9pZCAwKSB7XG5cdFx0XHRcdFx0XHRcdGZpcnN0RXhjZXB0aW9uID0gcmVzdWx0O1xuXHRcdFx0XHRcdFx0XHRmaXJzdEV4Y2VwdGlvbi5pbnB1dCA9IHJlbWFpbmluZ0lucHV0c1tpXTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmVzdWx0c01hcFtyZXN1bHRNYXBJbmRleC50b1N0cmluZygpXSA9IHJlc3VsdDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoZmlyc3RFeGNlcHRpb24pIHRocm93IGZpcnN0RXhjZXB0aW9uO1xuXHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdH0sIHtcblx0XHRcdFx0b25GYWlsZWRBdHRlbXB0OiAoeyBlcnJvciB9KSA9PiB0aGlzLm9uRmFpbGVkQXR0ZW1wdChlcnJvciwgZXJyb3IuaW5wdXQpLFxuXHRcdFx0XHRyZXRyaWVzOiBNYXRoLm1heCh0aGlzLm1heEF0dGVtcHROdW1iZXIgLSAxLCAwKSxcblx0XHRcdFx0cmFuZG9taXplOiB0cnVlXG5cdFx0XHR9KTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRpZiAoYmF0Y2hPcHRpb25zPy5yZXR1cm5FeGNlcHRpb25zICE9PSB0cnVlKSB0aHJvdyBlO1xuXHRcdH1cblx0XHRyZXR1cm4gT2JqZWN0LmtleXMocmVzdWx0c01hcCkuc29ydCgoYSwgYikgPT4gcGFyc2VJbnQoYSwgMTApIC0gcGFyc2VJbnQoYiwgMTApKS5tYXAoKGtleSkgPT4gcmVzdWx0c01hcFtwYXJzZUludChrZXksIDEwKV0pO1xuXHR9XG5cdGFzeW5jIGJhdGNoKGlucHV0cywgb3B0aW9ucywgYmF0Y2hPcHRpb25zKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2JhdGNoV2l0aENvbmZpZyh0aGlzLl9iYXRjaC5iaW5kKHRoaXMpLCBpbnB1dHMsIG9wdGlvbnMsIGJhdGNoT3B0aW9ucyk7XG5cdH1cbn07XG4vKipcbiogQSBzZXF1ZW5jZSBvZiBydW5uYWJsZXMsIHdoZXJlIHRoZSBvdXRwdXQgb2YgZWFjaCBpcyB0aGUgaW5wdXQgb2YgdGhlIG5leHQuXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogY29uc3QgcHJvbXB0VGVtcGxhdGUgPSBQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUoXG4qICAgXCJUZWxsIG1lIGEgam9rZSBhYm91dCB7dG9waWN9XCIsXG4qICk7XG4qIGNvbnN0IGNoYWluID0gUnVubmFibGVTZXF1ZW5jZS5mcm9tKFtwcm9tcHRUZW1wbGF0ZSwgbmV3IENoYXRPcGVuQUkoeyBtb2RlbDogXCJncHQtNG8tbWluaVwiIH0pXSk7XG4qIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNoYWluLmludm9rZSh7IHRvcGljOiBcImJlYXJzXCIgfSk7XG4qIGBgYFxuKi9cbnZhciBSdW5uYWJsZVNlcXVlbmNlID0gY2xhc3MgUnVubmFibGVTZXF1ZW5jZSBleHRlbmRzIFJ1bm5hYmxlIHtcblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiUnVubmFibGVTZXF1ZW5jZVwiO1xuXHR9XG5cdGZpcnN0O1xuXHRtaWRkbGUgPSBbXTtcblx0bGFzdDtcblx0b21pdFNlcXVlbmNlVGFncyA9IGZhbHNlO1xuXHRsY19zZXJpYWxpemFibGUgPSB0cnVlO1xuXHRsY19uYW1lc3BhY2UgPSBbXCJsYW5nY2hhaW5fY29yZVwiLCBcInJ1bm5hYmxlc1wiXTtcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLmZpcnN0ID0gZmllbGRzLmZpcnN0O1xuXHRcdHRoaXMubWlkZGxlID0gZmllbGRzLm1pZGRsZSA/PyB0aGlzLm1pZGRsZTtcblx0XHR0aGlzLmxhc3QgPSBmaWVsZHMubGFzdDtcblx0XHR0aGlzLm5hbWUgPSBmaWVsZHMubmFtZTtcblx0XHR0aGlzLm9taXRTZXF1ZW5jZVRhZ3MgPSBmaWVsZHMub21pdFNlcXVlbmNlVGFncyA/PyB0aGlzLm9taXRTZXF1ZW5jZVRhZ3M7XG5cdH1cblx0Z2V0IHN0ZXBzKCkge1xuXHRcdHJldHVybiBbXG5cdFx0XHR0aGlzLmZpcnN0LFxuXHRcdFx0Li4udGhpcy5taWRkbGUsXG5cdFx0XHR0aGlzLmxhc3Rcblx0XHRdO1xuXHR9XG5cdGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuXHRcdGNvbnN0IGNvbmZpZyA9IGVuc3VyZUNvbmZpZyhvcHRpb25zKTtcblx0XHRjb25zdCBjYWxsYmFja01hbmFnZXJfID0gYXdhaXQgZ2V0Q2FsbGJhY2tNYW5hZ2VyRm9yQ29uZmlnKGNvbmZpZyk7XG5cdFx0Y29uc3QgcnVuTWFuYWdlciA9IGF3YWl0IGNhbGxiYWNrTWFuYWdlcl8/LmhhbmRsZUNoYWluU3RhcnQodGhpcy50b0pTT04oKSwgX2NvZXJjZVRvRGljdChpbnB1dCwgXCJpbnB1dFwiKSwgY29uZmlnLnJ1bklkLCB2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBjb25maWc/LnJ1bk5hbWUpO1xuXHRcdGRlbGV0ZSBjb25maWcucnVuSWQ7XG5cdFx0bGV0IG5leHRTdGVwSW5wdXQgPSBpbnB1dDtcblx0XHRsZXQgZmluYWxPdXRwdXQ7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IGluaXRpYWxTdGVwcyA9IFt0aGlzLmZpcnN0LCAuLi50aGlzLm1pZGRsZV07XG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGluaXRpYWxTdGVwcy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0XHRjb25zdCBzdGVwID0gaW5pdGlhbFN0ZXBzW2ldO1xuXHRcdFx0XHRjb25zdCBwcm9taXNlID0gc3RlcC5pbnZva2UobmV4dFN0ZXBJbnB1dCwgcGF0Y2hDb25maWcoY29uZmlnLCB7IGNhbGxiYWNrczogcnVuTWFuYWdlcj8uZ2V0Q2hpbGQodGhpcy5vbWl0U2VxdWVuY2VUYWdzID8gdm9pZCAwIDogYHNlcTpzdGVwOiR7aSArIDF9YCkgfSkpO1xuXHRcdFx0XHRuZXh0U3RlcElucHV0ID0gYXdhaXQgcmFjZVdpdGhTaWduYWwocHJvbWlzZSwgb3B0aW9ucz8uc2lnbmFsKTtcblx0XHRcdH1cblx0XHRcdGlmIChvcHRpb25zPy5zaWduYWw/LmFib3J0ZWQpIHRocm93IGdldEFib3J0U2lnbmFsRXJyb3Iob3B0aW9ucy5zaWduYWwpO1xuXHRcdFx0ZmluYWxPdXRwdXQgPSBhd2FpdCB0aGlzLmxhc3QuaW52b2tlKG5leHRTdGVwSW5wdXQsIHBhdGNoQ29uZmlnKGNvbmZpZywgeyBjYWxsYmFja3M6IHJ1bk1hbmFnZXI/LmdldENoaWxkKHRoaXMub21pdFNlcXVlbmNlVGFncyA/IHZvaWQgMCA6IGBzZXE6c3RlcDoke3RoaXMuc3RlcHMubGVuZ3RofWApIH0pKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVDaGFpbkVycm9yKGUpO1xuXHRcdFx0dGhyb3cgZTtcblx0XHR9XG5cdFx0YXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FbmQoX2NvZXJjZVRvRGljdChmaW5hbE91dHB1dCwgXCJvdXRwdXRcIikpO1xuXHRcdHJldHVybiBmaW5hbE91dHB1dDtcblx0fVxuXHRhc3luYyBiYXRjaChpbnB1dHMsIG9wdGlvbnMsIGJhdGNoT3B0aW9ucykge1xuXHRcdGNvbnN0IGNvbmZpZ0xpc3QgPSB0aGlzLl9nZXRPcHRpb25zTGlzdChvcHRpb25zID8/IHt9LCBpbnB1dHMubGVuZ3RoKTtcblx0XHRjb25zdCBjYWxsYmFja01hbmFnZXJzID0gYXdhaXQgUHJvbWlzZS5hbGwoY29uZmlnTGlzdC5tYXAoZ2V0Q2FsbGJhY2tNYW5hZ2VyRm9yQ29uZmlnKSk7XG5cdFx0Y29uc3QgcnVuTWFuYWdlcnMgPSBhd2FpdCBQcm9taXNlLmFsbChjYWxsYmFja01hbmFnZXJzLm1hcChhc3luYyAoY2FsbGJhY2tNYW5hZ2VyLCBpKSA9PiB7XG5cdFx0XHRjb25zdCBoYW5kbGVTdGFydFJlcyA9IGF3YWl0IGNhbGxiYWNrTWFuYWdlcj8uaGFuZGxlQ2hhaW5TdGFydCh0aGlzLnRvSlNPTigpLCBfY29lcmNlVG9EaWN0KGlucHV0c1tpXSwgXCJpbnB1dFwiKSwgY29uZmlnTGlzdFtpXS5ydW5JZCwgdm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgY29uZmlnTGlzdFtpXS5ydW5OYW1lKTtcblx0XHRcdGRlbGV0ZSBjb25maWdMaXN0W2ldLnJ1bklkO1xuXHRcdFx0cmV0dXJuIGhhbmRsZVN0YXJ0UmVzO1xuXHRcdH0pKTtcblx0XHRsZXQgbmV4dFN0ZXBJbnB1dHMgPSBpbnB1dHM7XG5cdFx0dHJ5IHtcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zdGVwcy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0XHRjb25zdCBzdGVwID0gdGhpcy5zdGVwc1tpXTtcblx0XHRcdFx0Y29uc3QgcHJvbWlzZSA9IHN0ZXAuYmF0Y2gobmV4dFN0ZXBJbnB1dHMsIHJ1bk1hbmFnZXJzLm1hcCgocnVuTWFuYWdlciwgaikgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IGNoaWxkUnVuTWFuYWdlciA9IHJ1bk1hbmFnZXI/LmdldENoaWxkKHRoaXMub21pdFNlcXVlbmNlVGFncyA/IHZvaWQgMCA6IGBzZXE6c3RlcDoke2kgKyAxfWApO1xuXHRcdFx0XHRcdHJldHVybiBwYXRjaENvbmZpZyhjb25maWdMaXN0W2pdLCB7IGNhbGxiYWNrczogY2hpbGRSdW5NYW5hZ2VyIH0pO1xuXHRcdFx0XHR9KSwgYmF0Y2hPcHRpb25zKTtcblx0XHRcdFx0bmV4dFN0ZXBJbnB1dHMgPSBhd2FpdCByYWNlV2l0aFNpZ25hbChwcm9taXNlLCBjb25maWdMaXN0WzBdPy5zaWduYWwpO1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGF3YWl0IFByb21pc2UuYWxsKHJ1bk1hbmFnZXJzLm1hcCgocnVuTWFuYWdlcikgPT4gcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FcnJvcihlKSkpO1xuXHRcdFx0dGhyb3cgZTtcblx0XHR9XG5cdFx0YXdhaXQgUHJvbWlzZS5hbGwocnVuTWFuYWdlcnMubWFwKChydW5NYW5hZ2VyKSA9PiBydW5NYW5hZ2VyPy5oYW5kbGVDaGFpbkVuZChfY29lcmNlVG9EaWN0KG5leHRTdGVwSW5wdXRzLCBcIm91dHB1dFwiKSkpKTtcblx0XHRyZXR1cm4gbmV4dFN0ZXBJbnB1dHM7XG5cdH1cblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRfY29uY2F0T3V0cHV0Q2h1bmtzKGZpcnN0LCBzZWNvbmQpIHtcblx0XHRyZXR1cm4gdGhpcy5sYXN0Ll9jb25jYXRPdXRwdXRDaHVua3MoZmlyc3QsIHNlY29uZCk7XG5cdH1cblx0YXN5bmMgKl9zdHJlYW1JdGVyYXRvcihpbnB1dCwgb3B0aW9ucykge1xuXHRcdGNvbnN0IGNhbGxiYWNrTWFuYWdlcl8gPSBhd2FpdCBnZXRDYWxsYmFja01hbmFnZXJGb3JDb25maWcob3B0aW9ucyk7XG5cdFx0Y29uc3QgeyBydW5JZCwuLi5vdGhlck9wdGlvbnMgfSA9IG9wdGlvbnMgPz8ge307XG5cdFx0Y29uc3QgcnVuTWFuYWdlciA9IGF3YWl0IGNhbGxiYWNrTWFuYWdlcl8/LmhhbmRsZUNoYWluU3RhcnQodGhpcy50b0pTT04oKSwgX2NvZXJjZVRvRGljdChpbnB1dCwgXCJpbnB1dFwiKSwgcnVuSWQsIHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIG90aGVyT3B0aW9ucz8ucnVuTmFtZSk7XG5cdFx0Y29uc3Qgc3RlcHMgPSBbXG5cdFx0XHR0aGlzLmZpcnN0LFxuXHRcdFx0Li4udGhpcy5taWRkbGUsXG5cdFx0XHR0aGlzLmxhc3Rcblx0XHRdO1xuXHRcdGxldCBjb25jYXRTdXBwb3J0ZWQgPSB0cnVlO1xuXHRcdGxldCBmaW5hbE91dHB1dDtcblx0XHRhc3luYyBmdW5jdGlvbiogaW5wdXRHZW5lcmF0b3IoKSB7XG5cdFx0XHR5aWVsZCBpbnB1dDtcblx0XHR9XG5cdFx0dHJ5IHtcblx0XHRcdGxldCBmaW5hbEdlbmVyYXRvciA9IHN0ZXBzWzBdLnRyYW5zZm9ybShpbnB1dEdlbmVyYXRvcigpLCBwYXRjaENvbmZpZyhvdGhlck9wdGlvbnMsIHsgY2FsbGJhY2tzOiBydW5NYW5hZ2VyPy5nZXRDaGlsZCh0aGlzLm9taXRTZXF1ZW5jZVRhZ3MgPyB2b2lkIDAgOiBgc2VxOnN0ZXA6MWApIH0pKTtcblx0XHRcdGZvciAobGV0IGkgPSAxOyBpIDwgc3RlcHMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0Y29uc3Qgc3RlcCA9IHN0ZXBzW2ldO1xuXHRcdFx0XHRmaW5hbEdlbmVyYXRvciA9IGF3YWl0IHN0ZXAudHJhbnNmb3JtKGZpbmFsR2VuZXJhdG9yLCBwYXRjaENvbmZpZyhvdGhlck9wdGlvbnMsIHsgY2FsbGJhY2tzOiBydW5NYW5hZ2VyPy5nZXRDaGlsZCh0aGlzLm9taXRTZXF1ZW5jZVRhZ3MgPyB2b2lkIDAgOiBgc2VxOnN0ZXA6JHtpICsgMX1gKSB9KSk7XG5cdFx0XHR9XG5cdFx0XHRmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIGZpbmFsR2VuZXJhdG9yKSB7XG5cdFx0XHRcdG9wdGlvbnM/LnNpZ25hbD8udGhyb3dJZkFib3J0ZWQoKTtcblx0XHRcdFx0eWllbGQgY2h1bms7XG5cdFx0XHRcdGlmIChjb25jYXRTdXBwb3J0ZWQpIGlmIChmaW5hbE91dHB1dCA9PT0gdm9pZCAwKSBmaW5hbE91dHB1dCA9IGNodW5rO1xuXHRcdFx0XHRlbHNlIHRyeSB7XG5cdFx0XHRcdFx0ZmluYWxPdXRwdXQgPSB0aGlzLl9jb25jYXRPdXRwdXRDaHVua3MoZmluYWxPdXRwdXQsIGNodW5rKTtcblx0XHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdFx0ZmluYWxPdXRwdXQgPSB2b2lkIDA7XG5cdFx0XHRcdFx0Y29uY2F0U3VwcG9ydGVkID0gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVDaGFpbkVycm9yKGUpO1xuXHRcdFx0dGhyb3cgZTtcblx0XHR9XG5cdFx0YXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FbmQoX2NvZXJjZVRvRGljdChmaW5hbE91dHB1dCwgXCJvdXRwdXRcIikpO1xuXHR9XG5cdGdldEdyYXBoKGNvbmZpZykge1xuXHRcdGNvbnN0IGdyYXBoID0gbmV3IEdyYXBoKCk7XG5cdFx0bGV0IGN1cnJlbnRMYXN0Tm9kZSA9IG51bGw7XG5cdFx0dGhpcy5zdGVwcy5mb3JFYWNoKChzdGVwLCBpbmRleCkgPT4ge1xuXHRcdFx0Y29uc3Qgc3RlcEdyYXBoID0gc3RlcC5nZXRHcmFwaChjb25maWcpO1xuXHRcdFx0aWYgKGluZGV4ICE9PSAwKSBzdGVwR3JhcGgudHJpbUZpcnN0Tm9kZSgpO1xuXHRcdFx0aWYgKGluZGV4ICE9PSB0aGlzLnN0ZXBzLmxlbmd0aCAtIDEpIHN0ZXBHcmFwaC50cmltTGFzdE5vZGUoKTtcblx0XHRcdGdyYXBoLmV4dGVuZChzdGVwR3JhcGgpO1xuXHRcdFx0Y29uc3Qgc3RlcEZpcnN0Tm9kZSA9IHN0ZXBHcmFwaC5maXJzdE5vZGUoKTtcblx0XHRcdGlmICghc3RlcEZpcnN0Tm9kZSkgdGhyb3cgbmV3IEVycm9yKGBSdW5uYWJsZSAke3N0ZXB9IGhhcyBubyBmaXJzdCBub2RlYCk7XG5cdFx0XHRpZiAoY3VycmVudExhc3ROb2RlKSBncmFwaC5hZGRFZGdlKGN1cnJlbnRMYXN0Tm9kZSwgc3RlcEZpcnN0Tm9kZSk7XG5cdFx0XHRjdXJyZW50TGFzdE5vZGUgPSBzdGVwR3JhcGgubGFzdE5vZGUoKTtcblx0XHR9KTtcblx0XHRyZXR1cm4gZ3JhcGg7XG5cdH1cblx0cGlwZShjb2VyY2VhYmxlKSB7XG5cdFx0aWYgKFJ1bm5hYmxlU2VxdWVuY2UuaXNSdW5uYWJsZVNlcXVlbmNlKGNvZXJjZWFibGUpKSByZXR1cm4gbmV3IFJ1bm5hYmxlU2VxdWVuY2Uoe1xuXHRcdFx0Zmlyc3Q6IHRoaXMuZmlyc3QsXG5cdFx0XHRtaWRkbGU6IHRoaXMubWlkZGxlLmNvbmNhdChbXG5cdFx0XHRcdHRoaXMubGFzdCxcblx0XHRcdFx0Y29lcmNlYWJsZS5maXJzdCxcblx0XHRcdFx0Li4uY29lcmNlYWJsZS5taWRkbGVcblx0XHRcdF0pLFxuXHRcdFx0bGFzdDogY29lcmNlYWJsZS5sYXN0LFxuXHRcdFx0bmFtZTogdGhpcy5uYW1lID8/IGNvZXJjZWFibGUubmFtZVxuXHRcdH0pO1xuXHRcdGVsc2UgcmV0dXJuIG5ldyBSdW5uYWJsZVNlcXVlbmNlKHtcblx0XHRcdGZpcnN0OiB0aGlzLmZpcnN0LFxuXHRcdFx0bWlkZGxlOiBbLi4udGhpcy5taWRkbGUsIHRoaXMubGFzdF0sXG5cdFx0XHRsYXN0OiBfY29lcmNlVG9SdW5uYWJsZShjb2VyY2VhYmxlKSxcblx0XHRcdG5hbWU6IHRoaXMubmFtZVxuXHRcdH0pO1xuXHR9XG5cdHN0YXRpYyBpc1J1bm5hYmxlU2VxdWVuY2UodGhpbmcpIHtcblx0XHRyZXR1cm4gQXJyYXkuaXNBcnJheSh0aGluZy5taWRkbGUpICYmIFJ1bm5hYmxlLmlzUnVubmFibGUodGhpbmcpO1xuXHR9XG5cdHN0YXRpYyBmcm9tKFtmaXJzdCwgLi4ucnVubmFibGVzXSwgbmFtZU9yRmllbGRzKSB7XG5cdFx0bGV0IGV4dHJhID0ge307XG5cdFx0aWYgKHR5cGVvZiBuYW1lT3JGaWVsZHMgPT09IFwic3RyaW5nXCIpIGV4dHJhLm5hbWUgPSBuYW1lT3JGaWVsZHM7XG5cdFx0ZWxzZSBpZiAobmFtZU9yRmllbGRzICE9PSB2b2lkIDApIGV4dHJhID0gbmFtZU9yRmllbGRzO1xuXHRcdHJldHVybiBuZXcgUnVubmFibGVTZXF1ZW5jZSh7XG5cdFx0XHQuLi5leHRyYSxcblx0XHRcdGZpcnN0OiBfY29lcmNlVG9SdW5uYWJsZShmaXJzdCksXG5cdFx0XHRtaWRkbGU6IHJ1bm5hYmxlcy5zbGljZSgwLCAtMSkubWFwKF9jb2VyY2VUb1J1bm5hYmxlKSxcblx0XHRcdGxhc3Q6IF9jb2VyY2VUb1J1bm5hYmxlKHJ1bm5hYmxlc1tydW5uYWJsZXMubGVuZ3RoIC0gMV0pXG5cdFx0fSk7XG5cdH1cbn07XG4vKipcbiogQSBydW5uYWJsZSB0aGF0IHJ1bnMgYSBtYXBwaW5nIG9mIHJ1bm5hYmxlcyBpbiBwYXJhbGxlbCxcbiogYW5kIHJldHVybnMgYSBtYXBwaW5nIG9mIHRoZWlyIG91dHB1dHMuXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogY29uc3QgbWFwQ2hhaW4gPSBSdW5uYWJsZU1hcC5mcm9tKHtcbiogICBqb2tlOiBQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUoXCJUZWxsIG1lIGEgam9rZSBhYm91dCB7dG9waWN9XCIpLnBpcGUoXG4qICAgICBuZXcgQ2hhdEFudGhyb3BpYyh7fSksXG4qICAgKSxcbiogICBwb2VtOiBQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUoXCJ3cml0ZSBhIDItbGluZSBwb2VtIGFib3V0IHt0b3BpY31cIikucGlwZShcbiogICAgIG5ldyBDaGF0QW50aHJvcGljKHt9KSxcbiogICApLFxuKiB9KTtcbiogY29uc3QgcmVzdWx0ID0gYXdhaXQgbWFwQ2hhaW4uaW52b2tlKHsgdG9waWM6IFwiYmVhclwiIH0pO1xuKiBgYGBcbiovXG52YXIgUnVubmFibGVNYXAgPSBjbGFzcyBSdW5uYWJsZU1hcCBleHRlbmRzIFJ1bm5hYmxlIHtcblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiUnVubmFibGVNYXBcIjtcblx0fVxuXHRsY19uYW1lc3BhY2UgPSBbXCJsYW5nY2hhaW5fY29yZVwiLCBcInJ1bm5hYmxlc1wiXTtcblx0bGNfc2VyaWFsaXphYmxlID0gdHJ1ZTtcblx0c3RlcHM7XG5cdGdldFN0ZXBzS2V5cygpIHtcblx0XHRyZXR1cm4gT2JqZWN0LmtleXModGhpcy5zdGVwcyk7XG5cdH1cblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLnN0ZXBzID0ge307XG5cdFx0Zm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZmllbGRzLnN0ZXBzKSkgdGhpcy5zdGVwc1trZXldID0gX2NvZXJjZVRvUnVubmFibGUodmFsdWUpO1xuXHR9XG5cdHN0YXRpYyBmcm9tKHN0ZXBzKSB7XG5cdFx0cmV0dXJuIG5ldyBSdW5uYWJsZU1hcCh7IHN0ZXBzIH0pO1xuXHR9XG5cdGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuXHRcdGNvbnN0IGNvbmZpZyA9IGVuc3VyZUNvbmZpZyhvcHRpb25zKTtcblx0XHRjb25zdCBjYWxsYmFja01hbmFnZXJfID0gYXdhaXQgZ2V0Q2FsbGJhY2tNYW5hZ2VyRm9yQ29uZmlnKGNvbmZpZyk7XG5cdFx0Y29uc3QgcnVuTWFuYWdlciA9IGF3YWl0IGNhbGxiYWNrTWFuYWdlcl8/LmhhbmRsZUNoYWluU3RhcnQodGhpcy50b0pTT04oKSwgeyBpbnB1dCB9LCBjb25maWcucnVuSWQsIHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGNvbmZpZz8ucnVuTmFtZSk7XG5cdFx0ZGVsZXRlIGNvbmZpZy5ydW5JZDtcblx0XHRjb25zdCBvdXRwdXQgPSB7fTtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgcHJvbWlzZXMgPSBPYmplY3QuZW50cmllcyh0aGlzLnN0ZXBzKS5tYXAoYXN5bmMgKFtrZXksIHJ1bm5hYmxlXSkgPT4ge1xuXHRcdFx0XHRvdXRwdXRba2V5XSA9IGF3YWl0IHJ1bm5hYmxlLmludm9rZShpbnB1dCwgcGF0Y2hDb25maWcoY29uZmlnLCB7IGNhbGxiYWNrczogcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoYG1hcDprZXk6JHtrZXl9YCkgfSkpO1xuXHRcdFx0fSk7XG5cdFx0XHRhd2FpdCByYWNlV2l0aFNpZ25hbChQcm9taXNlLmFsbChwcm9taXNlcyksIG9wdGlvbnM/LnNpZ25hbCk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0YXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FcnJvcihlKTtcblx0XHRcdHRocm93IGU7XG5cdFx0fVxuXHRcdGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRW5kKG91dHB1dCk7XG5cdFx0cmV0dXJuIG91dHB1dDtcblx0fVxuXHRhc3luYyAqX3RyYW5zZm9ybShnZW5lcmF0b3IsIHJ1bk1hbmFnZXIsIG9wdGlvbnMpIHtcblx0XHRjb25zdCBzdGVwcyA9IHsgLi4udGhpcy5zdGVwcyB9O1xuXHRcdGNvbnN0IGlucHV0Q29waWVzID0gYXRlZShnZW5lcmF0b3IsIE9iamVjdC5rZXlzKHN0ZXBzKS5sZW5ndGgpO1xuXHRcdGNvbnN0IHRhc2tzID0gbmV3IE1hcChPYmplY3QuZW50cmllcyhzdGVwcykubWFwKChba2V5LCBydW5uYWJsZV0sIGkpID0+IHtcblx0XHRcdGNvbnN0IGdlbiA9IHJ1bm5hYmxlLnRyYW5zZm9ybShpbnB1dENvcGllc1tpXSwgcGF0Y2hDb25maWcob3B0aW9ucywgeyBjYWxsYmFja3M6IHJ1bk1hbmFnZXI/LmdldENoaWxkKGBtYXA6a2V5OiR7a2V5fWApIH0pKTtcblx0XHRcdHJldHVybiBba2V5LCBnZW4ubmV4dCgpLnRoZW4oKHJlc3VsdCkgPT4gKHtcblx0XHRcdFx0a2V5LFxuXHRcdFx0XHRnZW4sXG5cdFx0XHRcdHJlc3VsdFxuXHRcdFx0fSkpXTtcblx0XHR9KSk7XG5cdFx0d2hpbGUgKHRhc2tzLnNpemUpIHtcblx0XHRcdGNvbnN0IHByb21pc2UgPSBQcm9taXNlLnJhY2UodGFza3MudmFsdWVzKCkpO1xuXHRcdFx0Y29uc3QgeyBrZXksIHJlc3VsdCwgZ2VuIH0gPSBhd2FpdCByYWNlV2l0aFNpZ25hbChwcm9taXNlLCBvcHRpb25zPy5zaWduYWwpO1xuXHRcdFx0dGFza3MuZGVsZXRlKGtleSk7XG5cdFx0XHRpZiAoIXJlc3VsdC5kb25lKSB7XG5cdFx0XHRcdHlpZWxkIHsgW2tleV06IHJlc3VsdC52YWx1ZSB9O1xuXHRcdFx0XHR0YXNrcy5zZXQoa2V5LCBnZW4ubmV4dCgpLnRoZW4oKHJlc3VsdCQxKSA9PiAoe1xuXHRcdFx0XHRcdGtleSxcblx0XHRcdFx0XHRnZW4sXG5cdFx0XHRcdFx0cmVzdWx0OiByZXN1bHQkMVxuXHRcdFx0XHR9KSkpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHR0cmFuc2Zvcm0oZ2VuZXJhdG9yLCBvcHRpb25zKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3RyYW5zZm9ybVN0cmVhbVdpdGhDb25maWcoZ2VuZXJhdG9yLCB0aGlzLl90cmFuc2Zvcm0uYmluZCh0aGlzKSwgb3B0aW9ucyk7XG5cdH1cblx0YXN5bmMgc3RyZWFtKGlucHV0LCBvcHRpb25zKSB7XG5cdFx0YXN5bmMgZnVuY3Rpb24qIGdlbmVyYXRvcigpIHtcblx0XHRcdHlpZWxkIGlucHV0O1xuXHRcdH1cblx0XHRjb25zdCBjb25maWcgPSBlbnN1cmVDb25maWcob3B0aW9ucyk7XG5cdFx0Y29uc3Qgd3JhcHBlZEdlbmVyYXRvciA9IG5ldyBBc3luY0dlbmVyYXRvcldpdGhTZXR1cCh7XG5cdFx0XHRnZW5lcmF0b3I6IHRoaXMudHJhbnNmb3JtKGdlbmVyYXRvcigpLCBjb25maWcpLFxuXHRcdFx0Y29uZmlnXG5cdFx0fSk7XG5cdFx0YXdhaXQgd3JhcHBlZEdlbmVyYXRvci5zZXR1cDtcblx0XHRyZXR1cm4gSXRlcmFibGVSZWFkYWJsZVN0cmVhbS5mcm9tQXN5bmNHZW5lcmF0b3Iod3JhcHBlZEdlbmVyYXRvcik7XG5cdH1cbn07XG4vKipcbiogQSBydW5uYWJsZSB0aGF0IHdyYXBzIGEgdHJhY2VkIExhbmdTbWl0aCBmdW5jdGlvbi5cbiovXG52YXIgUnVubmFibGVUcmFjZWFibGUgPSBjbGFzcyBSdW5uYWJsZVRyYWNlYWJsZSBleHRlbmRzIFJ1bm5hYmxlIHtcblx0bGNfc2VyaWFsaXphYmxlID0gZmFsc2U7XG5cdGxjX25hbWVzcGFjZSA9IFtcImxhbmdjaGFpbl9jb3JlXCIsIFwicnVubmFibGVzXCJdO1xuXHRmdW5jO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRzdXBlcihmaWVsZHMpO1xuXHRcdGlmICghaXNUcmFjZWFibGVGdW5jdGlvbihmaWVsZHMuZnVuYykpIHRocm93IG5ldyBFcnJvcihcIlJ1bm5hYmxlVHJhY2VhYmxlIHJlcXVpcmVzIGEgZnVuY3Rpb24gdGhhdCBpcyB3cmFwcGVkIGluIHRyYWNlYWJsZSBoaWdoZXItb3JkZXIgZnVuY3Rpb25cIik7XG5cdFx0dGhpcy5mdW5jID0gZmllbGRzLmZ1bmM7XG5cdH1cblx0YXN5bmMgaW52b2tlKGlucHV0LCBvcHRpb25zKSB7XG5cdFx0Y29uc3QgW2NvbmZpZ10gPSB0aGlzLl9nZXRPcHRpb25zTGlzdChvcHRpb25zID8/IHt9LCAxKTtcblx0XHRjb25zdCBjYWxsYmFja3MgPSBhd2FpdCBnZXRDYWxsYmFja01hbmFnZXJGb3JDb25maWcoY29uZmlnKTtcblx0XHRjb25zdCBwcm9taXNlID0gdGhpcy5mdW5jKHBhdGNoQ29uZmlnKGNvbmZpZywgeyBjYWxsYmFja3MgfSksIGlucHV0KTtcblx0XHRyZXR1cm4gcmFjZVdpdGhTaWduYWwocHJvbWlzZSwgY29uZmlnPy5zaWduYWwpO1xuXHR9XG5cdGFzeW5jICpfc3RyZWFtSXRlcmF0b3IoaW5wdXQsIG9wdGlvbnMpIHtcblx0XHRjb25zdCBbY29uZmlnXSA9IHRoaXMuX2dldE9wdGlvbnNMaXN0KG9wdGlvbnMgPz8ge30sIDEpO1xuXHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuaW52b2tlKGlucHV0LCBvcHRpb25zKTtcblx0XHRpZiAoaXNBc3luY0l0ZXJhYmxlKHJlc3VsdCkpIHtcblx0XHRcdGZvciBhd2FpdCAoY29uc3QgaXRlbSBvZiByZXN1bHQpIHtcblx0XHRcdFx0Y29uZmlnPy5zaWduYWw/LnRocm93SWZBYm9ydGVkKCk7XG5cdFx0XHRcdHlpZWxkIGl0ZW07XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGlmIChpc0l0ZXJhdG9yKHJlc3VsdCkpIHtcblx0XHRcdHdoaWxlICh0cnVlKSB7XG5cdFx0XHRcdGNvbmZpZz8uc2lnbmFsPy50aHJvd0lmQWJvcnRlZCgpO1xuXHRcdFx0XHRjb25zdCBzdGF0ZSA9IHJlc3VsdC5uZXh0KCk7XG5cdFx0XHRcdGlmIChzdGF0ZS5kb25lKSBicmVhaztcblx0XHRcdFx0eWllbGQgc3RhdGUudmFsdWU7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHlpZWxkIHJlc3VsdDtcblx0fVxuXHRzdGF0aWMgZnJvbShmdW5jKSB7XG5cdFx0cmV0dXJuIG5ldyBSdW5uYWJsZVRyYWNlYWJsZSh7IGZ1bmMgfSk7XG5cdH1cbn07XG5mdW5jdGlvbiBhc3NlcnROb25UcmFjZWFibGVGdW5jdGlvbihmdW5jKSB7XG5cdGlmIChpc1RyYWNlYWJsZUZ1bmN0aW9uKGZ1bmMpKSB0aHJvdyBuZXcgRXJyb3IoXCJSdW5uYWJsZUxhbWJkYSByZXF1aXJlcyBhIGZ1bmN0aW9uIHRoYXQgaXMgbm90IHdyYXBwZWQgaW4gdHJhY2VhYmxlIGhpZ2hlci1vcmRlciBmdW5jdGlvbi4gVGhpcyBzaG91bGRuJ3QgaGFwcGVuLlwiKTtcbn1cbi8qKlxuKiBBIHJ1bm5hYmxlIHRoYXQgd3JhcHMgYW4gYXJiaXRyYXJ5IGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSBzaW5nbGUgYXJndW1lbnQuXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogaW1wb3J0IHsgUnVubmFibGVMYW1iZGEgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3J1bm5hYmxlc1wiO1xuKlxuKiBjb25zdCBhZGQgPSAoaW5wdXQ6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSkgPT4gaW5wdXQueCArIGlucHV0Lnk7XG4qXG4qIGNvbnN0IG11bHRpcGx5ID0gKGlucHV0OiB7IHZhbHVlOiBudW1iZXI7IG11bHRpcGxpZXI6IG51bWJlciB9KSA9PlxuKiAgIGlucHV0LnZhbHVlICogaW5wdXQubXVsdGlwbGllcjtcbipcbiogLy8gQ3JlYXRlIHJ1bm5hYmxlcyBmb3IgdGhlIGZ1bmN0aW9uc1xuKiBjb25zdCBhZGRMYW1iZGEgPSBSdW5uYWJsZUxhbWJkYS5mcm9tKGFkZCk7XG4qIGNvbnN0IG11bHRpcGx5TGFtYmRhID0gUnVubmFibGVMYW1iZGEuZnJvbShtdWx0aXBseSk7XG4qXG4qIC8vIENoYWluIHRoZSBsYW1iZGFzIGZvciBhIG1hdGhlbWF0aWNhbCBvcGVyYXRpb25cbiogY29uc3QgY2hhaW5lZExhbWJkYSA9IGFkZExhbWJkYS5waXBlKChyZXN1bHQpID0+XG4qICAgbXVsdGlwbHlMYW1iZGEuaW52b2tlKHsgdmFsdWU6IHJlc3VsdCwgbXVsdGlwbGllcjogMiB9KVxuKiApO1xuKlxuKiAvLyBFeGFtcGxlIGludm9jYXRpb24gb2YgdGhlIGNoYWluZWRMYW1iZGFcbiogY29uc3QgcmVzdWx0ID0gYXdhaXQgY2hhaW5lZExhbWJkYS5pbnZva2UoeyB4OiAyLCB5OiAzIH0pO1xuKlxuKiAvLyBXaWxsIGxvZyBcIjEwXCIgKHNpbmNlICgyICsgMykgKiAyID0gMTApXG4qIGBgYFxuKi9cbnZhciBSdW5uYWJsZUxhbWJkYSA9IGNsYXNzIFJ1bm5hYmxlTGFtYmRhIGV4dGVuZHMgUnVubmFibGUge1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJSdW5uYWJsZUxhbWJkYVwiO1xuXHR9XG5cdGxjX25hbWVzcGFjZSA9IFtcImxhbmdjaGFpbl9jb3JlXCIsIFwicnVubmFibGVzXCJdO1xuXHRmdW5jO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRpZiAoaXNUcmFjZWFibGVGdW5jdGlvbihmaWVsZHMuZnVuYykpIHJldHVybiBSdW5uYWJsZVRyYWNlYWJsZS5mcm9tKGZpZWxkcy5mdW5jKTtcblx0XHRzdXBlcihmaWVsZHMpO1xuXHRcdGFzc2VydE5vblRyYWNlYWJsZUZ1bmN0aW9uKGZpZWxkcy5mdW5jKTtcblx0XHR0aGlzLmZ1bmMgPSBmaWVsZHMuZnVuYztcblx0fVxuXHRzdGF0aWMgZnJvbShmdW5jKSB7XG5cdFx0cmV0dXJuIG5ldyBSdW5uYWJsZUxhbWJkYSh7IGZ1bmMgfSk7XG5cdH1cblx0YXN5bmMgX2ludm9rZShpbnB1dCwgY29uZmlnLCBydW5NYW5hZ2VyKSB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdGNvbnN0IGNoaWxkQ29uZmlnID0gcGF0Y2hDb25maWcoY29uZmlnLCB7XG5cdFx0XHRcdGNhbGxiYWNrczogcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoKSxcblx0XHRcdFx0cmVjdXJzaW9uTGltaXQ6IChjb25maWc/LnJlY3Vyc2lvbkxpbWl0ID8/IERFRkFVTFRfUkVDVVJTSU9OX0xJTUlUKSAtIDFcblx0XHRcdH0pO1xuXHRcdFx0QXN5bmNMb2NhbFN0b3JhZ2VQcm92aWRlclNpbmdsZXRvbi5ydW5XaXRoQ29uZmlnKHBpY2tSdW5uYWJsZUNvbmZpZ0tleXMoY2hpbGRDb25maWcpLCBhc3luYyAoKSA9PiB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0bGV0IG91dHB1dCA9IGF3YWl0IHRoaXMuZnVuYyhpbnB1dCwgeyAuLi5jaGlsZENvbmZpZyB9KTtcblx0XHRcdFx0XHRpZiAob3V0cHV0ICYmIFJ1bm5hYmxlLmlzUnVubmFibGUob3V0cHV0KSkge1xuXHRcdFx0XHRcdFx0aWYgKGNvbmZpZz8ucmVjdXJzaW9uTGltaXQgPT09IDApIHRocm93IG5ldyBFcnJvcihcIlJlY3Vyc2lvbiBsaW1pdCByZWFjaGVkLlwiKTtcblx0XHRcdFx0XHRcdG91dHB1dCA9IGF3YWl0IG91dHB1dC5pbnZva2UoaW5wdXQsIHtcblx0XHRcdFx0XHRcdFx0Li4uY2hpbGRDb25maWcsXG5cdFx0XHRcdFx0XHRcdHJlY3Vyc2lvbkxpbWl0OiAoY2hpbGRDb25maWcucmVjdXJzaW9uTGltaXQgPz8gREVGQVVMVF9SRUNVUlNJT05fTElNSVQpIC0gMVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChpc0FzeW5jSXRlcmFibGUob3V0cHV0KSkge1xuXHRcdFx0XHRcdFx0bGV0IGZpbmFsT3V0cHV0O1xuXHRcdFx0XHRcdFx0Zm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBjb25zdW1lQXN5bmNJdGVyYWJsZUluQ29udGV4dChjaGlsZENvbmZpZywgb3V0cHV0KSkge1xuXHRcdFx0XHRcdFx0XHRjb25maWc/LnNpZ25hbD8udGhyb3dJZkFib3J0ZWQoKTtcblx0XHRcdFx0XHRcdFx0aWYgKGZpbmFsT3V0cHV0ID09PSB2b2lkIDApIGZpbmFsT3V0cHV0ID0gY2h1bms7XG5cdFx0XHRcdFx0XHRcdGVsc2UgdHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRmaW5hbE91dHB1dCA9IHRoaXMuX2NvbmNhdE91dHB1dENodW5rcyhmaW5hbE91dHB1dCwgY2h1bmspO1xuXHRcdFx0XHRcdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0XHRcdFx0XHRmaW5hbE91dHB1dCA9IGNodW5rO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRvdXRwdXQgPSBmaW5hbE91dHB1dDtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGlzSXRlcmFibGVJdGVyYXRvcihvdXRwdXQpKSB7XG5cdFx0XHRcdFx0XHRsZXQgZmluYWxPdXRwdXQ7XG5cdFx0XHRcdFx0XHRmb3IgKGNvbnN0IGNodW5rIG9mIGNvbnN1bWVJdGVyYXRvckluQ29udGV4dChjaGlsZENvbmZpZywgb3V0cHV0KSkge1xuXHRcdFx0XHRcdFx0XHRjb25maWc/LnNpZ25hbD8udGhyb3dJZkFib3J0ZWQoKTtcblx0XHRcdFx0XHRcdFx0aWYgKGZpbmFsT3V0cHV0ID09PSB2b2lkIDApIGZpbmFsT3V0cHV0ID0gY2h1bms7XG5cdFx0XHRcdFx0XHRcdGVsc2UgdHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRmaW5hbE91dHB1dCA9IHRoaXMuX2NvbmNhdE91dHB1dENodW5rcyhmaW5hbE91dHB1dCwgY2h1bmspO1xuXHRcdFx0XHRcdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0XHRcdFx0XHRmaW5hbE91dHB1dCA9IGNodW5rO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRvdXRwdXQgPSBmaW5hbE91dHB1dDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmVzb2x2ZShvdXRwdXQpO1xuXHRcdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdFx0cmVqZWN0KGUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXHRhc3luYyBpbnZva2UoaW5wdXQsIG9wdGlvbnMpIHtcblx0XHRyZXR1cm4gdGhpcy5fY2FsbFdpdGhDb25maWcodGhpcy5faW52b2tlLmJpbmQodGhpcyksIGlucHV0LCBvcHRpb25zKTtcblx0fVxuXHRhc3luYyAqX3RyYW5zZm9ybShnZW5lcmF0b3IsIHJ1bk1hbmFnZXIsIGNvbmZpZykge1xuXHRcdGxldCBmaW5hbENodW5rO1xuXHRcdGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgZ2VuZXJhdG9yKSBpZiAoZmluYWxDaHVuayA9PT0gdm9pZCAwKSBmaW5hbENodW5rID0gY2h1bms7XG5cdFx0ZWxzZSB0cnkge1xuXHRcdFx0ZmluYWxDaHVuayA9IHRoaXMuX2NvbmNhdE91dHB1dENodW5rcyhmaW5hbENodW5rLCBjaHVuayk7XG5cdFx0fSBjYXRjaCB7XG5cdFx0XHRmaW5hbENodW5rID0gY2h1bms7XG5cdFx0fVxuXHRcdGNvbnN0IGNoaWxkQ29uZmlnID0gcGF0Y2hDb25maWcoY29uZmlnLCB7XG5cdFx0XHRjYWxsYmFja3M6IHJ1bk1hbmFnZXI/LmdldENoaWxkKCksXG5cdFx0XHRyZWN1cnNpb25MaW1pdDogKGNvbmZpZz8ucmVjdXJzaW9uTGltaXQgPz8gREVGQVVMVF9SRUNVUlNJT05fTElNSVQpIC0gMVxuXHRcdH0pO1xuXHRcdGNvbnN0IG91dHB1dCA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdEFzeW5jTG9jYWxTdG9yYWdlUHJvdmlkZXJTaW5nbGV0b24ucnVuV2l0aENvbmZpZyhwaWNrUnVubmFibGVDb25maWdLZXlzKGNoaWxkQ29uZmlnKSwgYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuZnVuYyhmaW5hbENodW5rLCB7XG5cdFx0XHRcdFx0XHQuLi5jaGlsZENvbmZpZyxcblx0XHRcdFx0XHRcdGNvbmZpZzogY2hpbGRDb25maWdcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRyZXNvbHZlKHJlcyk7XG5cdFx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0XHRyZWplY3QoZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0pO1xuXHRcdGlmIChvdXRwdXQgJiYgUnVubmFibGUuaXNSdW5uYWJsZShvdXRwdXQpKSB7XG5cdFx0XHRpZiAoY29uZmlnPy5yZWN1cnNpb25MaW1pdCA9PT0gMCkgdGhyb3cgbmV3IEVycm9yKFwiUmVjdXJzaW9uIGxpbWl0IHJlYWNoZWQuXCIpO1xuXHRcdFx0Y29uc3Qgc3RyZWFtID0gYXdhaXQgb3V0cHV0LnN0cmVhbShmaW5hbENodW5rLCBjaGlsZENvbmZpZyk7XG5cdFx0XHRmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHN0cmVhbSkgeWllbGQgY2h1bms7XG5cdFx0fSBlbHNlIGlmIChpc0FzeW5jSXRlcmFibGUob3V0cHV0KSkgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBjb25zdW1lQXN5bmNJdGVyYWJsZUluQ29udGV4dChjaGlsZENvbmZpZywgb3V0cHV0KSkge1xuXHRcdFx0Y29uZmlnPy5zaWduYWw/LnRocm93SWZBYm9ydGVkKCk7XG5cdFx0XHR5aWVsZCBjaHVuaztcblx0XHR9XG5cdFx0ZWxzZSBpZiAoaXNJdGVyYWJsZUl0ZXJhdG9yKG91dHB1dCkpIGZvciAoY29uc3QgY2h1bmsgb2YgY29uc3VtZUl0ZXJhdG9ySW5Db250ZXh0KGNoaWxkQ29uZmlnLCBvdXRwdXQpKSB7XG5cdFx0XHRjb25maWc/LnNpZ25hbD8udGhyb3dJZkFib3J0ZWQoKTtcblx0XHRcdHlpZWxkIGNodW5rO1xuXHRcdH1cblx0XHRlbHNlIHlpZWxkIG91dHB1dDtcblx0fVxuXHR0cmFuc2Zvcm0oZ2VuZXJhdG9yLCBvcHRpb25zKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3RyYW5zZm9ybVN0cmVhbVdpdGhDb25maWcoZ2VuZXJhdG9yLCB0aGlzLl90cmFuc2Zvcm0uYmluZCh0aGlzKSwgb3B0aW9ucyk7XG5cdH1cblx0YXN5bmMgc3RyZWFtKGlucHV0LCBvcHRpb25zKSB7XG5cdFx0YXN5bmMgZnVuY3Rpb24qIGdlbmVyYXRvcigpIHtcblx0XHRcdHlpZWxkIGlucHV0O1xuXHRcdH1cblx0XHRjb25zdCBjb25maWcgPSBlbnN1cmVDb25maWcob3B0aW9ucyk7XG5cdFx0Y29uc3Qgd3JhcHBlZEdlbmVyYXRvciA9IG5ldyBBc3luY0dlbmVyYXRvcldpdGhTZXR1cCh7XG5cdFx0XHRnZW5lcmF0b3I6IHRoaXMudHJhbnNmb3JtKGdlbmVyYXRvcigpLCBjb25maWcpLFxuXHRcdFx0Y29uZmlnXG5cdFx0fSk7XG5cdFx0YXdhaXQgd3JhcHBlZEdlbmVyYXRvci5zZXR1cDtcblx0XHRyZXR1cm4gSXRlcmFibGVSZWFkYWJsZVN0cmVhbS5mcm9tQXN5bmNHZW5lcmF0b3Iod3JhcHBlZEdlbmVyYXRvcik7XG5cdH1cbn07XG4vKipcbiogQSBydW5uYWJsZSB0aGF0IHJ1bnMgYSBtYXBwaW5nIG9mIHJ1bm5hYmxlcyBpbiBwYXJhbGxlbCxcbiogYW5kIHJldHVybnMgYSBtYXBwaW5nIG9mIHRoZWlyIG91dHB1dHMuXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogaW1wb3J0IHtcbiogICBSdW5uYWJsZUxhbWJkYSxcbiogICBSdW5uYWJsZVBhcmFsbGVsLFxuKiB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvcnVubmFibGVzXCI7XG4qXG4qIGNvbnN0IGFkZFllYXJzID0gKGFnZTogbnVtYmVyKTogbnVtYmVyID0+IGFnZSArIDU7XG4qIGNvbnN0IHllYXJzVG9GaWZ0eSA9IChhZ2U6IG51bWJlcik6IG51bWJlciA9PiA1MCAtIGFnZTtcbiogY29uc3QgeWVhcnNUb0h1bmRyZWQgPSAoYWdlOiBudW1iZXIpOiBudW1iZXIgPT4gMTAwIC0gYWdlO1xuKlxuKiBjb25zdCBhZGRZZWFyc0xhbWJkYSA9IFJ1bm5hYmxlTGFtYmRhLmZyb20oYWRkWWVhcnMpO1xuKiBjb25zdCBtaWxlc3RvbmVGaWZ0eUxhbWJkYSA9IFJ1bm5hYmxlTGFtYmRhLmZyb20oeWVhcnNUb0ZpZnR5KTtcbiogY29uc3QgbWlsZXN0b25lSHVuZHJlZExhbWJkYSA9IFJ1bm5hYmxlTGFtYmRhLmZyb20oeWVhcnNUb0h1bmRyZWQpO1xuKlxuKiAvLyBQaXBlIHdpbGwgY29lcmNlIG9iamVjdHMgaW50byBSdW5uYWJsZVBhcmFsbGVsIGJ5IGRlZmF1bHQsIGJ1dCB3ZVxuKiAvLyBleHBsaWNpdGx5IGluc3RhbnRpYXRlIG9uZSBoZXJlIHRvIGRlbW9uc3RyYXRlXG4qIGNvbnN0IHNlcXVlbmNlID0gYWRkWWVhcnNMYW1iZGEucGlwZShcbiogICBSdW5uYWJsZVBhcmFsbGVsLmZyb20oe1xuKiAgICAgeWVhcnNfdG9fZmlmdHk6IG1pbGVzdG9uZUZpZnR5TGFtYmRhLFxuKiAgICAgeWVhcnNfdG9faHVuZHJlZDogbWlsZXN0b25lSHVuZHJlZExhbWJkYSxcbiogICB9KVxuKiApO1xuKlxuKiAvLyBJbnZva2UgdGhlIHNlcXVlbmNlIHdpdGggYSBzaW5nbGUgYWdlIGlucHV0XG4qIGNvbnN0IHJlcyA9IGF3YWl0IHNlcXVlbmNlLmludm9rZSgyNSk7XG4qXG4qIC8vIHsgeWVhcnNfdG9fZmlmdHk6IDIwLCB5ZWFyc190b19odW5kcmVkOiA3MCB9XG4qIGBgYFxuKi9cbnZhciBSdW5uYWJsZVBhcmFsbGVsID0gY2xhc3MgZXh0ZW5kcyBSdW5uYWJsZU1hcCB7fTtcbi8qKlxuKiBBIFJ1bm5hYmxlIHRoYXQgY2FuIGZhbGxiYWNrIHRvIG90aGVyIFJ1bm5hYmxlcyBpZiBpdCBmYWlscy5cbiogRXh0ZXJuYWwgQVBJcyAoZS5nLiwgQVBJcyBmb3IgYSBsYW5ndWFnZSBtb2RlbCkgbWF5IGF0IHRpbWVzIGV4cGVyaWVuY2VcbiogZGVncmFkZWQgcGVyZm9ybWFuY2Ugb3IgZXZlbiBkb3dudGltZS5cbipcbiogSW4gdGhlc2UgY2FzZXMsIGl0IGNhbiBiZSB1c2VmdWwgdG8gaGF2ZSBhIGZhbGxiYWNrIFJ1bm5hYmxlIHRoYXQgY2FuIGJlXG4qIHVzZWQgaW4gcGxhY2Ugb2YgdGhlIG9yaWdpbmFsIFJ1bm5hYmxlIChlLmcuLCBmYWxsYmFjayB0byBhbm90aGVyIExMTSBwcm92aWRlcikuXG4qXG4qIEZhbGxiYWNrcyBjYW4gYmUgZGVmaW5lZCBhdCB0aGUgbGV2ZWwgb2YgYSBzaW5nbGUgUnVubmFibGUsIG9yIGF0IHRoZSBsZXZlbFxuKiBvZiBhIGNoYWluIG9mIFJ1bm5hYmxlcy4gRmFsbGJhY2tzIGFyZSB0cmllZCBpbiBvcmRlciB1bnRpbCBvbmUgc3VjY2VlZHMgb3JcbiogYWxsIGZhaWwuXG4qXG4qIFdoaWxlIHlvdSBjYW4gaW5zdGFudGlhdGUgYSBgUnVubmFibGVXaXRoRmFsbGJhY2tzYCBkaXJlY3RseSwgaXQgaXMgdXN1YWxseVxuKiBtb3JlIGNvbnZlbmllbnQgdG8gdXNlIHRoZSBgd2l0aEZhbGxiYWNrc2AgbWV0aG9kIG9uIGFuIGV4aXN0aW5nIFJ1bm5hYmxlLlxuKlxuKiBXaGVuIHN0cmVhbWluZywgZmFsbGJhY2tzIHdpbGwgb25seSBiZSBjYWxsZWQgb24gZmFpbHVyZXMgZHVyaW5nIHRoZSBpbml0aWFsXG4qIHN0cmVhbSBjcmVhdGlvbi4gRXJyb3JzIHRoYXQgb2NjdXIgYWZ0ZXIgYSBzdHJlYW0gc3RhcnRzIHdpbGwgbm90IGZhbGxiYWNrXG4qIHRvIHRoZSBuZXh0IFJ1bm5hYmxlLlxuKlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIGltcG9ydCB7XG4qICAgUnVubmFibGVMYW1iZGEsXG4qICAgUnVubmFibGVXaXRoRmFsbGJhY2tzLFxuKiB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvcnVubmFibGVzXCI7XG4qXG4qIGNvbnN0IHByaW1hcnlPcGVyYXRpb24gPSAoaW5wdXQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4qICAgaWYgKGlucHV0ICE9PSBcInNhZmVcIikge1xuKiAgICAgdGhyb3cgbmV3IEVycm9yKFwiUHJpbWFyeSBvcGVyYXRpb24gZmFpbGVkIGR1ZSB0byB1bnNhZmUgaW5wdXRcIik7XG4qICAgfVxuKiAgIHJldHVybiBgUHJvY2Vzc2VkOiAke2lucHV0fWA7XG4qIH07XG4qXG4qIC8vIERlZmluZSBhIGZhbGxiYWNrIG9wZXJhdGlvbiB0aGF0IHByb2Nlc3NlcyB0aGUgaW5wdXQgZGlmZmVyZW50bHlcbiogY29uc3QgZmFsbGJhY2tPcGVyYXRpb24gPSAoaW5wdXQ6IHN0cmluZyk6IHN0cmluZyA9PlxuKiAgIGBGYWxsYmFjayBwcm9jZXNzZWQ6ICR7aW5wdXR9YDtcbipcbiogY29uc3QgcHJpbWFyeVJ1bm5hYmxlID0gUnVubmFibGVMYW1iZGEuZnJvbShwcmltYXJ5T3BlcmF0aW9uKTtcbiogY29uc3QgZmFsbGJhY2tSdW5uYWJsZSA9IFJ1bm5hYmxlTGFtYmRhLmZyb20oZmFsbGJhY2tPcGVyYXRpb24pO1xuKlxuKiAvLyBBcHBseSB0aGUgZmFsbGJhY2sgbG9naWMgdXNpbmcgdGhlIC53aXRoRmFsbGJhY2tzKCkgbWV0aG9kXG4qIGNvbnN0IHJ1bm5hYmxlV2l0aEZhbGxiYWNrID0gcHJpbWFyeVJ1bm5hYmxlLndpdGhGYWxsYmFja3MoW2ZhbGxiYWNrUnVubmFibGVdKTtcbipcbiogLy8gQWx0ZXJuYXRpdmVseSwgY3JlYXRlIGEgUnVubmFibGVXaXRoRmFsbGJhY2tzIGluc3RhbmNlIG1hbnVhbGx5XG4qIGNvbnN0IG1hbnVhbEZhbGxiYWNrQ2hhaW4gPSBuZXcgUnVubmFibGVXaXRoRmFsbGJhY2tzKHtcbiogICBydW5uYWJsZTogcHJpbWFyeVJ1bm5hYmxlLFxuKiAgIGZhbGxiYWNrczogW2ZhbGxiYWNrUnVubmFibGVdLFxuKiB9KTtcbipcbiogLy8gRXhhbXBsZSBpbnZvY2F0aW9uIHVzaW5nIC53aXRoRmFsbGJhY2tzKClcbiogY29uc3QgcmVzID0gYXdhaXQgcnVubmFibGVXaXRoRmFsbGJhY2tcbiogICAuaW52b2tlKFwidW5zYWZlIGlucHV0XCIpXG4qICAgLmNhdGNoKChlcnJvcikgPT4ge1xuKiAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCBhZnRlciBhbGwgYXR0ZW1wdHM6XCIsIGVycm9yLm1lc3NhZ2UpO1xuKiAgIH0pO1xuKlxuKiAvLyBcIkZhbGxiYWNrIHByb2Nlc3NlZDogdW5zYWZlIGlucHV0XCJcbipcbiogLy8gRXhhbXBsZSBpbnZvY2F0aW9uIHVzaW5nIG1hbnVhbCBpbnN0YW50aWF0aW9uXG4qIGNvbnN0IHJlcyA9IGF3YWl0IG1hbnVhbEZhbGxiYWNrQ2hhaW5cbiogICAuaW52b2tlKFwic2FmZVwiKVxuKiAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiogICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgYWZ0ZXIgYWxsIGF0dGVtcHRzOlwiLCBlcnJvci5tZXNzYWdlKTtcbiogICB9KTtcbipcbiogLy8gXCJQcm9jZXNzZWQ6IHNhZmVcIlxuKiBgYGBcbiovXG52YXIgUnVubmFibGVXaXRoRmFsbGJhY2tzID0gY2xhc3MgZXh0ZW5kcyBSdW5uYWJsZSB7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIlJ1bm5hYmxlV2l0aEZhbGxiYWNrc1wiO1xuXHR9XG5cdGxjX25hbWVzcGFjZSA9IFtcImxhbmdjaGFpbl9jb3JlXCIsIFwicnVubmFibGVzXCJdO1xuXHRsY19zZXJpYWxpemFibGUgPSB0cnVlO1xuXHRydW5uYWJsZTtcblx0ZmFsbGJhY2tzO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRzdXBlcihmaWVsZHMpO1xuXHRcdHRoaXMucnVubmFibGUgPSBmaWVsZHMucnVubmFibGU7XG5cdFx0dGhpcy5mYWxsYmFja3MgPSBmaWVsZHMuZmFsbGJhY2tzO1xuXHR9XG5cdCpydW5uYWJsZXMoKSB7XG5cdFx0eWllbGQgdGhpcy5ydW5uYWJsZTtcblx0XHRmb3IgKGNvbnN0IGZhbGxiYWNrIG9mIHRoaXMuZmFsbGJhY2tzKSB5aWVsZCBmYWxsYmFjaztcblx0fVxuXHRhc3luYyBpbnZva2UoaW5wdXQsIG9wdGlvbnMpIHtcblx0XHRjb25zdCBjb25maWcgPSBlbnN1cmVDb25maWcob3B0aW9ucyk7XG5cdFx0Y29uc3QgY2FsbGJhY2tNYW5hZ2VyXyA9IGF3YWl0IGdldENhbGxiYWNrTWFuYWdlckZvckNvbmZpZyhjb25maWcpO1xuXHRcdGNvbnN0IHsgcnVuSWQsLi4ub3RoZXJDb25maWdGaWVsZHMgfSA9IGNvbmZpZztcblx0XHRjb25zdCBydW5NYW5hZ2VyID0gYXdhaXQgY2FsbGJhY2tNYW5hZ2VyXz8uaGFuZGxlQ2hhaW5TdGFydCh0aGlzLnRvSlNPTigpLCBfY29lcmNlVG9EaWN0KGlucHV0LCBcImlucHV0XCIpLCBydW5JZCwgdm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgb3RoZXJDb25maWdGaWVsZHM/LnJ1bk5hbWUpO1xuXHRcdGNvbnN0IGNoaWxkQ29uZmlnID0gcGF0Y2hDb25maWcob3RoZXJDb25maWdGaWVsZHMsIHsgY2FsbGJhY2tzOiBydW5NYW5hZ2VyPy5nZXRDaGlsZCgpIH0pO1xuXHRcdGNvbnN0IHJlcyA9IGF3YWl0IEFzeW5jTG9jYWxTdG9yYWdlUHJvdmlkZXJTaW5nbGV0b24ucnVuV2l0aENvbmZpZyhjaGlsZENvbmZpZywgYXN5bmMgKCkgPT4ge1xuXHRcdFx0bGV0IGZpcnN0RXJyb3I7XG5cdFx0XHRmb3IgKGNvbnN0IHJ1bm5hYmxlIG9mIHRoaXMucnVubmFibGVzKCkpIHtcblx0XHRcdFx0Y29uZmlnPy5zaWduYWw/LnRocm93SWZBYm9ydGVkKCk7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Y29uc3Qgb3V0cHV0ID0gYXdhaXQgcnVubmFibGUuaW52b2tlKGlucHV0LCBjaGlsZENvbmZpZyk7XG5cdFx0XHRcdFx0YXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FbmQoX2NvZXJjZVRvRGljdChvdXRwdXQsIFwib3V0cHV0XCIpKTtcblx0XHRcdFx0XHRyZXR1cm4gb3V0cHV0O1xuXHRcdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdFx0aWYgKGZpcnN0RXJyb3IgPT09IHZvaWQgMCkgZmlyc3RFcnJvciA9IGU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGlmIChmaXJzdEVycm9yID09PSB2b2lkIDApIHRocm93IG5ldyBFcnJvcihcIk5vIGVycm9yIHN0b3JlZCBhdCBlbmQgb2YgZmFsbGJhY2suXCIpO1xuXHRcdFx0YXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FcnJvcihmaXJzdEVycm9yKTtcblx0XHRcdHRocm93IGZpcnN0RXJyb3I7XG5cdFx0fSk7XG5cdFx0cmV0dXJuIHJlcztcblx0fVxuXHRhc3luYyAqX3N0cmVhbUl0ZXJhdG9yKGlucHV0LCBvcHRpb25zKSB7XG5cdFx0Y29uc3QgY29uZmlnID0gZW5zdXJlQ29uZmlnKG9wdGlvbnMpO1xuXHRcdGNvbnN0IGNhbGxiYWNrTWFuYWdlcl8gPSBhd2FpdCBnZXRDYWxsYmFja01hbmFnZXJGb3JDb25maWcoY29uZmlnKTtcblx0XHRjb25zdCB7IHJ1bklkLC4uLm90aGVyQ29uZmlnRmllbGRzIH0gPSBjb25maWc7XG5cdFx0Y29uc3QgcnVuTWFuYWdlciA9IGF3YWl0IGNhbGxiYWNrTWFuYWdlcl8/LmhhbmRsZUNoYWluU3RhcnQodGhpcy50b0pTT04oKSwgX2NvZXJjZVRvRGljdChpbnB1dCwgXCJpbnB1dFwiKSwgcnVuSWQsIHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIG90aGVyQ29uZmlnRmllbGRzPy5ydW5OYW1lKTtcblx0XHRsZXQgZmlyc3RFcnJvcjtcblx0XHRsZXQgc3RyZWFtO1xuXHRcdGZvciAoY29uc3QgcnVubmFibGUgb2YgdGhpcy5ydW5uYWJsZXMoKSkge1xuXHRcdFx0Y29uZmlnPy5zaWduYWw/LnRocm93SWZBYm9ydGVkKCk7XG5cdFx0XHRjb25zdCBjaGlsZENvbmZpZyA9IHBhdGNoQ29uZmlnKG90aGVyQ29uZmlnRmllbGRzLCB7IGNhbGxiYWNrczogcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoKSB9KTtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGNvbnN0IG9yaWdpbmFsU3RyZWFtID0gYXdhaXQgcnVubmFibGUuc3RyZWFtKGlucHV0LCBjaGlsZENvbmZpZyk7XG5cdFx0XHRcdHN0cmVhbSA9IGNvbnN1bWVBc3luY0l0ZXJhYmxlSW5Db250ZXh0KGNoaWxkQ29uZmlnLCBvcmlnaW5hbFN0cmVhbSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRpZiAoZmlyc3RFcnJvciA9PT0gdm9pZCAwKSBmaXJzdEVycm9yID0gZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKHN0cmVhbSA9PT0gdm9pZCAwKSB7XG5cdFx0XHRjb25zdCBlcnJvciA9IGZpcnN0RXJyb3IgPz8gLyogQF9fUFVSRV9fICovIG5ldyBFcnJvcihcIk5vIGVycm9yIHN0b3JlZCBhdCBlbmQgb2YgZmFsbGJhY2suXCIpO1xuXHRcdFx0YXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FcnJvcihlcnJvcik7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cdFx0bGV0IG91dHB1dDtcblx0XHR0cnkge1xuXHRcdFx0Zm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBzdHJlYW0pIHtcblx0XHRcdFx0eWllbGQgY2h1bms7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0b3V0cHV0ID0gb3V0cHV0ID09PSB2b2lkIDAgPyBvdXRwdXQgOiB0aGlzLl9jb25jYXRPdXRwdXRDaHVua3Mob3V0cHV0LCBjaHVuayk7XG5cdFx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHRcdG91dHB1dCA9IHZvaWQgMDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRXJyb3IoZSk7XG5cdFx0XHR0aHJvdyBlO1xuXHRcdH1cblx0XHRhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVDaGFpbkVuZChfY29lcmNlVG9EaWN0KG91dHB1dCwgXCJvdXRwdXRcIikpO1xuXHR9XG5cdGFzeW5jIGJhdGNoKGlucHV0cywgb3B0aW9ucywgYmF0Y2hPcHRpb25zKSB7XG5cdFx0aWYgKGJhdGNoT3B0aW9ucz8ucmV0dXJuRXhjZXB0aW9ucykgdGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkLlwiKTtcblx0XHRjb25zdCBjb25maWdMaXN0ID0gdGhpcy5fZ2V0T3B0aW9uc0xpc3Qob3B0aW9ucyA/PyB7fSwgaW5wdXRzLmxlbmd0aCk7XG5cdFx0Y29uc3QgY2FsbGJhY2tNYW5hZ2VycyA9IGF3YWl0IFByb21pc2UuYWxsKGNvbmZpZ0xpc3QubWFwKChjb25maWcpID0+IGdldENhbGxiYWNrTWFuYWdlckZvckNvbmZpZyhjb25maWcpKSk7XG5cdFx0Y29uc3QgcnVuTWFuYWdlcnMgPSBhd2FpdCBQcm9taXNlLmFsbChjYWxsYmFja01hbmFnZXJzLm1hcChhc3luYyAoY2FsbGJhY2tNYW5hZ2VyLCBpKSA9PiB7XG5cdFx0XHRjb25zdCBoYW5kbGVTdGFydFJlcyA9IGF3YWl0IGNhbGxiYWNrTWFuYWdlcj8uaGFuZGxlQ2hhaW5TdGFydCh0aGlzLnRvSlNPTigpLCBfY29lcmNlVG9EaWN0KGlucHV0c1tpXSwgXCJpbnB1dFwiKSwgY29uZmlnTGlzdFtpXS5ydW5JZCwgdm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgY29uZmlnTGlzdFtpXS5ydW5OYW1lKTtcblx0XHRcdGRlbGV0ZSBjb25maWdMaXN0W2ldLnJ1bklkO1xuXHRcdFx0cmV0dXJuIGhhbmRsZVN0YXJ0UmVzO1xuXHRcdH0pKTtcblx0XHRsZXQgZmlyc3RFcnJvcjtcblx0XHRmb3IgKGNvbnN0IHJ1bm5hYmxlIG9mIHRoaXMucnVubmFibGVzKCkpIHtcblx0XHRcdGNvbmZpZ0xpc3RbMF0uc2lnbmFsPy50aHJvd0lmQWJvcnRlZCgpO1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29uc3Qgb3V0cHV0cyA9IGF3YWl0IHJ1bm5hYmxlLmJhdGNoKGlucHV0cywgcnVuTWFuYWdlcnMubWFwKChydW5NYW5hZ2VyLCBqKSA9PiBwYXRjaENvbmZpZyhjb25maWdMaXN0W2pdLCB7IGNhbGxiYWNrczogcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoKSB9KSksIGJhdGNoT3B0aW9ucyk7XG5cdFx0XHRcdGF3YWl0IFByb21pc2UuYWxsKHJ1bk1hbmFnZXJzLm1hcCgocnVuTWFuYWdlciwgaSkgPT4gcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FbmQoX2NvZXJjZVRvRGljdChvdXRwdXRzW2ldLCBcIm91dHB1dFwiKSkpKTtcblx0XHRcdFx0cmV0dXJuIG91dHB1dHM7XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdGlmIChmaXJzdEVycm9yID09PSB2b2lkIDApIGZpcnN0RXJyb3IgPSBlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoIWZpcnN0RXJyb3IpIHRocm93IG5ldyBFcnJvcihcIk5vIGVycm9yIHN0b3JlZCBhdCBlbmQgb2YgZmFsbGJhY2tzLlwiKTtcblx0XHRhd2FpdCBQcm9taXNlLmFsbChydW5NYW5hZ2Vycy5tYXAoKHJ1bk1hbmFnZXIpID0+IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRXJyb3IoZmlyc3RFcnJvcikpKTtcblx0XHR0aHJvdyBmaXJzdEVycm9yO1xuXHR9XG59O1xuZnVuY3Rpb24gX2NvZXJjZVRvUnVubmFibGUoY29lcmNlYWJsZSkge1xuXHRpZiAodHlwZW9mIGNvZXJjZWFibGUgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIG5ldyBSdW5uYWJsZUxhbWJkYSh7IGZ1bmM6IGNvZXJjZWFibGUgfSk7XG5cdGVsc2UgaWYgKFJ1bm5hYmxlLmlzUnVubmFibGUoY29lcmNlYWJsZSkpIHJldHVybiBjb2VyY2VhYmxlO1xuXHRlbHNlIGlmICghQXJyYXkuaXNBcnJheShjb2VyY2VhYmxlKSAmJiB0eXBlb2YgY29lcmNlYWJsZSA9PT0gXCJvYmplY3RcIikge1xuXHRcdGNvbnN0IHJ1bm5hYmxlcyA9IHt9O1xuXHRcdGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGNvZXJjZWFibGUpKSBydW5uYWJsZXNba2V5XSA9IF9jb2VyY2VUb1J1bm5hYmxlKHZhbHVlKTtcblx0XHRyZXR1cm4gbmV3IFJ1bm5hYmxlTWFwKHsgc3RlcHM6IHJ1bm5hYmxlcyB9KTtcblx0fSBlbHNlIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgYSBSdW5uYWJsZSwgZnVuY3Rpb24gb3Igb2JqZWN0Llxcbkluc3RlYWQgZ290IGFuIHVuc3VwcG9ydGVkIHR5cGUuYCk7XG59XG4vKipcbiogQSBydW5uYWJsZSB0aGF0IGFzc2lnbnMga2V5LXZhbHVlIHBhaXJzIHRvIGlucHV0cyBvZiB0eXBlIGBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPmAuXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogaW1wb3J0IHtcbiogICBSdW5uYWJsZUFzc2lnbixcbiogICBSdW5uYWJsZUxhbWJkYSxcbiogICBSdW5uYWJsZVBhcmFsbGVsLFxuKiB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvcnVubmFibGVzXCI7XG4qXG4qIGNvbnN0IGNhbGN1bGF0ZUFnZSA9ICh4OiB7IGJpcnRoWWVhcjogbnVtYmVyIH0pOiB7IGFnZTogbnVtYmVyIH0gPT4ge1xuKiAgIGNvbnN0IGN1cnJlbnRZZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpO1xuKiAgIHJldHVybiB7IGFnZTogY3VycmVudFllYXIgLSB4LmJpcnRoWWVhciB9O1xuKiB9O1xuKlxuKiBjb25zdCBjcmVhdGVHcmVldGluZyA9ICh4OiB7IG5hbWU6IHN0cmluZyB9KTogeyBncmVldGluZzogc3RyaW5nIH0gPT4ge1xuKiAgIHJldHVybiB7IGdyZWV0aW5nOiBgSGVsbG8sICR7eC5uYW1lfSFgIH07XG4qIH07XG4qXG4qIGNvbnN0IG1hcHBlciA9IFJ1bm5hYmxlUGFyYWxsZWwuZnJvbSh7XG4qICAgYWdlX3N0ZXA6IFJ1bm5hYmxlTGFtYmRhLmZyb20oY2FsY3VsYXRlQWdlKSxcbiogICBncmVldGluZ19zdGVwOiBSdW5uYWJsZUxhbWJkYS5mcm9tKGNyZWF0ZUdyZWV0aW5nKSxcbiogfSk7XG4qXG4qIGNvbnN0IHJ1bm5hYmxlQXNzaWduID0gbmV3IFJ1bm5hYmxlQXNzaWduKHsgbWFwcGVyIH0pO1xuKlxuKiBjb25zdCByZXMgPSBhd2FpdCBydW5uYWJsZUFzc2lnbi5pbnZva2UoeyBuYW1lOiBcIkFsaWNlXCIsIGJpcnRoWWVhcjogMTk5MCB9KTtcbipcbiogLy8geyBuYW1lOiBcIkFsaWNlXCIsIGJpcnRoWWVhcjogMTk5MCwgYWdlX3N0ZXA6IHsgYWdlOiAzNCB9LCBncmVldGluZ19zdGVwOiB7IGdyZWV0aW5nOiBcIkhlbGxvLCBBbGljZSFcIiB9IH1cbiogYGBgXG4qL1xudmFyIFJ1bm5hYmxlQXNzaWduID0gY2xhc3MgZXh0ZW5kcyBSdW5uYWJsZSB7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIlJ1bm5hYmxlQXNzaWduXCI7XG5cdH1cblx0bGNfbmFtZXNwYWNlID0gW1wibGFuZ2NoYWluX2NvcmVcIiwgXCJydW5uYWJsZXNcIl07XG5cdGxjX3NlcmlhbGl6YWJsZSA9IHRydWU7XG5cdG1hcHBlcjtcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0aWYgKGZpZWxkcyBpbnN0YW5jZW9mIFJ1bm5hYmxlTWFwKSBmaWVsZHMgPSB7IG1hcHBlcjogZmllbGRzIH07XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLm1hcHBlciA9IGZpZWxkcy5tYXBwZXI7XG5cdH1cblx0YXN5bmMgaW52b2tlKGlucHV0LCBvcHRpb25zKSB7XG5cdFx0Y29uc3QgbWFwcGVyUmVzdWx0ID0gYXdhaXQgdGhpcy5tYXBwZXIuaW52b2tlKGlucHV0LCBvcHRpb25zKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Li4uaW5wdXQsXG5cdFx0XHQuLi5tYXBwZXJSZXN1bHRcblx0XHR9O1xuXHR9XG5cdGFzeW5jICpfdHJhbnNmb3JtKGdlbmVyYXRvciwgcnVuTWFuYWdlciwgb3B0aW9ucykge1xuXHRcdGNvbnN0IG1hcHBlcktleXMgPSB0aGlzLm1hcHBlci5nZXRTdGVwc0tleXMoKTtcblx0XHRjb25zdCBbZm9yUGFzc3Rocm91Z2gsIGZvck1hcHBlcl0gPSBhdGVlKGdlbmVyYXRvcik7XG5cdFx0Y29uc3QgbWFwcGVyT3V0cHV0ID0gdGhpcy5tYXBwZXIudHJhbnNmb3JtKGZvck1hcHBlciwgcGF0Y2hDb25maWcob3B0aW9ucywgeyBjYWxsYmFja3M6IHJ1bk1hbmFnZXI/LmdldENoaWxkKCkgfSkpO1xuXHRcdGNvbnN0IGZpcnN0TWFwcGVyQ2h1bmtQcm9taXNlID0gbWFwcGVyT3V0cHV0Lm5leHQoKTtcblx0XHRmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIGZvclBhc3N0aHJvdWdoKSB7XG5cdFx0XHRpZiAodHlwZW9mIGNodW5rICE9PSBcIm9iamVjdFwiIHx8IEFycmF5LmlzQXJyYXkoY2h1bmspKSB0aHJvdyBuZXcgRXJyb3IoYFJ1bm5hYmxlQXNzaWduIGNhbiBvbmx5IGJlIHVzZWQgd2l0aCBvYmplY3RzIGFzIGlucHV0LCBnb3QgJHt0eXBlb2YgY2h1bmt9YCk7XG5cdFx0XHRjb25zdCBmaWx0ZXJlZCA9IE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyhjaHVuaykuZmlsdGVyKChba2V5XSkgPT4gIW1hcHBlcktleXMuaW5jbHVkZXMoa2V5KSkpO1xuXHRcdFx0aWYgKE9iamVjdC5rZXlzKGZpbHRlcmVkKS5sZW5ndGggPiAwKSB5aWVsZCBmaWx0ZXJlZDtcblx0XHR9XG5cdFx0eWllbGQgKGF3YWl0IGZpcnN0TWFwcGVyQ2h1bmtQcm9taXNlKS52YWx1ZTtcblx0XHRmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIG1hcHBlck91dHB1dCkgeWllbGQgY2h1bms7XG5cdH1cblx0dHJhbnNmb3JtKGdlbmVyYXRvciwgb3B0aW9ucykge1xuXHRcdHJldHVybiB0aGlzLl90cmFuc2Zvcm1TdHJlYW1XaXRoQ29uZmlnKGdlbmVyYXRvciwgdGhpcy5fdHJhbnNmb3JtLmJpbmQodGhpcyksIG9wdGlvbnMpO1xuXHR9XG5cdGFzeW5jIHN0cmVhbShpbnB1dCwgb3B0aW9ucykge1xuXHRcdGFzeW5jIGZ1bmN0aW9uKiBnZW5lcmF0b3IoKSB7XG5cdFx0XHR5aWVsZCBpbnB1dDtcblx0XHR9XG5cdFx0Y29uc3QgY29uZmlnID0gZW5zdXJlQ29uZmlnKG9wdGlvbnMpO1xuXHRcdGNvbnN0IHdyYXBwZWRHZW5lcmF0b3IgPSBuZXcgQXN5bmNHZW5lcmF0b3JXaXRoU2V0dXAoe1xuXHRcdFx0Z2VuZXJhdG9yOiB0aGlzLnRyYW5zZm9ybShnZW5lcmF0b3IoKSwgY29uZmlnKSxcblx0XHRcdGNvbmZpZ1xuXHRcdH0pO1xuXHRcdGF3YWl0IHdyYXBwZWRHZW5lcmF0b3Iuc2V0dXA7XG5cdFx0cmV0dXJuIEl0ZXJhYmxlUmVhZGFibGVTdHJlYW0uZnJvbUFzeW5jR2VuZXJhdG9yKHdyYXBwZWRHZW5lcmF0b3IpO1xuXHR9XG59O1xuLyoqXG4qIEEgcnVubmFibGUgdGhhdCBhc3NpZ25zIGtleS12YWx1ZSBwYWlycyB0byBpbnB1dHMgb2YgdHlwZSBgUmVjb3JkPHN0cmluZywgdW5rbm93bj5gLlxuKiBVc2VmdWwgZm9yIHN0cmVhbWluZywgY2FuIGJlIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBhbmQgY2hhaW5lZCBieSBjYWxsaW5nIGBydW5uYWJsZS5waWNrKCk7YC5cbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiBpbXBvcnQgeyBSdW5uYWJsZVBpY2sgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3J1bm5hYmxlc1wiO1xuKlxuKiBjb25zdCBpbnB1dERhdGEgPSB7XG4qICAgbmFtZTogXCJKb2huXCIsXG4qICAgYWdlOiAzMCxcbiogICBjaXR5OiBcIk5ldyBZb3JrXCIsXG4qICAgY291bnRyeTogXCJVU0FcIixcbiogICBlbWFpbDogXCJqb2huLmRvZUBleGFtcGxlLmNvbVwiLFxuKiAgIHBob25lOiBcIisxMjM0NTY3ODkwXCIsXG4qIH07XG4qXG4qIGNvbnN0IGJhc2ljSW5mb1J1bm5hYmxlID0gbmV3IFJ1bm5hYmxlUGljayhbXCJuYW1lXCIsIFwiY2l0eVwiXSk7XG4qXG4qIC8vIEV4YW1wbGUgaW52b2NhdGlvblxuKiBjb25zdCByZXMgPSBhd2FpdCBiYXNpY0luZm9SdW5uYWJsZS5pbnZva2UoaW5wdXREYXRhKTtcbipcbiogLy8geyBuYW1lOiAnSm9obicsIGNpdHk6ICdOZXcgWW9yaycgfVxuKiBgYGBcbiovXG52YXIgUnVubmFibGVQaWNrID0gY2xhc3MgZXh0ZW5kcyBSdW5uYWJsZSB7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIlJ1bm5hYmxlUGlja1wiO1xuXHR9XG5cdGxjX25hbWVzcGFjZSA9IFtcImxhbmdjaGFpbl9jb3JlXCIsIFwicnVubmFibGVzXCJdO1xuXHRsY19zZXJpYWxpemFibGUgPSB0cnVlO1xuXHRrZXlzO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRpZiAodHlwZW9mIGZpZWxkcyA9PT0gXCJzdHJpbmdcIiB8fCBBcnJheS5pc0FycmF5KGZpZWxkcykpIGZpZWxkcyA9IHsga2V5czogZmllbGRzIH07XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLmtleXMgPSBmaWVsZHMua2V5cztcblx0fVxuXHRhc3luYyBfcGljayhpbnB1dCkge1xuXHRcdGlmICh0eXBlb2YgdGhpcy5rZXlzID09PSBcInN0cmluZ1wiKSByZXR1cm4gaW5wdXRbdGhpcy5rZXlzXTtcblx0XHRlbHNlIHtcblx0XHRcdGNvbnN0IHBpY2tlZCA9IHRoaXMua2V5cy5tYXAoKGtleSkgPT4gW2tleSwgaW5wdXRba2V5XV0pLmZpbHRlcigodikgPT4gdlsxXSAhPT0gdm9pZCAwKTtcblx0XHRcdHJldHVybiBwaWNrZWQubGVuZ3RoID09PSAwID8gdm9pZCAwIDogT2JqZWN0LmZyb21FbnRyaWVzKHBpY2tlZCk7XG5cdFx0fVxuXHR9XG5cdGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuXHRcdHJldHVybiB0aGlzLl9jYWxsV2l0aENvbmZpZyh0aGlzLl9waWNrLmJpbmQodGhpcyksIGlucHV0LCBvcHRpb25zKTtcblx0fVxuXHRhc3luYyAqX3RyYW5zZm9ybShnZW5lcmF0b3IpIHtcblx0XHRmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIGdlbmVyYXRvcikge1xuXHRcdFx0Y29uc3QgcGlja2VkID0gYXdhaXQgdGhpcy5fcGljayhjaHVuayk7XG5cdFx0XHRpZiAocGlja2VkICE9PSB2b2lkIDApIHlpZWxkIHBpY2tlZDtcblx0XHR9XG5cdH1cblx0dHJhbnNmb3JtKGdlbmVyYXRvciwgb3B0aW9ucykge1xuXHRcdHJldHVybiB0aGlzLl90cmFuc2Zvcm1TdHJlYW1XaXRoQ29uZmlnKGdlbmVyYXRvciwgdGhpcy5fdHJhbnNmb3JtLmJpbmQodGhpcyksIG9wdGlvbnMpO1xuXHR9XG5cdGFzeW5jIHN0cmVhbShpbnB1dCwgb3B0aW9ucykge1xuXHRcdGFzeW5jIGZ1bmN0aW9uKiBnZW5lcmF0b3IoKSB7XG5cdFx0XHR5aWVsZCBpbnB1dDtcblx0XHR9XG5cdFx0Y29uc3QgY29uZmlnID0gZW5zdXJlQ29uZmlnKG9wdGlvbnMpO1xuXHRcdGNvbnN0IHdyYXBwZWRHZW5lcmF0b3IgPSBuZXcgQXN5bmNHZW5lcmF0b3JXaXRoU2V0dXAoe1xuXHRcdFx0Z2VuZXJhdG9yOiB0aGlzLnRyYW5zZm9ybShnZW5lcmF0b3IoKSwgY29uZmlnKSxcblx0XHRcdGNvbmZpZ1xuXHRcdH0pO1xuXHRcdGF3YWl0IHdyYXBwZWRHZW5lcmF0b3Iuc2V0dXA7XG5cdFx0cmV0dXJuIEl0ZXJhYmxlUmVhZGFibGVTdHJlYW0uZnJvbUFzeW5jR2VuZXJhdG9yKHdyYXBwZWRHZW5lcmF0b3IpO1xuXHR9XG59O1xudmFyIFJ1bm5hYmxlVG9vbExpa2UgPSBjbGFzcyBleHRlbmRzIFJ1bm5hYmxlQmluZGluZyB7XG5cdG5hbWU7XG5cdGRlc2NyaXB0aW9uO1xuXHRzY2hlbWE7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdGNvbnN0IHNlcXVlbmNlID0gUnVubmFibGVTZXF1ZW5jZS5mcm9tKFtSdW5uYWJsZUxhbWJkYS5mcm9tKGFzeW5jIChpbnB1dCkgPT4ge1xuXHRcdFx0bGV0IHRvb2xJbnB1dDtcblx0XHRcdGlmIChfaXNUb29sQ2FsbChpbnB1dCkpIHRyeSB7XG5cdFx0XHRcdHRvb2xJbnB1dCA9IGF3YWl0IGludGVyb3BQYXJzZUFzeW5jKHRoaXMuc2NoZW1hLCBpbnB1dC5hcmdzKTtcblx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHR0aHJvdyBuZXcgVG9vbElucHV0UGFyc2luZ0V4Y2VwdGlvbihgUmVjZWl2ZWQgdG9vbCBpbnB1dCBkaWQgbm90IG1hdGNoIGV4cGVjdGVkIHNjaGVtYWAsIEpTT04uc3RyaW5naWZ5KGlucHV0LmFyZ3MpKTtcblx0XHRcdH1cblx0XHRcdGVsc2UgdG9vbElucHV0ID0gaW5wdXQ7XG5cdFx0XHRyZXR1cm4gdG9vbElucHV0O1xuXHRcdH0pLndpdGhDb25maWcoeyBydW5OYW1lOiBgJHtmaWVsZHMubmFtZX06cGFyc2VfaW5wdXRgIH0pLCBmaWVsZHMuYm91bmRdKS53aXRoQ29uZmlnKHsgcnVuTmFtZTogZmllbGRzLm5hbWUgfSk7XG5cdFx0c3VwZXIoe1xuXHRcdFx0Ym91bmQ6IHNlcXVlbmNlLFxuXHRcdFx0Y29uZmlnOiBmaWVsZHMuY29uZmlnID8/IHt9XG5cdFx0fSk7XG5cdFx0dGhpcy5uYW1lID0gZmllbGRzLm5hbWU7XG5cdFx0dGhpcy5kZXNjcmlwdGlvbiA9IGZpZWxkcy5kZXNjcmlwdGlvbjtcblx0XHR0aGlzLnNjaGVtYSA9IGZpZWxkcy5zY2hlbWE7XG5cdH1cblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiUnVubmFibGVUb29sTGlrZVwiO1xuXHR9XG59O1xuLyoqXG4qIEdpdmVuIGEgcnVubmFibGUgYW5kIGEgWm9kIHNjaGVtYSwgY29udmVydCB0aGUgcnVubmFibGUgdG8gYSB0b29sLlxuKlxuKiBAdGVtcGxhdGUgUnVuSW5wdXQgVGhlIGlucHV0IHR5cGUgZm9yIHRoZSBydW5uYWJsZS5cbiogQHRlbXBsYXRlIFJ1bk91dHB1dCBUaGUgb3V0cHV0IHR5cGUgZm9yIHRoZSBydW5uYWJsZS5cbipcbiogQHBhcmFtIHtSdW5uYWJsZTxSdW5JbnB1dCwgUnVuT3V0cHV0Pn0gcnVubmFibGUgVGhlIHJ1bm5hYmxlIHRvIGNvbnZlcnQgdG8gYSB0b29sLlxuKiBAcGFyYW0gZmllbGRzXG4qIEBwYXJhbSB7c3RyaW5nIHwgdW5kZWZpbmVkfSBbZmllbGRzLm5hbWVdIFRoZSBuYW1lIG9mIHRoZSB0b29sLiBJZiBub3QgcHJvdmlkZWQsIGl0IHdpbGwgZGVmYXVsdCB0byB0aGUgbmFtZSBvZiB0aGUgcnVubmFibGUuXG4qIEBwYXJhbSB7c3RyaW5nIHwgdW5kZWZpbmVkfSBbZmllbGRzLmRlc2NyaXB0aW9uXSBUaGUgZGVzY3JpcHRpb24gb2YgdGhlIHRvb2wuIEZhbGxzIGJhY2sgdG8gdGhlIGRlc2NyaXB0aW9uIG9uIHRoZSBab2Qgc2NoZW1hIGlmIG5vdCBwcm92aWRlZCwgb3IgdW5kZWZpbmVkIGlmIG5laXRoZXIgYXJlIHByb3ZpZGVkLlxuKiBAcGFyYW0ge0ludGVyb3Bab2RUeXBlPFJ1bklucHV0Pn0gW2ZpZWxkcy5zY2hlbWFdIFRoZSBab2Qgc2NoZW1hIGZvciB0aGUgaW5wdXQgb2YgdGhlIHRvb2wuIEluZmVycyB0aGUgWm9kIHR5cGUgZnJvbSB0aGUgaW5wdXQgdHlwZSBvZiB0aGUgcnVubmFibGUuXG4qIEByZXR1cm5zIHtSdW5uYWJsZVRvb2xMaWtlPEludGVyb3Bab2RUeXBlPFJ1bklucHV0PiwgUnVuT3V0cHV0Pn0gQW4gaW5zdGFuY2Ugb2YgYFJ1bm5hYmxlVG9vbExpa2VgIHdoaWNoIGlzIGEgcnVubmFibGUgdGhhdCBjYW4gYmUgdXNlZCBhcyBhIHRvb2wuXG4qL1xuZnVuY3Rpb24gY29udmVydFJ1bm5hYmxlVG9Ub29sKHJ1bm5hYmxlLCBmaWVsZHMpIHtcblx0Y29uc3QgbmFtZSA9IGZpZWxkcy5uYW1lID8/IHJ1bm5hYmxlLmdldE5hbWUoKTtcblx0Y29uc3QgZGVzY3JpcHRpb24gPSBmaWVsZHMuZGVzY3JpcHRpb24gPz8gZ2V0U2NoZW1hRGVzY3JpcHRpb24oZmllbGRzLnNjaGVtYSk7XG5cdGlmIChpc1NpbXBsZVN0cmluZ1pvZFNjaGVtYShmaWVsZHMuc2NoZW1hKSkgcmV0dXJuIG5ldyBSdW5uYWJsZVRvb2xMaWtlKHtcblx0XHRuYW1lLFxuXHRcdGRlc2NyaXB0aW9uLFxuXHRcdHNjaGVtYTogei5vYmplY3QoeyBpbnB1dDogei5zdHJpbmcoKSB9KS50cmFuc2Zvcm0oKGlucHV0KSA9PiBpbnB1dC5pbnB1dCksXG5cdFx0Ym91bmQ6IHJ1bm5hYmxlXG5cdH0pO1xuXHRyZXR1cm4gbmV3IFJ1bm5hYmxlVG9vbExpa2Uoe1xuXHRcdG5hbWUsXG5cdFx0ZGVzY3JpcHRpb24sXG5cdFx0c2NoZW1hOiBmaWVsZHMuc2NoZW1hLFxuXHRcdGJvdW5kOiBydW5uYWJsZVxuXHR9KTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBSdW5uYWJsZSwgUnVubmFibGVBc3NpZ24sIFJ1bm5hYmxlQmluZGluZywgUnVubmFibGVFYWNoLCBSdW5uYWJsZUxhbWJkYSwgUnVubmFibGVNYXAsIFJ1bm5hYmxlUGFyYWxsZWwsIFJ1bm5hYmxlUGljaywgUnVubmFibGVSZXRyeSwgUnVubmFibGVTZXF1ZW5jZSwgUnVubmFibGVUb29sTGlrZSwgUnVubmFibGVXaXRoRmFsbGJhY2tzLCBfY29lcmNlVG9EaWN0LCBfY29lcmNlVG9SdW5uYWJsZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmFzZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/base.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/branch.js":
/*!**********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/branch.js ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RunnableBranch: () => (/* binding */ RunnableBranch)\n/* harmony export */ });\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/config.js\");\n/* harmony import */ var _utils_stream_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/stream.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/stream.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/base.js\");\n\n\n\n\n//#region src/runnables/branch.ts\n/**\n* Class that represents a runnable branch. The RunnableBranch is\n* initialized with an array of branches and a default branch. When invoked,\n* it evaluates the condition of each branch in order and executes the\n* corresponding branch if the condition is true. If none of the conditions\n* are true, it executes the default branch.\n* @example\n* ```typescript\n* const branch = RunnableBranch.from([\n*   [\n*     (x: { topic: string; question: string }) =>\n*       x.topic.toLowerCase().includes(\"anthropic\"),\n*     anthropicChain,\n*   ],\n*   [\n*     (x: { topic: string; question: string }) =>\n*       x.topic.toLowerCase().includes(\"langchain\"),\n*     langChainChain,\n*   ],\n*   generalChain,\n* ]);\n*\n* const fullChain = RunnableSequence.from([\n*   {\n*     topic: classificationChain,\n*     question: (input: { question: string }) => input.question,\n*   },\n*   branch,\n* ]);\n*\n* const result = await fullChain.invoke({\n*   question: \"how do I use LangChain?\",\n* });\n* ```\n*/\nvar RunnableBranch = class extends _base_js__WEBPACK_IMPORTED_MODULE_2__.Runnable {\n\tstatic lc_name() {\n\t\treturn \"RunnableBranch\";\n\t}\n\tlc_namespace = [\"langchain_core\", \"runnables\"];\n\tlc_serializable = true;\n\tdefault;\n\tbranches;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.branches = fields.branches;\n\t\tthis.default = fields.default;\n\t}\n\t/**\n\t* Convenience method for instantiating a RunnableBranch from\n\t* RunnableLikes (objects, functions, or Runnables).\n\t*\n\t* Each item in the input except for the last one should be a\n\t* tuple with two items. The first is a \"condition\" RunnableLike that\n\t* returns \"true\" if the second RunnableLike in the tuple should run.\n\t*\n\t* The final item in the input should be a RunnableLike that acts as a\n\t* default branch if no other branches match.\n\t*\n\t* @example\n\t* ```ts\n\t* import { RunnableBranch } from \"@langchain/core/runnables\";\n\t*\n\t* const branch = RunnableBranch.from([\n\t*   [(x: number) => x > 0, (x: number) => x + 1],\n\t*   [(x: number) => x < 0, (x: number) => x - 1],\n\t*   (x: number) => x\n\t* ]);\n\t* ```\n\t* @param branches An array where the every item except the last is a tuple of [condition, runnable]\n\t*   pairs. The last item is a default runnable which is invoked if no other condition matches.\n\t* @returns A new RunnableBranch.\n\t*/\n\tstatic from(branches) {\n\t\tif (branches.length < 1) throw new Error(\"RunnableBranch requires at least one branch\");\n\t\tconst branchLikes = branches.slice(0, -1);\n\t\tconst coercedBranches = branchLikes.map(([condition, runnable]) => [(0,_base_js__WEBPACK_IMPORTED_MODULE_2__._coerceToRunnable)(condition), (0,_base_js__WEBPACK_IMPORTED_MODULE_2__._coerceToRunnable)(runnable)]);\n\t\tconst defaultBranch = (0,_base_js__WEBPACK_IMPORTED_MODULE_2__._coerceToRunnable)(branches[branches.length - 1]);\n\t\treturn new this({\n\t\t\tbranches: coercedBranches,\n\t\t\tdefault: defaultBranch\n\t\t});\n\t}\n\tasync _invoke(input, config, runManager) {\n\t\tlet result;\n\t\tfor (let i = 0; i < this.branches.length; i += 1) {\n\t\t\tconst [condition, branchRunnable] = this.branches[i];\n\t\t\tconst conditionValue = await condition.invoke(input, (0,_config_js__WEBPACK_IMPORTED_MODULE_0__.patchConfig)(config, { callbacks: runManager?.getChild(`condition:${i + 1}`) }));\n\t\t\tif (conditionValue) {\n\t\t\t\tresult = await branchRunnable.invoke(input, (0,_config_js__WEBPACK_IMPORTED_MODULE_0__.patchConfig)(config, { callbacks: runManager?.getChild(`branch:${i + 1}`) }));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (!result) result = await this.default.invoke(input, (0,_config_js__WEBPACK_IMPORTED_MODULE_0__.patchConfig)(config, { callbacks: runManager?.getChild(\"branch:default\") }));\n\t\treturn result;\n\t}\n\tasync invoke(input, config = {}) {\n\t\treturn this._callWithConfig(this._invoke, input, config);\n\t}\n\tasync *_streamIterator(input, config) {\n\t\tconst callbackManager_ = await (0,_config_js__WEBPACK_IMPORTED_MODULE_0__.getCallbackManagerForConfig)(config);\n\t\tconst runManager = await callbackManager_?.handleChainStart(this.toJSON(), (0,_base_js__WEBPACK_IMPORTED_MODULE_2__._coerceToDict)(input, \"input\"), config?.runId, void 0, void 0, void 0, config?.runName);\n\t\tlet finalOutput;\n\t\tlet finalOutputSupported = true;\n\t\tlet stream;\n\t\ttry {\n\t\t\tfor (let i = 0; i < this.branches.length; i += 1) {\n\t\t\t\tconst [condition, branchRunnable] = this.branches[i];\n\t\t\t\tconst conditionValue = await condition.invoke(input, (0,_config_js__WEBPACK_IMPORTED_MODULE_0__.patchConfig)(config, { callbacks: runManager?.getChild(`condition:${i + 1}`) }));\n\t\t\t\tif (conditionValue) {\n\t\t\t\t\tstream = await branchRunnable.stream(input, (0,_config_js__WEBPACK_IMPORTED_MODULE_0__.patchConfig)(config, { callbacks: runManager?.getChild(`branch:${i + 1}`) }));\n\t\t\t\t\tfor await (const chunk of stream) {\n\t\t\t\t\t\tyield chunk;\n\t\t\t\t\t\tif (finalOutputSupported) if (finalOutput === void 0) finalOutput = chunk;\n\t\t\t\t\t\telse try {\n\t\t\t\t\t\t\tfinalOutput = (0,_utils_stream_js__WEBPACK_IMPORTED_MODULE_1__.concat)(finalOutput, chunk);\n\t\t\t\t\t\t} catch {\n\t\t\t\t\t\t\tfinalOutput = void 0;\n\t\t\t\t\t\t\tfinalOutputSupported = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (stream === void 0) {\n\t\t\t\tstream = await this.default.stream(input, (0,_config_js__WEBPACK_IMPORTED_MODULE_0__.patchConfig)(config, { callbacks: runManager?.getChild(\"branch:default\") }));\n\t\t\t\tfor await (const chunk of stream) {\n\t\t\t\t\tyield chunk;\n\t\t\t\t\tif (finalOutputSupported) if (finalOutput === void 0) finalOutput = chunk;\n\t\t\t\t\telse try {\n\t\t\t\t\t\tfinalOutput = (0,_utils_stream_js__WEBPACK_IMPORTED_MODULE_1__.concat)(finalOutput, chunk);\n\t\t\t\t\t} catch {\n\t\t\t\t\t\tfinalOutput = void 0;\n\t\t\t\t\t\tfinalOutputSupported = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tawait runManager?.handleChainError(e);\n\t\t\tthrow e;\n\t\t}\n\t\tawait runManager?.handleChainEnd(finalOutput ?? {});\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=branch.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3J1bm5hYmxlcy9icmFuY2guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF1RTtBQUMzQjtBQUMyQjs7QUFFdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZUFBZSxrQkFBa0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGVBQWUsa0JBQWtCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixrQkFBa0I7QUFDNUMsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLG1DQUFtQyw4Q0FBUTtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksaUJBQWlCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0UsMkRBQWlCLGFBQWEsMkRBQWlCO0FBQ3JILHdCQUF3QiwyREFBaUI7QUFDekM7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiwwQkFBMEI7QUFDNUM7QUFDQSx3REFBd0QsdURBQVcsV0FBVyw2Q0FBNkMsTUFBTSxJQUFJO0FBQ3JJO0FBQ0EsZ0RBQWdELHVEQUFXLFdBQVcsMENBQTBDLE1BQU0sSUFBSTtBQUMxSDtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsdURBQVcsV0FBVyxtREFBbUQ7QUFDbEk7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsdUVBQTJCO0FBQzVELDZFQUE2RSx1REFBYTtBQUMxRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiwwQkFBMEI7QUFDN0M7QUFDQSx5REFBeUQsdURBQVcsV0FBVyw2Q0FBNkMsTUFBTSxJQUFJO0FBQ3RJO0FBQ0EsaURBQWlELHVEQUFXLFdBQVcsMENBQTBDLE1BQU0sSUFBSTtBQUMzSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQix3REFBTTtBQUMzQixRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4Qyx1REFBVyxXQUFXLG1EQUFtRDtBQUN2SDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix3REFBTTtBQUMxQixPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxvREFBb0Q7QUFDcEQ7QUFDQTs7QUFFQTtBQUMwQjtBQUMxQiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9ydW5uYWJsZXMvYnJhbmNoLmpzPzNkYzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0Q2FsbGJhY2tNYW5hZ2VyRm9yQ29uZmlnLCBwYXRjaENvbmZpZyB9IGZyb20gXCIuL2NvbmZpZy5qc1wiO1xuaW1wb3J0IHsgY29uY2F0IH0gZnJvbSBcIi4uL3V0aWxzL3N0cmVhbS5qc1wiO1xuaW1wb3J0IHsgUnVubmFibGUsIF9jb2VyY2VUb0RpY3QsIF9jb2VyY2VUb1J1bm5hYmxlIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3J1bm5hYmxlcy9icmFuY2gudHNcbi8qKlxuKiBDbGFzcyB0aGF0IHJlcHJlc2VudHMgYSBydW5uYWJsZSBicmFuY2guIFRoZSBSdW5uYWJsZUJyYW5jaCBpc1xuKiBpbml0aWFsaXplZCB3aXRoIGFuIGFycmF5IG9mIGJyYW5jaGVzIGFuZCBhIGRlZmF1bHQgYnJhbmNoLiBXaGVuIGludm9rZWQsXG4qIGl0IGV2YWx1YXRlcyB0aGUgY29uZGl0aW9uIG9mIGVhY2ggYnJhbmNoIGluIG9yZGVyIGFuZCBleGVjdXRlcyB0aGVcbiogY29ycmVzcG9uZGluZyBicmFuY2ggaWYgdGhlIGNvbmRpdGlvbiBpcyB0cnVlLiBJZiBub25lIG9mIHRoZSBjb25kaXRpb25zXG4qIGFyZSB0cnVlLCBpdCBleGVjdXRlcyB0aGUgZGVmYXVsdCBicmFuY2guXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogY29uc3QgYnJhbmNoID0gUnVubmFibGVCcmFuY2guZnJvbShbXG4qICAgW1xuKiAgICAgKHg6IHsgdG9waWM6IHN0cmluZzsgcXVlc3Rpb246IHN0cmluZyB9KSA9PlxuKiAgICAgICB4LnRvcGljLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJhbnRocm9waWNcIiksXG4qICAgICBhbnRocm9waWNDaGFpbixcbiogICBdLFxuKiAgIFtcbiogICAgICh4OiB7IHRvcGljOiBzdHJpbmc7IHF1ZXN0aW9uOiBzdHJpbmcgfSkgPT5cbiogICAgICAgeC50b3BpYy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwibGFuZ2NoYWluXCIpLFxuKiAgICAgbGFuZ0NoYWluQ2hhaW4sXG4qICAgXSxcbiogICBnZW5lcmFsQ2hhaW4sXG4qIF0pO1xuKlxuKiBjb25zdCBmdWxsQ2hhaW4gPSBSdW5uYWJsZVNlcXVlbmNlLmZyb20oW1xuKiAgIHtcbiogICAgIHRvcGljOiBjbGFzc2lmaWNhdGlvbkNoYWluLFxuKiAgICAgcXVlc3Rpb246IChpbnB1dDogeyBxdWVzdGlvbjogc3RyaW5nIH0pID0+IGlucHV0LnF1ZXN0aW9uLFxuKiAgIH0sXG4qICAgYnJhbmNoLFxuKiBdKTtcbipcbiogY29uc3QgcmVzdWx0ID0gYXdhaXQgZnVsbENoYWluLmludm9rZSh7XG4qICAgcXVlc3Rpb246IFwiaG93IGRvIEkgdXNlIExhbmdDaGFpbj9cIixcbiogfSk7XG4qIGBgYFxuKi9cbnZhciBSdW5uYWJsZUJyYW5jaCA9IGNsYXNzIGV4dGVuZHMgUnVubmFibGUge1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJSdW5uYWJsZUJyYW5jaFwiO1xuXHR9XG5cdGxjX25hbWVzcGFjZSA9IFtcImxhbmdjaGFpbl9jb3JlXCIsIFwicnVubmFibGVzXCJdO1xuXHRsY19zZXJpYWxpemFibGUgPSB0cnVlO1xuXHRkZWZhdWx0O1xuXHRicmFuY2hlcztcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLmJyYW5jaGVzID0gZmllbGRzLmJyYW5jaGVzO1xuXHRcdHRoaXMuZGVmYXVsdCA9IGZpZWxkcy5kZWZhdWx0O1xuXHR9XG5cdC8qKlxuXHQqIENvbnZlbmllbmNlIG1ldGhvZCBmb3IgaW5zdGFudGlhdGluZyBhIFJ1bm5hYmxlQnJhbmNoIGZyb21cblx0KiBSdW5uYWJsZUxpa2VzIChvYmplY3RzLCBmdW5jdGlvbnMsIG9yIFJ1bm5hYmxlcykuXG5cdCpcblx0KiBFYWNoIGl0ZW0gaW4gdGhlIGlucHV0IGV4Y2VwdCBmb3IgdGhlIGxhc3Qgb25lIHNob3VsZCBiZSBhXG5cdCogdHVwbGUgd2l0aCB0d28gaXRlbXMuIFRoZSBmaXJzdCBpcyBhIFwiY29uZGl0aW9uXCIgUnVubmFibGVMaWtlIHRoYXRcblx0KiByZXR1cm5zIFwidHJ1ZVwiIGlmIHRoZSBzZWNvbmQgUnVubmFibGVMaWtlIGluIHRoZSB0dXBsZSBzaG91bGQgcnVuLlxuXHQqXG5cdCogVGhlIGZpbmFsIGl0ZW0gaW4gdGhlIGlucHV0IHNob3VsZCBiZSBhIFJ1bm5hYmxlTGlrZSB0aGF0IGFjdHMgYXMgYVxuXHQqIGRlZmF1bHQgYnJhbmNoIGlmIG5vIG90aGVyIGJyYW5jaGVzIG1hdGNoLlxuXHQqXG5cdCogQGV4YW1wbGVcblx0KiBgYGB0c1xuXHQqIGltcG9ydCB7IFJ1bm5hYmxlQnJhbmNoIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9ydW5uYWJsZXNcIjtcblx0KlxuXHQqIGNvbnN0IGJyYW5jaCA9IFJ1bm5hYmxlQnJhbmNoLmZyb20oW1xuXHQqICAgWyh4OiBudW1iZXIpID0+IHggPiAwLCAoeDogbnVtYmVyKSA9PiB4ICsgMV0sXG5cdCogICBbKHg6IG51bWJlcikgPT4geCA8IDAsICh4OiBudW1iZXIpID0+IHggLSAxXSxcblx0KiAgICh4OiBudW1iZXIpID0+IHhcblx0KiBdKTtcblx0KiBgYGBcblx0KiBAcGFyYW0gYnJhbmNoZXMgQW4gYXJyYXkgd2hlcmUgdGhlIGV2ZXJ5IGl0ZW0gZXhjZXB0IHRoZSBsYXN0IGlzIGEgdHVwbGUgb2YgW2NvbmRpdGlvbiwgcnVubmFibGVdXG5cdCogICBwYWlycy4gVGhlIGxhc3QgaXRlbSBpcyBhIGRlZmF1bHQgcnVubmFibGUgd2hpY2ggaXMgaW52b2tlZCBpZiBubyBvdGhlciBjb25kaXRpb24gbWF0Y2hlcy5cblx0KiBAcmV0dXJucyBBIG5ldyBSdW5uYWJsZUJyYW5jaC5cblx0Ki9cblx0c3RhdGljIGZyb20oYnJhbmNoZXMpIHtcblx0XHRpZiAoYnJhbmNoZXMubGVuZ3RoIDwgMSkgdGhyb3cgbmV3IEVycm9yKFwiUnVubmFibGVCcmFuY2ggcmVxdWlyZXMgYXQgbGVhc3Qgb25lIGJyYW5jaFwiKTtcblx0XHRjb25zdCBicmFuY2hMaWtlcyA9IGJyYW5jaGVzLnNsaWNlKDAsIC0xKTtcblx0XHRjb25zdCBjb2VyY2VkQnJhbmNoZXMgPSBicmFuY2hMaWtlcy5tYXAoKFtjb25kaXRpb24sIHJ1bm5hYmxlXSkgPT4gW19jb2VyY2VUb1J1bm5hYmxlKGNvbmRpdGlvbiksIF9jb2VyY2VUb1J1bm5hYmxlKHJ1bm5hYmxlKV0pO1xuXHRcdGNvbnN0IGRlZmF1bHRCcmFuY2ggPSBfY29lcmNlVG9SdW5uYWJsZShicmFuY2hlc1ticmFuY2hlcy5sZW5ndGggLSAxXSk7XG5cdFx0cmV0dXJuIG5ldyB0aGlzKHtcblx0XHRcdGJyYW5jaGVzOiBjb2VyY2VkQnJhbmNoZXMsXG5cdFx0XHRkZWZhdWx0OiBkZWZhdWx0QnJhbmNoXG5cdFx0fSk7XG5cdH1cblx0YXN5bmMgX2ludm9rZShpbnB1dCwgY29uZmlnLCBydW5NYW5hZ2VyKSB7XG5cdFx0bGV0IHJlc3VsdDtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYnJhbmNoZXMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdGNvbnN0IFtjb25kaXRpb24sIGJyYW5jaFJ1bm5hYmxlXSA9IHRoaXMuYnJhbmNoZXNbaV07XG5cdFx0XHRjb25zdCBjb25kaXRpb25WYWx1ZSA9IGF3YWl0IGNvbmRpdGlvbi5pbnZva2UoaW5wdXQsIHBhdGNoQ29uZmlnKGNvbmZpZywgeyBjYWxsYmFja3M6IHJ1bk1hbmFnZXI/LmdldENoaWxkKGBjb25kaXRpb246JHtpICsgMX1gKSB9KSk7XG5cdFx0XHRpZiAoY29uZGl0aW9uVmFsdWUpIHtcblx0XHRcdFx0cmVzdWx0ID0gYXdhaXQgYnJhbmNoUnVubmFibGUuaW52b2tlKGlucHV0LCBwYXRjaENvbmZpZyhjb25maWcsIHsgY2FsbGJhY2tzOiBydW5NYW5hZ2VyPy5nZXRDaGlsZChgYnJhbmNoOiR7aSArIDF9YCkgfSkpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKCFyZXN1bHQpIHJlc3VsdCA9IGF3YWl0IHRoaXMuZGVmYXVsdC5pbnZva2UoaW5wdXQsIHBhdGNoQ29uZmlnKGNvbmZpZywgeyBjYWxsYmFja3M6IHJ1bk1hbmFnZXI/LmdldENoaWxkKFwiYnJhbmNoOmRlZmF1bHRcIikgfSkpO1xuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cblx0YXN5bmMgaW52b2tlKGlucHV0LCBjb25maWcgPSB7fSkge1xuXHRcdHJldHVybiB0aGlzLl9jYWxsV2l0aENvbmZpZyh0aGlzLl9pbnZva2UsIGlucHV0LCBjb25maWcpO1xuXHR9XG5cdGFzeW5jICpfc3RyZWFtSXRlcmF0b3IoaW5wdXQsIGNvbmZpZykge1xuXHRcdGNvbnN0IGNhbGxiYWNrTWFuYWdlcl8gPSBhd2FpdCBnZXRDYWxsYmFja01hbmFnZXJGb3JDb25maWcoY29uZmlnKTtcblx0XHRjb25zdCBydW5NYW5hZ2VyID0gYXdhaXQgY2FsbGJhY2tNYW5hZ2VyXz8uaGFuZGxlQ2hhaW5TdGFydCh0aGlzLnRvSlNPTigpLCBfY29lcmNlVG9EaWN0KGlucHV0LCBcImlucHV0XCIpLCBjb25maWc/LnJ1bklkLCB2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBjb25maWc/LnJ1bk5hbWUpO1xuXHRcdGxldCBmaW5hbE91dHB1dDtcblx0XHRsZXQgZmluYWxPdXRwdXRTdXBwb3J0ZWQgPSB0cnVlO1xuXHRcdGxldCBzdHJlYW07XG5cdFx0dHJ5IHtcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5icmFuY2hlcy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0XHRjb25zdCBbY29uZGl0aW9uLCBicmFuY2hSdW5uYWJsZV0gPSB0aGlzLmJyYW5jaGVzW2ldO1xuXHRcdFx0XHRjb25zdCBjb25kaXRpb25WYWx1ZSA9IGF3YWl0IGNvbmRpdGlvbi5pbnZva2UoaW5wdXQsIHBhdGNoQ29uZmlnKGNvbmZpZywgeyBjYWxsYmFja3M6IHJ1bk1hbmFnZXI/LmdldENoaWxkKGBjb25kaXRpb246JHtpICsgMX1gKSB9KSk7XG5cdFx0XHRcdGlmIChjb25kaXRpb25WYWx1ZSkge1xuXHRcdFx0XHRcdHN0cmVhbSA9IGF3YWl0IGJyYW5jaFJ1bm5hYmxlLnN0cmVhbShpbnB1dCwgcGF0Y2hDb25maWcoY29uZmlnLCB7IGNhbGxiYWNrczogcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoYGJyYW5jaDoke2kgKyAxfWApIH0pKTtcblx0XHRcdFx0XHRmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHN0cmVhbSkge1xuXHRcdFx0XHRcdFx0eWllbGQgY2h1bms7XG5cdFx0XHRcdFx0XHRpZiAoZmluYWxPdXRwdXRTdXBwb3J0ZWQpIGlmIChmaW5hbE91dHB1dCA9PT0gdm9pZCAwKSBmaW5hbE91dHB1dCA9IGNodW5rO1xuXHRcdFx0XHRcdFx0ZWxzZSB0cnkge1xuXHRcdFx0XHRcdFx0XHRmaW5hbE91dHB1dCA9IGNvbmNhdChmaW5hbE91dHB1dCwgY2h1bmspO1xuXHRcdFx0XHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdFx0XHRcdGZpbmFsT3V0cHV0ID0gdm9pZCAwO1xuXHRcdFx0XHRcdFx0XHRmaW5hbE91dHB1dFN1cHBvcnRlZCA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKHN0cmVhbSA9PT0gdm9pZCAwKSB7XG5cdFx0XHRcdHN0cmVhbSA9IGF3YWl0IHRoaXMuZGVmYXVsdC5zdHJlYW0oaW5wdXQsIHBhdGNoQ29uZmlnKGNvbmZpZywgeyBjYWxsYmFja3M6IHJ1bk1hbmFnZXI/LmdldENoaWxkKFwiYnJhbmNoOmRlZmF1bHRcIikgfSkpO1xuXHRcdFx0XHRmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHN0cmVhbSkge1xuXHRcdFx0XHRcdHlpZWxkIGNodW5rO1xuXHRcdFx0XHRcdGlmIChmaW5hbE91dHB1dFN1cHBvcnRlZCkgaWYgKGZpbmFsT3V0cHV0ID09PSB2b2lkIDApIGZpbmFsT3V0cHV0ID0gY2h1bms7XG5cdFx0XHRcdFx0ZWxzZSB0cnkge1xuXHRcdFx0XHRcdFx0ZmluYWxPdXRwdXQgPSBjb25jYXQoZmluYWxPdXRwdXQsIGNodW5rKTtcblx0XHRcdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0XHRcdGZpbmFsT3V0cHV0ID0gdm9pZCAwO1xuXHRcdFx0XHRcdFx0ZmluYWxPdXRwdXRTdXBwb3J0ZWQgPSBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVDaGFpbkVycm9yKGUpO1xuXHRcdFx0dGhyb3cgZTtcblx0XHR9XG5cdFx0YXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FbmQoZmluYWxPdXRwdXQgPz8ge30pO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IFJ1bm5hYmxlQnJhbmNoIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1icmFuY2guanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/branch.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/config.js":
/*!**********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/config.js ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_RECURSION_LIMIT: () => (/* binding */ DEFAULT_RECURSION_LIMIT),\n/* harmony export */   ensureConfig: () => (/* binding */ ensureConfig),\n/* harmony export */   getCallbackManagerForConfig: () => (/* binding */ getCallbackManagerForConfig),\n/* harmony export */   mergeConfigs: () => (/* binding */ mergeConfigs),\n/* harmony export */   patchConfig: () => (/* binding */ patchConfig),\n/* harmony export */   pickRunnableConfigKeys: () => (/* binding */ pickRunnableConfigKeys)\n/* harmony export */ });\n/* harmony import */ var _callbacks_manager_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../callbacks/manager.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/callbacks/manager.js\");\n/* harmony import */ var _singletons_async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../singletons/async_local_storage/index.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/async_local_storage/index.js\");\n/* harmony import */ var _singletons_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../singletons/index.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/index.js\");\n\n\n\n\n//#region src/runnables/config.ts\nconst DEFAULT_RECURSION_LIMIT = 25;\nasync function getCallbackManagerForConfig(config) {\n\treturn _callbacks_manager_js__WEBPACK_IMPORTED_MODULE_0__.CallbackManager._configureSync(config?.callbacks, void 0, config?.tags, void 0, config?.metadata);\n}\nfunction mergeConfigs(...configs) {\n\tconst copy = {};\n\tfor (const options of configs.filter((c) => !!c)) for (const key of Object.keys(options)) if (key === \"metadata\") copy[key] = {\n\t\t...copy[key],\n\t\t...options[key]\n\t};\n\telse if (key === \"tags\") {\n\t\tconst baseKeys = copy[key] ?? [];\n\t\tcopy[key] = [...new Set(baseKeys.concat(options[key] ?? []))];\n\t} else if (key === \"configurable\") copy[key] = {\n\t\t...copy[key],\n\t\t...options[key]\n\t};\n\telse if (key === \"timeout\") {\n\t\tif (copy.timeout === void 0) copy.timeout = options.timeout;\n\t\telse if (options.timeout !== void 0) copy.timeout = Math.min(copy.timeout, options.timeout);\n\t} else if (key === \"signal\") {\n\t\tif (copy.signal === void 0) copy.signal = options.signal;\n\t\telse if (options.signal !== void 0) if (\"any\" in AbortSignal) copy.signal = AbortSignal.any([copy.signal, options.signal]);\n\t\telse copy.signal = options.signal;\n\t} else if (key === \"callbacks\") {\n\t\tconst baseCallbacks = copy.callbacks;\n\t\tconst providedCallbacks = options.callbacks;\n\t\tif (Array.isArray(providedCallbacks)) if (!baseCallbacks) copy.callbacks = providedCallbacks;\n\t\telse if (Array.isArray(baseCallbacks)) copy.callbacks = baseCallbacks.concat(providedCallbacks);\n\t\telse {\n\t\t\tconst manager = baseCallbacks.copy();\n\t\t\tfor (const callback of providedCallbacks) manager.addHandler((0,_callbacks_manager_js__WEBPACK_IMPORTED_MODULE_0__.ensureHandler)(callback), true);\n\t\t\tcopy.callbacks = manager;\n\t\t}\n\t\telse if (providedCallbacks) if (!baseCallbacks) copy.callbacks = providedCallbacks;\n\t\telse if (Array.isArray(baseCallbacks)) {\n\t\t\tconst manager = providedCallbacks.copy();\n\t\t\tfor (const callback of baseCallbacks) manager.addHandler((0,_callbacks_manager_js__WEBPACK_IMPORTED_MODULE_0__.ensureHandler)(callback), true);\n\t\t\tcopy.callbacks = manager;\n\t\t} else copy.callbacks = new _callbacks_manager_js__WEBPACK_IMPORTED_MODULE_0__.CallbackManager(providedCallbacks._parentRunId, {\n\t\t\thandlers: baseCallbacks.handlers.concat(providedCallbacks.handlers),\n\t\t\tinheritableHandlers: baseCallbacks.inheritableHandlers.concat(providedCallbacks.inheritableHandlers),\n\t\t\ttags: Array.from(new Set(baseCallbacks.tags.concat(providedCallbacks.tags))),\n\t\t\tinheritableTags: Array.from(new Set(baseCallbacks.inheritableTags.concat(providedCallbacks.inheritableTags))),\n\t\t\tmetadata: {\n\t\t\t\t...baseCallbacks.metadata,\n\t\t\t\t...providedCallbacks.metadata\n\t\t\t}\n\t\t});\n\t} else {\n\t\tconst typedKey = key;\n\t\tcopy[typedKey] = options[typedKey] ?? copy[typedKey];\n\t}\n\treturn copy;\n}\nconst PRIMITIVES = new Set([\n\t\"string\",\n\t\"number\",\n\t\"boolean\"\n]);\n/**\n* Ensure that a passed config is an object with all required keys present.\n*/\nfunction ensureConfig(config) {\n\tconst implicitConfig = _singletons_async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_1__.AsyncLocalStorageProviderSingleton.getRunnableConfig();\n\tlet empty = {\n\t\ttags: [],\n\t\tmetadata: {},\n\t\trecursionLimit: 25,\n\t\trunId: void 0\n\t};\n\tif (implicitConfig) {\n\t\tconst { runId, runName,...rest } = implicitConfig;\n\t\tempty = Object.entries(rest).reduce((currentConfig, [key, value]) => {\n\t\t\tif (value !== void 0) currentConfig[key] = value;\n\t\t\treturn currentConfig;\n\t\t}, empty);\n\t}\n\tif (config) empty = Object.entries(config).reduce((currentConfig, [key, value]) => {\n\t\tif (value !== void 0) currentConfig[key] = value;\n\t\treturn currentConfig;\n\t}, empty);\n\tif (empty?.configurable) {\n\t\tfor (const key of Object.keys(empty.configurable)) if (PRIMITIVES.has(typeof empty.configurable[key]) && !empty.metadata?.[key]) {\n\t\t\tif (!empty.metadata) empty.metadata = {};\n\t\t\tempty.metadata[key] = empty.configurable[key];\n\t\t}\n\t}\n\tif (empty.timeout !== void 0) {\n\t\tif (empty.timeout <= 0) throw new Error(\"Timeout must be a positive number\");\n\t\tconst originalTimeoutMs = empty.timeout;\n\t\tconst timeoutSignal = AbortSignal.timeout(originalTimeoutMs);\n\t\tif (!empty.metadata) empty.metadata = {};\n\t\tif (empty.metadata.timeoutMs === void 0) empty.metadata.timeoutMs = originalTimeoutMs;\n\t\tif (empty.signal !== void 0) {\n\t\t\tif (\"any\" in AbortSignal) empty.signal = AbortSignal.any([empty.signal, timeoutSignal]);\n\t\t} else empty.signal = timeoutSignal;\n\t\t/**\n\t\t* We are deleting the timeout key for the following reasons:\n\t\t* - Idempotent normalization: ensureConfig may be called multiple times down the stack. If timeout remains,\n\t\t*   each call would synthesize new timeout signals and combine them, changing the effective timeout unpredictably.\n\t\t* - Single enforcement path: downstream code relies on signal to enforce cancellation. Leaving timeout means two\n\t\t*   competing mechanisms (numeric timeout and signal) can be applied, sometimes with different semantics.\n\t\t* - Propagation to children: pickRunnableConfigKeys would keep forwarding timeout to nested runnables, causing\n\t\t*   repeated re-normalization and stacked timeouts.\n\t\t* - Backward compatibility: a lot of components and tests assume ensureConfig removes timeout post-normalization;\n\t\t*   changing that would be a breaking change.\n\t\t*/\n\t\tdelete empty.timeout;\n\t}\n\treturn empty;\n}\n/**\n* Helper function that patches runnable configs with updated properties.\n*/\nfunction patchConfig(config = {}, { callbacks, maxConcurrency, recursionLimit, runName, configurable, runId } = {}) {\n\tconst newConfig = ensureConfig(config);\n\tif (callbacks !== void 0) {\n\t\t/**\n\t\t* If we're replacing callbacks we need to unset runName\n\t\t* since that should apply only to the same run as the original callbacks\n\t\t*/\n\t\tdelete newConfig.runName;\n\t\tnewConfig.callbacks = callbacks;\n\t}\n\tif (recursionLimit !== void 0) newConfig.recursionLimit = recursionLimit;\n\tif (maxConcurrency !== void 0) newConfig.maxConcurrency = maxConcurrency;\n\tif (runName !== void 0) newConfig.runName = runName;\n\tif (configurable !== void 0) newConfig.configurable = {\n\t\t...newConfig.configurable,\n\t\t...configurable\n\t};\n\tif (runId !== void 0) delete newConfig.runId;\n\treturn newConfig;\n}\nfunction pickRunnableConfigKeys(config) {\n\tif (!config) return void 0;\n\treturn {\n\t\tconfigurable: config.configurable,\n\t\trecursionLimit: config.recursionLimit,\n\t\tcallbacks: config.callbacks,\n\t\ttags: config.tags,\n\t\tmetadata: config.metadata,\n\t\tmaxConcurrency: config.maxConcurrency,\n\t\ttimeout: config.timeout,\n\t\tsignal: config.signal,\n\t\tstore: config.store\n\t};\n}\n\n//#endregion\n\n//# sourceMappingURL=config.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3J1bm5hYmxlcy9jb25maWcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQXlFO0FBQ3VCO0FBQ2hFOztBQUVoQztBQUNBO0FBQ0E7QUFDQSxRQUFRLGtFQUFlO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLG9FQUFhO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsb0VBQWE7QUFDekU7QUFDQSxJQUFJLDBCQUEwQixrRUFBZTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHdHQUFrQztBQUMxRDtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSx5QkFBeUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLElBQUksMEVBQTBFLElBQUk7QUFDbEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ2lJO0FBQ2pJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3J1bm5hYmxlcy9jb25maWcuanM/OTYzMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDYWxsYmFja01hbmFnZXIsIGVuc3VyZUhhbmRsZXIgfSBmcm9tIFwiLi4vY2FsbGJhY2tzL21hbmFnZXIuanNcIjtcbmltcG9ydCB7IEFzeW5jTG9jYWxTdG9yYWdlUHJvdmlkZXJTaW5nbGV0b24gfSBmcm9tIFwiLi4vc2luZ2xldG9ucy9hc3luY19sb2NhbF9zdG9yYWdlL2luZGV4LmpzXCI7XG5pbXBvcnQgXCIuLi9zaW5nbGV0b25zL2luZGV4LmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvcnVubmFibGVzL2NvbmZpZy50c1xuY29uc3QgREVGQVVMVF9SRUNVUlNJT05fTElNSVQgPSAyNTtcbmFzeW5jIGZ1bmN0aW9uIGdldENhbGxiYWNrTWFuYWdlckZvckNvbmZpZyhjb25maWcpIHtcblx0cmV0dXJuIENhbGxiYWNrTWFuYWdlci5fY29uZmlndXJlU3luYyhjb25maWc/LmNhbGxiYWNrcywgdm9pZCAwLCBjb25maWc/LnRhZ3MsIHZvaWQgMCwgY29uZmlnPy5tZXRhZGF0YSk7XG59XG5mdW5jdGlvbiBtZXJnZUNvbmZpZ3MoLi4uY29uZmlncykge1xuXHRjb25zdCBjb3B5ID0ge307XG5cdGZvciAoY29uc3Qgb3B0aW9ucyBvZiBjb25maWdzLmZpbHRlcigoYykgPT4gISFjKSkgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMob3B0aW9ucykpIGlmIChrZXkgPT09IFwibWV0YWRhdGFcIikgY29weVtrZXldID0ge1xuXHRcdC4uLmNvcHlba2V5XSxcblx0XHQuLi5vcHRpb25zW2tleV1cblx0fTtcblx0ZWxzZSBpZiAoa2V5ID09PSBcInRhZ3NcIikge1xuXHRcdGNvbnN0IGJhc2VLZXlzID0gY29weVtrZXldID8/IFtdO1xuXHRcdGNvcHlba2V5XSA9IFsuLi5uZXcgU2V0KGJhc2VLZXlzLmNvbmNhdChvcHRpb25zW2tleV0gPz8gW10pKV07XG5cdH0gZWxzZSBpZiAoa2V5ID09PSBcImNvbmZpZ3VyYWJsZVwiKSBjb3B5W2tleV0gPSB7XG5cdFx0Li4uY29weVtrZXldLFxuXHRcdC4uLm9wdGlvbnNba2V5XVxuXHR9O1xuXHRlbHNlIGlmIChrZXkgPT09IFwidGltZW91dFwiKSB7XG5cdFx0aWYgKGNvcHkudGltZW91dCA9PT0gdm9pZCAwKSBjb3B5LnRpbWVvdXQgPSBvcHRpb25zLnRpbWVvdXQ7XG5cdFx0ZWxzZSBpZiAob3B0aW9ucy50aW1lb3V0ICE9PSB2b2lkIDApIGNvcHkudGltZW91dCA9IE1hdGgubWluKGNvcHkudGltZW91dCwgb3B0aW9ucy50aW1lb3V0KTtcblx0fSBlbHNlIGlmIChrZXkgPT09IFwic2lnbmFsXCIpIHtcblx0XHRpZiAoY29weS5zaWduYWwgPT09IHZvaWQgMCkgY29weS5zaWduYWwgPSBvcHRpb25zLnNpZ25hbDtcblx0XHRlbHNlIGlmIChvcHRpb25zLnNpZ25hbCAhPT0gdm9pZCAwKSBpZiAoXCJhbnlcIiBpbiBBYm9ydFNpZ25hbCkgY29weS5zaWduYWwgPSBBYm9ydFNpZ25hbC5hbnkoW2NvcHkuc2lnbmFsLCBvcHRpb25zLnNpZ25hbF0pO1xuXHRcdGVsc2UgY29weS5zaWduYWwgPSBvcHRpb25zLnNpZ25hbDtcblx0fSBlbHNlIGlmIChrZXkgPT09IFwiY2FsbGJhY2tzXCIpIHtcblx0XHRjb25zdCBiYXNlQ2FsbGJhY2tzID0gY29weS5jYWxsYmFja3M7XG5cdFx0Y29uc3QgcHJvdmlkZWRDYWxsYmFja3MgPSBvcHRpb25zLmNhbGxiYWNrcztcblx0XHRpZiAoQXJyYXkuaXNBcnJheShwcm92aWRlZENhbGxiYWNrcykpIGlmICghYmFzZUNhbGxiYWNrcykgY29weS5jYWxsYmFja3MgPSBwcm92aWRlZENhbGxiYWNrcztcblx0XHRlbHNlIGlmIChBcnJheS5pc0FycmF5KGJhc2VDYWxsYmFja3MpKSBjb3B5LmNhbGxiYWNrcyA9IGJhc2VDYWxsYmFja3MuY29uY2F0KHByb3ZpZGVkQ2FsbGJhY2tzKTtcblx0XHRlbHNlIHtcblx0XHRcdGNvbnN0IG1hbmFnZXIgPSBiYXNlQ2FsbGJhY2tzLmNvcHkoKTtcblx0XHRcdGZvciAoY29uc3QgY2FsbGJhY2sgb2YgcHJvdmlkZWRDYWxsYmFja3MpIG1hbmFnZXIuYWRkSGFuZGxlcihlbnN1cmVIYW5kbGVyKGNhbGxiYWNrKSwgdHJ1ZSk7XG5cdFx0XHRjb3B5LmNhbGxiYWNrcyA9IG1hbmFnZXI7XG5cdFx0fVxuXHRcdGVsc2UgaWYgKHByb3ZpZGVkQ2FsbGJhY2tzKSBpZiAoIWJhc2VDYWxsYmFja3MpIGNvcHkuY2FsbGJhY2tzID0gcHJvdmlkZWRDYWxsYmFja3M7XG5cdFx0ZWxzZSBpZiAoQXJyYXkuaXNBcnJheShiYXNlQ2FsbGJhY2tzKSkge1xuXHRcdFx0Y29uc3QgbWFuYWdlciA9IHByb3ZpZGVkQ2FsbGJhY2tzLmNvcHkoKTtcblx0XHRcdGZvciAoY29uc3QgY2FsbGJhY2sgb2YgYmFzZUNhbGxiYWNrcykgbWFuYWdlci5hZGRIYW5kbGVyKGVuc3VyZUhhbmRsZXIoY2FsbGJhY2spLCB0cnVlKTtcblx0XHRcdGNvcHkuY2FsbGJhY2tzID0gbWFuYWdlcjtcblx0XHR9IGVsc2UgY29weS5jYWxsYmFja3MgPSBuZXcgQ2FsbGJhY2tNYW5hZ2VyKHByb3ZpZGVkQ2FsbGJhY2tzLl9wYXJlbnRSdW5JZCwge1xuXHRcdFx0aGFuZGxlcnM6IGJhc2VDYWxsYmFja3MuaGFuZGxlcnMuY29uY2F0KHByb3ZpZGVkQ2FsbGJhY2tzLmhhbmRsZXJzKSxcblx0XHRcdGluaGVyaXRhYmxlSGFuZGxlcnM6IGJhc2VDYWxsYmFja3MuaW5oZXJpdGFibGVIYW5kbGVycy5jb25jYXQocHJvdmlkZWRDYWxsYmFja3MuaW5oZXJpdGFibGVIYW5kbGVycyksXG5cdFx0XHR0YWdzOiBBcnJheS5mcm9tKG5ldyBTZXQoYmFzZUNhbGxiYWNrcy50YWdzLmNvbmNhdChwcm92aWRlZENhbGxiYWNrcy50YWdzKSkpLFxuXHRcdFx0aW5oZXJpdGFibGVUYWdzOiBBcnJheS5mcm9tKG5ldyBTZXQoYmFzZUNhbGxiYWNrcy5pbmhlcml0YWJsZVRhZ3MuY29uY2F0KHByb3ZpZGVkQ2FsbGJhY2tzLmluaGVyaXRhYmxlVGFncykpKSxcblx0XHRcdG1ldGFkYXRhOiB7XG5cdFx0XHRcdC4uLmJhc2VDYWxsYmFja3MubWV0YWRhdGEsXG5cdFx0XHRcdC4uLnByb3ZpZGVkQ2FsbGJhY2tzLm1ldGFkYXRhXG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0Y29uc3QgdHlwZWRLZXkgPSBrZXk7XG5cdFx0Y29weVt0eXBlZEtleV0gPSBvcHRpb25zW3R5cGVkS2V5XSA/PyBjb3B5W3R5cGVkS2V5XTtcblx0fVxuXHRyZXR1cm4gY29weTtcbn1cbmNvbnN0IFBSSU1JVElWRVMgPSBuZXcgU2V0KFtcblx0XCJzdHJpbmdcIixcblx0XCJudW1iZXJcIixcblx0XCJib29sZWFuXCJcbl0pO1xuLyoqXG4qIEVuc3VyZSB0aGF0IGEgcGFzc2VkIGNvbmZpZyBpcyBhbiBvYmplY3Qgd2l0aCBhbGwgcmVxdWlyZWQga2V5cyBwcmVzZW50LlxuKi9cbmZ1bmN0aW9uIGVuc3VyZUNvbmZpZyhjb25maWcpIHtcblx0Y29uc3QgaW1wbGljaXRDb25maWcgPSBBc3luY0xvY2FsU3RvcmFnZVByb3ZpZGVyU2luZ2xldG9uLmdldFJ1bm5hYmxlQ29uZmlnKCk7XG5cdGxldCBlbXB0eSA9IHtcblx0XHR0YWdzOiBbXSxcblx0XHRtZXRhZGF0YToge30sXG5cdFx0cmVjdXJzaW9uTGltaXQ6IDI1LFxuXHRcdHJ1bklkOiB2b2lkIDBcblx0fTtcblx0aWYgKGltcGxpY2l0Q29uZmlnKSB7XG5cdFx0Y29uc3QgeyBydW5JZCwgcnVuTmFtZSwuLi5yZXN0IH0gPSBpbXBsaWNpdENvbmZpZztcblx0XHRlbXB0eSA9IE9iamVjdC5lbnRyaWVzKHJlc3QpLnJlZHVjZSgoY3VycmVudENvbmZpZywgW2tleSwgdmFsdWVdKSA9PiB7XG5cdFx0XHRpZiAodmFsdWUgIT09IHZvaWQgMCkgY3VycmVudENvbmZpZ1trZXldID0gdmFsdWU7XG5cdFx0XHRyZXR1cm4gY3VycmVudENvbmZpZztcblx0XHR9LCBlbXB0eSk7XG5cdH1cblx0aWYgKGNvbmZpZykgZW1wdHkgPSBPYmplY3QuZW50cmllcyhjb25maWcpLnJlZHVjZSgoY3VycmVudENvbmZpZywgW2tleSwgdmFsdWVdKSA9PiB7XG5cdFx0aWYgKHZhbHVlICE9PSB2b2lkIDApIGN1cnJlbnRDb25maWdba2V5XSA9IHZhbHVlO1xuXHRcdHJldHVybiBjdXJyZW50Q29uZmlnO1xuXHR9LCBlbXB0eSk7XG5cdGlmIChlbXB0eT8uY29uZmlndXJhYmxlKSB7XG5cdFx0Zm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoZW1wdHkuY29uZmlndXJhYmxlKSkgaWYgKFBSSU1JVElWRVMuaGFzKHR5cGVvZiBlbXB0eS5jb25maWd1cmFibGVba2V5XSkgJiYgIWVtcHR5Lm1ldGFkYXRhPy5ba2V5XSkge1xuXHRcdFx0aWYgKCFlbXB0eS5tZXRhZGF0YSkgZW1wdHkubWV0YWRhdGEgPSB7fTtcblx0XHRcdGVtcHR5Lm1ldGFkYXRhW2tleV0gPSBlbXB0eS5jb25maWd1cmFibGVba2V5XTtcblx0XHR9XG5cdH1cblx0aWYgKGVtcHR5LnRpbWVvdXQgIT09IHZvaWQgMCkge1xuXHRcdGlmIChlbXB0eS50aW1lb3V0IDw9IDApIHRocm93IG5ldyBFcnJvcihcIlRpbWVvdXQgbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlclwiKTtcblx0XHRjb25zdCBvcmlnaW5hbFRpbWVvdXRNcyA9IGVtcHR5LnRpbWVvdXQ7XG5cdFx0Y29uc3QgdGltZW91dFNpZ25hbCA9IEFib3J0U2lnbmFsLnRpbWVvdXQob3JpZ2luYWxUaW1lb3V0TXMpO1xuXHRcdGlmICghZW1wdHkubWV0YWRhdGEpIGVtcHR5Lm1ldGFkYXRhID0ge307XG5cdFx0aWYgKGVtcHR5Lm1ldGFkYXRhLnRpbWVvdXRNcyA9PT0gdm9pZCAwKSBlbXB0eS5tZXRhZGF0YS50aW1lb3V0TXMgPSBvcmlnaW5hbFRpbWVvdXRNcztcblx0XHRpZiAoZW1wdHkuc2lnbmFsICE9PSB2b2lkIDApIHtcblx0XHRcdGlmIChcImFueVwiIGluIEFib3J0U2lnbmFsKSBlbXB0eS5zaWduYWwgPSBBYm9ydFNpZ25hbC5hbnkoW2VtcHR5LnNpZ25hbCwgdGltZW91dFNpZ25hbF0pO1xuXHRcdH0gZWxzZSBlbXB0eS5zaWduYWwgPSB0aW1lb3V0U2lnbmFsO1xuXHRcdC8qKlxuXHRcdCogV2UgYXJlIGRlbGV0aW5nIHRoZSB0aW1lb3V0IGtleSBmb3IgdGhlIGZvbGxvd2luZyByZWFzb25zOlxuXHRcdCogLSBJZGVtcG90ZW50IG5vcm1hbGl6YXRpb246IGVuc3VyZUNvbmZpZyBtYXkgYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzIGRvd24gdGhlIHN0YWNrLiBJZiB0aW1lb3V0IHJlbWFpbnMsXG5cdFx0KiAgIGVhY2ggY2FsbCB3b3VsZCBzeW50aGVzaXplIG5ldyB0aW1lb3V0IHNpZ25hbHMgYW5kIGNvbWJpbmUgdGhlbSwgY2hhbmdpbmcgdGhlIGVmZmVjdGl2ZSB0aW1lb3V0IHVucHJlZGljdGFibHkuXG5cdFx0KiAtIFNpbmdsZSBlbmZvcmNlbWVudCBwYXRoOiBkb3duc3RyZWFtIGNvZGUgcmVsaWVzIG9uIHNpZ25hbCB0byBlbmZvcmNlIGNhbmNlbGxhdGlvbi4gTGVhdmluZyB0aW1lb3V0IG1lYW5zIHR3b1xuXHRcdCogICBjb21wZXRpbmcgbWVjaGFuaXNtcyAobnVtZXJpYyB0aW1lb3V0IGFuZCBzaWduYWwpIGNhbiBiZSBhcHBsaWVkLCBzb21ldGltZXMgd2l0aCBkaWZmZXJlbnQgc2VtYW50aWNzLlxuXHRcdCogLSBQcm9wYWdhdGlvbiB0byBjaGlsZHJlbjogcGlja1J1bm5hYmxlQ29uZmlnS2V5cyB3b3VsZCBrZWVwIGZvcndhcmRpbmcgdGltZW91dCB0byBuZXN0ZWQgcnVubmFibGVzLCBjYXVzaW5nXG5cdFx0KiAgIHJlcGVhdGVkIHJlLW5vcm1hbGl6YXRpb24gYW5kIHN0YWNrZWQgdGltZW91dHMuXG5cdFx0KiAtIEJhY2t3YXJkIGNvbXBhdGliaWxpdHk6IGEgbG90IG9mIGNvbXBvbmVudHMgYW5kIHRlc3RzIGFzc3VtZSBlbnN1cmVDb25maWcgcmVtb3ZlcyB0aW1lb3V0IHBvc3Qtbm9ybWFsaXphdGlvbjtcblx0XHQqICAgY2hhbmdpbmcgdGhhdCB3b3VsZCBiZSBhIGJyZWFraW5nIGNoYW5nZS5cblx0XHQqL1xuXHRcdGRlbGV0ZSBlbXB0eS50aW1lb3V0O1xuXHR9XG5cdHJldHVybiBlbXB0eTtcbn1cbi8qKlxuKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBwYXRjaGVzIHJ1bm5hYmxlIGNvbmZpZ3Mgd2l0aCB1cGRhdGVkIHByb3BlcnRpZXMuXG4qL1xuZnVuY3Rpb24gcGF0Y2hDb25maWcoY29uZmlnID0ge30sIHsgY2FsbGJhY2tzLCBtYXhDb25jdXJyZW5jeSwgcmVjdXJzaW9uTGltaXQsIHJ1bk5hbWUsIGNvbmZpZ3VyYWJsZSwgcnVuSWQgfSA9IHt9KSB7XG5cdGNvbnN0IG5ld0NvbmZpZyA9IGVuc3VyZUNvbmZpZyhjb25maWcpO1xuXHRpZiAoY2FsbGJhY2tzICE9PSB2b2lkIDApIHtcblx0XHQvKipcblx0XHQqIElmIHdlJ3JlIHJlcGxhY2luZyBjYWxsYmFja3Mgd2UgbmVlZCB0byB1bnNldCBydW5OYW1lXG5cdFx0KiBzaW5jZSB0aGF0IHNob3VsZCBhcHBseSBvbmx5IHRvIHRoZSBzYW1lIHJ1biBhcyB0aGUgb3JpZ2luYWwgY2FsbGJhY2tzXG5cdFx0Ki9cblx0XHRkZWxldGUgbmV3Q29uZmlnLnJ1bk5hbWU7XG5cdFx0bmV3Q29uZmlnLmNhbGxiYWNrcyA9IGNhbGxiYWNrcztcblx0fVxuXHRpZiAocmVjdXJzaW9uTGltaXQgIT09IHZvaWQgMCkgbmV3Q29uZmlnLnJlY3Vyc2lvbkxpbWl0ID0gcmVjdXJzaW9uTGltaXQ7XG5cdGlmIChtYXhDb25jdXJyZW5jeSAhPT0gdm9pZCAwKSBuZXdDb25maWcubWF4Q29uY3VycmVuY3kgPSBtYXhDb25jdXJyZW5jeTtcblx0aWYgKHJ1bk5hbWUgIT09IHZvaWQgMCkgbmV3Q29uZmlnLnJ1bk5hbWUgPSBydW5OYW1lO1xuXHRpZiAoY29uZmlndXJhYmxlICE9PSB2b2lkIDApIG5ld0NvbmZpZy5jb25maWd1cmFibGUgPSB7XG5cdFx0Li4ubmV3Q29uZmlnLmNvbmZpZ3VyYWJsZSxcblx0XHQuLi5jb25maWd1cmFibGVcblx0fTtcblx0aWYgKHJ1bklkICE9PSB2b2lkIDApIGRlbGV0ZSBuZXdDb25maWcucnVuSWQ7XG5cdHJldHVybiBuZXdDb25maWc7XG59XG5mdW5jdGlvbiBwaWNrUnVubmFibGVDb25maWdLZXlzKGNvbmZpZykge1xuXHRpZiAoIWNvbmZpZykgcmV0dXJuIHZvaWQgMDtcblx0cmV0dXJuIHtcblx0XHRjb25maWd1cmFibGU6IGNvbmZpZy5jb25maWd1cmFibGUsXG5cdFx0cmVjdXJzaW9uTGltaXQ6IGNvbmZpZy5yZWN1cnNpb25MaW1pdCxcblx0XHRjYWxsYmFja3M6IGNvbmZpZy5jYWxsYmFja3MsXG5cdFx0dGFnczogY29uZmlnLnRhZ3MsXG5cdFx0bWV0YWRhdGE6IGNvbmZpZy5tZXRhZGF0YSxcblx0XHRtYXhDb25jdXJyZW5jeTogY29uZmlnLm1heENvbmN1cnJlbmN5LFxuXHRcdHRpbWVvdXQ6IGNvbmZpZy50aW1lb3V0LFxuXHRcdHNpZ25hbDogY29uZmlnLnNpZ25hbCxcblx0XHRzdG9yZTogY29uZmlnLnN0b3JlXG5cdH07XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgREVGQVVMVF9SRUNVUlNJT05fTElNSVQsIGVuc3VyZUNvbmZpZywgZ2V0Q2FsbGJhY2tNYW5hZ2VyRm9yQ29uZmlnLCBtZXJnZUNvbmZpZ3MsIHBhdGNoQ29uZmlnLCBwaWNrUnVubmFibGVDb25maWdLZXlzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25maWcuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/config.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/graph.js":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/graph.js ***!
  \*********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Graph: () => (/* binding */ Graph),\n/* harmony export */   graph_exports: () => (/* binding */ graph_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/utils.js\");\n/* harmony import */ var _graph_mermaid_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./graph_mermaid.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/graph_mermaid.js\");\n/* harmony import */ var _utils_json_schema_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/json_schema.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/json_schema.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! uuid */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+uuid@10.0.0/node_modules/uuid/dist/esm-node/validate.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! uuid */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+uuid@10.0.0/node_modules/uuid/dist/esm-node/v4.js\");\n\n\n\n\n\n\n//#region src/runnables/graph.ts\nvar graph_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(graph_exports, { Graph: () => Graph });\nfunction nodeDataStr(id, data) {\n\tif (id !== void 0 && !(0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(id)) return id;\n\telse if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isRunnableInterface)(data)) try {\n\t\tlet dataStr = data.getName();\n\t\tdataStr = dataStr.startsWith(\"Runnable\") ? dataStr.slice(8) : dataStr;\n\t\treturn dataStr;\n\t} catch {\n\t\treturn data.getName();\n\t}\n\telse return data.name ?? \"UnknownSchema\";\n}\nfunction nodeDataJson(node) {\n\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isRunnableInterface)(node.data)) return {\n\t\ttype: \"runnable\",\n\t\tdata: {\n\t\t\tid: node.data.lc_id,\n\t\t\tname: node.data.getName()\n\t\t}\n\t};\n\telse return {\n\t\ttype: \"schema\",\n\t\tdata: {\n\t\t\t...(0,_utils_json_schema_js__WEBPACK_IMPORTED_MODULE_3__.toJsonSchema)(node.data.schema),\n\t\t\ttitle: node.data.name\n\t\t}\n\t};\n}\nvar Graph = class Graph {\n\tnodes = {};\n\tedges = [];\n\tconstructor(params) {\n\t\tthis.nodes = params?.nodes ?? this.nodes;\n\t\tthis.edges = params?.edges ?? this.edges;\n\t}\n\ttoJSON() {\n\t\tconst stableNodeIds = {};\n\t\tObject.values(this.nodes).forEach((node, i) => {\n\t\t\tstableNodeIds[node.id] = (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(node.id) ? i : node.id;\n\t\t});\n\t\treturn {\n\t\t\tnodes: Object.values(this.nodes).map((node) => ({\n\t\t\t\tid: stableNodeIds[node.id],\n\t\t\t\t...nodeDataJson(node)\n\t\t\t})),\n\t\t\tedges: this.edges.map((edge) => {\n\t\t\t\tconst item = {\n\t\t\t\t\tsource: stableNodeIds[edge.source],\n\t\t\t\t\ttarget: stableNodeIds[edge.target]\n\t\t\t\t};\n\t\t\t\tif (typeof edge.data !== \"undefined\") item.data = edge.data;\n\t\t\t\tif (typeof edge.conditional !== \"undefined\") item.conditional = edge.conditional;\n\t\t\t\treturn item;\n\t\t\t})\n\t\t};\n\t}\n\taddNode(data, id, metadata) {\n\t\tif (id !== void 0 && this.nodes[id] !== void 0) throw new Error(`Node with id ${id} already exists`);\n\t\tconst nodeId = id ?? (0,uuid__WEBPACK_IMPORTED_MODULE_5__[\"default\"])();\n\t\tconst node = {\n\t\t\tid: nodeId,\n\t\t\tdata,\n\t\t\tname: nodeDataStr(id, data),\n\t\t\tmetadata\n\t\t};\n\t\tthis.nodes[nodeId] = node;\n\t\treturn node;\n\t}\n\tremoveNode(node) {\n\t\tdelete this.nodes[node.id];\n\t\tthis.edges = this.edges.filter((edge) => edge.source !== node.id && edge.target !== node.id);\n\t}\n\taddEdge(source, target, data, conditional) {\n\t\tif (this.nodes[source.id] === void 0) throw new Error(`Source node ${source.id} not in graph`);\n\t\tif (this.nodes[target.id] === void 0) throw new Error(`Target node ${target.id} not in graph`);\n\t\tconst edge = {\n\t\t\tsource: source.id,\n\t\t\ttarget: target.id,\n\t\t\tdata,\n\t\t\tconditional\n\t\t};\n\t\tthis.edges.push(edge);\n\t\treturn edge;\n\t}\n\tfirstNode() {\n\t\treturn _firstNode(this);\n\t}\n\tlastNode() {\n\t\treturn _lastNode(this);\n\t}\n\t/**\n\t* Add all nodes and edges from another graph.\n\t* Note this doesn't check for duplicates, nor does it connect the graphs.\n\t*/\n\textend(graph, prefix = \"\") {\n\t\tlet finalPrefix = prefix;\n\t\tconst nodeIds = Object.values(graph.nodes).map((node) => node.id);\n\t\tif (nodeIds.every(uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])) finalPrefix = \"\";\n\t\tconst prefixed = (id) => {\n\t\t\treturn finalPrefix ? `${finalPrefix}:${id}` : id;\n\t\t};\n\t\tObject.entries(graph.nodes).forEach(([key, value]) => {\n\t\t\tthis.nodes[prefixed(key)] = {\n\t\t\t\t...value,\n\t\t\t\tid: prefixed(key)\n\t\t\t};\n\t\t});\n\t\tconst newEdges = graph.edges.map((edge) => {\n\t\t\treturn {\n\t\t\t\t...edge,\n\t\t\t\tsource: prefixed(edge.source),\n\t\t\t\ttarget: prefixed(edge.target)\n\t\t\t};\n\t\t});\n\t\tthis.edges = [...this.edges, ...newEdges];\n\t\tconst first = graph.firstNode();\n\t\tconst last = graph.lastNode();\n\t\treturn [first ? {\n\t\t\tid: prefixed(first.id),\n\t\t\tdata: first.data\n\t\t} : void 0, last ? {\n\t\t\tid: prefixed(last.id),\n\t\t\tdata: last.data\n\t\t} : void 0];\n\t}\n\ttrimFirstNode() {\n\t\tconst firstNode = this.firstNode();\n\t\tif (firstNode && _firstNode(this, [firstNode.id])) this.removeNode(firstNode);\n\t}\n\ttrimLastNode() {\n\t\tconst lastNode = this.lastNode();\n\t\tif (lastNode && _lastNode(this, [lastNode.id])) this.removeNode(lastNode);\n\t}\n\t/**\n\t* Return a new graph with all nodes re-identified,\n\t* using their unique, readable names where possible.\n\t*/\n\treid() {\n\t\tconst nodeLabels = Object.fromEntries(Object.values(this.nodes).map((node) => [node.id, node.name]));\n\t\tconst nodeLabelCounts = /* @__PURE__ */ new Map();\n\t\tObject.values(nodeLabels).forEach((label) => {\n\t\t\tnodeLabelCounts.set(label, (nodeLabelCounts.get(label) || 0) + 1);\n\t\t});\n\t\tconst getNodeId = (nodeId) => {\n\t\t\tconst label = nodeLabels[nodeId];\n\t\t\tif ((0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(nodeId) && nodeLabelCounts.get(label) === 1) return label;\n\t\t\telse return nodeId;\n\t\t};\n\t\treturn new Graph({\n\t\t\tnodes: Object.fromEntries(Object.entries(this.nodes).map(([id, node]) => [getNodeId(id), {\n\t\t\t\t...node,\n\t\t\t\tid: getNodeId(id)\n\t\t\t}])),\n\t\t\tedges: this.edges.map((edge) => ({\n\t\t\t\t...edge,\n\t\t\t\tsource: getNodeId(edge.source),\n\t\t\t\ttarget: getNodeId(edge.target)\n\t\t\t}))\n\t\t});\n\t}\n\tdrawMermaid(params) {\n\t\tconst { withStyles, curveStyle, nodeColors = {\n\t\t\tdefault: \"fill:#f2f0ff,line-height:1.2\",\n\t\t\tfirst: \"fill-opacity:0\",\n\t\t\tlast: \"fill:#bfb6fc\"\n\t\t}, wrapLabelNWords } = params ?? {};\n\t\tconst graph = this.reid();\n\t\tconst firstNode = graph.firstNode();\n\t\tconst lastNode = graph.lastNode();\n\t\treturn (0,_graph_mermaid_js__WEBPACK_IMPORTED_MODULE_2__.drawMermaid)(graph.nodes, graph.edges, {\n\t\t\tfirstNode: firstNode?.id,\n\t\t\tlastNode: lastNode?.id,\n\t\t\twithStyles,\n\t\t\tcurveStyle,\n\t\t\tnodeColors,\n\t\t\twrapLabelNWords\n\t\t});\n\t}\n\tasync drawMermaidPng(params) {\n\t\tconst mermaidSyntax = this.drawMermaid(params);\n\t\treturn (0,_graph_mermaid_js__WEBPACK_IMPORTED_MODULE_2__.drawMermaidImage)(mermaidSyntax, { backgroundColor: params?.backgroundColor });\n\t}\n};\n/**\n* Find the single node that is not a target of any edge.\n* Exclude nodes/sources with ids in the exclude list.\n* If there is no such node, or there are multiple, return undefined.\n* When drawing the graph, this node would be the origin.\n*/\nfunction _firstNode(graph, exclude = []) {\n\tconst targets = new Set(graph.edges.filter((edge) => !exclude.includes(edge.source)).map((edge) => edge.target));\n\tconst found = [];\n\tfor (const node of Object.values(graph.nodes)) if (!exclude.includes(node.id) && !targets.has(node.id)) found.push(node);\n\treturn found.length === 1 ? found[0] : void 0;\n}\n/**\n* Find the single node that is not a source of any edge.\n* Exclude nodes/targets with ids in the exclude list.\n* If there is no such node, or there are multiple, return undefined.\n* When drawing the graph, this node would be the destination.\n*/\nfunction _lastNode(graph, exclude = []) {\n\tconst sources = new Set(graph.edges.filter((edge) => !exclude.includes(edge.target)).map((edge) => edge.source));\n\tconst found = [];\n\tfor (const node of Object.values(graph.nodes)) if (!exclude.includes(node.id) && !sources.has(node.id)) found.push(node);\n\treturn found.length === 1 ? found[0] : void 0;\n}\n\n//#endregion\n\n//# sourceMappingURL=graph.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3J1bm5hYmxlcy9ncmFwaC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUEyRDtBQUNWO0FBQ2tCO0FBQ1o7QUFDbkI7O0FBRXBDO0FBQ0E7QUFDQSxzRUFBUSxrQkFBa0Isb0JBQW9CO0FBQzlDO0FBQ0EsdUJBQXVCLGdEQUFRO0FBQy9CLFVBQVUsOERBQW1CO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyw4REFBbUI7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxtRUFBWTtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGdEQUFRO0FBQ3BDLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLGtGQUFrRixJQUFJO0FBQ3RGLHVCQUF1QixnREFBRTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUVBQXVFLFdBQVc7QUFDbEYsdUVBQXVFLFdBQVc7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNENBQVE7QUFDNUI7QUFDQSwyQkFBMkIsWUFBWSxHQUFHLEdBQUc7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLE9BQU8sZ0RBQVE7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNIO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsR0FBRyxvQkFBb0I7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsU0FBUyw4REFBVztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsU0FBUyxtRUFBZ0Isa0JBQWtCLDBDQUEwQztBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ2dDO0FBQ2hDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3J1bm5hYmxlcy9ncmFwaC5qcz8xNDEzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fZXhwb3J0IH0gZnJvbSBcIi4uL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuanNcIjtcbmltcG9ydCB7IGlzUnVubmFibGVJbnRlcmZhY2UgfSBmcm9tIFwiLi91dGlscy5qc1wiO1xuaW1wb3J0IHsgZHJhd01lcm1haWQsIGRyYXdNZXJtYWlkSW1hZ2UgfSBmcm9tIFwiLi9ncmFwaF9tZXJtYWlkLmpzXCI7XG5pbXBvcnQgeyB0b0pzb25TY2hlbWEgfSBmcm9tIFwiLi4vdXRpbHMvanNvbl9zY2hlbWEuanNcIjtcbmltcG9ydCB7IHY0LCB2YWxpZGF0ZSB9IGZyb20gXCJ1dWlkXCI7XG5cbi8vI3JlZ2lvbiBzcmMvcnVubmFibGVzL2dyYXBoLnRzXG52YXIgZ3JhcGhfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQoZ3JhcGhfZXhwb3J0cywgeyBHcmFwaDogKCkgPT4gR3JhcGggfSk7XG5mdW5jdGlvbiBub2RlRGF0YVN0cihpZCwgZGF0YSkge1xuXHRpZiAoaWQgIT09IHZvaWQgMCAmJiAhdmFsaWRhdGUoaWQpKSByZXR1cm4gaWQ7XG5cdGVsc2UgaWYgKGlzUnVubmFibGVJbnRlcmZhY2UoZGF0YSkpIHRyeSB7XG5cdFx0bGV0IGRhdGFTdHIgPSBkYXRhLmdldE5hbWUoKTtcblx0XHRkYXRhU3RyID0gZGF0YVN0ci5zdGFydHNXaXRoKFwiUnVubmFibGVcIikgPyBkYXRhU3RyLnNsaWNlKDgpIDogZGF0YVN0cjtcblx0XHRyZXR1cm4gZGF0YVN0cjtcblx0fSBjYXRjaCB7XG5cdFx0cmV0dXJuIGRhdGEuZ2V0TmFtZSgpO1xuXHR9XG5cdGVsc2UgcmV0dXJuIGRhdGEubmFtZSA/PyBcIlVua25vd25TY2hlbWFcIjtcbn1cbmZ1bmN0aW9uIG5vZGVEYXRhSnNvbihub2RlKSB7XG5cdGlmIChpc1J1bm5hYmxlSW50ZXJmYWNlKG5vZGUuZGF0YSkpIHJldHVybiB7XG5cdFx0dHlwZTogXCJydW5uYWJsZVwiLFxuXHRcdGRhdGE6IHtcblx0XHRcdGlkOiBub2RlLmRhdGEubGNfaWQsXG5cdFx0XHRuYW1lOiBub2RlLmRhdGEuZ2V0TmFtZSgpXG5cdFx0fVxuXHR9O1xuXHRlbHNlIHJldHVybiB7XG5cdFx0dHlwZTogXCJzY2hlbWFcIixcblx0XHRkYXRhOiB7XG5cdFx0XHQuLi50b0pzb25TY2hlbWEobm9kZS5kYXRhLnNjaGVtYSksXG5cdFx0XHR0aXRsZTogbm9kZS5kYXRhLm5hbWVcblx0XHR9XG5cdH07XG59XG52YXIgR3JhcGggPSBjbGFzcyBHcmFwaCB7XG5cdG5vZGVzID0ge307XG5cdGVkZ2VzID0gW107XG5cdGNvbnN0cnVjdG9yKHBhcmFtcykge1xuXHRcdHRoaXMubm9kZXMgPSBwYXJhbXM/Lm5vZGVzID8/IHRoaXMubm9kZXM7XG5cdFx0dGhpcy5lZGdlcyA9IHBhcmFtcz8uZWRnZXMgPz8gdGhpcy5lZGdlcztcblx0fVxuXHR0b0pTT04oKSB7XG5cdFx0Y29uc3Qgc3RhYmxlTm9kZUlkcyA9IHt9O1xuXHRcdE9iamVjdC52YWx1ZXModGhpcy5ub2RlcykuZm9yRWFjaCgobm9kZSwgaSkgPT4ge1xuXHRcdFx0c3RhYmxlTm9kZUlkc1tub2RlLmlkXSA9IHZhbGlkYXRlKG5vZGUuaWQpID8gaSA6IG5vZGUuaWQ7XG5cdFx0fSk7XG5cdFx0cmV0dXJuIHtcblx0XHRcdG5vZGVzOiBPYmplY3QudmFsdWVzKHRoaXMubm9kZXMpLm1hcCgobm9kZSkgPT4gKHtcblx0XHRcdFx0aWQ6IHN0YWJsZU5vZGVJZHNbbm9kZS5pZF0sXG5cdFx0XHRcdC4uLm5vZGVEYXRhSnNvbihub2RlKVxuXHRcdFx0fSkpLFxuXHRcdFx0ZWRnZXM6IHRoaXMuZWRnZXMubWFwKChlZGdlKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGl0ZW0gPSB7XG5cdFx0XHRcdFx0c291cmNlOiBzdGFibGVOb2RlSWRzW2VkZ2Uuc291cmNlXSxcblx0XHRcdFx0XHR0YXJnZXQ6IHN0YWJsZU5vZGVJZHNbZWRnZS50YXJnZXRdXG5cdFx0XHRcdH07XG5cdFx0XHRcdGlmICh0eXBlb2YgZWRnZS5kYXRhICE9PSBcInVuZGVmaW5lZFwiKSBpdGVtLmRhdGEgPSBlZGdlLmRhdGE7XG5cdFx0XHRcdGlmICh0eXBlb2YgZWRnZS5jb25kaXRpb25hbCAhPT0gXCJ1bmRlZmluZWRcIikgaXRlbS5jb25kaXRpb25hbCA9IGVkZ2UuY29uZGl0aW9uYWw7XG5cdFx0XHRcdHJldHVybiBpdGVtO1xuXHRcdFx0fSlcblx0XHR9O1xuXHR9XG5cdGFkZE5vZGUoZGF0YSwgaWQsIG1ldGFkYXRhKSB7XG5cdFx0aWYgKGlkICE9PSB2b2lkIDAgJiYgdGhpcy5ub2Rlc1tpZF0gIT09IHZvaWQgMCkgdGhyb3cgbmV3IEVycm9yKGBOb2RlIHdpdGggaWQgJHtpZH0gYWxyZWFkeSBleGlzdHNgKTtcblx0XHRjb25zdCBub2RlSWQgPSBpZCA/PyB2NCgpO1xuXHRcdGNvbnN0IG5vZGUgPSB7XG5cdFx0XHRpZDogbm9kZUlkLFxuXHRcdFx0ZGF0YSxcblx0XHRcdG5hbWU6IG5vZGVEYXRhU3RyKGlkLCBkYXRhKSxcblx0XHRcdG1ldGFkYXRhXG5cdFx0fTtcblx0XHR0aGlzLm5vZGVzW25vZGVJZF0gPSBub2RlO1xuXHRcdHJldHVybiBub2RlO1xuXHR9XG5cdHJlbW92ZU5vZGUobm9kZSkge1xuXHRcdGRlbGV0ZSB0aGlzLm5vZGVzW25vZGUuaWRdO1xuXHRcdHRoaXMuZWRnZXMgPSB0aGlzLmVkZ2VzLmZpbHRlcigoZWRnZSkgPT4gZWRnZS5zb3VyY2UgIT09IG5vZGUuaWQgJiYgZWRnZS50YXJnZXQgIT09IG5vZGUuaWQpO1xuXHR9XG5cdGFkZEVkZ2Uoc291cmNlLCB0YXJnZXQsIGRhdGEsIGNvbmRpdGlvbmFsKSB7XG5cdFx0aWYgKHRoaXMubm9kZXNbc291cmNlLmlkXSA9PT0gdm9pZCAwKSB0aHJvdyBuZXcgRXJyb3IoYFNvdXJjZSBub2RlICR7c291cmNlLmlkfSBub3QgaW4gZ3JhcGhgKTtcblx0XHRpZiAodGhpcy5ub2Rlc1t0YXJnZXQuaWRdID09PSB2b2lkIDApIHRocm93IG5ldyBFcnJvcihgVGFyZ2V0IG5vZGUgJHt0YXJnZXQuaWR9IG5vdCBpbiBncmFwaGApO1xuXHRcdGNvbnN0IGVkZ2UgPSB7XG5cdFx0XHRzb3VyY2U6IHNvdXJjZS5pZCxcblx0XHRcdHRhcmdldDogdGFyZ2V0LmlkLFxuXHRcdFx0ZGF0YSxcblx0XHRcdGNvbmRpdGlvbmFsXG5cdFx0fTtcblx0XHR0aGlzLmVkZ2VzLnB1c2goZWRnZSk7XG5cdFx0cmV0dXJuIGVkZ2U7XG5cdH1cblx0Zmlyc3ROb2RlKCkge1xuXHRcdHJldHVybiBfZmlyc3ROb2RlKHRoaXMpO1xuXHR9XG5cdGxhc3ROb2RlKCkge1xuXHRcdHJldHVybiBfbGFzdE5vZGUodGhpcyk7XG5cdH1cblx0LyoqXG5cdCogQWRkIGFsbCBub2RlcyBhbmQgZWRnZXMgZnJvbSBhbm90aGVyIGdyYXBoLlxuXHQqIE5vdGUgdGhpcyBkb2Vzbid0IGNoZWNrIGZvciBkdXBsaWNhdGVzLCBub3IgZG9lcyBpdCBjb25uZWN0IHRoZSBncmFwaHMuXG5cdCovXG5cdGV4dGVuZChncmFwaCwgcHJlZml4ID0gXCJcIikge1xuXHRcdGxldCBmaW5hbFByZWZpeCA9IHByZWZpeDtcblx0XHRjb25zdCBub2RlSWRzID0gT2JqZWN0LnZhbHVlcyhncmFwaC5ub2RlcykubWFwKChub2RlKSA9PiBub2RlLmlkKTtcblx0XHRpZiAobm9kZUlkcy5ldmVyeSh2YWxpZGF0ZSkpIGZpbmFsUHJlZml4ID0gXCJcIjtcblx0XHRjb25zdCBwcmVmaXhlZCA9IChpZCkgPT4ge1xuXHRcdFx0cmV0dXJuIGZpbmFsUHJlZml4ID8gYCR7ZmluYWxQcmVmaXh9OiR7aWR9YCA6IGlkO1xuXHRcdH07XG5cdFx0T2JqZWN0LmVudHJpZXMoZ3JhcGgubm9kZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuXHRcdFx0dGhpcy5ub2Rlc1twcmVmaXhlZChrZXkpXSA9IHtcblx0XHRcdFx0Li4udmFsdWUsXG5cdFx0XHRcdGlkOiBwcmVmaXhlZChrZXkpXG5cdFx0XHR9O1xuXHRcdH0pO1xuXHRcdGNvbnN0IG5ld0VkZ2VzID0gZ3JhcGguZWRnZXMubWFwKChlZGdlKSA9PiB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHQuLi5lZGdlLFxuXHRcdFx0XHRzb3VyY2U6IHByZWZpeGVkKGVkZ2Uuc291cmNlKSxcblx0XHRcdFx0dGFyZ2V0OiBwcmVmaXhlZChlZGdlLnRhcmdldClcblx0XHRcdH07XG5cdFx0fSk7XG5cdFx0dGhpcy5lZGdlcyA9IFsuLi50aGlzLmVkZ2VzLCAuLi5uZXdFZGdlc107XG5cdFx0Y29uc3QgZmlyc3QgPSBncmFwaC5maXJzdE5vZGUoKTtcblx0XHRjb25zdCBsYXN0ID0gZ3JhcGgubGFzdE5vZGUoKTtcblx0XHRyZXR1cm4gW2ZpcnN0ID8ge1xuXHRcdFx0aWQ6IHByZWZpeGVkKGZpcnN0LmlkKSxcblx0XHRcdGRhdGE6IGZpcnN0LmRhdGFcblx0XHR9IDogdm9pZCAwLCBsYXN0ID8ge1xuXHRcdFx0aWQ6IHByZWZpeGVkKGxhc3QuaWQpLFxuXHRcdFx0ZGF0YTogbGFzdC5kYXRhXG5cdFx0fSA6IHZvaWQgMF07XG5cdH1cblx0dHJpbUZpcnN0Tm9kZSgpIHtcblx0XHRjb25zdCBmaXJzdE5vZGUgPSB0aGlzLmZpcnN0Tm9kZSgpO1xuXHRcdGlmIChmaXJzdE5vZGUgJiYgX2ZpcnN0Tm9kZSh0aGlzLCBbZmlyc3ROb2RlLmlkXSkpIHRoaXMucmVtb3ZlTm9kZShmaXJzdE5vZGUpO1xuXHR9XG5cdHRyaW1MYXN0Tm9kZSgpIHtcblx0XHRjb25zdCBsYXN0Tm9kZSA9IHRoaXMubGFzdE5vZGUoKTtcblx0XHRpZiAobGFzdE5vZGUgJiYgX2xhc3ROb2RlKHRoaXMsIFtsYXN0Tm9kZS5pZF0pKSB0aGlzLnJlbW92ZU5vZGUobGFzdE5vZGUpO1xuXHR9XG5cdC8qKlxuXHQqIFJldHVybiBhIG5ldyBncmFwaCB3aXRoIGFsbCBub2RlcyByZS1pZGVudGlmaWVkLFxuXHQqIHVzaW5nIHRoZWlyIHVuaXF1ZSwgcmVhZGFibGUgbmFtZXMgd2hlcmUgcG9zc2libGUuXG5cdCovXG5cdHJlaWQoKSB7XG5cdFx0Y29uc3Qgbm9kZUxhYmVscyA9IE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QudmFsdWVzKHRoaXMubm9kZXMpLm1hcCgobm9kZSkgPT4gW25vZGUuaWQsIG5vZGUubmFtZV0pKTtcblx0XHRjb25zdCBub2RlTGFiZWxDb3VudHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuXHRcdE9iamVjdC52YWx1ZXMobm9kZUxhYmVscykuZm9yRWFjaCgobGFiZWwpID0+IHtcblx0XHRcdG5vZGVMYWJlbENvdW50cy5zZXQobGFiZWwsIChub2RlTGFiZWxDb3VudHMuZ2V0KGxhYmVsKSB8fCAwKSArIDEpO1xuXHRcdH0pO1xuXHRcdGNvbnN0IGdldE5vZGVJZCA9IChub2RlSWQpID0+IHtcblx0XHRcdGNvbnN0IGxhYmVsID0gbm9kZUxhYmVsc1tub2RlSWRdO1xuXHRcdFx0aWYgKHZhbGlkYXRlKG5vZGVJZCkgJiYgbm9kZUxhYmVsQ291bnRzLmdldChsYWJlbCkgPT09IDEpIHJldHVybiBsYWJlbDtcblx0XHRcdGVsc2UgcmV0dXJuIG5vZGVJZDtcblx0XHR9O1xuXHRcdHJldHVybiBuZXcgR3JhcGgoe1xuXHRcdFx0bm9kZXM6IE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyh0aGlzLm5vZGVzKS5tYXAoKFtpZCwgbm9kZV0pID0+IFtnZXROb2RlSWQoaWQpLCB7XG5cdFx0XHRcdC4uLm5vZGUsXG5cdFx0XHRcdGlkOiBnZXROb2RlSWQoaWQpXG5cdFx0XHR9XSkpLFxuXHRcdFx0ZWRnZXM6IHRoaXMuZWRnZXMubWFwKChlZGdlKSA9PiAoe1xuXHRcdFx0XHQuLi5lZGdlLFxuXHRcdFx0XHRzb3VyY2U6IGdldE5vZGVJZChlZGdlLnNvdXJjZSksXG5cdFx0XHRcdHRhcmdldDogZ2V0Tm9kZUlkKGVkZ2UudGFyZ2V0KVxuXHRcdFx0fSkpXG5cdFx0fSk7XG5cdH1cblx0ZHJhd01lcm1haWQocGFyYW1zKSB7XG5cdFx0Y29uc3QgeyB3aXRoU3R5bGVzLCBjdXJ2ZVN0eWxlLCBub2RlQ29sb3JzID0ge1xuXHRcdFx0ZGVmYXVsdDogXCJmaWxsOiNmMmYwZmYsbGluZS1oZWlnaHQ6MS4yXCIsXG5cdFx0XHRmaXJzdDogXCJmaWxsLW9wYWNpdHk6MFwiLFxuXHRcdFx0bGFzdDogXCJmaWxsOiNiZmI2ZmNcIlxuXHRcdH0sIHdyYXBMYWJlbE5Xb3JkcyB9ID0gcGFyYW1zID8/IHt9O1xuXHRcdGNvbnN0IGdyYXBoID0gdGhpcy5yZWlkKCk7XG5cdFx0Y29uc3QgZmlyc3ROb2RlID0gZ3JhcGguZmlyc3ROb2RlKCk7XG5cdFx0Y29uc3QgbGFzdE5vZGUgPSBncmFwaC5sYXN0Tm9kZSgpO1xuXHRcdHJldHVybiBkcmF3TWVybWFpZChncmFwaC5ub2RlcywgZ3JhcGguZWRnZXMsIHtcblx0XHRcdGZpcnN0Tm9kZTogZmlyc3ROb2RlPy5pZCxcblx0XHRcdGxhc3ROb2RlOiBsYXN0Tm9kZT8uaWQsXG5cdFx0XHR3aXRoU3R5bGVzLFxuXHRcdFx0Y3VydmVTdHlsZSxcblx0XHRcdG5vZGVDb2xvcnMsXG5cdFx0XHR3cmFwTGFiZWxOV29yZHNcblx0XHR9KTtcblx0fVxuXHRhc3luYyBkcmF3TWVybWFpZFBuZyhwYXJhbXMpIHtcblx0XHRjb25zdCBtZXJtYWlkU3ludGF4ID0gdGhpcy5kcmF3TWVybWFpZChwYXJhbXMpO1xuXHRcdHJldHVybiBkcmF3TWVybWFpZEltYWdlKG1lcm1haWRTeW50YXgsIHsgYmFja2dyb3VuZENvbG9yOiBwYXJhbXM/LmJhY2tncm91bmRDb2xvciB9KTtcblx0fVxufTtcbi8qKlxuKiBGaW5kIHRoZSBzaW5nbGUgbm9kZSB0aGF0IGlzIG5vdCBhIHRhcmdldCBvZiBhbnkgZWRnZS5cbiogRXhjbHVkZSBub2Rlcy9zb3VyY2VzIHdpdGggaWRzIGluIHRoZSBleGNsdWRlIGxpc3QuXG4qIElmIHRoZXJlIGlzIG5vIHN1Y2ggbm9kZSwgb3IgdGhlcmUgYXJlIG11bHRpcGxlLCByZXR1cm4gdW5kZWZpbmVkLlxuKiBXaGVuIGRyYXdpbmcgdGhlIGdyYXBoLCB0aGlzIG5vZGUgd291bGQgYmUgdGhlIG9yaWdpbi5cbiovXG5mdW5jdGlvbiBfZmlyc3ROb2RlKGdyYXBoLCBleGNsdWRlID0gW10pIHtcblx0Y29uc3QgdGFyZ2V0cyA9IG5ldyBTZXQoZ3JhcGguZWRnZXMuZmlsdGVyKChlZGdlKSA9PiAhZXhjbHVkZS5pbmNsdWRlcyhlZGdlLnNvdXJjZSkpLm1hcCgoZWRnZSkgPT4gZWRnZS50YXJnZXQpKTtcblx0Y29uc3QgZm91bmQgPSBbXTtcblx0Zm9yIChjb25zdCBub2RlIG9mIE9iamVjdC52YWx1ZXMoZ3JhcGgubm9kZXMpKSBpZiAoIWV4Y2x1ZGUuaW5jbHVkZXMobm9kZS5pZCkgJiYgIXRhcmdldHMuaGFzKG5vZGUuaWQpKSBmb3VuZC5wdXNoKG5vZGUpO1xuXHRyZXR1cm4gZm91bmQubGVuZ3RoID09PSAxID8gZm91bmRbMF0gOiB2b2lkIDA7XG59XG4vKipcbiogRmluZCB0aGUgc2luZ2xlIG5vZGUgdGhhdCBpcyBub3QgYSBzb3VyY2Ugb2YgYW55IGVkZ2UuXG4qIEV4Y2x1ZGUgbm9kZXMvdGFyZ2V0cyB3aXRoIGlkcyBpbiB0aGUgZXhjbHVkZSBsaXN0LlxuKiBJZiB0aGVyZSBpcyBubyBzdWNoIG5vZGUsIG9yIHRoZXJlIGFyZSBtdWx0aXBsZSwgcmV0dXJuIHVuZGVmaW5lZC5cbiogV2hlbiBkcmF3aW5nIHRoZSBncmFwaCwgdGhpcyBub2RlIHdvdWxkIGJlIHRoZSBkZXN0aW5hdGlvbi5cbiovXG5mdW5jdGlvbiBfbGFzdE5vZGUoZ3JhcGgsIGV4Y2x1ZGUgPSBbXSkge1xuXHRjb25zdCBzb3VyY2VzID0gbmV3IFNldChncmFwaC5lZGdlcy5maWx0ZXIoKGVkZ2UpID0+ICFleGNsdWRlLmluY2x1ZGVzKGVkZ2UudGFyZ2V0KSkubWFwKChlZGdlKSA9PiBlZGdlLnNvdXJjZSkpO1xuXHRjb25zdCBmb3VuZCA9IFtdO1xuXHRmb3IgKGNvbnN0IG5vZGUgb2YgT2JqZWN0LnZhbHVlcyhncmFwaC5ub2RlcykpIGlmICghZXhjbHVkZS5pbmNsdWRlcyhub2RlLmlkKSAmJiAhc291cmNlcy5oYXMobm9kZS5pZCkpIGZvdW5kLnB1c2gobm9kZSk7XG5cdHJldHVybiBmb3VuZC5sZW5ndGggPT09IDEgPyBmb3VuZFswXSA6IHZvaWQgMDtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBHcmFwaCwgZ3JhcGhfZXhwb3J0cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z3JhcGguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/graph.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/graph_mermaid.js":
/*!*****************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/graph_mermaid.js ***!
  \*****************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   drawMermaid: () => (/* binding */ drawMermaid),\n/* harmony export */   drawMermaidImage: () => (/* binding */ drawMermaidImage)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/utils.js\");\n\n\n//#region src/runnables/graph_mermaid.ts\nfunction _escapeNodeLabel(nodeLabel) {\n\treturn nodeLabel.replace(/[^a-zA-Z-_0-9]/g, \"_\");\n}\nconst MARKDOWN_SPECIAL_CHARS = [\n\t\"*\",\n\t\"_\",\n\t\"`\"\n];\nfunction _generateMermaidGraphStyles(nodeColors) {\n\tlet styles = \"\";\n\tfor (const [className, color] of Object.entries(nodeColors)) styles += `\\tclassDef ${className} ${color};\\n`;\n\treturn styles;\n}\n/**\n* Draws a Mermaid graph using the provided graph data\n*/\nfunction drawMermaid(nodes, edges, config) {\n\tconst { firstNode, lastNode, nodeColors, withStyles = true, curveStyle = \"linear\", wrapLabelNWords = 9 } = config ?? {};\n\tlet mermaidGraph = withStyles ? `%%{init: {'flowchart': {'curve': '${curveStyle}'}}}%%\\ngraph TD;\\n` : \"graph TD;\\n\";\n\tif (withStyles) {\n\t\tconst defaultClassLabel = \"default\";\n\t\tconst formatDict = { [defaultClassLabel]: \"{0}({1})\" };\n\t\tif (firstNode !== void 0) formatDict[firstNode] = \"{0}([{1}]):::first\";\n\t\tif (lastNode !== void 0) formatDict[lastNode] = \"{0}([{1}]):::last\";\n\t\tfor (const [key, node] of Object.entries(nodes)) {\n\t\t\tconst nodeName = node.name.split(\":\").pop() ?? \"\";\n\t\t\tconst label = MARKDOWN_SPECIAL_CHARS.some((char) => nodeName.startsWith(char) && nodeName.endsWith(char)) ? `<p>${nodeName}</p>` : nodeName;\n\t\t\tlet finalLabel = label;\n\t\t\tif (Object.keys(node.metadata ?? {}).length) finalLabel += `<hr/><small><em>${Object.entries(node.metadata ?? {}).map(([k, v]) => `${k} = ${v}`).join(\"\\n\")}</em></small>`;\n\t\t\tconst nodeLabel = (formatDict[key] ?? formatDict[defaultClassLabel]).replace(\"{0}\", _escapeNodeLabel(key)).replace(\"{1}\", finalLabel);\n\t\t\tmermaidGraph += `\\t${nodeLabel}\\n`;\n\t\t}\n\t}\n\tconst edgeGroups = {};\n\tfor (const edge of edges) {\n\t\tconst srcParts = edge.source.split(\":\");\n\t\tconst tgtParts = edge.target.split(\":\");\n\t\tconst commonPrefix = srcParts.filter((src, i) => src === tgtParts[i]).join(\":\");\n\t\tif (!edgeGroups[commonPrefix]) edgeGroups[commonPrefix] = [];\n\t\tedgeGroups[commonPrefix].push(edge);\n\t}\n\tconst seenSubgraphs = /* @__PURE__ */ new Set();\n\tfunction sortPrefixesByDepth(prefixes) {\n\t\treturn [...prefixes].sort((a, b) => {\n\t\t\treturn a.split(\":\").length - b.split(\":\").length;\n\t\t});\n\t}\n\tfunction addSubgraph(edges$1, prefix) {\n\t\tconst selfLoop = edges$1.length === 1 && edges$1[0].source === edges$1[0].target;\n\t\tif (prefix && !selfLoop) {\n\t\t\tconst subgraph = prefix.split(\":\").pop();\n\t\t\tif (seenSubgraphs.has(prefix)) throw new Error(`Found duplicate subgraph '${subgraph}' at '${prefix} -- this likely means that you're reusing a subgraph node with the same name. Please adjust your graph to have subgraph nodes with unique names.`);\n\t\t\tseenSubgraphs.add(prefix);\n\t\t\tmermaidGraph += `\\tsubgraph ${subgraph}\\n`;\n\t\t}\n\t\tconst nestedPrefixes = sortPrefixesByDepth(Object.keys(edgeGroups).filter((nestedPrefix) => nestedPrefix.startsWith(`${prefix}:`) && nestedPrefix !== prefix && nestedPrefix.split(\":\").length === prefix.split(\":\").length + 1));\n\t\tfor (const nestedPrefix of nestedPrefixes) addSubgraph(edgeGroups[nestedPrefix], nestedPrefix);\n\t\tfor (const edge of edges$1) {\n\t\t\tconst { source, target, data, conditional } = edge;\n\t\t\tlet edgeLabel = \"\";\n\t\t\tif (data !== void 0) {\n\t\t\t\tlet edgeData = data;\n\t\t\t\tconst words = edgeData.split(\" \");\n\t\t\t\tif (words.length > wrapLabelNWords) edgeData = Array.from({ length: Math.ceil(words.length / wrapLabelNWords) }, (_, i) => words.slice(i * wrapLabelNWords, (i + 1) * wrapLabelNWords).join(\" \")).join(\"&nbsp;<br>&nbsp;\");\n\t\t\t\tedgeLabel = conditional ? ` -. &nbsp;${edgeData}&nbsp; .-> ` : ` -- &nbsp;${edgeData}&nbsp; --> `;\n\t\t\t} else edgeLabel = conditional ? \" -.-> \" : \" --> \";\n\t\t\tmermaidGraph += `\\t${_escapeNodeLabel(source)}${edgeLabel}${_escapeNodeLabel(target)};\\n`;\n\t\t}\n\t\tif (prefix && !selfLoop) mermaidGraph += \"\tend\\n\";\n\t}\n\taddSubgraph(edgeGroups[\"\"] ?? [], \"\");\n\tfor (const prefix in edgeGroups) if (!prefix.includes(\":\") && prefix !== \"\") addSubgraph(edgeGroups[prefix], prefix);\n\tif (withStyles) mermaidGraph += _generateMermaidGraphStyles(nodeColors ?? {});\n\treturn mermaidGraph;\n}\n/**\n* Renders Mermaid graph using the Mermaid.INK API.\n*\n* @example\n* ```javascript\n* const image = await drawMermaidImage(mermaidSyntax, {\n*   backgroundColor: \"white\",\n*   imageType: \"png\",\n* });\n* fs.writeFileSync(\"image.png\", image);\n* ```\n*\n* @param mermaidSyntax - The Mermaid syntax to render.\n* @param config - The configuration for the image.\n* @returns The image as a Blob.\n*/\nasync function drawMermaidImage(mermaidSyntax, config) {\n\tlet backgroundColor = config?.backgroundColor ?? \"white\";\n\tconst imageType = config?.imageType ?? \"png\";\n\tconst mermaidSyntaxEncoded = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toBase64Url)(mermaidSyntax);\n\tif (backgroundColor !== void 0) {\n\t\tconst hexColorPattern = /^#(?:[0-9a-fA-F]{3}){1,2}$/;\n\t\tif (!hexColorPattern.test(backgroundColor)) backgroundColor = `!${backgroundColor}`;\n\t}\n\tconst imageUrl = `https://mermaid.ink/img/${mermaidSyntaxEncoded}?bgColor=${backgroundColor}&type=${imageType}`;\n\tconst res = await fetch(imageUrl);\n\tif (!res.ok) throw new Error([\n\t\t`Failed to render the graph using the Mermaid.INK API.`,\n\t\t`Status code: ${res.status}`,\n\t\t`Status text: ${res.statusText}`\n\t].join(\"\\n\"));\n\tconst content = await res.blob();\n\treturn content;\n}\n\n//#endregion\n\n//# sourceMappingURL=graph_mermaid.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3J1bm5hYmxlcy9ncmFwaF9tZXJtYWlkLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF5Qzs7QUFFekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNGQUFzRixXQUFXLEVBQUUsT0FBTztBQUMxRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLGlHQUFpRztBQUMxRyxxQ0FBcUMsT0FBTyxjQUFjLFlBQVksV0FBVyxJQUFJLGFBQWEsZ0JBQWdCO0FBQ2xIO0FBQ0E7QUFDQSx1QkFBdUIsdUJBQXVCLEVBQUUsRUFBRSxFQUFFO0FBQ3BELHNEQUFzRCxFQUFFLEdBQUcsRUFBRTtBQUM3RCxvREFBb0QsRUFBRSxHQUFHLEVBQUU7QUFDM0Q7QUFDQTtBQUNBLHFIQUFxSCxTQUFTO0FBQzlIO0FBQ0Esc0NBQXNDLDJDQUEyQyxrQ0FBa0MscUJBQXFCLEdBQUcsSUFBSSxFQUFFLGNBQWM7QUFDL0osa0ZBQWtGLEVBQUUsb0NBQW9DLEVBQUU7QUFDMUgsd0JBQXdCLFVBQVU7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0VBQStFLFNBQVMsUUFBUSxRQUFRO0FBQ3hHO0FBQ0EsaUNBQWlDLFNBQVM7QUFDMUM7QUFDQSx5SEFBeUgsT0FBTztBQUNoSTtBQUNBO0FBQ0EsV0FBVyxvQ0FBb0M7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0UsbURBQW1ELCtGQUErRixVQUFVO0FBQzVOLHlDQUF5QyxFQUFFLFNBQVMsT0FBTyxtQkFBbUIsRUFBRSxTQUFTLE9BQU87QUFDaEcsS0FBSztBQUNMLHdCQUF3Qix5QkFBeUIsRUFBRSxVQUFVLEVBQUUsMEJBQTBCO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RUFBNkU7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsc0RBQVc7QUFDekM7QUFDQSw0Q0FBNEMsRUFBRSxFQUFFLElBQUk7QUFDcEQsb0VBQW9FLGdCQUFnQjtBQUNwRjtBQUNBLDZDQUE2QyxxQkFBcUIsV0FBVyxnQkFBZ0IsUUFBUSxVQUFVO0FBQy9HO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixXQUFXO0FBQzdCLGtCQUFrQixlQUFlO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3lDO0FBQ3pDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3J1bm5hYmxlcy9ncmFwaF9tZXJtYWlkLmpzPzU3ZDkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdG9CYXNlNjRVcmwgfSBmcm9tIFwiLi91dGlscy5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3J1bm5hYmxlcy9ncmFwaF9tZXJtYWlkLnRzXG5mdW5jdGlvbiBfZXNjYXBlTm9kZUxhYmVsKG5vZGVMYWJlbCkge1xuXHRyZXR1cm4gbm9kZUxhYmVsLnJlcGxhY2UoL1teYS16QS1aLV8wLTldL2csIFwiX1wiKTtcbn1cbmNvbnN0IE1BUktET1dOX1NQRUNJQUxfQ0hBUlMgPSBbXG5cdFwiKlwiLFxuXHRcIl9cIixcblx0XCJgXCJcbl07XG5mdW5jdGlvbiBfZ2VuZXJhdGVNZXJtYWlkR3JhcGhTdHlsZXMobm9kZUNvbG9ycykge1xuXHRsZXQgc3R5bGVzID0gXCJcIjtcblx0Zm9yIChjb25zdCBbY2xhc3NOYW1lLCBjb2xvcl0gb2YgT2JqZWN0LmVudHJpZXMobm9kZUNvbG9ycykpIHN0eWxlcyArPSBgXFx0Y2xhc3NEZWYgJHtjbGFzc05hbWV9ICR7Y29sb3J9O1xcbmA7XG5cdHJldHVybiBzdHlsZXM7XG59XG4vKipcbiogRHJhd3MgYSBNZXJtYWlkIGdyYXBoIHVzaW5nIHRoZSBwcm92aWRlZCBncmFwaCBkYXRhXG4qL1xuZnVuY3Rpb24gZHJhd01lcm1haWQobm9kZXMsIGVkZ2VzLCBjb25maWcpIHtcblx0Y29uc3QgeyBmaXJzdE5vZGUsIGxhc3ROb2RlLCBub2RlQ29sb3JzLCB3aXRoU3R5bGVzID0gdHJ1ZSwgY3VydmVTdHlsZSA9IFwibGluZWFyXCIsIHdyYXBMYWJlbE5Xb3JkcyA9IDkgfSA9IGNvbmZpZyA/PyB7fTtcblx0bGV0IG1lcm1haWRHcmFwaCA9IHdpdGhTdHlsZXMgPyBgJSV7aW5pdDogeydmbG93Y2hhcnQnOiB7J2N1cnZlJzogJyR7Y3VydmVTdHlsZX0nfX19JSVcXG5ncmFwaCBURDtcXG5gIDogXCJncmFwaCBURDtcXG5cIjtcblx0aWYgKHdpdGhTdHlsZXMpIHtcblx0XHRjb25zdCBkZWZhdWx0Q2xhc3NMYWJlbCA9IFwiZGVmYXVsdFwiO1xuXHRcdGNvbnN0IGZvcm1hdERpY3QgPSB7IFtkZWZhdWx0Q2xhc3NMYWJlbF06IFwiezB9KHsxfSlcIiB9O1xuXHRcdGlmIChmaXJzdE5vZGUgIT09IHZvaWQgMCkgZm9ybWF0RGljdFtmaXJzdE5vZGVdID0gXCJ7MH0oW3sxfV0pOjo6Zmlyc3RcIjtcblx0XHRpZiAobGFzdE5vZGUgIT09IHZvaWQgMCkgZm9ybWF0RGljdFtsYXN0Tm9kZV0gPSBcInswfShbezF9XSk6OjpsYXN0XCI7XG5cdFx0Zm9yIChjb25zdCBba2V5LCBub2RlXSBvZiBPYmplY3QuZW50cmllcyhub2RlcykpIHtcblx0XHRcdGNvbnN0IG5vZGVOYW1lID0gbm9kZS5uYW1lLnNwbGl0KFwiOlwiKS5wb3AoKSA/PyBcIlwiO1xuXHRcdFx0Y29uc3QgbGFiZWwgPSBNQVJLRE9XTl9TUEVDSUFMX0NIQVJTLnNvbWUoKGNoYXIpID0+IG5vZGVOYW1lLnN0YXJ0c1dpdGgoY2hhcikgJiYgbm9kZU5hbWUuZW5kc1dpdGgoY2hhcikpID8gYDxwPiR7bm9kZU5hbWV9PC9wPmAgOiBub2RlTmFtZTtcblx0XHRcdGxldCBmaW5hbExhYmVsID0gbGFiZWw7XG5cdFx0XHRpZiAoT2JqZWN0LmtleXMobm9kZS5tZXRhZGF0YSA/PyB7fSkubGVuZ3RoKSBmaW5hbExhYmVsICs9IGA8aHIvPjxzbWFsbD48ZW0+JHtPYmplY3QuZW50cmllcyhub2RlLm1ldGFkYXRhID8/IHt9KS5tYXAoKFtrLCB2XSkgPT4gYCR7a30gPSAke3Z9YCkuam9pbihcIlxcblwiKX08L2VtPjwvc21hbGw+YDtcblx0XHRcdGNvbnN0IG5vZGVMYWJlbCA9IChmb3JtYXREaWN0W2tleV0gPz8gZm9ybWF0RGljdFtkZWZhdWx0Q2xhc3NMYWJlbF0pLnJlcGxhY2UoXCJ7MH1cIiwgX2VzY2FwZU5vZGVMYWJlbChrZXkpKS5yZXBsYWNlKFwiezF9XCIsIGZpbmFsTGFiZWwpO1xuXHRcdFx0bWVybWFpZEdyYXBoICs9IGBcXHQke25vZGVMYWJlbH1cXG5gO1xuXHRcdH1cblx0fVxuXHRjb25zdCBlZGdlR3JvdXBzID0ge307XG5cdGZvciAoY29uc3QgZWRnZSBvZiBlZGdlcykge1xuXHRcdGNvbnN0IHNyY1BhcnRzID0gZWRnZS5zb3VyY2Uuc3BsaXQoXCI6XCIpO1xuXHRcdGNvbnN0IHRndFBhcnRzID0gZWRnZS50YXJnZXQuc3BsaXQoXCI6XCIpO1xuXHRcdGNvbnN0IGNvbW1vblByZWZpeCA9IHNyY1BhcnRzLmZpbHRlcigoc3JjLCBpKSA9PiBzcmMgPT09IHRndFBhcnRzW2ldKS5qb2luKFwiOlwiKTtcblx0XHRpZiAoIWVkZ2VHcm91cHNbY29tbW9uUHJlZml4XSkgZWRnZUdyb3Vwc1tjb21tb25QcmVmaXhdID0gW107XG5cdFx0ZWRnZUdyb3Vwc1tjb21tb25QcmVmaXhdLnB1c2goZWRnZSk7XG5cdH1cblx0Y29uc3Qgc2VlblN1YmdyYXBocyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG5cdGZ1bmN0aW9uIHNvcnRQcmVmaXhlc0J5RGVwdGgocHJlZml4ZXMpIHtcblx0XHRyZXR1cm4gWy4uLnByZWZpeGVzXS5zb3J0KChhLCBiKSA9PiB7XG5cdFx0XHRyZXR1cm4gYS5zcGxpdChcIjpcIikubGVuZ3RoIC0gYi5zcGxpdChcIjpcIikubGVuZ3RoO1xuXHRcdH0pO1xuXHR9XG5cdGZ1bmN0aW9uIGFkZFN1YmdyYXBoKGVkZ2VzJDEsIHByZWZpeCkge1xuXHRcdGNvbnN0IHNlbGZMb29wID0gZWRnZXMkMS5sZW5ndGggPT09IDEgJiYgZWRnZXMkMVswXS5zb3VyY2UgPT09IGVkZ2VzJDFbMF0udGFyZ2V0O1xuXHRcdGlmIChwcmVmaXggJiYgIXNlbGZMb29wKSB7XG5cdFx0XHRjb25zdCBzdWJncmFwaCA9IHByZWZpeC5zcGxpdChcIjpcIikucG9wKCk7XG5cdFx0XHRpZiAoc2VlblN1YmdyYXBocy5oYXMocHJlZml4KSkgdGhyb3cgbmV3IEVycm9yKGBGb3VuZCBkdXBsaWNhdGUgc3ViZ3JhcGggJyR7c3ViZ3JhcGh9JyBhdCAnJHtwcmVmaXh9IC0tIHRoaXMgbGlrZWx5IG1lYW5zIHRoYXQgeW91J3JlIHJldXNpbmcgYSBzdWJncmFwaCBub2RlIHdpdGggdGhlIHNhbWUgbmFtZS4gUGxlYXNlIGFkanVzdCB5b3VyIGdyYXBoIHRvIGhhdmUgc3ViZ3JhcGggbm9kZXMgd2l0aCB1bmlxdWUgbmFtZXMuYCk7XG5cdFx0XHRzZWVuU3ViZ3JhcGhzLmFkZChwcmVmaXgpO1xuXHRcdFx0bWVybWFpZEdyYXBoICs9IGBcXHRzdWJncmFwaCAke3N1YmdyYXBofVxcbmA7XG5cdFx0fVxuXHRcdGNvbnN0IG5lc3RlZFByZWZpeGVzID0gc29ydFByZWZpeGVzQnlEZXB0aChPYmplY3Qua2V5cyhlZGdlR3JvdXBzKS5maWx0ZXIoKG5lc3RlZFByZWZpeCkgPT4gbmVzdGVkUHJlZml4LnN0YXJ0c1dpdGgoYCR7cHJlZml4fTpgKSAmJiBuZXN0ZWRQcmVmaXggIT09IHByZWZpeCAmJiBuZXN0ZWRQcmVmaXguc3BsaXQoXCI6XCIpLmxlbmd0aCA9PT0gcHJlZml4LnNwbGl0KFwiOlwiKS5sZW5ndGggKyAxKSk7XG5cdFx0Zm9yIChjb25zdCBuZXN0ZWRQcmVmaXggb2YgbmVzdGVkUHJlZml4ZXMpIGFkZFN1YmdyYXBoKGVkZ2VHcm91cHNbbmVzdGVkUHJlZml4XSwgbmVzdGVkUHJlZml4KTtcblx0XHRmb3IgKGNvbnN0IGVkZ2Ugb2YgZWRnZXMkMSkge1xuXHRcdFx0Y29uc3QgeyBzb3VyY2UsIHRhcmdldCwgZGF0YSwgY29uZGl0aW9uYWwgfSA9IGVkZ2U7XG5cdFx0XHRsZXQgZWRnZUxhYmVsID0gXCJcIjtcblx0XHRcdGlmIChkYXRhICE9PSB2b2lkIDApIHtcblx0XHRcdFx0bGV0IGVkZ2VEYXRhID0gZGF0YTtcblx0XHRcdFx0Y29uc3Qgd29yZHMgPSBlZGdlRGF0YS5zcGxpdChcIiBcIik7XG5cdFx0XHRcdGlmICh3b3Jkcy5sZW5ndGggPiB3cmFwTGFiZWxOV29yZHMpIGVkZ2VEYXRhID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogTWF0aC5jZWlsKHdvcmRzLmxlbmd0aCAvIHdyYXBMYWJlbE5Xb3JkcykgfSwgKF8sIGkpID0+IHdvcmRzLnNsaWNlKGkgKiB3cmFwTGFiZWxOV29yZHMsIChpICsgMSkgKiB3cmFwTGFiZWxOV29yZHMpLmpvaW4oXCIgXCIpKS5qb2luKFwiJm5ic3A7PGJyPiZuYnNwO1wiKTtcblx0XHRcdFx0ZWRnZUxhYmVsID0gY29uZGl0aW9uYWwgPyBgIC0uICZuYnNwOyR7ZWRnZURhdGF9Jm5ic3A7IC4tPiBgIDogYCAtLSAmbmJzcDske2VkZ2VEYXRhfSZuYnNwOyAtLT4gYDtcblx0XHRcdH0gZWxzZSBlZGdlTGFiZWwgPSBjb25kaXRpb25hbCA/IFwiIC0uLT4gXCIgOiBcIiAtLT4gXCI7XG5cdFx0XHRtZXJtYWlkR3JhcGggKz0gYFxcdCR7X2VzY2FwZU5vZGVMYWJlbChzb3VyY2UpfSR7ZWRnZUxhYmVsfSR7X2VzY2FwZU5vZGVMYWJlbCh0YXJnZXQpfTtcXG5gO1xuXHRcdH1cblx0XHRpZiAocHJlZml4ICYmICFzZWxmTG9vcCkgbWVybWFpZEdyYXBoICs9IFwiXHRlbmRcXG5cIjtcblx0fVxuXHRhZGRTdWJncmFwaChlZGdlR3JvdXBzW1wiXCJdID8/IFtdLCBcIlwiKTtcblx0Zm9yIChjb25zdCBwcmVmaXggaW4gZWRnZUdyb3VwcykgaWYgKCFwcmVmaXguaW5jbHVkZXMoXCI6XCIpICYmIHByZWZpeCAhPT0gXCJcIikgYWRkU3ViZ3JhcGgoZWRnZUdyb3Vwc1twcmVmaXhdLCBwcmVmaXgpO1xuXHRpZiAod2l0aFN0eWxlcykgbWVybWFpZEdyYXBoICs9IF9nZW5lcmF0ZU1lcm1haWRHcmFwaFN0eWxlcyhub2RlQ29sb3JzID8/IHt9KTtcblx0cmV0dXJuIG1lcm1haWRHcmFwaDtcbn1cbi8qKlxuKiBSZW5kZXJzIE1lcm1haWQgZ3JhcGggdXNpbmcgdGhlIE1lcm1haWQuSU5LIEFQSS5cbipcbiogQGV4YW1wbGVcbiogYGBgamF2YXNjcmlwdFxuKiBjb25zdCBpbWFnZSA9IGF3YWl0IGRyYXdNZXJtYWlkSW1hZ2UobWVybWFpZFN5bnRheCwge1xuKiAgIGJhY2tncm91bmRDb2xvcjogXCJ3aGl0ZVwiLFxuKiAgIGltYWdlVHlwZTogXCJwbmdcIixcbiogfSk7XG4qIGZzLndyaXRlRmlsZVN5bmMoXCJpbWFnZS5wbmdcIiwgaW1hZ2UpO1xuKiBgYGBcbipcbiogQHBhcmFtIG1lcm1haWRTeW50YXggLSBUaGUgTWVybWFpZCBzeW50YXggdG8gcmVuZGVyLlxuKiBAcGFyYW0gY29uZmlnIC0gVGhlIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBpbWFnZS5cbiogQHJldHVybnMgVGhlIGltYWdlIGFzIGEgQmxvYi5cbiovXG5hc3luYyBmdW5jdGlvbiBkcmF3TWVybWFpZEltYWdlKG1lcm1haWRTeW50YXgsIGNvbmZpZykge1xuXHRsZXQgYmFja2dyb3VuZENvbG9yID0gY29uZmlnPy5iYWNrZ3JvdW5kQ29sb3IgPz8gXCJ3aGl0ZVwiO1xuXHRjb25zdCBpbWFnZVR5cGUgPSBjb25maWc/LmltYWdlVHlwZSA/PyBcInBuZ1wiO1xuXHRjb25zdCBtZXJtYWlkU3ludGF4RW5jb2RlZCA9IHRvQmFzZTY0VXJsKG1lcm1haWRTeW50YXgpO1xuXHRpZiAoYmFja2dyb3VuZENvbG9yICE9PSB2b2lkIDApIHtcblx0XHRjb25zdCBoZXhDb2xvclBhdHRlcm4gPSAvXiMoPzpbMC05YS1mQS1GXXszfSl7MSwyfSQvO1xuXHRcdGlmICghaGV4Q29sb3JQYXR0ZXJuLnRlc3QoYmFja2dyb3VuZENvbG9yKSkgYmFja2dyb3VuZENvbG9yID0gYCEke2JhY2tncm91bmRDb2xvcn1gO1xuXHR9XG5cdGNvbnN0IGltYWdlVXJsID0gYGh0dHBzOi8vbWVybWFpZC5pbmsvaW1nLyR7bWVybWFpZFN5bnRheEVuY29kZWR9P2JnQ29sb3I9JHtiYWNrZ3JvdW5kQ29sb3J9JnR5cGU9JHtpbWFnZVR5cGV9YDtcblx0Y29uc3QgcmVzID0gYXdhaXQgZmV0Y2goaW1hZ2VVcmwpO1xuXHRpZiAoIXJlcy5vaykgdGhyb3cgbmV3IEVycm9yKFtcblx0XHRgRmFpbGVkIHRvIHJlbmRlciB0aGUgZ3JhcGggdXNpbmcgdGhlIE1lcm1haWQuSU5LIEFQSS5gLFxuXHRcdGBTdGF0dXMgY29kZTogJHtyZXMuc3RhdHVzfWAsXG5cdFx0YFN0YXR1cyB0ZXh0OiAke3Jlcy5zdGF0dXNUZXh0fWBcblx0XS5qb2luKFwiXFxuXCIpKTtcblx0Y29uc3QgY29udGVudCA9IGF3YWl0IHJlcy5ibG9iKCk7XG5cdHJldHVybiBjb250ZW50O1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IGRyYXdNZXJtYWlkLCBkcmF3TWVybWFpZEltYWdlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ncmFwaF9tZXJtYWlkLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/graph_mermaid.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/history.js":
/*!***********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/history.js ***!
  \***********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RunnableWithMessageHistory: () => (/* binding */ RunnableWithMessageHistory)\n/* harmony export */ });\n/* harmony import */ var _messages_base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../messages/base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/base.js\");\n/* harmony import */ var _messages_human_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../messages/human.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/human.js\");\n/* harmony import */ var _messages_ai_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../messages/ai.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/ai.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/base.js\");\n/* harmony import */ var _messages_index_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../messages/index.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/index.js\");\n/* harmony import */ var _passthrough_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./passthrough.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/passthrough.js\");\n\n\n\n\n\n\n\n//#region src/runnables/history.ts\n/**\n* Wraps a LCEL chain and manages history. It appends input messages\n* and chain outputs as history, and adds the current history messages to\n* the chain input.\n* @example\n* ```typescript\n* // pnpm install @langchain/anthropic @langchain/community @upstash/redis\n*\n* import {\n*   ChatPromptTemplate,\n*   MessagesPlaceholder,\n* } from \"@langchain/core/prompts\";\n* import { ChatAnthropic } from \"@langchain/anthropic\";\n* import { UpstashRedisChatMessageHistory } from \"@langchain/community/stores/message/upstash_redis\";\n* // For demos, you can also use an in-memory store:\n* // import { ChatMessageHistory } from \"@langchain/classic/stores/message/in_memory\";\n*\n* const prompt = ChatPromptTemplate.fromMessages([\n*   [\"system\", \"You're an assistant who's good at {ability}\"],\n*   new MessagesPlaceholder(\"history\"),\n*   [\"human\", \"{question}\"],\n* ]);\n*\n* const chain = prompt.pipe(new ChatAnthropic({}));\n*\n* const chainWithHistory = new RunnableWithMessageHistory({\n*   runnable: chain,\n*   getMessageHistory: (sessionId) =>\n*     new UpstashRedisChatMessageHistory({\n*       sessionId,\n*       config: {\n*         url: process.env.UPSTASH_REDIS_REST_URL!,\n*         token: process.env.UPSTASH_REDIS_REST_TOKEN!,\n*       },\n*     }),\n*   inputMessagesKey: \"question\",\n*   historyMessagesKey: \"history\",\n* });\n*\n* const result = await chainWithHistory.invoke(\n*   {\n*     ability: \"math\",\n*     question: \"What does cosine mean?\",\n*   },\n*   {\n*     configurable: {\n*       sessionId: \"some_string_identifying_a_user\",\n*     },\n*   }\n* );\n*\n* const result2 = await chainWithHistory.invoke(\n*   {\n*     ability: \"math\",\n*     question: \"What's its inverse?\",\n*   },\n*   {\n*     configurable: {\n*       sessionId: \"some_string_identifying_a_user\",\n*     },\n*   }\n* );\n* ```\n*/\nvar RunnableWithMessageHistory = class extends _base_js__WEBPACK_IMPORTED_MODULE_3__.RunnableBinding {\n\trunnable;\n\tinputMessagesKey;\n\toutputMessagesKey;\n\thistoryMessagesKey;\n\tgetMessageHistory;\n\tconstructor(fields) {\n\t\tlet historyChain = _base_js__WEBPACK_IMPORTED_MODULE_3__.RunnableLambda.from((input, options) => this._enterHistory(input, options ?? {})).withConfig({ runName: \"loadHistory\" });\n\t\tconst messagesKey = fields.historyMessagesKey ?? fields.inputMessagesKey;\n\t\tif (messagesKey) historyChain = _passthrough_js__WEBPACK_IMPORTED_MODULE_5__.RunnablePassthrough.assign({ [messagesKey]: historyChain }).withConfig({ runName: \"insertHistory\" });\n\t\tconst bound = historyChain.pipe(fields.runnable.withListeners({ onEnd: (run, config$1) => this._exitHistory(run, config$1 ?? {}) })).withConfig({ runName: \"RunnableWithMessageHistory\" });\n\t\tconst config = fields.config ?? {};\n\t\tsuper({\n\t\t\t...fields,\n\t\t\tconfig,\n\t\t\tbound\n\t\t});\n\t\tthis.runnable = fields.runnable;\n\t\tthis.getMessageHistory = fields.getMessageHistory;\n\t\tthis.inputMessagesKey = fields.inputMessagesKey;\n\t\tthis.outputMessagesKey = fields.outputMessagesKey;\n\t\tthis.historyMessagesKey = fields.historyMessagesKey;\n\t}\n\t_getInputMessages(inputValue) {\n\t\tlet parsedInputValue;\n\t\tif (typeof inputValue === \"object\" && !Array.isArray(inputValue) && !(0,_messages_base_js__WEBPACK_IMPORTED_MODULE_0__.isBaseMessage)(inputValue)) {\n\t\t\tlet key;\n\t\t\tif (this.inputMessagesKey) key = this.inputMessagesKey;\n\t\t\telse if (Object.keys(inputValue).length === 1) key = Object.keys(inputValue)[0];\n\t\t\telse key = \"input\";\n\t\t\tif (Array.isArray(inputValue[key]) && Array.isArray(inputValue[key][0])) parsedInputValue = inputValue[key][0];\n\t\t\telse parsedInputValue = inputValue[key];\n\t\t} else parsedInputValue = inputValue;\n\t\tif (typeof parsedInputValue === \"string\") return [new _messages_human_js__WEBPACK_IMPORTED_MODULE_1__.HumanMessage(parsedInputValue)];\n\t\telse if (Array.isArray(parsedInputValue)) return parsedInputValue;\n\t\telse if ((0,_messages_base_js__WEBPACK_IMPORTED_MODULE_0__.isBaseMessage)(parsedInputValue)) return [parsedInputValue];\n\t\telse throw new Error(`Expected a string, BaseMessage, or array of BaseMessages.\\nGot ${JSON.stringify(parsedInputValue, null, 2)}`);\n\t}\n\t_getOutputMessages(outputValue) {\n\t\tlet parsedOutputValue;\n\t\tif (!Array.isArray(outputValue) && !(0,_messages_base_js__WEBPACK_IMPORTED_MODULE_0__.isBaseMessage)(outputValue) && typeof outputValue !== \"string\") {\n\t\t\tlet key;\n\t\t\tif (this.outputMessagesKey !== void 0) key = this.outputMessagesKey;\n\t\t\telse if (Object.keys(outputValue).length === 1) key = Object.keys(outputValue)[0];\n\t\t\telse key = \"output\";\n\t\t\tif (outputValue.generations !== void 0) parsedOutputValue = outputValue.generations[0][0].message;\n\t\t\telse parsedOutputValue = outputValue[key];\n\t\t} else parsedOutputValue = outputValue;\n\t\tif (typeof parsedOutputValue === \"string\") return [new _messages_ai_js__WEBPACK_IMPORTED_MODULE_2__.AIMessage(parsedOutputValue)];\n\t\telse if (Array.isArray(parsedOutputValue)) return parsedOutputValue;\n\t\telse if ((0,_messages_base_js__WEBPACK_IMPORTED_MODULE_0__.isBaseMessage)(parsedOutputValue)) return [parsedOutputValue];\n\t\telse throw new Error(`Expected a string, BaseMessage, or array of BaseMessages. Received: ${JSON.stringify(parsedOutputValue, null, 2)}`);\n\t}\n\tasync _enterHistory(input, kwargs) {\n\t\tconst history = kwargs?.configurable?.messageHistory;\n\t\tconst messages = await history.getMessages();\n\t\tif (this.historyMessagesKey === void 0) return messages.concat(this._getInputMessages(input));\n\t\treturn messages;\n\t}\n\tasync _exitHistory(run, config) {\n\t\tconst history = config.configurable?.messageHistory;\n\t\tlet inputs;\n\t\tif (Array.isArray(run.inputs) && Array.isArray(run.inputs[0])) inputs = run.inputs[0];\n\t\telse inputs = run.inputs;\n\t\tlet inputMessages = this._getInputMessages(inputs);\n\t\tif (this.historyMessagesKey === void 0) {\n\t\t\tconst existingMessages = await history.getMessages();\n\t\t\tinputMessages = inputMessages.slice(existingMessages.length);\n\t\t}\n\t\tconst outputValue = run.outputs;\n\t\tif (!outputValue) throw new Error(`Output values from 'Run' undefined. Run: ${JSON.stringify(run, null, 2)}`);\n\t\tconst outputMessages = this._getOutputMessages(outputValue);\n\t\tawait history.addMessages([...inputMessages, ...outputMessages]);\n\t}\n\tasync _mergeConfig(...configs) {\n\t\tconst config = await super._mergeConfig(...configs);\n\t\tif (!config.configurable || !config.configurable.sessionId) {\n\t\t\tconst exampleInput = { [this.inputMessagesKey ?? \"input\"]: \"foo\" };\n\t\t\tconst exampleConfig = { configurable: { sessionId: \"123\" } };\n\t\t\tthrow new Error(`sessionId is required. Pass it in as part of the config argument to .invoke() or .stream()\\neg. chain.invoke(${JSON.stringify(exampleInput)}, ${JSON.stringify(exampleConfig)})`);\n\t\t}\n\t\tconst { sessionId } = config.configurable;\n\t\tconfig.configurable.messageHistory = await this.getMessageHistory(sessionId);\n\t\treturn config;\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=history.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3J1bm5hYmxlcy9oaXN0b3J5LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBb0Q7QUFDQTtBQUNOO0FBQ2M7QUFDOUI7QUFDeUI7O0FBRXZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixXQUFXLGdCQUFnQjtBQUMzQixXQUFXLGlDQUFpQztBQUM1QztBQUNBLGNBQWMscUJBQXFCO0FBQ25DO0FBQ0E7QUFDQSxtREFBbUQsUUFBUTtBQUMzRDtBQUNBLGdCQUFnQixTQUFTO0FBQ3pCO0FBQ0E7QUFDQSxnREFBZ0Q7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxxREFBZTtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsb0RBQWMsaUVBQWlFLGdCQUFnQix3QkFBd0I7QUFDNUk7QUFDQSxrQ0FBa0MsZ0VBQW1CLFVBQVUsNkJBQTZCLGVBQWUsMEJBQTBCO0FBQ3JJLGtFQUFrRSwrREFBK0QsR0FBRyxnQkFBZ0IsdUNBQXVDO0FBQzNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVFQUF1RSxnRUFBYTtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osd0RBQXdELDREQUFZO0FBQ3BFO0FBQ0EsV0FBVyxnRUFBYTtBQUN4Qix5RkFBeUYsMENBQTBDO0FBQ25JO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxnRUFBYTtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0oseURBQXlELHNEQUFTO0FBQ2xFO0FBQ0EsV0FBVyxnRUFBYTtBQUN4Qiw4RkFBOEYsMkNBQTJDO0FBQ3pJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdGQUFnRiw2QkFBNkI7QUFDN0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCLDJCQUEyQixnQkFBZ0I7QUFDM0MsbUlBQW1JLDZCQUE2QixJQUFJLDhCQUE4QjtBQUNsTTtBQUNBLFVBQVUsWUFBWTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNzQztBQUN0QyIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9ydW5uYWJsZXMvaGlzdG9yeS5qcz9kNWRkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzQmFzZU1lc3NhZ2UgfSBmcm9tIFwiLi4vbWVzc2FnZXMvYmFzZS5qc1wiO1xuaW1wb3J0IHsgSHVtYW5NZXNzYWdlIH0gZnJvbSBcIi4uL21lc3NhZ2VzL2h1bWFuLmpzXCI7XG5pbXBvcnQgeyBBSU1lc3NhZ2UgfSBmcm9tIFwiLi4vbWVzc2FnZXMvYWkuanNcIjtcbmltcG9ydCB7IFJ1bm5hYmxlQmluZGluZywgUnVubmFibGVMYW1iZGEgfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5pbXBvcnQgXCIuLi9tZXNzYWdlcy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgUnVubmFibGVQYXNzdGhyb3VnaCB9IGZyb20gXCIuL3Bhc3N0aHJvdWdoLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvcnVubmFibGVzL2hpc3RvcnkudHNcbi8qKlxuKiBXcmFwcyBhIExDRUwgY2hhaW4gYW5kIG1hbmFnZXMgaGlzdG9yeS4gSXQgYXBwZW5kcyBpbnB1dCBtZXNzYWdlc1xuKiBhbmQgY2hhaW4gb3V0cHV0cyBhcyBoaXN0b3J5LCBhbmQgYWRkcyB0aGUgY3VycmVudCBoaXN0b3J5IG1lc3NhZ2VzIHRvXG4qIHRoZSBjaGFpbiBpbnB1dC5cbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiAvLyBwbnBtIGluc3RhbGwgQGxhbmdjaGFpbi9hbnRocm9waWMgQGxhbmdjaGFpbi9jb21tdW5pdHkgQHVwc3Rhc2gvcmVkaXNcbipcbiogaW1wb3J0IHtcbiogICBDaGF0UHJvbXB0VGVtcGxhdGUsXG4qICAgTWVzc2FnZXNQbGFjZWhvbGRlcixcbiogfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3Byb21wdHNcIjtcbiogaW1wb3J0IHsgQ2hhdEFudGhyb3BpYyB9IGZyb20gXCJAbGFuZ2NoYWluL2FudGhyb3BpY1wiO1xuKiBpbXBvcnQgeyBVcHN0YXNoUmVkaXNDaGF0TWVzc2FnZUhpc3RvcnkgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb21tdW5pdHkvc3RvcmVzL21lc3NhZ2UvdXBzdGFzaF9yZWRpc1wiO1xuKiAvLyBGb3IgZGVtb3MsIHlvdSBjYW4gYWxzbyB1c2UgYW4gaW4tbWVtb3J5IHN0b3JlOlxuKiAvLyBpbXBvcnQgeyBDaGF0TWVzc2FnZUhpc3RvcnkgfSBmcm9tIFwiQGxhbmdjaGFpbi9jbGFzc2ljL3N0b3Jlcy9tZXNzYWdlL2luX21lbW9yeVwiO1xuKlxuKiBjb25zdCBwcm9tcHQgPSBDaGF0UHJvbXB0VGVtcGxhdGUuZnJvbU1lc3NhZ2VzKFtcbiogICBbXCJzeXN0ZW1cIiwgXCJZb3UncmUgYW4gYXNzaXN0YW50IHdobydzIGdvb2QgYXQge2FiaWxpdHl9XCJdLFxuKiAgIG5ldyBNZXNzYWdlc1BsYWNlaG9sZGVyKFwiaGlzdG9yeVwiKSxcbiogICBbXCJodW1hblwiLCBcIntxdWVzdGlvbn1cIl0sXG4qIF0pO1xuKlxuKiBjb25zdCBjaGFpbiA9IHByb21wdC5waXBlKG5ldyBDaGF0QW50aHJvcGljKHt9KSk7XG4qXG4qIGNvbnN0IGNoYWluV2l0aEhpc3RvcnkgPSBuZXcgUnVubmFibGVXaXRoTWVzc2FnZUhpc3Rvcnkoe1xuKiAgIHJ1bm5hYmxlOiBjaGFpbixcbiogICBnZXRNZXNzYWdlSGlzdG9yeTogKHNlc3Npb25JZCkgPT5cbiogICAgIG5ldyBVcHN0YXNoUmVkaXNDaGF0TWVzc2FnZUhpc3Rvcnkoe1xuKiAgICAgICBzZXNzaW9uSWQsXG4qICAgICAgIGNvbmZpZzoge1xuKiAgICAgICAgIHVybDogcHJvY2Vzcy5lbnYuVVBTVEFTSF9SRURJU19SRVNUX1VSTCEsXG4qICAgICAgICAgdG9rZW46IHByb2Nlc3MuZW52LlVQU1RBU0hfUkVESVNfUkVTVF9UT0tFTiEsXG4qICAgICAgIH0sXG4qICAgICB9KSxcbiogICBpbnB1dE1lc3NhZ2VzS2V5OiBcInF1ZXN0aW9uXCIsXG4qICAgaGlzdG9yeU1lc3NhZ2VzS2V5OiBcImhpc3RvcnlcIixcbiogfSk7XG4qXG4qIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNoYWluV2l0aEhpc3RvcnkuaW52b2tlKFxuKiAgIHtcbiogICAgIGFiaWxpdHk6IFwibWF0aFwiLFxuKiAgICAgcXVlc3Rpb246IFwiV2hhdCBkb2VzIGNvc2luZSBtZWFuP1wiLFxuKiAgIH0sXG4qICAge1xuKiAgICAgY29uZmlndXJhYmxlOiB7XG4qICAgICAgIHNlc3Npb25JZDogXCJzb21lX3N0cmluZ19pZGVudGlmeWluZ19hX3VzZXJcIixcbiogICAgIH0sXG4qICAgfVxuKiApO1xuKlxuKiBjb25zdCByZXN1bHQyID0gYXdhaXQgY2hhaW5XaXRoSGlzdG9yeS5pbnZva2UoXG4qICAge1xuKiAgICAgYWJpbGl0eTogXCJtYXRoXCIsXG4qICAgICBxdWVzdGlvbjogXCJXaGF0J3MgaXRzIGludmVyc2U/XCIsXG4qICAgfSxcbiogICB7XG4qICAgICBjb25maWd1cmFibGU6IHtcbiogICAgICAgc2Vzc2lvbklkOiBcInNvbWVfc3RyaW5nX2lkZW50aWZ5aW5nX2FfdXNlclwiLFxuKiAgICAgfSxcbiogICB9XG4qICk7XG4qIGBgYFxuKi9cbnZhciBSdW5uYWJsZVdpdGhNZXNzYWdlSGlzdG9yeSA9IGNsYXNzIGV4dGVuZHMgUnVubmFibGVCaW5kaW5nIHtcblx0cnVubmFibGU7XG5cdGlucHV0TWVzc2FnZXNLZXk7XG5cdG91dHB1dE1lc3NhZ2VzS2V5O1xuXHRoaXN0b3J5TWVzc2FnZXNLZXk7XG5cdGdldE1lc3NhZ2VIaXN0b3J5O1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRsZXQgaGlzdG9yeUNoYWluID0gUnVubmFibGVMYW1iZGEuZnJvbSgoaW5wdXQsIG9wdGlvbnMpID0+IHRoaXMuX2VudGVySGlzdG9yeShpbnB1dCwgb3B0aW9ucyA/PyB7fSkpLndpdGhDb25maWcoeyBydW5OYW1lOiBcImxvYWRIaXN0b3J5XCIgfSk7XG5cdFx0Y29uc3QgbWVzc2FnZXNLZXkgPSBmaWVsZHMuaGlzdG9yeU1lc3NhZ2VzS2V5ID8/IGZpZWxkcy5pbnB1dE1lc3NhZ2VzS2V5O1xuXHRcdGlmIChtZXNzYWdlc0tleSkgaGlzdG9yeUNoYWluID0gUnVubmFibGVQYXNzdGhyb3VnaC5hc3NpZ24oeyBbbWVzc2FnZXNLZXldOiBoaXN0b3J5Q2hhaW4gfSkud2l0aENvbmZpZyh7IHJ1bk5hbWU6IFwiaW5zZXJ0SGlzdG9yeVwiIH0pO1xuXHRcdGNvbnN0IGJvdW5kID0gaGlzdG9yeUNoYWluLnBpcGUoZmllbGRzLnJ1bm5hYmxlLndpdGhMaXN0ZW5lcnMoeyBvbkVuZDogKHJ1biwgY29uZmlnJDEpID0+IHRoaXMuX2V4aXRIaXN0b3J5KHJ1biwgY29uZmlnJDEgPz8ge30pIH0pKS53aXRoQ29uZmlnKHsgcnVuTmFtZTogXCJSdW5uYWJsZVdpdGhNZXNzYWdlSGlzdG9yeVwiIH0pO1xuXHRcdGNvbnN0IGNvbmZpZyA9IGZpZWxkcy5jb25maWcgPz8ge307XG5cdFx0c3VwZXIoe1xuXHRcdFx0Li4uZmllbGRzLFxuXHRcdFx0Y29uZmlnLFxuXHRcdFx0Ym91bmRcblx0XHR9KTtcblx0XHR0aGlzLnJ1bm5hYmxlID0gZmllbGRzLnJ1bm5hYmxlO1xuXHRcdHRoaXMuZ2V0TWVzc2FnZUhpc3RvcnkgPSBmaWVsZHMuZ2V0TWVzc2FnZUhpc3Rvcnk7XG5cdFx0dGhpcy5pbnB1dE1lc3NhZ2VzS2V5ID0gZmllbGRzLmlucHV0TWVzc2FnZXNLZXk7XG5cdFx0dGhpcy5vdXRwdXRNZXNzYWdlc0tleSA9IGZpZWxkcy5vdXRwdXRNZXNzYWdlc0tleTtcblx0XHR0aGlzLmhpc3RvcnlNZXNzYWdlc0tleSA9IGZpZWxkcy5oaXN0b3J5TWVzc2FnZXNLZXk7XG5cdH1cblx0X2dldElucHV0TWVzc2FnZXMoaW5wdXRWYWx1ZSkge1xuXHRcdGxldCBwYXJzZWRJbnB1dFZhbHVlO1xuXHRcdGlmICh0eXBlb2YgaW5wdXRWYWx1ZSA9PT0gXCJvYmplY3RcIiAmJiAhQXJyYXkuaXNBcnJheShpbnB1dFZhbHVlKSAmJiAhaXNCYXNlTWVzc2FnZShpbnB1dFZhbHVlKSkge1xuXHRcdFx0bGV0IGtleTtcblx0XHRcdGlmICh0aGlzLmlucHV0TWVzc2FnZXNLZXkpIGtleSA9IHRoaXMuaW5wdXRNZXNzYWdlc0tleTtcblx0XHRcdGVsc2UgaWYgKE9iamVjdC5rZXlzKGlucHV0VmFsdWUpLmxlbmd0aCA9PT0gMSkga2V5ID0gT2JqZWN0LmtleXMoaW5wdXRWYWx1ZSlbMF07XG5cdFx0XHRlbHNlIGtleSA9IFwiaW5wdXRcIjtcblx0XHRcdGlmIChBcnJheS5pc0FycmF5KGlucHV0VmFsdWVba2V5XSkgJiYgQXJyYXkuaXNBcnJheShpbnB1dFZhbHVlW2tleV1bMF0pKSBwYXJzZWRJbnB1dFZhbHVlID0gaW5wdXRWYWx1ZVtrZXldWzBdO1xuXHRcdFx0ZWxzZSBwYXJzZWRJbnB1dFZhbHVlID0gaW5wdXRWYWx1ZVtrZXldO1xuXHRcdH0gZWxzZSBwYXJzZWRJbnB1dFZhbHVlID0gaW5wdXRWYWx1ZTtcblx0XHRpZiAodHlwZW9mIHBhcnNlZElucHV0VmFsdWUgPT09IFwic3RyaW5nXCIpIHJldHVybiBbbmV3IEh1bWFuTWVzc2FnZShwYXJzZWRJbnB1dFZhbHVlKV07XG5cdFx0ZWxzZSBpZiAoQXJyYXkuaXNBcnJheShwYXJzZWRJbnB1dFZhbHVlKSkgcmV0dXJuIHBhcnNlZElucHV0VmFsdWU7XG5cdFx0ZWxzZSBpZiAoaXNCYXNlTWVzc2FnZShwYXJzZWRJbnB1dFZhbHVlKSkgcmV0dXJuIFtwYXJzZWRJbnB1dFZhbHVlXTtcblx0XHRlbHNlIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgYSBzdHJpbmcsIEJhc2VNZXNzYWdlLCBvciBhcnJheSBvZiBCYXNlTWVzc2FnZXMuXFxuR290ICR7SlNPTi5zdHJpbmdpZnkocGFyc2VkSW5wdXRWYWx1ZSwgbnVsbCwgMil9YCk7XG5cdH1cblx0X2dldE91dHB1dE1lc3NhZ2VzKG91dHB1dFZhbHVlKSB7XG5cdFx0bGV0IHBhcnNlZE91dHB1dFZhbHVlO1xuXHRcdGlmICghQXJyYXkuaXNBcnJheShvdXRwdXRWYWx1ZSkgJiYgIWlzQmFzZU1lc3NhZ2Uob3V0cHV0VmFsdWUpICYmIHR5cGVvZiBvdXRwdXRWYWx1ZSAhPT0gXCJzdHJpbmdcIikge1xuXHRcdFx0bGV0IGtleTtcblx0XHRcdGlmICh0aGlzLm91dHB1dE1lc3NhZ2VzS2V5ICE9PSB2b2lkIDApIGtleSA9IHRoaXMub3V0cHV0TWVzc2FnZXNLZXk7XG5cdFx0XHRlbHNlIGlmIChPYmplY3Qua2V5cyhvdXRwdXRWYWx1ZSkubGVuZ3RoID09PSAxKSBrZXkgPSBPYmplY3Qua2V5cyhvdXRwdXRWYWx1ZSlbMF07XG5cdFx0XHRlbHNlIGtleSA9IFwib3V0cHV0XCI7XG5cdFx0XHRpZiAob3V0cHV0VmFsdWUuZ2VuZXJhdGlvbnMgIT09IHZvaWQgMCkgcGFyc2VkT3V0cHV0VmFsdWUgPSBvdXRwdXRWYWx1ZS5nZW5lcmF0aW9uc1swXVswXS5tZXNzYWdlO1xuXHRcdFx0ZWxzZSBwYXJzZWRPdXRwdXRWYWx1ZSA9IG91dHB1dFZhbHVlW2tleV07XG5cdFx0fSBlbHNlIHBhcnNlZE91dHB1dFZhbHVlID0gb3V0cHV0VmFsdWU7XG5cdFx0aWYgKHR5cGVvZiBwYXJzZWRPdXRwdXRWYWx1ZSA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIFtuZXcgQUlNZXNzYWdlKHBhcnNlZE91dHB1dFZhbHVlKV07XG5cdFx0ZWxzZSBpZiAoQXJyYXkuaXNBcnJheShwYXJzZWRPdXRwdXRWYWx1ZSkpIHJldHVybiBwYXJzZWRPdXRwdXRWYWx1ZTtcblx0XHRlbHNlIGlmIChpc0Jhc2VNZXNzYWdlKHBhcnNlZE91dHB1dFZhbHVlKSkgcmV0dXJuIFtwYXJzZWRPdXRwdXRWYWx1ZV07XG5cdFx0ZWxzZSB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGEgc3RyaW5nLCBCYXNlTWVzc2FnZSwgb3IgYXJyYXkgb2YgQmFzZU1lc3NhZ2VzLiBSZWNlaXZlZDogJHtKU09OLnN0cmluZ2lmeShwYXJzZWRPdXRwdXRWYWx1ZSwgbnVsbCwgMil9YCk7XG5cdH1cblx0YXN5bmMgX2VudGVySGlzdG9yeShpbnB1dCwga3dhcmdzKSB7XG5cdFx0Y29uc3QgaGlzdG9yeSA9IGt3YXJncz8uY29uZmlndXJhYmxlPy5tZXNzYWdlSGlzdG9yeTtcblx0XHRjb25zdCBtZXNzYWdlcyA9IGF3YWl0IGhpc3RvcnkuZ2V0TWVzc2FnZXMoKTtcblx0XHRpZiAodGhpcy5oaXN0b3J5TWVzc2FnZXNLZXkgPT09IHZvaWQgMCkgcmV0dXJuIG1lc3NhZ2VzLmNvbmNhdCh0aGlzLl9nZXRJbnB1dE1lc3NhZ2VzKGlucHV0KSk7XG5cdFx0cmV0dXJuIG1lc3NhZ2VzO1xuXHR9XG5cdGFzeW5jIF9leGl0SGlzdG9yeShydW4sIGNvbmZpZykge1xuXHRcdGNvbnN0IGhpc3RvcnkgPSBjb25maWcuY29uZmlndXJhYmxlPy5tZXNzYWdlSGlzdG9yeTtcblx0XHRsZXQgaW5wdXRzO1xuXHRcdGlmIChBcnJheS5pc0FycmF5KHJ1bi5pbnB1dHMpICYmIEFycmF5LmlzQXJyYXkocnVuLmlucHV0c1swXSkpIGlucHV0cyA9IHJ1bi5pbnB1dHNbMF07XG5cdFx0ZWxzZSBpbnB1dHMgPSBydW4uaW5wdXRzO1xuXHRcdGxldCBpbnB1dE1lc3NhZ2VzID0gdGhpcy5fZ2V0SW5wdXRNZXNzYWdlcyhpbnB1dHMpO1xuXHRcdGlmICh0aGlzLmhpc3RvcnlNZXNzYWdlc0tleSA9PT0gdm9pZCAwKSB7XG5cdFx0XHRjb25zdCBleGlzdGluZ01lc3NhZ2VzID0gYXdhaXQgaGlzdG9yeS5nZXRNZXNzYWdlcygpO1xuXHRcdFx0aW5wdXRNZXNzYWdlcyA9IGlucHV0TWVzc2FnZXMuc2xpY2UoZXhpc3RpbmdNZXNzYWdlcy5sZW5ndGgpO1xuXHRcdH1cblx0XHRjb25zdCBvdXRwdXRWYWx1ZSA9IHJ1bi5vdXRwdXRzO1xuXHRcdGlmICghb3V0cHV0VmFsdWUpIHRocm93IG5ldyBFcnJvcihgT3V0cHV0IHZhbHVlcyBmcm9tICdSdW4nIHVuZGVmaW5lZC4gUnVuOiAke0pTT04uc3RyaW5naWZ5KHJ1biwgbnVsbCwgMil9YCk7XG5cdFx0Y29uc3Qgb3V0cHV0TWVzc2FnZXMgPSB0aGlzLl9nZXRPdXRwdXRNZXNzYWdlcyhvdXRwdXRWYWx1ZSk7XG5cdFx0YXdhaXQgaGlzdG9yeS5hZGRNZXNzYWdlcyhbLi4uaW5wdXRNZXNzYWdlcywgLi4ub3V0cHV0TWVzc2FnZXNdKTtcblx0fVxuXHRhc3luYyBfbWVyZ2VDb25maWcoLi4uY29uZmlncykge1xuXHRcdGNvbnN0IGNvbmZpZyA9IGF3YWl0IHN1cGVyLl9tZXJnZUNvbmZpZyguLi5jb25maWdzKTtcblx0XHRpZiAoIWNvbmZpZy5jb25maWd1cmFibGUgfHwgIWNvbmZpZy5jb25maWd1cmFibGUuc2Vzc2lvbklkKSB7XG5cdFx0XHRjb25zdCBleGFtcGxlSW5wdXQgPSB7IFt0aGlzLmlucHV0TWVzc2FnZXNLZXkgPz8gXCJpbnB1dFwiXTogXCJmb29cIiB9O1xuXHRcdFx0Y29uc3QgZXhhbXBsZUNvbmZpZyA9IHsgY29uZmlndXJhYmxlOiB7IHNlc3Npb25JZDogXCIxMjNcIiB9IH07XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYHNlc3Npb25JZCBpcyByZXF1aXJlZC4gUGFzcyBpdCBpbiBhcyBwYXJ0IG9mIHRoZSBjb25maWcgYXJndW1lbnQgdG8gLmludm9rZSgpIG9yIC5zdHJlYW0oKVxcbmVnLiBjaGFpbi5pbnZva2UoJHtKU09OLnN0cmluZ2lmeShleGFtcGxlSW5wdXQpfSwgJHtKU09OLnN0cmluZ2lmeShleGFtcGxlQ29uZmlnKX0pYCk7XG5cdFx0fVxuXHRcdGNvbnN0IHsgc2Vzc2lvbklkIH0gPSBjb25maWcuY29uZmlndXJhYmxlO1xuXHRcdGNvbmZpZy5jb25maWd1cmFibGUubWVzc2FnZUhpc3RvcnkgPSBhd2FpdCB0aGlzLmdldE1lc3NhZ2VIaXN0b3J5KHNlc3Npb25JZCk7XG5cdFx0cmV0dXJuIGNvbmZpZztcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBSdW5uYWJsZVdpdGhNZXNzYWdlSGlzdG9yeSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGlzdG9yeS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/history.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/index.js":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/index.js ***!
  \*********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RouterRunnable: () => (/* reexport safe */ _router_js__WEBPACK_IMPORTED_MODULE_5__.RouterRunnable),\n/* harmony export */   Runnable: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_3__.Runnable),\n/* harmony export */   RunnableAssign: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_3__.RunnableAssign),\n/* harmony export */   RunnableBinding: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_3__.RunnableBinding),\n/* harmony export */   RunnableBranch: () => (/* reexport safe */ _branch_js__WEBPACK_IMPORTED_MODULE_6__.RunnableBranch),\n/* harmony export */   RunnableEach: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_3__.RunnableEach),\n/* harmony export */   RunnableLambda: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_3__.RunnableLambda),\n/* harmony export */   RunnableMap: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_3__.RunnableMap),\n/* harmony export */   RunnableParallel: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_3__.RunnableParallel),\n/* harmony export */   RunnablePassthrough: () => (/* reexport safe */ _passthrough_js__WEBPACK_IMPORTED_MODULE_4__.RunnablePassthrough),\n/* harmony export */   RunnablePick: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_3__.RunnablePick),\n/* harmony export */   RunnableRetry: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_3__.RunnableRetry),\n/* harmony export */   RunnableSequence: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_3__.RunnableSequence),\n/* harmony export */   RunnableToolLike: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_3__.RunnableToolLike),\n/* harmony export */   RunnableWithFallbacks: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_3__.RunnableWithFallbacks),\n/* harmony export */   RunnableWithMessageHistory: () => (/* reexport safe */ _history_js__WEBPACK_IMPORTED_MODULE_7__.RunnableWithMessageHistory),\n/* harmony export */   _coerceToRunnable: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_3__._coerceToRunnable),\n/* harmony export */   ensureConfig: () => (/* reexport safe */ _config_js__WEBPACK_IMPORTED_MODULE_1__.ensureConfig),\n/* harmony export */   getCallbackManagerForConfig: () => (/* reexport safe */ _config_js__WEBPACK_IMPORTED_MODULE_1__.getCallbackManagerForConfig),\n/* harmony export */   mergeConfigs: () => (/* reexport safe */ _config_js__WEBPACK_IMPORTED_MODULE_1__.mergeConfigs),\n/* harmony export */   patchConfig: () => (/* reexport safe */ _config_js__WEBPACK_IMPORTED_MODULE_1__.patchConfig),\n/* harmony export */   pickRunnableConfigKeys: () => (/* reexport safe */ _config_js__WEBPACK_IMPORTED_MODULE_1__.pickRunnableConfigKeys),\n/* harmony export */   raceWithSignal: () => (/* reexport safe */ _utils_signal_js__WEBPACK_IMPORTED_MODULE_2__.raceWithSignal),\n/* harmony export */   runnables_exports: () => (/* binding */ runnables_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./config.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/config.js\");\n/* harmony import */ var _utils_signal_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/signal.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/signal.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/base.js\");\n/* harmony import */ var _passthrough_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./passthrough.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/passthrough.js\");\n/* harmony import */ var _router_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./router.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/router.js\");\n/* harmony import */ var _branch_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./branch.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/branch.js\");\n/* harmony import */ var _history_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./history.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/history.js\");\n\n\n\n\n\n\n\n\n\n//#region src/runnables/index.ts\nvar runnables_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(runnables_exports, {\n\tRouterRunnable: () => _router_js__WEBPACK_IMPORTED_MODULE_5__.RouterRunnable,\n\tRunnable: () => _base_js__WEBPACK_IMPORTED_MODULE_3__.Runnable,\n\tRunnableAssign: () => _base_js__WEBPACK_IMPORTED_MODULE_3__.RunnableAssign,\n\tRunnableBinding: () => _base_js__WEBPACK_IMPORTED_MODULE_3__.RunnableBinding,\n\tRunnableBranch: () => _branch_js__WEBPACK_IMPORTED_MODULE_6__.RunnableBranch,\n\tRunnableEach: () => _base_js__WEBPACK_IMPORTED_MODULE_3__.RunnableEach,\n\tRunnableLambda: () => _base_js__WEBPACK_IMPORTED_MODULE_3__.RunnableLambda,\n\tRunnableMap: () => _base_js__WEBPACK_IMPORTED_MODULE_3__.RunnableMap,\n\tRunnableParallel: () => _base_js__WEBPACK_IMPORTED_MODULE_3__.RunnableParallel,\n\tRunnablePassthrough: () => _passthrough_js__WEBPACK_IMPORTED_MODULE_4__.RunnablePassthrough,\n\tRunnablePick: () => _base_js__WEBPACK_IMPORTED_MODULE_3__.RunnablePick,\n\tRunnableRetry: () => _base_js__WEBPACK_IMPORTED_MODULE_3__.RunnableRetry,\n\tRunnableSequence: () => _base_js__WEBPACK_IMPORTED_MODULE_3__.RunnableSequence,\n\tRunnableToolLike: () => _base_js__WEBPACK_IMPORTED_MODULE_3__.RunnableToolLike,\n\tRunnableWithFallbacks: () => _base_js__WEBPACK_IMPORTED_MODULE_3__.RunnableWithFallbacks,\n\tRunnableWithMessageHistory: () => _history_js__WEBPACK_IMPORTED_MODULE_7__.RunnableWithMessageHistory,\n\t_coerceToRunnable: () => _base_js__WEBPACK_IMPORTED_MODULE_3__._coerceToRunnable,\n\tensureConfig: () => _config_js__WEBPACK_IMPORTED_MODULE_1__.ensureConfig,\n\tgetCallbackManagerForConfig: () => _config_js__WEBPACK_IMPORTED_MODULE_1__.getCallbackManagerForConfig,\n\tmergeConfigs: () => _config_js__WEBPACK_IMPORTED_MODULE_1__.mergeConfigs,\n\tpatchConfig: () => _config_js__WEBPACK_IMPORTED_MODULE_1__.patchConfig,\n\tpickRunnableConfigKeys: () => _config_js__WEBPACK_IMPORTED_MODULE_1__.pickRunnableConfigKeys,\n\traceWithSignal: () => _utils_signal_js__WEBPACK_IMPORTED_MODULE_2__.raceWithSignal\n});\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3J1bm5hYmxlcy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEyRDtBQUNnRTtBQUN2RTtBQUMwTDtBQUN2TDtBQUNWO0FBQ0E7QUFDYTs7QUFFMUQ7QUFDQTtBQUNBLHNFQUFRO0FBQ1IsdUJBQXVCLHNEQUFjO0FBQ3JDLGlCQUFpQiw4Q0FBUTtBQUN6Qix1QkFBdUIsb0RBQWM7QUFDckMsd0JBQXdCLHFEQUFlO0FBQ3ZDLHVCQUF1QixzREFBYztBQUNyQyxxQkFBcUIsa0RBQVk7QUFDakMsdUJBQXVCLG9EQUFjO0FBQ3JDLG9CQUFvQixpREFBVztBQUMvQix5QkFBeUIsc0RBQWdCO0FBQ3pDLDRCQUE0QixnRUFBbUI7QUFDL0MscUJBQXFCLGtEQUFZO0FBQ2pDLHNCQUFzQixtREFBYTtBQUNuQyx5QkFBeUIsc0RBQWdCO0FBQ3pDLHlCQUF5QixzREFBZ0I7QUFDekMsOEJBQThCLDJEQUFxQjtBQUNuRCxtQ0FBbUMsbUVBQTBCO0FBQzdELDBCQUEwQix1REFBaUI7QUFDM0MscUJBQXFCLG9EQUFZO0FBQ2pDLG9DQUFvQyxtRUFBMkI7QUFDL0QscUJBQXFCLG9EQUFZO0FBQ2pDLG9CQUFvQixtREFBVztBQUMvQiwrQkFBK0IsOERBQXNCO0FBQ3JELHVCQUF1Qiw0REFBYztBQUNyQyxDQUFDOztBQUVEO0FBQythO0FBQy9hIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3J1bm5hYmxlcy9pbmRleC5qcz85ZjU2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fZXhwb3J0IH0gZnJvbSBcIi4uL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuanNcIjtcbmltcG9ydCB7IGVuc3VyZUNvbmZpZywgZ2V0Q2FsbGJhY2tNYW5hZ2VyRm9yQ29uZmlnLCBtZXJnZUNvbmZpZ3MsIHBhdGNoQ29uZmlnLCBwaWNrUnVubmFibGVDb25maWdLZXlzIH0gZnJvbSBcIi4vY29uZmlnLmpzXCI7XG5pbXBvcnQgeyByYWNlV2l0aFNpZ25hbCB9IGZyb20gXCIuLi91dGlscy9zaWduYWwuanNcIjtcbmltcG9ydCB7IFJ1bm5hYmxlLCBSdW5uYWJsZUFzc2lnbiwgUnVubmFibGVCaW5kaW5nLCBSdW5uYWJsZUVhY2gsIFJ1bm5hYmxlTGFtYmRhLCBSdW5uYWJsZU1hcCwgUnVubmFibGVQYXJhbGxlbCwgUnVubmFibGVQaWNrLCBSdW5uYWJsZVJldHJ5LCBSdW5uYWJsZVNlcXVlbmNlLCBSdW5uYWJsZVRvb2xMaWtlLCBSdW5uYWJsZVdpdGhGYWxsYmFja3MsIF9jb2VyY2VUb1J1bm5hYmxlIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgUnVubmFibGVQYXNzdGhyb3VnaCB9IGZyb20gXCIuL3Bhc3N0aHJvdWdoLmpzXCI7XG5pbXBvcnQgeyBSb3V0ZXJSdW5uYWJsZSB9IGZyb20gXCIuL3JvdXRlci5qc1wiO1xuaW1wb3J0IHsgUnVubmFibGVCcmFuY2ggfSBmcm9tIFwiLi9icmFuY2guanNcIjtcbmltcG9ydCB7IFJ1bm5hYmxlV2l0aE1lc3NhZ2VIaXN0b3J5IH0gZnJvbSBcIi4vaGlzdG9yeS5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3J1bm5hYmxlcy9pbmRleC50c1xudmFyIHJ1bm5hYmxlc19leHBvcnRzID0ge307XG5fX2V4cG9ydChydW5uYWJsZXNfZXhwb3J0cywge1xuXHRSb3V0ZXJSdW5uYWJsZTogKCkgPT4gUm91dGVyUnVubmFibGUsXG5cdFJ1bm5hYmxlOiAoKSA9PiBSdW5uYWJsZSxcblx0UnVubmFibGVBc3NpZ246ICgpID0+IFJ1bm5hYmxlQXNzaWduLFxuXHRSdW5uYWJsZUJpbmRpbmc6ICgpID0+IFJ1bm5hYmxlQmluZGluZyxcblx0UnVubmFibGVCcmFuY2g6ICgpID0+IFJ1bm5hYmxlQnJhbmNoLFxuXHRSdW5uYWJsZUVhY2g6ICgpID0+IFJ1bm5hYmxlRWFjaCxcblx0UnVubmFibGVMYW1iZGE6ICgpID0+IFJ1bm5hYmxlTGFtYmRhLFxuXHRSdW5uYWJsZU1hcDogKCkgPT4gUnVubmFibGVNYXAsXG5cdFJ1bm5hYmxlUGFyYWxsZWw6ICgpID0+IFJ1bm5hYmxlUGFyYWxsZWwsXG5cdFJ1bm5hYmxlUGFzc3Rocm91Z2g6ICgpID0+IFJ1bm5hYmxlUGFzc3Rocm91Z2gsXG5cdFJ1bm5hYmxlUGljazogKCkgPT4gUnVubmFibGVQaWNrLFxuXHRSdW5uYWJsZVJldHJ5OiAoKSA9PiBSdW5uYWJsZVJldHJ5LFxuXHRSdW5uYWJsZVNlcXVlbmNlOiAoKSA9PiBSdW5uYWJsZVNlcXVlbmNlLFxuXHRSdW5uYWJsZVRvb2xMaWtlOiAoKSA9PiBSdW5uYWJsZVRvb2xMaWtlLFxuXHRSdW5uYWJsZVdpdGhGYWxsYmFja3M6ICgpID0+IFJ1bm5hYmxlV2l0aEZhbGxiYWNrcyxcblx0UnVubmFibGVXaXRoTWVzc2FnZUhpc3Rvcnk6ICgpID0+IFJ1bm5hYmxlV2l0aE1lc3NhZ2VIaXN0b3J5LFxuXHRfY29lcmNlVG9SdW5uYWJsZTogKCkgPT4gX2NvZXJjZVRvUnVubmFibGUsXG5cdGVuc3VyZUNvbmZpZzogKCkgPT4gZW5zdXJlQ29uZmlnLFxuXHRnZXRDYWxsYmFja01hbmFnZXJGb3JDb25maWc6ICgpID0+IGdldENhbGxiYWNrTWFuYWdlckZvckNvbmZpZyxcblx0bWVyZ2VDb25maWdzOiAoKSA9PiBtZXJnZUNvbmZpZ3MsXG5cdHBhdGNoQ29uZmlnOiAoKSA9PiBwYXRjaENvbmZpZyxcblx0cGlja1J1bm5hYmxlQ29uZmlnS2V5czogKCkgPT4gcGlja1J1bm5hYmxlQ29uZmlnS2V5cyxcblx0cmFjZVdpdGhTaWduYWw6ICgpID0+IHJhY2VXaXRoU2lnbmFsXG59KTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBSb3V0ZXJSdW5uYWJsZSwgUnVubmFibGUsIFJ1bm5hYmxlQXNzaWduLCBSdW5uYWJsZUJpbmRpbmcsIFJ1bm5hYmxlQnJhbmNoLCBSdW5uYWJsZUVhY2gsIFJ1bm5hYmxlTGFtYmRhLCBSdW5uYWJsZU1hcCwgUnVubmFibGVQYXJhbGxlbCwgUnVubmFibGVQYXNzdGhyb3VnaCwgUnVubmFibGVQaWNrLCBSdW5uYWJsZVJldHJ5LCBSdW5uYWJsZVNlcXVlbmNlLCBSdW5uYWJsZVRvb2xMaWtlLCBSdW5uYWJsZVdpdGhGYWxsYmFja3MsIFJ1bm5hYmxlV2l0aE1lc3NhZ2VIaXN0b3J5LCBfY29lcmNlVG9SdW5uYWJsZSwgZW5zdXJlQ29uZmlnLCBnZXRDYWxsYmFja01hbmFnZXJGb3JDb25maWcsIG1lcmdlQ29uZmlncywgcGF0Y2hDb25maWcsIHBpY2tSdW5uYWJsZUNvbmZpZ0tleXMsIHJhY2VXaXRoU2lnbmFsLCBydW5uYWJsZXNfZXhwb3J0cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/iter.js":
/*!********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/iter.js ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   consumeAsyncIterableInContext: () => (/* binding */ consumeAsyncIterableInContext),\n/* harmony export */   consumeIteratorInContext: () => (/* binding */ consumeIteratorInContext),\n/* harmony export */   isAsyncIterable: () => (/* binding */ isAsyncIterable),\n/* harmony export */   isIterableIterator: () => (/* binding */ isIterableIterator),\n/* harmony export */   isIterator: () => (/* binding */ isIterator)\n/* harmony export */ });\n/* harmony import */ var _singletons_async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../singletons/async_local_storage/index.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/async_local_storage/index.js\");\n/* harmony import */ var _singletons_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../singletons/index.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/index.js\");\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./config.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/config.js\");\n\n\n\n\n//#region src/runnables/iter.ts\nfunction isIterableIterator(thing) {\n\treturn typeof thing === \"object\" && thing !== null && typeof thing[Symbol.iterator] === \"function\" && typeof thing.next === \"function\";\n}\nconst isIterator = (x) => x != null && typeof x === \"object\" && \"next\" in x && typeof x.next === \"function\";\nfunction isAsyncIterable(thing) {\n\treturn typeof thing === \"object\" && thing !== null && typeof thing[Symbol.asyncIterator] === \"function\";\n}\nfunction* consumeIteratorInContext(context, iter) {\n\twhile (true) {\n\t\tconst { value, done } = _singletons_async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_0__.AsyncLocalStorageProviderSingleton.runWithConfig((0,_config_js__WEBPACK_IMPORTED_MODULE_2__.pickRunnableConfigKeys)(context), iter.next.bind(iter), true);\n\t\tif (done) break;\n\t\telse yield value;\n\t}\n}\nasync function* consumeAsyncIterableInContext(context, iter) {\n\tconst iterator = iter[Symbol.asyncIterator]();\n\twhile (true) {\n\t\tconst { value, done } = await _singletons_async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_0__.AsyncLocalStorageProviderSingleton.runWithConfig((0,_config_js__WEBPACK_IMPORTED_MODULE_2__.pickRunnableConfigKeys)(context), iterator.next.bind(iter), true);\n\t\tif (done) break;\n\t\telse yield value;\n\t}\n}\n\n//#endregion\n\n//# sourceMappingURL=iter.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3J1bm5hYmxlcy9pdGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQWdHO0FBQ2hFO0FBQ3FCOztBQUVyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsY0FBYyxFQUFFLHdHQUFrQyxlQUFlLGtFQUFzQjtBQUNqRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsY0FBYyxRQUFRLHdHQUFrQyxlQUFlLGtFQUFzQjtBQUN2RztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNvSDtBQUNwSCIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9ydW5uYWJsZXMvaXRlci5qcz9iZTE4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFzeW5jTG9jYWxTdG9yYWdlUHJvdmlkZXJTaW5nbGV0b24gfSBmcm9tIFwiLi4vc2luZ2xldG9ucy9hc3luY19sb2NhbF9zdG9yYWdlL2luZGV4LmpzXCI7XG5pbXBvcnQgXCIuLi9zaW5nbGV0b25zL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBwaWNrUnVubmFibGVDb25maWdLZXlzIH0gZnJvbSBcIi4vY29uZmlnLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvcnVubmFibGVzL2l0ZXIudHNcbmZ1bmN0aW9uIGlzSXRlcmFibGVJdGVyYXRvcih0aGluZykge1xuXHRyZXR1cm4gdHlwZW9mIHRoaW5nID09PSBcIm9iamVjdFwiICYmIHRoaW5nICE9PSBudWxsICYmIHR5cGVvZiB0aGluZ1tTeW1ib2wuaXRlcmF0b3JdID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIHRoaW5nLm5leHQgPT09IFwiZnVuY3Rpb25cIjtcbn1cbmNvbnN0IGlzSXRlcmF0b3IgPSAoeCkgPT4geCAhPSBudWxsICYmIHR5cGVvZiB4ID09PSBcIm9iamVjdFwiICYmIFwibmV4dFwiIGluIHggJiYgdHlwZW9mIHgubmV4dCA9PT0gXCJmdW5jdGlvblwiO1xuZnVuY3Rpb24gaXNBc3luY0l0ZXJhYmxlKHRoaW5nKSB7XG5cdHJldHVybiB0eXBlb2YgdGhpbmcgPT09IFwib2JqZWN0XCIgJiYgdGhpbmcgIT09IG51bGwgJiYgdHlwZW9mIHRoaW5nW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9PT0gXCJmdW5jdGlvblwiO1xufVxuZnVuY3Rpb24qIGNvbnN1bWVJdGVyYXRvckluQ29udGV4dChjb250ZXh0LCBpdGVyKSB7XG5cdHdoaWxlICh0cnVlKSB7XG5cdFx0Y29uc3QgeyB2YWx1ZSwgZG9uZSB9ID0gQXN5bmNMb2NhbFN0b3JhZ2VQcm92aWRlclNpbmdsZXRvbi5ydW5XaXRoQ29uZmlnKHBpY2tSdW5uYWJsZUNvbmZpZ0tleXMoY29udGV4dCksIGl0ZXIubmV4dC5iaW5kKGl0ZXIpLCB0cnVlKTtcblx0XHRpZiAoZG9uZSkgYnJlYWs7XG5cdFx0ZWxzZSB5aWVsZCB2YWx1ZTtcblx0fVxufVxuYXN5bmMgZnVuY3Rpb24qIGNvbnN1bWVBc3luY0l0ZXJhYmxlSW5Db250ZXh0KGNvbnRleHQsIGl0ZXIpIHtcblx0Y29uc3QgaXRlcmF0b3IgPSBpdGVyW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpO1xuXHR3aGlsZSAodHJ1ZSkge1xuXHRcdGNvbnN0IHsgdmFsdWUsIGRvbmUgfSA9IGF3YWl0IEFzeW5jTG9jYWxTdG9yYWdlUHJvdmlkZXJTaW5nbGV0b24ucnVuV2l0aENvbmZpZyhwaWNrUnVubmFibGVDb25maWdLZXlzKGNvbnRleHQpLCBpdGVyYXRvci5uZXh0LmJpbmQoaXRlciksIHRydWUpO1xuXHRcdGlmIChkb25lKSBicmVhaztcblx0XHRlbHNlIHlpZWxkIHZhbHVlO1xuXHR9XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgY29uc3VtZUFzeW5jSXRlcmFibGVJbkNvbnRleHQsIGNvbnN1bWVJdGVyYXRvckluQ29udGV4dCwgaXNBc3luY0l0ZXJhYmxlLCBpc0l0ZXJhYmxlSXRlcmF0b3IsIGlzSXRlcmF0b3IgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWl0ZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/iter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/passthrough.js":
/*!***************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/passthrough.js ***!
  \***************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RunnablePassthrough: () => (/* binding */ RunnablePassthrough)\n/* harmony export */ });\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/config.js\");\n/* harmony import */ var _utils_stream_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/stream.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/stream.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/base.js\");\n\n\n\n\n//#region src/runnables/passthrough.ts\n/**\n* A runnable to passthrough inputs unchanged or with additional keys.\n*\n* This runnable behaves almost like the identity function, except that it\n* can be configured to add additional keys to the output, if the input is\n* an object.\n*\n* The example below demonstrates how to use `RunnablePassthrough to\n* passthrough the input from the `.invoke()`\n*\n* @example\n* ```typescript\n* const chain = RunnableSequence.from([\n*   {\n*     question: new RunnablePassthrough(),\n*     context: async () => loadContextFromStore(),\n*   },\n*   prompt,\n*   llm,\n*   outputParser,\n* ]);\n* const response = await chain.invoke(\n*   \"I can pass a single string instead of an object since I'm using `RunnablePassthrough`.\"\n* );\n* ```\n*/\nvar RunnablePassthrough = class extends _base_js__WEBPACK_IMPORTED_MODULE_2__.Runnable {\n\tstatic lc_name() {\n\t\treturn \"RunnablePassthrough\";\n\t}\n\tlc_namespace = [\"langchain_core\", \"runnables\"];\n\tlc_serializable = true;\n\tfunc;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tif (fields) this.func = fields.func;\n\t}\n\tasync invoke(input, options) {\n\t\tconst config = (0,_config_js__WEBPACK_IMPORTED_MODULE_0__.ensureConfig)(options);\n\t\tif (this.func) await this.func(input, config);\n\t\treturn this._callWithConfig((input$1) => Promise.resolve(input$1), input, config);\n\t}\n\tasync *transform(generator, options) {\n\t\tconst config = (0,_config_js__WEBPACK_IMPORTED_MODULE_0__.ensureConfig)(options);\n\t\tlet finalOutput;\n\t\tlet finalOutputSupported = true;\n\t\tfor await (const chunk of this._transformStreamWithConfig(generator, (input) => input, config)) {\n\t\t\tyield chunk;\n\t\t\tif (finalOutputSupported) if (finalOutput === void 0) finalOutput = chunk;\n\t\t\telse try {\n\t\t\t\tfinalOutput = (0,_utils_stream_js__WEBPACK_IMPORTED_MODULE_1__.concat)(finalOutput, chunk);\n\t\t\t} catch {\n\t\t\t\tfinalOutput = void 0;\n\t\t\t\tfinalOutputSupported = false;\n\t\t\t}\n\t\t}\n\t\tif (this.func && finalOutput !== void 0) await this.func(finalOutput, config);\n\t}\n\t/**\n\t* A runnable that assigns key-value pairs to the input.\n\t*\n\t* The example below shows how you could use it with an inline function.\n\t*\n\t* @example\n\t* ```typescript\n\t* const prompt =\n\t*   PromptTemplate.fromTemplate(`Write a SQL query to answer the question using the following schema: {schema}\n\t* Question: {question}\n\t* SQL Query:`);\n\t*\n\t* // The `RunnablePassthrough.assign()` is used here to passthrough the input from the `.invoke()`\n\t* // call (in this example it's the question), along with any inputs passed to the `.assign()` method.\n\t* // In this case, we're passing the schema.\n\t* const sqlQueryGeneratorChain = RunnableSequence.from([\n\t*   RunnablePassthrough.assign({\n\t*     schema: async () => db.getTableInfo(),\n\t*   }),\n\t*   prompt,\n\t*   new ChatOpenAI({ model: \"gpt-4o-mini\" }).withConfig({ stop: [\"\\nSQLResult:\"] }),\n\t*   new StringOutputParser(),\n\t* ]);\n\t* const result = await sqlQueryGeneratorChain.invoke({\n\t*   question: \"How many employees are there?\",\n\t* });\n\t* ```\n\t*/\n\tstatic assign(mapping) {\n\t\treturn new _base_js__WEBPACK_IMPORTED_MODULE_2__.RunnableAssign(new _base_js__WEBPACK_IMPORTED_MODULE_2__.RunnableMap({ steps: mapping }));\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=passthrough.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3J1bm5hYmxlcy9wYXNzdGhyb3VnaC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTJDO0FBQ0M7QUFDc0I7O0FBRWxFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLDhDQUFRO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsd0RBQVk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsd0RBQVk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHdEQUFNO0FBQ3hCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0dBQXdHO0FBQ3hHLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0Esc0JBQXNCLHNCQUFzQixlQUFlLHdCQUF3QjtBQUNuRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxhQUFhLG9EQUFjLEtBQUssaURBQVcsR0FBRyxnQkFBZ0I7QUFDOUQ7QUFDQTs7QUFFQTtBQUMrQjtBQUMvQiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9ydW5uYWJsZXMvcGFzc3Rocm91Z2guanM/OGY5ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBlbnN1cmVDb25maWcgfSBmcm9tIFwiLi9jb25maWcuanNcIjtcbmltcG9ydCB7IGNvbmNhdCB9IGZyb20gXCIuLi91dGlscy9zdHJlYW0uanNcIjtcbmltcG9ydCB7IFJ1bm5hYmxlLCBSdW5uYWJsZUFzc2lnbiwgUnVubmFibGVNYXAgfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvcnVubmFibGVzL3Bhc3N0aHJvdWdoLnRzXG4vKipcbiogQSBydW5uYWJsZSB0byBwYXNzdGhyb3VnaCBpbnB1dHMgdW5jaGFuZ2VkIG9yIHdpdGggYWRkaXRpb25hbCBrZXlzLlxuKlxuKiBUaGlzIHJ1bm5hYmxlIGJlaGF2ZXMgYWxtb3N0IGxpa2UgdGhlIGlkZW50aXR5IGZ1bmN0aW9uLCBleGNlcHQgdGhhdCBpdFxuKiBjYW4gYmUgY29uZmlndXJlZCB0byBhZGQgYWRkaXRpb25hbCBrZXlzIHRvIHRoZSBvdXRwdXQsIGlmIHRoZSBpbnB1dCBpc1xuKiBhbiBvYmplY3QuXG4qXG4qIFRoZSBleGFtcGxlIGJlbG93IGRlbW9uc3RyYXRlcyBob3cgdG8gdXNlIGBSdW5uYWJsZVBhc3N0aHJvdWdoIHRvXG4qIHBhc3N0aHJvdWdoIHRoZSBpbnB1dCBmcm9tIHRoZSBgLmludm9rZSgpYFxuKlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIGNvbnN0IGNoYWluID0gUnVubmFibGVTZXF1ZW5jZS5mcm9tKFtcbiogICB7XG4qICAgICBxdWVzdGlvbjogbmV3IFJ1bm5hYmxlUGFzc3Rocm91Z2goKSxcbiogICAgIGNvbnRleHQ6IGFzeW5jICgpID0+IGxvYWRDb250ZXh0RnJvbVN0b3JlKCksXG4qICAgfSxcbiogICBwcm9tcHQsXG4qICAgbGxtLFxuKiAgIG91dHB1dFBhcnNlcixcbiogXSk7XG4qIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgY2hhaW4uaW52b2tlKFxuKiAgIFwiSSBjYW4gcGFzcyBhIHNpbmdsZSBzdHJpbmcgaW5zdGVhZCBvZiBhbiBvYmplY3Qgc2luY2UgSSdtIHVzaW5nIGBSdW5uYWJsZVBhc3N0aHJvdWdoYC5cIlxuKiApO1xuKiBgYGBcbiovXG52YXIgUnVubmFibGVQYXNzdGhyb3VnaCA9IGNsYXNzIGV4dGVuZHMgUnVubmFibGUge1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJSdW5uYWJsZVBhc3N0aHJvdWdoXCI7XG5cdH1cblx0bGNfbmFtZXNwYWNlID0gW1wibGFuZ2NoYWluX2NvcmVcIiwgXCJydW5uYWJsZXNcIl07XG5cdGxjX3NlcmlhbGl6YWJsZSA9IHRydWU7XG5cdGZ1bmM7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdHN1cGVyKGZpZWxkcyk7XG5cdFx0aWYgKGZpZWxkcykgdGhpcy5mdW5jID0gZmllbGRzLmZ1bmM7XG5cdH1cblx0YXN5bmMgaW52b2tlKGlucHV0LCBvcHRpb25zKSB7XG5cdFx0Y29uc3QgY29uZmlnID0gZW5zdXJlQ29uZmlnKG9wdGlvbnMpO1xuXHRcdGlmICh0aGlzLmZ1bmMpIGF3YWl0IHRoaXMuZnVuYyhpbnB1dCwgY29uZmlnKTtcblx0XHRyZXR1cm4gdGhpcy5fY2FsbFdpdGhDb25maWcoKGlucHV0JDEpID0+IFByb21pc2UucmVzb2x2ZShpbnB1dCQxKSwgaW5wdXQsIGNvbmZpZyk7XG5cdH1cblx0YXN5bmMgKnRyYW5zZm9ybShnZW5lcmF0b3IsIG9wdGlvbnMpIHtcblx0XHRjb25zdCBjb25maWcgPSBlbnN1cmVDb25maWcob3B0aW9ucyk7XG5cdFx0bGV0IGZpbmFsT3V0cHV0O1xuXHRcdGxldCBmaW5hbE91dHB1dFN1cHBvcnRlZCA9IHRydWU7XG5cdFx0Zm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiB0aGlzLl90cmFuc2Zvcm1TdHJlYW1XaXRoQ29uZmlnKGdlbmVyYXRvciwgKGlucHV0KSA9PiBpbnB1dCwgY29uZmlnKSkge1xuXHRcdFx0eWllbGQgY2h1bms7XG5cdFx0XHRpZiAoZmluYWxPdXRwdXRTdXBwb3J0ZWQpIGlmIChmaW5hbE91dHB1dCA9PT0gdm9pZCAwKSBmaW5hbE91dHB1dCA9IGNodW5rO1xuXHRcdFx0ZWxzZSB0cnkge1xuXHRcdFx0XHRmaW5hbE91dHB1dCA9IGNvbmNhdChmaW5hbE91dHB1dCwgY2h1bmspO1xuXHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdGZpbmFsT3V0cHV0ID0gdm9pZCAwO1xuXHRcdFx0XHRmaW5hbE91dHB1dFN1cHBvcnRlZCA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAodGhpcy5mdW5jICYmIGZpbmFsT3V0cHV0ICE9PSB2b2lkIDApIGF3YWl0IHRoaXMuZnVuYyhmaW5hbE91dHB1dCwgY29uZmlnKTtcblx0fVxuXHQvKipcblx0KiBBIHJ1bm5hYmxlIHRoYXQgYXNzaWducyBrZXktdmFsdWUgcGFpcnMgdG8gdGhlIGlucHV0LlxuXHQqXG5cdCogVGhlIGV4YW1wbGUgYmVsb3cgc2hvd3MgaG93IHlvdSBjb3VsZCB1c2UgaXQgd2l0aCBhbiBpbmxpbmUgZnVuY3Rpb24uXG5cdCpcblx0KiBAZXhhbXBsZVxuXHQqIGBgYHR5cGVzY3JpcHRcblx0KiBjb25zdCBwcm9tcHQgPVxuXHQqICAgUHJvbXB0VGVtcGxhdGUuZnJvbVRlbXBsYXRlKGBXcml0ZSBhIFNRTCBxdWVyeSB0byBhbnN3ZXIgdGhlIHF1ZXN0aW9uIHVzaW5nIHRoZSBmb2xsb3dpbmcgc2NoZW1hOiB7c2NoZW1hfVxuXHQqIFF1ZXN0aW9uOiB7cXVlc3Rpb259XG5cdCogU1FMIFF1ZXJ5OmApO1xuXHQqXG5cdCogLy8gVGhlIGBSdW5uYWJsZVBhc3N0aHJvdWdoLmFzc2lnbigpYCBpcyB1c2VkIGhlcmUgdG8gcGFzc3Rocm91Z2ggdGhlIGlucHV0IGZyb20gdGhlIGAuaW52b2tlKClgXG5cdCogLy8gY2FsbCAoaW4gdGhpcyBleGFtcGxlIGl0J3MgdGhlIHF1ZXN0aW9uKSwgYWxvbmcgd2l0aCBhbnkgaW5wdXRzIHBhc3NlZCB0byB0aGUgYC5hc3NpZ24oKWAgbWV0aG9kLlxuXHQqIC8vIEluIHRoaXMgY2FzZSwgd2UncmUgcGFzc2luZyB0aGUgc2NoZW1hLlxuXHQqIGNvbnN0IHNxbFF1ZXJ5R2VuZXJhdG9yQ2hhaW4gPSBSdW5uYWJsZVNlcXVlbmNlLmZyb20oW1xuXHQqICAgUnVubmFibGVQYXNzdGhyb3VnaC5hc3NpZ24oe1xuXHQqICAgICBzY2hlbWE6IGFzeW5jICgpID0+IGRiLmdldFRhYmxlSW5mbygpLFxuXHQqICAgfSksXG5cdCogICBwcm9tcHQsXG5cdCogICBuZXcgQ2hhdE9wZW5BSSh7IG1vZGVsOiBcImdwdC00by1taW5pXCIgfSkud2l0aENvbmZpZyh7IHN0b3A6IFtcIlxcblNRTFJlc3VsdDpcIl0gfSksXG5cdCogICBuZXcgU3RyaW5nT3V0cHV0UGFyc2VyKCksXG5cdCogXSk7XG5cdCogY29uc3QgcmVzdWx0ID0gYXdhaXQgc3FsUXVlcnlHZW5lcmF0b3JDaGFpbi5pbnZva2Uoe1xuXHQqICAgcXVlc3Rpb246IFwiSG93IG1hbnkgZW1wbG95ZWVzIGFyZSB0aGVyZT9cIixcblx0KiB9KTtcblx0KiBgYGBcblx0Ki9cblx0c3RhdGljIGFzc2lnbihtYXBwaW5nKSB7XG5cdFx0cmV0dXJuIG5ldyBSdW5uYWJsZUFzc2lnbihuZXcgUnVubmFibGVNYXAoeyBzdGVwczogbWFwcGluZyB9KSk7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgUnVubmFibGVQYXNzdGhyb3VnaCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFzc3Rocm91Z2guanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/passthrough.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/router.js":
/*!**********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/router.js ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RouterRunnable: () => (/* binding */ RouterRunnable)\n/* harmony export */ });\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/config.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/base.js\");\n\n\n\n//#region src/runnables/router.ts\n/**\n* A runnable that routes to a set of runnables based on Input['key'].\n* Returns the output of the selected runnable.\n* @example\n* ```typescript\n* import { RouterRunnable, RunnableLambda } from \"@langchain/core/runnables\";\n*\n* const router = new RouterRunnable({\n*   runnables: {\n*     toUpperCase: RunnableLambda.from((text: string) => text.toUpperCase()),\n*     reverseText: RunnableLambda.from((text: string) =>\n*       text.split(\"\").reverse().join(\"\")\n*     ),\n*   },\n* });\n*\n* // Invoke the 'reverseText' runnable\n* const result1 = router.invoke({ key: \"reverseText\", input: \"Hello World\" });\n*\n* // \"dlroW olleH\"\n*\n* // Invoke the 'toUpperCase' runnable\n* const result2 = router.invoke({ key: \"toUpperCase\", input: \"Hello World\" });\n*\n* // \"HELLO WORLD\"\n* ```\n*/\nvar RouterRunnable = class extends _base_js__WEBPACK_IMPORTED_MODULE_1__.Runnable {\n\tstatic lc_name() {\n\t\treturn \"RouterRunnable\";\n\t}\n\tlc_namespace = [\"langchain_core\", \"runnables\"];\n\tlc_serializable = true;\n\trunnables;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.runnables = fields.runnables;\n\t}\n\tasync invoke(input, options) {\n\t\tconst { key, input: actualInput } = input;\n\t\tconst runnable = this.runnables[key];\n\t\tif (runnable === void 0) throw new Error(`No runnable associated with key \"${key}\".`);\n\t\treturn runnable.invoke(actualInput, (0,_config_js__WEBPACK_IMPORTED_MODULE_0__.ensureConfig)(options));\n\t}\n\tasync batch(inputs, options, batchOptions) {\n\t\tconst keys = inputs.map((input) => input.key);\n\t\tconst actualInputs = inputs.map((input) => input.input);\n\t\tconst missingKey = keys.find((key) => this.runnables[key] === void 0);\n\t\tif (missingKey !== void 0) throw new Error(`One or more keys do not have a corresponding runnable.`);\n\t\tconst runnables = keys.map((key) => this.runnables[key]);\n\t\tconst optionsList = this._getOptionsList(options ?? {}, inputs.length);\n\t\tconst maxConcurrency = optionsList[0]?.maxConcurrency ?? batchOptions?.maxConcurrency;\n\t\tconst batchSize = maxConcurrency && maxConcurrency > 0 ? maxConcurrency : inputs.length;\n\t\tconst batchResults = [];\n\t\tfor (let i = 0; i < actualInputs.length; i += batchSize) {\n\t\t\tconst batchPromises = actualInputs.slice(i, i + batchSize).map((actualInput, i$1) => runnables[i$1].invoke(actualInput, optionsList[i$1]));\n\t\t\tconst batchResult = await Promise.all(batchPromises);\n\t\t\tbatchResults.push(batchResult);\n\t\t}\n\t\treturn batchResults.flat();\n\t}\n\tasync stream(input, options) {\n\t\tconst { key, input: actualInput } = input;\n\t\tconst runnable = this.runnables[key];\n\t\tif (runnable === void 0) throw new Error(`No runnable associated with key \"${key}\".`);\n\t\treturn runnable.stream(actualInput, options);\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=router.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3J1bm5hYmxlcy9yb3V0ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJDO0FBQ047O0FBRXJDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUNBQWlDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0Esa0NBQWtDLDBDQUEwQztBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQywwQ0FBMEM7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsOENBQVE7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsMEJBQTBCO0FBQ3BDO0FBQ0EsK0VBQStFLElBQUk7QUFDbkYsc0NBQXNDLHdEQUFZO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix5QkFBeUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLDBCQUEwQjtBQUNwQztBQUNBLCtFQUErRSxJQUFJO0FBQ25GO0FBQ0E7QUFDQTs7QUFFQTtBQUMwQjtBQUMxQiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9ydW5uYWJsZXMvcm91dGVyLmpzP2MzNjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZW5zdXJlQ29uZmlnIH0gZnJvbSBcIi4vY29uZmlnLmpzXCI7XG5pbXBvcnQgeyBSdW5uYWJsZSB9IGZyb20gXCIuL2Jhc2UuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9ydW5uYWJsZXMvcm91dGVyLnRzXG4vKipcbiogQSBydW5uYWJsZSB0aGF0IHJvdXRlcyB0byBhIHNldCBvZiBydW5uYWJsZXMgYmFzZWQgb24gSW5wdXRbJ2tleSddLlxuKiBSZXR1cm5zIHRoZSBvdXRwdXQgb2YgdGhlIHNlbGVjdGVkIHJ1bm5hYmxlLlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIGltcG9ydCB7IFJvdXRlclJ1bm5hYmxlLCBSdW5uYWJsZUxhbWJkYSB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvcnVubmFibGVzXCI7XG4qXG4qIGNvbnN0IHJvdXRlciA9IG5ldyBSb3V0ZXJSdW5uYWJsZSh7XG4qICAgcnVubmFibGVzOiB7XG4qICAgICB0b1VwcGVyQ2FzZTogUnVubmFibGVMYW1iZGEuZnJvbSgodGV4dDogc3RyaW5nKSA9PiB0ZXh0LnRvVXBwZXJDYXNlKCkpLFxuKiAgICAgcmV2ZXJzZVRleHQ6IFJ1bm5hYmxlTGFtYmRhLmZyb20oKHRleHQ6IHN0cmluZykgPT5cbiogICAgICAgdGV4dC5zcGxpdChcIlwiKS5yZXZlcnNlKCkuam9pbihcIlwiKVxuKiAgICAgKSxcbiogICB9LFxuKiB9KTtcbipcbiogLy8gSW52b2tlIHRoZSAncmV2ZXJzZVRleHQnIHJ1bm5hYmxlXG4qIGNvbnN0IHJlc3VsdDEgPSByb3V0ZXIuaW52b2tlKHsga2V5OiBcInJldmVyc2VUZXh0XCIsIGlucHV0OiBcIkhlbGxvIFdvcmxkXCIgfSk7XG4qXG4qIC8vIFwiZGxyb1cgb2xsZUhcIlxuKlxuKiAvLyBJbnZva2UgdGhlICd0b1VwcGVyQ2FzZScgcnVubmFibGVcbiogY29uc3QgcmVzdWx0MiA9IHJvdXRlci5pbnZva2UoeyBrZXk6IFwidG9VcHBlckNhc2VcIiwgaW5wdXQ6IFwiSGVsbG8gV29ybGRcIiB9KTtcbipcbiogLy8gXCJIRUxMTyBXT1JMRFwiXG4qIGBgYFxuKi9cbnZhciBSb3V0ZXJSdW5uYWJsZSA9IGNsYXNzIGV4dGVuZHMgUnVubmFibGUge1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJSb3V0ZXJSdW5uYWJsZVwiO1xuXHR9XG5cdGxjX25hbWVzcGFjZSA9IFtcImxhbmdjaGFpbl9jb3JlXCIsIFwicnVubmFibGVzXCJdO1xuXHRsY19zZXJpYWxpemFibGUgPSB0cnVlO1xuXHRydW5uYWJsZXM7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdHN1cGVyKGZpZWxkcyk7XG5cdFx0dGhpcy5ydW5uYWJsZXMgPSBmaWVsZHMucnVubmFibGVzO1xuXHR9XG5cdGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuXHRcdGNvbnN0IHsga2V5LCBpbnB1dDogYWN0dWFsSW5wdXQgfSA9IGlucHV0O1xuXHRcdGNvbnN0IHJ1bm5hYmxlID0gdGhpcy5ydW5uYWJsZXNba2V5XTtcblx0XHRpZiAocnVubmFibGUgPT09IHZvaWQgMCkgdGhyb3cgbmV3IEVycm9yKGBObyBydW5uYWJsZSBhc3NvY2lhdGVkIHdpdGgga2V5IFwiJHtrZXl9XCIuYCk7XG5cdFx0cmV0dXJuIHJ1bm5hYmxlLmludm9rZShhY3R1YWxJbnB1dCwgZW5zdXJlQ29uZmlnKG9wdGlvbnMpKTtcblx0fVxuXHRhc3luYyBiYXRjaChpbnB1dHMsIG9wdGlvbnMsIGJhdGNoT3B0aW9ucykge1xuXHRcdGNvbnN0IGtleXMgPSBpbnB1dHMubWFwKChpbnB1dCkgPT4gaW5wdXQua2V5KTtcblx0XHRjb25zdCBhY3R1YWxJbnB1dHMgPSBpbnB1dHMubWFwKChpbnB1dCkgPT4gaW5wdXQuaW5wdXQpO1xuXHRcdGNvbnN0IG1pc3NpbmdLZXkgPSBrZXlzLmZpbmQoKGtleSkgPT4gdGhpcy5ydW5uYWJsZXNba2V5XSA9PT0gdm9pZCAwKTtcblx0XHRpZiAobWlzc2luZ0tleSAhPT0gdm9pZCAwKSB0aHJvdyBuZXcgRXJyb3IoYE9uZSBvciBtb3JlIGtleXMgZG8gbm90IGhhdmUgYSBjb3JyZXNwb25kaW5nIHJ1bm5hYmxlLmApO1xuXHRcdGNvbnN0IHJ1bm5hYmxlcyA9IGtleXMubWFwKChrZXkpID0+IHRoaXMucnVubmFibGVzW2tleV0pO1xuXHRcdGNvbnN0IG9wdGlvbnNMaXN0ID0gdGhpcy5fZ2V0T3B0aW9uc0xpc3Qob3B0aW9ucyA/PyB7fSwgaW5wdXRzLmxlbmd0aCk7XG5cdFx0Y29uc3QgbWF4Q29uY3VycmVuY3kgPSBvcHRpb25zTGlzdFswXT8ubWF4Q29uY3VycmVuY3kgPz8gYmF0Y2hPcHRpb25zPy5tYXhDb25jdXJyZW5jeTtcblx0XHRjb25zdCBiYXRjaFNpemUgPSBtYXhDb25jdXJyZW5jeSAmJiBtYXhDb25jdXJyZW5jeSA+IDAgPyBtYXhDb25jdXJyZW5jeSA6IGlucHV0cy5sZW5ndGg7XG5cdFx0Y29uc3QgYmF0Y2hSZXN1bHRzID0gW107XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBhY3R1YWxJbnB1dHMubGVuZ3RoOyBpICs9IGJhdGNoU2l6ZSkge1xuXHRcdFx0Y29uc3QgYmF0Y2hQcm9taXNlcyA9IGFjdHVhbElucHV0cy5zbGljZShpLCBpICsgYmF0Y2hTaXplKS5tYXAoKGFjdHVhbElucHV0LCBpJDEpID0+IHJ1bm5hYmxlc1tpJDFdLmludm9rZShhY3R1YWxJbnB1dCwgb3B0aW9uc0xpc3RbaSQxXSkpO1xuXHRcdFx0Y29uc3QgYmF0Y2hSZXN1bHQgPSBhd2FpdCBQcm9taXNlLmFsbChiYXRjaFByb21pc2VzKTtcblx0XHRcdGJhdGNoUmVzdWx0cy5wdXNoKGJhdGNoUmVzdWx0KTtcblx0XHR9XG5cdFx0cmV0dXJuIGJhdGNoUmVzdWx0cy5mbGF0KCk7XG5cdH1cblx0YXN5bmMgc3RyZWFtKGlucHV0LCBvcHRpb25zKSB7XG5cdFx0Y29uc3QgeyBrZXksIGlucHV0OiBhY3R1YWxJbnB1dCB9ID0gaW5wdXQ7XG5cdFx0Y29uc3QgcnVubmFibGUgPSB0aGlzLnJ1bm5hYmxlc1trZXldO1xuXHRcdGlmIChydW5uYWJsZSA9PT0gdm9pZCAwKSB0aHJvdyBuZXcgRXJyb3IoYE5vIHJ1bm5hYmxlIGFzc29jaWF0ZWQgd2l0aCBrZXkgXCIke2tleX1cIi5gKTtcblx0XHRyZXR1cm4gcnVubmFibGUuc3RyZWFtKGFjdHVhbElucHV0LCBvcHRpb25zKTtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBSb3V0ZXJSdW5uYWJsZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cm91dGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/router.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/utils.js":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/utils.js ***!
  \*********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _RootEventFilter: () => (/* binding */ _RootEventFilter),\n/* harmony export */   isRunnableInterface: () => (/* binding */ isRunnableInterface),\n/* harmony export */   toBase64Url: () => (/* binding */ toBase64Url)\n/* harmony export */ });\n//#region src/runnables/utils.ts\nfunction isRunnableInterface(thing) {\n\treturn thing ? thing.lc_runnable : false;\n}\n/**\n* Utility to filter the root event in the streamEvents implementation.\n* This is simply binding the arguments to the namespace to make save on\n* a bit of typing in the streamEvents implementation.\n*\n* TODO: Refactor and remove.\n*/\nvar _RootEventFilter = class {\n\tincludeNames;\n\tincludeTypes;\n\tincludeTags;\n\texcludeNames;\n\texcludeTypes;\n\texcludeTags;\n\tconstructor(fields) {\n\t\tthis.includeNames = fields.includeNames;\n\t\tthis.includeTypes = fields.includeTypes;\n\t\tthis.includeTags = fields.includeTags;\n\t\tthis.excludeNames = fields.excludeNames;\n\t\tthis.excludeTypes = fields.excludeTypes;\n\t\tthis.excludeTags = fields.excludeTags;\n\t}\n\tincludeEvent(event, rootType) {\n\t\tlet include = this.includeNames === void 0 && this.includeTypes === void 0 && this.includeTags === void 0;\n\t\tconst eventTags = event.tags ?? [];\n\t\tif (this.includeNames !== void 0) include = include || this.includeNames.includes(event.name);\n\t\tif (this.includeTypes !== void 0) include = include || this.includeTypes.includes(rootType);\n\t\tif (this.includeTags !== void 0) include = include || eventTags.some((tag) => this.includeTags?.includes(tag));\n\t\tif (this.excludeNames !== void 0) include = include && !this.excludeNames.includes(event.name);\n\t\tif (this.excludeTypes !== void 0) include = include && !this.excludeTypes.includes(rootType);\n\t\tif (this.excludeTags !== void 0) include = include && eventTags.every((tag) => !this.excludeTags?.includes(tag));\n\t\treturn include;\n\t}\n};\nconst toBase64Url = (str) => {\n\tconst encoded = btoa(str);\n\treturn encoded.replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=+$/, \"\");\n};\n\n//#endregion\n\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3J1bm5hYmxlcy91dGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDOEQ7QUFDOUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvcnVubmFibGVzL3V0aWxzLmpzPzU0ZjEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8jcmVnaW9uIHNyYy9ydW5uYWJsZXMvdXRpbHMudHNcbmZ1bmN0aW9uIGlzUnVubmFibGVJbnRlcmZhY2UodGhpbmcpIHtcblx0cmV0dXJuIHRoaW5nID8gdGhpbmcubGNfcnVubmFibGUgOiBmYWxzZTtcbn1cbi8qKlxuKiBVdGlsaXR5IHRvIGZpbHRlciB0aGUgcm9vdCBldmVudCBpbiB0aGUgc3RyZWFtRXZlbnRzIGltcGxlbWVudGF0aW9uLlxuKiBUaGlzIGlzIHNpbXBseSBiaW5kaW5nIHRoZSBhcmd1bWVudHMgdG8gdGhlIG5hbWVzcGFjZSB0byBtYWtlIHNhdmUgb25cbiogYSBiaXQgb2YgdHlwaW5nIGluIHRoZSBzdHJlYW1FdmVudHMgaW1wbGVtZW50YXRpb24uXG4qXG4qIFRPRE86IFJlZmFjdG9yIGFuZCByZW1vdmUuXG4qL1xudmFyIF9Sb290RXZlbnRGaWx0ZXIgPSBjbGFzcyB7XG5cdGluY2x1ZGVOYW1lcztcblx0aW5jbHVkZVR5cGVzO1xuXHRpbmNsdWRlVGFncztcblx0ZXhjbHVkZU5hbWVzO1xuXHRleGNsdWRlVHlwZXM7XG5cdGV4Y2x1ZGVUYWdzO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHR0aGlzLmluY2x1ZGVOYW1lcyA9IGZpZWxkcy5pbmNsdWRlTmFtZXM7XG5cdFx0dGhpcy5pbmNsdWRlVHlwZXMgPSBmaWVsZHMuaW5jbHVkZVR5cGVzO1xuXHRcdHRoaXMuaW5jbHVkZVRhZ3MgPSBmaWVsZHMuaW5jbHVkZVRhZ3M7XG5cdFx0dGhpcy5leGNsdWRlTmFtZXMgPSBmaWVsZHMuZXhjbHVkZU5hbWVzO1xuXHRcdHRoaXMuZXhjbHVkZVR5cGVzID0gZmllbGRzLmV4Y2x1ZGVUeXBlcztcblx0XHR0aGlzLmV4Y2x1ZGVUYWdzID0gZmllbGRzLmV4Y2x1ZGVUYWdzO1xuXHR9XG5cdGluY2x1ZGVFdmVudChldmVudCwgcm9vdFR5cGUpIHtcblx0XHRsZXQgaW5jbHVkZSA9IHRoaXMuaW5jbHVkZU5hbWVzID09PSB2b2lkIDAgJiYgdGhpcy5pbmNsdWRlVHlwZXMgPT09IHZvaWQgMCAmJiB0aGlzLmluY2x1ZGVUYWdzID09PSB2b2lkIDA7XG5cdFx0Y29uc3QgZXZlbnRUYWdzID0gZXZlbnQudGFncyA/PyBbXTtcblx0XHRpZiAodGhpcy5pbmNsdWRlTmFtZXMgIT09IHZvaWQgMCkgaW5jbHVkZSA9IGluY2x1ZGUgfHwgdGhpcy5pbmNsdWRlTmFtZXMuaW5jbHVkZXMoZXZlbnQubmFtZSk7XG5cdFx0aWYgKHRoaXMuaW5jbHVkZVR5cGVzICE9PSB2b2lkIDApIGluY2x1ZGUgPSBpbmNsdWRlIHx8IHRoaXMuaW5jbHVkZVR5cGVzLmluY2x1ZGVzKHJvb3RUeXBlKTtcblx0XHRpZiAodGhpcy5pbmNsdWRlVGFncyAhPT0gdm9pZCAwKSBpbmNsdWRlID0gaW5jbHVkZSB8fCBldmVudFRhZ3Muc29tZSgodGFnKSA9PiB0aGlzLmluY2x1ZGVUYWdzPy5pbmNsdWRlcyh0YWcpKTtcblx0XHRpZiAodGhpcy5leGNsdWRlTmFtZXMgIT09IHZvaWQgMCkgaW5jbHVkZSA9IGluY2x1ZGUgJiYgIXRoaXMuZXhjbHVkZU5hbWVzLmluY2x1ZGVzKGV2ZW50Lm5hbWUpO1xuXHRcdGlmICh0aGlzLmV4Y2x1ZGVUeXBlcyAhPT0gdm9pZCAwKSBpbmNsdWRlID0gaW5jbHVkZSAmJiAhdGhpcy5leGNsdWRlVHlwZXMuaW5jbHVkZXMocm9vdFR5cGUpO1xuXHRcdGlmICh0aGlzLmV4Y2x1ZGVUYWdzICE9PSB2b2lkIDApIGluY2x1ZGUgPSBpbmNsdWRlICYmIGV2ZW50VGFncy5ldmVyeSgodGFnKSA9PiAhdGhpcy5leGNsdWRlVGFncz8uaW5jbHVkZXModGFnKSk7XG5cdFx0cmV0dXJuIGluY2x1ZGU7XG5cdH1cbn07XG5jb25zdCB0b0Jhc2U2NFVybCA9IChzdHIpID0+IHtcblx0Y29uc3QgZW5jb2RlZCA9IGJ0b2Eoc3RyKTtcblx0cmV0dXJuIGVuY29kZWQucmVwbGFjZSgvXFwrL2csIFwiLVwiKS5yZXBsYWNlKC9cXC8vZywgXCJfXCIpLnJlcGxhY2UoLz0rJC8sIFwiXCIpO1xufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBfUm9vdEV2ZW50RmlsdGVyLCBpc1J1bm5hYmxlSW50ZXJmYWNlLCB0b0Jhc2U2NFVybCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/wrappers.js":
/*!************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/wrappers.js ***!
  \************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   convertToHttpEventStream: () => (/* binding */ convertToHttpEventStream)\n/* harmony export */ });\n/* harmony import */ var _utils_stream_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/stream.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/stream.js\");\n\n\n//#region src/runnables/wrappers.ts\nfunction convertToHttpEventStream(stream) {\n\tconst encoder = new TextEncoder();\n\tconst finalStream = new ReadableStream({ async start(controller) {\n\t\tfor await (const chunk of stream) controller.enqueue(encoder.encode(`event: data\\ndata: ${JSON.stringify(chunk)}\\n\\n`));\n\t\tcontroller.enqueue(encoder.encode(\"event: end\\n\\n\"));\n\t\tcontroller.close();\n\t} });\n\treturn _utils_stream_js__WEBPACK_IMPORTED_MODULE_0__.IterableReadableStream.fromReadableStream(finalStream);\n}\n\n//#endregion\n\n//# sourceMappingURL=wrappers.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3J1bm5hYmxlcy93cmFwcGVycy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUE0RDs7QUFFNUQ7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDLDRGQUE0RixzQkFBc0I7QUFDbEg7QUFDQTtBQUNBLElBQUk7QUFDSixRQUFRLG9FQUFzQjtBQUM5Qjs7QUFFQTtBQUNvQztBQUNwQyIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9ydW5uYWJsZXMvd3JhcHBlcnMuanM/ZDM3MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJdGVyYWJsZVJlYWRhYmxlU3RyZWFtIH0gZnJvbSBcIi4uL3V0aWxzL3N0cmVhbS5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3J1bm5hYmxlcy93cmFwcGVycy50c1xuZnVuY3Rpb24gY29udmVydFRvSHR0cEV2ZW50U3RyZWFtKHN0cmVhbSkge1xuXHRjb25zdCBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XG5cdGNvbnN0IGZpbmFsU3RyZWFtID0gbmV3IFJlYWRhYmxlU3RyZWFtKHsgYXN5bmMgc3RhcnQoY29udHJvbGxlcikge1xuXHRcdGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2Ygc3RyZWFtKSBjb250cm9sbGVyLmVucXVldWUoZW5jb2Rlci5lbmNvZGUoYGV2ZW50OiBkYXRhXFxuZGF0YTogJHtKU09OLnN0cmluZ2lmeShjaHVuayl9XFxuXFxuYCkpO1xuXHRcdGNvbnRyb2xsZXIuZW5xdWV1ZShlbmNvZGVyLmVuY29kZShcImV2ZW50OiBlbmRcXG5cXG5cIikpO1xuXHRcdGNvbnRyb2xsZXIuY2xvc2UoKTtcblx0fSB9KTtcblx0cmV0dXJuIEl0ZXJhYmxlUmVhZGFibGVTdHJlYW0uZnJvbVJlYWRhYmxlU3RyZWFtKGZpbmFsU3RyZWFtKTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBjb252ZXJ0VG9IdHRwRXZlbnRTdHJlYW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdyYXBwZXJzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/wrappers.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/async_local_storage/context.js":
/*!********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/async_local_storage/context.js ***!
  \********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _getConfigureHooks: () => (/* binding */ _getConfigureHooks),\n/* harmony export */   getContextVariable: () => (/* binding */ getContextVariable),\n/* harmony export */   registerConfigureHook: () => (/* binding */ registerConfigureHook),\n/* harmony export */   setContextVariable: () => (/* binding */ setContextVariable)\n/* harmony export */ });\n/* harmony import */ var _globals_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./globals.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/async_local_storage/globals.js\");\n/* harmony import */ var langsmith_run_trees__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! langsmith/run_trees */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+langsmith@0.4.9_openai@6.16.0/node_modules/langsmith/run_trees.js\");\n\n\n\n//#region src/singletons/async_local_storage/context.ts\n/**\n* Set a context variable. Context variables are scoped to any\n* child runnables called by the current runnable, or globally if set outside\n* of any runnable.\n*\n* @remarks\n* This function is only supported in environments that support AsyncLocalStorage,\n* including Node.js, Deno, and Cloudflare Workers.\n*\n* @example\n* ```ts\n* import { RunnableLambda } from \"@langchain/core/runnables\";\n* import {\n*   getContextVariable,\n*   setContextVariable\n* } from \"@langchain/core/context\";\n*\n* const nested = RunnableLambda.from(() => {\n*   // \"bar\" because it was set by a parent\n*   console.log(getContextVariable(\"foo\"));\n*\n*   // Override to \"baz\", but only for child runnables\n*   setContextVariable(\"foo\", \"baz\");\n*\n*   // Now \"baz\", but only for child runnables\n*   return getContextVariable(\"foo\");\n* });\n*\n* const runnable = RunnableLambda.from(async () => {\n*   // Set a context variable named \"foo\"\n*   setContextVariable(\"foo\", \"bar\");\n*\n*   const res = await nested.invoke({});\n*\n*   // Still \"bar\" since child changes do not affect parents\n*   console.log(getContextVariable(\"foo\"));\n*\n*   return res;\n* });\n*\n* // undefined, because context variable has not been set yet\n* console.log(getContextVariable(\"foo\"));\n*\n* // Final return value is \"baz\"\n* const result = await runnable.invoke({});\n* ```\n*\n* @param name The name of the context variable.\n* @param value The value to set.\n*/\nfunction setContextVariable(name, value) {\n\tconst asyncLocalStorageInstance = (0,_globals_js__WEBPACK_IMPORTED_MODULE_0__.getGlobalAsyncLocalStorageInstance)();\n\tif (asyncLocalStorageInstance === void 0) throw new Error(`Internal error: Global shared async local storage instance has not been initialized.`);\n\tconst runTree = asyncLocalStorageInstance.getStore();\n\tconst contextVars = { ...runTree?.[_globals_js__WEBPACK_IMPORTED_MODULE_0__._CONTEXT_VARIABLES_KEY] };\n\tcontextVars[name] = value;\n\tlet newValue = {};\n\tif ((0,langsmith_run_trees__WEBPACK_IMPORTED_MODULE_1__.isRunTree)(runTree)) newValue = new langsmith_run_trees__WEBPACK_IMPORTED_MODULE_1__.RunTree(runTree);\n\tnewValue[_globals_js__WEBPACK_IMPORTED_MODULE_0__._CONTEXT_VARIABLES_KEY] = contextVars;\n\tasyncLocalStorageInstance.enterWith(newValue);\n}\n/**\n* Get the value of a previously set context variable. Context variables\n* are scoped to any child runnables called by the current runnable,\n* or globally if set outside of any runnable.\n*\n* @remarks\n* This function is only supported in environments that support AsyncLocalStorage,\n* including Node.js, Deno, and Cloudflare Workers.\n*\n* @example\n* ```ts\n* import { RunnableLambda } from \"@langchain/core/runnables\";\n* import {\n*   getContextVariable,\n*   setContextVariable\n* } from \"@langchain/core/context\";\n*\n* const nested = RunnableLambda.from(() => {\n*   // \"bar\" because it was set by a parent\n*   console.log(getContextVariable(\"foo\"));\n*\n*   // Override to \"baz\", but only for child runnables\n*   setContextVariable(\"foo\", \"baz\");\n*\n*   // Now \"baz\", but only for child runnables\n*   return getContextVariable(\"foo\");\n* });\n*\n* const runnable = RunnableLambda.from(async () => {\n*   // Set a context variable named \"foo\"\n*   setContextVariable(\"foo\", \"bar\");\n*\n*   const res = await nested.invoke({});\n*\n*   // Still \"bar\" since child changes do not affect parents\n*   console.log(getContextVariable(\"foo\"));\n*\n*   return res;\n* });\n*\n* // undefined, because context variable has not been set yet\n* console.log(getContextVariable(\"foo\"));\n*\n* // Final return value is \"baz\"\n* const result = await runnable.invoke({});\n* ```\n*\n* @param name The name of the context variable.\n*/\nfunction getContextVariable(name) {\n\tconst asyncLocalStorageInstance = (0,_globals_js__WEBPACK_IMPORTED_MODULE_0__.getGlobalAsyncLocalStorageInstance)();\n\tif (asyncLocalStorageInstance === void 0) return void 0;\n\tconst runTree = asyncLocalStorageInstance.getStore();\n\treturn runTree?.[_globals_js__WEBPACK_IMPORTED_MODULE_0__._CONTEXT_VARIABLES_KEY]?.[name];\n}\nconst LC_CONFIGURE_HOOKS_KEY = Symbol(\"lc:configure_hooks\");\nconst _getConfigureHooks = () => getContextVariable(LC_CONFIGURE_HOOKS_KEY) || [];\n/**\n* Register a callback configure hook to automatically add callback handlers to all runs.\n*\n* There are two ways to use this:\n*\n* 1. Using a context variable:\n*    - Set `contextVar` to specify the variable name\n*    - Use `setContextVariable()` to store your handler instance\n*\n* 2. Using an environment variable:\n*    - Set both `envVar` and `handlerClass`\n*    - The handler will be instantiated when the env var is set to \"true\".\n*\n* @example\n* ```typescript\n* // Method 1: Using context variable\n* import {\n*   registerConfigureHook,\n*   setContextVariable\n* } from \"@langchain/core/context\";\n*\n* const tracer = new MyCallbackHandler();\n* registerConfigureHook({\n*   contextVar: \"my_tracer\",\n* });\n* setContextVariable(\"my_tracer\", tracer);\n*\n* // ...run code here\n*\n* // Method 2: Using environment variable\n* registerConfigureHook({\n*   handlerClass: MyCallbackHandler,\n*   envVar: \"MY_TRACER_ENABLED\",\n* });\n* process.env.MY_TRACER_ENABLED = \"true\";\n*\n* // ...run code here\n* ```\n*\n* @param config Configuration object for the hook\n* @param config.contextVar Name of the context variable containing the handler instance\n* @param config.inheritable Whether child runs should inherit this handler\n* @param config.handlerClass Optional callback handler class (required if using envVar)\n* @param config.envVar Optional environment variable name to control handler activation\n*/\nconst registerConfigureHook = (config) => {\n\tif (config.envVar && !config.handlerClass) throw new Error(\"If envVar is set, handlerClass must also be set to a non-None value.\");\n\tsetContextVariable(LC_CONFIGURE_HOOKS_KEY, [..._getConfigureHooks(), config]);\n};\n\n//#endregion\n\n//# sourceMappingURL=context.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3NpbmdsZXRvbnMvYXN5bmNfbG9jYWxfc3RvcmFnZS9jb250ZXh0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUEwRjtBQUNqQzs7QUFFekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpQkFBaUI7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQywrRUFBa0M7QUFDckU7QUFDQTtBQUNBLHVCQUF1QixhQUFhLCtEQUFzQjtBQUMxRDtBQUNBO0FBQ0EsS0FBSyw4REFBUywwQkFBMEIsd0RBQU87QUFDL0MsVUFBVSwrREFBc0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGlCQUFpQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQywrRUFBa0M7QUFDckU7QUFDQTtBQUNBLGtCQUFrQiwrREFBc0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDNkY7QUFDN0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3Qvc2luZ2xldG9ucy9hc3luY19sb2NhbF9zdG9yYWdlL2NvbnRleHQuanM/MWI4NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfQ09OVEVYVF9WQVJJQUJMRVNfS0VZLCBnZXRHbG9iYWxBc3luY0xvY2FsU3RvcmFnZUluc3RhbmNlIH0gZnJvbSBcIi4vZ2xvYmFscy5qc1wiO1xuaW1wb3J0IHsgUnVuVHJlZSwgaXNSdW5UcmVlIH0gZnJvbSBcImxhbmdzbWl0aC9ydW5fdHJlZXNcIjtcblxuLy8jcmVnaW9uIHNyYy9zaW5nbGV0b25zL2FzeW5jX2xvY2FsX3N0b3JhZ2UvY29udGV4dC50c1xuLyoqXG4qIFNldCBhIGNvbnRleHQgdmFyaWFibGUuIENvbnRleHQgdmFyaWFibGVzIGFyZSBzY29wZWQgdG8gYW55XG4qIGNoaWxkIHJ1bm5hYmxlcyBjYWxsZWQgYnkgdGhlIGN1cnJlbnQgcnVubmFibGUsIG9yIGdsb2JhbGx5IGlmIHNldCBvdXRzaWRlXG4qIG9mIGFueSBydW5uYWJsZS5cbipcbiogQHJlbWFya3NcbiogVGhpcyBmdW5jdGlvbiBpcyBvbmx5IHN1cHBvcnRlZCBpbiBlbnZpcm9ubWVudHMgdGhhdCBzdXBwb3J0IEFzeW5jTG9jYWxTdG9yYWdlLFxuKiBpbmNsdWRpbmcgTm9kZS5qcywgRGVubywgYW5kIENsb3VkZmxhcmUgV29ya2Vycy5cbipcbiogQGV4YW1wbGVcbiogYGBgdHNcbiogaW1wb3J0IHsgUnVubmFibGVMYW1iZGEgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3J1bm5hYmxlc1wiO1xuKiBpbXBvcnQge1xuKiAgIGdldENvbnRleHRWYXJpYWJsZSxcbiogICBzZXRDb250ZXh0VmFyaWFibGVcbiogfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL2NvbnRleHRcIjtcbipcbiogY29uc3QgbmVzdGVkID0gUnVubmFibGVMYW1iZGEuZnJvbSgoKSA9PiB7XG4qICAgLy8gXCJiYXJcIiBiZWNhdXNlIGl0IHdhcyBzZXQgYnkgYSBwYXJlbnRcbiogICBjb25zb2xlLmxvZyhnZXRDb250ZXh0VmFyaWFibGUoXCJmb29cIikpO1xuKlxuKiAgIC8vIE92ZXJyaWRlIHRvIFwiYmF6XCIsIGJ1dCBvbmx5IGZvciBjaGlsZCBydW5uYWJsZXNcbiogICBzZXRDb250ZXh0VmFyaWFibGUoXCJmb29cIiwgXCJiYXpcIik7XG4qXG4qICAgLy8gTm93IFwiYmF6XCIsIGJ1dCBvbmx5IGZvciBjaGlsZCBydW5uYWJsZXNcbiogICByZXR1cm4gZ2V0Q29udGV4dFZhcmlhYmxlKFwiZm9vXCIpO1xuKiB9KTtcbipcbiogY29uc3QgcnVubmFibGUgPSBSdW5uYWJsZUxhbWJkYS5mcm9tKGFzeW5jICgpID0+IHtcbiogICAvLyBTZXQgYSBjb250ZXh0IHZhcmlhYmxlIG5hbWVkIFwiZm9vXCJcbiogICBzZXRDb250ZXh0VmFyaWFibGUoXCJmb29cIiwgXCJiYXJcIik7XG4qXG4qICAgY29uc3QgcmVzID0gYXdhaXQgbmVzdGVkLmludm9rZSh7fSk7XG4qXG4qICAgLy8gU3RpbGwgXCJiYXJcIiBzaW5jZSBjaGlsZCBjaGFuZ2VzIGRvIG5vdCBhZmZlY3QgcGFyZW50c1xuKiAgIGNvbnNvbGUubG9nKGdldENvbnRleHRWYXJpYWJsZShcImZvb1wiKSk7XG4qXG4qICAgcmV0dXJuIHJlcztcbiogfSk7XG4qXG4qIC8vIHVuZGVmaW5lZCwgYmVjYXVzZSBjb250ZXh0IHZhcmlhYmxlIGhhcyBub3QgYmVlbiBzZXQgeWV0XG4qIGNvbnNvbGUubG9nKGdldENvbnRleHRWYXJpYWJsZShcImZvb1wiKSk7XG4qXG4qIC8vIEZpbmFsIHJldHVybiB2YWx1ZSBpcyBcImJhelwiXG4qIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJ1bm5hYmxlLmludm9rZSh7fSk7XG4qIGBgYFxuKlxuKiBAcGFyYW0gbmFtZSBUaGUgbmFtZSBvZiB0aGUgY29udGV4dCB2YXJpYWJsZS5cbiogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4qL1xuZnVuY3Rpb24gc2V0Q29udGV4dFZhcmlhYmxlKG5hbWUsIHZhbHVlKSB7XG5cdGNvbnN0IGFzeW5jTG9jYWxTdG9yYWdlSW5zdGFuY2UgPSBnZXRHbG9iYWxBc3luY0xvY2FsU3RvcmFnZUluc3RhbmNlKCk7XG5cdGlmIChhc3luY0xvY2FsU3RvcmFnZUluc3RhbmNlID09PSB2b2lkIDApIHRocm93IG5ldyBFcnJvcihgSW50ZXJuYWwgZXJyb3I6IEdsb2JhbCBzaGFyZWQgYXN5bmMgbG9jYWwgc3RvcmFnZSBpbnN0YW5jZSBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQuYCk7XG5cdGNvbnN0IHJ1blRyZWUgPSBhc3luY0xvY2FsU3RvcmFnZUluc3RhbmNlLmdldFN0b3JlKCk7XG5cdGNvbnN0IGNvbnRleHRWYXJzID0geyAuLi5ydW5UcmVlPy5bX0NPTlRFWFRfVkFSSUFCTEVTX0tFWV0gfTtcblx0Y29udGV4dFZhcnNbbmFtZV0gPSB2YWx1ZTtcblx0bGV0IG5ld1ZhbHVlID0ge307XG5cdGlmIChpc1J1blRyZWUocnVuVHJlZSkpIG5ld1ZhbHVlID0gbmV3IFJ1blRyZWUocnVuVHJlZSk7XG5cdG5ld1ZhbHVlW19DT05URVhUX1ZBUklBQkxFU19LRVldID0gY29udGV4dFZhcnM7XG5cdGFzeW5jTG9jYWxTdG9yYWdlSW5zdGFuY2UuZW50ZXJXaXRoKG5ld1ZhbHVlKTtcbn1cbi8qKlxuKiBHZXQgdGhlIHZhbHVlIG9mIGEgcHJldmlvdXNseSBzZXQgY29udGV4dCB2YXJpYWJsZS4gQ29udGV4dCB2YXJpYWJsZXNcbiogYXJlIHNjb3BlZCB0byBhbnkgY2hpbGQgcnVubmFibGVzIGNhbGxlZCBieSB0aGUgY3VycmVudCBydW5uYWJsZSxcbiogb3IgZ2xvYmFsbHkgaWYgc2V0IG91dHNpZGUgb2YgYW55IHJ1bm5hYmxlLlxuKlxuKiBAcmVtYXJrc1xuKiBUaGlzIGZ1bmN0aW9uIGlzIG9ubHkgc3VwcG9ydGVkIGluIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgQXN5bmNMb2NhbFN0b3JhZ2UsXG4qIGluY2x1ZGluZyBOb2RlLmpzLCBEZW5vLCBhbmQgQ2xvdWRmbGFyZSBXb3JrZXJzLlxuKlxuKiBAZXhhbXBsZVxuKiBgYGB0c1xuKiBpbXBvcnQgeyBSdW5uYWJsZUxhbWJkYSB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvcnVubmFibGVzXCI7XG4qIGltcG9ydCB7XG4qICAgZ2V0Q29udGV4dFZhcmlhYmxlLFxuKiAgIHNldENvbnRleHRWYXJpYWJsZVxuKiB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvY29udGV4dFwiO1xuKlxuKiBjb25zdCBuZXN0ZWQgPSBSdW5uYWJsZUxhbWJkYS5mcm9tKCgpID0+IHtcbiogICAvLyBcImJhclwiIGJlY2F1c2UgaXQgd2FzIHNldCBieSBhIHBhcmVudFxuKiAgIGNvbnNvbGUubG9nKGdldENvbnRleHRWYXJpYWJsZShcImZvb1wiKSk7XG4qXG4qICAgLy8gT3ZlcnJpZGUgdG8gXCJiYXpcIiwgYnV0IG9ubHkgZm9yIGNoaWxkIHJ1bm5hYmxlc1xuKiAgIHNldENvbnRleHRWYXJpYWJsZShcImZvb1wiLCBcImJhelwiKTtcbipcbiogICAvLyBOb3cgXCJiYXpcIiwgYnV0IG9ubHkgZm9yIGNoaWxkIHJ1bm5hYmxlc1xuKiAgIHJldHVybiBnZXRDb250ZXh0VmFyaWFibGUoXCJmb29cIik7XG4qIH0pO1xuKlxuKiBjb25zdCBydW5uYWJsZSA9IFJ1bm5hYmxlTGFtYmRhLmZyb20oYXN5bmMgKCkgPT4ge1xuKiAgIC8vIFNldCBhIGNvbnRleHQgdmFyaWFibGUgbmFtZWQgXCJmb29cIlxuKiAgIHNldENvbnRleHRWYXJpYWJsZShcImZvb1wiLCBcImJhclwiKTtcbipcbiogICBjb25zdCByZXMgPSBhd2FpdCBuZXN0ZWQuaW52b2tlKHt9KTtcbipcbiogICAvLyBTdGlsbCBcImJhclwiIHNpbmNlIGNoaWxkIGNoYW5nZXMgZG8gbm90IGFmZmVjdCBwYXJlbnRzXG4qICAgY29uc29sZS5sb2coZ2V0Q29udGV4dFZhcmlhYmxlKFwiZm9vXCIpKTtcbipcbiogICByZXR1cm4gcmVzO1xuKiB9KTtcbipcbiogLy8gdW5kZWZpbmVkLCBiZWNhdXNlIGNvbnRleHQgdmFyaWFibGUgaGFzIG5vdCBiZWVuIHNldCB5ZXRcbiogY29uc29sZS5sb2coZ2V0Q29udGV4dFZhcmlhYmxlKFwiZm9vXCIpKTtcbipcbiogLy8gRmluYWwgcmV0dXJuIHZhbHVlIGlzIFwiYmF6XCJcbiogY29uc3QgcmVzdWx0ID0gYXdhaXQgcnVubmFibGUuaW52b2tlKHt9KTtcbiogYGBgXG4qXG4qIEBwYXJhbSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBjb250ZXh0IHZhcmlhYmxlLlxuKi9cbmZ1bmN0aW9uIGdldENvbnRleHRWYXJpYWJsZShuYW1lKSB7XG5cdGNvbnN0IGFzeW5jTG9jYWxTdG9yYWdlSW5zdGFuY2UgPSBnZXRHbG9iYWxBc3luY0xvY2FsU3RvcmFnZUluc3RhbmNlKCk7XG5cdGlmIChhc3luY0xvY2FsU3RvcmFnZUluc3RhbmNlID09PSB2b2lkIDApIHJldHVybiB2b2lkIDA7XG5cdGNvbnN0IHJ1blRyZWUgPSBhc3luY0xvY2FsU3RvcmFnZUluc3RhbmNlLmdldFN0b3JlKCk7XG5cdHJldHVybiBydW5UcmVlPy5bX0NPTlRFWFRfVkFSSUFCTEVTX0tFWV0/LltuYW1lXTtcbn1cbmNvbnN0IExDX0NPTkZJR1VSRV9IT09LU19LRVkgPSBTeW1ib2woXCJsYzpjb25maWd1cmVfaG9va3NcIik7XG5jb25zdCBfZ2V0Q29uZmlndXJlSG9va3MgPSAoKSA9PiBnZXRDb250ZXh0VmFyaWFibGUoTENfQ09ORklHVVJFX0hPT0tTX0tFWSkgfHwgW107XG4vKipcbiogUmVnaXN0ZXIgYSBjYWxsYmFjayBjb25maWd1cmUgaG9vayB0byBhdXRvbWF0aWNhbGx5IGFkZCBjYWxsYmFjayBoYW5kbGVycyB0byBhbGwgcnVucy5cbipcbiogVGhlcmUgYXJlIHR3byB3YXlzIHRvIHVzZSB0aGlzOlxuKlxuKiAxLiBVc2luZyBhIGNvbnRleHQgdmFyaWFibGU6XG4qICAgIC0gU2V0IGBjb250ZXh0VmFyYCB0byBzcGVjaWZ5IHRoZSB2YXJpYWJsZSBuYW1lXG4qICAgIC0gVXNlIGBzZXRDb250ZXh0VmFyaWFibGUoKWAgdG8gc3RvcmUgeW91ciBoYW5kbGVyIGluc3RhbmNlXG4qXG4qIDIuIFVzaW5nIGFuIGVudmlyb25tZW50IHZhcmlhYmxlOlxuKiAgICAtIFNldCBib3RoIGBlbnZWYXJgIGFuZCBgaGFuZGxlckNsYXNzYFxuKiAgICAtIFRoZSBoYW5kbGVyIHdpbGwgYmUgaW5zdGFudGlhdGVkIHdoZW4gdGhlIGVudiB2YXIgaXMgc2V0IHRvIFwidHJ1ZVwiLlxuKlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIC8vIE1ldGhvZCAxOiBVc2luZyBjb250ZXh0IHZhcmlhYmxlXG4qIGltcG9ydCB7XG4qICAgcmVnaXN0ZXJDb25maWd1cmVIb29rLFxuKiAgIHNldENvbnRleHRWYXJpYWJsZVxuKiB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvY29udGV4dFwiO1xuKlxuKiBjb25zdCB0cmFjZXIgPSBuZXcgTXlDYWxsYmFja0hhbmRsZXIoKTtcbiogcmVnaXN0ZXJDb25maWd1cmVIb29rKHtcbiogICBjb250ZXh0VmFyOiBcIm15X3RyYWNlclwiLFxuKiB9KTtcbiogc2V0Q29udGV4dFZhcmlhYmxlKFwibXlfdHJhY2VyXCIsIHRyYWNlcik7XG4qXG4qIC8vIC4uLnJ1biBjb2RlIGhlcmVcbipcbiogLy8gTWV0aG9kIDI6IFVzaW5nIGVudmlyb25tZW50IHZhcmlhYmxlXG4qIHJlZ2lzdGVyQ29uZmlndXJlSG9vayh7XG4qICAgaGFuZGxlckNsYXNzOiBNeUNhbGxiYWNrSGFuZGxlcixcbiogICBlbnZWYXI6IFwiTVlfVFJBQ0VSX0VOQUJMRURcIixcbiogfSk7XG4qIHByb2Nlc3MuZW52Lk1ZX1RSQUNFUl9FTkFCTEVEID0gXCJ0cnVlXCI7XG4qXG4qIC8vIC4uLnJ1biBjb2RlIGhlcmVcbiogYGBgXG4qXG4qIEBwYXJhbSBjb25maWcgQ29uZmlndXJhdGlvbiBvYmplY3QgZm9yIHRoZSBob29rXG4qIEBwYXJhbSBjb25maWcuY29udGV4dFZhciBOYW1lIG9mIHRoZSBjb250ZXh0IHZhcmlhYmxlIGNvbnRhaW5pbmcgdGhlIGhhbmRsZXIgaW5zdGFuY2VcbiogQHBhcmFtIGNvbmZpZy5pbmhlcml0YWJsZSBXaGV0aGVyIGNoaWxkIHJ1bnMgc2hvdWxkIGluaGVyaXQgdGhpcyBoYW5kbGVyXG4qIEBwYXJhbSBjb25maWcuaGFuZGxlckNsYXNzIE9wdGlvbmFsIGNhbGxiYWNrIGhhbmRsZXIgY2xhc3MgKHJlcXVpcmVkIGlmIHVzaW5nIGVudlZhcilcbiogQHBhcmFtIGNvbmZpZy5lbnZWYXIgT3B0aW9uYWwgZW52aXJvbm1lbnQgdmFyaWFibGUgbmFtZSB0byBjb250cm9sIGhhbmRsZXIgYWN0aXZhdGlvblxuKi9cbmNvbnN0IHJlZ2lzdGVyQ29uZmlndXJlSG9vayA9IChjb25maWcpID0+IHtcblx0aWYgKGNvbmZpZy5lbnZWYXIgJiYgIWNvbmZpZy5oYW5kbGVyQ2xhc3MpIHRocm93IG5ldyBFcnJvcihcIklmIGVudlZhciBpcyBzZXQsIGhhbmRsZXJDbGFzcyBtdXN0IGFsc28gYmUgc2V0IHRvIGEgbm9uLU5vbmUgdmFsdWUuXCIpO1xuXHRzZXRDb250ZXh0VmFyaWFibGUoTENfQ09ORklHVVJFX0hPT0tTX0tFWSwgWy4uLl9nZXRDb25maWd1cmVIb29rcygpLCBjb25maWddKTtcbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgX2dldENvbmZpZ3VyZUhvb2tzLCBnZXRDb250ZXh0VmFyaWFibGUsIHJlZ2lzdGVyQ29uZmlndXJlSG9vaywgc2V0Q29udGV4dFZhcmlhYmxlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb250ZXh0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/async_local_storage/context.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/async_local_storage/globals.js":
/*!********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/async_local_storage/globals.js ***!
  \********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _CONTEXT_VARIABLES_KEY: () => (/* binding */ _CONTEXT_VARIABLES_KEY),\n/* harmony export */   getGlobalAsyncLocalStorageInstance: () => (/* binding */ getGlobalAsyncLocalStorageInstance),\n/* harmony export */   setGlobalAsyncLocalStorageInstance: () => (/* binding */ setGlobalAsyncLocalStorageInstance)\n/* harmony export */ });\n//#region src/singletons/async_local_storage/globals.ts\nconst TRACING_ALS_KEY = Symbol.for(\"ls:tracing_async_local_storage\");\nconst _CONTEXT_VARIABLES_KEY = Symbol.for(\"lc:context_variables\");\nconst setGlobalAsyncLocalStorageInstance = (instance) => {\n\tglobalThis[TRACING_ALS_KEY] = instance;\n};\nconst getGlobalAsyncLocalStorageInstance = () => {\n\treturn globalThis[TRACING_ALS_KEY];\n};\n\n//#endregion\n\n//# sourceMappingURL=globals.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3NpbmdsZXRvbnMvYXN5bmNfbG9jYWxfc3RvcmFnZS9nbG9iYWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUMwRztBQUMxRyIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9zaW5nbGV0b25zL2FzeW5jX2xvY2FsX3N0b3JhZ2UvZ2xvYmFscy5qcz9mMjlkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vI3JlZ2lvbiBzcmMvc2luZ2xldG9ucy9hc3luY19sb2NhbF9zdG9yYWdlL2dsb2JhbHMudHNcbmNvbnN0IFRSQUNJTkdfQUxTX0tFWSA9IFN5bWJvbC5mb3IoXCJsczp0cmFjaW5nX2FzeW5jX2xvY2FsX3N0b3JhZ2VcIik7XG5jb25zdCBfQ09OVEVYVF9WQVJJQUJMRVNfS0VZID0gU3ltYm9sLmZvcihcImxjOmNvbnRleHRfdmFyaWFibGVzXCIpO1xuY29uc3Qgc2V0R2xvYmFsQXN5bmNMb2NhbFN0b3JhZ2VJbnN0YW5jZSA9IChpbnN0YW5jZSkgPT4ge1xuXHRnbG9iYWxUaGlzW1RSQUNJTkdfQUxTX0tFWV0gPSBpbnN0YW5jZTtcbn07XG5jb25zdCBnZXRHbG9iYWxBc3luY0xvY2FsU3RvcmFnZUluc3RhbmNlID0gKCkgPT4ge1xuXHRyZXR1cm4gZ2xvYmFsVGhpc1tUUkFDSU5HX0FMU19LRVldO1xufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBfQ09OVEVYVF9WQVJJQUJMRVNfS0VZLCBnZXRHbG9iYWxBc3luY0xvY2FsU3RvcmFnZUluc3RhbmNlLCBzZXRHbG9iYWxBc3luY0xvY2FsU3RvcmFnZUluc3RhbmNlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nbG9iYWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/async_local_storage/globals.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/async_local_storage/index.js":
/*!******************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/async_local_storage/index.js ***!
  \******************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AsyncLocalStorageProviderSingleton: () => (/* binding */ AsyncLocalStorageProviderSingleton),\n/* harmony export */   MockAsyncLocalStorage: () => (/* binding */ MockAsyncLocalStorage)\n/* harmony export */ });\n/* harmony import */ var _globals_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./globals.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/async_local_storage/globals.js\");\n/* harmony import */ var _callbacks_manager_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../callbacks/manager.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/callbacks/manager.js\");\n/* harmony import */ var langsmith__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! langsmith */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+langsmith@0.4.9_openai@6.16.0/node_modules/langsmith/index.js\");\n\n\n\n\n//#region src/singletons/async_local_storage/index.ts\nvar MockAsyncLocalStorage = class {\n\tgetStore() {\n\t\treturn void 0;\n\t}\n\trun(_store, callback) {\n\t\treturn callback();\n\t}\n\tenterWith(_store) {\n\t\treturn void 0;\n\t}\n};\nconst mockAsyncLocalStorage = new MockAsyncLocalStorage();\nconst LC_CHILD_KEY = Symbol.for(\"lc:child_config\");\nvar AsyncLocalStorageProvider = class {\n\tgetInstance() {\n\t\treturn (0,_globals_js__WEBPACK_IMPORTED_MODULE_0__.getGlobalAsyncLocalStorageInstance)() ?? mockAsyncLocalStorage;\n\t}\n\tgetRunnableConfig() {\n\t\tconst storage = this.getInstance();\n\t\treturn storage.getStore()?.extra?.[LC_CHILD_KEY];\n\t}\n\trunWithConfig(config, callback, avoidCreatingRootRunTree) {\n\t\tconst callbackManager = _callbacks_manager_js__WEBPACK_IMPORTED_MODULE_1__.CallbackManager._configureSync(config?.callbacks, void 0, config?.tags, void 0, config?.metadata);\n\t\tconst storage = this.getInstance();\n\t\tconst previousValue = storage.getStore();\n\t\tconst parentRunId = callbackManager?.getParentRunId();\n\t\tconst langChainTracer = callbackManager?.handlers?.find((handler) => handler?.name === \"langchain_tracer\");\n\t\tlet runTree;\n\t\tif (langChainTracer && parentRunId) runTree = langChainTracer.getRunTreeWithTracingConfig(parentRunId);\n\t\telse if (!avoidCreatingRootRunTree) runTree = new langsmith__WEBPACK_IMPORTED_MODULE_2__.RunTree({\n\t\t\tname: \"<runnable_lambda>\",\n\t\t\ttracingEnabled: false\n\t\t});\n\t\tif (runTree) runTree.extra = {\n\t\t\t...runTree.extra,\n\t\t\t[LC_CHILD_KEY]: config\n\t\t};\n\t\tif (previousValue !== void 0 && previousValue[_globals_js__WEBPACK_IMPORTED_MODULE_0__._CONTEXT_VARIABLES_KEY] !== void 0) {\n\t\t\tif (runTree === void 0) runTree = {};\n\t\t\trunTree[_globals_js__WEBPACK_IMPORTED_MODULE_0__._CONTEXT_VARIABLES_KEY] = previousValue[_globals_js__WEBPACK_IMPORTED_MODULE_0__._CONTEXT_VARIABLES_KEY];\n\t\t}\n\t\treturn storage.run(runTree, callback);\n\t}\n\tinitializeGlobalInstance(instance) {\n\t\tif ((0,_globals_js__WEBPACK_IMPORTED_MODULE_0__.getGlobalAsyncLocalStorageInstance)() === void 0) (0,_globals_js__WEBPACK_IMPORTED_MODULE_0__.setGlobalAsyncLocalStorageInstance)(instance);\n\t}\n};\nconst AsyncLocalStorageProviderSingleton = new AsyncLocalStorageProvider();\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3NpbmdsZXRvbnMvYXN5bmNfbG9jYWxfc3RvcmFnZS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUE4SDtBQUNqRTtBQUN6Qjs7QUFFcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLCtFQUFrQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsa0VBQWU7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELDhDQUFPO0FBQzNEO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsK0RBQXNCO0FBQ3RFO0FBQ0EsV0FBVywrREFBc0Isa0JBQWtCLCtEQUFzQjtBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sK0VBQWtDLGVBQWUsK0VBQWtDO0FBQ3pGO0FBQ0E7QUFDQTs7QUFFQTtBQUNxRTtBQUNyRSIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9zaW5nbGV0b25zL2FzeW5jX2xvY2FsX3N0b3JhZ2UvaW5kZXguanM/YmFiMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfQ09OVEVYVF9WQVJJQUJMRVNfS0VZLCBnZXRHbG9iYWxBc3luY0xvY2FsU3RvcmFnZUluc3RhbmNlLCBzZXRHbG9iYWxBc3luY0xvY2FsU3RvcmFnZUluc3RhbmNlIH0gZnJvbSBcIi4vZ2xvYmFscy5qc1wiO1xuaW1wb3J0IHsgQ2FsbGJhY2tNYW5hZ2VyIH0gZnJvbSBcIi4uLy4uL2NhbGxiYWNrcy9tYW5hZ2VyLmpzXCI7XG5pbXBvcnQgeyBSdW5UcmVlIH0gZnJvbSBcImxhbmdzbWl0aFwiO1xuXG4vLyNyZWdpb24gc3JjL3NpbmdsZXRvbnMvYXN5bmNfbG9jYWxfc3RvcmFnZS9pbmRleC50c1xudmFyIE1vY2tBc3luY0xvY2FsU3RvcmFnZSA9IGNsYXNzIHtcblx0Z2V0U3RvcmUoKSB7XG5cdFx0cmV0dXJuIHZvaWQgMDtcblx0fVxuXHRydW4oX3N0b3JlLCBjYWxsYmFjaykge1xuXHRcdHJldHVybiBjYWxsYmFjaygpO1xuXHR9XG5cdGVudGVyV2l0aChfc3RvcmUpIHtcblx0XHRyZXR1cm4gdm9pZCAwO1xuXHR9XG59O1xuY29uc3QgbW9ja0FzeW5jTG9jYWxTdG9yYWdlID0gbmV3IE1vY2tBc3luY0xvY2FsU3RvcmFnZSgpO1xuY29uc3QgTENfQ0hJTERfS0VZID0gU3ltYm9sLmZvcihcImxjOmNoaWxkX2NvbmZpZ1wiKTtcbnZhciBBc3luY0xvY2FsU3RvcmFnZVByb3ZpZGVyID0gY2xhc3Mge1xuXHRnZXRJbnN0YW5jZSgpIHtcblx0XHRyZXR1cm4gZ2V0R2xvYmFsQXN5bmNMb2NhbFN0b3JhZ2VJbnN0YW5jZSgpID8/IG1vY2tBc3luY0xvY2FsU3RvcmFnZTtcblx0fVxuXHRnZXRSdW5uYWJsZUNvbmZpZygpIHtcblx0XHRjb25zdCBzdG9yYWdlID0gdGhpcy5nZXRJbnN0YW5jZSgpO1xuXHRcdHJldHVybiBzdG9yYWdlLmdldFN0b3JlKCk/LmV4dHJhPy5bTENfQ0hJTERfS0VZXTtcblx0fVxuXHRydW5XaXRoQ29uZmlnKGNvbmZpZywgY2FsbGJhY2ssIGF2b2lkQ3JlYXRpbmdSb290UnVuVHJlZSkge1xuXHRcdGNvbnN0IGNhbGxiYWNrTWFuYWdlciA9IENhbGxiYWNrTWFuYWdlci5fY29uZmlndXJlU3luYyhjb25maWc/LmNhbGxiYWNrcywgdm9pZCAwLCBjb25maWc/LnRhZ3MsIHZvaWQgMCwgY29uZmlnPy5tZXRhZGF0YSk7XG5cdFx0Y29uc3Qgc3RvcmFnZSA9IHRoaXMuZ2V0SW5zdGFuY2UoKTtcblx0XHRjb25zdCBwcmV2aW91c1ZhbHVlID0gc3RvcmFnZS5nZXRTdG9yZSgpO1xuXHRcdGNvbnN0IHBhcmVudFJ1bklkID0gY2FsbGJhY2tNYW5hZ2VyPy5nZXRQYXJlbnRSdW5JZCgpO1xuXHRcdGNvbnN0IGxhbmdDaGFpblRyYWNlciA9IGNhbGxiYWNrTWFuYWdlcj8uaGFuZGxlcnM/LmZpbmQoKGhhbmRsZXIpID0+IGhhbmRsZXI/Lm5hbWUgPT09IFwibGFuZ2NoYWluX3RyYWNlclwiKTtcblx0XHRsZXQgcnVuVHJlZTtcblx0XHRpZiAobGFuZ0NoYWluVHJhY2VyICYmIHBhcmVudFJ1bklkKSBydW5UcmVlID0gbGFuZ0NoYWluVHJhY2VyLmdldFJ1blRyZWVXaXRoVHJhY2luZ0NvbmZpZyhwYXJlbnRSdW5JZCk7XG5cdFx0ZWxzZSBpZiAoIWF2b2lkQ3JlYXRpbmdSb290UnVuVHJlZSkgcnVuVHJlZSA9IG5ldyBSdW5UcmVlKHtcblx0XHRcdG5hbWU6IFwiPHJ1bm5hYmxlX2xhbWJkYT5cIixcblx0XHRcdHRyYWNpbmdFbmFibGVkOiBmYWxzZVxuXHRcdH0pO1xuXHRcdGlmIChydW5UcmVlKSBydW5UcmVlLmV4dHJhID0ge1xuXHRcdFx0Li4ucnVuVHJlZS5leHRyYSxcblx0XHRcdFtMQ19DSElMRF9LRVldOiBjb25maWdcblx0XHR9O1xuXHRcdGlmIChwcmV2aW91c1ZhbHVlICE9PSB2b2lkIDAgJiYgcHJldmlvdXNWYWx1ZVtfQ09OVEVYVF9WQVJJQUJMRVNfS0VZXSAhPT0gdm9pZCAwKSB7XG5cdFx0XHRpZiAocnVuVHJlZSA9PT0gdm9pZCAwKSBydW5UcmVlID0ge307XG5cdFx0XHRydW5UcmVlW19DT05URVhUX1ZBUklBQkxFU19LRVldID0gcHJldmlvdXNWYWx1ZVtfQ09OVEVYVF9WQVJJQUJMRVNfS0VZXTtcblx0XHR9XG5cdFx0cmV0dXJuIHN0b3JhZ2UucnVuKHJ1blRyZWUsIGNhbGxiYWNrKTtcblx0fVxuXHRpbml0aWFsaXplR2xvYmFsSW5zdGFuY2UoaW5zdGFuY2UpIHtcblx0XHRpZiAoZ2V0R2xvYmFsQXN5bmNMb2NhbFN0b3JhZ2VJbnN0YW5jZSgpID09PSB2b2lkIDApIHNldEdsb2JhbEFzeW5jTG9jYWxTdG9yYWdlSW5zdGFuY2UoaW5zdGFuY2UpO1xuXHR9XG59O1xuY29uc3QgQXN5bmNMb2NhbFN0b3JhZ2VQcm92aWRlclNpbmdsZXRvbiA9IG5ldyBBc3luY0xvY2FsU3RvcmFnZVByb3ZpZGVyKCk7XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQXN5bmNMb2NhbFN0b3JhZ2VQcm92aWRlclNpbmdsZXRvbiwgTW9ja0FzeW5jTG9jYWxTdG9yYWdlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/async_local_storage/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/callbacks.js":
/*!**************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/callbacks.js ***!
  \**************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   awaitAllCallbacks: () => (/* binding */ awaitAllCallbacks),\n/* harmony export */   consumeCallback: () => (/* binding */ consumeCallback)\n/* harmony export */ });\n/* harmony import */ var _tracer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tracer.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/tracer.js\");\n/* harmony import */ var _async_local_storage_globals_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./async_local_storage/globals.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/async_local_storage/globals.js\");\n/* harmony import */ var p_queue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! p-queue */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+p-queue@6.6.2/node_modules/p-queue/dist/index.js\");\n\n\n\n\n//#region src/singletons/callbacks.ts\nlet queue;\n/**\n* Creates a queue using the p-queue library. The queue is configured to\n* auto-start and has a concurrency of 1, meaning it will process tasks\n* one at a time.\n*/\nfunction createQueue() {\n\tconst PQueue =  true ? p_queue__WEBPACK_IMPORTED_MODULE_2__[\"default\"] : p_queue__WEBPACK_IMPORTED_MODULE_2__;\n\treturn new PQueue({\n\t\tautoStart: true,\n\t\tconcurrency: 1\n\t});\n}\nfunction getQueue() {\n\tif (typeof queue === \"undefined\") queue = createQueue();\n\treturn queue;\n}\n/**\n* Consume a promise, either adding it to the queue or waiting for it to resolve\n* @param promiseFn Promise to consume\n* @param wait Whether to wait for the promise to resolve or resolve immediately\n*/\nasync function consumeCallback(promiseFn, wait) {\n\tif (wait === true) {\n\t\tconst asyncLocalStorageInstance = (0,_async_local_storage_globals_js__WEBPACK_IMPORTED_MODULE_1__.getGlobalAsyncLocalStorageInstance)();\n\t\tif (asyncLocalStorageInstance !== void 0) await asyncLocalStorageInstance.run(void 0, async () => promiseFn());\n\t\telse await promiseFn();\n\t} else {\n\t\tqueue = getQueue();\n\t\tqueue.add(async () => {\n\t\t\tconst asyncLocalStorageInstance = (0,_async_local_storage_globals_js__WEBPACK_IMPORTED_MODULE_1__.getGlobalAsyncLocalStorageInstance)();\n\t\t\tif (asyncLocalStorageInstance !== void 0) await asyncLocalStorageInstance.run(void 0, async () => promiseFn());\n\t\t\telse await promiseFn();\n\t\t});\n\t}\n}\n/**\n* Waits for all promises in the queue to resolve. If the queue is\n* undefined, it immediately resolves a promise.\n*/\nasync function awaitAllCallbacks() {\n\tconst defaultClient = (0,_tracer_js__WEBPACK_IMPORTED_MODULE_0__.getDefaultLangChainClientSingleton)();\n\tawait Promise.allSettled([typeof queue !== \"undefined\" ? queue.onIdle() : Promise.resolve(), defaultClient.awaitPendingTraceBatches()]);\n}\n\n//#endregion\n\n//# sourceMappingURL=callbacks.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3NpbmdsZXRvbnMvY2FsbGJhY2tzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQWlFO0FBQ3FCO0FBQ3REOztBQUVoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLEtBQXNCLEdBQUcsK0NBQWlCLEdBQUcsb0NBQVM7QUFDdEU7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxtR0FBa0M7QUFDdEU7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EscUNBQXFDLG1HQUFrQztBQUN2RTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDhFQUFrQztBQUN6RDtBQUNBOztBQUVBO0FBQzhDO0FBQzlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3NpbmdsZXRvbnMvY2FsbGJhY2tzLmpzP2Q0M2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0RGVmYXVsdExhbmdDaGFpbkNsaWVudFNpbmdsZXRvbiB9IGZyb20gXCIuL3RyYWNlci5qc1wiO1xuaW1wb3J0IHsgZ2V0R2xvYmFsQXN5bmNMb2NhbFN0b3JhZ2VJbnN0YW5jZSB9IGZyb20gXCIuL2FzeW5jX2xvY2FsX3N0b3JhZ2UvZ2xvYmFscy5qc1wiO1xuaW1wb3J0IFBRdWV1ZU1vZCBmcm9tIFwicC1xdWV1ZVwiO1xuXG4vLyNyZWdpb24gc3JjL3NpbmdsZXRvbnMvY2FsbGJhY2tzLnRzXG5sZXQgcXVldWU7XG4vKipcbiogQ3JlYXRlcyBhIHF1ZXVlIHVzaW5nIHRoZSBwLXF1ZXVlIGxpYnJhcnkuIFRoZSBxdWV1ZSBpcyBjb25maWd1cmVkIHRvXG4qIGF1dG8tc3RhcnQgYW5kIGhhcyBhIGNvbmN1cnJlbmN5IG9mIDEsIG1lYW5pbmcgaXQgd2lsbCBwcm9jZXNzIHRhc2tzXG4qIG9uZSBhdCBhIHRpbWUuXG4qL1xuZnVuY3Rpb24gY3JlYXRlUXVldWUoKSB7XG5cdGNvbnN0IFBRdWV1ZSA9IFwiZGVmYXVsdFwiIGluIFBRdWV1ZU1vZCA/IFBRdWV1ZU1vZC5kZWZhdWx0IDogUFF1ZXVlTW9kO1xuXHRyZXR1cm4gbmV3IFBRdWV1ZSh7XG5cdFx0YXV0b1N0YXJ0OiB0cnVlLFxuXHRcdGNvbmN1cnJlbmN5OiAxXG5cdH0pO1xufVxuZnVuY3Rpb24gZ2V0UXVldWUoKSB7XG5cdGlmICh0eXBlb2YgcXVldWUgPT09IFwidW5kZWZpbmVkXCIpIHF1ZXVlID0gY3JlYXRlUXVldWUoKTtcblx0cmV0dXJuIHF1ZXVlO1xufVxuLyoqXG4qIENvbnN1bWUgYSBwcm9taXNlLCBlaXRoZXIgYWRkaW5nIGl0IHRvIHRoZSBxdWV1ZSBvciB3YWl0aW5nIGZvciBpdCB0byByZXNvbHZlXG4qIEBwYXJhbSBwcm9taXNlRm4gUHJvbWlzZSB0byBjb25zdW1lXG4qIEBwYXJhbSB3YWl0IFdoZXRoZXIgdG8gd2FpdCBmb3IgdGhlIHByb21pc2UgdG8gcmVzb2x2ZSBvciByZXNvbHZlIGltbWVkaWF0ZWx5XG4qL1xuYXN5bmMgZnVuY3Rpb24gY29uc3VtZUNhbGxiYWNrKHByb21pc2VGbiwgd2FpdCkge1xuXHRpZiAod2FpdCA9PT0gdHJ1ZSkge1xuXHRcdGNvbnN0IGFzeW5jTG9jYWxTdG9yYWdlSW5zdGFuY2UgPSBnZXRHbG9iYWxBc3luY0xvY2FsU3RvcmFnZUluc3RhbmNlKCk7XG5cdFx0aWYgKGFzeW5jTG9jYWxTdG9yYWdlSW5zdGFuY2UgIT09IHZvaWQgMCkgYXdhaXQgYXN5bmNMb2NhbFN0b3JhZ2VJbnN0YW5jZS5ydW4odm9pZCAwLCBhc3luYyAoKSA9PiBwcm9taXNlRm4oKSk7XG5cdFx0ZWxzZSBhd2FpdCBwcm9taXNlRm4oKTtcblx0fSBlbHNlIHtcblx0XHRxdWV1ZSA9IGdldFF1ZXVlKCk7XG5cdFx0cXVldWUuYWRkKGFzeW5jICgpID0+IHtcblx0XHRcdGNvbnN0IGFzeW5jTG9jYWxTdG9yYWdlSW5zdGFuY2UgPSBnZXRHbG9iYWxBc3luY0xvY2FsU3RvcmFnZUluc3RhbmNlKCk7XG5cdFx0XHRpZiAoYXN5bmNMb2NhbFN0b3JhZ2VJbnN0YW5jZSAhPT0gdm9pZCAwKSBhd2FpdCBhc3luY0xvY2FsU3RvcmFnZUluc3RhbmNlLnJ1bih2b2lkIDAsIGFzeW5jICgpID0+IHByb21pc2VGbigpKTtcblx0XHRcdGVsc2UgYXdhaXQgcHJvbWlzZUZuKCk7XG5cdFx0fSk7XG5cdH1cbn1cbi8qKlxuKiBXYWl0cyBmb3IgYWxsIHByb21pc2VzIGluIHRoZSBxdWV1ZSB0byByZXNvbHZlLiBJZiB0aGUgcXVldWUgaXNcbiogdW5kZWZpbmVkLCBpdCBpbW1lZGlhdGVseSByZXNvbHZlcyBhIHByb21pc2UuXG4qL1xuYXN5bmMgZnVuY3Rpb24gYXdhaXRBbGxDYWxsYmFja3MoKSB7XG5cdGNvbnN0IGRlZmF1bHRDbGllbnQgPSBnZXREZWZhdWx0TGFuZ0NoYWluQ2xpZW50U2luZ2xldG9uKCk7XG5cdGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChbdHlwZW9mIHF1ZXVlICE9PSBcInVuZGVmaW5lZFwiID8gcXVldWUub25JZGxlKCkgOiBQcm9taXNlLnJlc29sdmUoKSwgZGVmYXVsdENsaWVudC5hd2FpdFBlbmRpbmdUcmFjZUJhdGNoZXMoKV0pO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IGF3YWl0QWxsQ2FsbGJhY2tzLCBjb25zdW1lQ2FsbGJhY2sgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhbGxiYWNrcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/callbacks.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/index.js":
/*!**********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/index.js ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AsyncLocalStorageProviderSingleton: () => (/* reexport safe */ _async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_2__.AsyncLocalStorageProviderSingleton),\n/* harmony export */   MockAsyncLocalStorage: () => (/* reexport safe */ _async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_2__.MockAsyncLocalStorage),\n/* harmony export */   _CONTEXT_VARIABLES_KEY: () => (/* reexport safe */ _async_local_storage_globals_js__WEBPACK_IMPORTED_MODULE_1__._CONTEXT_VARIABLES_KEY),\n/* harmony export */   singletons_exports: () => (/* binding */ singletons_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _async_local_storage_globals_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./async_local_storage/globals.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/async_local_storage/globals.js\");\n/* harmony import */ var _async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./async_local_storage/index.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/async_local_storage/index.js\");\n\n\n\n\n//#region src/singletons/index.ts\nvar singletons_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(singletons_exports, {\n\tAsyncLocalStorageProviderSingleton: () => _async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_2__.AsyncLocalStorageProviderSingleton,\n\tMockAsyncLocalStorage: () => _async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_2__.MockAsyncLocalStorage,\n\t_CONTEXT_VARIABLES_KEY: () => _async_local_storage_globals_js__WEBPACK_IMPORTED_MODULE_1__._CONTEXT_VARIABLES_KEY\n});\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3NpbmdsZXRvbnMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUEyRDtBQUNlO0FBQ2lDOztBQUUzRztBQUNBO0FBQ0Esc0VBQVE7QUFDUiwyQ0FBMkMsNkZBQWtDO0FBQzdFLDhCQUE4QixnRkFBcUI7QUFDbkQsK0JBQStCLG1GQUFzQjtBQUNyRCxDQUFDOztBQUVEO0FBQ2lIO0FBQ2pIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3NpbmdsZXRvbnMvaW5kZXguanM/OTE4MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2V4cG9ydCB9IGZyb20gXCIuLi9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmpzXCI7XG5pbXBvcnQgeyBfQ09OVEVYVF9WQVJJQUJMRVNfS0VZIH0gZnJvbSBcIi4vYXN5bmNfbG9jYWxfc3RvcmFnZS9nbG9iYWxzLmpzXCI7XG5pbXBvcnQgeyBBc3luY0xvY2FsU3RvcmFnZVByb3ZpZGVyU2luZ2xldG9uLCBNb2NrQXN5bmNMb2NhbFN0b3JhZ2UgfSBmcm9tIFwiLi9hc3luY19sb2NhbF9zdG9yYWdlL2luZGV4LmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvc2luZ2xldG9ucy9pbmRleC50c1xudmFyIHNpbmdsZXRvbnNfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQoc2luZ2xldG9uc19leHBvcnRzLCB7XG5cdEFzeW5jTG9jYWxTdG9yYWdlUHJvdmlkZXJTaW5nbGV0b246ICgpID0+IEFzeW5jTG9jYWxTdG9yYWdlUHJvdmlkZXJTaW5nbGV0b24sXG5cdE1vY2tBc3luY0xvY2FsU3RvcmFnZTogKCkgPT4gTW9ja0FzeW5jTG9jYWxTdG9yYWdlLFxuXHRfQ09OVEVYVF9WQVJJQUJMRVNfS0VZOiAoKSA9PiBfQ09OVEVYVF9WQVJJQUJMRVNfS0VZXG59KTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBBc3luY0xvY2FsU3RvcmFnZVByb3ZpZGVyU2luZ2xldG9uLCBNb2NrQXN5bmNMb2NhbFN0b3JhZ2UsIF9DT05URVhUX1ZBUklBQkxFU19LRVksIHNpbmdsZXRvbnNfZXhwb3J0cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/tracer.js":
/*!***********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/tracer.js ***!
  \***********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getDefaultLangChainClientSingleton: () => (/* binding */ getDefaultLangChainClientSingleton)\n/* harmony export */ });\n/* harmony import */ var _utils_env_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/env.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/env.js\");\n/* harmony import */ var langsmith__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! langsmith */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+langsmith@0.4.9_openai@6.16.0/node_modules/langsmith/index.js\");\n\n\n\n//#region src/singletons/tracer.ts\nlet client;\nconst getDefaultLangChainClientSingleton = () => {\n\tif (client === void 0) {\n\t\tconst clientParams = (0,_utils_env_js__WEBPACK_IMPORTED_MODULE_0__.getEnvironmentVariable)(\"LANGCHAIN_CALLBACKS_BACKGROUND\") === \"false\" ? { blockOnRootRunFinalization: true } : {};\n\t\tclient = new langsmith__WEBPACK_IMPORTED_MODULE_1__.Client(clientParams);\n\t}\n\treturn client;\n};\n\n//#endregion\n\n//# sourceMappingURL=tracer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3NpbmdsZXRvbnMvdHJhY2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF5RDtBQUN0Qjs7QUFFbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIscUVBQXNCLG1EQUFtRCxtQ0FBbUM7QUFDbkksZUFBZSw2Q0FBTTtBQUNyQjtBQUNBO0FBQ0E7O0FBRUE7QUFDOEM7QUFDOUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3Qvc2luZ2xldG9ucy90cmFjZXIuanM/ZDJhMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlIH0gZnJvbSBcIi4uL3V0aWxzL2Vudi5qc1wiO1xuaW1wb3J0IHsgQ2xpZW50IH0gZnJvbSBcImxhbmdzbWl0aFwiO1xuXG4vLyNyZWdpb24gc3JjL3NpbmdsZXRvbnMvdHJhY2VyLnRzXG5sZXQgY2xpZW50O1xuY29uc3QgZ2V0RGVmYXVsdExhbmdDaGFpbkNsaWVudFNpbmdsZXRvbiA9ICgpID0+IHtcblx0aWYgKGNsaWVudCA9PT0gdm9pZCAwKSB7XG5cdFx0Y29uc3QgY2xpZW50UGFyYW1zID0gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkxBTkdDSEFJTl9DQUxMQkFDS1NfQkFDS0dST1VORFwiKSA9PT0gXCJmYWxzZVwiID8geyBibG9ja09uUm9vdFJ1bkZpbmFsaXphdGlvbjogdHJ1ZSB9IDoge307XG5cdFx0Y2xpZW50ID0gbmV3IENsaWVudChjbGllbnRQYXJhbXMpO1xuXHR9XG5cdHJldHVybiBjbGllbnQ7XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IGdldERlZmF1bHRMYW5nQ2hhaW5DbGllbnRTaW5nbGV0b24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYWNlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/tracer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tools/index.js":
/*!*****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tools/index.js ***!
  \*****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseToolkit: () => (/* binding */ BaseToolkit),\n/* harmony export */   DynamicStructuredTool: () => (/* binding */ DynamicStructuredTool),\n/* harmony export */   DynamicTool: () => (/* binding */ DynamicTool),\n/* harmony export */   StructuredTool: () => (/* binding */ StructuredTool),\n/* harmony export */   Tool: () => (/* binding */ Tool),\n/* harmony export */   ToolInputParsingException: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_2__.ToolInputParsingException),\n/* harmony export */   isLangChainTool: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_11__.isLangChainTool),\n/* harmony export */   isRunnableToolLike: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_11__.isRunnableToolLike),\n/* harmony export */   isStructuredTool: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_11__.isStructuredTool),\n/* harmony export */   isStructuredToolParams: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_11__.isStructuredToolParams),\n/* harmony export */   tool: () => (/* binding */ tool),\n/* harmony export */   tools_exports: () => (/* binding */ tools_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _messages_tool_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../messages/tool.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/tool.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tools/utils.js\");\n/* harmony import */ var _callbacks_manager_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../callbacks/manager.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/callbacks/manager.js\");\n/* harmony import */ var _singletons_async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../singletons/async_local_storage/index.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/async_local_storage/index.js\");\n/* harmony import */ var _singletons_index_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../singletons/index.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/index.js\");\n/* harmony import */ var _runnables_config_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../runnables/config.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/config.js\");\n/* harmony import */ var _utils_signal_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/signal.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/signal.js\");\n/* harmony import */ var _utils_types_zod_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/types/zod.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/types/zod.js\");\n/* harmony import */ var _utils_json_schema_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/json_schema.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/json_schema.js\");\n/* harmony import */ var _language_models_base_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../language_models/base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/language_models/base.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./types.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tools/types.js\");\n/* harmony import */ var zod_v3__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! zod/v3 */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+zod@4.3.6/node_modules/zod/v3/index.js\");\n/* harmony import */ var _cfworker_json_schema__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @cfworker/json-schema */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@cfworker+json-schema@4.1.1/node_modules/@cfworker/json-schema/dist/esm/index.js\");\n/* harmony import */ var zod_v4__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! zod/v4 */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+zod@4.3.6/node_modules/zod/v4/index.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//#region src/tools/index.ts\nvar tools_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(tools_exports, {\n\tBaseToolkit: () => BaseToolkit,\n\tDynamicStructuredTool: () => DynamicStructuredTool,\n\tDynamicTool: () => DynamicTool,\n\tStructuredTool: () => StructuredTool,\n\tTool: () => Tool,\n\tToolInputParsingException: () => _utils_js__WEBPACK_IMPORTED_MODULE_2__.ToolInputParsingException,\n\tisLangChainTool: () => _types_js__WEBPACK_IMPORTED_MODULE_11__.isLangChainTool,\n\tisRunnableToolLike: () => _types_js__WEBPACK_IMPORTED_MODULE_11__.isRunnableToolLike,\n\tisStructuredTool: () => _types_js__WEBPACK_IMPORTED_MODULE_11__.isStructuredTool,\n\tisStructuredToolParams: () => _types_js__WEBPACK_IMPORTED_MODULE_11__.isStructuredToolParams,\n\ttool: () => tool\n});\n/**\n* Base class for Tools that accept input of any shape defined by a Zod schema.\n*/\nvar StructuredTool = class extends _language_models_base_js__WEBPACK_IMPORTED_MODULE_10__.BaseLangChain {\n\t/**\n\t* Optional provider-specific extra fields for the tool.\n\t*\n\t* This is used to pass provider-specific configuration that doesn't fit into\n\t* standard tool fields.\n\t*/\n\textras;\n\t/**\n\t* Whether to return the tool's output directly.\n\t*\n\t* Setting this to true means that after the tool is called,\n\t* an agent should stop looping.\n\t*/\n\treturnDirect = false;\n\tverboseParsingErrors = false;\n\tget lc_namespace() {\n\t\treturn [\"langchain\", \"tools\"];\n\t}\n\t/**\n\t* The tool response format.\n\t*\n\t* If \"content\" then the output of the tool is interpreted as the contents of a\n\t* ToolMessage. If \"content_and_artifact\" then the output is expected to be a\n\t* two-tuple corresponding to the (content, artifact) of a ToolMessage.\n\t*\n\t* @default \"content\"\n\t*/\n\tresponseFormat = \"content\";\n\t/**\n\t* Default config object for the tool runnable.\n\t*/\n\tdefaultConfig;\n\tconstructor(fields) {\n\t\tsuper(fields ?? {});\n\t\tthis.verboseParsingErrors = fields?.verboseParsingErrors ?? this.verboseParsingErrors;\n\t\tthis.responseFormat = fields?.responseFormat ?? this.responseFormat;\n\t\tthis.defaultConfig = fields?.defaultConfig ?? this.defaultConfig;\n\t\tthis.metadata = fields?.metadata ?? this.metadata;\n\t\tthis.extras = fields?.extras ?? this.extras;\n\t}\n\t/**\n\t* Invokes the tool with the provided input and configuration.\n\t* @param input The input for the tool.\n\t* @param config Optional configuration for the tool.\n\t* @returns A Promise that resolves with the tool's output.\n\t*/\n\tasync invoke(input, config) {\n\t\tlet toolInput;\n\t\tlet enrichedConfig = (0,_runnables_config_js__WEBPACK_IMPORTED_MODULE_6__.ensureConfig)((0,_runnables_config_js__WEBPACK_IMPORTED_MODULE_6__.mergeConfigs)(this.defaultConfig, config));\n\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__._isToolCall)(input)) {\n\t\t\ttoolInput = input.args;\n\t\t\tenrichedConfig = {\n\t\t\t\t...enrichedConfig,\n\t\t\t\ttoolCall: input\n\t\t\t};\n\t\t} else toolInput = input;\n\t\treturn this.call(toolInput, enrichedConfig);\n\t}\n\t/**\n\t* @deprecated Use .invoke() instead. Will be removed in 0.3.0.\n\t*\n\t* Calls the tool with the provided argument, configuration, and tags. It\n\t* parses the input according to the schema, handles any errors, and\n\t* manages callbacks.\n\t* @param arg The input argument for the tool.\n\t* @param configArg Optional configuration or callbacks for the tool.\n\t* @param tags Optional tags for the tool.\n\t* @returns A Promise that resolves with a string.\n\t*/\n\tasync call(arg, configArg, tags) {\n\t\tconst inputForValidation = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__._isToolCall)(arg) ? arg.args : arg;\n\t\tlet parsed;\n\t\tif ((0,_utils_types_zod_js__WEBPACK_IMPORTED_MODULE_8__.isInteropZodSchema)(this.schema)) try {\n\t\t\tparsed = await (0,_utils_types_zod_js__WEBPACK_IMPORTED_MODULE_8__.interopParseAsync)(this.schema, inputForValidation);\n\t\t} catch (e) {\n\t\t\tlet message = `Received tool input did not match expected schema`;\n\t\t\tif (this.verboseParsingErrors) message = `${message}\\nDetails: ${e.message}`;\n\t\t\tif ((0,_utils_types_zod_js__WEBPACK_IMPORTED_MODULE_8__.isInteropZodError)(e)) message = `${message}\\n\\n${zod_v4__WEBPACK_IMPORTED_MODULE_14__.z.prettifyError(e)}`;\n\t\t\tthrow new _utils_js__WEBPACK_IMPORTED_MODULE_2__.ToolInputParsingException(message, JSON.stringify(arg));\n\t\t}\n\t\telse {\n\t\t\tconst result$1 = (0,_cfworker_json_schema__WEBPACK_IMPORTED_MODULE_13__.validate)(inputForValidation, this.schema);\n\t\t\tif (!result$1.valid) {\n\t\t\t\tlet message = `Received tool input did not match expected schema`;\n\t\t\t\tif (this.verboseParsingErrors) message = `${message}\\nDetails: ${result$1.errors.map((e) => `${e.keywordLocation}: ${e.error}`).join(\"\\n\")}`;\n\t\t\t\tthrow new _utils_js__WEBPACK_IMPORTED_MODULE_2__.ToolInputParsingException(message, JSON.stringify(arg));\n\t\t\t}\n\t\t\tparsed = inputForValidation;\n\t\t}\n\t\tconst config = (0,_callbacks_manager_js__WEBPACK_IMPORTED_MODULE_3__.parseCallbackConfigArg)(configArg);\n\t\tconst callbackManager_ = _callbacks_manager_js__WEBPACK_IMPORTED_MODULE_3__.CallbackManager.configure(config.callbacks, this.callbacks, config.tags || tags, this.tags, config.metadata, this.metadata, { verbose: this.verbose });\n\t\tconst runManager = await callbackManager_?.handleToolStart(this.toJSON(), typeof arg === \"string\" ? arg : JSON.stringify(arg), config.runId, void 0, void 0, void 0, config.runName);\n\t\tdelete config.runId;\n\t\tlet result;\n\t\ttry {\n\t\t\tresult = await this._call(parsed, runManager, config);\n\t\t} catch (e) {\n\t\t\tawait runManager?.handleToolError(e);\n\t\t\tthrow e;\n\t\t}\n\t\tlet content;\n\t\tlet artifact;\n\t\tif (this.responseFormat === \"content_and_artifact\") if (Array.isArray(result) && result.length === 2) [content, artifact] = result;\n\t\telse throw new Error(`Tool response format is \"content_and_artifact\" but the output was not a two-tuple.\\nResult: ${JSON.stringify(result)}`);\n\t\telse content = result;\n\t\tlet toolCallId;\n\t\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__._isToolCall)(arg)) toolCallId = arg.id;\n\t\tif (!toolCallId && (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__._configHasToolCallId)(config)) toolCallId = config.toolCall.id;\n\t\tconst formattedOutput = _formatToolOutput({\n\t\t\tcontent,\n\t\t\tartifact,\n\t\t\ttoolCallId,\n\t\t\tname: this.name,\n\t\t\tmetadata: this.metadata\n\t\t});\n\t\tawait runManager?.handleToolEnd(formattedOutput);\n\t\treturn formattedOutput;\n\t}\n};\n/**\n* Base class for Tools that accept input as a string.\n*/\nvar Tool = class extends StructuredTool {\n\tschema = zod_v3__WEBPACK_IMPORTED_MODULE_12__.z.object({ input: zod_v3__WEBPACK_IMPORTED_MODULE_12__.z.string().optional() }).transform((obj) => obj.input);\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t}\n\t/**\n\t* @deprecated Use .invoke() instead. Will be removed in 0.3.0.\n\t*\n\t* Calls the tool with the provided argument and callbacks. It handles\n\t* string inputs specifically.\n\t* @param arg The input argument for the tool, which can be a string, undefined, or an input of the tool's schema.\n\t* @param callbacks Optional callbacks for the tool.\n\t* @returns A Promise that resolves with a string.\n\t*/\n\tcall(arg, callbacks) {\n\t\tconst structuredArg = typeof arg === \"string\" || arg == null ? { input: arg } : arg;\n\t\treturn super.call(structuredArg, callbacks);\n\t}\n};\n/**\n* A tool that can be created dynamically from a function, name, and description.\n*/\nvar DynamicTool = class extends Tool {\n\tstatic lc_name() {\n\t\treturn \"DynamicTool\";\n\t}\n\tname;\n\tdescription;\n\tfunc;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.name = fields.name;\n\t\tthis.description = fields.description;\n\t\tthis.func = fields.func;\n\t\tthis.returnDirect = fields.returnDirect ?? this.returnDirect;\n\t}\n\t/**\n\t* @deprecated Use .invoke() instead. Will be removed in 0.3.0.\n\t*/\n\tasync call(arg, configArg) {\n\t\tconst config = (0,_callbacks_manager_js__WEBPACK_IMPORTED_MODULE_3__.parseCallbackConfigArg)(configArg);\n\t\tif (config.runName === void 0) config.runName = this.name;\n\t\treturn super.call(arg, config);\n\t}\n\t/** @ignore */\n\tasync _call(input, runManager, parentConfig) {\n\t\treturn this.func(input, runManager, parentConfig);\n\t}\n};\n/**\n* A tool that can be created dynamically from a function, name, and\n* description, designed to work with structured data. It extends the\n* StructuredTool class and overrides the _call method to execute the\n* provided function when the tool is called.\n*\n* Schema can be passed as Zod or JSON schema. The tool will not validate\n* input if JSON schema is passed.\n*\n* @template SchemaT The input schema type for the tool (Zod schema or JSON schema). Defaults to `ToolInputSchemaBase`.\n* @template SchemaOutputT The output type derived from the schema after parsing/validation. Defaults to `ToolInputSchemaOutputType<SchemaT>`.\n* @template SchemaInputT The input type derived from the schema before parsing. Defaults to `ToolInputSchemaInputType<SchemaT>`.\n* @template ToolOutputT The return type of the tool's function. Defaults to `ToolOutputType`.\n* @template NameT The literal type of the tool name (for discriminated union support). Defaults to `string`.\n*/\nvar DynamicStructuredTool = class extends StructuredTool {\n\tstatic lc_name() {\n\t\treturn \"DynamicStructuredTool\";\n\t}\n\tdescription;\n\tfunc;\n\tschema;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.name = fields.name;\n\t\tthis.description = fields.description;\n\t\tthis.func = fields.func;\n\t\tthis.returnDirect = fields.returnDirect ?? this.returnDirect;\n\t\tthis.schema = fields.schema;\n\t}\n\t/**\n\t* @deprecated Use .invoke() instead. Will be removed in 0.3.0.\n\t*/\n\tasync call(arg, configArg, tags) {\n\t\tconst config = (0,_callbacks_manager_js__WEBPACK_IMPORTED_MODULE_3__.parseCallbackConfigArg)(configArg);\n\t\tif (config.runName === void 0) config.runName = this.name;\n\t\treturn super.call(arg, config, tags);\n\t}\n\t_call(arg, runManager, parentConfig) {\n\t\treturn this.func(arg, runManager, parentConfig);\n\t}\n};\n/**\n* Abstract base class for toolkits in LangChain. Toolkits are collections\n* of tools that agents can use. Subclasses must implement the `tools`\n* property to provide the specific tools for the toolkit.\n*/\nvar BaseToolkit = class {\n\tgetTools() {\n\t\treturn this.tools;\n\t}\n};\nfunction tool(func, fields) {\n\tconst isSimpleStringSchema = (0,_utils_types_zod_js__WEBPACK_IMPORTED_MODULE_8__.isSimpleStringZodSchema)(fields.schema);\n\tconst isStringJSONSchema = (0,_utils_json_schema_js__WEBPACK_IMPORTED_MODULE_9__.validatesOnlyStrings)(fields.schema);\n\tif (!fields.schema || isSimpleStringSchema || isStringJSONSchema) return new DynamicTool({\n\t\t...fields,\n\t\tdescription: fields.description ?? fields.schema?.description ?? `${fields.name} tool`,\n\t\tfunc: async (input, runManager, config) => {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tconst childConfig = (0,_runnables_config_js__WEBPACK_IMPORTED_MODULE_6__.patchConfig)(config, { callbacks: runManager?.getChild() });\n\t\t\t\t_singletons_async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_4__.AsyncLocalStorageProviderSingleton.runWithConfig((0,_runnables_config_js__WEBPACK_IMPORTED_MODULE_6__.pickRunnableConfigKeys)(childConfig), async () => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tresolve(func(input, childConfig));\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\treject(e);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t});\n\tconst schema = fields.schema;\n\tconst description = fields.description ?? fields.schema.description ?? `${fields.name} tool`;\n\treturn new DynamicStructuredTool({\n\t\t...fields,\n\t\tdescription,\n\t\tschema,\n\t\tfunc: async (input, runManager, config) => {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tlet listener;\n\t\t\t\tconst cleanup = () => {\n\t\t\t\t\tif (config?.signal && listener) config.signal.removeEventListener(\"abort\", listener);\n\t\t\t\t};\n\t\t\t\tif (config?.signal) {\n\t\t\t\t\tlistener = () => {\n\t\t\t\t\t\tcleanup();\n\t\t\t\t\t\treject((0,_utils_signal_js__WEBPACK_IMPORTED_MODULE_7__.getAbortSignalError)(config.signal));\n\t\t\t\t\t};\n\t\t\t\t\tconfig.signal.addEventListener(\"abort\", listener);\n\t\t\t\t}\n\t\t\t\tconst childConfig = (0,_runnables_config_js__WEBPACK_IMPORTED_MODULE_6__.patchConfig)(config, { callbacks: runManager?.getChild() });\n\t\t\t\t_singletons_async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_4__.AsyncLocalStorageProviderSingleton.runWithConfig((0,_runnables_config_js__WEBPACK_IMPORTED_MODULE_6__.pickRunnableConfigKeys)(childConfig), async () => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst result = await func(input, childConfig);\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t* If the signal is aborted, we don't want to resolve the promise\n\t\t\t\t\t\t* as the promise is already rejected.\n\t\t\t\t\t\t*/\n\t\t\t\t\t\tif (config?.signal?.aborted) {\n\t\t\t\t\t\t\tcleanup();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcleanup();\n\t\t\t\t\t\tresolve(result);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tcleanup();\n\t\t\t\t\t\treject(e);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t});\n}\nfunction _formatToolOutput(params) {\n\tconst { content, artifact, toolCallId, metadata } = params;\n\tif (toolCallId && !(0,_messages_tool_js__WEBPACK_IMPORTED_MODULE_1__.isDirectToolOutput)(content)) if (typeof content === \"string\" || Array.isArray(content) && content.every((item) => typeof item === \"object\")) return new _messages_tool_js__WEBPACK_IMPORTED_MODULE_1__.ToolMessage({\n\t\tstatus: \"success\",\n\t\tcontent,\n\t\tartifact,\n\t\ttool_call_id: toolCallId,\n\t\tname: params.name,\n\t\tmetadata\n\t});\n\telse return new _messages_tool_js__WEBPACK_IMPORTED_MODULE_1__.ToolMessage({\n\t\tstatus: \"success\",\n\t\tcontent: _stringify(content),\n\t\tartifact,\n\t\ttool_call_id: toolCallId,\n\t\tname: params.name,\n\t\tmetadata\n\t});\n\telse return content;\n}\nfunction _stringify(content) {\n\ttry {\n\t\treturn JSON.stringify(content) ?? \"\";\n\t} catch (_noOp) {\n\t\treturn `${content}`;\n\t}\n}\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3Rvb2xzL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEyRDtBQUNXO0FBQ29CO0FBQ1I7QUFDYztBQUNoRTtBQUN5RTtBQUNoRDtBQUNpRTtBQUMzRDtBQUNKO0FBQ2dEO0FBQ2hGO0FBQ3NCO0FBQ2Y7O0FBRWxDO0FBQ0E7QUFDQSxzRUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsZ0VBQXlCO0FBQzNELHdCQUF3Qix1REFBZTtBQUN2QywyQkFBMkIsMERBQWtCO0FBQzdDLHlCQUF5Qix3REFBZ0I7QUFDekMsK0JBQStCLDhEQUFzQjtBQUNyRDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsb0VBQWE7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsa0VBQVksQ0FBQyxrRUFBWTtBQUNoRCxNQUFNLHNEQUFXO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixzREFBVztBQUN4QztBQUNBLE1BQU0sdUVBQWtCO0FBQ3hCLGtCQUFrQixzRUFBaUI7QUFDbkMsSUFBSTtBQUNKO0FBQ0EsK0NBQStDLFFBQVEsYUFBYSxVQUFVO0FBQzlFLE9BQU8sc0VBQWlCLGtCQUFrQixRQUFRLE1BQU0sb0RBQWlCLElBQUk7QUFDN0UsYUFBYSxnRUFBeUI7QUFDdEM7QUFDQTtBQUNBLG9CQUFvQixnRUFBUTtBQUM1QjtBQUNBO0FBQ0EsZ0RBQWdELFFBQVEsYUFBYSw4QkFBOEIsa0JBQWtCLElBQUksUUFBUSxjQUFjO0FBQy9JLGNBQWMsZ0VBQXlCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiw2RUFBc0I7QUFDdkMsMkJBQTJCLGtFQUFlLCtHQUErRyx1QkFBdUI7QUFDaEw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzSEFBc0gsdUJBQXVCO0FBQzdJO0FBQ0E7QUFDQSxNQUFNLHNEQUFXO0FBQ2pCLHFCQUFxQiwrREFBb0I7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLDZDQUFRLEdBQUcsT0FBTyw2Q0FBUSxlQUFlO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLGFBQWE7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDZFQUFzQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsNkVBQXNCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qiw0RUFBdUI7QUFDckQsNEJBQTRCLDJFQUFvQjtBQUNoRDtBQUNBO0FBQ0Esc0VBQXNFLGFBQWE7QUFDbkY7QUFDQTtBQUNBLHdCQUF3QixpRUFBVyxXQUFXLG1DQUFtQztBQUNqRixJQUFJLHdHQUFrQyxlQUFlLDRFQUFzQjtBQUMzRTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0EsRUFBRTtBQUNGO0FBQ0EsMkVBQTJFLGFBQWE7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHFFQUFtQjtBQUNoQztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsaUVBQVcsV0FBVyxtQ0FBbUM7QUFDakYsSUFBSSx3R0FBa0MsZUFBZSw0RUFBc0I7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLFNBQVMsMENBQTBDO0FBQ25ELG9CQUFvQixxRUFBa0Isc0lBQXNJLDBEQUFXO0FBQ3ZMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRixpQkFBaUIsMERBQVc7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7O0FBRUE7QUFDZ047QUFDaE4iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdG9vbHMvaW5kZXguanM/ZDZmNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2V4cG9ydCB9IGZyb20gXCIuLi9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmpzXCI7XG5pbXBvcnQgeyBUb29sTWVzc2FnZSwgaXNEaXJlY3RUb29sT3V0cHV0IH0gZnJvbSBcIi4uL21lc3NhZ2VzL3Rvb2wuanNcIjtcbmltcG9ydCB7IFRvb2xJbnB1dFBhcnNpbmdFeGNlcHRpb24sIF9jb25maWdIYXNUb29sQ2FsbElkLCBfaXNUb29sQ2FsbCB9IGZyb20gXCIuL3V0aWxzLmpzXCI7XG5pbXBvcnQgeyBDYWxsYmFja01hbmFnZXIsIHBhcnNlQ2FsbGJhY2tDb25maWdBcmcgfSBmcm9tIFwiLi4vY2FsbGJhY2tzL21hbmFnZXIuanNcIjtcbmltcG9ydCB7IEFzeW5jTG9jYWxTdG9yYWdlUHJvdmlkZXJTaW5nbGV0b24gfSBmcm9tIFwiLi4vc2luZ2xldG9ucy9hc3luY19sb2NhbF9zdG9yYWdlL2luZGV4LmpzXCI7XG5pbXBvcnQgXCIuLi9zaW5nbGV0b25zL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBlbnN1cmVDb25maWcsIG1lcmdlQ29uZmlncywgcGF0Y2hDb25maWcsIHBpY2tSdW5uYWJsZUNvbmZpZ0tleXMgfSBmcm9tIFwiLi4vcnVubmFibGVzL2NvbmZpZy5qc1wiO1xuaW1wb3J0IHsgZ2V0QWJvcnRTaWduYWxFcnJvciB9IGZyb20gXCIuLi91dGlscy9zaWduYWwuanNcIjtcbmltcG9ydCB7IGludGVyb3BQYXJzZUFzeW5jLCBpc0ludGVyb3Bab2RFcnJvciwgaXNJbnRlcm9wWm9kU2NoZW1hLCBpc1NpbXBsZVN0cmluZ1pvZFNjaGVtYSB9IGZyb20gXCIuLi91dGlscy90eXBlcy96b2QuanNcIjtcbmltcG9ydCB7IHZhbGlkYXRlc09ubHlTdHJpbmdzIH0gZnJvbSBcIi4uL3V0aWxzL2pzb25fc2NoZW1hLmpzXCI7XG5pbXBvcnQgeyBCYXNlTGFuZ0NoYWluIH0gZnJvbSBcIi4uL2xhbmd1YWdlX21vZGVscy9iYXNlLmpzXCI7XG5pbXBvcnQgeyBpc0xhbmdDaGFpblRvb2wsIGlzUnVubmFibGVUb29sTGlrZSwgaXNTdHJ1Y3R1cmVkVG9vbCwgaXNTdHJ1Y3R1cmVkVG9vbFBhcmFtcyB9IGZyb20gXCIuL3R5cGVzLmpzXCI7XG5pbXBvcnQgeyB6IH0gZnJvbSBcInpvZC92M1wiO1xuaW1wb3J0IHsgdmFsaWRhdGUgfSBmcm9tIFwiQGNmd29ya2VyL2pzb24tc2NoZW1hXCI7XG5pbXBvcnQgeyB6IGFzIHokMSB9IGZyb20gXCJ6b2QvdjRcIjtcblxuLy8jcmVnaW9uIHNyYy90b29scy9pbmRleC50c1xudmFyIHRvb2xzX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KHRvb2xzX2V4cG9ydHMsIHtcblx0QmFzZVRvb2xraXQ6ICgpID0+IEJhc2VUb29sa2l0LFxuXHREeW5hbWljU3RydWN0dXJlZFRvb2w6ICgpID0+IER5bmFtaWNTdHJ1Y3R1cmVkVG9vbCxcblx0RHluYW1pY1Rvb2w6ICgpID0+IER5bmFtaWNUb29sLFxuXHRTdHJ1Y3R1cmVkVG9vbDogKCkgPT4gU3RydWN0dXJlZFRvb2wsXG5cdFRvb2w6ICgpID0+IFRvb2wsXG5cdFRvb2xJbnB1dFBhcnNpbmdFeGNlcHRpb246ICgpID0+IFRvb2xJbnB1dFBhcnNpbmdFeGNlcHRpb24sXG5cdGlzTGFuZ0NoYWluVG9vbDogKCkgPT4gaXNMYW5nQ2hhaW5Ub29sLFxuXHRpc1J1bm5hYmxlVG9vbExpa2U6ICgpID0+IGlzUnVubmFibGVUb29sTGlrZSxcblx0aXNTdHJ1Y3R1cmVkVG9vbDogKCkgPT4gaXNTdHJ1Y3R1cmVkVG9vbCxcblx0aXNTdHJ1Y3R1cmVkVG9vbFBhcmFtczogKCkgPT4gaXNTdHJ1Y3R1cmVkVG9vbFBhcmFtcyxcblx0dG9vbDogKCkgPT4gdG9vbFxufSk7XG4vKipcbiogQmFzZSBjbGFzcyBmb3IgVG9vbHMgdGhhdCBhY2NlcHQgaW5wdXQgb2YgYW55IHNoYXBlIGRlZmluZWQgYnkgYSBab2Qgc2NoZW1hLlxuKi9cbnZhciBTdHJ1Y3R1cmVkVG9vbCA9IGNsYXNzIGV4dGVuZHMgQmFzZUxhbmdDaGFpbiB7XG5cdC8qKlxuXHQqIE9wdGlvbmFsIHByb3ZpZGVyLXNwZWNpZmljIGV4dHJhIGZpZWxkcyBmb3IgdGhlIHRvb2wuXG5cdCpcblx0KiBUaGlzIGlzIHVzZWQgdG8gcGFzcyBwcm92aWRlci1zcGVjaWZpYyBjb25maWd1cmF0aW9uIHRoYXQgZG9lc24ndCBmaXQgaW50b1xuXHQqIHN0YW5kYXJkIHRvb2wgZmllbGRzLlxuXHQqL1xuXHRleHRyYXM7XG5cdC8qKlxuXHQqIFdoZXRoZXIgdG8gcmV0dXJuIHRoZSB0b29sJ3Mgb3V0cHV0IGRpcmVjdGx5LlxuXHQqXG5cdCogU2V0dGluZyB0aGlzIHRvIHRydWUgbWVhbnMgdGhhdCBhZnRlciB0aGUgdG9vbCBpcyBjYWxsZWQsXG5cdCogYW4gYWdlbnQgc2hvdWxkIHN0b3AgbG9vcGluZy5cblx0Ki9cblx0cmV0dXJuRGlyZWN0ID0gZmFsc2U7XG5cdHZlcmJvc2VQYXJzaW5nRXJyb3JzID0gZmFsc2U7XG5cdGdldCBsY19uYW1lc3BhY2UoKSB7XG5cdFx0cmV0dXJuIFtcImxhbmdjaGFpblwiLCBcInRvb2xzXCJdO1xuXHR9XG5cdC8qKlxuXHQqIFRoZSB0b29sIHJlc3BvbnNlIGZvcm1hdC5cblx0KlxuXHQqIElmIFwiY29udGVudFwiIHRoZW4gdGhlIG91dHB1dCBvZiB0aGUgdG9vbCBpcyBpbnRlcnByZXRlZCBhcyB0aGUgY29udGVudHMgb2YgYVxuXHQqIFRvb2xNZXNzYWdlLiBJZiBcImNvbnRlbnRfYW5kX2FydGlmYWN0XCIgdGhlbiB0aGUgb3V0cHV0IGlzIGV4cGVjdGVkIHRvIGJlIGFcblx0KiB0d28tdHVwbGUgY29ycmVzcG9uZGluZyB0byB0aGUgKGNvbnRlbnQsIGFydGlmYWN0KSBvZiBhIFRvb2xNZXNzYWdlLlxuXHQqXG5cdCogQGRlZmF1bHQgXCJjb250ZW50XCJcblx0Ki9cblx0cmVzcG9uc2VGb3JtYXQgPSBcImNvbnRlbnRcIjtcblx0LyoqXG5cdCogRGVmYXVsdCBjb25maWcgb2JqZWN0IGZvciB0aGUgdG9vbCBydW5uYWJsZS5cblx0Ki9cblx0ZGVmYXVsdENvbmZpZztcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzID8/IHt9KTtcblx0XHR0aGlzLnZlcmJvc2VQYXJzaW5nRXJyb3JzID0gZmllbGRzPy52ZXJib3NlUGFyc2luZ0Vycm9ycyA/PyB0aGlzLnZlcmJvc2VQYXJzaW5nRXJyb3JzO1xuXHRcdHRoaXMucmVzcG9uc2VGb3JtYXQgPSBmaWVsZHM/LnJlc3BvbnNlRm9ybWF0ID8/IHRoaXMucmVzcG9uc2VGb3JtYXQ7XG5cdFx0dGhpcy5kZWZhdWx0Q29uZmlnID0gZmllbGRzPy5kZWZhdWx0Q29uZmlnID8/IHRoaXMuZGVmYXVsdENvbmZpZztcblx0XHR0aGlzLm1ldGFkYXRhID0gZmllbGRzPy5tZXRhZGF0YSA/PyB0aGlzLm1ldGFkYXRhO1xuXHRcdHRoaXMuZXh0cmFzID0gZmllbGRzPy5leHRyYXMgPz8gdGhpcy5leHRyYXM7XG5cdH1cblx0LyoqXG5cdCogSW52b2tlcyB0aGUgdG9vbCB3aXRoIHRoZSBwcm92aWRlZCBpbnB1dCBhbmQgY29uZmlndXJhdGlvbi5cblx0KiBAcGFyYW0gaW5wdXQgVGhlIGlucHV0IGZvciB0aGUgdG9vbC5cblx0KiBAcGFyYW0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSB0b29sLlxuXHQqIEByZXR1cm5zIEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIHRvb2wncyBvdXRwdXQuXG5cdCovXG5cdGFzeW5jIGludm9rZShpbnB1dCwgY29uZmlnKSB7XG5cdFx0bGV0IHRvb2xJbnB1dDtcblx0XHRsZXQgZW5yaWNoZWRDb25maWcgPSBlbnN1cmVDb25maWcobWVyZ2VDb25maWdzKHRoaXMuZGVmYXVsdENvbmZpZywgY29uZmlnKSk7XG5cdFx0aWYgKF9pc1Rvb2xDYWxsKGlucHV0KSkge1xuXHRcdFx0dG9vbElucHV0ID0gaW5wdXQuYXJncztcblx0XHRcdGVucmljaGVkQ29uZmlnID0ge1xuXHRcdFx0XHQuLi5lbnJpY2hlZENvbmZpZyxcblx0XHRcdFx0dG9vbENhbGw6IGlucHV0XG5cdFx0XHR9O1xuXHRcdH0gZWxzZSB0b29sSW5wdXQgPSBpbnB1dDtcblx0XHRyZXR1cm4gdGhpcy5jYWxsKHRvb2xJbnB1dCwgZW5yaWNoZWRDb25maWcpO1xuXHR9XG5cdC8qKlxuXHQqIEBkZXByZWNhdGVkIFVzZSAuaW52b2tlKCkgaW5zdGVhZC4gV2lsbCBiZSByZW1vdmVkIGluIDAuMy4wLlxuXHQqXG5cdCogQ2FsbHMgdGhlIHRvb2wgd2l0aCB0aGUgcHJvdmlkZWQgYXJndW1lbnQsIGNvbmZpZ3VyYXRpb24sIGFuZCB0YWdzLiBJdFxuXHQqIHBhcnNlcyB0aGUgaW5wdXQgYWNjb3JkaW5nIHRvIHRoZSBzY2hlbWEsIGhhbmRsZXMgYW55IGVycm9ycywgYW5kXG5cdCogbWFuYWdlcyBjYWxsYmFja3MuXG5cdCogQHBhcmFtIGFyZyBUaGUgaW5wdXQgYXJndW1lbnQgZm9yIHRoZSB0b29sLlxuXHQqIEBwYXJhbSBjb25maWdBcmcgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvciBjYWxsYmFja3MgZm9yIHRoZSB0b29sLlxuXHQqIEBwYXJhbSB0YWdzIE9wdGlvbmFsIHRhZ3MgZm9yIHRoZSB0b29sLlxuXHQqIEByZXR1cm5zIEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggYSBzdHJpbmcuXG5cdCovXG5cdGFzeW5jIGNhbGwoYXJnLCBjb25maWdBcmcsIHRhZ3MpIHtcblx0XHRjb25zdCBpbnB1dEZvclZhbGlkYXRpb24gPSBfaXNUb29sQ2FsbChhcmcpID8gYXJnLmFyZ3MgOiBhcmc7XG5cdFx0bGV0IHBhcnNlZDtcblx0XHRpZiAoaXNJbnRlcm9wWm9kU2NoZW1hKHRoaXMuc2NoZW1hKSkgdHJ5IHtcblx0XHRcdHBhcnNlZCA9IGF3YWl0IGludGVyb3BQYXJzZUFzeW5jKHRoaXMuc2NoZW1hLCBpbnB1dEZvclZhbGlkYXRpb24pO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGxldCBtZXNzYWdlID0gYFJlY2VpdmVkIHRvb2wgaW5wdXQgZGlkIG5vdCBtYXRjaCBleHBlY3RlZCBzY2hlbWFgO1xuXHRcdFx0aWYgKHRoaXMudmVyYm9zZVBhcnNpbmdFcnJvcnMpIG1lc3NhZ2UgPSBgJHttZXNzYWdlfVxcbkRldGFpbHM6ICR7ZS5tZXNzYWdlfWA7XG5cdFx0XHRpZiAoaXNJbnRlcm9wWm9kRXJyb3IoZSkpIG1lc3NhZ2UgPSBgJHttZXNzYWdlfVxcblxcbiR7eiQxLnByZXR0aWZ5RXJyb3IoZSl9YDtcblx0XHRcdHRocm93IG5ldyBUb29sSW5wdXRQYXJzaW5nRXhjZXB0aW9uKG1lc3NhZ2UsIEpTT04uc3RyaW5naWZ5KGFyZykpO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdGNvbnN0IHJlc3VsdCQxID0gdmFsaWRhdGUoaW5wdXRGb3JWYWxpZGF0aW9uLCB0aGlzLnNjaGVtYSk7XG5cdFx0XHRpZiAoIXJlc3VsdCQxLnZhbGlkKSB7XG5cdFx0XHRcdGxldCBtZXNzYWdlID0gYFJlY2VpdmVkIHRvb2wgaW5wdXQgZGlkIG5vdCBtYXRjaCBleHBlY3RlZCBzY2hlbWFgO1xuXHRcdFx0XHRpZiAodGhpcy52ZXJib3NlUGFyc2luZ0Vycm9ycykgbWVzc2FnZSA9IGAke21lc3NhZ2V9XFxuRGV0YWlsczogJHtyZXN1bHQkMS5lcnJvcnMubWFwKChlKSA9PiBgJHtlLmtleXdvcmRMb2NhdGlvbn06ICR7ZS5lcnJvcn1gKS5qb2luKFwiXFxuXCIpfWA7XG5cdFx0XHRcdHRocm93IG5ldyBUb29sSW5wdXRQYXJzaW5nRXhjZXB0aW9uKG1lc3NhZ2UsIEpTT04uc3RyaW5naWZ5KGFyZykpO1xuXHRcdFx0fVxuXHRcdFx0cGFyc2VkID0gaW5wdXRGb3JWYWxpZGF0aW9uO1xuXHRcdH1cblx0XHRjb25zdCBjb25maWcgPSBwYXJzZUNhbGxiYWNrQ29uZmlnQXJnKGNvbmZpZ0FyZyk7XG5cdFx0Y29uc3QgY2FsbGJhY2tNYW5hZ2VyXyA9IENhbGxiYWNrTWFuYWdlci5jb25maWd1cmUoY29uZmlnLmNhbGxiYWNrcywgdGhpcy5jYWxsYmFja3MsIGNvbmZpZy50YWdzIHx8IHRhZ3MsIHRoaXMudGFncywgY29uZmlnLm1ldGFkYXRhLCB0aGlzLm1ldGFkYXRhLCB7IHZlcmJvc2U6IHRoaXMudmVyYm9zZSB9KTtcblx0XHRjb25zdCBydW5NYW5hZ2VyID0gYXdhaXQgY2FsbGJhY2tNYW5hZ2VyXz8uaGFuZGxlVG9vbFN0YXJ0KHRoaXMudG9KU09OKCksIHR5cGVvZiBhcmcgPT09IFwic3RyaW5nXCIgPyBhcmcgOiBKU09OLnN0cmluZ2lmeShhcmcpLCBjb25maWcucnVuSWQsIHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGNvbmZpZy5ydW5OYW1lKTtcblx0XHRkZWxldGUgY29uZmlnLnJ1bklkO1xuXHRcdGxldCByZXN1bHQ7XG5cdFx0dHJ5IHtcblx0XHRcdHJlc3VsdCA9IGF3YWl0IHRoaXMuX2NhbGwocGFyc2VkLCBydW5NYW5hZ2VyLCBjb25maWcpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZVRvb2xFcnJvcihlKTtcblx0XHRcdHRocm93IGU7XG5cdFx0fVxuXHRcdGxldCBjb250ZW50O1xuXHRcdGxldCBhcnRpZmFjdDtcblx0XHRpZiAodGhpcy5yZXNwb25zZUZvcm1hdCA9PT0gXCJjb250ZW50X2FuZF9hcnRpZmFjdFwiKSBpZiAoQXJyYXkuaXNBcnJheShyZXN1bHQpICYmIHJlc3VsdC5sZW5ndGggPT09IDIpIFtjb250ZW50LCBhcnRpZmFjdF0gPSByZXN1bHQ7XG5cdFx0ZWxzZSB0aHJvdyBuZXcgRXJyb3IoYFRvb2wgcmVzcG9uc2UgZm9ybWF0IGlzIFwiY29udGVudF9hbmRfYXJ0aWZhY3RcIiBidXQgdGhlIG91dHB1dCB3YXMgbm90IGEgdHdvLXR1cGxlLlxcblJlc3VsdDogJHtKU09OLnN0cmluZ2lmeShyZXN1bHQpfWApO1xuXHRcdGVsc2UgY29udGVudCA9IHJlc3VsdDtcblx0XHRsZXQgdG9vbENhbGxJZDtcblx0XHRpZiAoX2lzVG9vbENhbGwoYXJnKSkgdG9vbENhbGxJZCA9IGFyZy5pZDtcblx0XHRpZiAoIXRvb2xDYWxsSWQgJiYgX2NvbmZpZ0hhc1Rvb2xDYWxsSWQoY29uZmlnKSkgdG9vbENhbGxJZCA9IGNvbmZpZy50b29sQ2FsbC5pZDtcblx0XHRjb25zdCBmb3JtYXR0ZWRPdXRwdXQgPSBfZm9ybWF0VG9vbE91dHB1dCh7XG5cdFx0XHRjb250ZW50LFxuXHRcdFx0YXJ0aWZhY3QsXG5cdFx0XHR0b29sQ2FsbElkLFxuXHRcdFx0bmFtZTogdGhpcy5uYW1lLFxuXHRcdFx0bWV0YWRhdGE6IHRoaXMubWV0YWRhdGFcblx0XHR9KTtcblx0XHRhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVUb29sRW5kKGZvcm1hdHRlZE91dHB1dCk7XG5cdFx0cmV0dXJuIGZvcm1hdHRlZE91dHB1dDtcblx0fVxufTtcbi8qKlxuKiBCYXNlIGNsYXNzIGZvciBUb29scyB0aGF0IGFjY2VwdCBpbnB1dCBhcyBhIHN0cmluZy5cbiovXG52YXIgVG9vbCA9IGNsYXNzIGV4dGVuZHMgU3RydWN0dXJlZFRvb2wge1xuXHRzY2hlbWEgPSB6Lm9iamVjdCh7IGlucHV0OiB6LnN0cmluZygpLm9wdGlvbmFsKCkgfSkudHJhbnNmb3JtKChvYmopID0+IG9iai5pbnB1dCk7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdHN1cGVyKGZpZWxkcyk7XG5cdH1cblx0LyoqXG5cdCogQGRlcHJlY2F0ZWQgVXNlIC5pbnZva2UoKSBpbnN0ZWFkLiBXaWxsIGJlIHJlbW92ZWQgaW4gMC4zLjAuXG5cdCpcblx0KiBDYWxscyB0aGUgdG9vbCB3aXRoIHRoZSBwcm92aWRlZCBhcmd1bWVudCBhbmQgY2FsbGJhY2tzLiBJdCBoYW5kbGVzXG5cdCogc3RyaW5nIGlucHV0cyBzcGVjaWZpY2FsbHkuXG5cdCogQHBhcmFtIGFyZyBUaGUgaW5wdXQgYXJndW1lbnQgZm9yIHRoZSB0b29sLCB3aGljaCBjYW4gYmUgYSBzdHJpbmcsIHVuZGVmaW5lZCwgb3IgYW4gaW5wdXQgb2YgdGhlIHRvb2wncyBzY2hlbWEuXG5cdCogQHBhcmFtIGNhbGxiYWNrcyBPcHRpb25hbCBjYWxsYmFja3MgZm9yIHRoZSB0b29sLlxuXHQqIEByZXR1cm5zIEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggYSBzdHJpbmcuXG5cdCovXG5cdGNhbGwoYXJnLCBjYWxsYmFja3MpIHtcblx0XHRjb25zdCBzdHJ1Y3R1cmVkQXJnID0gdHlwZW9mIGFyZyA9PT0gXCJzdHJpbmdcIiB8fCBhcmcgPT0gbnVsbCA/IHsgaW5wdXQ6IGFyZyB9IDogYXJnO1xuXHRcdHJldHVybiBzdXBlci5jYWxsKHN0cnVjdHVyZWRBcmcsIGNhbGxiYWNrcyk7XG5cdH1cbn07XG4vKipcbiogQSB0b29sIHRoYXQgY2FuIGJlIGNyZWF0ZWQgZHluYW1pY2FsbHkgZnJvbSBhIGZ1bmN0aW9uLCBuYW1lLCBhbmQgZGVzY3JpcHRpb24uXG4qL1xudmFyIER5bmFtaWNUb29sID0gY2xhc3MgZXh0ZW5kcyBUb29sIHtcblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiRHluYW1pY1Rvb2xcIjtcblx0fVxuXHRuYW1lO1xuXHRkZXNjcmlwdGlvbjtcblx0ZnVuYztcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLm5hbWUgPSBmaWVsZHMubmFtZTtcblx0XHR0aGlzLmRlc2NyaXB0aW9uID0gZmllbGRzLmRlc2NyaXB0aW9uO1xuXHRcdHRoaXMuZnVuYyA9IGZpZWxkcy5mdW5jO1xuXHRcdHRoaXMucmV0dXJuRGlyZWN0ID0gZmllbGRzLnJldHVybkRpcmVjdCA/PyB0aGlzLnJldHVybkRpcmVjdDtcblx0fVxuXHQvKipcblx0KiBAZGVwcmVjYXRlZCBVc2UgLmludm9rZSgpIGluc3RlYWQuIFdpbGwgYmUgcmVtb3ZlZCBpbiAwLjMuMC5cblx0Ki9cblx0YXN5bmMgY2FsbChhcmcsIGNvbmZpZ0FyZykge1xuXHRcdGNvbnN0IGNvbmZpZyA9IHBhcnNlQ2FsbGJhY2tDb25maWdBcmcoY29uZmlnQXJnKTtcblx0XHRpZiAoY29uZmlnLnJ1bk5hbWUgPT09IHZvaWQgMCkgY29uZmlnLnJ1bk5hbWUgPSB0aGlzLm5hbWU7XG5cdFx0cmV0dXJuIHN1cGVyLmNhbGwoYXJnLCBjb25maWcpO1xuXHR9XG5cdC8qKiBAaWdub3JlICovXG5cdGFzeW5jIF9jYWxsKGlucHV0LCBydW5NYW5hZ2VyLCBwYXJlbnRDb25maWcpIHtcblx0XHRyZXR1cm4gdGhpcy5mdW5jKGlucHV0LCBydW5NYW5hZ2VyLCBwYXJlbnRDb25maWcpO1xuXHR9XG59O1xuLyoqXG4qIEEgdG9vbCB0aGF0IGNhbiBiZSBjcmVhdGVkIGR5bmFtaWNhbGx5IGZyb20gYSBmdW5jdGlvbiwgbmFtZSwgYW5kXG4qIGRlc2NyaXB0aW9uLCBkZXNpZ25lZCB0byB3b3JrIHdpdGggc3RydWN0dXJlZCBkYXRhLiBJdCBleHRlbmRzIHRoZVxuKiBTdHJ1Y3R1cmVkVG9vbCBjbGFzcyBhbmQgb3ZlcnJpZGVzIHRoZSBfY2FsbCBtZXRob2QgdG8gZXhlY3V0ZSB0aGVcbiogcHJvdmlkZWQgZnVuY3Rpb24gd2hlbiB0aGUgdG9vbCBpcyBjYWxsZWQuXG4qXG4qIFNjaGVtYSBjYW4gYmUgcGFzc2VkIGFzIFpvZCBvciBKU09OIHNjaGVtYS4gVGhlIHRvb2wgd2lsbCBub3QgdmFsaWRhdGVcbiogaW5wdXQgaWYgSlNPTiBzY2hlbWEgaXMgcGFzc2VkLlxuKlxuKiBAdGVtcGxhdGUgU2NoZW1hVCBUaGUgaW5wdXQgc2NoZW1hIHR5cGUgZm9yIHRoZSB0b29sIChab2Qgc2NoZW1hIG9yIEpTT04gc2NoZW1hKS4gRGVmYXVsdHMgdG8gYFRvb2xJbnB1dFNjaGVtYUJhc2VgLlxuKiBAdGVtcGxhdGUgU2NoZW1hT3V0cHV0VCBUaGUgb3V0cHV0IHR5cGUgZGVyaXZlZCBmcm9tIHRoZSBzY2hlbWEgYWZ0ZXIgcGFyc2luZy92YWxpZGF0aW9uLiBEZWZhdWx0cyB0byBgVG9vbElucHV0U2NoZW1hT3V0cHV0VHlwZTxTY2hlbWFUPmAuXG4qIEB0ZW1wbGF0ZSBTY2hlbWFJbnB1dFQgVGhlIGlucHV0IHR5cGUgZGVyaXZlZCBmcm9tIHRoZSBzY2hlbWEgYmVmb3JlIHBhcnNpbmcuIERlZmF1bHRzIHRvIGBUb29sSW5wdXRTY2hlbWFJbnB1dFR5cGU8U2NoZW1hVD5gLlxuKiBAdGVtcGxhdGUgVG9vbE91dHB1dFQgVGhlIHJldHVybiB0eXBlIG9mIHRoZSB0b29sJ3MgZnVuY3Rpb24uIERlZmF1bHRzIHRvIGBUb29sT3V0cHV0VHlwZWAuXG4qIEB0ZW1wbGF0ZSBOYW1lVCBUaGUgbGl0ZXJhbCB0eXBlIG9mIHRoZSB0b29sIG5hbWUgKGZvciBkaXNjcmltaW5hdGVkIHVuaW9uIHN1cHBvcnQpLiBEZWZhdWx0cyB0byBgc3RyaW5nYC5cbiovXG52YXIgRHluYW1pY1N0cnVjdHVyZWRUb29sID0gY2xhc3MgZXh0ZW5kcyBTdHJ1Y3R1cmVkVG9vbCB7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIkR5bmFtaWNTdHJ1Y3R1cmVkVG9vbFwiO1xuXHR9XG5cdGRlc2NyaXB0aW9uO1xuXHRmdW5jO1xuXHRzY2hlbWE7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdHN1cGVyKGZpZWxkcyk7XG5cdFx0dGhpcy5uYW1lID0gZmllbGRzLm5hbWU7XG5cdFx0dGhpcy5kZXNjcmlwdGlvbiA9IGZpZWxkcy5kZXNjcmlwdGlvbjtcblx0XHR0aGlzLmZ1bmMgPSBmaWVsZHMuZnVuYztcblx0XHR0aGlzLnJldHVybkRpcmVjdCA9IGZpZWxkcy5yZXR1cm5EaXJlY3QgPz8gdGhpcy5yZXR1cm5EaXJlY3Q7XG5cdFx0dGhpcy5zY2hlbWEgPSBmaWVsZHMuc2NoZW1hO1xuXHR9XG5cdC8qKlxuXHQqIEBkZXByZWNhdGVkIFVzZSAuaW52b2tlKCkgaW5zdGVhZC4gV2lsbCBiZSByZW1vdmVkIGluIDAuMy4wLlxuXHQqL1xuXHRhc3luYyBjYWxsKGFyZywgY29uZmlnQXJnLCB0YWdzKSB7XG5cdFx0Y29uc3QgY29uZmlnID0gcGFyc2VDYWxsYmFja0NvbmZpZ0FyZyhjb25maWdBcmcpO1xuXHRcdGlmIChjb25maWcucnVuTmFtZSA9PT0gdm9pZCAwKSBjb25maWcucnVuTmFtZSA9IHRoaXMubmFtZTtcblx0XHRyZXR1cm4gc3VwZXIuY2FsbChhcmcsIGNvbmZpZywgdGFncyk7XG5cdH1cblx0X2NhbGwoYXJnLCBydW5NYW5hZ2VyLCBwYXJlbnRDb25maWcpIHtcblx0XHRyZXR1cm4gdGhpcy5mdW5jKGFyZywgcnVuTWFuYWdlciwgcGFyZW50Q29uZmlnKTtcblx0fVxufTtcbi8qKlxuKiBBYnN0cmFjdCBiYXNlIGNsYXNzIGZvciB0b29sa2l0cyBpbiBMYW5nQ2hhaW4uIFRvb2xraXRzIGFyZSBjb2xsZWN0aW9uc1xuKiBvZiB0b29scyB0aGF0IGFnZW50cyBjYW4gdXNlLiBTdWJjbGFzc2VzIG11c3QgaW1wbGVtZW50IHRoZSBgdG9vbHNgXG4qIHByb3BlcnR5IHRvIHByb3ZpZGUgdGhlIHNwZWNpZmljIHRvb2xzIGZvciB0aGUgdG9vbGtpdC5cbiovXG52YXIgQmFzZVRvb2xraXQgPSBjbGFzcyB7XG5cdGdldFRvb2xzKCkge1xuXHRcdHJldHVybiB0aGlzLnRvb2xzO1xuXHR9XG59O1xuZnVuY3Rpb24gdG9vbChmdW5jLCBmaWVsZHMpIHtcblx0Y29uc3QgaXNTaW1wbGVTdHJpbmdTY2hlbWEgPSBpc1NpbXBsZVN0cmluZ1pvZFNjaGVtYShmaWVsZHMuc2NoZW1hKTtcblx0Y29uc3QgaXNTdHJpbmdKU09OU2NoZW1hID0gdmFsaWRhdGVzT25seVN0cmluZ3MoZmllbGRzLnNjaGVtYSk7XG5cdGlmICghZmllbGRzLnNjaGVtYSB8fCBpc1NpbXBsZVN0cmluZ1NjaGVtYSB8fCBpc1N0cmluZ0pTT05TY2hlbWEpIHJldHVybiBuZXcgRHluYW1pY1Rvb2woe1xuXHRcdC4uLmZpZWxkcyxcblx0XHRkZXNjcmlwdGlvbjogZmllbGRzLmRlc2NyaXB0aW9uID8/IGZpZWxkcy5zY2hlbWE/LmRlc2NyaXB0aW9uID8/IGAke2ZpZWxkcy5uYW1lfSB0b29sYCxcblx0XHRmdW5jOiBhc3luYyAoaW5wdXQsIHJ1bk1hbmFnZXIsIGNvbmZpZykgPT4ge1xuXHRcdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdFx0Y29uc3QgY2hpbGRDb25maWcgPSBwYXRjaENvbmZpZyhjb25maWcsIHsgY2FsbGJhY2tzOiBydW5NYW5hZ2VyPy5nZXRDaGlsZCgpIH0pO1xuXHRcdFx0XHRBc3luY0xvY2FsU3RvcmFnZVByb3ZpZGVyU2luZ2xldG9uLnJ1bldpdGhDb25maWcocGlja1J1bm5hYmxlQ29uZmlnS2V5cyhjaGlsZENvbmZpZyksIGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0cmVzb2x2ZShmdW5jKGlucHV0LCBjaGlsZENvbmZpZykpO1xuXHRcdFx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0XHRcdHJlamVjdChlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9KTtcblx0Y29uc3Qgc2NoZW1hID0gZmllbGRzLnNjaGVtYTtcblx0Y29uc3QgZGVzY3JpcHRpb24gPSBmaWVsZHMuZGVzY3JpcHRpb24gPz8gZmllbGRzLnNjaGVtYS5kZXNjcmlwdGlvbiA/PyBgJHtmaWVsZHMubmFtZX0gdG9vbGA7XG5cdHJldHVybiBuZXcgRHluYW1pY1N0cnVjdHVyZWRUb29sKHtcblx0XHQuLi5maWVsZHMsXG5cdFx0ZGVzY3JpcHRpb24sXG5cdFx0c2NoZW1hLFxuXHRcdGZ1bmM6IGFzeW5jIChpbnB1dCwgcnVuTWFuYWdlciwgY29uZmlnKSA9PiB7XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRsZXQgbGlzdGVuZXI7XG5cdFx0XHRcdGNvbnN0IGNsZWFudXAgPSAoKSA9PiB7XG5cdFx0XHRcdFx0aWYgKGNvbmZpZz8uc2lnbmFsICYmIGxpc3RlbmVyKSBjb25maWcuc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBsaXN0ZW5lcik7XG5cdFx0XHRcdH07XG5cdFx0XHRcdGlmIChjb25maWc/LnNpZ25hbCkge1xuXHRcdFx0XHRcdGxpc3RlbmVyID0gKCkgPT4ge1xuXHRcdFx0XHRcdFx0Y2xlYW51cCgpO1xuXHRcdFx0XHRcdFx0cmVqZWN0KGdldEFib3J0U2lnbmFsRXJyb3IoY29uZmlnLnNpZ25hbCkpO1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0Y29uZmlnLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgbGlzdGVuZXIpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnN0IGNoaWxkQ29uZmlnID0gcGF0Y2hDb25maWcoY29uZmlnLCB7IGNhbGxiYWNrczogcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoKSB9KTtcblx0XHRcdFx0QXN5bmNMb2NhbFN0b3JhZ2VQcm92aWRlclNpbmdsZXRvbi5ydW5XaXRoQ29uZmlnKHBpY2tSdW5uYWJsZUNvbmZpZ0tleXMoY2hpbGRDb25maWcpLCBhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IGZ1bmMoaW5wdXQsIGNoaWxkQ29uZmlnKTtcblx0XHRcdFx0XHRcdC8qKlxuXHRcdFx0XHRcdFx0KiBJZiB0aGUgc2lnbmFsIGlzIGFib3J0ZWQsIHdlIGRvbid0IHdhbnQgdG8gcmVzb2x2ZSB0aGUgcHJvbWlzZVxuXHRcdFx0XHRcdFx0KiBhcyB0aGUgcHJvbWlzZSBpcyBhbHJlYWR5IHJlamVjdGVkLlxuXHRcdFx0XHRcdFx0Ki9cblx0XHRcdFx0XHRcdGlmIChjb25maWc/LnNpZ25hbD8uYWJvcnRlZCkge1xuXHRcdFx0XHRcdFx0XHRjbGVhbnVwKCk7XG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGNsZWFudXAoKTtcblx0XHRcdFx0XHRcdHJlc29sdmUocmVzdWx0KTtcblx0XHRcdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdFx0XHRjbGVhbnVwKCk7XG5cdFx0XHRcdFx0XHRyZWplY3QoZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fSk7XG59XG5mdW5jdGlvbiBfZm9ybWF0VG9vbE91dHB1dChwYXJhbXMpIHtcblx0Y29uc3QgeyBjb250ZW50LCBhcnRpZmFjdCwgdG9vbENhbGxJZCwgbWV0YWRhdGEgfSA9IHBhcmFtcztcblx0aWYgKHRvb2xDYWxsSWQgJiYgIWlzRGlyZWN0VG9vbE91dHB1dChjb250ZW50KSkgaWYgKHR5cGVvZiBjb250ZW50ID09PSBcInN0cmluZ1wiIHx8IEFycmF5LmlzQXJyYXkoY29udGVudCkgJiYgY29udGVudC5ldmVyeSgoaXRlbSkgPT4gdHlwZW9mIGl0ZW0gPT09IFwib2JqZWN0XCIpKSByZXR1cm4gbmV3IFRvb2xNZXNzYWdlKHtcblx0XHRzdGF0dXM6IFwic3VjY2Vzc1wiLFxuXHRcdGNvbnRlbnQsXG5cdFx0YXJ0aWZhY3QsXG5cdFx0dG9vbF9jYWxsX2lkOiB0b29sQ2FsbElkLFxuXHRcdG5hbWU6IHBhcmFtcy5uYW1lLFxuXHRcdG1ldGFkYXRhXG5cdH0pO1xuXHRlbHNlIHJldHVybiBuZXcgVG9vbE1lc3NhZ2Uoe1xuXHRcdHN0YXR1czogXCJzdWNjZXNzXCIsXG5cdFx0Y29udGVudDogX3N0cmluZ2lmeShjb250ZW50KSxcblx0XHRhcnRpZmFjdCxcblx0XHR0b29sX2NhbGxfaWQ6IHRvb2xDYWxsSWQsXG5cdFx0bmFtZTogcGFyYW1zLm5hbWUsXG5cdFx0bWV0YWRhdGFcblx0fSk7XG5cdGVsc2UgcmV0dXJuIGNvbnRlbnQ7XG59XG5mdW5jdGlvbiBfc3RyaW5naWZ5KGNvbnRlbnQpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkoY29udGVudCkgPz8gXCJcIjtcblx0fSBjYXRjaCAoX25vT3ApIHtcblx0XHRyZXR1cm4gYCR7Y29udGVudH1gO1xuXHR9XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQmFzZVRvb2xraXQsIER5bmFtaWNTdHJ1Y3R1cmVkVG9vbCwgRHluYW1pY1Rvb2wsIFN0cnVjdHVyZWRUb29sLCBUb29sLCBUb29sSW5wdXRQYXJzaW5nRXhjZXB0aW9uLCBpc0xhbmdDaGFpblRvb2wsIGlzUnVubmFibGVUb29sTGlrZSwgaXNTdHJ1Y3R1cmVkVG9vbCwgaXNTdHJ1Y3R1cmVkVG9vbFBhcmFtcywgdG9vbCwgdG9vbHNfZXhwb3J0cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tools/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tools/types.js":
/*!*****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tools/types.js ***!
  \*****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isLangChainTool: () => (/* binding */ isLangChainTool),\n/* harmony export */   isRunnableToolLike: () => (/* binding */ isRunnableToolLike),\n/* harmony export */   isStructuredTool: () => (/* binding */ isStructuredTool),\n/* harmony export */   isStructuredToolParams: () => (/* binding */ isStructuredToolParams)\n/* harmony export */ });\n/* harmony import */ var _utils_types_zod_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/types/zod.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/types/zod.js\");\n/* harmony import */ var _runnables_base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../runnables/base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/base.js\");\n\n\n\n//#region src/tools/types.ts\n/**\n* Confirm whether the inputted tool is an instance of `StructuredToolInterface`.\n*\n* @param {StructuredToolInterface | JSONSchema | undefined} tool The tool to check if it is an instance of `StructuredToolInterface`.\n* @returns {tool is StructuredToolInterface} Whether the inputted tool is an instance of `StructuredToolInterface`.\n*/\nfunction isStructuredTool(tool) {\n\treturn tool !== void 0 && Array.isArray(tool.lc_namespace);\n}\n/**\n* Confirm whether the inputted tool is an instance of `RunnableToolLike`.\n*\n* @param {unknown | undefined} tool The tool to check if it is an instance of `RunnableToolLike`.\n* @returns {tool is RunnableToolLike} Whether the inputted tool is an instance of `RunnableToolLike`.\n*/\nfunction isRunnableToolLike(tool) {\n\treturn tool !== void 0 && _runnables_base_js__WEBPACK_IMPORTED_MODULE_1__.Runnable.isRunnable(tool) && \"lc_name\" in tool.constructor && typeof tool.constructor.lc_name === \"function\" && tool.constructor.lc_name() === \"RunnableToolLike\";\n}\n/**\n* Confirm whether or not the tool contains the necessary properties to be considered a `StructuredToolParams`.\n*\n* @param {unknown | undefined} tool The object to check if it is a `StructuredToolParams`.\n* @returns {tool is StructuredToolParams} Whether the inputted object is a `StructuredToolParams`.\n*/\nfunction isStructuredToolParams(tool) {\n\treturn !!tool && typeof tool === \"object\" && \"name\" in tool && \"schema\" in tool && ((0,_utils_types_zod_js__WEBPACK_IMPORTED_MODULE_0__.isInteropZodSchema)(tool.schema) || tool.schema != null && typeof tool.schema === \"object\" && \"type\" in tool.schema && typeof tool.schema.type === \"string\" && [\n\t\t\"null\",\n\t\t\"boolean\",\n\t\t\"object\",\n\t\t\"array\",\n\t\t\"number\",\n\t\t\"string\"\n\t].includes(tool.schema.type));\n}\n/**\n* Whether or not the tool is one of StructuredTool, RunnableTool or StructuredToolParams.\n* It returns `is StructuredToolParams` since that is the most minimal interface of the three,\n* while still containing the necessary properties to be passed to a LLM for tool calling.\n*\n* @param {unknown | undefined} tool The tool to check if it is a LangChain tool.\n* @returns {tool is StructuredToolParams} Whether the inputted tool is a LangChain tool.\n*/\nfunction isLangChainTool(tool) {\n\treturn isStructuredToolParams(tool) || isRunnableToolLike(tool) || isStructuredTool(tool);\n}\n\n//#endregion\n\n//# sourceMappingURL=types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3Rvb2xzL3R5cGVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUEyRDtBQUNYOztBQUVoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsa0RBQWtEO0FBQzVELFlBQVksaUNBQWlDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxxQkFBcUI7QUFDL0IsWUFBWSwwQkFBMEI7QUFDdEM7QUFDQTtBQUNBLDJCQUEyQix3REFBUTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUscUJBQXFCO0FBQy9CLFlBQVksOEJBQThCO0FBQzFDO0FBQ0E7QUFDQSxxRkFBcUYsdUVBQWtCO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxxQkFBcUI7QUFDL0IsWUFBWSw4QkFBOEI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDeUY7QUFDekYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdG9vbHMvdHlwZXMuanM/ZmM1YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0ludGVyb3Bab2RTY2hlbWEgfSBmcm9tIFwiLi4vdXRpbHMvdHlwZXMvem9kLmpzXCI7XG5pbXBvcnQgeyBSdW5uYWJsZSB9IGZyb20gXCIuLi9ydW5uYWJsZXMvYmFzZS5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3Rvb2xzL3R5cGVzLnRzXG4vKipcbiogQ29uZmlybSB3aGV0aGVyIHRoZSBpbnB1dHRlZCB0b29sIGlzIGFuIGluc3RhbmNlIG9mIGBTdHJ1Y3R1cmVkVG9vbEludGVyZmFjZWAuXG4qXG4qIEBwYXJhbSB7U3RydWN0dXJlZFRvb2xJbnRlcmZhY2UgfCBKU09OU2NoZW1hIHwgdW5kZWZpbmVkfSB0b29sIFRoZSB0b29sIHRvIGNoZWNrIGlmIGl0IGlzIGFuIGluc3RhbmNlIG9mIGBTdHJ1Y3R1cmVkVG9vbEludGVyZmFjZWAuXG4qIEByZXR1cm5zIHt0b29sIGlzIFN0cnVjdHVyZWRUb29sSW50ZXJmYWNlfSBXaGV0aGVyIHRoZSBpbnB1dHRlZCB0b29sIGlzIGFuIGluc3RhbmNlIG9mIGBTdHJ1Y3R1cmVkVG9vbEludGVyZmFjZWAuXG4qL1xuZnVuY3Rpb24gaXNTdHJ1Y3R1cmVkVG9vbCh0b29sKSB7XG5cdHJldHVybiB0b29sICE9PSB2b2lkIDAgJiYgQXJyYXkuaXNBcnJheSh0b29sLmxjX25hbWVzcGFjZSk7XG59XG4vKipcbiogQ29uZmlybSB3aGV0aGVyIHRoZSBpbnB1dHRlZCB0b29sIGlzIGFuIGluc3RhbmNlIG9mIGBSdW5uYWJsZVRvb2xMaWtlYC5cbipcbiogQHBhcmFtIHt1bmtub3duIHwgdW5kZWZpbmVkfSB0b29sIFRoZSB0b29sIHRvIGNoZWNrIGlmIGl0IGlzIGFuIGluc3RhbmNlIG9mIGBSdW5uYWJsZVRvb2xMaWtlYC5cbiogQHJldHVybnMge3Rvb2wgaXMgUnVubmFibGVUb29sTGlrZX0gV2hldGhlciB0aGUgaW5wdXR0ZWQgdG9vbCBpcyBhbiBpbnN0YW5jZSBvZiBgUnVubmFibGVUb29sTGlrZWAuXG4qL1xuZnVuY3Rpb24gaXNSdW5uYWJsZVRvb2xMaWtlKHRvb2wpIHtcblx0cmV0dXJuIHRvb2wgIT09IHZvaWQgMCAmJiBSdW5uYWJsZS5pc1J1bm5hYmxlKHRvb2wpICYmIFwibGNfbmFtZVwiIGluIHRvb2wuY29uc3RydWN0b3IgJiYgdHlwZW9mIHRvb2wuY29uc3RydWN0b3IubGNfbmFtZSA9PT0gXCJmdW5jdGlvblwiICYmIHRvb2wuY29uc3RydWN0b3IubGNfbmFtZSgpID09PSBcIlJ1bm5hYmxlVG9vbExpa2VcIjtcbn1cbi8qKlxuKiBDb25maXJtIHdoZXRoZXIgb3Igbm90IHRoZSB0b29sIGNvbnRhaW5zIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllcyB0byBiZSBjb25zaWRlcmVkIGEgYFN0cnVjdHVyZWRUb29sUGFyYW1zYC5cbipcbiogQHBhcmFtIHt1bmtub3duIHwgdW5kZWZpbmVkfSB0b29sIFRoZSBvYmplY3QgdG8gY2hlY2sgaWYgaXQgaXMgYSBgU3RydWN0dXJlZFRvb2xQYXJhbXNgLlxuKiBAcmV0dXJucyB7dG9vbCBpcyBTdHJ1Y3R1cmVkVG9vbFBhcmFtc30gV2hldGhlciB0aGUgaW5wdXR0ZWQgb2JqZWN0IGlzIGEgYFN0cnVjdHVyZWRUb29sUGFyYW1zYC5cbiovXG5mdW5jdGlvbiBpc1N0cnVjdHVyZWRUb29sUGFyYW1zKHRvb2wpIHtcblx0cmV0dXJuICEhdG9vbCAmJiB0eXBlb2YgdG9vbCA9PT0gXCJvYmplY3RcIiAmJiBcIm5hbWVcIiBpbiB0b29sICYmIFwic2NoZW1hXCIgaW4gdG9vbCAmJiAoaXNJbnRlcm9wWm9kU2NoZW1hKHRvb2wuc2NoZW1hKSB8fCB0b29sLnNjaGVtYSAhPSBudWxsICYmIHR5cGVvZiB0b29sLnNjaGVtYSA9PT0gXCJvYmplY3RcIiAmJiBcInR5cGVcIiBpbiB0b29sLnNjaGVtYSAmJiB0eXBlb2YgdG9vbC5zY2hlbWEudHlwZSA9PT0gXCJzdHJpbmdcIiAmJiBbXG5cdFx0XCJudWxsXCIsXG5cdFx0XCJib29sZWFuXCIsXG5cdFx0XCJvYmplY3RcIixcblx0XHRcImFycmF5XCIsXG5cdFx0XCJudW1iZXJcIixcblx0XHRcInN0cmluZ1wiXG5cdF0uaW5jbHVkZXModG9vbC5zY2hlbWEudHlwZSkpO1xufVxuLyoqXG4qIFdoZXRoZXIgb3Igbm90IHRoZSB0b29sIGlzIG9uZSBvZiBTdHJ1Y3R1cmVkVG9vbCwgUnVubmFibGVUb29sIG9yIFN0cnVjdHVyZWRUb29sUGFyYW1zLlxuKiBJdCByZXR1cm5zIGBpcyBTdHJ1Y3R1cmVkVG9vbFBhcmFtc2Agc2luY2UgdGhhdCBpcyB0aGUgbW9zdCBtaW5pbWFsIGludGVyZmFjZSBvZiB0aGUgdGhyZWUsXG4qIHdoaWxlIHN0aWxsIGNvbnRhaW5pbmcgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzIHRvIGJlIHBhc3NlZCB0byBhIExMTSBmb3IgdG9vbCBjYWxsaW5nLlxuKlxuKiBAcGFyYW0ge3Vua25vd24gfCB1bmRlZmluZWR9IHRvb2wgVGhlIHRvb2wgdG8gY2hlY2sgaWYgaXQgaXMgYSBMYW5nQ2hhaW4gdG9vbC5cbiogQHJldHVybnMge3Rvb2wgaXMgU3RydWN0dXJlZFRvb2xQYXJhbXN9IFdoZXRoZXIgdGhlIGlucHV0dGVkIHRvb2wgaXMgYSBMYW5nQ2hhaW4gdG9vbC5cbiovXG5mdW5jdGlvbiBpc0xhbmdDaGFpblRvb2wodG9vbCkge1xuXHRyZXR1cm4gaXNTdHJ1Y3R1cmVkVG9vbFBhcmFtcyh0b29sKSB8fCBpc1J1bm5hYmxlVG9vbExpa2UodG9vbCkgfHwgaXNTdHJ1Y3R1cmVkVG9vbCh0b29sKTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBpc0xhbmdDaGFpblRvb2wsIGlzUnVubmFibGVUb29sTGlrZSwgaXNTdHJ1Y3R1cmVkVG9vbCwgaXNTdHJ1Y3R1cmVkVG9vbFBhcmFtcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHlwZXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tools/types.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tools/utils.js":
/*!*****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tools/utils.js ***!
  \*****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ToolInputParsingException: () => (/* binding */ ToolInputParsingException),\n/* harmony export */   _configHasToolCallId: () => (/* binding */ _configHasToolCallId),\n/* harmony export */   _isToolCall: () => (/* binding */ _isToolCall)\n/* harmony export */ });\n//#region src/tools/utils.ts\nfunction _isToolCall(toolCall) {\n\treturn !!(toolCall && typeof toolCall === \"object\" && \"type\" in toolCall && toolCall.type === \"tool_call\");\n}\nfunction _configHasToolCallId(config) {\n\treturn !!(config && typeof config === \"object\" && \"toolCall\" in config && config.toolCall != null && typeof config.toolCall === \"object\" && \"id\" in config.toolCall && typeof config.toolCall.id === \"string\");\n}\n/**\n* Custom error class used to handle exceptions related to tool input parsing.\n* It extends the built-in `Error` class and adds an optional `output`\n* property that can hold the output that caused the exception.\n*/\nvar ToolInputParsingException = class extends Error {\n\toutput;\n\tconstructor(message, output) {\n\t\tsuper(message);\n\t\tthis.output = output;\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3Rvb2xzL3V0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3dFO0FBQ3hFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3Rvb2xzL3V0aWxzLmpzP2UwMDciXSwic291cmNlc0NvbnRlbnQiOlsiLy8jcmVnaW9uIHNyYy90b29scy91dGlscy50c1xuZnVuY3Rpb24gX2lzVG9vbENhbGwodG9vbENhbGwpIHtcblx0cmV0dXJuICEhKHRvb2xDYWxsICYmIHR5cGVvZiB0b29sQ2FsbCA9PT0gXCJvYmplY3RcIiAmJiBcInR5cGVcIiBpbiB0b29sQ2FsbCAmJiB0b29sQ2FsbC50eXBlID09PSBcInRvb2xfY2FsbFwiKTtcbn1cbmZ1bmN0aW9uIF9jb25maWdIYXNUb29sQ2FsbElkKGNvbmZpZykge1xuXHRyZXR1cm4gISEoY29uZmlnICYmIHR5cGVvZiBjb25maWcgPT09IFwib2JqZWN0XCIgJiYgXCJ0b29sQ2FsbFwiIGluIGNvbmZpZyAmJiBjb25maWcudG9vbENhbGwgIT0gbnVsbCAmJiB0eXBlb2YgY29uZmlnLnRvb2xDYWxsID09PSBcIm9iamVjdFwiICYmIFwiaWRcIiBpbiBjb25maWcudG9vbENhbGwgJiYgdHlwZW9mIGNvbmZpZy50b29sQ2FsbC5pZCA9PT0gXCJzdHJpbmdcIik7XG59XG4vKipcbiogQ3VzdG9tIGVycm9yIGNsYXNzIHVzZWQgdG8gaGFuZGxlIGV4Y2VwdGlvbnMgcmVsYXRlZCB0byB0b29sIGlucHV0IHBhcnNpbmcuXG4qIEl0IGV4dGVuZHMgdGhlIGJ1aWx0LWluIGBFcnJvcmAgY2xhc3MgYW5kIGFkZHMgYW4gb3B0aW9uYWwgYG91dHB1dGBcbiogcHJvcGVydHkgdGhhdCBjYW4gaG9sZCB0aGUgb3V0cHV0IHRoYXQgY2F1c2VkIHRoZSBleGNlcHRpb24uXG4qL1xudmFyIFRvb2xJbnB1dFBhcnNpbmdFeGNlcHRpb24gPSBjbGFzcyBleHRlbmRzIEVycm9yIHtcblx0b3V0cHV0O1xuXHRjb25zdHJ1Y3RvcihtZXNzYWdlLCBvdXRwdXQpIHtcblx0XHRzdXBlcihtZXNzYWdlKTtcblx0XHR0aGlzLm91dHB1dCA9IG91dHB1dDtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBUb29sSW5wdXRQYXJzaW5nRXhjZXB0aW9uLCBfY29uZmlnSGFzVG9vbENhbGxJZCwgX2lzVG9vbENhbGwgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tools/utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tracers/base.js":
/*!******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tracers/base.js ***!
  \******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseTracer: () => (/* binding */ BaseTracer),\n/* harmony export */   base_exports: () => (/* binding */ base_exports),\n/* harmony export */   isBaseTracer: () => (/* binding */ isBaseTracer)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _utils_env_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/env.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/env.js\");\n/* harmony import */ var _callbacks_base_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../callbacks/base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/callbacks/base.js\");\n/* harmony import */ var langsmith_run_trees__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! langsmith/run_trees */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+langsmith@0.4.9_openai@6.16.0/node_modules/langsmith/run_trees.js\");\n\n\n\n\n\n//#region src/tracers/base.ts\nvar base_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(base_exports, {\n\tBaseTracer: () => BaseTracer,\n\tisBaseTracer: () => isBaseTracer\n});\nconst convertRunTreeToRun = (runTree) => {\n\tif (!runTree) return void 0;\n\trunTree.events = runTree.events ?? [];\n\trunTree.child_runs = runTree.child_runs ?? [];\n\treturn runTree;\n};\nfunction convertRunToRunTree(run, parentRun) {\n\tif (!run) return void 0;\n\treturn new langsmith_run_trees__WEBPACK_IMPORTED_MODULE_3__.RunTree({\n\t\t...run,\n\t\tstart_time: run._serialized_start_time ?? run.start_time,\n\t\tparent_run: convertRunToRunTree(parentRun),\n\t\tchild_runs: run.child_runs.map((r) => convertRunToRunTree(r)).filter((r) => r !== void 0),\n\t\textra: {\n\t\t\t...run.extra,\n\t\t\truntime: (0,_utils_env_js__WEBPACK_IMPORTED_MODULE_1__.getRuntimeEnvironment)()\n\t\t},\n\t\ttracingEnabled: false\n\t});\n}\nfunction _coerceToDict(value, defaultKey) {\n\treturn value && !Array.isArray(value) && typeof value === \"object\" ? value : { [defaultKey]: value };\n}\nfunction isBaseTracer(x) {\n\treturn typeof x._addRunToRunMap === \"function\";\n}\nvar BaseTracer = class extends _callbacks_base_js__WEBPACK_IMPORTED_MODULE_2__.BaseCallbackHandler {\n\t/** @deprecated Use `runTreeMap` instead. */\n\trunMap = /* @__PURE__ */ new Map();\n\trunTreeMap = /* @__PURE__ */ new Map();\n\tusesRunTreeMap = false;\n\tconstructor(_fields) {\n\t\tsuper(...arguments);\n\t}\n\tcopy() {\n\t\treturn this;\n\t}\n\tgetRunById(runId) {\n\t\tif (runId === void 0) return void 0;\n\t\treturn this.usesRunTreeMap ? convertRunTreeToRun(this.runTreeMap.get(runId)) : this.runMap.get(runId);\n\t}\n\tstringifyError(error) {\n\t\tif (error instanceof Error) return error.message + (error?.stack ? `\\n\\n${error.stack}` : \"\");\n\t\tif (typeof error === \"string\") return error;\n\t\treturn `${error}`;\n\t}\n\t_addChildRun(parentRun, childRun) {\n\t\tparentRun.child_runs.push(childRun);\n\t}\n\t_addRunToRunMap(run) {\n\t\tconst { dottedOrder: currentDottedOrder, microsecondPrecisionDatestring } = (0,langsmith_run_trees__WEBPACK_IMPORTED_MODULE_3__.convertToDottedOrderFormat)(new Date(run.start_time).getTime(), run.id, run.execution_order);\n\t\tconst storedRun = { ...run };\n\t\tconst parentRun = this.getRunById(storedRun.parent_run_id);\n\t\tif (storedRun.parent_run_id !== void 0) if (parentRun) {\n\t\t\tthis._addChildRun(parentRun, storedRun);\n\t\t\tparentRun.child_execution_order = Math.max(parentRun.child_execution_order, storedRun.child_execution_order);\n\t\t\tstoredRun.trace_id = parentRun.trace_id;\n\t\t\tif (parentRun.dotted_order !== void 0) {\n\t\t\t\tstoredRun.dotted_order = [parentRun.dotted_order, currentDottedOrder].join(\".\");\n\t\t\t\tstoredRun._serialized_start_time = microsecondPrecisionDatestring;\n\t\t\t}\n\t\t} else storedRun.parent_run_id = void 0;\n\t\telse {\n\t\t\tstoredRun.trace_id = storedRun.id;\n\t\t\tstoredRun.dotted_order = currentDottedOrder;\n\t\t\tstoredRun._serialized_start_time = microsecondPrecisionDatestring;\n\t\t}\n\t\tif (this.usesRunTreeMap) {\n\t\t\tconst runTree = convertRunToRunTree(storedRun, parentRun);\n\t\t\tif (runTree !== void 0) this.runTreeMap.set(storedRun.id, runTree);\n\t\t} else this.runMap.set(storedRun.id, storedRun);\n\t\treturn storedRun;\n\t}\n\tasync _endTrace(run) {\n\t\tconst parentRun = run.parent_run_id !== void 0 && this.getRunById(run.parent_run_id);\n\t\tif (parentRun) parentRun.child_execution_order = Math.max(parentRun.child_execution_order, run.child_execution_order);\n\t\telse await this.persistRun(run);\n\t\tawait this.onRunUpdate?.(run);\n\t\tif (this.usesRunTreeMap) this.runTreeMap.delete(run.id);\n\t\telse this.runMap.delete(run.id);\n\t}\n\t_getExecutionOrder(parentRunId) {\n\t\tconst parentRun = parentRunId !== void 0 && this.getRunById(parentRunId);\n\t\tif (!parentRun) return 1;\n\t\treturn parentRun.child_execution_order + 1;\n\t}\n\t/**\n\t* Create and add a run to the run map for LLM start events.\n\t* This must sometimes be done synchronously to avoid race conditions\n\t* when callbacks are backgrounded, so we expose it as a separate method here.\n\t*/\n\t_createRunForLLMStart(llm, prompts, runId, parentRunId, extraParams, tags, metadata, name) {\n\t\tconst execution_order = this._getExecutionOrder(parentRunId);\n\t\tconst start_time = Date.now();\n\t\tconst finalExtraParams = metadata ? {\n\t\t\t...extraParams,\n\t\t\tmetadata\n\t\t} : extraParams;\n\t\tconst run = {\n\t\t\tid: runId,\n\t\t\tname: name ?? llm.id[llm.id.length - 1],\n\t\t\tparent_run_id: parentRunId,\n\t\t\tstart_time,\n\t\t\tserialized: llm,\n\t\t\tevents: [{\n\t\t\t\tname: \"start\",\n\t\t\t\ttime: new Date(start_time).toISOString()\n\t\t\t}],\n\t\t\tinputs: { prompts },\n\t\t\texecution_order,\n\t\t\tchild_runs: [],\n\t\t\tchild_execution_order: execution_order,\n\t\t\trun_type: \"llm\",\n\t\t\textra: finalExtraParams ?? {},\n\t\t\ttags: tags || []\n\t\t};\n\t\treturn this._addRunToRunMap(run);\n\t}\n\tasync handleLLMStart(llm, prompts, runId, parentRunId, extraParams, tags, metadata, name) {\n\t\tconst run = this.getRunById(runId) ?? this._createRunForLLMStart(llm, prompts, runId, parentRunId, extraParams, tags, metadata, name);\n\t\tawait this.onRunCreate?.(run);\n\t\tawait this.onLLMStart?.(run);\n\t\treturn run;\n\t}\n\t/**\n\t* Create and add a run to the run map for chat model start events.\n\t* This must sometimes be done synchronously to avoid race conditions\n\t* when callbacks are backgrounded, so we expose it as a separate method here.\n\t*/\n\t_createRunForChatModelStart(llm, messages, runId, parentRunId, extraParams, tags, metadata, name) {\n\t\tconst execution_order = this._getExecutionOrder(parentRunId);\n\t\tconst start_time = Date.now();\n\t\tconst finalExtraParams = metadata ? {\n\t\t\t...extraParams,\n\t\t\tmetadata\n\t\t} : extraParams;\n\t\tconst run = {\n\t\t\tid: runId,\n\t\t\tname: name ?? llm.id[llm.id.length - 1],\n\t\t\tparent_run_id: parentRunId,\n\t\t\tstart_time,\n\t\t\tserialized: llm,\n\t\t\tevents: [{\n\t\t\t\tname: \"start\",\n\t\t\t\ttime: new Date(start_time).toISOString()\n\t\t\t}],\n\t\t\tinputs: { messages },\n\t\t\texecution_order,\n\t\t\tchild_runs: [],\n\t\t\tchild_execution_order: execution_order,\n\t\t\trun_type: \"llm\",\n\t\t\textra: finalExtraParams ?? {},\n\t\t\ttags: tags || []\n\t\t};\n\t\treturn this._addRunToRunMap(run);\n\t}\n\tasync handleChatModelStart(llm, messages, runId, parentRunId, extraParams, tags, metadata, name) {\n\t\tconst run = this.getRunById(runId) ?? this._createRunForChatModelStart(llm, messages, runId, parentRunId, extraParams, tags, metadata, name);\n\t\tawait this.onRunCreate?.(run);\n\t\tawait this.onLLMStart?.(run);\n\t\treturn run;\n\t}\n\tasync handleLLMEnd(output, runId, _parentRunId, _tags, extraParams) {\n\t\tconst run = this.getRunById(runId);\n\t\tif (!run || run?.run_type !== \"llm\") throw new Error(\"No LLM run to end.\");\n\t\trun.end_time = Date.now();\n\t\trun.outputs = output;\n\t\trun.events.push({\n\t\t\tname: \"end\",\n\t\t\ttime: new Date(run.end_time).toISOString()\n\t\t});\n\t\trun.extra = {\n\t\t\t...run.extra,\n\t\t\t...extraParams\n\t\t};\n\t\tawait this.onLLMEnd?.(run);\n\t\tawait this._endTrace(run);\n\t\treturn run;\n\t}\n\tasync handleLLMError(error, runId, _parentRunId, _tags, extraParams) {\n\t\tconst run = this.getRunById(runId);\n\t\tif (!run || run?.run_type !== \"llm\") throw new Error(\"No LLM run to end.\");\n\t\trun.end_time = Date.now();\n\t\trun.error = this.stringifyError(error);\n\t\trun.events.push({\n\t\t\tname: \"error\",\n\t\t\ttime: new Date(run.end_time).toISOString()\n\t\t});\n\t\trun.extra = {\n\t\t\t...run.extra,\n\t\t\t...extraParams\n\t\t};\n\t\tawait this.onLLMError?.(run);\n\t\tawait this._endTrace(run);\n\t\treturn run;\n\t}\n\t/**\n\t* Create and add a run to the run map for chain start events.\n\t* This must sometimes be done synchronously to avoid race conditions\n\t* when callbacks are backgrounded, so we expose it as a separate method here.\n\t*/\n\t_createRunForChainStart(chain, inputs, runId, parentRunId, tags, metadata, runType, name, extra) {\n\t\tconst execution_order = this._getExecutionOrder(parentRunId);\n\t\tconst start_time = Date.now();\n\t\tconst run = {\n\t\t\tid: runId,\n\t\t\tname: name ?? chain.id[chain.id.length - 1],\n\t\t\tparent_run_id: parentRunId,\n\t\t\tstart_time,\n\t\t\tserialized: chain,\n\t\t\tevents: [{\n\t\t\t\tname: \"start\",\n\t\t\t\ttime: new Date(start_time).toISOString()\n\t\t\t}],\n\t\t\tinputs,\n\t\t\texecution_order,\n\t\t\tchild_execution_order: execution_order,\n\t\t\trun_type: runType ?? \"chain\",\n\t\t\tchild_runs: [],\n\t\t\textra: metadata ? {\n\t\t\t\t...extra,\n\t\t\t\tmetadata\n\t\t\t} : { ...extra },\n\t\t\ttags: tags || []\n\t\t};\n\t\treturn this._addRunToRunMap(run);\n\t}\n\tasync handleChainStart(chain, inputs, runId, parentRunId, tags, metadata, runType, name) {\n\t\tconst run = this.getRunById(runId) ?? this._createRunForChainStart(chain, inputs, runId, parentRunId, tags, metadata, runType, name);\n\t\tawait this.onRunCreate?.(run);\n\t\tawait this.onChainStart?.(run);\n\t\treturn run;\n\t}\n\tasync handleChainEnd(outputs, runId, _parentRunId, _tags, kwargs) {\n\t\tconst run = this.getRunById(runId);\n\t\tif (!run) throw new Error(\"No chain run to end.\");\n\t\trun.end_time = Date.now();\n\t\trun.outputs = _coerceToDict(outputs, \"output\");\n\t\trun.events.push({\n\t\t\tname: \"end\",\n\t\t\ttime: new Date(run.end_time).toISOString()\n\t\t});\n\t\tif (kwargs?.inputs !== void 0) run.inputs = _coerceToDict(kwargs.inputs, \"input\");\n\t\tawait this.onChainEnd?.(run);\n\t\tawait this._endTrace(run);\n\t\treturn run;\n\t}\n\tasync handleChainError(error, runId, _parentRunId, _tags, kwargs) {\n\t\tconst run = this.getRunById(runId);\n\t\tif (!run) throw new Error(\"No chain run to end.\");\n\t\trun.end_time = Date.now();\n\t\trun.error = this.stringifyError(error);\n\t\trun.events.push({\n\t\t\tname: \"error\",\n\t\t\ttime: new Date(run.end_time).toISOString()\n\t\t});\n\t\tif (kwargs?.inputs !== void 0) run.inputs = _coerceToDict(kwargs.inputs, \"input\");\n\t\tawait this.onChainError?.(run);\n\t\tawait this._endTrace(run);\n\t\treturn run;\n\t}\n\t/**\n\t* Create and add a run to the run map for tool start events.\n\t* This must sometimes be done synchronously to avoid race conditions\n\t* when callbacks are backgrounded, so we expose it as a separate method here.\n\t*/\n\t_createRunForToolStart(tool, input, runId, parentRunId, tags, metadata, name) {\n\t\tconst execution_order = this._getExecutionOrder(parentRunId);\n\t\tconst start_time = Date.now();\n\t\tconst run = {\n\t\t\tid: runId,\n\t\t\tname: name ?? tool.id[tool.id.length - 1],\n\t\t\tparent_run_id: parentRunId,\n\t\t\tstart_time,\n\t\t\tserialized: tool,\n\t\t\tevents: [{\n\t\t\t\tname: \"start\",\n\t\t\t\ttime: new Date(start_time).toISOString()\n\t\t\t}],\n\t\t\tinputs: { input },\n\t\t\texecution_order,\n\t\t\tchild_execution_order: execution_order,\n\t\t\trun_type: \"tool\",\n\t\t\tchild_runs: [],\n\t\t\textra: metadata ? { metadata } : {},\n\t\t\ttags: tags || []\n\t\t};\n\t\treturn this._addRunToRunMap(run);\n\t}\n\tasync handleToolStart(tool, input, runId, parentRunId, tags, metadata, name) {\n\t\tconst run = this.getRunById(runId) ?? this._createRunForToolStart(tool, input, runId, parentRunId, tags, metadata, name);\n\t\tawait this.onRunCreate?.(run);\n\t\tawait this.onToolStart?.(run);\n\t\treturn run;\n\t}\n\tasync handleToolEnd(output, runId) {\n\t\tconst run = this.getRunById(runId);\n\t\tif (!run || run?.run_type !== \"tool\") throw new Error(\"No tool run to end\");\n\t\trun.end_time = Date.now();\n\t\trun.outputs = { output };\n\t\trun.events.push({\n\t\t\tname: \"end\",\n\t\t\ttime: new Date(run.end_time).toISOString()\n\t\t});\n\t\tawait this.onToolEnd?.(run);\n\t\tawait this._endTrace(run);\n\t\treturn run;\n\t}\n\tasync handleToolError(error, runId) {\n\t\tconst run = this.getRunById(runId);\n\t\tif (!run || run?.run_type !== \"tool\") throw new Error(\"No tool run to end\");\n\t\trun.end_time = Date.now();\n\t\trun.error = this.stringifyError(error);\n\t\trun.events.push({\n\t\t\tname: \"error\",\n\t\t\ttime: new Date(run.end_time).toISOString()\n\t\t});\n\t\tawait this.onToolError?.(run);\n\t\tawait this._endTrace(run);\n\t\treturn run;\n\t}\n\tasync handleAgentAction(action, runId) {\n\t\tconst run = this.getRunById(runId);\n\t\tif (!run || run?.run_type !== \"chain\") return;\n\t\tconst agentRun = run;\n\t\tagentRun.actions = agentRun.actions || [];\n\t\tagentRun.actions.push(action);\n\t\tagentRun.events.push({\n\t\t\tname: \"agent_action\",\n\t\t\ttime: (/* @__PURE__ */ new Date()).toISOString(),\n\t\t\tkwargs: { action }\n\t\t});\n\t\tawait this.onAgentAction?.(run);\n\t}\n\tasync handleAgentEnd(action, runId) {\n\t\tconst run = this.getRunById(runId);\n\t\tif (!run || run?.run_type !== \"chain\") return;\n\t\trun.events.push({\n\t\t\tname: \"agent_end\",\n\t\t\ttime: (/* @__PURE__ */ new Date()).toISOString(),\n\t\t\tkwargs: { action }\n\t\t});\n\t\tawait this.onAgentEnd?.(run);\n\t}\n\t/**\n\t* Create and add a run to the run map for retriever start events.\n\t* This must sometimes be done synchronously to avoid race conditions\n\t* when callbacks are backgrounded, so we expose it as a separate method here.\n\t*/\n\t_createRunForRetrieverStart(retriever, query, runId, parentRunId, tags, metadata, name) {\n\t\tconst execution_order = this._getExecutionOrder(parentRunId);\n\t\tconst start_time = Date.now();\n\t\tconst run = {\n\t\t\tid: runId,\n\t\t\tname: name ?? retriever.id[retriever.id.length - 1],\n\t\t\tparent_run_id: parentRunId,\n\t\t\tstart_time,\n\t\t\tserialized: retriever,\n\t\t\tevents: [{\n\t\t\t\tname: \"start\",\n\t\t\t\ttime: new Date(start_time).toISOString()\n\t\t\t}],\n\t\t\tinputs: { query },\n\t\t\texecution_order,\n\t\t\tchild_execution_order: execution_order,\n\t\t\trun_type: \"retriever\",\n\t\t\tchild_runs: [],\n\t\t\textra: metadata ? { metadata } : {},\n\t\t\ttags: tags || []\n\t\t};\n\t\treturn this._addRunToRunMap(run);\n\t}\n\tasync handleRetrieverStart(retriever, query, runId, parentRunId, tags, metadata, name) {\n\t\tconst run = this.getRunById(runId) ?? this._createRunForRetrieverStart(retriever, query, runId, parentRunId, tags, metadata, name);\n\t\tawait this.onRunCreate?.(run);\n\t\tawait this.onRetrieverStart?.(run);\n\t\treturn run;\n\t}\n\tasync handleRetrieverEnd(documents, runId) {\n\t\tconst run = this.getRunById(runId);\n\t\tif (!run || run?.run_type !== \"retriever\") throw new Error(\"No retriever run to end\");\n\t\trun.end_time = Date.now();\n\t\trun.outputs = { documents };\n\t\trun.events.push({\n\t\t\tname: \"end\",\n\t\t\ttime: new Date(run.end_time).toISOString()\n\t\t});\n\t\tawait this.onRetrieverEnd?.(run);\n\t\tawait this._endTrace(run);\n\t\treturn run;\n\t}\n\tasync handleRetrieverError(error, runId) {\n\t\tconst run = this.getRunById(runId);\n\t\tif (!run || run?.run_type !== \"retriever\") throw new Error(\"No retriever run to end\");\n\t\trun.end_time = Date.now();\n\t\trun.error = this.stringifyError(error);\n\t\trun.events.push({\n\t\t\tname: \"error\",\n\t\t\ttime: new Date(run.end_time).toISOString()\n\t\t});\n\t\tawait this.onRetrieverError?.(run);\n\t\tawait this._endTrace(run);\n\t\treturn run;\n\t}\n\tasync handleText(text, runId) {\n\t\tconst run = this.getRunById(runId);\n\t\tif (!run || run?.run_type !== \"chain\") return;\n\t\trun.events.push({\n\t\t\tname: \"text\",\n\t\t\ttime: (/* @__PURE__ */ new Date()).toISOString(),\n\t\t\tkwargs: { text }\n\t\t});\n\t\tawait this.onText?.(run);\n\t}\n\tasync handleLLMNewToken(token, idx, runId, _parentRunId, _tags, fields) {\n\t\tconst run = this.getRunById(runId);\n\t\tif (!run || run?.run_type !== \"llm\") throw new Error(`Invalid \"runId\" provided to \"handleLLMNewToken\" callback.`);\n\t\trun.events.push({\n\t\t\tname: \"new_token\",\n\t\t\ttime: (/* @__PURE__ */ new Date()).toISOString(),\n\t\t\tkwargs: {\n\t\t\t\ttoken,\n\t\t\t\tidx,\n\t\t\t\tchunk: fields?.chunk\n\t\t\t}\n\t\t});\n\t\tawait this.onLLMNewToken?.(run, token, { chunk: fields?.chunk });\n\t\treturn run;\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=base.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3RyYWNlcnMvYmFzZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTJEO0FBQ0g7QUFDRztBQUNlOztBQUUxRTtBQUNBO0FBQ0Esc0VBQVE7QUFDUjtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHdEQUFPO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksb0VBQXFCO0FBQ2pDLEdBQUc7QUFDSDtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsZ0ZBQWdGO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLG1FQUFtQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RUFBNEUsWUFBWTtBQUN4RjtBQUNBLFlBQVksTUFBTTtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxrRUFBa0UsRUFBRSwrRUFBMEI7QUFDeEcsc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssSUFBSSxVQUFVO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsV0FBVyxJQUFJO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLFdBQVcsSUFBSTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILDJDQUEyQyxzQkFBc0I7QUFDakU7QUFDQTtBQUNBOztBQUVBO0FBQ2tEO0FBQ2xEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3RyYWNlcnMvYmFzZS5qcz8xYWI4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fZXhwb3J0IH0gZnJvbSBcIi4uL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuanNcIjtcbmltcG9ydCB7IGdldFJ1bnRpbWVFbnZpcm9ubWVudCB9IGZyb20gXCIuLi91dGlscy9lbnYuanNcIjtcbmltcG9ydCB7IEJhc2VDYWxsYmFja0hhbmRsZXIgfSBmcm9tIFwiLi4vY2FsbGJhY2tzL2Jhc2UuanNcIjtcbmltcG9ydCB7IFJ1blRyZWUsIGNvbnZlcnRUb0RvdHRlZE9yZGVyRm9ybWF0IH0gZnJvbSBcImxhbmdzbWl0aC9ydW5fdHJlZXNcIjtcblxuLy8jcmVnaW9uIHNyYy90cmFjZXJzL2Jhc2UudHNcbnZhciBiYXNlX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KGJhc2VfZXhwb3J0cywge1xuXHRCYXNlVHJhY2VyOiAoKSA9PiBCYXNlVHJhY2VyLFxuXHRpc0Jhc2VUcmFjZXI6ICgpID0+IGlzQmFzZVRyYWNlclxufSk7XG5jb25zdCBjb252ZXJ0UnVuVHJlZVRvUnVuID0gKHJ1blRyZWUpID0+IHtcblx0aWYgKCFydW5UcmVlKSByZXR1cm4gdm9pZCAwO1xuXHRydW5UcmVlLmV2ZW50cyA9IHJ1blRyZWUuZXZlbnRzID8/IFtdO1xuXHRydW5UcmVlLmNoaWxkX3J1bnMgPSBydW5UcmVlLmNoaWxkX3J1bnMgPz8gW107XG5cdHJldHVybiBydW5UcmVlO1xufTtcbmZ1bmN0aW9uIGNvbnZlcnRSdW5Ub1J1blRyZWUocnVuLCBwYXJlbnRSdW4pIHtcblx0aWYgKCFydW4pIHJldHVybiB2b2lkIDA7XG5cdHJldHVybiBuZXcgUnVuVHJlZSh7XG5cdFx0Li4ucnVuLFxuXHRcdHN0YXJ0X3RpbWU6IHJ1bi5fc2VyaWFsaXplZF9zdGFydF90aW1lID8/IHJ1bi5zdGFydF90aW1lLFxuXHRcdHBhcmVudF9ydW46IGNvbnZlcnRSdW5Ub1J1blRyZWUocGFyZW50UnVuKSxcblx0XHRjaGlsZF9ydW5zOiBydW4uY2hpbGRfcnVucy5tYXAoKHIpID0+IGNvbnZlcnRSdW5Ub1J1blRyZWUocikpLmZpbHRlcigocikgPT4gciAhPT0gdm9pZCAwKSxcblx0XHRleHRyYToge1xuXHRcdFx0Li4ucnVuLmV4dHJhLFxuXHRcdFx0cnVudGltZTogZ2V0UnVudGltZUVudmlyb25tZW50KClcblx0XHR9LFxuXHRcdHRyYWNpbmdFbmFibGVkOiBmYWxzZVxuXHR9KTtcbn1cbmZ1bmN0aW9uIF9jb2VyY2VUb0RpY3QodmFsdWUsIGRlZmF1bHRLZXkpIHtcblx0cmV0dXJuIHZhbHVlICYmICFBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgPyB2YWx1ZSA6IHsgW2RlZmF1bHRLZXldOiB2YWx1ZSB9O1xufVxuZnVuY3Rpb24gaXNCYXNlVHJhY2VyKHgpIHtcblx0cmV0dXJuIHR5cGVvZiB4Ll9hZGRSdW5Ub1J1bk1hcCA9PT0gXCJmdW5jdGlvblwiO1xufVxudmFyIEJhc2VUcmFjZXIgPSBjbGFzcyBleHRlbmRzIEJhc2VDYWxsYmFja0hhbmRsZXIge1xuXHQvKiogQGRlcHJlY2F0ZWQgVXNlIGBydW5UcmVlTWFwYCBpbnN0ZWFkLiAqL1xuXHRydW5NYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuXHRydW5UcmVlTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcblx0dXNlc1J1blRyZWVNYXAgPSBmYWxzZTtcblx0Y29uc3RydWN0b3IoX2ZpZWxkcykge1xuXHRcdHN1cGVyKC4uLmFyZ3VtZW50cyk7XG5cdH1cblx0Y29weSgpIHtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXHRnZXRSdW5CeUlkKHJ1bklkKSB7XG5cdFx0aWYgKHJ1bklkID09PSB2b2lkIDApIHJldHVybiB2b2lkIDA7XG5cdFx0cmV0dXJuIHRoaXMudXNlc1J1blRyZWVNYXAgPyBjb252ZXJ0UnVuVHJlZVRvUnVuKHRoaXMucnVuVHJlZU1hcC5nZXQocnVuSWQpKSA6IHRoaXMucnVuTWFwLmdldChydW5JZCk7XG5cdH1cblx0c3RyaW5naWZ5RXJyb3IoZXJyb3IpIHtcblx0XHRpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikgcmV0dXJuIGVycm9yLm1lc3NhZ2UgKyAoZXJyb3I/LnN0YWNrID8gYFxcblxcbiR7ZXJyb3Iuc3RhY2t9YCA6IFwiXCIpO1xuXHRcdGlmICh0eXBlb2YgZXJyb3IgPT09IFwic3RyaW5nXCIpIHJldHVybiBlcnJvcjtcblx0XHRyZXR1cm4gYCR7ZXJyb3J9YDtcblx0fVxuXHRfYWRkQ2hpbGRSdW4ocGFyZW50UnVuLCBjaGlsZFJ1bikge1xuXHRcdHBhcmVudFJ1bi5jaGlsZF9ydW5zLnB1c2goY2hpbGRSdW4pO1xuXHR9XG5cdF9hZGRSdW5Ub1J1bk1hcChydW4pIHtcblx0XHRjb25zdCB7IGRvdHRlZE9yZGVyOiBjdXJyZW50RG90dGVkT3JkZXIsIG1pY3Jvc2Vjb25kUHJlY2lzaW9uRGF0ZXN0cmluZyB9ID0gY29udmVydFRvRG90dGVkT3JkZXJGb3JtYXQobmV3IERhdGUocnVuLnN0YXJ0X3RpbWUpLmdldFRpbWUoKSwgcnVuLmlkLCBydW4uZXhlY3V0aW9uX29yZGVyKTtcblx0XHRjb25zdCBzdG9yZWRSdW4gPSB7IC4uLnJ1biB9O1xuXHRcdGNvbnN0IHBhcmVudFJ1biA9IHRoaXMuZ2V0UnVuQnlJZChzdG9yZWRSdW4ucGFyZW50X3J1bl9pZCk7XG5cdFx0aWYgKHN0b3JlZFJ1bi5wYXJlbnRfcnVuX2lkICE9PSB2b2lkIDApIGlmIChwYXJlbnRSdW4pIHtcblx0XHRcdHRoaXMuX2FkZENoaWxkUnVuKHBhcmVudFJ1biwgc3RvcmVkUnVuKTtcblx0XHRcdHBhcmVudFJ1bi5jaGlsZF9leGVjdXRpb25fb3JkZXIgPSBNYXRoLm1heChwYXJlbnRSdW4uY2hpbGRfZXhlY3V0aW9uX29yZGVyLCBzdG9yZWRSdW4uY2hpbGRfZXhlY3V0aW9uX29yZGVyKTtcblx0XHRcdHN0b3JlZFJ1bi50cmFjZV9pZCA9IHBhcmVudFJ1bi50cmFjZV9pZDtcblx0XHRcdGlmIChwYXJlbnRSdW4uZG90dGVkX29yZGVyICE9PSB2b2lkIDApIHtcblx0XHRcdFx0c3RvcmVkUnVuLmRvdHRlZF9vcmRlciA9IFtwYXJlbnRSdW4uZG90dGVkX29yZGVyLCBjdXJyZW50RG90dGVkT3JkZXJdLmpvaW4oXCIuXCIpO1xuXHRcdFx0XHRzdG9yZWRSdW4uX3NlcmlhbGl6ZWRfc3RhcnRfdGltZSA9IG1pY3Jvc2Vjb25kUHJlY2lzaW9uRGF0ZXN0cmluZztcblx0XHRcdH1cblx0XHR9IGVsc2Ugc3RvcmVkUnVuLnBhcmVudF9ydW5faWQgPSB2b2lkIDA7XG5cdFx0ZWxzZSB7XG5cdFx0XHRzdG9yZWRSdW4udHJhY2VfaWQgPSBzdG9yZWRSdW4uaWQ7XG5cdFx0XHRzdG9yZWRSdW4uZG90dGVkX29yZGVyID0gY3VycmVudERvdHRlZE9yZGVyO1xuXHRcdFx0c3RvcmVkUnVuLl9zZXJpYWxpemVkX3N0YXJ0X3RpbWUgPSBtaWNyb3NlY29uZFByZWNpc2lvbkRhdGVzdHJpbmc7XG5cdFx0fVxuXHRcdGlmICh0aGlzLnVzZXNSdW5UcmVlTWFwKSB7XG5cdFx0XHRjb25zdCBydW5UcmVlID0gY29udmVydFJ1blRvUnVuVHJlZShzdG9yZWRSdW4sIHBhcmVudFJ1bik7XG5cdFx0XHRpZiAocnVuVHJlZSAhPT0gdm9pZCAwKSB0aGlzLnJ1blRyZWVNYXAuc2V0KHN0b3JlZFJ1bi5pZCwgcnVuVHJlZSk7XG5cdFx0fSBlbHNlIHRoaXMucnVuTWFwLnNldChzdG9yZWRSdW4uaWQsIHN0b3JlZFJ1bik7XG5cdFx0cmV0dXJuIHN0b3JlZFJ1bjtcblx0fVxuXHRhc3luYyBfZW5kVHJhY2UocnVuKSB7XG5cdFx0Y29uc3QgcGFyZW50UnVuID0gcnVuLnBhcmVudF9ydW5faWQgIT09IHZvaWQgMCAmJiB0aGlzLmdldFJ1bkJ5SWQocnVuLnBhcmVudF9ydW5faWQpO1xuXHRcdGlmIChwYXJlbnRSdW4pIHBhcmVudFJ1bi5jaGlsZF9leGVjdXRpb25fb3JkZXIgPSBNYXRoLm1heChwYXJlbnRSdW4uY2hpbGRfZXhlY3V0aW9uX29yZGVyLCBydW4uY2hpbGRfZXhlY3V0aW9uX29yZGVyKTtcblx0XHRlbHNlIGF3YWl0IHRoaXMucGVyc2lzdFJ1bihydW4pO1xuXHRcdGF3YWl0IHRoaXMub25SdW5VcGRhdGU/LihydW4pO1xuXHRcdGlmICh0aGlzLnVzZXNSdW5UcmVlTWFwKSB0aGlzLnJ1blRyZWVNYXAuZGVsZXRlKHJ1bi5pZCk7XG5cdFx0ZWxzZSB0aGlzLnJ1bk1hcC5kZWxldGUocnVuLmlkKTtcblx0fVxuXHRfZ2V0RXhlY3V0aW9uT3JkZXIocGFyZW50UnVuSWQpIHtcblx0XHRjb25zdCBwYXJlbnRSdW4gPSBwYXJlbnRSdW5JZCAhPT0gdm9pZCAwICYmIHRoaXMuZ2V0UnVuQnlJZChwYXJlbnRSdW5JZCk7XG5cdFx0aWYgKCFwYXJlbnRSdW4pIHJldHVybiAxO1xuXHRcdHJldHVybiBwYXJlbnRSdW4uY2hpbGRfZXhlY3V0aW9uX29yZGVyICsgMTtcblx0fVxuXHQvKipcblx0KiBDcmVhdGUgYW5kIGFkZCBhIHJ1biB0byB0aGUgcnVuIG1hcCBmb3IgTExNIHN0YXJ0IGV2ZW50cy5cblx0KiBUaGlzIG11c3Qgc29tZXRpbWVzIGJlIGRvbmUgc3luY2hyb25vdXNseSB0byBhdm9pZCByYWNlIGNvbmRpdGlvbnNcblx0KiB3aGVuIGNhbGxiYWNrcyBhcmUgYmFja2dyb3VuZGVkLCBzbyB3ZSBleHBvc2UgaXQgYXMgYSBzZXBhcmF0ZSBtZXRob2QgaGVyZS5cblx0Ki9cblx0X2NyZWF0ZVJ1bkZvckxMTVN0YXJ0KGxsbSwgcHJvbXB0cywgcnVuSWQsIHBhcmVudFJ1bklkLCBleHRyYVBhcmFtcywgdGFncywgbWV0YWRhdGEsIG5hbWUpIHtcblx0XHRjb25zdCBleGVjdXRpb25fb3JkZXIgPSB0aGlzLl9nZXRFeGVjdXRpb25PcmRlcihwYXJlbnRSdW5JZCk7XG5cdFx0Y29uc3Qgc3RhcnRfdGltZSA9IERhdGUubm93KCk7XG5cdFx0Y29uc3QgZmluYWxFeHRyYVBhcmFtcyA9IG1ldGFkYXRhID8ge1xuXHRcdFx0Li4uZXh0cmFQYXJhbXMsXG5cdFx0XHRtZXRhZGF0YVxuXHRcdH0gOiBleHRyYVBhcmFtcztcblx0XHRjb25zdCBydW4gPSB7XG5cdFx0XHRpZDogcnVuSWQsXG5cdFx0XHRuYW1lOiBuYW1lID8/IGxsbS5pZFtsbG0uaWQubGVuZ3RoIC0gMV0sXG5cdFx0XHRwYXJlbnRfcnVuX2lkOiBwYXJlbnRSdW5JZCxcblx0XHRcdHN0YXJ0X3RpbWUsXG5cdFx0XHRzZXJpYWxpemVkOiBsbG0sXG5cdFx0XHRldmVudHM6IFt7XG5cdFx0XHRcdG5hbWU6IFwic3RhcnRcIixcblx0XHRcdFx0dGltZTogbmV3IERhdGUoc3RhcnRfdGltZSkudG9JU09TdHJpbmcoKVxuXHRcdFx0fV0sXG5cdFx0XHRpbnB1dHM6IHsgcHJvbXB0cyB9LFxuXHRcdFx0ZXhlY3V0aW9uX29yZGVyLFxuXHRcdFx0Y2hpbGRfcnVuczogW10sXG5cdFx0XHRjaGlsZF9leGVjdXRpb25fb3JkZXI6IGV4ZWN1dGlvbl9vcmRlcixcblx0XHRcdHJ1bl90eXBlOiBcImxsbVwiLFxuXHRcdFx0ZXh0cmE6IGZpbmFsRXh0cmFQYXJhbXMgPz8ge30sXG5cdFx0XHR0YWdzOiB0YWdzIHx8IFtdXG5cdFx0fTtcblx0XHRyZXR1cm4gdGhpcy5fYWRkUnVuVG9SdW5NYXAocnVuKTtcblx0fVxuXHRhc3luYyBoYW5kbGVMTE1TdGFydChsbG0sIHByb21wdHMsIHJ1bklkLCBwYXJlbnRSdW5JZCwgZXh0cmFQYXJhbXMsIHRhZ3MsIG1ldGFkYXRhLCBuYW1lKSB7XG5cdFx0Y29uc3QgcnVuID0gdGhpcy5nZXRSdW5CeUlkKHJ1bklkKSA/PyB0aGlzLl9jcmVhdGVSdW5Gb3JMTE1TdGFydChsbG0sIHByb21wdHMsIHJ1bklkLCBwYXJlbnRSdW5JZCwgZXh0cmFQYXJhbXMsIHRhZ3MsIG1ldGFkYXRhLCBuYW1lKTtcblx0XHRhd2FpdCB0aGlzLm9uUnVuQ3JlYXRlPy4ocnVuKTtcblx0XHRhd2FpdCB0aGlzLm9uTExNU3RhcnQ/LihydW4pO1xuXHRcdHJldHVybiBydW47XG5cdH1cblx0LyoqXG5cdCogQ3JlYXRlIGFuZCBhZGQgYSBydW4gdG8gdGhlIHJ1biBtYXAgZm9yIGNoYXQgbW9kZWwgc3RhcnQgZXZlbnRzLlxuXHQqIFRoaXMgbXVzdCBzb21ldGltZXMgYmUgZG9uZSBzeW5jaHJvbm91c2x5IHRvIGF2b2lkIHJhY2UgY29uZGl0aW9uc1xuXHQqIHdoZW4gY2FsbGJhY2tzIGFyZSBiYWNrZ3JvdW5kZWQsIHNvIHdlIGV4cG9zZSBpdCBhcyBhIHNlcGFyYXRlIG1ldGhvZCBoZXJlLlxuXHQqL1xuXHRfY3JlYXRlUnVuRm9yQ2hhdE1vZGVsU3RhcnQobGxtLCBtZXNzYWdlcywgcnVuSWQsIHBhcmVudFJ1bklkLCBleHRyYVBhcmFtcywgdGFncywgbWV0YWRhdGEsIG5hbWUpIHtcblx0XHRjb25zdCBleGVjdXRpb25fb3JkZXIgPSB0aGlzLl9nZXRFeGVjdXRpb25PcmRlcihwYXJlbnRSdW5JZCk7XG5cdFx0Y29uc3Qgc3RhcnRfdGltZSA9IERhdGUubm93KCk7XG5cdFx0Y29uc3QgZmluYWxFeHRyYVBhcmFtcyA9IG1ldGFkYXRhID8ge1xuXHRcdFx0Li4uZXh0cmFQYXJhbXMsXG5cdFx0XHRtZXRhZGF0YVxuXHRcdH0gOiBleHRyYVBhcmFtcztcblx0XHRjb25zdCBydW4gPSB7XG5cdFx0XHRpZDogcnVuSWQsXG5cdFx0XHRuYW1lOiBuYW1lID8/IGxsbS5pZFtsbG0uaWQubGVuZ3RoIC0gMV0sXG5cdFx0XHRwYXJlbnRfcnVuX2lkOiBwYXJlbnRSdW5JZCxcblx0XHRcdHN0YXJ0X3RpbWUsXG5cdFx0XHRzZXJpYWxpemVkOiBsbG0sXG5cdFx0XHRldmVudHM6IFt7XG5cdFx0XHRcdG5hbWU6IFwic3RhcnRcIixcblx0XHRcdFx0dGltZTogbmV3IERhdGUoc3RhcnRfdGltZSkudG9JU09TdHJpbmcoKVxuXHRcdFx0fV0sXG5cdFx0XHRpbnB1dHM6IHsgbWVzc2FnZXMgfSxcblx0XHRcdGV4ZWN1dGlvbl9vcmRlcixcblx0XHRcdGNoaWxkX3J1bnM6IFtdLFxuXHRcdFx0Y2hpbGRfZXhlY3V0aW9uX29yZGVyOiBleGVjdXRpb25fb3JkZXIsXG5cdFx0XHRydW5fdHlwZTogXCJsbG1cIixcblx0XHRcdGV4dHJhOiBmaW5hbEV4dHJhUGFyYW1zID8/IHt9LFxuXHRcdFx0dGFnczogdGFncyB8fCBbXVxuXHRcdH07XG5cdFx0cmV0dXJuIHRoaXMuX2FkZFJ1blRvUnVuTWFwKHJ1bik7XG5cdH1cblx0YXN5bmMgaGFuZGxlQ2hhdE1vZGVsU3RhcnQobGxtLCBtZXNzYWdlcywgcnVuSWQsIHBhcmVudFJ1bklkLCBleHRyYVBhcmFtcywgdGFncywgbWV0YWRhdGEsIG5hbWUpIHtcblx0XHRjb25zdCBydW4gPSB0aGlzLmdldFJ1bkJ5SWQocnVuSWQpID8/IHRoaXMuX2NyZWF0ZVJ1bkZvckNoYXRNb2RlbFN0YXJ0KGxsbSwgbWVzc2FnZXMsIHJ1bklkLCBwYXJlbnRSdW5JZCwgZXh0cmFQYXJhbXMsIHRhZ3MsIG1ldGFkYXRhLCBuYW1lKTtcblx0XHRhd2FpdCB0aGlzLm9uUnVuQ3JlYXRlPy4ocnVuKTtcblx0XHRhd2FpdCB0aGlzLm9uTExNU3RhcnQ/LihydW4pO1xuXHRcdHJldHVybiBydW47XG5cdH1cblx0YXN5bmMgaGFuZGxlTExNRW5kKG91dHB1dCwgcnVuSWQsIF9wYXJlbnRSdW5JZCwgX3RhZ3MsIGV4dHJhUGFyYW1zKSB7XG5cdFx0Y29uc3QgcnVuID0gdGhpcy5nZXRSdW5CeUlkKHJ1bklkKTtcblx0XHRpZiAoIXJ1biB8fCBydW4/LnJ1bl90eXBlICE9PSBcImxsbVwiKSB0aHJvdyBuZXcgRXJyb3IoXCJObyBMTE0gcnVuIHRvIGVuZC5cIik7XG5cdFx0cnVuLmVuZF90aW1lID0gRGF0ZS5ub3coKTtcblx0XHRydW4ub3V0cHV0cyA9IG91dHB1dDtcblx0XHRydW4uZXZlbnRzLnB1c2goe1xuXHRcdFx0bmFtZTogXCJlbmRcIixcblx0XHRcdHRpbWU6IG5ldyBEYXRlKHJ1bi5lbmRfdGltZSkudG9JU09TdHJpbmcoKVxuXHRcdH0pO1xuXHRcdHJ1bi5leHRyYSA9IHtcblx0XHRcdC4uLnJ1bi5leHRyYSxcblx0XHRcdC4uLmV4dHJhUGFyYW1zXG5cdFx0fTtcblx0XHRhd2FpdCB0aGlzLm9uTExNRW5kPy4ocnVuKTtcblx0XHRhd2FpdCB0aGlzLl9lbmRUcmFjZShydW4pO1xuXHRcdHJldHVybiBydW47XG5cdH1cblx0YXN5bmMgaGFuZGxlTExNRXJyb3IoZXJyb3IsIHJ1bklkLCBfcGFyZW50UnVuSWQsIF90YWdzLCBleHRyYVBhcmFtcykge1xuXHRcdGNvbnN0IHJ1biA9IHRoaXMuZ2V0UnVuQnlJZChydW5JZCk7XG5cdFx0aWYgKCFydW4gfHwgcnVuPy5ydW5fdHlwZSAhPT0gXCJsbG1cIikgdGhyb3cgbmV3IEVycm9yKFwiTm8gTExNIHJ1biB0byBlbmQuXCIpO1xuXHRcdHJ1bi5lbmRfdGltZSA9IERhdGUubm93KCk7XG5cdFx0cnVuLmVycm9yID0gdGhpcy5zdHJpbmdpZnlFcnJvcihlcnJvcik7XG5cdFx0cnVuLmV2ZW50cy5wdXNoKHtcblx0XHRcdG5hbWU6IFwiZXJyb3JcIixcblx0XHRcdHRpbWU6IG5ldyBEYXRlKHJ1bi5lbmRfdGltZSkudG9JU09TdHJpbmcoKVxuXHRcdH0pO1xuXHRcdHJ1bi5leHRyYSA9IHtcblx0XHRcdC4uLnJ1bi5leHRyYSxcblx0XHRcdC4uLmV4dHJhUGFyYW1zXG5cdFx0fTtcblx0XHRhd2FpdCB0aGlzLm9uTExNRXJyb3I/LihydW4pO1xuXHRcdGF3YWl0IHRoaXMuX2VuZFRyYWNlKHJ1bik7XG5cdFx0cmV0dXJuIHJ1bjtcblx0fVxuXHQvKipcblx0KiBDcmVhdGUgYW5kIGFkZCBhIHJ1biB0byB0aGUgcnVuIG1hcCBmb3IgY2hhaW4gc3RhcnQgZXZlbnRzLlxuXHQqIFRoaXMgbXVzdCBzb21ldGltZXMgYmUgZG9uZSBzeW5jaHJvbm91c2x5IHRvIGF2b2lkIHJhY2UgY29uZGl0aW9uc1xuXHQqIHdoZW4gY2FsbGJhY2tzIGFyZSBiYWNrZ3JvdW5kZWQsIHNvIHdlIGV4cG9zZSBpdCBhcyBhIHNlcGFyYXRlIG1ldGhvZCBoZXJlLlxuXHQqL1xuXHRfY3JlYXRlUnVuRm9yQ2hhaW5TdGFydChjaGFpbiwgaW5wdXRzLCBydW5JZCwgcGFyZW50UnVuSWQsIHRhZ3MsIG1ldGFkYXRhLCBydW5UeXBlLCBuYW1lLCBleHRyYSkge1xuXHRcdGNvbnN0IGV4ZWN1dGlvbl9vcmRlciA9IHRoaXMuX2dldEV4ZWN1dGlvbk9yZGVyKHBhcmVudFJ1bklkKTtcblx0XHRjb25zdCBzdGFydF90aW1lID0gRGF0ZS5ub3coKTtcblx0XHRjb25zdCBydW4gPSB7XG5cdFx0XHRpZDogcnVuSWQsXG5cdFx0XHRuYW1lOiBuYW1lID8/IGNoYWluLmlkW2NoYWluLmlkLmxlbmd0aCAtIDFdLFxuXHRcdFx0cGFyZW50X3J1bl9pZDogcGFyZW50UnVuSWQsXG5cdFx0XHRzdGFydF90aW1lLFxuXHRcdFx0c2VyaWFsaXplZDogY2hhaW4sXG5cdFx0XHRldmVudHM6IFt7XG5cdFx0XHRcdG5hbWU6IFwic3RhcnRcIixcblx0XHRcdFx0dGltZTogbmV3IERhdGUoc3RhcnRfdGltZSkudG9JU09TdHJpbmcoKVxuXHRcdFx0fV0sXG5cdFx0XHRpbnB1dHMsXG5cdFx0XHRleGVjdXRpb25fb3JkZXIsXG5cdFx0XHRjaGlsZF9leGVjdXRpb25fb3JkZXI6IGV4ZWN1dGlvbl9vcmRlcixcblx0XHRcdHJ1bl90eXBlOiBydW5UeXBlID8/IFwiY2hhaW5cIixcblx0XHRcdGNoaWxkX3J1bnM6IFtdLFxuXHRcdFx0ZXh0cmE6IG1ldGFkYXRhID8ge1xuXHRcdFx0XHQuLi5leHRyYSxcblx0XHRcdFx0bWV0YWRhdGFcblx0XHRcdH0gOiB7IC4uLmV4dHJhIH0sXG5cdFx0XHR0YWdzOiB0YWdzIHx8IFtdXG5cdFx0fTtcblx0XHRyZXR1cm4gdGhpcy5fYWRkUnVuVG9SdW5NYXAocnVuKTtcblx0fVxuXHRhc3luYyBoYW5kbGVDaGFpblN0YXJ0KGNoYWluLCBpbnB1dHMsIHJ1bklkLCBwYXJlbnRSdW5JZCwgdGFncywgbWV0YWRhdGEsIHJ1blR5cGUsIG5hbWUpIHtcblx0XHRjb25zdCBydW4gPSB0aGlzLmdldFJ1bkJ5SWQocnVuSWQpID8/IHRoaXMuX2NyZWF0ZVJ1bkZvckNoYWluU3RhcnQoY2hhaW4sIGlucHV0cywgcnVuSWQsIHBhcmVudFJ1bklkLCB0YWdzLCBtZXRhZGF0YSwgcnVuVHlwZSwgbmFtZSk7XG5cdFx0YXdhaXQgdGhpcy5vblJ1bkNyZWF0ZT8uKHJ1bik7XG5cdFx0YXdhaXQgdGhpcy5vbkNoYWluU3RhcnQ/LihydW4pO1xuXHRcdHJldHVybiBydW47XG5cdH1cblx0YXN5bmMgaGFuZGxlQ2hhaW5FbmQob3V0cHV0cywgcnVuSWQsIF9wYXJlbnRSdW5JZCwgX3RhZ3MsIGt3YXJncykge1xuXHRcdGNvbnN0IHJ1biA9IHRoaXMuZ2V0UnVuQnlJZChydW5JZCk7XG5cdFx0aWYgKCFydW4pIHRocm93IG5ldyBFcnJvcihcIk5vIGNoYWluIHJ1biB0byBlbmQuXCIpO1xuXHRcdHJ1bi5lbmRfdGltZSA9IERhdGUubm93KCk7XG5cdFx0cnVuLm91dHB1dHMgPSBfY29lcmNlVG9EaWN0KG91dHB1dHMsIFwib3V0cHV0XCIpO1xuXHRcdHJ1bi5ldmVudHMucHVzaCh7XG5cdFx0XHRuYW1lOiBcImVuZFwiLFxuXHRcdFx0dGltZTogbmV3IERhdGUocnVuLmVuZF90aW1lKS50b0lTT1N0cmluZygpXG5cdFx0fSk7XG5cdFx0aWYgKGt3YXJncz8uaW5wdXRzICE9PSB2b2lkIDApIHJ1bi5pbnB1dHMgPSBfY29lcmNlVG9EaWN0KGt3YXJncy5pbnB1dHMsIFwiaW5wdXRcIik7XG5cdFx0YXdhaXQgdGhpcy5vbkNoYWluRW5kPy4ocnVuKTtcblx0XHRhd2FpdCB0aGlzLl9lbmRUcmFjZShydW4pO1xuXHRcdHJldHVybiBydW47XG5cdH1cblx0YXN5bmMgaGFuZGxlQ2hhaW5FcnJvcihlcnJvciwgcnVuSWQsIF9wYXJlbnRSdW5JZCwgX3RhZ3MsIGt3YXJncykge1xuXHRcdGNvbnN0IHJ1biA9IHRoaXMuZ2V0UnVuQnlJZChydW5JZCk7XG5cdFx0aWYgKCFydW4pIHRocm93IG5ldyBFcnJvcihcIk5vIGNoYWluIHJ1biB0byBlbmQuXCIpO1xuXHRcdHJ1bi5lbmRfdGltZSA9IERhdGUubm93KCk7XG5cdFx0cnVuLmVycm9yID0gdGhpcy5zdHJpbmdpZnlFcnJvcihlcnJvcik7XG5cdFx0cnVuLmV2ZW50cy5wdXNoKHtcblx0XHRcdG5hbWU6IFwiZXJyb3JcIixcblx0XHRcdHRpbWU6IG5ldyBEYXRlKHJ1bi5lbmRfdGltZSkudG9JU09TdHJpbmcoKVxuXHRcdH0pO1xuXHRcdGlmIChrd2FyZ3M/LmlucHV0cyAhPT0gdm9pZCAwKSBydW4uaW5wdXRzID0gX2NvZXJjZVRvRGljdChrd2FyZ3MuaW5wdXRzLCBcImlucHV0XCIpO1xuXHRcdGF3YWl0IHRoaXMub25DaGFpbkVycm9yPy4ocnVuKTtcblx0XHRhd2FpdCB0aGlzLl9lbmRUcmFjZShydW4pO1xuXHRcdHJldHVybiBydW47XG5cdH1cblx0LyoqXG5cdCogQ3JlYXRlIGFuZCBhZGQgYSBydW4gdG8gdGhlIHJ1biBtYXAgZm9yIHRvb2wgc3RhcnQgZXZlbnRzLlxuXHQqIFRoaXMgbXVzdCBzb21ldGltZXMgYmUgZG9uZSBzeW5jaHJvbm91c2x5IHRvIGF2b2lkIHJhY2UgY29uZGl0aW9uc1xuXHQqIHdoZW4gY2FsbGJhY2tzIGFyZSBiYWNrZ3JvdW5kZWQsIHNvIHdlIGV4cG9zZSBpdCBhcyBhIHNlcGFyYXRlIG1ldGhvZCBoZXJlLlxuXHQqL1xuXHRfY3JlYXRlUnVuRm9yVG9vbFN0YXJ0KHRvb2wsIGlucHV0LCBydW5JZCwgcGFyZW50UnVuSWQsIHRhZ3MsIG1ldGFkYXRhLCBuYW1lKSB7XG5cdFx0Y29uc3QgZXhlY3V0aW9uX29yZGVyID0gdGhpcy5fZ2V0RXhlY3V0aW9uT3JkZXIocGFyZW50UnVuSWQpO1xuXHRcdGNvbnN0IHN0YXJ0X3RpbWUgPSBEYXRlLm5vdygpO1xuXHRcdGNvbnN0IHJ1biA9IHtcblx0XHRcdGlkOiBydW5JZCxcblx0XHRcdG5hbWU6IG5hbWUgPz8gdG9vbC5pZFt0b29sLmlkLmxlbmd0aCAtIDFdLFxuXHRcdFx0cGFyZW50X3J1bl9pZDogcGFyZW50UnVuSWQsXG5cdFx0XHRzdGFydF90aW1lLFxuXHRcdFx0c2VyaWFsaXplZDogdG9vbCxcblx0XHRcdGV2ZW50czogW3tcblx0XHRcdFx0bmFtZTogXCJzdGFydFwiLFxuXHRcdFx0XHR0aW1lOiBuZXcgRGF0ZShzdGFydF90aW1lKS50b0lTT1N0cmluZygpXG5cdFx0XHR9XSxcblx0XHRcdGlucHV0czogeyBpbnB1dCB9LFxuXHRcdFx0ZXhlY3V0aW9uX29yZGVyLFxuXHRcdFx0Y2hpbGRfZXhlY3V0aW9uX29yZGVyOiBleGVjdXRpb25fb3JkZXIsXG5cdFx0XHRydW5fdHlwZTogXCJ0b29sXCIsXG5cdFx0XHRjaGlsZF9ydW5zOiBbXSxcblx0XHRcdGV4dHJhOiBtZXRhZGF0YSA/IHsgbWV0YWRhdGEgfSA6IHt9LFxuXHRcdFx0dGFnczogdGFncyB8fCBbXVxuXHRcdH07XG5cdFx0cmV0dXJuIHRoaXMuX2FkZFJ1blRvUnVuTWFwKHJ1bik7XG5cdH1cblx0YXN5bmMgaGFuZGxlVG9vbFN0YXJ0KHRvb2wsIGlucHV0LCBydW5JZCwgcGFyZW50UnVuSWQsIHRhZ3MsIG1ldGFkYXRhLCBuYW1lKSB7XG5cdFx0Y29uc3QgcnVuID0gdGhpcy5nZXRSdW5CeUlkKHJ1bklkKSA/PyB0aGlzLl9jcmVhdGVSdW5Gb3JUb29sU3RhcnQodG9vbCwgaW5wdXQsIHJ1bklkLCBwYXJlbnRSdW5JZCwgdGFncywgbWV0YWRhdGEsIG5hbWUpO1xuXHRcdGF3YWl0IHRoaXMub25SdW5DcmVhdGU/LihydW4pO1xuXHRcdGF3YWl0IHRoaXMub25Ub29sU3RhcnQ/LihydW4pO1xuXHRcdHJldHVybiBydW47XG5cdH1cblx0YXN5bmMgaGFuZGxlVG9vbEVuZChvdXRwdXQsIHJ1bklkKSB7XG5cdFx0Y29uc3QgcnVuID0gdGhpcy5nZXRSdW5CeUlkKHJ1bklkKTtcblx0XHRpZiAoIXJ1biB8fCBydW4/LnJ1bl90eXBlICE9PSBcInRvb2xcIikgdGhyb3cgbmV3IEVycm9yKFwiTm8gdG9vbCBydW4gdG8gZW5kXCIpO1xuXHRcdHJ1bi5lbmRfdGltZSA9IERhdGUubm93KCk7XG5cdFx0cnVuLm91dHB1dHMgPSB7IG91dHB1dCB9O1xuXHRcdHJ1bi5ldmVudHMucHVzaCh7XG5cdFx0XHRuYW1lOiBcImVuZFwiLFxuXHRcdFx0dGltZTogbmV3IERhdGUocnVuLmVuZF90aW1lKS50b0lTT1N0cmluZygpXG5cdFx0fSk7XG5cdFx0YXdhaXQgdGhpcy5vblRvb2xFbmQ/LihydW4pO1xuXHRcdGF3YWl0IHRoaXMuX2VuZFRyYWNlKHJ1bik7XG5cdFx0cmV0dXJuIHJ1bjtcblx0fVxuXHRhc3luYyBoYW5kbGVUb29sRXJyb3IoZXJyb3IsIHJ1bklkKSB7XG5cdFx0Y29uc3QgcnVuID0gdGhpcy5nZXRSdW5CeUlkKHJ1bklkKTtcblx0XHRpZiAoIXJ1biB8fCBydW4/LnJ1bl90eXBlICE9PSBcInRvb2xcIikgdGhyb3cgbmV3IEVycm9yKFwiTm8gdG9vbCBydW4gdG8gZW5kXCIpO1xuXHRcdHJ1bi5lbmRfdGltZSA9IERhdGUubm93KCk7XG5cdFx0cnVuLmVycm9yID0gdGhpcy5zdHJpbmdpZnlFcnJvcihlcnJvcik7XG5cdFx0cnVuLmV2ZW50cy5wdXNoKHtcblx0XHRcdG5hbWU6IFwiZXJyb3JcIixcblx0XHRcdHRpbWU6IG5ldyBEYXRlKHJ1bi5lbmRfdGltZSkudG9JU09TdHJpbmcoKVxuXHRcdH0pO1xuXHRcdGF3YWl0IHRoaXMub25Ub29sRXJyb3I/LihydW4pO1xuXHRcdGF3YWl0IHRoaXMuX2VuZFRyYWNlKHJ1bik7XG5cdFx0cmV0dXJuIHJ1bjtcblx0fVxuXHRhc3luYyBoYW5kbGVBZ2VudEFjdGlvbihhY3Rpb24sIHJ1bklkKSB7XG5cdFx0Y29uc3QgcnVuID0gdGhpcy5nZXRSdW5CeUlkKHJ1bklkKTtcblx0XHRpZiAoIXJ1biB8fCBydW4/LnJ1bl90eXBlICE9PSBcImNoYWluXCIpIHJldHVybjtcblx0XHRjb25zdCBhZ2VudFJ1biA9IHJ1bjtcblx0XHRhZ2VudFJ1bi5hY3Rpb25zID0gYWdlbnRSdW4uYWN0aW9ucyB8fCBbXTtcblx0XHRhZ2VudFJ1bi5hY3Rpb25zLnB1c2goYWN0aW9uKTtcblx0XHRhZ2VudFJ1bi5ldmVudHMucHVzaCh7XG5cdFx0XHRuYW1lOiBcImFnZW50X2FjdGlvblwiLFxuXHRcdFx0dGltZTogKC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpKS50b0lTT1N0cmluZygpLFxuXHRcdFx0a3dhcmdzOiB7IGFjdGlvbiB9XG5cdFx0fSk7XG5cdFx0YXdhaXQgdGhpcy5vbkFnZW50QWN0aW9uPy4ocnVuKTtcblx0fVxuXHRhc3luYyBoYW5kbGVBZ2VudEVuZChhY3Rpb24sIHJ1bklkKSB7XG5cdFx0Y29uc3QgcnVuID0gdGhpcy5nZXRSdW5CeUlkKHJ1bklkKTtcblx0XHRpZiAoIXJ1biB8fCBydW4/LnJ1bl90eXBlICE9PSBcImNoYWluXCIpIHJldHVybjtcblx0XHRydW4uZXZlbnRzLnB1c2goe1xuXHRcdFx0bmFtZTogXCJhZ2VudF9lbmRcIixcblx0XHRcdHRpbWU6ICgvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSkudG9JU09TdHJpbmcoKSxcblx0XHRcdGt3YXJnczogeyBhY3Rpb24gfVxuXHRcdH0pO1xuXHRcdGF3YWl0IHRoaXMub25BZ2VudEVuZD8uKHJ1bik7XG5cdH1cblx0LyoqXG5cdCogQ3JlYXRlIGFuZCBhZGQgYSBydW4gdG8gdGhlIHJ1biBtYXAgZm9yIHJldHJpZXZlciBzdGFydCBldmVudHMuXG5cdCogVGhpcyBtdXN0IHNvbWV0aW1lcyBiZSBkb25lIHN5bmNocm9ub3VzbHkgdG8gYXZvaWQgcmFjZSBjb25kaXRpb25zXG5cdCogd2hlbiBjYWxsYmFja3MgYXJlIGJhY2tncm91bmRlZCwgc28gd2UgZXhwb3NlIGl0IGFzIGEgc2VwYXJhdGUgbWV0aG9kIGhlcmUuXG5cdCovXG5cdF9jcmVhdGVSdW5Gb3JSZXRyaWV2ZXJTdGFydChyZXRyaWV2ZXIsIHF1ZXJ5LCBydW5JZCwgcGFyZW50UnVuSWQsIHRhZ3MsIG1ldGFkYXRhLCBuYW1lKSB7XG5cdFx0Y29uc3QgZXhlY3V0aW9uX29yZGVyID0gdGhpcy5fZ2V0RXhlY3V0aW9uT3JkZXIocGFyZW50UnVuSWQpO1xuXHRcdGNvbnN0IHN0YXJ0X3RpbWUgPSBEYXRlLm5vdygpO1xuXHRcdGNvbnN0IHJ1biA9IHtcblx0XHRcdGlkOiBydW5JZCxcblx0XHRcdG5hbWU6IG5hbWUgPz8gcmV0cmlldmVyLmlkW3JldHJpZXZlci5pZC5sZW5ndGggLSAxXSxcblx0XHRcdHBhcmVudF9ydW5faWQ6IHBhcmVudFJ1bklkLFxuXHRcdFx0c3RhcnRfdGltZSxcblx0XHRcdHNlcmlhbGl6ZWQ6IHJldHJpZXZlcixcblx0XHRcdGV2ZW50czogW3tcblx0XHRcdFx0bmFtZTogXCJzdGFydFwiLFxuXHRcdFx0XHR0aW1lOiBuZXcgRGF0ZShzdGFydF90aW1lKS50b0lTT1N0cmluZygpXG5cdFx0XHR9XSxcblx0XHRcdGlucHV0czogeyBxdWVyeSB9LFxuXHRcdFx0ZXhlY3V0aW9uX29yZGVyLFxuXHRcdFx0Y2hpbGRfZXhlY3V0aW9uX29yZGVyOiBleGVjdXRpb25fb3JkZXIsXG5cdFx0XHRydW5fdHlwZTogXCJyZXRyaWV2ZXJcIixcblx0XHRcdGNoaWxkX3J1bnM6IFtdLFxuXHRcdFx0ZXh0cmE6IG1ldGFkYXRhID8geyBtZXRhZGF0YSB9IDoge30sXG5cdFx0XHR0YWdzOiB0YWdzIHx8IFtdXG5cdFx0fTtcblx0XHRyZXR1cm4gdGhpcy5fYWRkUnVuVG9SdW5NYXAocnVuKTtcblx0fVxuXHRhc3luYyBoYW5kbGVSZXRyaWV2ZXJTdGFydChyZXRyaWV2ZXIsIHF1ZXJ5LCBydW5JZCwgcGFyZW50UnVuSWQsIHRhZ3MsIG1ldGFkYXRhLCBuYW1lKSB7XG5cdFx0Y29uc3QgcnVuID0gdGhpcy5nZXRSdW5CeUlkKHJ1bklkKSA/PyB0aGlzLl9jcmVhdGVSdW5Gb3JSZXRyaWV2ZXJTdGFydChyZXRyaWV2ZXIsIHF1ZXJ5LCBydW5JZCwgcGFyZW50UnVuSWQsIHRhZ3MsIG1ldGFkYXRhLCBuYW1lKTtcblx0XHRhd2FpdCB0aGlzLm9uUnVuQ3JlYXRlPy4ocnVuKTtcblx0XHRhd2FpdCB0aGlzLm9uUmV0cmlldmVyU3RhcnQ/LihydW4pO1xuXHRcdHJldHVybiBydW47XG5cdH1cblx0YXN5bmMgaGFuZGxlUmV0cmlldmVyRW5kKGRvY3VtZW50cywgcnVuSWQpIHtcblx0XHRjb25zdCBydW4gPSB0aGlzLmdldFJ1bkJ5SWQocnVuSWQpO1xuXHRcdGlmICghcnVuIHx8IHJ1bj8ucnVuX3R5cGUgIT09IFwicmV0cmlldmVyXCIpIHRocm93IG5ldyBFcnJvcihcIk5vIHJldHJpZXZlciBydW4gdG8gZW5kXCIpO1xuXHRcdHJ1bi5lbmRfdGltZSA9IERhdGUubm93KCk7XG5cdFx0cnVuLm91dHB1dHMgPSB7IGRvY3VtZW50cyB9O1xuXHRcdHJ1bi5ldmVudHMucHVzaCh7XG5cdFx0XHRuYW1lOiBcImVuZFwiLFxuXHRcdFx0dGltZTogbmV3IERhdGUocnVuLmVuZF90aW1lKS50b0lTT1N0cmluZygpXG5cdFx0fSk7XG5cdFx0YXdhaXQgdGhpcy5vblJldHJpZXZlckVuZD8uKHJ1bik7XG5cdFx0YXdhaXQgdGhpcy5fZW5kVHJhY2UocnVuKTtcblx0XHRyZXR1cm4gcnVuO1xuXHR9XG5cdGFzeW5jIGhhbmRsZVJldHJpZXZlckVycm9yKGVycm9yLCBydW5JZCkge1xuXHRcdGNvbnN0IHJ1biA9IHRoaXMuZ2V0UnVuQnlJZChydW5JZCk7XG5cdFx0aWYgKCFydW4gfHwgcnVuPy5ydW5fdHlwZSAhPT0gXCJyZXRyaWV2ZXJcIikgdGhyb3cgbmV3IEVycm9yKFwiTm8gcmV0cmlldmVyIHJ1biB0byBlbmRcIik7XG5cdFx0cnVuLmVuZF90aW1lID0gRGF0ZS5ub3coKTtcblx0XHRydW4uZXJyb3IgPSB0aGlzLnN0cmluZ2lmeUVycm9yKGVycm9yKTtcblx0XHRydW4uZXZlbnRzLnB1c2goe1xuXHRcdFx0bmFtZTogXCJlcnJvclwiLFxuXHRcdFx0dGltZTogbmV3IERhdGUocnVuLmVuZF90aW1lKS50b0lTT1N0cmluZygpXG5cdFx0fSk7XG5cdFx0YXdhaXQgdGhpcy5vblJldHJpZXZlckVycm9yPy4ocnVuKTtcblx0XHRhd2FpdCB0aGlzLl9lbmRUcmFjZShydW4pO1xuXHRcdHJldHVybiBydW47XG5cdH1cblx0YXN5bmMgaGFuZGxlVGV4dCh0ZXh0LCBydW5JZCkge1xuXHRcdGNvbnN0IHJ1biA9IHRoaXMuZ2V0UnVuQnlJZChydW5JZCk7XG5cdFx0aWYgKCFydW4gfHwgcnVuPy5ydW5fdHlwZSAhPT0gXCJjaGFpblwiKSByZXR1cm47XG5cdFx0cnVuLmV2ZW50cy5wdXNoKHtcblx0XHRcdG5hbWU6IFwidGV4dFwiLFxuXHRcdFx0dGltZTogKC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpKS50b0lTT1N0cmluZygpLFxuXHRcdFx0a3dhcmdzOiB7IHRleHQgfVxuXHRcdH0pO1xuXHRcdGF3YWl0IHRoaXMub25UZXh0Py4ocnVuKTtcblx0fVxuXHRhc3luYyBoYW5kbGVMTE1OZXdUb2tlbih0b2tlbiwgaWR4LCBydW5JZCwgX3BhcmVudFJ1bklkLCBfdGFncywgZmllbGRzKSB7XG5cdFx0Y29uc3QgcnVuID0gdGhpcy5nZXRSdW5CeUlkKHJ1bklkKTtcblx0XHRpZiAoIXJ1biB8fCBydW4/LnJ1bl90eXBlICE9PSBcImxsbVwiKSB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgXCJydW5JZFwiIHByb3ZpZGVkIHRvIFwiaGFuZGxlTExNTmV3VG9rZW5cIiBjYWxsYmFjay5gKTtcblx0XHRydW4uZXZlbnRzLnB1c2goe1xuXHRcdFx0bmFtZTogXCJuZXdfdG9rZW5cIixcblx0XHRcdHRpbWU6ICgvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSkudG9JU09TdHJpbmcoKSxcblx0XHRcdGt3YXJnczoge1xuXHRcdFx0XHR0b2tlbixcblx0XHRcdFx0aWR4LFxuXHRcdFx0XHRjaHVuazogZmllbGRzPy5jaHVua1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdGF3YWl0IHRoaXMub25MTE1OZXdUb2tlbj8uKHJ1biwgdG9rZW4sIHsgY2h1bms6IGZpZWxkcz8uY2h1bmsgfSk7XG5cdFx0cmV0dXJuIHJ1bjtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBCYXNlVHJhY2VyLCBiYXNlX2V4cG9ydHMsIGlzQmFzZVRyYWNlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmFzZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tracers/base.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tracers/console.js":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tracers/console.js ***!
  \*********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConsoleCallbackHandler: () => (/* binding */ ConsoleCallbackHandler),\n/* harmony export */   console_exports: () => (/* binding */ console_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tracers/base.js\");\n/* harmony import */ var ansi_styles__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ansi-styles */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+ansi-styles@5.2.0/node_modules/ansi-styles/index.js\");\n\n\n\n\n//#region src/tracers/console.ts\nvar console_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(console_exports, { ConsoleCallbackHandler: () => ConsoleCallbackHandler });\nfunction wrap(style, text) {\n\treturn `${style.open}${text}${style.close}`;\n}\nfunction tryJsonStringify(obj, fallback) {\n\ttry {\n\t\treturn JSON.stringify(obj, null, 2);\n\t} catch {\n\t\treturn fallback;\n\t}\n}\nfunction formatKVMapItem(value) {\n\tif (typeof value === \"string\") return value.trim();\n\tif (value === null || value === void 0) return value;\n\treturn tryJsonStringify(value, value.toString());\n}\nfunction elapsed(run) {\n\tif (!run.end_time) return \"\";\n\tconst elapsed$1 = run.end_time - run.start_time;\n\tif (elapsed$1 < 1e3) return `${elapsed$1}ms`;\n\treturn `${(elapsed$1 / 1e3).toFixed(2)}s`;\n}\nconst { color } = ansi_styles__WEBPACK_IMPORTED_MODULE_2__;\n/**\n* A tracer that logs all events to the console. It extends from the\n* `BaseTracer` class and overrides its methods to provide custom logging\n* functionality.\n* @example\n* ```typescript\n*\n* const llm = new ChatAnthropic({\n*   temperature: 0,\n*   tags: [\"example\", \"callbacks\", \"constructor\"],\n*   callbacks: [new ConsoleCallbackHandler()],\n* });\n*\n* ```\n*/\nvar ConsoleCallbackHandler = class extends _base_js__WEBPACK_IMPORTED_MODULE_1__.BaseTracer {\n\tname = \"console_callback_handler\";\n\t/**\n\t* Method used to persist the run. In this case, it simply returns a\n\t* resolved promise as there's no persistence logic.\n\t* @param _run The run to persist.\n\t* @returns A resolved promise.\n\t*/\n\tpersistRun(_run) {\n\t\treturn Promise.resolve();\n\t}\n\t/**\n\t* Method used to get all the parent runs of a given run.\n\t* @param run The run whose parents are to be retrieved.\n\t* @returns An array of parent runs.\n\t*/\n\tgetParents(run) {\n\t\tconst parents = [];\n\t\tlet currentRun = run;\n\t\twhile (currentRun.parent_run_id) {\n\t\t\tconst parent = this.runMap.get(currentRun.parent_run_id);\n\t\t\tif (parent) {\n\t\t\t\tparents.push(parent);\n\t\t\t\tcurrentRun = parent;\n\t\t\t} else break;\n\t\t}\n\t\treturn parents;\n\t}\n\t/**\n\t* Method used to get a string representation of the run's lineage, which\n\t* is used in logging.\n\t* @param run The run whose lineage is to be retrieved.\n\t* @returns A string representation of the run's lineage.\n\t*/\n\tgetBreadcrumbs(run) {\n\t\tconst parents = this.getParents(run).reverse();\n\t\tconst string = [...parents, run].map((parent, i, arr) => {\n\t\t\tconst name = `${parent.execution_order}:${parent.run_type}:${parent.name}`;\n\t\t\treturn i === arr.length - 1 ? wrap(ansi_styles__WEBPACK_IMPORTED_MODULE_2__.bold, name) : name;\n\t\t}).join(\" > \");\n\t\treturn wrap(color.grey, string);\n\t}\n\t/**\n\t* Method used to log the start of a chain run.\n\t* @param run The chain run that has started.\n\t* @returns void\n\t*/\n\tonChainStart(run) {\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconsole.log(`${wrap(color.green, \"[chain/start]\")} [${crumbs}] Entering Chain run with input: ${tryJsonStringify(run.inputs, \"[inputs]\")}`);\n\t}\n\t/**\n\t* Method used to log the end of a chain run.\n\t* @param run The chain run that has ended.\n\t* @returns void\n\t*/\n\tonChainEnd(run) {\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconsole.log(`${wrap(color.cyan, \"[chain/end]\")} [${crumbs}] [${elapsed(run)}] Exiting Chain run with output: ${tryJsonStringify(run.outputs, \"[outputs]\")}`);\n\t}\n\t/**\n\t* Method used to log any errors of a chain run.\n\t* @param run The chain run that has errored.\n\t* @returns void\n\t*/\n\tonChainError(run) {\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconsole.log(`${wrap(color.red, \"[chain/error]\")} [${crumbs}] [${elapsed(run)}] Chain run errored with error: ${tryJsonStringify(run.error, \"[error]\")}`);\n\t}\n\t/**\n\t* Method used to log the start of an LLM run.\n\t* @param run The LLM run that has started.\n\t* @returns void\n\t*/\n\tonLLMStart(run) {\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconst inputs = \"prompts\" in run.inputs ? { prompts: run.inputs.prompts.map((p) => p.trim()) } : run.inputs;\n\t\tconsole.log(`${wrap(color.green, \"[llm/start]\")} [${crumbs}] Entering LLM run with input: ${tryJsonStringify(inputs, \"[inputs]\")}`);\n\t}\n\t/**\n\t* Method used to log the end of an LLM run.\n\t* @param run The LLM run that has ended.\n\t* @returns void\n\t*/\n\tonLLMEnd(run) {\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconsole.log(`${wrap(color.cyan, \"[llm/end]\")} [${crumbs}] [${elapsed(run)}] Exiting LLM run with output: ${tryJsonStringify(run.outputs, \"[response]\")}`);\n\t}\n\t/**\n\t* Method used to log any errors of an LLM run.\n\t* @param run The LLM run that has errored.\n\t* @returns void\n\t*/\n\tonLLMError(run) {\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconsole.log(`${wrap(color.red, \"[llm/error]\")} [${crumbs}] [${elapsed(run)}] LLM run errored with error: ${tryJsonStringify(run.error, \"[error]\")}`);\n\t}\n\t/**\n\t* Method used to log the start of a tool run.\n\t* @param run The tool run that has started.\n\t* @returns void\n\t*/\n\tonToolStart(run) {\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconsole.log(`${wrap(color.green, \"[tool/start]\")} [${crumbs}] Entering Tool run with input: \"${formatKVMapItem(run.inputs.input)}\"`);\n\t}\n\t/**\n\t* Method used to log the end of a tool run.\n\t* @param run The tool run that has ended.\n\t* @returns void\n\t*/\n\tonToolEnd(run) {\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconsole.log(`${wrap(color.cyan, \"[tool/end]\")} [${crumbs}] [${elapsed(run)}] Exiting Tool run with output: \"${formatKVMapItem(run.outputs?.output)}\"`);\n\t}\n\t/**\n\t* Method used to log any errors of a tool run.\n\t* @param run The tool run that has errored.\n\t* @returns void\n\t*/\n\tonToolError(run) {\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconsole.log(`${wrap(color.red, \"[tool/error]\")} [${crumbs}] [${elapsed(run)}] Tool run errored with error: ${tryJsonStringify(run.error, \"[error]\")}`);\n\t}\n\t/**\n\t* Method used to log the start of a retriever run.\n\t* @param run The retriever run that has started.\n\t* @returns void\n\t*/\n\tonRetrieverStart(run) {\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconsole.log(`${wrap(color.green, \"[retriever/start]\")} [${crumbs}] Entering Retriever run with input: ${tryJsonStringify(run.inputs, \"[inputs]\")}`);\n\t}\n\t/**\n\t* Method used to log the end of a retriever run.\n\t* @param run The retriever run that has ended.\n\t* @returns void\n\t*/\n\tonRetrieverEnd(run) {\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconsole.log(`${wrap(color.cyan, \"[retriever/end]\")} [${crumbs}] [${elapsed(run)}] Exiting Retriever run with output: ${tryJsonStringify(run.outputs, \"[outputs]\")}`);\n\t}\n\t/**\n\t* Method used to log any errors of a retriever run.\n\t* @param run The retriever run that has errored.\n\t* @returns void\n\t*/\n\tonRetrieverError(run) {\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconsole.log(`${wrap(color.red, \"[retriever/error]\")} [${crumbs}] [${elapsed(run)}] Retriever run errored with error: ${tryJsonStringify(run.error, \"[error]\")}`);\n\t}\n\t/**\n\t* Method used to log the action selected by the agent.\n\t* @param run The run in which the agent action occurred.\n\t* @returns void\n\t*/\n\tonAgentAction(run) {\n\t\tconst agentRun = run;\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconsole.log(`${wrap(color.blue, \"[agent/action]\")} [${crumbs}] Agent selected action: ${tryJsonStringify(agentRun.actions[agentRun.actions.length - 1], \"[action]\")}`);\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=console.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3RyYWNlcnMvY29uc29sZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUEyRDtBQUNwQjtBQUNOOztBQUVqQztBQUNBO0FBQ0Esc0VBQVEsb0JBQW9CLHNEQUFzRDtBQUNsRjtBQUNBLFdBQVcsV0FBVyxFQUFFLEtBQUssRUFBRSxZQUFZO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsVUFBVTtBQUMxQyxXQUFXLDZCQUE2QjtBQUN4QztBQUNBLFFBQVEsUUFBUSxFQUFFLHdDQUFNO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLGdEQUFVO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHVCQUF1QixHQUFHLGdCQUFnQixHQUFHLFlBQVk7QUFDNUUsc0NBQXNDLDZDQUFXO0FBQ2pELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsb0NBQW9DLEdBQUcsT0FBTyxtQ0FBbUMseUNBQXlDO0FBQzNJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsaUNBQWlDLEdBQUcsT0FBTyxLQUFLLGFBQWEsbUNBQW1DLDJDQUEyQztBQUM1SjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGtDQUFrQyxHQUFHLE9BQU8sS0FBSyxhQUFhLGtDQUFrQyx1Q0FBdUM7QUFDeEo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxtREFBbUQ7QUFDaEcsaUJBQWlCLGtDQUFrQyxHQUFHLE9BQU8saUNBQWlDLHFDQUFxQztBQUNuSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLCtCQUErQixHQUFHLE9BQU8sS0FBSyxhQUFhLGlDQUFpQyw0Q0FBNEM7QUFDeko7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixnQ0FBZ0MsR0FBRyxPQUFPLEtBQUssYUFBYSxnQ0FBZ0MsdUNBQXVDO0FBQ3BKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsbUNBQW1DLEdBQUcsT0FBTyxtQ0FBbUMsa0NBQWtDO0FBQ25JO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsZ0NBQWdDLEdBQUcsT0FBTyxLQUFLLGFBQWEsbUNBQW1DLHFDQUFxQztBQUNySjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGlDQUFpQyxHQUFHLE9BQU8sS0FBSyxhQUFhLGlDQUFpQyx1Q0FBdUM7QUFDdEo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix3Q0FBd0MsR0FBRyxPQUFPLHVDQUF1Qyx5Q0FBeUM7QUFDbko7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixxQ0FBcUMsR0FBRyxPQUFPLEtBQUssYUFBYSx1Q0FBdUMsMkNBQTJDO0FBQ3BLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsc0NBQXNDLEdBQUcsT0FBTyxLQUFLLGFBQWEsc0NBQXNDLHVDQUF1QztBQUNoSztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsb0NBQW9DLEdBQUcsT0FBTywyQkFBMkIsNEVBQTRFO0FBQ3RLO0FBQ0E7O0FBRUE7QUFDbUQ7QUFDbkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdHJhY2Vycy9jb25zb2xlLmpzPzhlMjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19leHBvcnQgfSBmcm9tIFwiLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5qc1wiO1xuaW1wb3J0IHsgQmFzZVRyYWNlciB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCBzdHlsZXMgZnJvbSBcImFuc2ktc3R5bGVzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdHJhY2Vycy9jb25zb2xlLnRzXG52YXIgY29uc29sZV9leHBvcnRzID0ge307XG5fX2V4cG9ydChjb25zb2xlX2V4cG9ydHMsIHsgQ29uc29sZUNhbGxiYWNrSGFuZGxlcjogKCkgPT4gQ29uc29sZUNhbGxiYWNrSGFuZGxlciB9KTtcbmZ1bmN0aW9uIHdyYXAoc3R5bGUsIHRleHQpIHtcblx0cmV0dXJuIGAke3N0eWxlLm9wZW59JHt0ZXh0fSR7c3R5bGUuY2xvc2V9YDtcbn1cbmZ1bmN0aW9uIHRyeUpzb25TdHJpbmdpZnkob2JqLCBmYWxsYmFjaykge1xuXHR0cnkge1xuXHRcdHJldHVybiBKU09OLnN0cmluZ2lmeShvYmosIG51bGwsIDIpO1xuXHR9IGNhdGNoIHtcblx0XHRyZXR1cm4gZmFsbGJhY2s7XG5cdH1cbn1cbmZ1bmN0aW9uIGZvcm1hdEtWTWFwSXRlbSh2YWx1ZSkge1xuXHRpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSByZXR1cm4gdmFsdWUudHJpbSgpO1xuXHRpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHZvaWQgMCkgcmV0dXJuIHZhbHVlO1xuXHRyZXR1cm4gdHJ5SnNvblN0cmluZ2lmeSh2YWx1ZSwgdmFsdWUudG9TdHJpbmcoKSk7XG59XG5mdW5jdGlvbiBlbGFwc2VkKHJ1bikge1xuXHRpZiAoIXJ1bi5lbmRfdGltZSkgcmV0dXJuIFwiXCI7XG5cdGNvbnN0IGVsYXBzZWQkMSA9IHJ1bi5lbmRfdGltZSAtIHJ1bi5zdGFydF90aW1lO1xuXHRpZiAoZWxhcHNlZCQxIDwgMWUzKSByZXR1cm4gYCR7ZWxhcHNlZCQxfW1zYDtcblx0cmV0dXJuIGAkeyhlbGFwc2VkJDEgLyAxZTMpLnRvRml4ZWQoMil9c2A7XG59XG5jb25zdCB7IGNvbG9yIH0gPSBzdHlsZXM7XG4vKipcbiogQSB0cmFjZXIgdGhhdCBsb2dzIGFsbCBldmVudHMgdG8gdGhlIGNvbnNvbGUuIEl0IGV4dGVuZHMgZnJvbSB0aGVcbiogYEJhc2VUcmFjZXJgIGNsYXNzIGFuZCBvdmVycmlkZXMgaXRzIG1ldGhvZHMgdG8gcHJvdmlkZSBjdXN0b20gbG9nZ2luZ1xuKiBmdW5jdGlvbmFsaXR5LlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qXG4qIGNvbnN0IGxsbSA9IG5ldyBDaGF0QW50aHJvcGljKHtcbiogICB0ZW1wZXJhdHVyZTogMCxcbiogICB0YWdzOiBbXCJleGFtcGxlXCIsIFwiY2FsbGJhY2tzXCIsIFwiY29uc3RydWN0b3JcIl0sXG4qICAgY2FsbGJhY2tzOiBbbmV3IENvbnNvbGVDYWxsYmFja0hhbmRsZXIoKV0sXG4qIH0pO1xuKlxuKiBgYGBcbiovXG52YXIgQ29uc29sZUNhbGxiYWNrSGFuZGxlciA9IGNsYXNzIGV4dGVuZHMgQmFzZVRyYWNlciB7XG5cdG5hbWUgPSBcImNvbnNvbGVfY2FsbGJhY2tfaGFuZGxlclwiO1xuXHQvKipcblx0KiBNZXRob2QgdXNlZCB0byBwZXJzaXN0IHRoZSBydW4uIEluIHRoaXMgY2FzZSwgaXQgc2ltcGx5IHJldHVybnMgYVxuXHQqIHJlc29sdmVkIHByb21pc2UgYXMgdGhlcmUncyBubyBwZXJzaXN0ZW5jZSBsb2dpYy5cblx0KiBAcGFyYW0gX3J1biBUaGUgcnVuIHRvIHBlcnNpc3QuXG5cdCogQHJldHVybnMgQSByZXNvbHZlZCBwcm9taXNlLlxuXHQqL1xuXHRwZXJzaXN0UnVuKF9ydW4pIHtcblx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG5cdH1cblx0LyoqXG5cdCogTWV0aG9kIHVzZWQgdG8gZ2V0IGFsbCB0aGUgcGFyZW50IHJ1bnMgb2YgYSBnaXZlbiBydW4uXG5cdCogQHBhcmFtIHJ1biBUaGUgcnVuIHdob3NlIHBhcmVudHMgYXJlIHRvIGJlIHJldHJpZXZlZC5cblx0KiBAcmV0dXJucyBBbiBhcnJheSBvZiBwYXJlbnQgcnVucy5cblx0Ki9cblx0Z2V0UGFyZW50cyhydW4pIHtcblx0XHRjb25zdCBwYXJlbnRzID0gW107XG5cdFx0bGV0IGN1cnJlbnRSdW4gPSBydW47XG5cdFx0d2hpbGUgKGN1cnJlbnRSdW4ucGFyZW50X3J1bl9pZCkge1xuXHRcdFx0Y29uc3QgcGFyZW50ID0gdGhpcy5ydW5NYXAuZ2V0KGN1cnJlbnRSdW4ucGFyZW50X3J1bl9pZCk7XG5cdFx0XHRpZiAocGFyZW50KSB7XG5cdFx0XHRcdHBhcmVudHMucHVzaChwYXJlbnQpO1xuXHRcdFx0XHRjdXJyZW50UnVuID0gcGFyZW50O1xuXHRcdFx0fSBlbHNlIGJyZWFrO1xuXHRcdH1cblx0XHRyZXR1cm4gcGFyZW50cztcblx0fVxuXHQvKipcblx0KiBNZXRob2QgdXNlZCB0byBnZXQgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHJ1bidzIGxpbmVhZ2UsIHdoaWNoXG5cdCogaXMgdXNlZCBpbiBsb2dnaW5nLlxuXHQqIEBwYXJhbSBydW4gVGhlIHJ1biB3aG9zZSBsaW5lYWdlIGlzIHRvIGJlIHJldHJpZXZlZC5cblx0KiBAcmV0dXJucyBBIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgcnVuJ3MgbGluZWFnZS5cblx0Ki9cblx0Z2V0QnJlYWRjcnVtYnMocnVuKSB7XG5cdFx0Y29uc3QgcGFyZW50cyA9IHRoaXMuZ2V0UGFyZW50cyhydW4pLnJldmVyc2UoKTtcblx0XHRjb25zdCBzdHJpbmcgPSBbLi4ucGFyZW50cywgcnVuXS5tYXAoKHBhcmVudCwgaSwgYXJyKSA9PiB7XG5cdFx0XHRjb25zdCBuYW1lID0gYCR7cGFyZW50LmV4ZWN1dGlvbl9vcmRlcn06JHtwYXJlbnQucnVuX3R5cGV9OiR7cGFyZW50Lm5hbWV9YDtcblx0XHRcdHJldHVybiBpID09PSBhcnIubGVuZ3RoIC0gMSA/IHdyYXAoc3R5bGVzLmJvbGQsIG5hbWUpIDogbmFtZTtcblx0XHR9KS5qb2luKFwiID4gXCIpO1xuXHRcdHJldHVybiB3cmFwKGNvbG9yLmdyZXksIHN0cmluZyk7XG5cdH1cblx0LyoqXG5cdCogTWV0aG9kIHVzZWQgdG8gbG9nIHRoZSBzdGFydCBvZiBhIGNoYWluIHJ1bi5cblx0KiBAcGFyYW0gcnVuIFRoZSBjaGFpbiBydW4gdGhhdCBoYXMgc3RhcnRlZC5cblx0KiBAcmV0dXJucyB2b2lkXG5cdCovXG5cdG9uQ2hhaW5TdGFydChydW4pIHtcblx0XHRjb25zdCBjcnVtYnMgPSB0aGlzLmdldEJyZWFkY3J1bWJzKHJ1bik7XG5cdFx0Y29uc29sZS5sb2coYCR7d3JhcChjb2xvci5ncmVlbiwgXCJbY2hhaW4vc3RhcnRdXCIpfSBbJHtjcnVtYnN9XSBFbnRlcmluZyBDaGFpbiBydW4gd2l0aCBpbnB1dDogJHt0cnlKc29uU3RyaW5naWZ5KHJ1bi5pbnB1dHMsIFwiW2lucHV0c11cIil9YCk7XG5cdH1cblx0LyoqXG5cdCogTWV0aG9kIHVzZWQgdG8gbG9nIHRoZSBlbmQgb2YgYSBjaGFpbiBydW4uXG5cdCogQHBhcmFtIHJ1biBUaGUgY2hhaW4gcnVuIHRoYXQgaGFzIGVuZGVkLlxuXHQqIEByZXR1cm5zIHZvaWRcblx0Ki9cblx0b25DaGFpbkVuZChydW4pIHtcblx0XHRjb25zdCBjcnVtYnMgPSB0aGlzLmdldEJyZWFkY3J1bWJzKHJ1bik7XG5cdFx0Y29uc29sZS5sb2coYCR7d3JhcChjb2xvci5jeWFuLCBcIltjaGFpbi9lbmRdXCIpfSBbJHtjcnVtYnN9XSBbJHtlbGFwc2VkKHJ1bil9XSBFeGl0aW5nIENoYWluIHJ1biB3aXRoIG91dHB1dDogJHt0cnlKc29uU3RyaW5naWZ5KHJ1bi5vdXRwdXRzLCBcIltvdXRwdXRzXVwiKX1gKTtcblx0fVxuXHQvKipcblx0KiBNZXRob2QgdXNlZCB0byBsb2cgYW55IGVycm9ycyBvZiBhIGNoYWluIHJ1bi5cblx0KiBAcGFyYW0gcnVuIFRoZSBjaGFpbiBydW4gdGhhdCBoYXMgZXJyb3JlZC5cblx0KiBAcmV0dXJucyB2b2lkXG5cdCovXG5cdG9uQ2hhaW5FcnJvcihydW4pIHtcblx0XHRjb25zdCBjcnVtYnMgPSB0aGlzLmdldEJyZWFkY3J1bWJzKHJ1bik7XG5cdFx0Y29uc29sZS5sb2coYCR7d3JhcChjb2xvci5yZWQsIFwiW2NoYWluL2Vycm9yXVwiKX0gWyR7Y3J1bWJzfV0gWyR7ZWxhcHNlZChydW4pfV0gQ2hhaW4gcnVuIGVycm9yZWQgd2l0aCBlcnJvcjogJHt0cnlKc29uU3RyaW5naWZ5KHJ1bi5lcnJvciwgXCJbZXJyb3JdXCIpfWApO1xuXHR9XG5cdC8qKlxuXHQqIE1ldGhvZCB1c2VkIHRvIGxvZyB0aGUgc3RhcnQgb2YgYW4gTExNIHJ1bi5cblx0KiBAcGFyYW0gcnVuIFRoZSBMTE0gcnVuIHRoYXQgaGFzIHN0YXJ0ZWQuXG5cdCogQHJldHVybnMgdm9pZFxuXHQqL1xuXHRvbkxMTVN0YXJ0KHJ1bikge1xuXHRcdGNvbnN0IGNydW1icyA9IHRoaXMuZ2V0QnJlYWRjcnVtYnMocnVuKTtcblx0XHRjb25zdCBpbnB1dHMgPSBcInByb21wdHNcIiBpbiBydW4uaW5wdXRzID8geyBwcm9tcHRzOiBydW4uaW5wdXRzLnByb21wdHMubWFwKChwKSA9PiBwLnRyaW0oKSkgfSA6IHJ1bi5pbnB1dHM7XG5cdFx0Y29uc29sZS5sb2coYCR7d3JhcChjb2xvci5ncmVlbiwgXCJbbGxtL3N0YXJ0XVwiKX0gWyR7Y3J1bWJzfV0gRW50ZXJpbmcgTExNIHJ1biB3aXRoIGlucHV0OiAke3RyeUpzb25TdHJpbmdpZnkoaW5wdXRzLCBcIltpbnB1dHNdXCIpfWApO1xuXHR9XG5cdC8qKlxuXHQqIE1ldGhvZCB1c2VkIHRvIGxvZyB0aGUgZW5kIG9mIGFuIExMTSBydW4uXG5cdCogQHBhcmFtIHJ1biBUaGUgTExNIHJ1biB0aGF0IGhhcyBlbmRlZC5cblx0KiBAcmV0dXJucyB2b2lkXG5cdCovXG5cdG9uTExNRW5kKHJ1bikge1xuXHRcdGNvbnN0IGNydW1icyA9IHRoaXMuZ2V0QnJlYWRjcnVtYnMocnVuKTtcblx0XHRjb25zb2xlLmxvZyhgJHt3cmFwKGNvbG9yLmN5YW4sIFwiW2xsbS9lbmRdXCIpfSBbJHtjcnVtYnN9XSBbJHtlbGFwc2VkKHJ1bil9XSBFeGl0aW5nIExMTSBydW4gd2l0aCBvdXRwdXQ6ICR7dHJ5SnNvblN0cmluZ2lmeShydW4ub3V0cHV0cywgXCJbcmVzcG9uc2VdXCIpfWApO1xuXHR9XG5cdC8qKlxuXHQqIE1ldGhvZCB1c2VkIHRvIGxvZyBhbnkgZXJyb3JzIG9mIGFuIExMTSBydW4uXG5cdCogQHBhcmFtIHJ1biBUaGUgTExNIHJ1biB0aGF0IGhhcyBlcnJvcmVkLlxuXHQqIEByZXR1cm5zIHZvaWRcblx0Ki9cblx0b25MTE1FcnJvcihydW4pIHtcblx0XHRjb25zdCBjcnVtYnMgPSB0aGlzLmdldEJyZWFkY3J1bWJzKHJ1bik7XG5cdFx0Y29uc29sZS5sb2coYCR7d3JhcChjb2xvci5yZWQsIFwiW2xsbS9lcnJvcl1cIil9IFske2NydW1ic31dIFske2VsYXBzZWQocnVuKX1dIExMTSBydW4gZXJyb3JlZCB3aXRoIGVycm9yOiAke3RyeUpzb25TdHJpbmdpZnkocnVuLmVycm9yLCBcIltlcnJvcl1cIil9YCk7XG5cdH1cblx0LyoqXG5cdCogTWV0aG9kIHVzZWQgdG8gbG9nIHRoZSBzdGFydCBvZiBhIHRvb2wgcnVuLlxuXHQqIEBwYXJhbSBydW4gVGhlIHRvb2wgcnVuIHRoYXQgaGFzIHN0YXJ0ZWQuXG5cdCogQHJldHVybnMgdm9pZFxuXHQqL1xuXHRvblRvb2xTdGFydChydW4pIHtcblx0XHRjb25zdCBjcnVtYnMgPSB0aGlzLmdldEJyZWFkY3J1bWJzKHJ1bik7XG5cdFx0Y29uc29sZS5sb2coYCR7d3JhcChjb2xvci5ncmVlbiwgXCJbdG9vbC9zdGFydF1cIil9IFske2NydW1ic31dIEVudGVyaW5nIFRvb2wgcnVuIHdpdGggaW5wdXQ6IFwiJHtmb3JtYXRLVk1hcEl0ZW0ocnVuLmlucHV0cy5pbnB1dCl9XCJgKTtcblx0fVxuXHQvKipcblx0KiBNZXRob2QgdXNlZCB0byBsb2cgdGhlIGVuZCBvZiBhIHRvb2wgcnVuLlxuXHQqIEBwYXJhbSBydW4gVGhlIHRvb2wgcnVuIHRoYXQgaGFzIGVuZGVkLlxuXHQqIEByZXR1cm5zIHZvaWRcblx0Ki9cblx0b25Ub29sRW5kKHJ1bikge1xuXHRcdGNvbnN0IGNydW1icyA9IHRoaXMuZ2V0QnJlYWRjcnVtYnMocnVuKTtcblx0XHRjb25zb2xlLmxvZyhgJHt3cmFwKGNvbG9yLmN5YW4sIFwiW3Rvb2wvZW5kXVwiKX0gWyR7Y3J1bWJzfV0gWyR7ZWxhcHNlZChydW4pfV0gRXhpdGluZyBUb29sIHJ1biB3aXRoIG91dHB1dDogXCIke2Zvcm1hdEtWTWFwSXRlbShydW4ub3V0cHV0cz8ub3V0cHV0KX1cImApO1xuXHR9XG5cdC8qKlxuXHQqIE1ldGhvZCB1c2VkIHRvIGxvZyBhbnkgZXJyb3JzIG9mIGEgdG9vbCBydW4uXG5cdCogQHBhcmFtIHJ1biBUaGUgdG9vbCBydW4gdGhhdCBoYXMgZXJyb3JlZC5cblx0KiBAcmV0dXJucyB2b2lkXG5cdCovXG5cdG9uVG9vbEVycm9yKHJ1bikge1xuXHRcdGNvbnN0IGNydW1icyA9IHRoaXMuZ2V0QnJlYWRjcnVtYnMocnVuKTtcblx0XHRjb25zb2xlLmxvZyhgJHt3cmFwKGNvbG9yLnJlZCwgXCJbdG9vbC9lcnJvcl1cIil9IFske2NydW1ic31dIFske2VsYXBzZWQocnVuKX1dIFRvb2wgcnVuIGVycm9yZWQgd2l0aCBlcnJvcjogJHt0cnlKc29uU3RyaW5naWZ5KHJ1bi5lcnJvciwgXCJbZXJyb3JdXCIpfWApO1xuXHR9XG5cdC8qKlxuXHQqIE1ldGhvZCB1c2VkIHRvIGxvZyB0aGUgc3RhcnQgb2YgYSByZXRyaWV2ZXIgcnVuLlxuXHQqIEBwYXJhbSBydW4gVGhlIHJldHJpZXZlciBydW4gdGhhdCBoYXMgc3RhcnRlZC5cblx0KiBAcmV0dXJucyB2b2lkXG5cdCovXG5cdG9uUmV0cmlldmVyU3RhcnQocnVuKSB7XG5cdFx0Y29uc3QgY3J1bWJzID0gdGhpcy5nZXRCcmVhZGNydW1icyhydW4pO1xuXHRcdGNvbnNvbGUubG9nKGAke3dyYXAoY29sb3IuZ3JlZW4sIFwiW3JldHJpZXZlci9zdGFydF1cIil9IFske2NydW1ic31dIEVudGVyaW5nIFJldHJpZXZlciBydW4gd2l0aCBpbnB1dDogJHt0cnlKc29uU3RyaW5naWZ5KHJ1bi5pbnB1dHMsIFwiW2lucHV0c11cIil9YCk7XG5cdH1cblx0LyoqXG5cdCogTWV0aG9kIHVzZWQgdG8gbG9nIHRoZSBlbmQgb2YgYSByZXRyaWV2ZXIgcnVuLlxuXHQqIEBwYXJhbSBydW4gVGhlIHJldHJpZXZlciBydW4gdGhhdCBoYXMgZW5kZWQuXG5cdCogQHJldHVybnMgdm9pZFxuXHQqL1xuXHRvblJldHJpZXZlckVuZChydW4pIHtcblx0XHRjb25zdCBjcnVtYnMgPSB0aGlzLmdldEJyZWFkY3J1bWJzKHJ1bik7XG5cdFx0Y29uc29sZS5sb2coYCR7d3JhcChjb2xvci5jeWFuLCBcIltyZXRyaWV2ZXIvZW5kXVwiKX0gWyR7Y3J1bWJzfV0gWyR7ZWxhcHNlZChydW4pfV0gRXhpdGluZyBSZXRyaWV2ZXIgcnVuIHdpdGggb3V0cHV0OiAke3RyeUpzb25TdHJpbmdpZnkocnVuLm91dHB1dHMsIFwiW291dHB1dHNdXCIpfWApO1xuXHR9XG5cdC8qKlxuXHQqIE1ldGhvZCB1c2VkIHRvIGxvZyBhbnkgZXJyb3JzIG9mIGEgcmV0cmlldmVyIHJ1bi5cblx0KiBAcGFyYW0gcnVuIFRoZSByZXRyaWV2ZXIgcnVuIHRoYXQgaGFzIGVycm9yZWQuXG5cdCogQHJldHVybnMgdm9pZFxuXHQqL1xuXHRvblJldHJpZXZlckVycm9yKHJ1bikge1xuXHRcdGNvbnN0IGNydW1icyA9IHRoaXMuZ2V0QnJlYWRjcnVtYnMocnVuKTtcblx0XHRjb25zb2xlLmxvZyhgJHt3cmFwKGNvbG9yLnJlZCwgXCJbcmV0cmlldmVyL2Vycm9yXVwiKX0gWyR7Y3J1bWJzfV0gWyR7ZWxhcHNlZChydW4pfV0gUmV0cmlldmVyIHJ1biBlcnJvcmVkIHdpdGggZXJyb3I6ICR7dHJ5SnNvblN0cmluZ2lmeShydW4uZXJyb3IsIFwiW2Vycm9yXVwiKX1gKTtcblx0fVxuXHQvKipcblx0KiBNZXRob2QgdXNlZCB0byBsb2cgdGhlIGFjdGlvbiBzZWxlY3RlZCBieSB0aGUgYWdlbnQuXG5cdCogQHBhcmFtIHJ1biBUaGUgcnVuIGluIHdoaWNoIHRoZSBhZ2VudCBhY3Rpb24gb2NjdXJyZWQuXG5cdCogQHJldHVybnMgdm9pZFxuXHQqL1xuXHRvbkFnZW50QWN0aW9uKHJ1bikge1xuXHRcdGNvbnN0IGFnZW50UnVuID0gcnVuO1xuXHRcdGNvbnN0IGNydW1icyA9IHRoaXMuZ2V0QnJlYWRjcnVtYnMocnVuKTtcblx0XHRjb25zb2xlLmxvZyhgJHt3cmFwKGNvbG9yLmJsdWUsIFwiW2FnZW50L2FjdGlvbl1cIil9IFske2NydW1ic31dIEFnZW50IHNlbGVjdGVkIGFjdGlvbjogJHt0cnlKc29uU3RyaW5naWZ5KGFnZW50UnVuLmFjdGlvbnNbYWdlbnRSdW4uYWN0aW9ucy5sZW5ndGggLSAxXSwgXCJbYWN0aW9uXVwiKX1gKTtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBDb25zb2xlQ2FsbGJhY2tIYW5kbGVyLCBjb25zb2xlX2V4cG9ydHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnNvbGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tracers/console.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tracers/event_stream.js":
/*!**************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tracers/event_stream.js ***!
  \**************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EventStreamCallbackHandler: () => (/* binding */ EventStreamCallbackHandler),\n/* harmony export */   isStreamEventsHandler: () => (/* binding */ isStreamEventsHandler)\n/* harmony export */ });\n/* harmony import */ var _messages_ai_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../messages/ai.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/ai.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tracers/base.js\");\n/* harmony import */ var _utils_stream_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/stream.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/stream.js\");\n/* harmony import */ var _outputs_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../outputs.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/outputs.js\");\n\n\n\n\n\n//#region src/tracers/event_stream.ts\nfunction assignName({ name, serialized }) {\n\tif (name !== void 0) return name;\n\tif (serialized?.name !== void 0) return serialized.name;\n\telse if (serialized?.id !== void 0 && Array.isArray(serialized?.id)) return serialized.id[serialized.id.length - 1];\n\treturn \"Unnamed\";\n}\nconst isStreamEventsHandler = (handler) => handler.name === \"event_stream_tracer\";\n/**\n* Class that extends the `BaseTracer` class from the\n* `langchain.callbacks.tracers.base` module. It represents a callback\n* handler that logs the execution of runs and emits `RunLog` instances to a\n* `RunLogStream`.\n*/\nvar EventStreamCallbackHandler = class extends _base_js__WEBPACK_IMPORTED_MODULE_1__.BaseTracer {\n\tautoClose = true;\n\tincludeNames;\n\tincludeTypes;\n\tincludeTags;\n\texcludeNames;\n\texcludeTypes;\n\texcludeTags;\n\trunInfoMap = /* @__PURE__ */ new Map();\n\ttappedPromises = /* @__PURE__ */ new Map();\n\ttransformStream;\n\twriter;\n\treceiveStream;\n\treadableStreamClosed = false;\n\tname = \"event_stream_tracer\";\n\tlc_prefer_streaming = true;\n\tconstructor(fields) {\n\t\tsuper({\n\t\t\t_awaitHandler: true,\n\t\t\t...fields\n\t\t});\n\t\tthis.autoClose = fields?.autoClose ?? true;\n\t\tthis.includeNames = fields?.includeNames;\n\t\tthis.includeTypes = fields?.includeTypes;\n\t\tthis.includeTags = fields?.includeTags;\n\t\tthis.excludeNames = fields?.excludeNames;\n\t\tthis.excludeTypes = fields?.excludeTypes;\n\t\tthis.excludeTags = fields?.excludeTags;\n\t\tthis.transformStream = new TransformStream({ flush: () => {\n\t\t\tthis.readableStreamClosed = true;\n\t\t} });\n\t\tthis.writer = this.transformStream.writable.getWriter();\n\t\tthis.receiveStream = _utils_stream_js__WEBPACK_IMPORTED_MODULE_2__.IterableReadableStream.fromReadableStream(this.transformStream.readable);\n\t}\n\t[Symbol.asyncIterator]() {\n\t\treturn this.receiveStream;\n\t}\n\tasync persistRun(_run) {}\n\t_includeRun(run) {\n\t\tconst runTags = run.tags ?? [];\n\t\tlet include = this.includeNames === void 0 && this.includeTags === void 0 && this.includeTypes === void 0;\n\t\tif (this.includeNames !== void 0) include = include || this.includeNames.includes(run.name);\n\t\tif (this.includeTypes !== void 0) include = include || this.includeTypes.includes(run.runType);\n\t\tif (this.includeTags !== void 0) include = include || runTags.find((tag) => this.includeTags?.includes(tag)) !== void 0;\n\t\tif (this.excludeNames !== void 0) include = include && !this.excludeNames.includes(run.name);\n\t\tif (this.excludeTypes !== void 0) include = include && !this.excludeTypes.includes(run.runType);\n\t\tif (this.excludeTags !== void 0) include = include && runTags.every((tag) => !this.excludeTags?.includes(tag));\n\t\treturn include;\n\t}\n\tasync *tapOutputIterable(runId, outputStream) {\n\t\tconst firstChunk = await outputStream.next();\n\t\tif (firstChunk.done) return;\n\t\tconst runInfo = this.runInfoMap.get(runId);\n\t\tif (runInfo === void 0) {\n\t\t\tyield firstChunk.value;\n\t\t\treturn;\n\t\t}\n\t\tfunction _formatOutputChunk(eventType, data) {\n\t\t\tif (eventType === \"llm\" && typeof data === \"string\") return new _outputs_js__WEBPACK_IMPORTED_MODULE_3__.GenerationChunk({ text: data });\n\t\t\treturn data;\n\t\t}\n\t\tlet tappedPromise = this.tappedPromises.get(runId);\n\t\tif (tappedPromise === void 0) {\n\t\t\tlet tappedPromiseResolver;\n\t\t\ttappedPromise = new Promise((resolve) => {\n\t\t\t\ttappedPromiseResolver = resolve;\n\t\t\t});\n\t\t\tthis.tappedPromises.set(runId, tappedPromise);\n\t\t\ttry {\n\t\t\t\tconst event = {\n\t\t\t\t\tevent: `on_${runInfo.runType}_stream`,\n\t\t\t\t\trun_id: runId,\n\t\t\t\t\tname: runInfo.name,\n\t\t\t\t\ttags: runInfo.tags,\n\t\t\t\t\tmetadata: runInfo.metadata,\n\t\t\t\t\tdata: {}\n\t\t\t\t};\n\t\t\t\tawait this.send({\n\t\t\t\t\t...event,\n\t\t\t\t\tdata: { chunk: _formatOutputChunk(runInfo.runType, firstChunk.value) }\n\t\t\t\t}, runInfo);\n\t\t\t\tyield firstChunk.value;\n\t\t\t\tfor await (const chunk of outputStream) {\n\t\t\t\t\tif (runInfo.runType !== \"tool\" && runInfo.runType !== \"retriever\") await this.send({\n\t\t\t\t\t\t...event,\n\t\t\t\t\t\tdata: { chunk: _formatOutputChunk(runInfo.runType, chunk) }\n\t\t\t\t\t}, runInfo);\n\t\t\t\t\tyield chunk;\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\ttappedPromiseResolver?.();\n\t\t\t}\n\t\t} else {\n\t\t\tyield firstChunk.value;\n\t\t\tfor await (const chunk of outputStream) yield chunk;\n\t\t}\n\t}\n\tasync send(payload, run) {\n\t\tif (this.readableStreamClosed) return;\n\t\tif (this._includeRun(run)) await this.writer.write(payload);\n\t}\n\tasync sendEndEvent(payload, run) {\n\t\tconst tappedPromise = this.tappedPromises.get(payload.run_id);\n\t\tif (tappedPromise !== void 0) tappedPromise.then(() => {\n\t\t\tthis.send(payload, run);\n\t\t});\n\t\telse await this.send(payload, run);\n\t}\n\tasync onLLMStart(run) {\n\t\tconst runName = assignName(run);\n\t\tconst runType = run.inputs.messages !== void 0 ? \"chat_model\" : \"llm\";\n\t\tconst runInfo = {\n\t\t\ttags: run.tags ?? [],\n\t\t\tmetadata: run.extra?.metadata ?? {},\n\t\t\tname: runName,\n\t\t\trunType,\n\t\t\tinputs: run.inputs\n\t\t};\n\t\tthis.runInfoMap.set(run.id, runInfo);\n\t\tconst eventName = `on_${runType}_start`;\n\t\tawait this.send({\n\t\t\tevent: eventName,\n\t\t\tdata: { input: run.inputs },\n\t\t\tname: runName,\n\t\t\ttags: run.tags ?? [],\n\t\t\trun_id: run.id,\n\t\t\tmetadata: run.extra?.metadata ?? {}\n\t\t}, runInfo);\n\t}\n\tasync onLLMNewToken(run, token, kwargs) {\n\t\tconst runInfo = this.runInfoMap.get(run.id);\n\t\tlet chunk;\n\t\tlet eventName;\n\t\tif (runInfo === void 0) throw new Error(`onLLMNewToken: Run ID ${run.id} not found in run map.`);\n\t\tif (this.runInfoMap.size === 1) return;\n\t\tif (runInfo.runType === \"chat_model\") {\n\t\t\teventName = \"on_chat_model_stream\";\n\t\t\tif (kwargs?.chunk === void 0) chunk = new _messages_ai_js__WEBPACK_IMPORTED_MODULE_0__.AIMessageChunk({\n\t\t\t\tcontent: token,\n\t\t\t\tid: `run-${run.id}`\n\t\t\t});\n\t\t\telse chunk = kwargs.chunk.message;\n\t\t} else if (runInfo.runType === \"llm\") {\n\t\t\teventName = \"on_llm_stream\";\n\t\t\tif (kwargs?.chunk === void 0) chunk = new _outputs_js__WEBPACK_IMPORTED_MODULE_3__.GenerationChunk({ text: token });\n\t\t\telse chunk = kwargs.chunk;\n\t\t} else throw new Error(`Unexpected run type ${runInfo.runType}`);\n\t\tawait this.send({\n\t\t\tevent: eventName,\n\t\t\tdata: { chunk },\n\t\t\trun_id: run.id,\n\t\t\tname: runInfo.name,\n\t\t\ttags: runInfo.tags,\n\t\t\tmetadata: runInfo.metadata\n\t\t}, runInfo);\n\t}\n\tasync onLLMEnd(run) {\n\t\tconst runInfo = this.runInfoMap.get(run.id);\n\t\tthis.runInfoMap.delete(run.id);\n\t\tlet eventName;\n\t\tif (runInfo === void 0) throw new Error(`onLLMEnd: Run ID ${run.id} not found in run map.`);\n\t\tconst generations = run.outputs?.generations;\n\t\tlet output;\n\t\tif (runInfo.runType === \"chat_model\") {\n\t\t\tfor (const generation of generations ?? []) {\n\t\t\t\tif (output !== void 0) break;\n\t\t\t\toutput = generation[0]?.message;\n\t\t\t}\n\t\t\teventName = \"on_chat_model_end\";\n\t\t} else if (runInfo.runType === \"llm\") {\n\t\t\toutput = {\n\t\t\t\tgenerations: generations?.map((generation) => {\n\t\t\t\t\treturn generation.map((chunk) => {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttext: chunk.text,\n\t\t\t\t\t\t\tgenerationInfo: chunk.generationInfo\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t}),\n\t\t\t\tllmOutput: run.outputs?.llmOutput ?? {}\n\t\t\t};\n\t\t\teventName = \"on_llm_end\";\n\t\t} else throw new Error(`onLLMEnd: Unexpected run type: ${runInfo.runType}`);\n\t\tawait this.sendEndEvent({\n\t\t\tevent: eventName,\n\t\t\tdata: {\n\t\t\t\toutput,\n\t\t\t\tinput: runInfo.inputs\n\t\t\t},\n\t\t\trun_id: run.id,\n\t\t\tname: runInfo.name,\n\t\t\ttags: runInfo.tags,\n\t\t\tmetadata: runInfo.metadata\n\t\t}, runInfo);\n\t}\n\tasync onChainStart(run) {\n\t\tconst runName = assignName(run);\n\t\tconst runType = run.run_type ?? \"chain\";\n\t\tconst runInfo = {\n\t\t\ttags: run.tags ?? [],\n\t\t\tmetadata: run.extra?.metadata ?? {},\n\t\t\tname: runName,\n\t\t\trunType: run.run_type\n\t\t};\n\t\tlet eventData = {};\n\t\tif (run.inputs.input === \"\" && Object.keys(run.inputs).length === 1) {\n\t\t\teventData = {};\n\t\t\trunInfo.inputs = {};\n\t\t} else if (run.inputs.input !== void 0) {\n\t\t\teventData.input = run.inputs.input;\n\t\t\trunInfo.inputs = run.inputs.input;\n\t\t} else {\n\t\t\teventData.input = run.inputs;\n\t\t\trunInfo.inputs = run.inputs;\n\t\t}\n\t\tthis.runInfoMap.set(run.id, runInfo);\n\t\tawait this.send({\n\t\t\tevent: `on_${runType}_start`,\n\t\t\tdata: eventData,\n\t\t\tname: runName,\n\t\t\ttags: run.tags ?? [],\n\t\t\trun_id: run.id,\n\t\t\tmetadata: run.extra?.metadata ?? {}\n\t\t}, runInfo);\n\t}\n\tasync onChainEnd(run) {\n\t\tconst runInfo = this.runInfoMap.get(run.id);\n\t\tthis.runInfoMap.delete(run.id);\n\t\tif (runInfo === void 0) throw new Error(`onChainEnd: Run ID ${run.id} not found in run map.`);\n\t\tconst eventName = `on_${run.run_type}_end`;\n\t\tconst inputs = run.inputs ?? runInfo.inputs ?? {};\n\t\tconst outputs = run.outputs?.output ?? run.outputs;\n\t\tconst data = {\n\t\t\toutput: outputs,\n\t\t\tinput: inputs\n\t\t};\n\t\tif (inputs.input && Object.keys(inputs).length === 1) {\n\t\t\tdata.input = inputs.input;\n\t\t\trunInfo.inputs = inputs.input;\n\t\t}\n\t\tawait this.sendEndEvent({\n\t\t\tevent: eventName,\n\t\t\tdata,\n\t\t\trun_id: run.id,\n\t\t\tname: runInfo.name,\n\t\t\ttags: runInfo.tags,\n\t\t\tmetadata: runInfo.metadata ?? {}\n\t\t}, runInfo);\n\t}\n\tasync onToolStart(run) {\n\t\tconst runName = assignName(run);\n\t\tconst runInfo = {\n\t\t\ttags: run.tags ?? [],\n\t\t\tmetadata: run.extra?.metadata ?? {},\n\t\t\tname: runName,\n\t\t\trunType: \"tool\",\n\t\t\tinputs: run.inputs ?? {}\n\t\t};\n\t\tthis.runInfoMap.set(run.id, runInfo);\n\t\tawait this.send({\n\t\t\tevent: \"on_tool_start\",\n\t\t\tdata: { input: run.inputs ?? {} },\n\t\t\tname: runName,\n\t\t\trun_id: run.id,\n\t\t\ttags: run.tags ?? [],\n\t\t\tmetadata: run.extra?.metadata ?? {}\n\t\t}, runInfo);\n\t}\n\tasync onToolEnd(run) {\n\t\tconst runInfo = this.runInfoMap.get(run.id);\n\t\tthis.runInfoMap.delete(run.id);\n\t\tif (runInfo === void 0) throw new Error(`onToolEnd: Run ID ${run.id} not found in run map.`);\n\t\tif (runInfo.inputs === void 0) throw new Error(`onToolEnd: Run ID ${run.id} is a tool call, and is expected to have traced inputs.`);\n\t\tconst output = run.outputs?.output === void 0 ? run.outputs : run.outputs.output;\n\t\tawait this.sendEndEvent({\n\t\t\tevent: \"on_tool_end\",\n\t\t\tdata: {\n\t\t\t\toutput,\n\t\t\t\tinput: runInfo.inputs\n\t\t\t},\n\t\t\trun_id: run.id,\n\t\t\tname: runInfo.name,\n\t\t\ttags: runInfo.tags,\n\t\t\tmetadata: runInfo.metadata\n\t\t}, runInfo);\n\t}\n\tasync onToolError(run) {\n\t\tconst runInfo = this.runInfoMap.get(run.id);\n\t\tthis.runInfoMap.delete(run.id);\n\t\tif (runInfo === void 0) throw new Error(`onToolEnd: Run ID ${run.id} not found in run map.`);\n\t\tif (runInfo.inputs === void 0) throw new Error(`onToolEnd: Run ID ${run.id} is a tool call, and is expected to have traced inputs.`);\n\t\tawait this.sendEndEvent({\n\t\t\tevent: \"on_tool_error\",\n\t\t\tdata: {\n\t\t\t\tinput: runInfo.inputs,\n\t\t\t\terror: run.error\n\t\t\t},\n\t\t\trun_id: run.id,\n\t\t\tname: runInfo.name,\n\t\t\ttags: runInfo.tags,\n\t\t\tmetadata: runInfo.metadata\n\t\t}, runInfo);\n\t}\n\tasync onRetrieverStart(run) {\n\t\tconst runName = assignName(run);\n\t\tconst runType = \"retriever\";\n\t\tconst runInfo = {\n\t\t\ttags: run.tags ?? [],\n\t\t\tmetadata: run.extra?.metadata ?? {},\n\t\t\tname: runName,\n\t\t\trunType,\n\t\t\tinputs: { query: run.inputs.query }\n\t\t};\n\t\tthis.runInfoMap.set(run.id, runInfo);\n\t\tawait this.send({\n\t\t\tevent: \"on_retriever_start\",\n\t\t\tdata: { input: { query: run.inputs.query } },\n\t\t\tname: runName,\n\t\t\ttags: run.tags ?? [],\n\t\t\trun_id: run.id,\n\t\t\tmetadata: run.extra?.metadata ?? {}\n\t\t}, runInfo);\n\t}\n\tasync onRetrieverEnd(run) {\n\t\tconst runInfo = this.runInfoMap.get(run.id);\n\t\tthis.runInfoMap.delete(run.id);\n\t\tif (runInfo === void 0) throw new Error(`onRetrieverEnd: Run ID ${run.id} not found in run map.`);\n\t\tawait this.sendEndEvent({\n\t\t\tevent: \"on_retriever_end\",\n\t\t\tdata: {\n\t\t\t\toutput: run.outputs?.documents ?? run.outputs,\n\t\t\t\tinput: runInfo.inputs\n\t\t\t},\n\t\t\trun_id: run.id,\n\t\t\tname: runInfo.name,\n\t\t\ttags: runInfo.tags,\n\t\t\tmetadata: runInfo.metadata\n\t\t}, runInfo);\n\t}\n\tasync handleCustomEvent(eventName, data, runId) {\n\t\tconst runInfo = this.runInfoMap.get(runId);\n\t\tif (runInfo === void 0) throw new Error(`handleCustomEvent: Run ID ${runId} not found in run map.`);\n\t\tawait this.send({\n\t\t\tevent: \"on_custom_event\",\n\t\t\trun_id: runId,\n\t\t\tname: eventName,\n\t\t\ttags: runInfo.tags,\n\t\t\tmetadata: runInfo.metadata,\n\t\t\tdata\n\t\t}, runInfo);\n\t}\n\tasync finish() {\n\t\tconst pendingPromises = [...this.tappedPromises.values()];\n\t\tPromise.all(pendingPromises).finally(() => {\n\t\t\tthis.writer.close();\n\t\t});\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=event_stream.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3RyYWNlcnMvZXZlbnRfc3RyZWFtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFtRDtBQUNaO0FBQ3FCO0FBQ1o7O0FBRWhEO0FBQ0Esc0JBQXNCLGtCQUFrQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsZ0RBQVU7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0M7QUFDL0M7QUFDQSxLQUFLO0FBQ0w7QUFDQSx1QkFBdUIsb0VBQXNCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLHdEQUFlLEdBQUcsWUFBWTtBQUNqRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsZ0JBQWdCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkLE1BQU07QUFDTjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsUUFBUTtBQUNsQztBQUNBO0FBQ0EsV0FBVyxtQkFBbUI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRSxRQUFRO0FBQzNFO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QywyREFBYztBQUMzRDtBQUNBLGVBQWUsT0FBTztBQUN0QixJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQSw2Q0FBNkMsd0RBQWUsR0FBRyxhQUFhO0FBQzVFO0FBQ0EsSUFBSSw0Q0FBNEMsZ0JBQWdCO0FBQ2hFO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCxRQUFRO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLElBQUksdURBQXVELGdCQUFnQjtBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLFFBQVE7QUFDeEUsMEJBQTBCLGFBQWE7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyx5QkFBeUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0QsUUFBUTtBQUN2RSxzRUFBc0UsUUFBUTtBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0QsUUFBUTtBQUN2RSxzRUFBc0UsUUFBUTtBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTLDJCQUEyQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRSxRQUFRO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsdUVBQXVFLE9BQU87QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQzZEO0FBQzdEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3RyYWNlcnMvZXZlbnRfc3RyZWFtLmpzPzQ3YTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQUlNZXNzYWdlQ2h1bmsgfSBmcm9tIFwiLi4vbWVzc2FnZXMvYWkuanNcIjtcbmltcG9ydCB7IEJhc2VUcmFjZXIgfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5pbXBvcnQgeyBJdGVyYWJsZVJlYWRhYmxlU3RyZWFtIH0gZnJvbSBcIi4uL3V0aWxzL3N0cmVhbS5qc1wiO1xuaW1wb3J0IHsgR2VuZXJhdGlvbkNodW5rIH0gZnJvbSBcIi4uL291dHB1dHMuanNcIjtcblxuLy8jcmVnaW9uIHNyYy90cmFjZXJzL2V2ZW50X3N0cmVhbS50c1xuZnVuY3Rpb24gYXNzaWduTmFtZSh7IG5hbWUsIHNlcmlhbGl6ZWQgfSkge1xuXHRpZiAobmFtZSAhPT0gdm9pZCAwKSByZXR1cm4gbmFtZTtcblx0aWYgKHNlcmlhbGl6ZWQ/Lm5hbWUgIT09IHZvaWQgMCkgcmV0dXJuIHNlcmlhbGl6ZWQubmFtZTtcblx0ZWxzZSBpZiAoc2VyaWFsaXplZD8uaWQgIT09IHZvaWQgMCAmJiBBcnJheS5pc0FycmF5KHNlcmlhbGl6ZWQ/LmlkKSkgcmV0dXJuIHNlcmlhbGl6ZWQuaWRbc2VyaWFsaXplZC5pZC5sZW5ndGggLSAxXTtcblx0cmV0dXJuIFwiVW5uYW1lZFwiO1xufVxuY29uc3QgaXNTdHJlYW1FdmVudHNIYW5kbGVyID0gKGhhbmRsZXIpID0+IGhhbmRsZXIubmFtZSA9PT0gXCJldmVudF9zdHJlYW1fdHJhY2VyXCI7XG4vKipcbiogQ2xhc3MgdGhhdCBleHRlbmRzIHRoZSBgQmFzZVRyYWNlcmAgY2xhc3MgZnJvbSB0aGVcbiogYGxhbmdjaGFpbi5jYWxsYmFja3MudHJhY2Vycy5iYXNlYCBtb2R1bGUuIEl0IHJlcHJlc2VudHMgYSBjYWxsYmFja1xuKiBoYW5kbGVyIHRoYXQgbG9ncyB0aGUgZXhlY3V0aW9uIG9mIHJ1bnMgYW5kIGVtaXRzIGBSdW5Mb2dgIGluc3RhbmNlcyB0byBhXG4qIGBSdW5Mb2dTdHJlYW1gLlxuKi9cbnZhciBFdmVudFN0cmVhbUNhbGxiYWNrSGFuZGxlciA9IGNsYXNzIGV4dGVuZHMgQmFzZVRyYWNlciB7XG5cdGF1dG9DbG9zZSA9IHRydWU7XG5cdGluY2x1ZGVOYW1lcztcblx0aW5jbHVkZVR5cGVzO1xuXHRpbmNsdWRlVGFncztcblx0ZXhjbHVkZU5hbWVzO1xuXHRleGNsdWRlVHlwZXM7XG5cdGV4Y2x1ZGVUYWdzO1xuXHRydW5JbmZvTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcblx0dGFwcGVkUHJvbWlzZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuXHR0cmFuc2Zvcm1TdHJlYW07XG5cdHdyaXRlcjtcblx0cmVjZWl2ZVN0cmVhbTtcblx0cmVhZGFibGVTdHJlYW1DbG9zZWQgPSBmYWxzZTtcblx0bmFtZSA9IFwiZXZlbnRfc3RyZWFtX3RyYWNlclwiO1xuXHRsY19wcmVmZXJfc3RyZWFtaW5nID0gdHJ1ZTtcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoe1xuXHRcdFx0X2F3YWl0SGFuZGxlcjogdHJ1ZSxcblx0XHRcdC4uLmZpZWxkc1xuXHRcdH0pO1xuXHRcdHRoaXMuYXV0b0Nsb3NlID0gZmllbGRzPy5hdXRvQ2xvc2UgPz8gdHJ1ZTtcblx0XHR0aGlzLmluY2x1ZGVOYW1lcyA9IGZpZWxkcz8uaW5jbHVkZU5hbWVzO1xuXHRcdHRoaXMuaW5jbHVkZVR5cGVzID0gZmllbGRzPy5pbmNsdWRlVHlwZXM7XG5cdFx0dGhpcy5pbmNsdWRlVGFncyA9IGZpZWxkcz8uaW5jbHVkZVRhZ3M7XG5cdFx0dGhpcy5leGNsdWRlTmFtZXMgPSBmaWVsZHM/LmV4Y2x1ZGVOYW1lcztcblx0XHR0aGlzLmV4Y2x1ZGVUeXBlcyA9IGZpZWxkcz8uZXhjbHVkZVR5cGVzO1xuXHRcdHRoaXMuZXhjbHVkZVRhZ3MgPSBmaWVsZHM/LmV4Y2x1ZGVUYWdzO1xuXHRcdHRoaXMudHJhbnNmb3JtU3RyZWFtID0gbmV3IFRyYW5zZm9ybVN0cmVhbSh7IGZsdXNoOiAoKSA9PiB7XG5cdFx0XHR0aGlzLnJlYWRhYmxlU3RyZWFtQ2xvc2VkID0gdHJ1ZTtcblx0XHR9IH0pO1xuXHRcdHRoaXMud3JpdGVyID0gdGhpcy50cmFuc2Zvcm1TdHJlYW0ud3JpdGFibGUuZ2V0V3JpdGVyKCk7XG5cdFx0dGhpcy5yZWNlaXZlU3RyZWFtID0gSXRlcmFibGVSZWFkYWJsZVN0cmVhbS5mcm9tUmVhZGFibGVTdHJlYW0odGhpcy50cmFuc2Zvcm1TdHJlYW0ucmVhZGFibGUpO1xuXHR9XG5cdFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKSB7XG5cdFx0cmV0dXJuIHRoaXMucmVjZWl2ZVN0cmVhbTtcblx0fVxuXHRhc3luYyBwZXJzaXN0UnVuKF9ydW4pIHt9XG5cdF9pbmNsdWRlUnVuKHJ1bikge1xuXHRcdGNvbnN0IHJ1blRhZ3MgPSBydW4udGFncyA/PyBbXTtcblx0XHRsZXQgaW5jbHVkZSA9IHRoaXMuaW5jbHVkZU5hbWVzID09PSB2b2lkIDAgJiYgdGhpcy5pbmNsdWRlVGFncyA9PT0gdm9pZCAwICYmIHRoaXMuaW5jbHVkZVR5cGVzID09PSB2b2lkIDA7XG5cdFx0aWYgKHRoaXMuaW5jbHVkZU5hbWVzICE9PSB2b2lkIDApIGluY2x1ZGUgPSBpbmNsdWRlIHx8IHRoaXMuaW5jbHVkZU5hbWVzLmluY2x1ZGVzKHJ1bi5uYW1lKTtcblx0XHRpZiAodGhpcy5pbmNsdWRlVHlwZXMgIT09IHZvaWQgMCkgaW5jbHVkZSA9IGluY2x1ZGUgfHwgdGhpcy5pbmNsdWRlVHlwZXMuaW5jbHVkZXMocnVuLnJ1blR5cGUpO1xuXHRcdGlmICh0aGlzLmluY2x1ZGVUYWdzICE9PSB2b2lkIDApIGluY2x1ZGUgPSBpbmNsdWRlIHx8IHJ1blRhZ3MuZmluZCgodGFnKSA9PiB0aGlzLmluY2x1ZGVUYWdzPy5pbmNsdWRlcyh0YWcpKSAhPT0gdm9pZCAwO1xuXHRcdGlmICh0aGlzLmV4Y2x1ZGVOYW1lcyAhPT0gdm9pZCAwKSBpbmNsdWRlID0gaW5jbHVkZSAmJiAhdGhpcy5leGNsdWRlTmFtZXMuaW5jbHVkZXMocnVuLm5hbWUpO1xuXHRcdGlmICh0aGlzLmV4Y2x1ZGVUeXBlcyAhPT0gdm9pZCAwKSBpbmNsdWRlID0gaW5jbHVkZSAmJiAhdGhpcy5leGNsdWRlVHlwZXMuaW5jbHVkZXMocnVuLnJ1blR5cGUpO1xuXHRcdGlmICh0aGlzLmV4Y2x1ZGVUYWdzICE9PSB2b2lkIDApIGluY2x1ZGUgPSBpbmNsdWRlICYmIHJ1blRhZ3MuZXZlcnkoKHRhZykgPT4gIXRoaXMuZXhjbHVkZVRhZ3M/LmluY2x1ZGVzKHRhZykpO1xuXHRcdHJldHVybiBpbmNsdWRlO1xuXHR9XG5cdGFzeW5jICp0YXBPdXRwdXRJdGVyYWJsZShydW5JZCwgb3V0cHV0U3RyZWFtKSB7XG5cdFx0Y29uc3QgZmlyc3RDaHVuayA9IGF3YWl0IG91dHB1dFN0cmVhbS5uZXh0KCk7XG5cdFx0aWYgKGZpcnN0Q2h1bmsuZG9uZSkgcmV0dXJuO1xuXHRcdGNvbnN0IHJ1bkluZm8gPSB0aGlzLnJ1bkluZm9NYXAuZ2V0KHJ1bklkKTtcblx0XHRpZiAocnVuSW5mbyA9PT0gdm9pZCAwKSB7XG5cdFx0XHR5aWVsZCBmaXJzdENodW5rLnZhbHVlO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRmdW5jdGlvbiBfZm9ybWF0T3V0cHV0Q2h1bmsoZXZlbnRUeXBlLCBkYXRhKSB7XG5cdFx0XHRpZiAoZXZlbnRUeXBlID09PSBcImxsbVwiICYmIHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiKSByZXR1cm4gbmV3IEdlbmVyYXRpb25DaHVuayh7IHRleHQ6IGRhdGEgfSk7XG5cdFx0XHRyZXR1cm4gZGF0YTtcblx0XHR9XG5cdFx0bGV0IHRhcHBlZFByb21pc2UgPSB0aGlzLnRhcHBlZFByb21pc2VzLmdldChydW5JZCk7XG5cdFx0aWYgKHRhcHBlZFByb21pc2UgPT09IHZvaWQgMCkge1xuXHRcdFx0bGV0IHRhcHBlZFByb21pc2VSZXNvbHZlcjtcblx0XHRcdHRhcHBlZFByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuXHRcdFx0XHR0YXBwZWRQcm9taXNlUmVzb2x2ZXIgPSByZXNvbHZlO1xuXHRcdFx0fSk7XG5cdFx0XHR0aGlzLnRhcHBlZFByb21pc2VzLnNldChydW5JZCwgdGFwcGVkUHJvbWlzZSk7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCBldmVudCA9IHtcblx0XHRcdFx0XHRldmVudDogYG9uXyR7cnVuSW5mby5ydW5UeXBlfV9zdHJlYW1gLFxuXHRcdFx0XHRcdHJ1bl9pZDogcnVuSWQsXG5cdFx0XHRcdFx0bmFtZTogcnVuSW5mby5uYW1lLFxuXHRcdFx0XHRcdHRhZ3M6IHJ1bkluZm8udGFncyxcblx0XHRcdFx0XHRtZXRhZGF0YTogcnVuSW5mby5tZXRhZGF0YSxcblx0XHRcdFx0XHRkYXRhOiB7fVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRhd2FpdCB0aGlzLnNlbmQoe1xuXHRcdFx0XHRcdC4uLmV2ZW50LFxuXHRcdFx0XHRcdGRhdGE6IHsgY2h1bms6IF9mb3JtYXRPdXRwdXRDaHVuayhydW5JbmZvLnJ1blR5cGUsIGZpcnN0Q2h1bmsudmFsdWUpIH1cblx0XHRcdFx0fSwgcnVuSW5mbyk7XG5cdFx0XHRcdHlpZWxkIGZpcnN0Q2h1bmsudmFsdWU7XG5cdFx0XHRcdGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2Ygb3V0cHV0U3RyZWFtKSB7XG5cdFx0XHRcdFx0aWYgKHJ1bkluZm8ucnVuVHlwZSAhPT0gXCJ0b29sXCIgJiYgcnVuSW5mby5ydW5UeXBlICE9PSBcInJldHJpZXZlclwiKSBhd2FpdCB0aGlzLnNlbmQoe1xuXHRcdFx0XHRcdFx0Li4uZXZlbnQsXG5cdFx0XHRcdFx0XHRkYXRhOiB7IGNodW5rOiBfZm9ybWF0T3V0cHV0Q2h1bmsocnVuSW5mby5ydW5UeXBlLCBjaHVuaykgfVxuXHRcdFx0XHRcdH0sIHJ1bkluZm8pO1xuXHRcdFx0XHRcdHlpZWxkIGNodW5rO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGZpbmFsbHkge1xuXHRcdFx0XHR0YXBwZWRQcm9taXNlUmVzb2x2ZXI/LigpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR5aWVsZCBmaXJzdENodW5rLnZhbHVlO1xuXHRcdFx0Zm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBvdXRwdXRTdHJlYW0pIHlpZWxkIGNodW5rO1xuXHRcdH1cblx0fVxuXHRhc3luYyBzZW5kKHBheWxvYWQsIHJ1bikge1xuXHRcdGlmICh0aGlzLnJlYWRhYmxlU3RyZWFtQ2xvc2VkKSByZXR1cm47XG5cdFx0aWYgKHRoaXMuX2luY2x1ZGVSdW4ocnVuKSkgYXdhaXQgdGhpcy53cml0ZXIud3JpdGUocGF5bG9hZCk7XG5cdH1cblx0YXN5bmMgc2VuZEVuZEV2ZW50KHBheWxvYWQsIHJ1bikge1xuXHRcdGNvbnN0IHRhcHBlZFByb21pc2UgPSB0aGlzLnRhcHBlZFByb21pc2VzLmdldChwYXlsb2FkLnJ1bl9pZCk7XG5cdFx0aWYgKHRhcHBlZFByb21pc2UgIT09IHZvaWQgMCkgdGFwcGVkUHJvbWlzZS50aGVuKCgpID0+IHtcblx0XHRcdHRoaXMuc2VuZChwYXlsb2FkLCBydW4pO1xuXHRcdH0pO1xuXHRcdGVsc2UgYXdhaXQgdGhpcy5zZW5kKHBheWxvYWQsIHJ1bik7XG5cdH1cblx0YXN5bmMgb25MTE1TdGFydChydW4pIHtcblx0XHRjb25zdCBydW5OYW1lID0gYXNzaWduTmFtZShydW4pO1xuXHRcdGNvbnN0IHJ1blR5cGUgPSBydW4uaW5wdXRzLm1lc3NhZ2VzICE9PSB2b2lkIDAgPyBcImNoYXRfbW9kZWxcIiA6IFwibGxtXCI7XG5cdFx0Y29uc3QgcnVuSW5mbyA9IHtcblx0XHRcdHRhZ3M6IHJ1bi50YWdzID8/IFtdLFxuXHRcdFx0bWV0YWRhdGE6IHJ1bi5leHRyYT8ubWV0YWRhdGEgPz8ge30sXG5cdFx0XHRuYW1lOiBydW5OYW1lLFxuXHRcdFx0cnVuVHlwZSxcblx0XHRcdGlucHV0czogcnVuLmlucHV0c1xuXHRcdH07XG5cdFx0dGhpcy5ydW5JbmZvTWFwLnNldChydW4uaWQsIHJ1bkluZm8pO1xuXHRcdGNvbnN0IGV2ZW50TmFtZSA9IGBvbl8ke3J1blR5cGV9X3N0YXJ0YDtcblx0XHRhd2FpdCB0aGlzLnNlbmQoe1xuXHRcdFx0ZXZlbnQ6IGV2ZW50TmFtZSxcblx0XHRcdGRhdGE6IHsgaW5wdXQ6IHJ1bi5pbnB1dHMgfSxcblx0XHRcdG5hbWU6IHJ1bk5hbWUsXG5cdFx0XHR0YWdzOiBydW4udGFncyA/PyBbXSxcblx0XHRcdHJ1bl9pZDogcnVuLmlkLFxuXHRcdFx0bWV0YWRhdGE6IHJ1bi5leHRyYT8ubWV0YWRhdGEgPz8ge31cblx0XHR9LCBydW5JbmZvKTtcblx0fVxuXHRhc3luYyBvbkxMTU5ld1Rva2VuKHJ1biwgdG9rZW4sIGt3YXJncykge1xuXHRcdGNvbnN0IHJ1bkluZm8gPSB0aGlzLnJ1bkluZm9NYXAuZ2V0KHJ1bi5pZCk7XG5cdFx0bGV0IGNodW5rO1xuXHRcdGxldCBldmVudE5hbWU7XG5cdFx0aWYgKHJ1bkluZm8gPT09IHZvaWQgMCkgdGhyb3cgbmV3IEVycm9yKGBvbkxMTU5ld1Rva2VuOiBSdW4gSUQgJHtydW4uaWR9IG5vdCBmb3VuZCBpbiBydW4gbWFwLmApO1xuXHRcdGlmICh0aGlzLnJ1bkluZm9NYXAuc2l6ZSA9PT0gMSkgcmV0dXJuO1xuXHRcdGlmIChydW5JbmZvLnJ1blR5cGUgPT09IFwiY2hhdF9tb2RlbFwiKSB7XG5cdFx0XHRldmVudE5hbWUgPSBcIm9uX2NoYXRfbW9kZWxfc3RyZWFtXCI7XG5cdFx0XHRpZiAoa3dhcmdzPy5jaHVuayA9PT0gdm9pZCAwKSBjaHVuayA9IG5ldyBBSU1lc3NhZ2VDaHVuayh7XG5cdFx0XHRcdGNvbnRlbnQ6IHRva2VuLFxuXHRcdFx0XHRpZDogYHJ1bi0ke3J1bi5pZH1gXG5cdFx0XHR9KTtcblx0XHRcdGVsc2UgY2h1bmsgPSBrd2FyZ3MuY2h1bmsubWVzc2FnZTtcblx0XHR9IGVsc2UgaWYgKHJ1bkluZm8ucnVuVHlwZSA9PT0gXCJsbG1cIikge1xuXHRcdFx0ZXZlbnROYW1lID0gXCJvbl9sbG1fc3RyZWFtXCI7XG5cdFx0XHRpZiAoa3dhcmdzPy5jaHVuayA9PT0gdm9pZCAwKSBjaHVuayA9IG5ldyBHZW5lcmF0aW9uQ2h1bmsoeyB0ZXh0OiB0b2tlbiB9KTtcblx0XHRcdGVsc2UgY2h1bmsgPSBrd2FyZ3MuY2h1bms7XG5cdFx0fSBlbHNlIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBydW4gdHlwZSAke3J1bkluZm8ucnVuVHlwZX1gKTtcblx0XHRhd2FpdCB0aGlzLnNlbmQoe1xuXHRcdFx0ZXZlbnQ6IGV2ZW50TmFtZSxcblx0XHRcdGRhdGE6IHsgY2h1bmsgfSxcblx0XHRcdHJ1bl9pZDogcnVuLmlkLFxuXHRcdFx0bmFtZTogcnVuSW5mby5uYW1lLFxuXHRcdFx0dGFnczogcnVuSW5mby50YWdzLFxuXHRcdFx0bWV0YWRhdGE6IHJ1bkluZm8ubWV0YWRhdGFcblx0XHR9LCBydW5JbmZvKTtcblx0fVxuXHRhc3luYyBvbkxMTUVuZChydW4pIHtcblx0XHRjb25zdCBydW5JbmZvID0gdGhpcy5ydW5JbmZvTWFwLmdldChydW4uaWQpO1xuXHRcdHRoaXMucnVuSW5mb01hcC5kZWxldGUocnVuLmlkKTtcblx0XHRsZXQgZXZlbnROYW1lO1xuXHRcdGlmIChydW5JbmZvID09PSB2b2lkIDApIHRocm93IG5ldyBFcnJvcihgb25MTE1FbmQ6IFJ1biBJRCAke3J1bi5pZH0gbm90IGZvdW5kIGluIHJ1biBtYXAuYCk7XG5cdFx0Y29uc3QgZ2VuZXJhdGlvbnMgPSBydW4ub3V0cHV0cz8uZ2VuZXJhdGlvbnM7XG5cdFx0bGV0IG91dHB1dDtcblx0XHRpZiAocnVuSW5mby5ydW5UeXBlID09PSBcImNoYXRfbW9kZWxcIikge1xuXHRcdFx0Zm9yIChjb25zdCBnZW5lcmF0aW9uIG9mIGdlbmVyYXRpb25zID8/IFtdKSB7XG5cdFx0XHRcdGlmIChvdXRwdXQgIT09IHZvaWQgMCkgYnJlYWs7XG5cdFx0XHRcdG91dHB1dCA9IGdlbmVyYXRpb25bMF0/Lm1lc3NhZ2U7XG5cdFx0XHR9XG5cdFx0XHRldmVudE5hbWUgPSBcIm9uX2NoYXRfbW9kZWxfZW5kXCI7XG5cdFx0fSBlbHNlIGlmIChydW5JbmZvLnJ1blR5cGUgPT09IFwibGxtXCIpIHtcblx0XHRcdG91dHB1dCA9IHtcblx0XHRcdFx0Z2VuZXJhdGlvbnM6IGdlbmVyYXRpb25zPy5tYXAoKGdlbmVyYXRpb24pID0+IHtcblx0XHRcdFx0XHRyZXR1cm4gZ2VuZXJhdGlvbi5tYXAoKGNodW5rKSA9PiB7XG5cdFx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHR0ZXh0OiBjaHVuay50ZXh0LFxuXHRcdFx0XHRcdFx0XHRnZW5lcmF0aW9uSW5mbzogY2h1bmsuZ2VuZXJhdGlvbkluZm9cblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pLFxuXHRcdFx0XHRsbG1PdXRwdXQ6IHJ1bi5vdXRwdXRzPy5sbG1PdXRwdXQgPz8ge31cblx0XHRcdH07XG5cdFx0XHRldmVudE5hbWUgPSBcIm9uX2xsbV9lbmRcIjtcblx0XHR9IGVsc2UgdGhyb3cgbmV3IEVycm9yKGBvbkxMTUVuZDogVW5leHBlY3RlZCBydW4gdHlwZTogJHtydW5JbmZvLnJ1blR5cGV9YCk7XG5cdFx0YXdhaXQgdGhpcy5zZW5kRW5kRXZlbnQoe1xuXHRcdFx0ZXZlbnQ6IGV2ZW50TmFtZSxcblx0XHRcdGRhdGE6IHtcblx0XHRcdFx0b3V0cHV0LFxuXHRcdFx0XHRpbnB1dDogcnVuSW5mby5pbnB1dHNcblx0XHRcdH0sXG5cdFx0XHRydW5faWQ6IHJ1bi5pZCxcblx0XHRcdG5hbWU6IHJ1bkluZm8ubmFtZSxcblx0XHRcdHRhZ3M6IHJ1bkluZm8udGFncyxcblx0XHRcdG1ldGFkYXRhOiBydW5JbmZvLm1ldGFkYXRhXG5cdFx0fSwgcnVuSW5mbyk7XG5cdH1cblx0YXN5bmMgb25DaGFpblN0YXJ0KHJ1bikge1xuXHRcdGNvbnN0IHJ1bk5hbWUgPSBhc3NpZ25OYW1lKHJ1bik7XG5cdFx0Y29uc3QgcnVuVHlwZSA9IHJ1bi5ydW5fdHlwZSA/PyBcImNoYWluXCI7XG5cdFx0Y29uc3QgcnVuSW5mbyA9IHtcblx0XHRcdHRhZ3M6IHJ1bi50YWdzID8/IFtdLFxuXHRcdFx0bWV0YWRhdGE6IHJ1bi5leHRyYT8ubWV0YWRhdGEgPz8ge30sXG5cdFx0XHRuYW1lOiBydW5OYW1lLFxuXHRcdFx0cnVuVHlwZTogcnVuLnJ1bl90eXBlXG5cdFx0fTtcblx0XHRsZXQgZXZlbnREYXRhID0ge307XG5cdFx0aWYgKHJ1bi5pbnB1dHMuaW5wdXQgPT09IFwiXCIgJiYgT2JqZWN0LmtleXMocnVuLmlucHV0cykubGVuZ3RoID09PSAxKSB7XG5cdFx0XHRldmVudERhdGEgPSB7fTtcblx0XHRcdHJ1bkluZm8uaW5wdXRzID0ge307XG5cdFx0fSBlbHNlIGlmIChydW4uaW5wdXRzLmlucHV0ICE9PSB2b2lkIDApIHtcblx0XHRcdGV2ZW50RGF0YS5pbnB1dCA9IHJ1bi5pbnB1dHMuaW5wdXQ7XG5cdFx0XHRydW5JbmZvLmlucHV0cyA9IHJ1bi5pbnB1dHMuaW5wdXQ7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGV2ZW50RGF0YS5pbnB1dCA9IHJ1bi5pbnB1dHM7XG5cdFx0XHRydW5JbmZvLmlucHV0cyA9IHJ1bi5pbnB1dHM7XG5cdFx0fVxuXHRcdHRoaXMucnVuSW5mb01hcC5zZXQocnVuLmlkLCBydW5JbmZvKTtcblx0XHRhd2FpdCB0aGlzLnNlbmQoe1xuXHRcdFx0ZXZlbnQ6IGBvbl8ke3J1blR5cGV9X3N0YXJ0YCxcblx0XHRcdGRhdGE6IGV2ZW50RGF0YSxcblx0XHRcdG5hbWU6IHJ1bk5hbWUsXG5cdFx0XHR0YWdzOiBydW4udGFncyA/PyBbXSxcblx0XHRcdHJ1bl9pZDogcnVuLmlkLFxuXHRcdFx0bWV0YWRhdGE6IHJ1bi5leHRyYT8ubWV0YWRhdGEgPz8ge31cblx0XHR9LCBydW5JbmZvKTtcblx0fVxuXHRhc3luYyBvbkNoYWluRW5kKHJ1bikge1xuXHRcdGNvbnN0IHJ1bkluZm8gPSB0aGlzLnJ1bkluZm9NYXAuZ2V0KHJ1bi5pZCk7XG5cdFx0dGhpcy5ydW5JbmZvTWFwLmRlbGV0ZShydW4uaWQpO1xuXHRcdGlmIChydW5JbmZvID09PSB2b2lkIDApIHRocm93IG5ldyBFcnJvcihgb25DaGFpbkVuZDogUnVuIElEICR7cnVuLmlkfSBub3QgZm91bmQgaW4gcnVuIG1hcC5gKTtcblx0XHRjb25zdCBldmVudE5hbWUgPSBgb25fJHtydW4ucnVuX3R5cGV9X2VuZGA7XG5cdFx0Y29uc3QgaW5wdXRzID0gcnVuLmlucHV0cyA/PyBydW5JbmZvLmlucHV0cyA/PyB7fTtcblx0XHRjb25zdCBvdXRwdXRzID0gcnVuLm91dHB1dHM/Lm91dHB1dCA/PyBydW4ub3V0cHV0cztcblx0XHRjb25zdCBkYXRhID0ge1xuXHRcdFx0b3V0cHV0OiBvdXRwdXRzLFxuXHRcdFx0aW5wdXQ6IGlucHV0c1xuXHRcdH07XG5cdFx0aWYgKGlucHV0cy5pbnB1dCAmJiBPYmplY3Qua2V5cyhpbnB1dHMpLmxlbmd0aCA9PT0gMSkge1xuXHRcdFx0ZGF0YS5pbnB1dCA9IGlucHV0cy5pbnB1dDtcblx0XHRcdHJ1bkluZm8uaW5wdXRzID0gaW5wdXRzLmlucHV0O1xuXHRcdH1cblx0XHRhd2FpdCB0aGlzLnNlbmRFbmRFdmVudCh7XG5cdFx0XHRldmVudDogZXZlbnROYW1lLFxuXHRcdFx0ZGF0YSxcblx0XHRcdHJ1bl9pZDogcnVuLmlkLFxuXHRcdFx0bmFtZTogcnVuSW5mby5uYW1lLFxuXHRcdFx0dGFnczogcnVuSW5mby50YWdzLFxuXHRcdFx0bWV0YWRhdGE6IHJ1bkluZm8ubWV0YWRhdGEgPz8ge31cblx0XHR9LCBydW5JbmZvKTtcblx0fVxuXHRhc3luYyBvblRvb2xTdGFydChydW4pIHtcblx0XHRjb25zdCBydW5OYW1lID0gYXNzaWduTmFtZShydW4pO1xuXHRcdGNvbnN0IHJ1bkluZm8gPSB7XG5cdFx0XHR0YWdzOiBydW4udGFncyA/PyBbXSxcblx0XHRcdG1ldGFkYXRhOiBydW4uZXh0cmE/Lm1ldGFkYXRhID8/IHt9LFxuXHRcdFx0bmFtZTogcnVuTmFtZSxcblx0XHRcdHJ1blR5cGU6IFwidG9vbFwiLFxuXHRcdFx0aW5wdXRzOiBydW4uaW5wdXRzID8/IHt9XG5cdFx0fTtcblx0XHR0aGlzLnJ1bkluZm9NYXAuc2V0KHJ1bi5pZCwgcnVuSW5mbyk7XG5cdFx0YXdhaXQgdGhpcy5zZW5kKHtcblx0XHRcdGV2ZW50OiBcIm9uX3Rvb2xfc3RhcnRcIixcblx0XHRcdGRhdGE6IHsgaW5wdXQ6IHJ1bi5pbnB1dHMgPz8ge30gfSxcblx0XHRcdG5hbWU6IHJ1bk5hbWUsXG5cdFx0XHRydW5faWQ6IHJ1bi5pZCxcblx0XHRcdHRhZ3M6IHJ1bi50YWdzID8/IFtdLFxuXHRcdFx0bWV0YWRhdGE6IHJ1bi5leHRyYT8ubWV0YWRhdGEgPz8ge31cblx0XHR9LCBydW5JbmZvKTtcblx0fVxuXHRhc3luYyBvblRvb2xFbmQocnVuKSB7XG5cdFx0Y29uc3QgcnVuSW5mbyA9IHRoaXMucnVuSW5mb01hcC5nZXQocnVuLmlkKTtcblx0XHR0aGlzLnJ1bkluZm9NYXAuZGVsZXRlKHJ1bi5pZCk7XG5cdFx0aWYgKHJ1bkluZm8gPT09IHZvaWQgMCkgdGhyb3cgbmV3IEVycm9yKGBvblRvb2xFbmQ6IFJ1biBJRCAke3J1bi5pZH0gbm90IGZvdW5kIGluIHJ1biBtYXAuYCk7XG5cdFx0aWYgKHJ1bkluZm8uaW5wdXRzID09PSB2b2lkIDApIHRocm93IG5ldyBFcnJvcihgb25Ub29sRW5kOiBSdW4gSUQgJHtydW4uaWR9IGlzIGEgdG9vbCBjYWxsLCBhbmQgaXMgZXhwZWN0ZWQgdG8gaGF2ZSB0cmFjZWQgaW5wdXRzLmApO1xuXHRcdGNvbnN0IG91dHB1dCA9IHJ1bi5vdXRwdXRzPy5vdXRwdXQgPT09IHZvaWQgMCA/IHJ1bi5vdXRwdXRzIDogcnVuLm91dHB1dHMub3V0cHV0O1xuXHRcdGF3YWl0IHRoaXMuc2VuZEVuZEV2ZW50KHtcblx0XHRcdGV2ZW50OiBcIm9uX3Rvb2xfZW5kXCIsXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdG91dHB1dCxcblx0XHRcdFx0aW5wdXQ6IHJ1bkluZm8uaW5wdXRzXG5cdFx0XHR9LFxuXHRcdFx0cnVuX2lkOiBydW4uaWQsXG5cdFx0XHRuYW1lOiBydW5JbmZvLm5hbWUsXG5cdFx0XHR0YWdzOiBydW5JbmZvLnRhZ3MsXG5cdFx0XHRtZXRhZGF0YTogcnVuSW5mby5tZXRhZGF0YVxuXHRcdH0sIHJ1bkluZm8pO1xuXHR9XG5cdGFzeW5jIG9uVG9vbEVycm9yKHJ1bikge1xuXHRcdGNvbnN0IHJ1bkluZm8gPSB0aGlzLnJ1bkluZm9NYXAuZ2V0KHJ1bi5pZCk7XG5cdFx0dGhpcy5ydW5JbmZvTWFwLmRlbGV0ZShydW4uaWQpO1xuXHRcdGlmIChydW5JbmZvID09PSB2b2lkIDApIHRocm93IG5ldyBFcnJvcihgb25Ub29sRW5kOiBSdW4gSUQgJHtydW4uaWR9IG5vdCBmb3VuZCBpbiBydW4gbWFwLmApO1xuXHRcdGlmIChydW5JbmZvLmlucHV0cyA9PT0gdm9pZCAwKSB0aHJvdyBuZXcgRXJyb3IoYG9uVG9vbEVuZDogUnVuIElEICR7cnVuLmlkfSBpcyBhIHRvb2wgY2FsbCwgYW5kIGlzIGV4cGVjdGVkIHRvIGhhdmUgdHJhY2VkIGlucHV0cy5gKTtcblx0XHRhd2FpdCB0aGlzLnNlbmRFbmRFdmVudCh7XG5cdFx0XHRldmVudDogXCJvbl90b29sX2Vycm9yXCIsXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdGlucHV0OiBydW5JbmZvLmlucHV0cyxcblx0XHRcdFx0ZXJyb3I6IHJ1bi5lcnJvclxuXHRcdFx0fSxcblx0XHRcdHJ1bl9pZDogcnVuLmlkLFxuXHRcdFx0bmFtZTogcnVuSW5mby5uYW1lLFxuXHRcdFx0dGFnczogcnVuSW5mby50YWdzLFxuXHRcdFx0bWV0YWRhdGE6IHJ1bkluZm8ubWV0YWRhdGFcblx0XHR9LCBydW5JbmZvKTtcblx0fVxuXHRhc3luYyBvblJldHJpZXZlclN0YXJ0KHJ1bikge1xuXHRcdGNvbnN0IHJ1bk5hbWUgPSBhc3NpZ25OYW1lKHJ1bik7XG5cdFx0Y29uc3QgcnVuVHlwZSA9IFwicmV0cmlldmVyXCI7XG5cdFx0Y29uc3QgcnVuSW5mbyA9IHtcblx0XHRcdHRhZ3M6IHJ1bi50YWdzID8/IFtdLFxuXHRcdFx0bWV0YWRhdGE6IHJ1bi5leHRyYT8ubWV0YWRhdGEgPz8ge30sXG5cdFx0XHRuYW1lOiBydW5OYW1lLFxuXHRcdFx0cnVuVHlwZSxcblx0XHRcdGlucHV0czogeyBxdWVyeTogcnVuLmlucHV0cy5xdWVyeSB9XG5cdFx0fTtcblx0XHR0aGlzLnJ1bkluZm9NYXAuc2V0KHJ1bi5pZCwgcnVuSW5mbyk7XG5cdFx0YXdhaXQgdGhpcy5zZW5kKHtcblx0XHRcdGV2ZW50OiBcIm9uX3JldHJpZXZlcl9zdGFydFwiLFxuXHRcdFx0ZGF0YTogeyBpbnB1dDogeyBxdWVyeTogcnVuLmlucHV0cy5xdWVyeSB9IH0sXG5cdFx0XHRuYW1lOiBydW5OYW1lLFxuXHRcdFx0dGFnczogcnVuLnRhZ3MgPz8gW10sXG5cdFx0XHRydW5faWQ6IHJ1bi5pZCxcblx0XHRcdG1ldGFkYXRhOiBydW4uZXh0cmE/Lm1ldGFkYXRhID8/IHt9XG5cdFx0fSwgcnVuSW5mbyk7XG5cdH1cblx0YXN5bmMgb25SZXRyaWV2ZXJFbmQocnVuKSB7XG5cdFx0Y29uc3QgcnVuSW5mbyA9IHRoaXMucnVuSW5mb01hcC5nZXQocnVuLmlkKTtcblx0XHR0aGlzLnJ1bkluZm9NYXAuZGVsZXRlKHJ1bi5pZCk7XG5cdFx0aWYgKHJ1bkluZm8gPT09IHZvaWQgMCkgdGhyb3cgbmV3IEVycm9yKGBvblJldHJpZXZlckVuZDogUnVuIElEICR7cnVuLmlkfSBub3QgZm91bmQgaW4gcnVuIG1hcC5gKTtcblx0XHRhd2FpdCB0aGlzLnNlbmRFbmRFdmVudCh7XG5cdFx0XHRldmVudDogXCJvbl9yZXRyaWV2ZXJfZW5kXCIsXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdG91dHB1dDogcnVuLm91dHB1dHM/LmRvY3VtZW50cyA/PyBydW4ub3V0cHV0cyxcblx0XHRcdFx0aW5wdXQ6IHJ1bkluZm8uaW5wdXRzXG5cdFx0XHR9LFxuXHRcdFx0cnVuX2lkOiBydW4uaWQsXG5cdFx0XHRuYW1lOiBydW5JbmZvLm5hbWUsXG5cdFx0XHR0YWdzOiBydW5JbmZvLnRhZ3MsXG5cdFx0XHRtZXRhZGF0YTogcnVuSW5mby5tZXRhZGF0YVxuXHRcdH0sIHJ1bkluZm8pO1xuXHR9XG5cdGFzeW5jIGhhbmRsZUN1c3RvbUV2ZW50KGV2ZW50TmFtZSwgZGF0YSwgcnVuSWQpIHtcblx0XHRjb25zdCBydW5JbmZvID0gdGhpcy5ydW5JbmZvTWFwLmdldChydW5JZCk7XG5cdFx0aWYgKHJ1bkluZm8gPT09IHZvaWQgMCkgdGhyb3cgbmV3IEVycm9yKGBoYW5kbGVDdXN0b21FdmVudDogUnVuIElEICR7cnVuSWR9IG5vdCBmb3VuZCBpbiBydW4gbWFwLmApO1xuXHRcdGF3YWl0IHRoaXMuc2VuZCh7XG5cdFx0XHRldmVudDogXCJvbl9jdXN0b21fZXZlbnRcIixcblx0XHRcdHJ1bl9pZDogcnVuSWQsXG5cdFx0XHRuYW1lOiBldmVudE5hbWUsXG5cdFx0XHR0YWdzOiBydW5JbmZvLnRhZ3MsXG5cdFx0XHRtZXRhZGF0YTogcnVuSW5mby5tZXRhZGF0YSxcblx0XHRcdGRhdGFcblx0XHR9LCBydW5JbmZvKTtcblx0fVxuXHRhc3luYyBmaW5pc2goKSB7XG5cdFx0Y29uc3QgcGVuZGluZ1Byb21pc2VzID0gWy4uLnRoaXMudGFwcGVkUHJvbWlzZXMudmFsdWVzKCldO1xuXHRcdFByb21pc2UuYWxsKHBlbmRpbmdQcm9taXNlcykuZmluYWxseSgoKSA9PiB7XG5cdFx0XHR0aGlzLndyaXRlci5jbG9zZSgpO1xuXHRcdH0pO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEV2ZW50U3RyZWFtQ2FsbGJhY2tIYW5kbGVyLCBpc1N0cmVhbUV2ZW50c0hhbmRsZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV2ZW50X3N0cmVhbS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tracers/event_stream.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tracers/log_stream.js":
/*!************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tracers/log_stream.js ***!
  \************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LogStreamCallbackHandler: () => (/* binding */ LogStreamCallbackHandler),\n/* harmony export */   RunLog: () => (/* binding */ RunLog),\n/* harmony export */   RunLogPatch: () => (/* binding */ RunLogPatch),\n/* harmony export */   isLogStreamHandler: () => (/* binding */ isLogStreamHandler),\n/* harmony export */   log_stream_exports: () => (/* binding */ log_stream_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _messages_ai_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../messages/ai.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/ai.js\");\n/* harmony import */ var _utils_fast_json_patch_src_core_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/fast-json-patch/src/core.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/fast-json-patch/src/core.js\");\n/* harmony import */ var _utils_fast_json_patch_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/fast-json-patch/index.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/fast-json-patch/index.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tracers/base.js\");\n/* harmony import */ var _utils_stream_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/stream.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/stream.js\");\n\n\n\n\n\n\n\n//#region src/tracers/log_stream.ts\nvar log_stream_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(log_stream_exports, {\n\tLogStreamCallbackHandler: () => LogStreamCallbackHandler,\n\tRunLog: () => RunLog,\n\tRunLogPatch: () => RunLogPatch,\n\tisLogStreamHandler: () => isLogStreamHandler\n});\n/**\n* List of jsonpatch JSONPatchOperations, which describe how to create the run state\n* from an empty dict. This is the minimal representation of the log, designed to\n* be serialized as JSON and sent over the wire to reconstruct the log on the other\n* side. Reconstruction of the state can be done with any jsonpatch-compliant library,\n* see https://jsonpatch.com for more information.\n*/\nvar RunLogPatch = class {\n\tops;\n\tconstructor(fields) {\n\t\tthis.ops = fields.ops ?? [];\n\t}\n\tconcat(other) {\n\t\tconst ops = this.ops.concat(other.ops);\n\t\tconst states = (0,_utils_fast_json_patch_src_core_js__WEBPACK_IMPORTED_MODULE_2__.applyPatch)({}, ops);\n\t\treturn new RunLog({\n\t\t\tops,\n\t\t\tstate: states[states.length - 1].newDocument\n\t\t});\n\t}\n};\nvar RunLog = class RunLog extends RunLogPatch {\n\tstate;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.state = fields.state;\n\t}\n\tconcat(other) {\n\t\tconst ops = this.ops.concat(other.ops);\n\t\tconst states = (0,_utils_fast_json_patch_src_core_js__WEBPACK_IMPORTED_MODULE_2__.applyPatch)(this.state, other.ops);\n\t\treturn new RunLog({\n\t\t\tops,\n\t\t\tstate: states[states.length - 1].newDocument\n\t\t});\n\t}\n\tstatic fromRunLogPatch(patch) {\n\t\tconst states = (0,_utils_fast_json_patch_src_core_js__WEBPACK_IMPORTED_MODULE_2__.applyPatch)({}, patch.ops);\n\t\treturn new RunLog({\n\t\t\tops: patch.ops,\n\t\t\tstate: states[states.length - 1].newDocument\n\t\t});\n\t}\n};\nconst isLogStreamHandler = (handler) => handler.name === \"log_stream_tracer\";\n/**\n* Extract standardized inputs from a run.\n*\n* Standardizes the inputs based on the type of the runnable used.\n*\n* @param run - Run object\n* @param schemaFormat - The schema format to use.\n*\n* @returns Valid inputs are only dict. By conventions, inputs always represented\n* invocation using named arguments.\n* A null means that the input is not yet known!\n*/\nasync function _getStandardizedInputs(run, schemaFormat) {\n\tif (schemaFormat === \"original\") throw new Error(\"Do not assign inputs with original schema drop the key for now. When inputs are added to streamLog they should be added with standardized schema for streaming events.\");\n\tconst { inputs } = run;\n\tif ([\n\t\t\"retriever\",\n\t\t\"llm\",\n\t\t\"prompt\"\n\t].includes(run.run_type)) return inputs;\n\tif (Object.keys(inputs).length === 1 && inputs?.input === \"\") return void 0;\n\treturn inputs.input;\n}\nasync function _getStandardizedOutputs(run, schemaFormat) {\n\tconst { outputs } = run;\n\tif (schemaFormat === \"original\") return outputs;\n\tif ([\n\t\t\"retriever\",\n\t\t\"llm\",\n\t\t\"prompt\"\n\t].includes(run.run_type)) return outputs;\n\tif (outputs !== void 0 && Object.keys(outputs).length === 1 && outputs?.output !== void 0) return outputs.output;\n\treturn outputs;\n}\nfunction isChatGenerationChunk(x) {\n\treturn x !== void 0 && x.message !== void 0;\n}\n/**\n* Class that extends the `BaseTracer` class from the\n* `langchain.callbacks.tracers.base` module. It represents a callback\n* handler that logs the execution of runs and emits `RunLog` instances to a\n* `RunLogStream`.\n*/\nvar LogStreamCallbackHandler = class extends _base_js__WEBPACK_IMPORTED_MODULE_4__.BaseTracer {\n\tautoClose = true;\n\tincludeNames;\n\tincludeTypes;\n\tincludeTags;\n\texcludeNames;\n\texcludeTypes;\n\texcludeTags;\n\t_schemaFormat = \"original\";\n\trootId;\n\tkeyMapByRunId = {};\n\tcounterMapByRunName = {};\n\ttransformStream;\n\twriter;\n\treceiveStream;\n\tname = \"log_stream_tracer\";\n\tlc_prefer_streaming = true;\n\tconstructor(fields) {\n\t\tsuper({\n\t\t\t_awaitHandler: true,\n\t\t\t...fields\n\t\t});\n\t\tthis.autoClose = fields?.autoClose ?? true;\n\t\tthis.includeNames = fields?.includeNames;\n\t\tthis.includeTypes = fields?.includeTypes;\n\t\tthis.includeTags = fields?.includeTags;\n\t\tthis.excludeNames = fields?.excludeNames;\n\t\tthis.excludeTypes = fields?.excludeTypes;\n\t\tthis.excludeTags = fields?.excludeTags;\n\t\tthis._schemaFormat = fields?._schemaFormat ?? this._schemaFormat;\n\t\tthis.transformStream = new TransformStream();\n\t\tthis.writer = this.transformStream.writable.getWriter();\n\t\tthis.receiveStream = _utils_stream_js__WEBPACK_IMPORTED_MODULE_5__.IterableReadableStream.fromReadableStream(this.transformStream.readable);\n\t}\n\t[Symbol.asyncIterator]() {\n\t\treturn this.receiveStream;\n\t}\n\tasync persistRun(_run) {}\n\t_includeRun(run) {\n\t\tif (run.id === this.rootId) return false;\n\t\tconst runTags = run.tags ?? [];\n\t\tlet include = this.includeNames === void 0 && this.includeTags === void 0 && this.includeTypes === void 0;\n\t\tif (this.includeNames !== void 0) include = include || this.includeNames.includes(run.name);\n\t\tif (this.includeTypes !== void 0) include = include || this.includeTypes.includes(run.run_type);\n\t\tif (this.includeTags !== void 0) include = include || runTags.find((tag) => this.includeTags?.includes(tag)) !== void 0;\n\t\tif (this.excludeNames !== void 0) include = include && !this.excludeNames.includes(run.name);\n\t\tif (this.excludeTypes !== void 0) include = include && !this.excludeTypes.includes(run.run_type);\n\t\tif (this.excludeTags !== void 0) include = include && runTags.every((tag) => !this.excludeTags?.includes(tag));\n\t\treturn include;\n\t}\n\tasync *tapOutputIterable(runId, output) {\n\t\tfor await (const chunk of output) {\n\t\t\tif (runId !== this.rootId) {\n\t\t\t\tconst key = this.keyMapByRunId[runId];\n\t\t\t\tif (key) await this.writer.write(new RunLogPatch({ ops: [{\n\t\t\t\t\top: \"add\",\n\t\t\t\t\tpath: `/logs/${key}/streamed_output/-`,\n\t\t\t\t\tvalue: chunk\n\t\t\t\t}] }));\n\t\t\t}\n\t\t\tyield chunk;\n\t\t}\n\t}\n\tasync onRunCreate(run) {\n\t\tif (this.rootId === void 0) {\n\t\t\tthis.rootId = run.id;\n\t\t\tawait this.writer.write(new RunLogPatch({ ops: [{\n\t\t\t\top: \"replace\",\n\t\t\t\tpath: \"\",\n\t\t\t\tvalue: {\n\t\t\t\t\tid: run.id,\n\t\t\t\t\tname: run.name,\n\t\t\t\t\ttype: run.run_type,\n\t\t\t\t\tstreamed_output: [],\n\t\t\t\t\tfinal_output: void 0,\n\t\t\t\t\tlogs: {}\n\t\t\t\t}\n\t\t\t}] }));\n\t\t}\n\t\tif (!this._includeRun(run)) return;\n\t\tif (this.counterMapByRunName[run.name] === void 0) this.counterMapByRunName[run.name] = 0;\n\t\tthis.counterMapByRunName[run.name] += 1;\n\t\tconst count = this.counterMapByRunName[run.name];\n\t\tthis.keyMapByRunId[run.id] = count === 1 ? run.name : `${run.name}:${count}`;\n\t\tconst logEntry = {\n\t\t\tid: run.id,\n\t\t\tname: run.name,\n\t\t\ttype: run.run_type,\n\t\t\ttags: run.tags ?? [],\n\t\t\tmetadata: run.extra?.metadata ?? {},\n\t\t\tstart_time: new Date(run.start_time).toISOString(),\n\t\t\tstreamed_output: [],\n\t\t\tstreamed_output_str: [],\n\t\t\tfinal_output: void 0,\n\t\t\tend_time: void 0\n\t\t};\n\t\tif (this._schemaFormat === \"streaming_events\") logEntry.inputs = await _getStandardizedInputs(run, this._schemaFormat);\n\t\tawait this.writer.write(new RunLogPatch({ ops: [{\n\t\t\top: \"add\",\n\t\t\tpath: `/logs/${this.keyMapByRunId[run.id]}`,\n\t\t\tvalue: logEntry\n\t\t}] }));\n\t}\n\tasync onRunUpdate(run) {\n\t\ttry {\n\t\t\tconst runName = this.keyMapByRunId[run.id];\n\t\t\tif (runName === void 0) return;\n\t\t\tconst ops = [];\n\t\t\tif (this._schemaFormat === \"streaming_events\") ops.push({\n\t\t\t\top: \"replace\",\n\t\t\t\tpath: `/logs/${runName}/inputs`,\n\t\t\t\tvalue: await _getStandardizedInputs(run, this._schemaFormat)\n\t\t\t});\n\t\t\tops.push({\n\t\t\t\top: \"add\",\n\t\t\t\tpath: `/logs/${runName}/final_output`,\n\t\t\t\tvalue: await _getStandardizedOutputs(run, this._schemaFormat)\n\t\t\t});\n\t\t\tif (run.end_time !== void 0) ops.push({\n\t\t\t\top: \"add\",\n\t\t\t\tpath: `/logs/${runName}/end_time`,\n\t\t\t\tvalue: new Date(run.end_time).toISOString()\n\t\t\t});\n\t\t\tconst patch = new RunLogPatch({ ops });\n\t\t\tawait this.writer.write(patch);\n\t\t} finally {\n\t\t\tif (run.id === this.rootId) {\n\t\t\t\tconst patch = new RunLogPatch({ ops: [{\n\t\t\t\t\top: \"replace\",\n\t\t\t\t\tpath: \"/final_output\",\n\t\t\t\t\tvalue: await _getStandardizedOutputs(run, this._schemaFormat)\n\t\t\t\t}] });\n\t\t\t\tawait this.writer.write(patch);\n\t\t\t\tif (this.autoClose) await this.writer.close();\n\t\t\t}\n\t\t}\n\t}\n\tasync onLLMNewToken(run, token, kwargs) {\n\t\tconst runName = this.keyMapByRunId[run.id];\n\t\tif (runName === void 0) return;\n\t\tconst isChatModel = run.inputs.messages !== void 0;\n\t\tlet streamedOutputValue;\n\t\tif (isChatModel) if (isChatGenerationChunk(kwargs?.chunk)) streamedOutputValue = kwargs?.chunk;\n\t\telse streamedOutputValue = new _messages_ai_js__WEBPACK_IMPORTED_MODULE_1__.AIMessageChunk({\n\t\t\tid: `run-${run.id}`,\n\t\t\tcontent: token\n\t\t});\n\t\telse streamedOutputValue = token;\n\t\tconst patch = new RunLogPatch({ ops: [{\n\t\t\top: \"add\",\n\t\t\tpath: `/logs/${runName}/streamed_output_str/-`,\n\t\t\tvalue: token\n\t\t}, {\n\t\t\top: \"add\",\n\t\t\tpath: `/logs/${runName}/streamed_output/-`,\n\t\t\tvalue: streamedOutputValue\n\t\t}] });\n\t\tawait this.writer.write(patch);\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=log_stream.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3RyYWNlcnMvbG9nX3N0cmVhbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUEyRDtBQUNSO0FBQ2U7QUFDdkI7QUFDSjtBQUNxQjs7QUFFNUQ7QUFDQTtBQUNBLHNFQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiw4RUFBVSxHQUFHO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiw4RUFBVTtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGlCQUFpQiw4RUFBVSxHQUFHO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxTQUFTO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsVUFBVTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsZ0RBQVU7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixvRUFBc0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVEO0FBQ3ZEO0FBQ0Esb0JBQW9CLElBQUk7QUFDeEI7QUFDQSxLQUFLLEdBQUc7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksR0FBRztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQsU0FBUyxHQUFHLE1BQU07QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QztBQUM1QztBQUNBLGtCQUFrQiwyQkFBMkI7QUFDN0M7QUFDQSxHQUFHLEdBQUc7QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLFFBQVE7QUFDM0I7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLG1CQUFtQixRQUFRO0FBQzNCO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxtQkFBbUIsUUFBUTtBQUMzQjtBQUNBLElBQUk7QUFDSixtQ0FBbUMsS0FBSztBQUN4QztBQUNBLElBQUk7QUFDSjtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQSxLQUFLLEdBQUc7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLDJEQUFjO0FBQy9DLGNBQWMsT0FBTztBQUNyQjtBQUNBLEdBQUc7QUFDSDtBQUNBLGtDQUFrQztBQUNsQztBQUNBLGtCQUFrQixRQUFRO0FBQzFCO0FBQ0EsR0FBRztBQUNIO0FBQ0Esa0JBQWtCLFFBQVE7QUFDMUI7QUFDQSxHQUFHLEdBQUc7QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDaUc7QUFDakciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdHJhY2Vycy9sb2dfc3RyZWFtLmpzPzlkZTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19leHBvcnQgfSBmcm9tIFwiLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5qc1wiO1xuaW1wb3J0IHsgQUlNZXNzYWdlQ2h1bmsgfSBmcm9tIFwiLi4vbWVzc2FnZXMvYWkuanNcIjtcbmltcG9ydCB7IGFwcGx5UGF0Y2ggfSBmcm9tIFwiLi4vdXRpbHMvZmFzdC1qc29uLXBhdGNoL3NyYy9jb3JlLmpzXCI7XG5pbXBvcnQgXCIuLi91dGlscy9mYXN0LWpzb24tcGF0Y2gvaW5kZXguanNcIjtcbmltcG9ydCB7IEJhc2VUcmFjZXIgfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5pbXBvcnQgeyBJdGVyYWJsZVJlYWRhYmxlU3RyZWFtIH0gZnJvbSBcIi4uL3V0aWxzL3N0cmVhbS5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3RyYWNlcnMvbG9nX3N0cmVhbS50c1xudmFyIGxvZ19zdHJlYW1fZXhwb3J0cyA9IHt9O1xuX19leHBvcnQobG9nX3N0cmVhbV9leHBvcnRzLCB7XG5cdExvZ1N0cmVhbUNhbGxiYWNrSGFuZGxlcjogKCkgPT4gTG9nU3RyZWFtQ2FsbGJhY2tIYW5kbGVyLFxuXHRSdW5Mb2c6ICgpID0+IFJ1bkxvZyxcblx0UnVuTG9nUGF0Y2g6ICgpID0+IFJ1bkxvZ1BhdGNoLFxuXHRpc0xvZ1N0cmVhbUhhbmRsZXI6ICgpID0+IGlzTG9nU3RyZWFtSGFuZGxlclxufSk7XG4vKipcbiogTGlzdCBvZiBqc29ucGF0Y2ggSlNPTlBhdGNoT3BlcmF0aW9ucywgd2hpY2ggZGVzY3JpYmUgaG93IHRvIGNyZWF0ZSB0aGUgcnVuIHN0YXRlXG4qIGZyb20gYW4gZW1wdHkgZGljdC4gVGhpcyBpcyB0aGUgbWluaW1hbCByZXByZXNlbnRhdGlvbiBvZiB0aGUgbG9nLCBkZXNpZ25lZCB0b1xuKiBiZSBzZXJpYWxpemVkIGFzIEpTT04gYW5kIHNlbnQgb3ZlciB0aGUgd2lyZSB0byByZWNvbnN0cnVjdCB0aGUgbG9nIG9uIHRoZSBvdGhlclxuKiBzaWRlLiBSZWNvbnN0cnVjdGlvbiBvZiB0aGUgc3RhdGUgY2FuIGJlIGRvbmUgd2l0aCBhbnkganNvbnBhdGNoLWNvbXBsaWFudCBsaWJyYXJ5LFxuKiBzZWUgaHR0cHM6Ly9qc29ucGF0Y2guY29tIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuKi9cbnZhciBSdW5Mb2dQYXRjaCA9IGNsYXNzIHtcblx0b3BzO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHR0aGlzLm9wcyA9IGZpZWxkcy5vcHMgPz8gW107XG5cdH1cblx0Y29uY2F0KG90aGVyKSB7XG5cdFx0Y29uc3Qgb3BzID0gdGhpcy5vcHMuY29uY2F0KG90aGVyLm9wcyk7XG5cdFx0Y29uc3Qgc3RhdGVzID0gYXBwbHlQYXRjaCh7fSwgb3BzKTtcblx0XHRyZXR1cm4gbmV3IFJ1bkxvZyh7XG5cdFx0XHRvcHMsXG5cdFx0XHRzdGF0ZTogc3RhdGVzW3N0YXRlcy5sZW5ndGggLSAxXS5uZXdEb2N1bWVudFxuXHRcdH0pO1xuXHR9XG59O1xudmFyIFJ1bkxvZyA9IGNsYXNzIFJ1bkxvZyBleHRlbmRzIFJ1bkxvZ1BhdGNoIHtcblx0c3RhdGU7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdHN1cGVyKGZpZWxkcyk7XG5cdFx0dGhpcy5zdGF0ZSA9IGZpZWxkcy5zdGF0ZTtcblx0fVxuXHRjb25jYXQob3RoZXIpIHtcblx0XHRjb25zdCBvcHMgPSB0aGlzLm9wcy5jb25jYXQob3RoZXIub3BzKTtcblx0XHRjb25zdCBzdGF0ZXMgPSBhcHBseVBhdGNoKHRoaXMuc3RhdGUsIG90aGVyLm9wcyk7XG5cdFx0cmV0dXJuIG5ldyBSdW5Mb2coe1xuXHRcdFx0b3BzLFxuXHRcdFx0c3RhdGU6IHN0YXRlc1tzdGF0ZXMubGVuZ3RoIC0gMV0ubmV3RG9jdW1lbnRcblx0XHR9KTtcblx0fVxuXHRzdGF0aWMgZnJvbVJ1bkxvZ1BhdGNoKHBhdGNoKSB7XG5cdFx0Y29uc3Qgc3RhdGVzID0gYXBwbHlQYXRjaCh7fSwgcGF0Y2gub3BzKTtcblx0XHRyZXR1cm4gbmV3IFJ1bkxvZyh7XG5cdFx0XHRvcHM6IHBhdGNoLm9wcyxcblx0XHRcdHN0YXRlOiBzdGF0ZXNbc3RhdGVzLmxlbmd0aCAtIDFdLm5ld0RvY3VtZW50XG5cdFx0fSk7XG5cdH1cbn07XG5jb25zdCBpc0xvZ1N0cmVhbUhhbmRsZXIgPSAoaGFuZGxlcikgPT4gaGFuZGxlci5uYW1lID09PSBcImxvZ19zdHJlYW1fdHJhY2VyXCI7XG4vKipcbiogRXh0cmFjdCBzdGFuZGFyZGl6ZWQgaW5wdXRzIGZyb20gYSBydW4uXG4qXG4qIFN0YW5kYXJkaXplcyB0aGUgaW5wdXRzIGJhc2VkIG9uIHRoZSB0eXBlIG9mIHRoZSBydW5uYWJsZSB1c2VkLlxuKlxuKiBAcGFyYW0gcnVuIC0gUnVuIG9iamVjdFxuKiBAcGFyYW0gc2NoZW1hRm9ybWF0IC0gVGhlIHNjaGVtYSBmb3JtYXQgdG8gdXNlLlxuKlxuKiBAcmV0dXJucyBWYWxpZCBpbnB1dHMgYXJlIG9ubHkgZGljdC4gQnkgY29udmVudGlvbnMsIGlucHV0cyBhbHdheXMgcmVwcmVzZW50ZWRcbiogaW52b2NhdGlvbiB1c2luZyBuYW1lZCBhcmd1bWVudHMuXG4qIEEgbnVsbCBtZWFucyB0aGF0IHRoZSBpbnB1dCBpcyBub3QgeWV0IGtub3duIVxuKi9cbmFzeW5jIGZ1bmN0aW9uIF9nZXRTdGFuZGFyZGl6ZWRJbnB1dHMocnVuLCBzY2hlbWFGb3JtYXQpIHtcblx0aWYgKHNjaGVtYUZvcm1hdCA9PT0gXCJvcmlnaW5hbFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJEbyBub3QgYXNzaWduIGlucHV0cyB3aXRoIG9yaWdpbmFsIHNjaGVtYSBkcm9wIHRoZSBrZXkgZm9yIG5vdy4gV2hlbiBpbnB1dHMgYXJlIGFkZGVkIHRvIHN0cmVhbUxvZyB0aGV5IHNob3VsZCBiZSBhZGRlZCB3aXRoIHN0YW5kYXJkaXplZCBzY2hlbWEgZm9yIHN0cmVhbWluZyBldmVudHMuXCIpO1xuXHRjb25zdCB7IGlucHV0cyB9ID0gcnVuO1xuXHRpZiAoW1xuXHRcdFwicmV0cmlldmVyXCIsXG5cdFx0XCJsbG1cIixcblx0XHRcInByb21wdFwiXG5cdF0uaW5jbHVkZXMocnVuLnJ1bl90eXBlKSkgcmV0dXJuIGlucHV0cztcblx0aWYgKE9iamVjdC5rZXlzKGlucHV0cykubGVuZ3RoID09PSAxICYmIGlucHV0cz8uaW5wdXQgPT09IFwiXCIpIHJldHVybiB2b2lkIDA7XG5cdHJldHVybiBpbnB1dHMuaW5wdXQ7XG59XG5hc3luYyBmdW5jdGlvbiBfZ2V0U3RhbmRhcmRpemVkT3V0cHV0cyhydW4sIHNjaGVtYUZvcm1hdCkge1xuXHRjb25zdCB7IG91dHB1dHMgfSA9IHJ1bjtcblx0aWYgKHNjaGVtYUZvcm1hdCA9PT0gXCJvcmlnaW5hbFwiKSByZXR1cm4gb3V0cHV0cztcblx0aWYgKFtcblx0XHRcInJldHJpZXZlclwiLFxuXHRcdFwibGxtXCIsXG5cdFx0XCJwcm9tcHRcIlxuXHRdLmluY2x1ZGVzKHJ1bi5ydW5fdHlwZSkpIHJldHVybiBvdXRwdXRzO1xuXHRpZiAob3V0cHV0cyAhPT0gdm9pZCAwICYmIE9iamVjdC5rZXlzKG91dHB1dHMpLmxlbmd0aCA9PT0gMSAmJiBvdXRwdXRzPy5vdXRwdXQgIT09IHZvaWQgMCkgcmV0dXJuIG91dHB1dHMub3V0cHV0O1xuXHRyZXR1cm4gb3V0cHV0cztcbn1cbmZ1bmN0aW9uIGlzQ2hhdEdlbmVyYXRpb25DaHVuayh4KSB7XG5cdHJldHVybiB4ICE9PSB2b2lkIDAgJiYgeC5tZXNzYWdlICE9PSB2b2lkIDA7XG59XG4vKipcbiogQ2xhc3MgdGhhdCBleHRlbmRzIHRoZSBgQmFzZVRyYWNlcmAgY2xhc3MgZnJvbSB0aGVcbiogYGxhbmdjaGFpbi5jYWxsYmFja3MudHJhY2Vycy5iYXNlYCBtb2R1bGUuIEl0IHJlcHJlc2VudHMgYSBjYWxsYmFja1xuKiBoYW5kbGVyIHRoYXQgbG9ncyB0aGUgZXhlY3V0aW9uIG9mIHJ1bnMgYW5kIGVtaXRzIGBSdW5Mb2dgIGluc3RhbmNlcyB0byBhXG4qIGBSdW5Mb2dTdHJlYW1gLlxuKi9cbnZhciBMb2dTdHJlYW1DYWxsYmFja0hhbmRsZXIgPSBjbGFzcyBleHRlbmRzIEJhc2VUcmFjZXIge1xuXHRhdXRvQ2xvc2UgPSB0cnVlO1xuXHRpbmNsdWRlTmFtZXM7XG5cdGluY2x1ZGVUeXBlcztcblx0aW5jbHVkZVRhZ3M7XG5cdGV4Y2x1ZGVOYW1lcztcblx0ZXhjbHVkZVR5cGVzO1xuXHRleGNsdWRlVGFncztcblx0X3NjaGVtYUZvcm1hdCA9IFwib3JpZ2luYWxcIjtcblx0cm9vdElkO1xuXHRrZXlNYXBCeVJ1bklkID0ge307XG5cdGNvdW50ZXJNYXBCeVJ1bk5hbWUgPSB7fTtcblx0dHJhbnNmb3JtU3RyZWFtO1xuXHR3cml0ZXI7XG5cdHJlY2VpdmVTdHJlYW07XG5cdG5hbWUgPSBcImxvZ19zdHJlYW1fdHJhY2VyXCI7XG5cdGxjX3ByZWZlcl9zdHJlYW1pbmcgPSB0cnVlO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRzdXBlcih7XG5cdFx0XHRfYXdhaXRIYW5kbGVyOiB0cnVlLFxuXHRcdFx0Li4uZmllbGRzXG5cdFx0fSk7XG5cdFx0dGhpcy5hdXRvQ2xvc2UgPSBmaWVsZHM/LmF1dG9DbG9zZSA/PyB0cnVlO1xuXHRcdHRoaXMuaW5jbHVkZU5hbWVzID0gZmllbGRzPy5pbmNsdWRlTmFtZXM7XG5cdFx0dGhpcy5pbmNsdWRlVHlwZXMgPSBmaWVsZHM/LmluY2x1ZGVUeXBlcztcblx0XHR0aGlzLmluY2x1ZGVUYWdzID0gZmllbGRzPy5pbmNsdWRlVGFncztcblx0XHR0aGlzLmV4Y2x1ZGVOYW1lcyA9IGZpZWxkcz8uZXhjbHVkZU5hbWVzO1xuXHRcdHRoaXMuZXhjbHVkZVR5cGVzID0gZmllbGRzPy5leGNsdWRlVHlwZXM7XG5cdFx0dGhpcy5leGNsdWRlVGFncyA9IGZpZWxkcz8uZXhjbHVkZVRhZ3M7XG5cdFx0dGhpcy5fc2NoZW1hRm9ybWF0ID0gZmllbGRzPy5fc2NoZW1hRm9ybWF0ID8/IHRoaXMuX3NjaGVtYUZvcm1hdDtcblx0XHR0aGlzLnRyYW5zZm9ybVN0cmVhbSA9IG5ldyBUcmFuc2Zvcm1TdHJlYW0oKTtcblx0XHR0aGlzLndyaXRlciA9IHRoaXMudHJhbnNmb3JtU3RyZWFtLndyaXRhYmxlLmdldFdyaXRlcigpO1xuXHRcdHRoaXMucmVjZWl2ZVN0cmVhbSA9IEl0ZXJhYmxlUmVhZGFibGVTdHJlYW0uZnJvbVJlYWRhYmxlU3RyZWFtKHRoaXMudHJhbnNmb3JtU3RyZWFtLnJlYWRhYmxlKTtcblx0fVxuXHRbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuXHRcdHJldHVybiB0aGlzLnJlY2VpdmVTdHJlYW07XG5cdH1cblx0YXN5bmMgcGVyc2lzdFJ1bihfcnVuKSB7fVxuXHRfaW5jbHVkZVJ1bihydW4pIHtcblx0XHRpZiAocnVuLmlkID09PSB0aGlzLnJvb3RJZCkgcmV0dXJuIGZhbHNlO1xuXHRcdGNvbnN0IHJ1blRhZ3MgPSBydW4udGFncyA/PyBbXTtcblx0XHRsZXQgaW5jbHVkZSA9IHRoaXMuaW5jbHVkZU5hbWVzID09PSB2b2lkIDAgJiYgdGhpcy5pbmNsdWRlVGFncyA9PT0gdm9pZCAwICYmIHRoaXMuaW5jbHVkZVR5cGVzID09PSB2b2lkIDA7XG5cdFx0aWYgKHRoaXMuaW5jbHVkZU5hbWVzICE9PSB2b2lkIDApIGluY2x1ZGUgPSBpbmNsdWRlIHx8IHRoaXMuaW5jbHVkZU5hbWVzLmluY2x1ZGVzKHJ1bi5uYW1lKTtcblx0XHRpZiAodGhpcy5pbmNsdWRlVHlwZXMgIT09IHZvaWQgMCkgaW5jbHVkZSA9IGluY2x1ZGUgfHwgdGhpcy5pbmNsdWRlVHlwZXMuaW5jbHVkZXMocnVuLnJ1bl90eXBlKTtcblx0XHRpZiAodGhpcy5pbmNsdWRlVGFncyAhPT0gdm9pZCAwKSBpbmNsdWRlID0gaW5jbHVkZSB8fCBydW5UYWdzLmZpbmQoKHRhZykgPT4gdGhpcy5pbmNsdWRlVGFncz8uaW5jbHVkZXModGFnKSkgIT09IHZvaWQgMDtcblx0XHRpZiAodGhpcy5leGNsdWRlTmFtZXMgIT09IHZvaWQgMCkgaW5jbHVkZSA9IGluY2x1ZGUgJiYgIXRoaXMuZXhjbHVkZU5hbWVzLmluY2x1ZGVzKHJ1bi5uYW1lKTtcblx0XHRpZiAodGhpcy5leGNsdWRlVHlwZXMgIT09IHZvaWQgMCkgaW5jbHVkZSA9IGluY2x1ZGUgJiYgIXRoaXMuZXhjbHVkZVR5cGVzLmluY2x1ZGVzKHJ1bi5ydW5fdHlwZSk7XG5cdFx0aWYgKHRoaXMuZXhjbHVkZVRhZ3MgIT09IHZvaWQgMCkgaW5jbHVkZSA9IGluY2x1ZGUgJiYgcnVuVGFncy5ldmVyeSgodGFnKSA9PiAhdGhpcy5leGNsdWRlVGFncz8uaW5jbHVkZXModGFnKSk7XG5cdFx0cmV0dXJuIGluY2x1ZGU7XG5cdH1cblx0YXN5bmMgKnRhcE91dHB1dEl0ZXJhYmxlKHJ1bklkLCBvdXRwdXQpIHtcblx0XHRmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIG91dHB1dCkge1xuXHRcdFx0aWYgKHJ1bklkICE9PSB0aGlzLnJvb3RJZCkge1xuXHRcdFx0XHRjb25zdCBrZXkgPSB0aGlzLmtleU1hcEJ5UnVuSWRbcnVuSWRdO1xuXHRcdFx0XHRpZiAoa2V5KSBhd2FpdCB0aGlzLndyaXRlci53cml0ZShuZXcgUnVuTG9nUGF0Y2goeyBvcHM6IFt7XG5cdFx0XHRcdFx0b3A6IFwiYWRkXCIsXG5cdFx0XHRcdFx0cGF0aDogYC9sb2dzLyR7a2V5fS9zdHJlYW1lZF9vdXRwdXQvLWAsXG5cdFx0XHRcdFx0dmFsdWU6IGNodW5rXG5cdFx0XHRcdH1dIH0pKTtcblx0XHRcdH1cblx0XHRcdHlpZWxkIGNodW5rO1xuXHRcdH1cblx0fVxuXHRhc3luYyBvblJ1bkNyZWF0ZShydW4pIHtcblx0XHRpZiAodGhpcy5yb290SWQgPT09IHZvaWQgMCkge1xuXHRcdFx0dGhpcy5yb290SWQgPSBydW4uaWQ7XG5cdFx0XHRhd2FpdCB0aGlzLndyaXRlci53cml0ZShuZXcgUnVuTG9nUGF0Y2goeyBvcHM6IFt7XG5cdFx0XHRcdG9wOiBcInJlcGxhY2VcIixcblx0XHRcdFx0cGF0aDogXCJcIixcblx0XHRcdFx0dmFsdWU6IHtcblx0XHRcdFx0XHRpZDogcnVuLmlkLFxuXHRcdFx0XHRcdG5hbWU6IHJ1bi5uYW1lLFxuXHRcdFx0XHRcdHR5cGU6IHJ1bi5ydW5fdHlwZSxcblx0XHRcdFx0XHRzdHJlYW1lZF9vdXRwdXQ6IFtdLFxuXHRcdFx0XHRcdGZpbmFsX291dHB1dDogdm9pZCAwLFxuXHRcdFx0XHRcdGxvZ3M6IHt9XG5cdFx0XHRcdH1cblx0XHRcdH1dIH0pKTtcblx0XHR9XG5cdFx0aWYgKCF0aGlzLl9pbmNsdWRlUnVuKHJ1bikpIHJldHVybjtcblx0XHRpZiAodGhpcy5jb3VudGVyTWFwQnlSdW5OYW1lW3J1bi5uYW1lXSA9PT0gdm9pZCAwKSB0aGlzLmNvdW50ZXJNYXBCeVJ1bk5hbWVbcnVuLm5hbWVdID0gMDtcblx0XHR0aGlzLmNvdW50ZXJNYXBCeVJ1bk5hbWVbcnVuLm5hbWVdICs9IDE7XG5cdFx0Y29uc3QgY291bnQgPSB0aGlzLmNvdW50ZXJNYXBCeVJ1bk5hbWVbcnVuLm5hbWVdO1xuXHRcdHRoaXMua2V5TWFwQnlSdW5JZFtydW4uaWRdID0gY291bnQgPT09IDEgPyBydW4ubmFtZSA6IGAke3J1bi5uYW1lfToke2NvdW50fWA7XG5cdFx0Y29uc3QgbG9nRW50cnkgPSB7XG5cdFx0XHRpZDogcnVuLmlkLFxuXHRcdFx0bmFtZTogcnVuLm5hbWUsXG5cdFx0XHR0eXBlOiBydW4ucnVuX3R5cGUsXG5cdFx0XHR0YWdzOiBydW4udGFncyA/PyBbXSxcblx0XHRcdG1ldGFkYXRhOiBydW4uZXh0cmE/Lm1ldGFkYXRhID8/IHt9LFxuXHRcdFx0c3RhcnRfdGltZTogbmV3IERhdGUocnVuLnN0YXJ0X3RpbWUpLnRvSVNPU3RyaW5nKCksXG5cdFx0XHRzdHJlYW1lZF9vdXRwdXQ6IFtdLFxuXHRcdFx0c3RyZWFtZWRfb3V0cHV0X3N0cjogW10sXG5cdFx0XHRmaW5hbF9vdXRwdXQ6IHZvaWQgMCxcblx0XHRcdGVuZF90aW1lOiB2b2lkIDBcblx0XHR9O1xuXHRcdGlmICh0aGlzLl9zY2hlbWFGb3JtYXQgPT09IFwic3RyZWFtaW5nX2V2ZW50c1wiKSBsb2dFbnRyeS5pbnB1dHMgPSBhd2FpdCBfZ2V0U3RhbmRhcmRpemVkSW5wdXRzKHJ1biwgdGhpcy5fc2NoZW1hRm9ybWF0KTtcblx0XHRhd2FpdCB0aGlzLndyaXRlci53cml0ZShuZXcgUnVuTG9nUGF0Y2goeyBvcHM6IFt7XG5cdFx0XHRvcDogXCJhZGRcIixcblx0XHRcdHBhdGg6IGAvbG9ncy8ke3RoaXMua2V5TWFwQnlSdW5JZFtydW4uaWRdfWAsXG5cdFx0XHR2YWx1ZTogbG9nRW50cnlcblx0XHR9XSB9KSk7XG5cdH1cblx0YXN5bmMgb25SdW5VcGRhdGUocnVuKSB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHJ1bk5hbWUgPSB0aGlzLmtleU1hcEJ5UnVuSWRbcnVuLmlkXTtcblx0XHRcdGlmIChydW5OYW1lID09PSB2b2lkIDApIHJldHVybjtcblx0XHRcdGNvbnN0IG9wcyA9IFtdO1xuXHRcdFx0aWYgKHRoaXMuX3NjaGVtYUZvcm1hdCA9PT0gXCJzdHJlYW1pbmdfZXZlbnRzXCIpIG9wcy5wdXNoKHtcblx0XHRcdFx0b3A6IFwicmVwbGFjZVwiLFxuXHRcdFx0XHRwYXRoOiBgL2xvZ3MvJHtydW5OYW1lfS9pbnB1dHNgLFxuXHRcdFx0XHR2YWx1ZTogYXdhaXQgX2dldFN0YW5kYXJkaXplZElucHV0cyhydW4sIHRoaXMuX3NjaGVtYUZvcm1hdClcblx0XHRcdH0pO1xuXHRcdFx0b3BzLnB1c2goe1xuXHRcdFx0XHRvcDogXCJhZGRcIixcblx0XHRcdFx0cGF0aDogYC9sb2dzLyR7cnVuTmFtZX0vZmluYWxfb3V0cHV0YCxcblx0XHRcdFx0dmFsdWU6IGF3YWl0IF9nZXRTdGFuZGFyZGl6ZWRPdXRwdXRzKHJ1biwgdGhpcy5fc2NoZW1hRm9ybWF0KVxuXHRcdFx0fSk7XG5cdFx0XHRpZiAocnVuLmVuZF90aW1lICE9PSB2b2lkIDApIG9wcy5wdXNoKHtcblx0XHRcdFx0b3A6IFwiYWRkXCIsXG5cdFx0XHRcdHBhdGg6IGAvbG9ncy8ke3J1bk5hbWV9L2VuZF90aW1lYCxcblx0XHRcdFx0dmFsdWU6IG5ldyBEYXRlKHJ1bi5lbmRfdGltZSkudG9JU09TdHJpbmcoKVxuXHRcdFx0fSk7XG5cdFx0XHRjb25zdCBwYXRjaCA9IG5ldyBSdW5Mb2dQYXRjaCh7IG9wcyB9KTtcblx0XHRcdGF3YWl0IHRoaXMud3JpdGVyLndyaXRlKHBhdGNoKTtcblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0aWYgKHJ1bi5pZCA9PT0gdGhpcy5yb290SWQpIHtcblx0XHRcdFx0Y29uc3QgcGF0Y2ggPSBuZXcgUnVuTG9nUGF0Y2goeyBvcHM6IFt7XG5cdFx0XHRcdFx0b3A6IFwicmVwbGFjZVwiLFxuXHRcdFx0XHRcdHBhdGg6IFwiL2ZpbmFsX291dHB1dFwiLFxuXHRcdFx0XHRcdHZhbHVlOiBhd2FpdCBfZ2V0U3RhbmRhcmRpemVkT3V0cHV0cyhydW4sIHRoaXMuX3NjaGVtYUZvcm1hdClcblx0XHRcdFx0fV0gfSk7XG5cdFx0XHRcdGF3YWl0IHRoaXMud3JpdGVyLndyaXRlKHBhdGNoKTtcblx0XHRcdFx0aWYgKHRoaXMuYXV0b0Nsb3NlKSBhd2FpdCB0aGlzLndyaXRlci5jbG9zZSgpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRhc3luYyBvbkxMTU5ld1Rva2VuKHJ1biwgdG9rZW4sIGt3YXJncykge1xuXHRcdGNvbnN0IHJ1bk5hbWUgPSB0aGlzLmtleU1hcEJ5UnVuSWRbcnVuLmlkXTtcblx0XHRpZiAocnVuTmFtZSA9PT0gdm9pZCAwKSByZXR1cm47XG5cdFx0Y29uc3QgaXNDaGF0TW9kZWwgPSBydW4uaW5wdXRzLm1lc3NhZ2VzICE9PSB2b2lkIDA7XG5cdFx0bGV0IHN0cmVhbWVkT3V0cHV0VmFsdWU7XG5cdFx0aWYgKGlzQ2hhdE1vZGVsKSBpZiAoaXNDaGF0R2VuZXJhdGlvbkNodW5rKGt3YXJncz8uY2h1bmspKSBzdHJlYW1lZE91dHB1dFZhbHVlID0ga3dhcmdzPy5jaHVuaztcblx0XHRlbHNlIHN0cmVhbWVkT3V0cHV0VmFsdWUgPSBuZXcgQUlNZXNzYWdlQ2h1bmsoe1xuXHRcdFx0aWQ6IGBydW4tJHtydW4uaWR9YCxcblx0XHRcdGNvbnRlbnQ6IHRva2VuXG5cdFx0fSk7XG5cdFx0ZWxzZSBzdHJlYW1lZE91dHB1dFZhbHVlID0gdG9rZW47XG5cdFx0Y29uc3QgcGF0Y2ggPSBuZXcgUnVuTG9nUGF0Y2goeyBvcHM6IFt7XG5cdFx0XHRvcDogXCJhZGRcIixcblx0XHRcdHBhdGg6IGAvbG9ncy8ke3J1bk5hbWV9L3N0cmVhbWVkX291dHB1dF9zdHIvLWAsXG5cdFx0XHR2YWx1ZTogdG9rZW5cblx0XHR9LCB7XG5cdFx0XHRvcDogXCJhZGRcIixcblx0XHRcdHBhdGg6IGAvbG9ncy8ke3J1bk5hbWV9L3N0cmVhbWVkX291dHB1dC8tYCxcblx0XHRcdHZhbHVlOiBzdHJlYW1lZE91dHB1dFZhbHVlXG5cdFx0fV0gfSk7XG5cdFx0YXdhaXQgdGhpcy53cml0ZXIud3JpdGUocGF0Y2gpO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IExvZ1N0cmVhbUNhbGxiYWNrSGFuZGxlciwgUnVuTG9nLCBSdW5Mb2dQYXRjaCwgaXNMb2dTdHJlYW1IYW5kbGVyLCBsb2dfc3RyZWFtX2V4cG9ydHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvZ19zdHJlYW0uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tracers/log_stream.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tracers/root_listener.js":
/*!***************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tracers/root_listener.js ***!
  \***************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RootListenersTracer: () => (/* binding */ RootListenersTracer)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tracers/base.js\");\n\n\n//#region src/tracers/root_listener.ts\nvar RootListenersTracer = class extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseTracer {\n\tname = \"RootListenersTracer\";\n\t/** The Run's ID. Type UUID */\n\trootId;\n\tconfig;\n\targOnStart;\n\targOnEnd;\n\targOnError;\n\tconstructor({ config, onStart, onEnd, onError }) {\n\t\tsuper({ _awaitHandler: true });\n\t\tthis.config = config;\n\t\tthis.argOnStart = onStart;\n\t\tthis.argOnEnd = onEnd;\n\t\tthis.argOnError = onError;\n\t}\n\t/**\n\t* This is a legacy method only called once for an entire run tree\n\t* therefore not useful here\n\t* @param {Run} _ Not used\n\t*/\n\tpersistRun(_) {\n\t\treturn Promise.resolve();\n\t}\n\tasync onRunCreate(run) {\n\t\tif (this.rootId) return;\n\t\tthis.rootId = run.id;\n\t\tif (this.argOnStart) await this.argOnStart(run, this.config);\n\t}\n\tasync onRunUpdate(run) {\n\t\tif (run.id !== this.rootId) return;\n\t\tif (!run.error) {\n\t\t\tif (this.argOnEnd) await this.argOnEnd(run, this.config);\n\t\t} else if (this.argOnError) await this.argOnError(run, this.config);\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=root_listener.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3RyYWNlcnMvcm9vdF9saXN0ZW5lci5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUF1Qzs7QUFFdkM7QUFDQSx3Q0FBd0MsZ0RBQVU7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGlDQUFpQztBQUNoRCxVQUFVLHFCQUFxQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDK0I7QUFDL0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdHJhY2Vycy9yb290X2xpc3RlbmVyLmpzP2YyNjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzZVRyYWNlciB9IGZyb20gXCIuL2Jhc2UuanNcIjtcblxuLy8jcmVnaW9uIHNyYy90cmFjZXJzL3Jvb3RfbGlzdGVuZXIudHNcbnZhciBSb290TGlzdGVuZXJzVHJhY2VyID0gY2xhc3MgZXh0ZW5kcyBCYXNlVHJhY2VyIHtcblx0bmFtZSA9IFwiUm9vdExpc3RlbmVyc1RyYWNlclwiO1xuXHQvKiogVGhlIFJ1bidzIElELiBUeXBlIFVVSUQgKi9cblx0cm9vdElkO1xuXHRjb25maWc7XG5cdGFyZ09uU3RhcnQ7XG5cdGFyZ09uRW5kO1xuXHRhcmdPbkVycm9yO1xuXHRjb25zdHJ1Y3Rvcih7IGNvbmZpZywgb25TdGFydCwgb25FbmQsIG9uRXJyb3IgfSkge1xuXHRcdHN1cGVyKHsgX2F3YWl0SGFuZGxlcjogdHJ1ZSB9KTtcblx0XHR0aGlzLmNvbmZpZyA9IGNvbmZpZztcblx0XHR0aGlzLmFyZ09uU3RhcnQgPSBvblN0YXJ0O1xuXHRcdHRoaXMuYXJnT25FbmQgPSBvbkVuZDtcblx0XHR0aGlzLmFyZ09uRXJyb3IgPSBvbkVycm9yO1xuXHR9XG5cdC8qKlxuXHQqIFRoaXMgaXMgYSBsZWdhY3kgbWV0aG9kIG9ubHkgY2FsbGVkIG9uY2UgZm9yIGFuIGVudGlyZSBydW4gdHJlZVxuXHQqIHRoZXJlZm9yZSBub3QgdXNlZnVsIGhlcmVcblx0KiBAcGFyYW0ge1J1bn0gXyBOb3QgdXNlZFxuXHQqL1xuXHRwZXJzaXN0UnVuKF8pIHtcblx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG5cdH1cblx0YXN5bmMgb25SdW5DcmVhdGUocnVuKSB7XG5cdFx0aWYgKHRoaXMucm9vdElkKSByZXR1cm47XG5cdFx0dGhpcy5yb290SWQgPSBydW4uaWQ7XG5cdFx0aWYgKHRoaXMuYXJnT25TdGFydCkgYXdhaXQgdGhpcy5hcmdPblN0YXJ0KHJ1biwgdGhpcy5jb25maWcpO1xuXHR9XG5cdGFzeW5jIG9uUnVuVXBkYXRlKHJ1bikge1xuXHRcdGlmIChydW4uaWQgIT09IHRoaXMucm9vdElkKSByZXR1cm47XG5cdFx0aWYgKCFydW4uZXJyb3IpIHtcblx0XHRcdGlmICh0aGlzLmFyZ09uRW5kKSBhd2FpdCB0aGlzLmFyZ09uRW5kKHJ1biwgdGhpcy5jb25maWcpO1xuXHRcdH0gZWxzZSBpZiAodGhpcy5hcmdPbkVycm9yKSBhd2FpdCB0aGlzLmFyZ09uRXJyb3IocnVuLCB0aGlzLmNvbmZpZyk7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgUm9vdExpc3RlbmVyc1RyYWNlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cm9vdF9saXN0ZW5lci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tracers/root_listener.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tracers/tracer_langchain.js":
/*!******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tracers/tracer_langchain.js ***!
  \******************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LangChainTracer: () => (/* binding */ LangChainTracer),\n/* harmony export */   tracer_langchain_exports: () => (/* binding */ tracer_langchain_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _messages_metadata_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../messages/metadata.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/metadata.js\");\n/* harmony import */ var _messages_ai_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../messages/ai.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/messages/ai.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tracers/base.js\");\n/* harmony import */ var _singletons_tracer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../singletons/tracer.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/tracer.js\");\n/* harmony import */ var langsmith_singletons_traceable__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! langsmith/singletons/traceable */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+langsmith@0.4.9_openai@6.16.0/node_modules/langsmith/singletons/traceable.js\");\n/* harmony import */ var langsmith_run_trees__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! langsmith/run_trees */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+langsmith@0.4.9_openai@6.16.0/node_modules/langsmith/run_trees.js\");\n/* harmony import */ var langsmith__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! langsmith */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+langsmith@0.4.9_openai@6.16.0/node_modules/langsmith/index.js\");\n\n\n\n\n\n\n\n\n\n//#region src/tracers/tracer_langchain.ts\nvar tracer_langchain_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(tracer_langchain_exports, { LangChainTracer: () => LangChainTracer });\n/**\n* Extract usage_metadata from chat generations.\n*\n* Iterates through generations to find and aggregates all usage_metadata\n* found in chat messages. This is typically present in chat model outputs.\n*/\nfunction _getUsageMetadataFromGenerations(generations) {\n\tlet output = void 0;\n\tfor (const generationBatch of generations) for (const generation of generationBatch) if (_messages_ai_js__WEBPACK_IMPORTED_MODULE_2__.AIMessage.isInstance(generation.message) && generation.message.usage_metadata !== void 0) output = (0,_messages_metadata_js__WEBPACK_IMPORTED_MODULE_1__.mergeUsageMetadata)(output, generation.message.usage_metadata);\n\treturn output;\n}\nvar LangChainTracer = class LangChainTracer extends _base_js__WEBPACK_IMPORTED_MODULE_3__.BaseTracer {\n\tname = \"langchain_tracer\";\n\tprojectName;\n\texampleId;\n\tclient;\n\treplicas;\n\tusesRunTreeMap = true;\n\tconstructor(fields = {}) {\n\t\tsuper(fields);\n\t\tconst { exampleId, projectName, client, replicas } = fields;\n\t\tthis.projectName = projectName ?? (0,langsmith__WEBPACK_IMPORTED_MODULE_7__.getDefaultProjectName)();\n\t\tthis.replicas = replicas;\n\t\tthis.exampleId = exampleId;\n\t\tthis.client = client ?? (0,_singletons_tracer_js__WEBPACK_IMPORTED_MODULE_4__.getDefaultLangChainClientSingleton)();\n\t\tconst traceableTree = LangChainTracer.getTraceableRunTree();\n\t\tif (traceableTree) this.updateFromRunTree(traceableTree);\n\t}\n\tasync persistRun(_run) {}\n\tasync onRunCreate(run) {\n\t\tif (!run.extra?.lc_defers_inputs) {\n\t\t\tconst runTree = this.getRunTreeWithTracingConfig(run.id);\n\t\t\tawait runTree?.postRun();\n\t\t}\n\t}\n\tasync onRunUpdate(run) {\n\t\tconst runTree = this.getRunTreeWithTracingConfig(run.id);\n\t\tif (run.extra?.lc_defers_inputs) await runTree?.postRun();\n\t\telse await runTree?.patchRun();\n\t}\n\tonLLMEnd(run) {\n\t\tconst outputs = run.outputs;\n\t\tif (outputs?.generations) {\n\t\t\tconst usageMetadata = _getUsageMetadataFromGenerations(outputs.generations);\n\t\t\tif (usageMetadata !== void 0) {\n\t\t\t\trun.extra = run.extra ?? {};\n\t\t\t\tconst metadata = run.extra.metadata ?? {};\n\t\t\t\tmetadata.usage_metadata = usageMetadata;\n\t\t\t\trun.extra.metadata = metadata;\n\t\t\t}\n\t\t}\n\t}\n\tgetRun(id) {\n\t\treturn this.runTreeMap.get(id);\n\t}\n\tupdateFromRunTree(runTree) {\n\t\tthis.runTreeMap.set(runTree.id, runTree);\n\t\tlet rootRun = runTree;\n\t\tconst visited = /* @__PURE__ */ new Set();\n\t\twhile (rootRun.parent_run) {\n\t\t\tif (visited.has(rootRun.id)) break;\n\t\t\tvisited.add(rootRun.id);\n\t\t\tif (!rootRun.parent_run) break;\n\t\t\trootRun = rootRun.parent_run;\n\t\t}\n\t\tvisited.clear();\n\t\tconst queue = [rootRun];\n\t\twhile (queue.length > 0) {\n\t\t\tconst current = queue.shift();\n\t\t\tif (!current || visited.has(current.id)) continue;\n\t\t\tvisited.add(current.id);\n\t\t\tthis.runTreeMap.set(current.id, current);\n\t\t\tif (current.child_runs) queue.push(...current.child_runs);\n\t\t}\n\t\tthis.client = runTree.client ?? this.client;\n\t\tthis.replicas = runTree.replicas ?? this.replicas;\n\t\tthis.projectName = runTree.project_name ?? this.projectName;\n\t\tthis.exampleId = runTree.reference_example_id ?? this.exampleId;\n\t}\n\tgetRunTreeWithTracingConfig(id) {\n\t\tconst runTree = this.runTreeMap.get(id);\n\t\tif (!runTree) return void 0;\n\t\treturn new langsmith_run_trees__WEBPACK_IMPORTED_MODULE_6__.RunTree({\n\t\t\t...runTree,\n\t\t\tclient: this.client,\n\t\t\tproject_name: this.projectName,\n\t\t\treplicas: this.replicas,\n\t\t\treference_example_id: this.exampleId,\n\t\t\ttracingEnabled: true\n\t\t});\n\t}\n\tstatic getTraceableRunTree() {\n\t\ttry {\n\t\t\treturn (0,langsmith_singletons_traceable__WEBPACK_IMPORTED_MODULE_5__.getCurrentRunTree)(true);\n\t\t} catch {\n\t\t\treturn void 0;\n\t\t}\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=tracer_langchain.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3RyYWNlcnMvdHJhY2VyX2xhbmdjaGFpbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQTJEO0FBQ0U7QUFDZjtBQUNQO0FBQ3NDO0FBQ1Y7QUFDckI7QUFDSTs7QUFFbEQ7QUFDQTtBQUNBLHNFQUFRLDZCQUE2Qix3Q0FBd0M7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBGQUEwRixzREFBUywwRkFBMEYseUVBQWtCO0FBQy9NO0FBQ0E7QUFDQSxvREFBb0QsZ0RBQVU7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0EsVUFBVSwyQ0FBMkM7QUFDckQsb0NBQW9DLGdFQUFxQjtBQUN6RDtBQUNBO0FBQ0EsMEJBQTBCLHlGQUFrQztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHdEQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxVQUFVLGlGQUFpQjtBQUMzQixJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDcUQ7QUFDckQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdHJhY2Vycy90cmFjZXJfbGFuZ2NoYWluLmpzPzY5ODQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19leHBvcnQgfSBmcm9tIFwiLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5qc1wiO1xuaW1wb3J0IHsgbWVyZ2VVc2FnZU1ldGFkYXRhIH0gZnJvbSBcIi4uL21lc3NhZ2VzL21ldGFkYXRhLmpzXCI7XG5pbXBvcnQgeyBBSU1lc3NhZ2UgfSBmcm9tIFwiLi4vbWVzc2FnZXMvYWkuanNcIjtcbmltcG9ydCB7IEJhc2VUcmFjZXIgfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5pbXBvcnQgeyBnZXREZWZhdWx0TGFuZ0NoYWluQ2xpZW50U2luZ2xldG9uIH0gZnJvbSBcIi4uL3NpbmdsZXRvbnMvdHJhY2VyLmpzXCI7XG5pbXBvcnQgeyBnZXRDdXJyZW50UnVuVHJlZSB9IGZyb20gXCJsYW5nc21pdGgvc2luZ2xldG9ucy90cmFjZWFibGVcIjtcbmltcG9ydCB7IFJ1blRyZWUgfSBmcm9tIFwibGFuZ3NtaXRoL3J1bl90cmVlc1wiO1xuaW1wb3J0IHsgZ2V0RGVmYXVsdFByb2plY3ROYW1lIH0gZnJvbSBcImxhbmdzbWl0aFwiO1xuXG4vLyNyZWdpb24gc3JjL3RyYWNlcnMvdHJhY2VyX2xhbmdjaGFpbi50c1xudmFyIHRyYWNlcl9sYW5nY2hhaW5fZXhwb3J0cyA9IHt9O1xuX19leHBvcnQodHJhY2VyX2xhbmdjaGFpbl9leHBvcnRzLCB7IExhbmdDaGFpblRyYWNlcjogKCkgPT4gTGFuZ0NoYWluVHJhY2VyIH0pO1xuLyoqXG4qIEV4dHJhY3QgdXNhZ2VfbWV0YWRhdGEgZnJvbSBjaGF0IGdlbmVyYXRpb25zLlxuKlxuKiBJdGVyYXRlcyB0aHJvdWdoIGdlbmVyYXRpb25zIHRvIGZpbmQgYW5kIGFnZ3JlZ2F0ZXMgYWxsIHVzYWdlX21ldGFkYXRhXG4qIGZvdW5kIGluIGNoYXQgbWVzc2FnZXMuIFRoaXMgaXMgdHlwaWNhbGx5IHByZXNlbnQgaW4gY2hhdCBtb2RlbCBvdXRwdXRzLlxuKi9cbmZ1bmN0aW9uIF9nZXRVc2FnZU1ldGFkYXRhRnJvbUdlbmVyYXRpb25zKGdlbmVyYXRpb25zKSB7XG5cdGxldCBvdXRwdXQgPSB2b2lkIDA7XG5cdGZvciAoY29uc3QgZ2VuZXJhdGlvbkJhdGNoIG9mIGdlbmVyYXRpb25zKSBmb3IgKGNvbnN0IGdlbmVyYXRpb24gb2YgZ2VuZXJhdGlvbkJhdGNoKSBpZiAoQUlNZXNzYWdlLmlzSW5zdGFuY2UoZ2VuZXJhdGlvbi5tZXNzYWdlKSAmJiBnZW5lcmF0aW9uLm1lc3NhZ2UudXNhZ2VfbWV0YWRhdGEgIT09IHZvaWQgMCkgb3V0cHV0ID0gbWVyZ2VVc2FnZU1ldGFkYXRhKG91dHB1dCwgZ2VuZXJhdGlvbi5tZXNzYWdlLnVzYWdlX21ldGFkYXRhKTtcblx0cmV0dXJuIG91dHB1dDtcbn1cbnZhciBMYW5nQ2hhaW5UcmFjZXIgPSBjbGFzcyBMYW5nQ2hhaW5UcmFjZXIgZXh0ZW5kcyBCYXNlVHJhY2VyIHtcblx0bmFtZSA9IFwibGFuZ2NoYWluX3RyYWNlclwiO1xuXHRwcm9qZWN0TmFtZTtcblx0ZXhhbXBsZUlkO1xuXHRjbGllbnQ7XG5cdHJlcGxpY2FzO1xuXHR1c2VzUnVuVHJlZU1hcCA9IHRydWU7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcyA9IHt9KSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHRjb25zdCB7IGV4YW1wbGVJZCwgcHJvamVjdE5hbWUsIGNsaWVudCwgcmVwbGljYXMgfSA9IGZpZWxkcztcblx0XHR0aGlzLnByb2plY3ROYW1lID0gcHJvamVjdE5hbWUgPz8gZ2V0RGVmYXVsdFByb2plY3ROYW1lKCk7XG5cdFx0dGhpcy5yZXBsaWNhcyA9IHJlcGxpY2FzO1xuXHRcdHRoaXMuZXhhbXBsZUlkID0gZXhhbXBsZUlkO1xuXHRcdHRoaXMuY2xpZW50ID0gY2xpZW50ID8/IGdldERlZmF1bHRMYW5nQ2hhaW5DbGllbnRTaW5nbGV0b24oKTtcblx0XHRjb25zdCB0cmFjZWFibGVUcmVlID0gTGFuZ0NoYWluVHJhY2VyLmdldFRyYWNlYWJsZVJ1blRyZWUoKTtcblx0XHRpZiAodHJhY2VhYmxlVHJlZSkgdGhpcy51cGRhdGVGcm9tUnVuVHJlZSh0cmFjZWFibGVUcmVlKTtcblx0fVxuXHRhc3luYyBwZXJzaXN0UnVuKF9ydW4pIHt9XG5cdGFzeW5jIG9uUnVuQ3JlYXRlKHJ1bikge1xuXHRcdGlmICghcnVuLmV4dHJhPy5sY19kZWZlcnNfaW5wdXRzKSB7XG5cdFx0XHRjb25zdCBydW5UcmVlID0gdGhpcy5nZXRSdW5UcmVlV2l0aFRyYWNpbmdDb25maWcocnVuLmlkKTtcblx0XHRcdGF3YWl0IHJ1blRyZWU/LnBvc3RSdW4oKTtcblx0XHR9XG5cdH1cblx0YXN5bmMgb25SdW5VcGRhdGUocnVuKSB7XG5cdFx0Y29uc3QgcnVuVHJlZSA9IHRoaXMuZ2V0UnVuVHJlZVdpdGhUcmFjaW5nQ29uZmlnKHJ1bi5pZCk7XG5cdFx0aWYgKHJ1bi5leHRyYT8ubGNfZGVmZXJzX2lucHV0cykgYXdhaXQgcnVuVHJlZT8ucG9zdFJ1bigpO1xuXHRcdGVsc2UgYXdhaXQgcnVuVHJlZT8ucGF0Y2hSdW4oKTtcblx0fVxuXHRvbkxMTUVuZChydW4pIHtcblx0XHRjb25zdCBvdXRwdXRzID0gcnVuLm91dHB1dHM7XG5cdFx0aWYgKG91dHB1dHM/LmdlbmVyYXRpb25zKSB7XG5cdFx0XHRjb25zdCB1c2FnZU1ldGFkYXRhID0gX2dldFVzYWdlTWV0YWRhdGFGcm9tR2VuZXJhdGlvbnMob3V0cHV0cy5nZW5lcmF0aW9ucyk7XG5cdFx0XHRpZiAodXNhZ2VNZXRhZGF0YSAhPT0gdm9pZCAwKSB7XG5cdFx0XHRcdHJ1bi5leHRyYSA9IHJ1bi5leHRyYSA/PyB7fTtcblx0XHRcdFx0Y29uc3QgbWV0YWRhdGEgPSBydW4uZXh0cmEubWV0YWRhdGEgPz8ge307XG5cdFx0XHRcdG1ldGFkYXRhLnVzYWdlX21ldGFkYXRhID0gdXNhZ2VNZXRhZGF0YTtcblx0XHRcdFx0cnVuLmV4dHJhLm1ldGFkYXRhID0gbWV0YWRhdGE7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdGdldFJ1bihpZCkge1xuXHRcdHJldHVybiB0aGlzLnJ1blRyZWVNYXAuZ2V0KGlkKTtcblx0fVxuXHR1cGRhdGVGcm9tUnVuVHJlZShydW5UcmVlKSB7XG5cdFx0dGhpcy5ydW5UcmVlTWFwLnNldChydW5UcmVlLmlkLCBydW5UcmVlKTtcblx0XHRsZXQgcm9vdFJ1biA9IHJ1blRyZWU7XG5cdFx0Y29uc3QgdmlzaXRlZCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG5cdFx0d2hpbGUgKHJvb3RSdW4ucGFyZW50X3J1bikge1xuXHRcdFx0aWYgKHZpc2l0ZWQuaGFzKHJvb3RSdW4uaWQpKSBicmVhaztcblx0XHRcdHZpc2l0ZWQuYWRkKHJvb3RSdW4uaWQpO1xuXHRcdFx0aWYgKCFyb290UnVuLnBhcmVudF9ydW4pIGJyZWFrO1xuXHRcdFx0cm9vdFJ1biA9IHJvb3RSdW4ucGFyZW50X3J1bjtcblx0XHR9XG5cdFx0dmlzaXRlZC5jbGVhcigpO1xuXHRcdGNvbnN0IHF1ZXVlID0gW3Jvb3RSdW5dO1xuXHRcdHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG5cdFx0XHRjb25zdCBjdXJyZW50ID0gcXVldWUuc2hpZnQoKTtcblx0XHRcdGlmICghY3VycmVudCB8fCB2aXNpdGVkLmhhcyhjdXJyZW50LmlkKSkgY29udGludWU7XG5cdFx0XHR2aXNpdGVkLmFkZChjdXJyZW50LmlkKTtcblx0XHRcdHRoaXMucnVuVHJlZU1hcC5zZXQoY3VycmVudC5pZCwgY3VycmVudCk7XG5cdFx0XHRpZiAoY3VycmVudC5jaGlsZF9ydW5zKSBxdWV1ZS5wdXNoKC4uLmN1cnJlbnQuY2hpbGRfcnVucyk7XG5cdFx0fVxuXHRcdHRoaXMuY2xpZW50ID0gcnVuVHJlZS5jbGllbnQgPz8gdGhpcy5jbGllbnQ7XG5cdFx0dGhpcy5yZXBsaWNhcyA9IHJ1blRyZWUucmVwbGljYXMgPz8gdGhpcy5yZXBsaWNhcztcblx0XHR0aGlzLnByb2plY3ROYW1lID0gcnVuVHJlZS5wcm9qZWN0X25hbWUgPz8gdGhpcy5wcm9qZWN0TmFtZTtcblx0XHR0aGlzLmV4YW1wbGVJZCA9IHJ1blRyZWUucmVmZXJlbmNlX2V4YW1wbGVfaWQgPz8gdGhpcy5leGFtcGxlSWQ7XG5cdH1cblx0Z2V0UnVuVHJlZVdpdGhUcmFjaW5nQ29uZmlnKGlkKSB7XG5cdFx0Y29uc3QgcnVuVHJlZSA9IHRoaXMucnVuVHJlZU1hcC5nZXQoaWQpO1xuXHRcdGlmICghcnVuVHJlZSkgcmV0dXJuIHZvaWQgMDtcblx0XHRyZXR1cm4gbmV3IFJ1blRyZWUoe1xuXHRcdFx0Li4ucnVuVHJlZSxcblx0XHRcdGNsaWVudDogdGhpcy5jbGllbnQsXG5cdFx0XHRwcm9qZWN0X25hbWU6IHRoaXMucHJvamVjdE5hbWUsXG5cdFx0XHRyZXBsaWNhczogdGhpcy5yZXBsaWNhcyxcblx0XHRcdHJlZmVyZW5jZV9leGFtcGxlX2lkOiB0aGlzLmV4YW1wbGVJZCxcblx0XHRcdHRyYWNpbmdFbmFibGVkOiB0cnVlXG5cdFx0fSk7XG5cdH1cblx0c3RhdGljIGdldFRyYWNlYWJsZVJ1blRyZWUoKSB7XG5cdFx0dHJ5IHtcblx0XHRcdHJldHVybiBnZXRDdXJyZW50UnVuVHJlZSh0cnVlKTtcblx0XHR9IGNhdGNoIHtcblx0XHRcdHJldHVybiB2b2lkIDA7XG5cdFx0fVxuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IExhbmdDaGFpblRyYWNlciwgdHJhY2VyX2xhbmdjaGFpbl9leHBvcnRzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFjZXJfbGFuZ2NoYWluLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tracers/tracer_langchain.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/async_caller.js":
/*!************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/async_caller.js ***!
  \************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AsyncCaller: () => (/* binding */ AsyncCaller),\n/* harmony export */   async_caller_exports: () => (/* binding */ async_caller_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _signal_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./signal.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/signal.js\");\n/* harmony import */ var _p_retry_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./p-retry/index.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/p-retry/index.js\");\n/* harmony import */ var p_queue__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! p-queue */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+p-queue@6.6.2/node_modules/p-queue/dist/index.js\");\n\n\n\n\n\n//#region src/utils/async_caller.ts\nvar async_caller_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(async_caller_exports, { AsyncCaller: () => AsyncCaller });\nconst STATUS_NO_RETRY = [\n\t400,\n\t401,\n\t402,\n\t403,\n\t404,\n\t405,\n\t406,\n\t407,\n\t409\n];\n/**\n* The default failed attempt handler for the AsyncCaller.\n* @param error - The error to handle.\n* @returns void\n*/\nconst defaultFailedAttemptHandler = (error) => {\n\tif (typeof error !== \"object\" || error === null) return;\n\tif (\"message\" in error && typeof error.message === \"string\" && (error.message.startsWith(\"Cancel\") || error.message.startsWith(\"AbortError\")) || \"name\" in error && typeof error.name === \"string\" && error.name === \"AbortError\") throw error;\n\tif (\"code\" in error && typeof error.code === \"string\" && error.code === \"ECONNABORTED\") throw error;\n\tconst responseStatus = \"response\" in error && typeof error.response === \"object\" && error.response !== null && \"status\" in error.response && typeof error.response.status === \"number\" ? error.response.status : void 0;\n\tconst directStatus = \"status\" in error && typeof error.status === \"number\" ? error.status : void 0;\n\tconst status = responseStatus ?? directStatus;\n\tif (status && STATUS_NO_RETRY.includes(+status)) throw error;\n\tconst code = \"error\" in error && typeof error.error === \"object\" && error.error !== null && \"code\" in error.error && typeof error.error.code === \"string\" ? error.error.code : void 0;\n\tif (code === \"insufficient_quota\") {\n\t\tconst err = new Error(\"message\" in error && typeof error.message === \"string\" ? error.message : \"Insufficient quota\");\n\t\terr.name = \"InsufficientQuotaError\";\n\t\tthrow err;\n\t}\n};\n/**\n* A class that can be used to make async calls with concurrency and retry logic.\n*\n* This is useful for making calls to any kind of \"expensive\" external resource,\n* be it because it's rate-limited, subject to network issues, etc.\n*\n* Concurrent calls are limited by the `maxConcurrency` parameter, which defaults\n* to `Infinity`. This means that by default, all calls will be made in parallel.\n*\n* Retries are limited by the `maxRetries` parameter, which defaults to 6. This\n* means that by default, each call will be retried up to 6 times, with an\n* exponential backoff between each attempt.\n*/\nvar AsyncCaller = class {\n\tmaxConcurrency;\n\tmaxRetries;\n\tonFailedAttempt;\n\tqueue;\n\tconstructor(params) {\n\t\tthis.maxConcurrency = params.maxConcurrency ?? Infinity;\n\t\tthis.maxRetries = params.maxRetries ?? 6;\n\t\tthis.onFailedAttempt = params.onFailedAttempt ?? defaultFailedAttemptHandler;\n\t\tconst PQueue =  true ? p_queue__WEBPACK_IMPORTED_MODULE_3__[\"default\"] : p_queue__WEBPACK_IMPORTED_MODULE_3__;\n\t\tthis.queue = new PQueue({ concurrency: this.maxConcurrency });\n\t}\n\tasync call(callable, ...args) {\n\t\treturn this.queue.add(() => (0,_p_retry_index_js__WEBPACK_IMPORTED_MODULE_2__.pRetry)(() => callable(...args).catch((error) => {\n\t\t\tif (error instanceof Error) throw error;\n\t\t\telse throw new Error(error);\n\t\t}), {\n\t\t\tonFailedAttempt: ({ error }) => this.onFailedAttempt?.(error),\n\t\t\tretries: this.maxRetries,\n\t\t\trandomize: true\n\t\t}), { throwOnTimeout: true });\n\t}\n\tcallWithOptions(options, callable, ...args) {\n\t\tif (options.signal) {\n\t\t\tlet listener;\n\t\t\treturn Promise.race([this.call(callable, ...args), new Promise((_, reject) => {\n\t\t\t\tlistener = () => {\n\t\t\t\t\treject((0,_signal_js__WEBPACK_IMPORTED_MODULE_1__.getAbortSignalError)(options.signal));\n\t\t\t\t};\n\t\t\t\toptions.signal?.addEventListener(\"abort\", listener);\n\t\t\t})]).finally(() => {\n\t\t\t\tif (options.signal && listener) options.signal.removeEventListener(\"abort\", listener);\n\t\t\t});\n\t\t}\n\t\treturn this.call(callable, ...args);\n\t}\n\tfetch(...args) {\n\t\treturn this.call(() => fetch(...args).then((res) => res.ok ? res : Promise.reject(res)));\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=async_caller.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL2FzeW5jX2NhbGxlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBMkQ7QUFDVDtBQUNOO0FBQ1o7O0FBRWhDO0FBQ0E7QUFDQSxzRUFBUSx5QkFBeUIsZ0NBQWdDO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsS0FBc0IsR0FBRywrQ0FBaUIsR0FBRyxvQ0FBUztBQUN2RSw0QkFBNEIsa0NBQWtDO0FBQzlEO0FBQ0E7QUFDQSw4QkFBOEIseURBQU07QUFDcEM7QUFDQTtBQUNBLEdBQUc7QUFDSCx1QkFBdUIsT0FBTztBQUM5QjtBQUNBO0FBQ0EsR0FBRyxLQUFLLHNCQUFzQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLCtEQUFtQjtBQUMvQjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQzZDO0FBQzdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL2FzeW5jX2NhbGxlci5qcz9lYmNjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fZXhwb3J0IH0gZnJvbSBcIi4uL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuanNcIjtcbmltcG9ydCB7IGdldEFib3J0U2lnbmFsRXJyb3IgfSBmcm9tIFwiLi9zaWduYWwuanNcIjtcbmltcG9ydCB7IHBSZXRyeSB9IGZyb20gXCIuL3AtcmV0cnkvaW5kZXguanNcIjtcbmltcG9ydCBQUXVldWVNb2QgZnJvbSBcInAtcXVldWVcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy9hc3luY19jYWxsZXIudHNcbnZhciBhc3luY19jYWxsZXJfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQoYXN5bmNfY2FsbGVyX2V4cG9ydHMsIHsgQXN5bmNDYWxsZXI6ICgpID0+IEFzeW5jQ2FsbGVyIH0pO1xuY29uc3QgU1RBVFVTX05PX1JFVFJZID0gW1xuXHQ0MDAsXG5cdDQwMSxcblx0NDAyLFxuXHQ0MDMsXG5cdDQwNCxcblx0NDA1LFxuXHQ0MDYsXG5cdDQwNyxcblx0NDA5XG5dO1xuLyoqXG4qIFRoZSBkZWZhdWx0IGZhaWxlZCBhdHRlbXB0IGhhbmRsZXIgZm9yIHRoZSBBc3luY0NhbGxlci5cbiogQHBhcmFtIGVycm9yIC0gVGhlIGVycm9yIHRvIGhhbmRsZS5cbiogQHJldHVybnMgdm9pZFxuKi9cbmNvbnN0IGRlZmF1bHRGYWlsZWRBdHRlbXB0SGFuZGxlciA9IChlcnJvcikgPT4ge1xuXHRpZiAodHlwZW9mIGVycm9yICE9PSBcIm9iamVjdFwiIHx8IGVycm9yID09PSBudWxsKSByZXR1cm47XG5cdGlmIChcIm1lc3NhZ2VcIiBpbiBlcnJvciAmJiB0eXBlb2YgZXJyb3IubWVzc2FnZSA9PT0gXCJzdHJpbmdcIiAmJiAoZXJyb3IubWVzc2FnZS5zdGFydHNXaXRoKFwiQ2FuY2VsXCIpIHx8IGVycm9yLm1lc3NhZ2Uuc3RhcnRzV2l0aChcIkFib3J0RXJyb3JcIikpIHx8IFwibmFtZVwiIGluIGVycm9yICYmIHR5cGVvZiBlcnJvci5uYW1lID09PSBcInN0cmluZ1wiICYmIGVycm9yLm5hbWUgPT09IFwiQWJvcnRFcnJvclwiKSB0aHJvdyBlcnJvcjtcblx0aWYgKFwiY29kZVwiIGluIGVycm9yICYmIHR5cGVvZiBlcnJvci5jb2RlID09PSBcInN0cmluZ1wiICYmIGVycm9yLmNvZGUgPT09IFwiRUNPTk5BQk9SVEVEXCIpIHRocm93IGVycm9yO1xuXHRjb25zdCByZXNwb25zZVN0YXR1cyA9IFwicmVzcG9uc2VcIiBpbiBlcnJvciAmJiB0eXBlb2YgZXJyb3IucmVzcG9uc2UgPT09IFwib2JqZWN0XCIgJiYgZXJyb3IucmVzcG9uc2UgIT09IG51bGwgJiYgXCJzdGF0dXNcIiBpbiBlcnJvci5yZXNwb25zZSAmJiB0eXBlb2YgZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSBcIm51bWJlclwiID8gZXJyb3IucmVzcG9uc2Uuc3RhdHVzIDogdm9pZCAwO1xuXHRjb25zdCBkaXJlY3RTdGF0dXMgPSBcInN0YXR1c1wiIGluIGVycm9yICYmIHR5cGVvZiBlcnJvci5zdGF0dXMgPT09IFwibnVtYmVyXCIgPyBlcnJvci5zdGF0dXMgOiB2b2lkIDA7XG5cdGNvbnN0IHN0YXR1cyA9IHJlc3BvbnNlU3RhdHVzID8/IGRpcmVjdFN0YXR1cztcblx0aWYgKHN0YXR1cyAmJiBTVEFUVVNfTk9fUkVUUlkuaW5jbHVkZXMoK3N0YXR1cykpIHRocm93IGVycm9yO1xuXHRjb25zdCBjb2RlID0gXCJlcnJvclwiIGluIGVycm9yICYmIHR5cGVvZiBlcnJvci5lcnJvciA9PT0gXCJvYmplY3RcIiAmJiBlcnJvci5lcnJvciAhPT0gbnVsbCAmJiBcImNvZGVcIiBpbiBlcnJvci5lcnJvciAmJiB0eXBlb2YgZXJyb3IuZXJyb3IuY29kZSA9PT0gXCJzdHJpbmdcIiA/IGVycm9yLmVycm9yLmNvZGUgOiB2b2lkIDA7XG5cdGlmIChjb2RlID09PSBcImluc3VmZmljaWVudF9xdW90YVwiKSB7XG5cdFx0Y29uc3QgZXJyID0gbmV3IEVycm9yKFwibWVzc2FnZVwiIGluIGVycm9yICYmIHR5cGVvZiBlcnJvci5tZXNzYWdlID09PSBcInN0cmluZ1wiID8gZXJyb3IubWVzc2FnZSA6IFwiSW5zdWZmaWNpZW50IHF1b3RhXCIpO1xuXHRcdGVyci5uYW1lID0gXCJJbnN1ZmZpY2llbnRRdW90YUVycm9yXCI7XG5cdFx0dGhyb3cgZXJyO1xuXHR9XG59O1xuLyoqXG4qIEEgY2xhc3MgdGhhdCBjYW4gYmUgdXNlZCB0byBtYWtlIGFzeW5jIGNhbGxzIHdpdGggY29uY3VycmVuY3kgYW5kIHJldHJ5IGxvZ2ljLlxuKlxuKiBUaGlzIGlzIHVzZWZ1bCBmb3IgbWFraW5nIGNhbGxzIHRvIGFueSBraW5kIG9mIFwiZXhwZW5zaXZlXCIgZXh0ZXJuYWwgcmVzb3VyY2UsXG4qIGJlIGl0IGJlY2F1c2UgaXQncyByYXRlLWxpbWl0ZWQsIHN1YmplY3QgdG8gbmV0d29yayBpc3N1ZXMsIGV0Yy5cbipcbiogQ29uY3VycmVudCBjYWxscyBhcmUgbGltaXRlZCBieSB0aGUgYG1heENvbmN1cnJlbmN5YCBwYXJhbWV0ZXIsIHdoaWNoIGRlZmF1bHRzXG4qIHRvIGBJbmZpbml0eWAuIFRoaXMgbWVhbnMgdGhhdCBieSBkZWZhdWx0LCBhbGwgY2FsbHMgd2lsbCBiZSBtYWRlIGluIHBhcmFsbGVsLlxuKlxuKiBSZXRyaWVzIGFyZSBsaW1pdGVkIGJ5IHRoZSBgbWF4UmV0cmllc2AgcGFyYW1ldGVyLCB3aGljaCBkZWZhdWx0cyB0byA2LiBUaGlzXG4qIG1lYW5zIHRoYXQgYnkgZGVmYXVsdCwgZWFjaCBjYWxsIHdpbGwgYmUgcmV0cmllZCB1cCB0byA2IHRpbWVzLCB3aXRoIGFuXG4qIGV4cG9uZW50aWFsIGJhY2tvZmYgYmV0d2VlbiBlYWNoIGF0dGVtcHQuXG4qL1xudmFyIEFzeW5jQ2FsbGVyID0gY2xhc3Mge1xuXHRtYXhDb25jdXJyZW5jeTtcblx0bWF4UmV0cmllcztcblx0b25GYWlsZWRBdHRlbXB0O1xuXHRxdWV1ZTtcblx0Y29uc3RydWN0b3IocGFyYW1zKSB7XG5cdFx0dGhpcy5tYXhDb25jdXJyZW5jeSA9IHBhcmFtcy5tYXhDb25jdXJyZW5jeSA/PyBJbmZpbml0eTtcblx0XHR0aGlzLm1heFJldHJpZXMgPSBwYXJhbXMubWF4UmV0cmllcyA/PyA2O1xuXHRcdHRoaXMub25GYWlsZWRBdHRlbXB0ID0gcGFyYW1zLm9uRmFpbGVkQXR0ZW1wdCA/PyBkZWZhdWx0RmFpbGVkQXR0ZW1wdEhhbmRsZXI7XG5cdFx0Y29uc3QgUFF1ZXVlID0gXCJkZWZhdWx0XCIgaW4gUFF1ZXVlTW9kID8gUFF1ZXVlTW9kLmRlZmF1bHQgOiBQUXVldWVNb2Q7XG5cdFx0dGhpcy5xdWV1ZSA9IG5ldyBQUXVldWUoeyBjb25jdXJyZW5jeTogdGhpcy5tYXhDb25jdXJyZW5jeSB9KTtcblx0fVxuXHRhc3luYyBjYWxsKGNhbGxhYmxlLCAuLi5hcmdzKSB7XG5cdFx0cmV0dXJuIHRoaXMucXVldWUuYWRkKCgpID0+IHBSZXRyeSgoKSA9PiBjYWxsYWJsZSguLi5hcmdzKS5jYXRjaCgoZXJyb3IpID0+IHtcblx0XHRcdGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB0aHJvdyBlcnJvcjtcblx0XHRcdGVsc2UgdGhyb3cgbmV3IEVycm9yKGVycm9yKTtcblx0XHR9KSwge1xuXHRcdFx0b25GYWlsZWRBdHRlbXB0OiAoeyBlcnJvciB9KSA9PiB0aGlzLm9uRmFpbGVkQXR0ZW1wdD8uKGVycm9yKSxcblx0XHRcdHJldHJpZXM6IHRoaXMubWF4UmV0cmllcyxcblx0XHRcdHJhbmRvbWl6ZTogdHJ1ZVxuXHRcdH0pLCB7IHRocm93T25UaW1lb3V0OiB0cnVlIH0pO1xuXHR9XG5cdGNhbGxXaXRoT3B0aW9ucyhvcHRpb25zLCBjYWxsYWJsZSwgLi4uYXJncykge1xuXHRcdGlmIChvcHRpb25zLnNpZ25hbCkge1xuXHRcdFx0bGV0IGxpc3RlbmVyO1xuXHRcdFx0cmV0dXJuIFByb21pc2UucmFjZShbdGhpcy5jYWxsKGNhbGxhYmxlLCAuLi5hcmdzKSwgbmV3IFByb21pc2UoKF8sIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRsaXN0ZW5lciA9ICgpID0+IHtcblx0XHRcdFx0XHRyZWplY3QoZ2V0QWJvcnRTaWduYWxFcnJvcihvcHRpb25zLnNpZ25hbCkpO1xuXHRcdFx0XHR9O1xuXHRcdFx0XHRvcHRpb25zLnNpZ25hbD8uYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsIGxpc3RlbmVyKTtcblx0XHRcdH0pXSkuZmluYWxseSgoKSA9PiB7XG5cdFx0XHRcdGlmIChvcHRpb25zLnNpZ25hbCAmJiBsaXN0ZW5lcikgb3B0aW9ucy5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsIGxpc3RlbmVyKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5jYWxsKGNhbGxhYmxlLCAuLi5hcmdzKTtcblx0fVxuXHRmZXRjaCguLi5hcmdzKSB7XG5cdFx0cmV0dXJuIHRoaXMuY2FsbCgoKSA9PiBmZXRjaCguLi5hcmdzKS50aGVuKChyZXMpID0+IHJlcy5vayA/IHJlcyA6IFByb21pc2UucmVqZWN0KHJlcykpKTtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBBc3luY0NhbGxlciwgYXN5bmNfY2FsbGVyX2V4cG9ydHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFzeW5jX2NhbGxlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/async_caller.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/callbacks.js":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/callbacks.js ***!
  \*********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isTracingEnabled: () => (/* binding */ isTracingEnabled)\n/* harmony export */ });\n/* harmony import */ var _env_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./env.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/env.js\");\n\n\n//#region src/utils/callbacks.ts\nconst isTracingEnabled = (tracingEnabled) => {\n\tif (tracingEnabled !== void 0) return tracingEnabled;\n\tconst envVars = [\n\t\t\"LANGSMITH_TRACING_V2\",\n\t\t\"LANGCHAIN_TRACING_V2\",\n\t\t\"LANGSMITH_TRACING\",\n\t\t\"LANGCHAIN_TRACING\"\n\t];\n\treturn !!envVars.find((envVar) => (0,_env_js__WEBPACK_IMPORTED_MODULE_0__.getEnvironmentVariable)(envVar) === \"true\");\n};\n\n//#endregion\n\n//# sourceMappingURL=callbacks.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL2NhbGxiYWNrcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFrRDs7QUFFbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLCtEQUFzQjtBQUN6RDs7QUFFQTtBQUM0QjtBQUM1QiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9jYWxsYmFja3MuanM/MjQwMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlIH0gZnJvbSBcIi4vZW52LmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvY2FsbGJhY2tzLnRzXG5jb25zdCBpc1RyYWNpbmdFbmFibGVkID0gKHRyYWNpbmdFbmFibGVkKSA9PiB7XG5cdGlmICh0cmFjaW5nRW5hYmxlZCAhPT0gdm9pZCAwKSByZXR1cm4gdHJhY2luZ0VuYWJsZWQ7XG5cdGNvbnN0IGVudlZhcnMgPSBbXG5cdFx0XCJMQU5HU01JVEhfVFJBQ0lOR19WMlwiLFxuXHRcdFwiTEFOR0NIQUlOX1RSQUNJTkdfVjJcIixcblx0XHRcIkxBTkdTTUlUSF9UUkFDSU5HXCIsXG5cdFx0XCJMQU5HQ0hBSU5fVFJBQ0lOR1wiXG5cdF07XG5cdHJldHVybiAhIWVudlZhcnMuZmluZCgoZW52VmFyKSA9PiBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKGVudlZhcikgPT09IFwidHJ1ZVwiKTtcbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgaXNUcmFjaW5nRW5hYmxlZCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FsbGJhY2tzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/callbacks.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/chunk_array.js":
/*!***********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/chunk_array.js ***!
  \***********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   chunkArray: () => (/* binding */ chunkArray),\n/* harmony export */   chunk_array_exports: () => (/* binding */ chunk_array_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n\n\n//#region src/utils/chunk_array.ts\nvar chunk_array_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(chunk_array_exports, { chunkArray: () => chunkArray });\nconst chunkArray = (arr, chunkSize) => arr.reduce((chunks, elem, index) => {\n\tconst chunkIndex = Math.floor(index / chunkSize);\n\tconst chunk = chunks[chunkIndex] || [];\n\tchunks[chunkIndex] = chunk.concat([elem]);\n\treturn chunks;\n}, []);\n\n//#endregion\n\n//# sourceMappingURL=chunk_array.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL2NodW5rX2FycmF5LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEyRDs7QUFFM0Q7QUFDQTtBQUNBLHNFQUFRLHdCQUF3Qiw4QkFBOEI7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDMkM7QUFDM0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvY2h1bmtfYXJyYXkuanM/YTNlYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2V4cG9ydCB9IGZyb20gXCIuLi9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvY2h1bmtfYXJyYXkudHNcbnZhciBjaHVua19hcnJheV9leHBvcnRzID0ge307XG5fX2V4cG9ydChjaHVua19hcnJheV9leHBvcnRzLCB7IGNodW5rQXJyYXk6ICgpID0+IGNodW5rQXJyYXkgfSk7XG5jb25zdCBjaHVua0FycmF5ID0gKGFyciwgY2h1bmtTaXplKSA9PiBhcnIucmVkdWNlKChjaHVua3MsIGVsZW0sIGluZGV4KSA9PiB7XG5cdGNvbnN0IGNodW5rSW5kZXggPSBNYXRoLmZsb29yKGluZGV4IC8gY2h1bmtTaXplKTtcblx0Y29uc3QgY2h1bmsgPSBjaHVua3NbY2h1bmtJbmRleF0gfHwgW107XG5cdGNodW5rc1tjaHVua0luZGV4XSA9IGNodW5rLmNvbmNhdChbZWxlbV0pO1xuXHRyZXR1cm4gY2h1bmtzO1xufSwgW10pO1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IGNodW5rQXJyYXksIGNodW5rX2FycmF5X2V4cG9ydHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rX2FycmF5LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/chunk_array.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/env.js":
/*!***************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/env.js ***!
  \***************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   env_exports: () => (/* binding */ env_exports),\n/* harmony export */   getEnv: () => (/* binding */ getEnv),\n/* harmony export */   getEnvironmentVariable: () => (/* binding */ getEnvironmentVariable),\n/* harmony export */   getRuntimeEnvironment: () => (/* binding */ getRuntimeEnvironment),\n/* harmony export */   isBrowser: () => (/* binding */ isBrowser),\n/* harmony export */   isDeno: () => (/* binding */ isDeno),\n/* harmony export */   isJsDom: () => (/* binding */ isJsDom),\n/* harmony export */   isNode: () => (/* binding */ isNode),\n/* harmony export */   isWebWorker: () => (/* binding */ isWebWorker)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n\n\n//#region src/utils/env.ts\nvar env_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(env_exports, {\n\tgetEnv: () => getEnv,\n\tgetEnvironmentVariable: () => getEnvironmentVariable,\n\tgetRuntimeEnvironment: () => getRuntimeEnvironment,\n\tisBrowser: () => isBrowser,\n\tisDeno: () => isDeno,\n\tisJsDom: () => isJsDom,\n\tisNode: () => isNode,\n\tisWebWorker: () => isWebWorker\n});\nconst isBrowser = () => typeof window !== \"undefined\" && typeof window.document !== \"undefined\";\nconst isWebWorker = () => typeof globalThis === \"object\" && globalThis.constructor && globalThis.constructor.name === \"DedicatedWorkerGlobalScope\";\nconst isJsDom = () => typeof window !== \"undefined\" && window.name === \"nodejs\" || typeof navigator !== \"undefined\" && navigator.userAgent.includes(\"jsdom\");\nconst isDeno = () => typeof Deno !== \"undefined\";\nconst isNode = () => typeof process !== \"undefined\" && typeof process.versions !== \"undefined\" && typeof process.versions.node !== \"undefined\" && !isDeno();\nconst getEnv = () => {\n\tlet env;\n\tif (isBrowser()) env = \"browser\";\n\telse if (isNode()) env = \"node\";\n\telse if (isWebWorker()) env = \"webworker\";\n\telse if (isJsDom()) env = \"jsdom\";\n\telse if (isDeno()) env = \"deno\";\n\telse env = \"other\";\n\treturn env;\n};\nlet runtimeEnvironment;\nfunction getRuntimeEnvironment() {\n\tif (runtimeEnvironment === void 0) {\n\t\tconst env = getEnv();\n\t\truntimeEnvironment = {\n\t\t\tlibrary: \"langchain-js\",\n\t\t\truntime: env\n\t\t};\n\t}\n\treturn runtimeEnvironment;\n}\nfunction getEnvironmentVariable(name) {\n\ttry {\n\t\tif (typeof process !== \"undefined\") return process.env?.[name];\n\t\telse if (isDeno()) return Deno?.env.get(name);\n\t\telse return void 0;\n\t} catch {\n\t\treturn void 0;\n\t}\n}\n\n//#endregion\n\n//# sourceMappingURL=env.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL2Vudi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQTJEOztBQUUzRDtBQUNBO0FBQ0Esc0VBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUMrSDtBQUMvSCIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9lbnYuanM/MmFjZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2V4cG9ydCB9IGZyb20gXCIuLi9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvZW52LnRzXG52YXIgZW52X2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KGVudl9leHBvcnRzLCB7XG5cdGdldEVudjogKCkgPT4gZ2V0RW52LFxuXHRnZXRFbnZpcm9ubWVudFZhcmlhYmxlOiAoKSA9PiBnZXRFbnZpcm9ubWVudFZhcmlhYmxlLFxuXHRnZXRSdW50aW1lRW52aXJvbm1lbnQ6ICgpID0+IGdldFJ1bnRpbWVFbnZpcm9ubWVudCxcblx0aXNCcm93c2VyOiAoKSA9PiBpc0Jyb3dzZXIsXG5cdGlzRGVubzogKCkgPT4gaXNEZW5vLFxuXHRpc0pzRG9tOiAoKSA9PiBpc0pzRG9tLFxuXHRpc05vZGU6ICgpID0+IGlzTm9kZSxcblx0aXNXZWJXb3JrZXI6ICgpID0+IGlzV2ViV29ya2VyXG59KTtcbmNvbnN0IGlzQnJvd3NlciA9ICgpID0+IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIHdpbmRvdy5kb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIjtcbmNvbnN0IGlzV2ViV29ya2VyID0gKCkgPT4gdHlwZW9mIGdsb2JhbFRoaXMgPT09IFwib2JqZWN0XCIgJiYgZ2xvYmFsVGhpcy5jb25zdHJ1Y3RvciAmJiBnbG9iYWxUaGlzLmNvbnN0cnVjdG9yLm5hbWUgPT09IFwiRGVkaWNhdGVkV29ya2VyR2xvYmFsU2NvcGVcIjtcbmNvbnN0IGlzSnNEb20gPSAoKSA9PiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5uYW1lID09PSBcIm5vZGVqc1wiIHx8IHR5cGVvZiBuYXZpZ2F0b3IgIT09IFwidW5kZWZpbmVkXCIgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmNsdWRlcyhcImpzZG9tXCIpO1xuY29uc3QgaXNEZW5vID0gKCkgPT4gdHlwZW9mIERlbm8gIT09IFwidW5kZWZpbmVkXCI7XG5jb25zdCBpc05vZGUgPSAoKSA9PiB0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucy5ub2RlICE9PSBcInVuZGVmaW5lZFwiICYmICFpc0Rlbm8oKTtcbmNvbnN0IGdldEVudiA9ICgpID0+IHtcblx0bGV0IGVudjtcblx0aWYgKGlzQnJvd3NlcigpKSBlbnYgPSBcImJyb3dzZXJcIjtcblx0ZWxzZSBpZiAoaXNOb2RlKCkpIGVudiA9IFwibm9kZVwiO1xuXHRlbHNlIGlmIChpc1dlYldvcmtlcigpKSBlbnYgPSBcIndlYndvcmtlclwiO1xuXHRlbHNlIGlmIChpc0pzRG9tKCkpIGVudiA9IFwianNkb21cIjtcblx0ZWxzZSBpZiAoaXNEZW5vKCkpIGVudiA9IFwiZGVub1wiO1xuXHRlbHNlIGVudiA9IFwib3RoZXJcIjtcblx0cmV0dXJuIGVudjtcbn07XG5sZXQgcnVudGltZUVudmlyb25tZW50O1xuZnVuY3Rpb24gZ2V0UnVudGltZUVudmlyb25tZW50KCkge1xuXHRpZiAocnVudGltZUVudmlyb25tZW50ID09PSB2b2lkIDApIHtcblx0XHRjb25zdCBlbnYgPSBnZXRFbnYoKTtcblx0XHRydW50aW1lRW52aXJvbm1lbnQgPSB7XG5cdFx0XHRsaWJyYXJ5OiBcImxhbmdjaGFpbi1qc1wiLFxuXHRcdFx0cnVudGltZTogZW52XG5cdFx0fTtcblx0fVxuXHRyZXR1cm4gcnVudGltZUVudmlyb25tZW50O1xufVxuZnVuY3Rpb24gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShuYW1lKSB7XG5cdHRyeSB7XG5cdFx0aWYgKHR5cGVvZiBwcm9jZXNzICE9PSBcInVuZGVmaW5lZFwiKSByZXR1cm4gcHJvY2Vzcy5lbnY/LltuYW1lXTtcblx0XHRlbHNlIGlmIChpc0Rlbm8oKSkgcmV0dXJuIERlbm8/LmVudi5nZXQobmFtZSk7XG5cdFx0ZWxzZSByZXR1cm4gdm9pZCAwO1xuXHR9IGNhdGNoIHtcblx0XHRyZXR1cm4gdm9pZCAwO1xuXHR9XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgZW52X2V4cG9ydHMsIGdldEVudiwgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZSwgZ2V0UnVudGltZUVudmlyb25tZW50LCBpc0Jyb3dzZXIsIGlzRGVubywgaXNKc0RvbSwgaXNOb2RlLCBpc1dlYldvcmtlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW52LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/env.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/fast-json-patch/index.js":
/*!*********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/fast-json-patch/index.js ***!
  \*********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _src_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/helpers.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/fast-json-patch/src/helpers.js\");\n/* harmony import */ var _src_core_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/core.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/fast-json-patch/src/core.js\");\n/* harmony import */ var _src_duplex_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./src/duplex.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/fast-json-patch/src/duplex.js\");\n\n\n\n\n//#region src/utils/fast-json-patch/index.ts\nvar fast_json_patch_default = {\n\t..._src_core_js__WEBPACK_IMPORTED_MODULE_1__.core_exports,\n\tJsonPatchError: _src_helpers_js__WEBPACK_IMPORTED_MODULE_0__.PatchError,\n\tdeepClone: _src_helpers_js__WEBPACK_IMPORTED_MODULE_0__._deepClone,\n\tescapePathComponent: _src_helpers_js__WEBPACK_IMPORTED_MODULE_0__.escapePathComponent,\n\tunescapePathComponent: _src_helpers_js__WEBPACK_IMPORTED_MODULE_0__.unescapePathComponent\n};\n\n//#endregion\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL2Zhc3QtanNvbi1wYXRjaC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQXNHO0FBQ3FDO0FBQ2pHOztBQUUxQztBQUNBO0FBQ0EsSUFBSSxzREFBWTtBQUNoQixpQkFBaUIsdURBQVU7QUFDM0IsWUFBWSx1REFBVTtBQUN0QixvQkFBb0I7QUFDcEIsc0JBQXNCO0FBQ3RCOztBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvZmFzdC1qc29uLXBhdGNoL2luZGV4LmpzPzQ1N2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGF0Y2hFcnJvciwgX2RlZXBDbG9uZSwgZXNjYXBlUGF0aENvbXBvbmVudCwgdW5lc2NhcGVQYXRoQ29tcG9uZW50IH0gZnJvbSBcIi4vc3JjL2hlbHBlcnMuanNcIjtcbmltcG9ydCB7IF9hcmVFcXVhbHMsIGFwcGx5T3BlcmF0aW9uLCBhcHBseVBhdGNoLCBhcHBseVJlZHVjZXIsIGNvcmVfZXhwb3J0cywgZ2V0VmFsdWVCeVBvaW50ZXIsIHZhbGlkYXRlLCB2YWxpZGF0b3IgfSBmcm9tIFwiLi9zcmMvY29yZS5qc1wiO1xuaW1wb3J0IHsgY29tcGFyZSB9IGZyb20gXCIuL3NyYy9kdXBsZXguanNcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy9mYXN0LWpzb24tcGF0Y2gvaW5kZXgudHNcbnZhciBmYXN0X2pzb25fcGF0Y2hfZGVmYXVsdCA9IHtcblx0Li4uY29yZV9leHBvcnRzLFxuXHRKc29uUGF0Y2hFcnJvcjogUGF0Y2hFcnJvcixcblx0ZGVlcENsb25lOiBfZGVlcENsb25lLFxuXHRlc2NhcGVQYXRoQ29tcG9uZW50LFxuXHR1bmVzY2FwZVBhdGhDb21wb25lbnRcbn07XG5cbi8vI2VuZHJlZ2lvblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/fast-json-patch/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/fast-json-patch/src/core.js":
/*!************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/fast-json-patch/src/core.js ***!
  \************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _areEquals: () => (/* binding */ _areEquals),\n/* harmony export */   applyOperation: () => (/* binding */ applyOperation),\n/* harmony export */   applyPatch: () => (/* binding */ applyPatch),\n/* harmony export */   applyReducer: () => (/* binding */ applyReducer),\n/* harmony export */   core_exports: () => (/* binding */ core_exports),\n/* harmony export */   getValueByPointer: () => (/* binding */ getValueByPointer),\n/* harmony export */   validate: () => (/* binding */ validate),\n/* harmony export */   validator: () => (/* binding */ validator)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../_virtual/rolldown_runtime.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _helpers_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./helpers.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/fast-json-patch/src/helpers.js\");\n\n\n\n//#region src/utils/fast-json-patch/src/core.ts\nvar core_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(core_exports, {\n\tJsonPatchError: () => JsonPatchError,\n\t_areEquals: () => _areEquals,\n\tapplyOperation: () => applyOperation,\n\tapplyPatch: () => applyPatch,\n\tapplyReducer: () => applyReducer,\n\tdeepClone: () => deepClone,\n\tgetValueByPointer: () => getValueByPointer,\n\tvalidate: () => validate,\n\tvalidator: () => validator\n});\nconst JsonPatchError = _helpers_js__WEBPACK_IMPORTED_MODULE_1__.PatchError;\nconst deepClone = _helpers_js__WEBPACK_IMPORTED_MODULE_1__._deepClone;\n/**\n* Check if a key is a dangerous prototype property that could lead to prototype pollution.\n* This provides defense-in-depth alongside the check in applyOperation.\n*/\nfunction isDangerousKey(key) {\n\treturn Object.getOwnPropertyNames(Object.prototype).includes(key);\n}\nconst objOps = {\n\tadd: function(obj, key, document) {\n\t\tif (isDangerousKey(key)) throw new TypeError(\"JSON-Patch: modifying `__proto__`, `constructor`, or `prototype` prop is banned for security reasons\");\n\t\tobj[key] = this.value;\n\t\treturn { newDocument: document };\n\t},\n\tremove: function(obj, key, document) {\n\t\tif (isDangerousKey(key)) throw new TypeError(\"JSON-Patch: modifying `__proto__`, `constructor`, or `prototype` prop is banned for security reasons\");\n\t\tvar removed = obj[key];\n\t\tdelete obj[key];\n\t\treturn {\n\t\t\tnewDocument: document,\n\t\t\tremoved\n\t\t};\n\t},\n\treplace: function(obj, key, document) {\n\t\tif (isDangerousKey(key)) throw new TypeError(\"JSON-Patch: modifying `__proto__`, `constructor`, or `prototype` prop is banned for security reasons\");\n\t\tvar removed = obj[key];\n\t\tobj[key] = this.value;\n\t\treturn {\n\t\t\tnewDocument: document,\n\t\t\tremoved\n\t\t};\n\t},\n\tmove: function(obj, key, document) {\n\t\tlet removed = getValueByPointer(document, this.path);\n\t\tif (removed) removed = (0,_helpers_js__WEBPACK_IMPORTED_MODULE_1__._deepClone)(removed);\n\t\tconst originalValue = applyOperation(document, {\n\t\t\top: \"remove\",\n\t\t\tpath: this.from\n\t\t}).removed;\n\t\tapplyOperation(document, {\n\t\t\top: \"add\",\n\t\t\tpath: this.path,\n\t\t\tvalue: originalValue\n\t\t});\n\t\treturn {\n\t\t\tnewDocument: document,\n\t\t\tremoved\n\t\t};\n\t},\n\tcopy: function(obj, key, document) {\n\t\tconst valueToCopy = getValueByPointer(document, this.from);\n\t\tapplyOperation(document, {\n\t\t\top: \"add\",\n\t\t\tpath: this.path,\n\t\t\tvalue: (0,_helpers_js__WEBPACK_IMPORTED_MODULE_1__._deepClone)(valueToCopy)\n\t\t});\n\t\treturn { newDocument: document };\n\t},\n\ttest: function(obj, key, document) {\n\t\treturn {\n\t\t\tnewDocument: document,\n\t\t\ttest: _areEquals(obj[key], this.value)\n\t\t};\n\t},\n\t_get: function(obj, key, document) {\n\t\tthis.value = obj[key];\n\t\treturn { newDocument: document };\n\t}\n};\nvar arrOps = {\n\tadd: function(arr, i, document) {\n\t\tif ((0,_helpers_js__WEBPACK_IMPORTED_MODULE_1__.isInteger)(i)) arr.splice(i, 0, this.value);\n\t\telse arr[i] = this.value;\n\t\treturn {\n\t\t\tnewDocument: document,\n\t\t\tindex: i\n\t\t};\n\t},\n\tremove: function(arr, i, document) {\n\t\tvar removedList = arr.splice(i, 1);\n\t\treturn {\n\t\t\tnewDocument: document,\n\t\t\tremoved: removedList[0]\n\t\t};\n\t},\n\treplace: function(arr, i, document) {\n\t\tvar removed = arr[i];\n\t\tarr[i] = this.value;\n\t\treturn {\n\t\t\tnewDocument: document,\n\t\t\tremoved\n\t\t};\n\t},\n\tmove: objOps.move,\n\tcopy: objOps.copy,\n\ttest: objOps.test,\n\t_get: objOps._get\n};\n/**\n* Retrieves a value from a JSON document by a JSON pointer.\n* Returns the value.\n*\n* @param document The document to get the value from\n* @param pointer an escaped JSON pointer\n* @return The retrieved value\n*/\nfunction getValueByPointer(document, pointer) {\n\tif (pointer == \"\") return document;\n\tvar getOriginalDestination = {\n\t\top: \"_get\",\n\t\tpath: pointer\n\t};\n\tapplyOperation(document, getOriginalDestination);\n\treturn getOriginalDestination.value;\n}\n/**\n* Apply a single JSON Patch Operation on a JSON document.\n* Returns the {newDocument, result} of the operation.\n* It modifies the `document` and `operation` objects - it gets the values by reference.\n* If you would like to avoid touching your values, clone them:\n* `jsonpatch.applyOperation(document, jsonpatch._deepClone(operation))`.\n*\n* @param document The document to patch\n* @param operation The operation to apply\n* @param validateOperation `false` is without validation, `true` to use default jsonpatch's validation, or you can pass a `validateOperation` callback to be used for validation.\n* @param mutateDocument Whether to mutate the original document or clone it before applying\n* @param banPrototypeModifications Whether to ban modifications to `__proto__`, defaults to `true`.\n* @return `{newDocument, result}` after the operation\n*/\nfunction applyOperation(document, operation, validateOperation = false, mutateDocument = true, banPrototypeModifications = true, index = 0) {\n\tif (validateOperation) if (typeof validateOperation == \"function\") validateOperation(operation, 0, document, operation.path);\n\telse validator(operation, 0);\n\tif (operation.path === \"\") {\n\t\tlet returnValue = { newDocument: document };\n\t\tif (operation.op === \"add\") {\n\t\t\treturnValue.newDocument = operation.value;\n\t\t\treturn returnValue;\n\t\t} else if (operation.op === \"replace\") {\n\t\t\treturnValue.newDocument = operation.value;\n\t\t\treturnValue.removed = document;\n\t\t\treturn returnValue;\n\t\t} else if (operation.op === \"move\" || operation.op === \"copy\") {\n\t\t\treturnValue.newDocument = getValueByPointer(document, operation.from);\n\t\t\tif (operation.op === \"move\") returnValue.removed = document;\n\t\t\treturn returnValue;\n\t\t} else if (operation.op === \"test\") {\n\t\t\treturnValue.test = _areEquals(document, operation.value);\n\t\t\tif (returnValue.test === false) throw new JsonPatchError(\"Test operation failed\", \"TEST_OPERATION_FAILED\", index, operation, document);\n\t\t\treturnValue.newDocument = document;\n\t\t\treturn returnValue;\n\t\t} else if (operation.op === \"remove\") {\n\t\t\treturnValue.removed = document;\n\t\t\treturnValue.newDocument = null;\n\t\t\treturn returnValue;\n\t\t} else if (operation.op === \"_get\") {\n\t\t\toperation.value = document;\n\t\t\treturn returnValue;\n\t\t} else if (validateOperation) throw new JsonPatchError(\"Operation `op` property is not one of operations defined in RFC-6902\", \"OPERATION_OP_INVALID\", index, operation, document);\n\t\telse return returnValue;\n\t} else {\n\t\tif (!mutateDocument) document = (0,_helpers_js__WEBPACK_IMPORTED_MODULE_1__._deepClone)(document);\n\t\tconst path = operation.path || \"\";\n\t\tconst keys = path.split(\"/\");\n\t\tlet obj = document;\n\t\tlet t = 1;\n\t\tlet len = keys.length;\n\t\tlet existingPathFragment = void 0;\n\t\tlet key;\n\t\tlet validateFunction;\n\t\tif (typeof validateOperation == \"function\") validateFunction = validateOperation;\n\t\telse validateFunction = validator;\n\t\twhile (true) {\n\t\t\tkey = keys[t];\n\t\t\tif (key && key.indexOf(\"~\") != -1) key = (0,_helpers_js__WEBPACK_IMPORTED_MODULE_1__.unescapePathComponent)(key);\n\t\t\tif (banPrototypeModifications && (key == \"__proto__\" || key == \"prototype\" && t > 0 && keys[t - 1] == \"constructor\")) throw new TypeError(\"JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README\");\n\t\t\tif (validateOperation) {\n\t\t\t\tif (existingPathFragment === void 0) {\n\t\t\t\t\tif (obj[key] === void 0) existingPathFragment = keys.slice(0, t).join(\"/\");\n\t\t\t\t\telse if (t == len - 1) existingPathFragment = operation.path;\n\t\t\t\t\tif (existingPathFragment !== void 0) validateFunction(operation, 0, document, existingPathFragment);\n\t\t\t\t}\n\t\t\t}\n\t\t\tt++;\n\t\t\tif (Array.isArray(obj)) {\n\t\t\t\tif (key === \"-\") key = obj.length;\n\t\t\t\telse if (validateOperation && !(0,_helpers_js__WEBPACK_IMPORTED_MODULE_1__.isInteger)(key)) throw new JsonPatchError(\"Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index\", \"OPERATION_PATH_ILLEGAL_ARRAY_INDEX\", index, operation, document);\n\t\t\t\telse if ((0,_helpers_js__WEBPACK_IMPORTED_MODULE_1__.isInteger)(key)) key = ~~key;\n\t\t\t\tif (t >= len) {\n\t\t\t\t\tif (validateOperation && operation.op === \"add\" && key > obj.length) throw new JsonPatchError(\"The specified index MUST NOT be greater than the number of elements in the array\", \"OPERATION_VALUE_OUT_OF_BOUNDS\", index, operation, document);\n\t\t\t\t\tconst returnValue = arrOps[operation.op].call(operation, obj, key, document);\n\t\t\t\t\tif (returnValue.test === false) throw new JsonPatchError(\"Test operation failed\", \"TEST_OPERATION_FAILED\", index, operation, document);\n\t\t\t\t\treturn returnValue;\n\t\t\t\t}\n\t\t\t} else if (t >= len) {\n\t\t\t\tconst returnValue = objOps[operation.op].call(operation, obj, key, document);\n\t\t\t\tif (returnValue.test === false) throw new JsonPatchError(\"Test operation failed\", \"TEST_OPERATION_FAILED\", index, operation, document);\n\t\t\t\treturn returnValue;\n\t\t\t}\n\t\t\tobj = obj[key];\n\t\t\tif (validateOperation && t < len && (!obj || typeof obj !== \"object\")) throw new JsonPatchError(\"Cannot perform operation at the desired path\", \"OPERATION_PATH_UNRESOLVABLE\", index, operation, document);\n\t\t}\n\t}\n}\n/**\n* Apply a full JSON Patch array on a JSON document.\n* Returns the {newDocument, result} of the patch.\n* It modifies the `document` object and `patch` - it gets the values by reference.\n* If you would like to avoid touching your values, clone them:\n* `jsonpatch.applyPatch(document, jsonpatch._deepClone(patch))`.\n*\n* @param document The document to patch\n* @param patch The patch to apply\n* @param validateOperation `false` is without validation, `true` to use default jsonpatch's validation, or you can pass a `validateOperation` callback to be used for validation.\n* @param mutateDocument Whether to mutate the original document or clone it before applying\n* @param banPrototypeModifications Whether to ban modifications to `__proto__`, defaults to `true`.\n* @return An array of `{newDocument, result}` after the patch\n*/\nfunction applyPatch(document, patch, validateOperation, mutateDocument = true, banPrototypeModifications = true) {\n\tif (validateOperation) {\n\t\tif (!Array.isArray(patch)) throw new JsonPatchError(\"Patch sequence must be an array\", \"SEQUENCE_NOT_AN_ARRAY\");\n\t}\n\tif (!mutateDocument) document = (0,_helpers_js__WEBPACK_IMPORTED_MODULE_1__._deepClone)(document);\n\tconst results = new Array(patch.length);\n\tfor (let i = 0, length = patch.length; i < length; i++) {\n\t\tresults[i] = applyOperation(document, patch[i], validateOperation, true, banPrototypeModifications, i);\n\t\tdocument = results[i].newDocument;\n\t}\n\tresults.newDocument = document;\n\treturn results;\n}\n/**\n* Apply a single JSON Patch Operation on a JSON document.\n* Returns the updated document.\n* Suitable as a reducer.\n*\n* @param document The document to patch\n* @param operation The operation to apply\n* @return The updated document\n*/\nfunction applyReducer(document, operation, index) {\n\tconst operationResult = applyOperation(document, operation);\n\tif (operationResult.test === false) throw new JsonPatchError(\"Test operation failed\", \"TEST_OPERATION_FAILED\", index, operation, document);\n\treturn operationResult.newDocument;\n}\n/**\n* Validates a single operation. Called from `jsonpatch.validate`. Throws `JsonPatchError` in case of an error.\n* @param {object} operation - operation object (patch)\n* @param {number} index - index of operation in the sequence\n* @param {object} [document] - object where the operation is supposed to be applied\n* @param {string} [existingPathFragment] - comes along with `document`\n*/\nfunction validator(operation, index, document, existingPathFragment) {\n\tif (typeof operation !== \"object\" || operation === null || Array.isArray(operation)) throw new JsonPatchError(\"Operation is not an object\", \"OPERATION_NOT_AN_OBJECT\", index, operation, document);\n\telse if (!objOps[operation.op]) throw new JsonPatchError(\"Operation `op` property is not one of operations defined in RFC-6902\", \"OPERATION_OP_INVALID\", index, operation, document);\n\telse if (typeof operation.path !== \"string\") throw new JsonPatchError(\"Operation `path` property is not a string\", \"OPERATION_PATH_INVALID\", index, operation, document);\n\telse if (operation.path.indexOf(\"/\") !== 0 && operation.path.length > 0) throw new JsonPatchError(\"Operation `path` property must start with \\\"/\\\"\", \"OPERATION_PATH_INVALID\", index, operation, document);\n\telse if ((operation.op === \"move\" || operation.op === \"copy\") && typeof operation.from !== \"string\") throw new JsonPatchError(\"Operation `from` property is not present (applicable in `move` and `copy` operations)\", \"OPERATION_FROM_REQUIRED\", index, operation, document);\n\telse if ((operation.op === \"add\" || operation.op === \"replace\" || operation.op === \"test\") && operation.value === void 0) throw new JsonPatchError(\"Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)\", \"OPERATION_VALUE_REQUIRED\", index, operation, document);\n\telse if ((operation.op === \"add\" || operation.op === \"replace\" || operation.op === \"test\") && (0,_helpers_js__WEBPACK_IMPORTED_MODULE_1__.hasUndefined)(operation.value)) throw new JsonPatchError(\"Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)\", \"OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED\", index, operation, document);\n\telse if (document) {\n\t\tif (operation.op == \"add\") {\n\t\t\tvar pathLen = operation.path.split(\"/\").length;\n\t\t\tvar existingPathLen = existingPathFragment.split(\"/\").length;\n\t\t\tif (pathLen !== existingPathLen + 1 && pathLen !== existingPathLen) throw new JsonPatchError(\"Cannot perform an `add` operation at the desired path\", \"OPERATION_PATH_CANNOT_ADD\", index, operation, document);\n\t\t} else if (operation.op === \"replace\" || operation.op === \"remove\" || operation.op === \"_get\") {\n\t\t\tif (operation.path !== existingPathFragment) throw new JsonPatchError(\"Cannot perform the operation at a path that does not exist\", \"OPERATION_PATH_UNRESOLVABLE\", index, operation, document);\n\t\t} else if (operation.op === \"move\" || operation.op === \"copy\") {\n\t\t\tvar existingValue = {\n\t\t\t\top: \"_get\",\n\t\t\t\tpath: operation.from,\n\t\t\t\tvalue: void 0\n\t\t\t};\n\t\t\tvar error = validate([existingValue], document);\n\t\t\tif (error && error.name === \"OPERATION_PATH_UNRESOLVABLE\") throw new JsonPatchError(\"Cannot perform the operation from a path that does not exist\", \"OPERATION_FROM_UNRESOLVABLE\", index, operation, document);\n\t\t}\n\t}\n}\n/**\n* Validates a sequence of operations. If `document` parameter is provided, the sequence is additionally validated against the object document.\n* If error is encountered, returns a JsonPatchError object\n* @param sequence\n* @param document\n* @returns {JsonPatchError|undefined}\n*/\nfunction validate(sequence, document, externalValidator) {\n\ttry {\n\t\tif (!Array.isArray(sequence)) throw new JsonPatchError(\"Patch sequence must be an array\", \"SEQUENCE_NOT_AN_ARRAY\");\n\t\tif (document) applyPatch((0,_helpers_js__WEBPACK_IMPORTED_MODULE_1__._deepClone)(document), (0,_helpers_js__WEBPACK_IMPORTED_MODULE_1__._deepClone)(sequence), externalValidator || true);\n\t\telse {\n\t\t\texternalValidator = externalValidator || validator;\n\t\t\tfor (var i = 0; i < sequence.length; i++) externalValidator(sequence[i], i, document, void 0);\n\t\t}\n\t} catch (e) {\n\t\tif (e instanceof JsonPatchError) return e;\n\t\telse throw e;\n\t}\n}\nfunction _areEquals(a, b) {\n\tif (a === b) return true;\n\tif (a && b && typeof a == \"object\" && typeof b == \"object\") {\n\t\tvar arrA = Array.isArray(a), arrB = Array.isArray(b), i, length, key;\n\t\tif (arrA && arrB) {\n\t\t\tlength = a.length;\n\t\t\tif (length != b.length) return false;\n\t\t\tfor (i = length; i-- !== 0;) if (!_areEquals(a[i], b[i])) return false;\n\t\t\treturn true;\n\t\t}\n\t\tif (arrA != arrB) return false;\n\t\tvar keys = Object.keys(a);\n\t\tlength = keys.length;\n\t\tif (length !== Object.keys(b).length) return false;\n\t\tfor (i = length; i-- !== 0;) if (!b.hasOwnProperty(keys[i])) return false;\n\t\tfor (i = length; i-- !== 0;) {\n\t\t\tkey = keys[i];\n\t\t\tif (!_areEquals(a[key], b[key])) return false;\n\t\t}\n\t\treturn true;\n\t}\n\treturn a !== a && b !== b;\n}\n\n//#endregion\n\n//# sourceMappingURL=core.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL2Zhc3QtanNvbi1wYXRjaC9zcmMvY29yZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQWlFO0FBQ3FDOztBQUV0RztBQUNBO0FBQ0Esc0VBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsdUJBQXVCLG1EQUFVO0FBQ2pDLGtCQUFrQixtREFBVTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLHlCQUF5Qix1REFBVTtBQUNuQztBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsdURBQVU7QUFDcEIsR0FBRztBQUNILFdBQVc7QUFDWCxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxzREFBUztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUscUJBQXFCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksb0JBQW9CO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxHQUFHO0FBQ0gsa0NBQWtDLHVEQUFVO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxrRUFBcUI7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxzREFBUztBQUM1QyxhQUFhLHNEQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxxQkFBcUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLG9CQUFvQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHVEQUFVO0FBQzNDO0FBQ0Esd0NBQXdDLFlBQVk7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLFFBQVE7QUFDbEIsVUFBVSxRQUFRO0FBQ2xCLFVBQVUsUUFBUTtBQUNsQixVQUFVLFFBQVE7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtGQUErRix5REFBWTtBQUMzRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix1REFBVSxZQUFZLHVEQUFVO0FBQzNEO0FBQ0E7QUFDQSxtQkFBbUIscUJBQXFCO0FBQ3hDO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsVUFBVTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsVUFBVTtBQUM3QixtQkFBbUIsVUFBVTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNzSDtBQUN0SCIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9mYXN0LWpzb24tcGF0Y2gvc3JjL2NvcmUuanM/YWM0OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2V4cG9ydCB9IGZyb20gXCIuLi8uLi8uLi9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmpzXCI7XG5pbXBvcnQgeyBQYXRjaEVycm9yLCBfZGVlcENsb25lLCBoYXNVbmRlZmluZWQsIGlzSW50ZWdlciwgdW5lc2NhcGVQYXRoQ29tcG9uZW50IH0gZnJvbSBcIi4vaGVscGVycy5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL2Zhc3QtanNvbi1wYXRjaC9zcmMvY29yZS50c1xudmFyIGNvcmVfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQoY29yZV9leHBvcnRzLCB7XG5cdEpzb25QYXRjaEVycm9yOiAoKSA9PiBKc29uUGF0Y2hFcnJvcixcblx0X2FyZUVxdWFsczogKCkgPT4gX2FyZUVxdWFscyxcblx0YXBwbHlPcGVyYXRpb246ICgpID0+IGFwcGx5T3BlcmF0aW9uLFxuXHRhcHBseVBhdGNoOiAoKSA9PiBhcHBseVBhdGNoLFxuXHRhcHBseVJlZHVjZXI6ICgpID0+IGFwcGx5UmVkdWNlcixcblx0ZGVlcENsb25lOiAoKSA9PiBkZWVwQ2xvbmUsXG5cdGdldFZhbHVlQnlQb2ludGVyOiAoKSA9PiBnZXRWYWx1ZUJ5UG9pbnRlcixcblx0dmFsaWRhdGU6ICgpID0+IHZhbGlkYXRlLFxuXHR2YWxpZGF0b3I6ICgpID0+IHZhbGlkYXRvclxufSk7XG5jb25zdCBKc29uUGF0Y2hFcnJvciA9IFBhdGNoRXJyb3I7XG5jb25zdCBkZWVwQ2xvbmUgPSBfZGVlcENsb25lO1xuLyoqXG4qIENoZWNrIGlmIGEga2V5IGlzIGEgZGFuZ2Vyb3VzIHByb3RvdHlwZSBwcm9wZXJ0eSB0aGF0IGNvdWxkIGxlYWQgdG8gcHJvdG90eXBlIHBvbGx1dGlvbi5cbiogVGhpcyBwcm92aWRlcyBkZWZlbnNlLWluLWRlcHRoIGFsb25nc2lkZSB0aGUgY2hlY2sgaW4gYXBwbHlPcGVyYXRpb24uXG4qL1xuZnVuY3Rpb24gaXNEYW5nZXJvdXNLZXkoa2V5KSB7XG5cdHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPYmplY3QucHJvdG90eXBlKS5pbmNsdWRlcyhrZXkpO1xufVxuY29uc3Qgb2JqT3BzID0ge1xuXHRhZGQ6IGZ1bmN0aW9uKG9iaiwga2V5LCBkb2N1bWVudCkge1xuXHRcdGlmIChpc0Rhbmdlcm91c0tleShrZXkpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSlNPTi1QYXRjaDogbW9kaWZ5aW5nIGBfX3Byb3RvX19gLCBgY29uc3RydWN0b3JgLCBvciBgcHJvdG90eXBlYCBwcm9wIGlzIGJhbm5lZCBmb3Igc2VjdXJpdHkgcmVhc29uc1wiKTtcblx0XHRvYmpba2V5XSA9IHRoaXMudmFsdWU7XG5cdFx0cmV0dXJuIHsgbmV3RG9jdW1lbnQ6IGRvY3VtZW50IH07XG5cdH0sXG5cdHJlbW92ZTogZnVuY3Rpb24ob2JqLCBrZXksIGRvY3VtZW50KSB7XG5cdFx0aWYgKGlzRGFuZ2Vyb3VzS2V5KGtleSkpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJKU09OLVBhdGNoOiBtb2RpZnlpbmcgYF9fcHJvdG9fX2AsIGBjb25zdHJ1Y3RvcmAsIG9yIGBwcm90b3R5cGVgIHByb3AgaXMgYmFubmVkIGZvciBzZWN1cml0eSByZWFzb25zXCIpO1xuXHRcdHZhciByZW1vdmVkID0gb2JqW2tleV07XG5cdFx0ZGVsZXRlIG9ialtrZXldO1xuXHRcdHJldHVybiB7XG5cdFx0XHRuZXdEb2N1bWVudDogZG9jdW1lbnQsXG5cdFx0XHRyZW1vdmVkXG5cdFx0fTtcblx0fSxcblx0cmVwbGFjZTogZnVuY3Rpb24ob2JqLCBrZXksIGRvY3VtZW50KSB7XG5cdFx0aWYgKGlzRGFuZ2Vyb3VzS2V5KGtleSkpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJKU09OLVBhdGNoOiBtb2RpZnlpbmcgYF9fcHJvdG9fX2AsIGBjb25zdHJ1Y3RvcmAsIG9yIGBwcm90b3R5cGVgIHByb3AgaXMgYmFubmVkIGZvciBzZWN1cml0eSByZWFzb25zXCIpO1xuXHRcdHZhciByZW1vdmVkID0gb2JqW2tleV07XG5cdFx0b2JqW2tleV0gPSB0aGlzLnZhbHVlO1xuXHRcdHJldHVybiB7XG5cdFx0XHRuZXdEb2N1bWVudDogZG9jdW1lbnQsXG5cdFx0XHRyZW1vdmVkXG5cdFx0fTtcblx0fSxcblx0bW92ZTogZnVuY3Rpb24ob2JqLCBrZXksIGRvY3VtZW50KSB7XG5cdFx0bGV0IHJlbW92ZWQgPSBnZXRWYWx1ZUJ5UG9pbnRlcihkb2N1bWVudCwgdGhpcy5wYXRoKTtcblx0XHRpZiAocmVtb3ZlZCkgcmVtb3ZlZCA9IF9kZWVwQ2xvbmUocmVtb3ZlZCk7XG5cdFx0Y29uc3Qgb3JpZ2luYWxWYWx1ZSA9IGFwcGx5T3BlcmF0aW9uKGRvY3VtZW50LCB7XG5cdFx0XHRvcDogXCJyZW1vdmVcIixcblx0XHRcdHBhdGg6IHRoaXMuZnJvbVxuXHRcdH0pLnJlbW92ZWQ7XG5cdFx0YXBwbHlPcGVyYXRpb24oZG9jdW1lbnQsIHtcblx0XHRcdG9wOiBcImFkZFwiLFxuXHRcdFx0cGF0aDogdGhpcy5wYXRoLFxuXHRcdFx0dmFsdWU6IG9yaWdpbmFsVmFsdWVcblx0XHR9KTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0bmV3RG9jdW1lbnQ6IGRvY3VtZW50LFxuXHRcdFx0cmVtb3ZlZFxuXHRcdH07XG5cdH0sXG5cdGNvcHk6IGZ1bmN0aW9uKG9iaiwga2V5LCBkb2N1bWVudCkge1xuXHRcdGNvbnN0IHZhbHVlVG9Db3B5ID0gZ2V0VmFsdWVCeVBvaW50ZXIoZG9jdW1lbnQsIHRoaXMuZnJvbSk7XG5cdFx0YXBwbHlPcGVyYXRpb24oZG9jdW1lbnQsIHtcblx0XHRcdG9wOiBcImFkZFwiLFxuXHRcdFx0cGF0aDogdGhpcy5wYXRoLFxuXHRcdFx0dmFsdWU6IF9kZWVwQ2xvbmUodmFsdWVUb0NvcHkpXG5cdFx0fSk7XG5cdFx0cmV0dXJuIHsgbmV3RG9jdW1lbnQ6IGRvY3VtZW50IH07XG5cdH0sXG5cdHRlc3Q6IGZ1bmN0aW9uKG9iaiwga2V5LCBkb2N1bWVudCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRuZXdEb2N1bWVudDogZG9jdW1lbnQsXG5cdFx0XHR0ZXN0OiBfYXJlRXF1YWxzKG9ialtrZXldLCB0aGlzLnZhbHVlKVxuXHRcdH07XG5cdH0sXG5cdF9nZXQ6IGZ1bmN0aW9uKG9iaiwga2V5LCBkb2N1bWVudCkge1xuXHRcdHRoaXMudmFsdWUgPSBvYmpba2V5XTtcblx0XHRyZXR1cm4geyBuZXdEb2N1bWVudDogZG9jdW1lbnQgfTtcblx0fVxufTtcbnZhciBhcnJPcHMgPSB7XG5cdGFkZDogZnVuY3Rpb24oYXJyLCBpLCBkb2N1bWVudCkge1xuXHRcdGlmIChpc0ludGVnZXIoaSkpIGFyci5zcGxpY2UoaSwgMCwgdGhpcy52YWx1ZSk7XG5cdFx0ZWxzZSBhcnJbaV0gPSB0aGlzLnZhbHVlO1xuXHRcdHJldHVybiB7XG5cdFx0XHRuZXdEb2N1bWVudDogZG9jdW1lbnQsXG5cdFx0XHRpbmRleDogaVxuXHRcdH07XG5cdH0sXG5cdHJlbW92ZTogZnVuY3Rpb24oYXJyLCBpLCBkb2N1bWVudCkge1xuXHRcdHZhciByZW1vdmVkTGlzdCA9IGFyci5zcGxpY2UoaSwgMSk7XG5cdFx0cmV0dXJuIHtcblx0XHRcdG5ld0RvY3VtZW50OiBkb2N1bWVudCxcblx0XHRcdHJlbW92ZWQ6IHJlbW92ZWRMaXN0WzBdXG5cdFx0fTtcblx0fSxcblx0cmVwbGFjZTogZnVuY3Rpb24oYXJyLCBpLCBkb2N1bWVudCkge1xuXHRcdHZhciByZW1vdmVkID0gYXJyW2ldO1xuXHRcdGFycltpXSA9IHRoaXMudmFsdWU7XG5cdFx0cmV0dXJuIHtcblx0XHRcdG5ld0RvY3VtZW50OiBkb2N1bWVudCxcblx0XHRcdHJlbW92ZWRcblx0XHR9O1xuXHR9LFxuXHRtb3ZlOiBvYmpPcHMubW92ZSxcblx0Y29weTogb2JqT3BzLmNvcHksXG5cdHRlc3Q6IG9iak9wcy50ZXN0LFxuXHRfZ2V0OiBvYmpPcHMuX2dldFxufTtcbi8qKlxuKiBSZXRyaWV2ZXMgYSB2YWx1ZSBmcm9tIGEgSlNPTiBkb2N1bWVudCBieSBhIEpTT04gcG9pbnRlci5cbiogUmV0dXJucyB0aGUgdmFsdWUuXG4qXG4qIEBwYXJhbSBkb2N1bWVudCBUaGUgZG9jdW1lbnQgdG8gZ2V0IHRoZSB2YWx1ZSBmcm9tXG4qIEBwYXJhbSBwb2ludGVyIGFuIGVzY2FwZWQgSlNPTiBwb2ludGVyXG4qIEByZXR1cm4gVGhlIHJldHJpZXZlZCB2YWx1ZVxuKi9cbmZ1bmN0aW9uIGdldFZhbHVlQnlQb2ludGVyKGRvY3VtZW50LCBwb2ludGVyKSB7XG5cdGlmIChwb2ludGVyID09IFwiXCIpIHJldHVybiBkb2N1bWVudDtcblx0dmFyIGdldE9yaWdpbmFsRGVzdGluYXRpb24gPSB7XG5cdFx0b3A6IFwiX2dldFwiLFxuXHRcdHBhdGg6IHBvaW50ZXJcblx0fTtcblx0YXBwbHlPcGVyYXRpb24oZG9jdW1lbnQsIGdldE9yaWdpbmFsRGVzdGluYXRpb24pO1xuXHRyZXR1cm4gZ2V0T3JpZ2luYWxEZXN0aW5hdGlvbi52YWx1ZTtcbn1cbi8qKlxuKiBBcHBseSBhIHNpbmdsZSBKU09OIFBhdGNoIE9wZXJhdGlvbiBvbiBhIEpTT04gZG9jdW1lbnQuXG4qIFJldHVybnMgdGhlIHtuZXdEb2N1bWVudCwgcmVzdWx0fSBvZiB0aGUgb3BlcmF0aW9uLlxuKiBJdCBtb2RpZmllcyB0aGUgYGRvY3VtZW50YCBhbmQgYG9wZXJhdGlvbmAgb2JqZWN0cyAtIGl0IGdldHMgdGhlIHZhbHVlcyBieSByZWZlcmVuY2UuXG4qIElmIHlvdSB3b3VsZCBsaWtlIHRvIGF2b2lkIHRvdWNoaW5nIHlvdXIgdmFsdWVzLCBjbG9uZSB0aGVtOlxuKiBganNvbnBhdGNoLmFwcGx5T3BlcmF0aW9uKGRvY3VtZW50LCBqc29ucGF0Y2guX2RlZXBDbG9uZShvcGVyYXRpb24pKWAuXG4qXG4qIEBwYXJhbSBkb2N1bWVudCBUaGUgZG9jdW1lbnQgdG8gcGF0Y2hcbiogQHBhcmFtIG9wZXJhdGlvbiBUaGUgb3BlcmF0aW9uIHRvIGFwcGx5XG4qIEBwYXJhbSB2YWxpZGF0ZU9wZXJhdGlvbiBgZmFsc2VgIGlzIHdpdGhvdXQgdmFsaWRhdGlvbiwgYHRydWVgIHRvIHVzZSBkZWZhdWx0IGpzb25wYXRjaCdzIHZhbGlkYXRpb24sIG9yIHlvdSBjYW4gcGFzcyBhIGB2YWxpZGF0ZU9wZXJhdGlvbmAgY2FsbGJhY2sgdG8gYmUgdXNlZCBmb3IgdmFsaWRhdGlvbi5cbiogQHBhcmFtIG11dGF0ZURvY3VtZW50IFdoZXRoZXIgdG8gbXV0YXRlIHRoZSBvcmlnaW5hbCBkb2N1bWVudCBvciBjbG9uZSBpdCBiZWZvcmUgYXBwbHlpbmdcbiogQHBhcmFtIGJhblByb3RvdHlwZU1vZGlmaWNhdGlvbnMgV2hldGhlciB0byBiYW4gbW9kaWZpY2F0aW9ucyB0byBgX19wcm90b19fYCwgZGVmYXVsdHMgdG8gYHRydWVgLlxuKiBAcmV0dXJuIGB7bmV3RG9jdW1lbnQsIHJlc3VsdH1gIGFmdGVyIHRoZSBvcGVyYXRpb25cbiovXG5mdW5jdGlvbiBhcHBseU9wZXJhdGlvbihkb2N1bWVudCwgb3BlcmF0aW9uLCB2YWxpZGF0ZU9wZXJhdGlvbiA9IGZhbHNlLCBtdXRhdGVEb2N1bWVudCA9IHRydWUsIGJhblByb3RvdHlwZU1vZGlmaWNhdGlvbnMgPSB0cnVlLCBpbmRleCA9IDApIHtcblx0aWYgKHZhbGlkYXRlT3BlcmF0aW9uKSBpZiAodHlwZW9mIHZhbGlkYXRlT3BlcmF0aW9uID09IFwiZnVuY3Rpb25cIikgdmFsaWRhdGVPcGVyYXRpb24ob3BlcmF0aW9uLCAwLCBkb2N1bWVudCwgb3BlcmF0aW9uLnBhdGgpO1xuXHRlbHNlIHZhbGlkYXRvcihvcGVyYXRpb24sIDApO1xuXHRpZiAob3BlcmF0aW9uLnBhdGggPT09IFwiXCIpIHtcblx0XHRsZXQgcmV0dXJuVmFsdWUgPSB7IG5ld0RvY3VtZW50OiBkb2N1bWVudCB9O1xuXHRcdGlmIChvcGVyYXRpb24ub3AgPT09IFwiYWRkXCIpIHtcblx0XHRcdHJldHVyblZhbHVlLm5ld0RvY3VtZW50ID0gb3BlcmF0aW9uLnZhbHVlO1xuXHRcdFx0cmV0dXJuIHJldHVyblZhbHVlO1xuXHRcdH0gZWxzZSBpZiAob3BlcmF0aW9uLm9wID09PSBcInJlcGxhY2VcIikge1xuXHRcdFx0cmV0dXJuVmFsdWUubmV3RG9jdW1lbnQgPSBvcGVyYXRpb24udmFsdWU7XG5cdFx0XHRyZXR1cm5WYWx1ZS5yZW1vdmVkID0gZG9jdW1lbnQ7XG5cdFx0XHRyZXR1cm4gcmV0dXJuVmFsdWU7XG5cdFx0fSBlbHNlIGlmIChvcGVyYXRpb24ub3AgPT09IFwibW92ZVwiIHx8IG9wZXJhdGlvbi5vcCA9PT0gXCJjb3B5XCIpIHtcblx0XHRcdHJldHVyblZhbHVlLm5ld0RvY3VtZW50ID0gZ2V0VmFsdWVCeVBvaW50ZXIoZG9jdW1lbnQsIG9wZXJhdGlvbi5mcm9tKTtcblx0XHRcdGlmIChvcGVyYXRpb24ub3AgPT09IFwibW92ZVwiKSByZXR1cm5WYWx1ZS5yZW1vdmVkID0gZG9jdW1lbnQ7XG5cdFx0XHRyZXR1cm4gcmV0dXJuVmFsdWU7XG5cdFx0fSBlbHNlIGlmIChvcGVyYXRpb24ub3AgPT09IFwidGVzdFwiKSB7XG5cdFx0XHRyZXR1cm5WYWx1ZS50ZXN0ID0gX2FyZUVxdWFscyhkb2N1bWVudCwgb3BlcmF0aW9uLnZhbHVlKTtcblx0XHRcdGlmIChyZXR1cm5WYWx1ZS50ZXN0ID09PSBmYWxzZSkgdGhyb3cgbmV3IEpzb25QYXRjaEVycm9yKFwiVGVzdCBvcGVyYXRpb24gZmFpbGVkXCIsIFwiVEVTVF9PUEVSQVRJT05fRkFJTEVEXCIsIGluZGV4LCBvcGVyYXRpb24sIGRvY3VtZW50KTtcblx0XHRcdHJldHVyblZhbHVlLm5ld0RvY3VtZW50ID0gZG9jdW1lbnQ7XG5cdFx0XHRyZXR1cm4gcmV0dXJuVmFsdWU7XG5cdFx0fSBlbHNlIGlmIChvcGVyYXRpb24ub3AgPT09IFwicmVtb3ZlXCIpIHtcblx0XHRcdHJldHVyblZhbHVlLnJlbW92ZWQgPSBkb2N1bWVudDtcblx0XHRcdHJldHVyblZhbHVlLm5ld0RvY3VtZW50ID0gbnVsbDtcblx0XHRcdHJldHVybiByZXR1cm5WYWx1ZTtcblx0XHR9IGVsc2UgaWYgKG9wZXJhdGlvbi5vcCA9PT0gXCJfZ2V0XCIpIHtcblx0XHRcdG9wZXJhdGlvbi52YWx1ZSA9IGRvY3VtZW50O1xuXHRcdFx0cmV0dXJuIHJldHVyblZhbHVlO1xuXHRcdH0gZWxzZSBpZiAodmFsaWRhdGVPcGVyYXRpb24pIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIk9wZXJhdGlvbiBgb3BgIHByb3BlcnR5IGlzIG5vdCBvbmUgb2Ygb3BlcmF0aW9ucyBkZWZpbmVkIGluIFJGQy02OTAyXCIsIFwiT1BFUkFUSU9OX09QX0lOVkFMSURcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuXHRcdGVsc2UgcmV0dXJuIHJldHVyblZhbHVlO1xuXHR9IGVsc2Uge1xuXHRcdGlmICghbXV0YXRlRG9jdW1lbnQpIGRvY3VtZW50ID0gX2RlZXBDbG9uZShkb2N1bWVudCk7XG5cdFx0Y29uc3QgcGF0aCA9IG9wZXJhdGlvbi5wYXRoIHx8IFwiXCI7XG5cdFx0Y29uc3Qga2V5cyA9IHBhdGguc3BsaXQoXCIvXCIpO1xuXHRcdGxldCBvYmogPSBkb2N1bWVudDtcblx0XHRsZXQgdCA9IDE7XG5cdFx0bGV0IGxlbiA9IGtleXMubGVuZ3RoO1xuXHRcdGxldCBleGlzdGluZ1BhdGhGcmFnbWVudCA9IHZvaWQgMDtcblx0XHRsZXQga2V5O1xuXHRcdGxldCB2YWxpZGF0ZUZ1bmN0aW9uO1xuXHRcdGlmICh0eXBlb2YgdmFsaWRhdGVPcGVyYXRpb24gPT0gXCJmdW5jdGlvblwiKSB2YWxpZGF0ZUZ1bmN0aW9uID0gdmFsaWRhdGVPcGVyYXRpb247XG5cdFx0ZWxzZSB2YWxpZGF0ZUZ1bmN0aW9uID0gdmFsaWRhdG9yO1xuXHRcdHdoaWxlICh0cnVlKSB7XG5cdFx0XHRrZXkgPSBrZXlzW3RdO1xuXHRcdFx0aWYgKGtleSAmJiBrZXkuaW5kZXhPZihcIn5cIikgIT0gLTEpIGtleSA9IHVuZXNjYXBlUGF0aENvbXBvbmVudChrZXkpO1xuXHRcdFx0aWYgKGJhblByb3RvdHlwZU1vZGlmaWNhdGlvbnMgJiYgKGtleSA9PSBcIl9fcHJvdG9fX1wiIHx8IGtleSA9PSBcInByb3RvdHlwZVwiICYmIHQgPiAwICYmIGtleXNbdCAtIDFdID09IFwiY29uc3RydWN0b3JcIikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJKU09OLVBhdGNoOiBtb2RpZnlpbmcgYF9fcHJvdG9fX2Agb3IgYGNvbnN0cnVjdG9yL3Byb3RvdHlwZWAgcHJvcCBpcyBiYW5uZWQgZm9yIHNlY3VyaXR5IHJlYXNvbnMsIGlmIHRoaXMgd2FzIG9uIHB1cnBvc2UsIHBsZWFzZSBzZXQgYGJhblByb3RvdHlwZU1vZGlmaWNhdGlvbnNgIGZsYWcgZmFsc2UgYW5kIHBhc3MgaXQgdG8gdGhpcyBmdW5jdGlvbi4gTW9yZSBpbmZvIGluIGZhc3QtanNvbi1wYXRjaCBSRUFETUVcIik7XG5cdFx0XHRpZiAodmFsaWRhdGVPcGVyYXRpb24pIHtcblx0XHRcdFx0aWYgKGV4aXN0aW5nUGF0aEZyYWdtZW50ID09PSB2b2lkIDApIHtcblx0XHRcdFx0XHRpZiAob2JqW2tleV0gPT09IHZvaWQgMCkgZXhpc3RpbmdQYXRoRnJhZ21lbnQgPSBrZXlzLnNsaWNlKDAsIHQpLmpvaW4oXCIvXCIpO1xuXHRcdFx0XHRcdGVsc2UgaWYgKHQgPT0gbGVuIC0gMSkgZXhpc3RpbmdQYXRoRnJhZ21lbnQgPSBvcGVyYXRpb24ucGF0aDtcblx0XHRcdFx0XHRpZiAoZXhpc3RpbmdQYXRoRnJhZ21lbnQgIT09IHZvaWQgMCkgdmFsaWRhdGVGdW5jdGlvbihvcGVyYXRpb24sIDAsIGRvY3VtZW50LCBleGlzdGluZ1BhdGhGcmFnbWVudCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHQrKztcblx0XHRcdGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcblx0XHRcdFx0aWYgKGtleSA9PT0gXCItXCIpIGtleSA9IG9iai5sZW5ndGg7XG5cdFx0XHRcdGVsc2UgaWYgKHZhbGlkYXRlT3BlcmF0aW9uICYmICFpc0ludGVnZXIoa2V5KSkgdGhyb3cgbmV3IEpzb25QYXRjaEVycm9yKFwiRXhwZWN0ZWQgYW4gdW5zaWduZWQgYmFzZS0xMCBpbnRlZ2VyIHZhbHVlLCBtYWtpbmcgdGhlIG5ldyByZWZlcmVuY2VkIHZhbHVlIHRoZSBhcnJheSBlbGVtZW50IHdpdGggdGhlIHplcm8tYmFzZWQgaW5kZXhcIiwgXCJPUEVSQVRJT05fUEFUSF9JTExFR0FMX0FSUkFZX0lOREVYXCIsIGluZGV4LCBvcGVyYXRpb24sIGRvY3VtZW50KTtcblx0XHRcdFx0ZWxzZSBpZiAoaXNJbnRlZ2VyKGtleSkpIGtleSA9IH5+a2V5O1xuXHRcdFx0XHRpZiAodCA+PSBsZW4pIHtcblx0XHRcdFx0XHRpZiAodmFsaWRhdGVPcGVyYXRpb24gJiYgb3BlcmF0aW9uLm9wID09PSBcImFkZFwiICYmIGtleSA+IG9iai5sZW5ndGgpIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIlRoZSBzcGVjaWZpZWQgaW5kZXggTVVTVCBOT1QgYmUgZ3JlYXRlciB0aGFuIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gdGhlIGFycmF5XCIsIFwiT1BFUkFUSU9OX1ZBTFVFX09VVF9PRl9CT1VORFNcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuXHRcdFx0XHRcdGNvbnN0IHJldHVyblZhbHVlID0gYXJyT3BzW29wZXJhdGlvbi5vcF0uY2FsbChvcGVyYXRpb24sIG9iaiwga2V5LCBkb2N1bWVudCk7XG5cdFx0XHRcdFx0aWYgKHJldHVyblZhbHVlLnRlc3QgPT09IGZhbHNlKSB0aHJvdyBuZXcgSnNvblBhdGNoRXJyb3IoXCJUZXN0IG9wZXJhdGlvbiBmYWlsZWRcIiwgXCJURVNUX09QRVJBVElPTl9GQUlMRURcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuXHRcdFx0XHRcdHJldHVybiByZXR1cm5WYWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmICh0ID49IGxlbikge1xuXHRcdFx0XHRjb25zdCByZXR1cm5WYWx1ZSA9IG9iak9wc1tvcGVyYXRpb24ub3BdLmNhbGwob3BlcmF0aW9uLCBvYmosIGtleSwgZG9jdW1lbnQpO1xuXHRcdFx0XHRpZiAocmV0dXJuVmFsdWUudGVzdCA9PT0gZmFsc2UpIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIlRlc3Qgb3BlcmF0aW9uIGZhaWxlZFwiLCBcIlRFU1RfT1BFUkFUSU9OX0ZBSUxFRFwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG5cdFx0XHRcdHJldHVybiByZXR1cm5WYWx1ZTtcblx0XHRcdH1cblx0XHRcdG9iaiA9IG9ialtrZXldO1xuXHRcdFx0aWYgKHZhbGlkYXRlT3BlcmF0aW9uICYmIHQgPCBsZW4gJiYgKCFvYmogfHwgdHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIikpIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIkNhbm5vdCBwZXJmb3JtIG9wZXJhdGlvbiBhdCB0aGUgZGVzaXJlZCBwYXRoXCIsIFwiT1BFUkFUSU9OX1BBVEhfVU5SRVNPTFZBQkxFXCIsIGluZGV4LCBvcGVyYXRpb24sIGRvY3VtZW50KTtcblx0XHR9XG5cdH1cbn1cbi8qKlxuKiBBcHBseSBhIGZ1bGwgSlNPTiBQYXRjaCBhcnJheSBvbiBhIEpTT04gZG9jdW1lbnQuXG4qIFJldHVybnMgdGhlIHtuZXdEb2N1bWVudCwgcmVzdWx0fSBvZiB0aGUgcGF0Y2guXG4qIEl0IG1vZGlmaWVzIHRoZSBgZG9jdW1lbnRgIG9iamVjdCBhbmQgYHBhdGNoYCAtIGl0IGdldHMgdGhlIHZhbHVlcyBieSByZWZlcmVuY2UuXG4qIElmIHlvdSB3b3VsZCBsaWtlIHRvIGF2b2lkIHRvdWNoaW5nIHlvdXIgdmFsdWVzLCBjbG9uZSB0aGVtOlxuKiBganNvbnBhdGNoLmFwcGx5UGF0Y2goZG9jdW1lbnQsIGpzb25wYXRjaC5fZGVlcENsb25lKHBhdGNoKSlgLlxuKlxuKiBAcGFyYW0gZG9jdW1lbnQgVGhlIGRvY3VtZW50IHRvIHBhdGNoXG4qIEBwYXJhbSBwYXRjaCBUaGUgcGF0Y2ggdG8gYXBwbHlcbiogQHBhcmFtIHZhbGlkYXRlT3BlcmF0aW9uIGBmYWxzZWAgaXMgd2l0aG91dCB2YWxpZGF0aW9uLCBgdHJ1ZWAgdG8gdXNlIGRlZmF1bHQganNvbnBhdGNoJ3MgdmFsaWRhdGlvbiwgb3IgeW91IGNhbiBwYXNzIGEgYHZhbGlkYXRlT3BlcmF0aW9uYCBjYWxsYmFjayB0byBiZSB1c2VkIGZvciB2YWxpZGF0aW9uLlxuKiBAcGFyYW0gbXV0YXRlRG9jdW1lbnQgV2hldGhlciB0byBtdXRhdGUgdGhlIG9yaWdpbmFsIGRvY3VtZW50IG9yIGNsb25lIGl0IGJlZm9yZSBhcHBseWluZ1xuKiBAcGFyYW0gYmFuUHJvdG90eXBlTW9kaWZpY2F0aW9ucyBXaGV0aGVyIHRvIGJhbiBtb2RpZmljYXRpb25zIHRvIGBfX3Byb3RvX19gLCBkZWZhdWx0cyB0byBgdHJ1ZWAuXG4qIEByZXR1cm4gQW4gYXJyYXkgb2YgYHtuZXdEb2N1bWVudCwgcmVzdWx0fWAgYWZ0ZXIgdGhlIHBhdGNoXG4qL1xuZnVuY3Rpb24gYXBwbHlQYXRjaChkb2N1bWVudCwgcGF0Y2gsIHZhbGlkYXRlT3BlcmF0aW9uLCBtdXRhdGVEb2N1bWVudCA9IHRydWUsIGJhblByb3RvdHlwZU1vZGlmaWNhdGlvbnMgPSB0cnVlKSB7XG5cdGlmICh2YWxpZGF0ZU9wZXJhdGlvbikge1xuXHRcdGlmICghQXJyYXkuaXNBcnJheShwYXRjaCkpIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIlBhdGNoIHNlcXVlbmNlIG11c3QgYmUgYW4gYXJyYXlcIiwgXCJTRVFVRU5DRV9OT1RfQU5fQVJSQVlcIik7XG5cdH1cblx0aWYgKCFtdXRhdGVEb2N1bWVudCkgZG9jdW1lbnQgPSBfZGVlcENsb25lKGRvY3VtZW50KTtcblx0Y29uc3QgcmVzdWx0cyA9IG5ldyBBcnJheShwYXRjaC5sZW5ndGgpO1xuXHRmb3IgKGxldCBpID0gMCwgbGVuZ3RoID0gcGF0Y2gubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRyZXN1bHRzW2ldID0gYXBwbHlPcGVyYXRpb24oZG9jdW1lbnQsIHBhdGNoW2ldLCB2YWxpZGF0ZU9wZXJhdGlvbiwgdHJ1ZSwgYmFuUHJvdG90eXBlTW9kaWZpY2F0aW9ucywgaSk7XG5cdFx0ZG9jdW1lbnQgPSByZXN1bHRzW2ldLm5ld0RvY3VtZW50O1xuXHR9XG5cdHJlc3VsdHMubmV3RG9jdW1lbnQgPSBkb2N1bWVudDtcblx0cmV0dXJuIHJlc3VsdHM7XG59XG4vKipcbiogQXBwbHkgYSBzaW5nbGUgSlNPTiBQYXRjaCBPcGVyYXRpb24gb24gYSBKU09OIGRvY3VtZW50LlxuKiBSZXR1cm5zIHRoZSB1cGRhdGVkIGRvY3VtZW50LlxuKiBTdWl0YWJsZSBhcyBhIHJlZHVjZXIuXG4qXG4qIEBwYXJhbSBkb2N1bWVudCBUaGUgZG9jdW1lbnQgdG8gcGF0Y2hcbiogQHBhcmFtIG9wZXJhdGlvbiBUaGUgb3BlcmF0aW9uIHRvIGFwcGx5XG4qIEByZXR1cm4gVGhlIHVwZGF0ZWQgZG9jdW1lbnRcbiovXG5mdW5jdGlvbiBhcHBseVJlZHVjZXIoZG9jdW1lbnQsIG9wZXJhdGlvbiwgaW5kZXgpIHtcblx0Y29uc3Qgb3BlcmF0aW9uUmVzdWx0ID0gYXBwbHlPcGVyYXRpb24oZG9jdW1lbnQsIG9wZXJhdGlvbik7XG5cdGlmIChvcGVyYXRpb25SZXN1bHQudGVzdCA9PT0gZmFsc2UpIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIlRlc3Qgb3BlcmF0aW9uIGZhaWxlZFwiLCBcIlRFU1RfT1BFUkFUSU9OX0ZBSUxFRFwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG5cdHJldHVybiBvcGVyYXRpb25SZXN1bHQubmV3RG9jdW1lbnQ7XG59XG4vKipcbiogVmFsaWRhdGVzIGEgc2luZ2xlIG9wZXJhdGlvbi4gQ2FsbGVkIGZyb20gYGpzb25wYXRjaC52YWxpZGF0ZWAuIFRocm93cyBgSnNvblBhdGNoRXJyb3JgIGluIGNhc2Ugb2YgYW4gZXJyb3IuXG4qIEBwYXJhbSB7b2JqZWN0fSBvcGVyYXRpb24gLSBvcGVyYXRpb24gb2JqZWN0IChwYXRjaClcbiogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gaW5kZXggb2Ygb3BlcmF0aW9uIGluIHRoZSBzZXF1ZW5jZVxuKiBAcGFyYW0ge29iamVjdH0gW2RvY3VtZW50XSAtIG9iamVjdCB3aGVyZSB0aGUgb3BlcmF0aW9uIGlzIHN1cHBvc2VkIHRvIGJlIGFwcGxpZWRcbiogQHBhcmFtIHtzdHJpbmd9IFtleGlzdGluZ1BhdGhGcmFnbWVudF0gLSBjb21lcyBhbG9uZyB3aXRoIGBkb2N1bWVudGBcbiovXG5mdW5jdGlvbiB2YWxpZGF0b3Iob3BlcmF0aW9uLCBpbmRleCwgZG9jdW1lbnQsIGV4aXN0aW5nUGF0aEZyYWdtZW50KSB7XG5cdGlmICh0eXBlb2Ygb3BlcmF0aW9uICE9PSBcIm9iamVjdFwiIHx8IG9wZXJhdGlvbiA9PT0gbnVsbCB8fCBBcnJheS5pc0FycmF5KG9wZXJhdGlvbikpIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIk9wZXJhdGlvbiBpcyBub3QgYW4gb2JqZWN0XCIsIFwiT1BFUkFUSU9OX05PVF9BTl9PQkpFQ1RcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuXHRlbHNlIGlmICghb2JqT3BzW29wZXJhdGlvbi5vcF0pIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIk9wZXJhdGlvbiBgb3BgIHByb3BlcnR5IGlzIG5vdCBvbmUgb2Ygb3BlcmF0aW9ucyBkZWZpbmVkIGluIFJGQy02OTAyXCIsIFwiT1BFUkFUSU9OX09QX0lOVkFMSURcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuXHRlbHNlIGlmICh0eXBlb2Ygb3BlcmF0aW9uLnBhdGggIT09IFwic3RyaW5nXCIpIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIk9wZXJhdGlvbiBgcGF0aGAgcHJvcGVydHkgaXMgbm90IGEgc3RyaW5nXCIsIFwiT1BFUkFUSU9OX1BBVEhfSU5WQUxJRFwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG5cdGVsc2UgaWYgKG9wZXJhdGlvbi5wYXRoLmluZGV4T2YoXCIvXCIpICE9PSAwICYmIG9wZXJhdGlvbi5wYXRoLmxlbmd0aCA+IDApIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIk9wZXJhdGlvbiBgcGF0aGAgcHJvcGVydHkgbXVzdCBzdGFydCB3aXRoIFxcXCIvXFxcIlwiLCBcIk9QRVJBVElPTl9QQVRIX0lOVkFMSURcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuXHRlbHNlIGlmICgob3BlcmF0aW9uLm9wID09PSBcIm1vdmVcIiB8fCBvcGVyYXRpb24ub3AgPT09IFwiY29weVwiKSAmJiB0eXBlb2Ygb3BlcmF0aW9uLmZyb20gIT09IFwic3RyaW5nXCIpIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIk9wZXJhdGlvbiBgZnJvbWAgcHJvcGVydHkgaXMgbm90IHByZXNlbnQgKGFwcGxpY2FibGUgaW4gYG1vdmVgIGFuZCBgY29weWAgb3BlcmF0aW9ucylcIiwgXCJPUEVSQVRJT05fRlJPTV9SRVFVSVJFRFwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG5cdGVsc2UgaWYgKChvcGVyYXRpb24ub3AgPT09IFwiYWRkXCIgfHwgb3BlcmF0aW9uLm9wID09PSBcInJlcGxhY2VcIiB8fCBvcGVyYXRpb24ub3AgPT09IFwidGVzdFwiKSAmJiBvcGVyYXRpb24udmFsdWUgPT09IHZvaWQgMCkgdGhyb3cgbmV3IEpzb25QYXRjaEVycm9yKFwiT3BlcmF0aW9uIGB2YWx1ZWAgcHJvcGVydHkgaXMgbm90IHByZXNlbnQgKGFwcGxpY2FibGUgaW4gYGFkZGAsIGByZXBsYWNlYCBhbmQgYHRlc3RgIG9wZXJhdGlvbnMpXCIsIFwiT1BFUkFUSU9OX1ZBTFVFX1JFUVVJUkVEXCIsIGluZGV4LCBvcGVyYXRpb24sIGRvY3VtZW50KTtcblx0ZWxzZSBpZiAoKG9wZXJhdGlvbi5vcCA9PT0gXCJhZGRcIiB8fCBvcGVyYXRpb24ub3AgPT09IFwicmVwbGFjZVwiIHx8IG9wZXJhdGlvbi5vcCA9PT0gXCJ0ZXN0XCIpICYmIGhhc1VuZGVmaW5lZChvcGVyYXRpb24udmFsdWUpKSB0aHJvdyBuZXcgSnNvblBhdGNoRXJyb3IoXCJPcGVyYXRpb24gYHZhbHVlYCBwcm9wZXJ0eSBpcyBub3QgcHJlc2VudCAoYXBwbGljYWJsZSBpbiBgYWRkYCwgYHJlcGxhY2VgIGFuZCBgdGVzdGAgb3BlcmF0aW9ucylcIiwgXCJPUEVSQVRJT05fVkFMVUVfQ0FOTk9UX0NPTlRBSU5fVU5ERUZJTkVEXCIsIGluZGV4LCBvcGVyYXRpb24sIGRvY3VtZW50KTtcblx0ZWxzZSBpZiAoZG9jdW1lbnQpIHtcblx0XHRpZiAob3BlcmF0aW9uLm9wID09IFwiYWRkXCIpIHtcblx0XHRcdHZhciBwYXRoTGVuID0gb3BlcmF0aW9uLnBhdGguc3BsaXQoXCIvXCIpLmxlbmd0aDtcblx0XHRcdHZhciBleGlzdGluZ1BhdGhMZW4gPSBleGlzdGluZ1BhdGhGcmFnbWVudC5zcGxpdChcIi9cIikubGVuZ3RoO1xuXHRcdFx0aWYgKHBhdGhMZW4gIT09IGV4aXN0aW5nUGF0aExlbiArIDEgJiYgcGF0aExlbiAhPT0gZXhpc3RpbmdQYXRoTGVuKSB0aHJvdyBuZXcgSnNvblBhdGNoRXJyb3IoXCJDYW5ub3QgcGVyZm9ybSBhbiBgYWRkYCBvcGVyYXRpb24gYXQgdGhlIGRlc2lyZWQgcGF0aFwiLCBcIk9QRVJBVElPTl9QQVRIX0NBTk5PVF9BRERcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuXHRcdH0gZWxzZSBpZiAob3BlcmF0aW9uLm9wID09PSBcInJlcGxhY2VcIiB8fCBvcGVyYXRpb24ub3AgPT09IFwicmVtb3ZlXCIgfHwgb3BlcmF0aW9uLm9wID09PSBcIl9nZXRcIikge1xuXHRcdFx0aWYgKG9wZXJhdGlvbi5wYXRoICE9PSBleGlzdGluZ1BhdGhGcmFnbWVudCkgdGhyb3cgbmV3IEpzb25QYXRjaEVycm9yKFwiQ2Fubm90IHBlcmZvcm0gdGhlIG9wZXJhdGlvbiBhdCBhIHBhdGggdGhhdCBkb2VzIG5vdCBleGlzdFwiLCBcIk9QRVJBVElPTl9QQVRIX1VOUkVTT0xWQUJMRVwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG5cdFx0fSBlbHNlIGlmIChvcGVyYXRpb24ub3AgPT09IFwibW92ZVwiIHx8IG9wZXJhdGlvbi5vcCA9PT0gXCJjb3B5XCIpIHtcblx0XHRcdHZhciBleGlzdGluZ1ZhbHVlID0ge1xuXHRcdFx0XHRvcDogXCJfZ2V0XCIsXG5cdFx0XHRcdHBhdGg6IG9wZXJhdGlvbi5mcm9tLFxuXHRcdFx0XHR2YWx1ZTogdm9pZCAwXG5cdFx0XHR9O1xuXHRcdFx0dmFyIGVycm9yID0gdmFsaWRhdGUoW2V4aXN0aW5nVmFsdWVdLCBkb2N1bWVudCk7XG5cdFx0XHRpZiAoZXJyb3IgJiYgZXJyb3IubmFtZSA9PT0gXCJPUEVSQVRJT05fUEFUSF9VTlJFU09MVkFCTEVcIikgdGhyb3cgbmV3IEpzb25QYXRjaEVycm9yKFwiQ2Fubm90IHBlcmZvcm0gdGhlIG9wZXJhdGlvbiBmcm9tIGEgcGF0aCB0aGF0IGRvZXMgbm90IGV4aXN0XCIsIFwiT1BFUkFUSU9OX0ZST01fVU5SRVNPTFZBQkxFXCIsIGluZGV4LCBvcGVyYXRpb24sIGRvY3VtZW50KTtcblx0XHR9XG5cdH1cbn1cbi8qKlxuKiBWYWxpZGF0ZXMgYSBzZXF1ZW5jZSBvZiBvcGVyYXRpb25zLiBJZiBgZG9jdW1lbnRgIHBhcmFtZXRlciBpcyBwcm92aWRlZCwgdGhlIHNlcXVlbmNlIGlzIGFkZGl0aW9uYWxseSB2YWxpZGF0ZWQgYWdhaW5zdCB0aGUgb2JqZWN0IGRvY3VtZW50LlxuKiBJZiBlcnJvciBpcyBlbmNvdW50ZXJlZCwgcmV0dXJucyBhIEpzb25QYXRjaEVycm9yIG9iamVjdFxuKiBAcGFyYW0gc2VxdWVuY2VcbiogQHBhcmFtIGRvY3VtZW50XG4qIEByZXR1cm5zIHtKc29uUGF0Y2hFcnJvcnx1bmRlZmluZWR9XG4qL1xuZnVuY3Rpb24gdmFsaWRhdGUoc2VxdWVuY2UsIGRvY3VtZW50LCBleHRlcm5hbFZhbGlkYXRvcikge1xuXHR0cnkge1xuXHRcdGlmICghQXJyYXkuaXNBcnJheShzZXF1ZW5jZSkpIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIlBhdGNoIHNlcXVlbmNlIG11c3QgYmUgYW4gYXJyYXlcIiwgXCJTRVFVRU5DRV9OT1RfQU5fQVJSQVlcIik7XG5cdFx0aWYgKGRvY3VtZW50KSBhcHBseVBhdGNoKF9kZWVwQ2xvbmUoZG9jdW1lbnQpLCBfZGVlcENsb25lKHNlcXVlbmNlKSwgZXh0ZXJuYWxWYWxpZGF0b3IgfHwgdHJ1ZSk7XG5cdFx0ZWxzZSB7XG5cdFx0XHRleHRlcm5hbFZhbGlkYXRvciA9IGV4dGVybmFsVmFsaWRhdG9yIHx8IHZhbGlkYXRvcjtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc2VxdWVuY2UubGVuZ3RoOyBpKyspIGV4dGVybmFsVmFsaWRhdG9yKHNlcXVlbmNlW2ldLCBpLCBkb2N1bWVudCwgdm9pZCAwKTtcblx0XHR9XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAoZSBpbnN0YW5jZW9mIEpzb25QYXRjaEVycm9yKSByZXR1cm4gZTtcblx0XHRlbHNlIHRocm93IGU7XG5cdH1cbn1cbmZ1bmN0aW9uIF9hcmVFcXVhbHMoYSwgYikge1xuXHRpZiAoYSA9PT0gYikgcmV0dXJuIHRydWU7XG5cdGlmIChhICYmIGIgJiYgdHlwZW9mIGEgPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgYiA9PSBcIm9iamVjdFwiKSB7XG5cdFx0dmFyIGFyckEgPSBBcnJheS5pc0FycmF5KGEpLCBhcnJCID0gQXJyYXkuaXNBcnJheShiKSwgaSwgbGVuZ3RoLCBrZXk7XG5cdFx0aWYgKGFyckEgJiYgYXJyQikge1xuXHRcdFx0bGVuZ3RoID0gYS5sZW5ndGg7XG5cdFx0XHRpZiAobGVuZ3RoICE9IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRmb3IgKGkgPSBsZW5ndGg7IGktLSAhPT0gMDspIGlmICghX2FyZUVxdWFscyhhW2ldLCBiW2ldKSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHRcdGlmIChhcnJBICE9IGFyckIpIHJldHVybiBmYWxzZTtcblx0XHR2YXIga2V5cyA9IE9iamVjdC5rZXlzKGEpO1xuXHRcdGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuXHRcdGlmIChsZW5ndGggIT09IE9iamVjdC5rZXlzKGIpLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuXHRcdGZvciAoaSA9IGxlbmd0aDsgaS0tICE9PSAwOykgaWYgKCFiLmhhc093blByb3BlcnR5KGtleXNbaV0pKSByZXR1cm4gZmFsc2U7XG5cdFx0Zm9yIChpID0gbGVuZ3RoOyBpLS0gIT09IDA7KSB7XG5cdFx0XHRrZXkgPSBrZXlzW2ldO1xuXHRcdFx0aWYgKCFfYXJlRXF1YWxzKGFba2V5XSwgYltrZXldKSkgcmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXHRyZXR1cm4gYSAhPT0gYSAmJiBiICE9PSBiO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IF9hcmVFcXVhbHMsIGFwcGx5T3BlcmF0aW9uLCBhcHBseVBhdGNoLCBhcHBseVJlZHVjZXIsIGNvcmVfZXhwb3J0cywgZ2V0VmFsdWVCeVBvaW50ZXIsIHZhbGlkYXRlLCB2YWxpZGF0b3IgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvcmUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/fast-json-patch/src/core.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/fast-json-patch/src/duplex.js":
/*!**************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/fast-json-patch/src/duplex.js ***!
  \**************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   compare: () => (/* binding */ compare)\n/* harmony export */ });\n/* harmony import */ var _helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./helpers.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/fast-json-patch/src/helpers.js\");\n/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./core.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/fast-json-patch/src/core.js\");\n\n\n\n//#region src/utils/fast-json-patch/src/duplex.ts\nfunction _generate(mirror, obj, patches, path, invertible) {\n\tif (obj === mirror) return;\n\tif (typeof obj.toJSON === \"function\") obj = obj.toJSON();\n\tvar newKeys = (0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__._objectKeys)(obj);\n\tvar oldKeys = (0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__._objectKeys)(mirror);\n\tvar changed = false;\n\tvar deleted = false;\n\tfor (var t = oldKeys.length - 1; t >= 0; t--) {\n\t\tvar key = oldKeys[t];\n\t\tvar oldVal = mirror[key];\n\t\tif ((0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__.hasOwnProperty)(obj, key) && !(obj[key] === void 0 && oldVal !== void 0 && Array.isArray(obj) === false)) {\n\t\t\tvar newVal = obj[key];\n\t\t\tif (typeof oldVal == \"object\" && oldVal != null && typeof newVal == \"object\" && newVal != null && Array.isArray(oldVal) === Array.isArray(newVal)) _generate(oldVal, newVal, patches, path + \"/\" + (0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__.escapePathComponent)(key), invertible);\n\t\t\telse if (oldVal !== newVal) {\n\t\t\t\tchanged = true;\n\t\t\t\tif (invertible) patches.push({\n\t\t\t\t\top: \"test\",\n\t\t\t\t\tpath: path + \"/\" + (0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__.escapePathComponent)(key),\n\t\t\t\t\tvalue: (0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__._deepClone)(oldVal)\n\t\t\t\t});\n\t\t\t\tpatches.push({\n\t\t\t\t\top: \"replace\",\n\t\t\t\t\tpath: path + \"/\" + (0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__.escapePathComponent)(key),\n\t\t\t\t\tvalue: (0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__._deepClone)(newVal)\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (Array.isArray(mirror) === Array.isArray(obj)) {\n\t\t\tif (invertible) patches.push({\n\t\t\t\top: \"test\",\n\t\t\t\tpath: path + \"/\" + (0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__.escapePathComponent)(key),\n\t\t\t\tvalue: (0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__._deepClone)(oldVal)\n\t\t\t});\n\t\t\tpatches.push({\n\t\t\t\top: \"remove\",\n\t\t\t\tpath: path + \"/\" + (0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__.escapePathComponent)(key)\n\t\t\t});\n\t\t\tdeleted = true;\n\t\t} else {\n\t\t\tif (invertible) patches.push({\n\t\t\t\top: \"test\",\n\t\t\t\tpath,\n\t\t\t\tvalue: mirror\n\t\t\t});\n\t\t\tpatches.push({\n\t\t\t\top: \"replace\",\n\t\t\t\tpath,\n\t\t\t\tvalue: obj\n\t\t\t});\n\t\t\tchanged = true;\n\t\t}\n\t}\n\tif (!deleted && newKeys.length == oldKeys.length) return;\n\tfor (var t = 0; t < newKeys.length; t++) {\n\t\tvar key = newKeys[t];\n\t\tif (!(0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__.hasOwnProperty)(mirror, key) && obj[key] !== void 0) patches.push({\n\t\t\top: \"add\",\n\t\t\tpath: path + \"/\" + (0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__.escapePathComponent)(key),\n\t\t\tvalue: (0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__._deepClone)(obj[key])\n\t\t});\n\t}\n}\n/**\n* Create an array of patches from the differences in two objects\n*/\nfunction compare(tree1, tree2, invertible = false) {\n\tvar patches = [];\n\t_generate(tree1, tree2, patches, \"\", invertible);\n\treturn patches;\n}\n\n//#endregion\n\n//# sourceMappingURL=duplex.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL2Zhc3QtanNvbi1wYXRjaC9zcmMvZHVwbGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE0RjtBQUN6RTs7QUFFbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHdEQUFXO0FBQzFCLGVBQWUsd0RBQVc7QUFDMUI7QUFDQTtBQUNBLGtDQUFrQyxRQUFRO0FBQzFDO0FBQ0E7QUFDQSxNQUFNLDJEQUFjO0FBQ3BCO0FBQ0Esc01BQXNNLGdFQUFtQjtBQUN6TjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnRUFBbUI7QUFDM0MsWUFBWSx1REFBVTtBQUN0QixLQUFLO0FBQ0w7QUFDQTtBQUNBLHdCQUF3QixnRUFBbUI7QUFDM0MsWUFBWSx1REFBVTtBQUN0QixLQUFLO0FBQ0w7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLHVCQUF1QixnRUFBbUI7QUFDMUMsV0FBVyx1REFBVTtBQUNyQixJQUFJO0FBQ0o7QUFDQTtBQUNBLHVCQUF1QixnRUFBbUI7QUFDMUMsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLG9CQUFvQjtBQUNyQztBQUNBLE9BQU8sMkRBQWM7QUFDckI7QUFDQSxzQkFBc0IsZ0VBQW1CO0FBQ3pDLFVBQVUsdURBQVU7QUFDcEIsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ21CO0FBQ25CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL2Zhc3QtanNvbi1wYXRjaC9zcmMvZHVwbGV4LmpzP2UzZjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX2RlZXBDbG9uZSwgX29iamVjdEtleXMsIGVzY2FwZVBhdGhDb21wb25lbnQsIGhhc093blByb3BlcnR5IH0gZnJvbSBcIi4vaGVscGVycy5qc1wiO1xuaW1wb3J0IFwiLi9jb3JlLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvZmFzdC1qc29uLXBhdGNoL3NyYy9kdXBsZXgudHNcbmZ1bmN0aW9uIF9nZW5lcmF0ZShtaXJyb3IsIG9iaiwgcGF0Y2hlcywgcGF0aCwgaW52ZXJ0aWJsZSkge1xuXHRpZiAob2JqID09PSBtaXJyb3IpIHJldHVybjtcblx0aWYgKHR5cGVvZiBvYmoudG9KU09OID09PSBcImZ1bmN0aW9uXCIpIG9iaiA9IG9iai50b0pTT04oKTtcblx0dmFyIG5ld0tleXMgPSBfb2JqZWN0S2V5cyhvYmopO1xuXHR2YXIgb2xkS2V5cyA9IF9vYmplY3RLZXlzKG1pcnJvcik7XG5cdHZhciBjaGFuZ2VkID0gZmFsc2U7XG5cdHZhciBkZWxldGVkID0gZmFsc2U7XG5cdGZvciAodmFyIHQgPSBvbGRLZXlzLmxlbmd0aCAtIDE7IHQgPj0gMDsgdC0tKSB7XG5cdFx0dmFyIGtleSA9IG9sZEtleXNbdF07XG5cdFx0dmFyIG9sZFZhbCA9IG1pcnJvcltrZXldO1xuXHRcdGlmIChoYXNPd25Qcm9wZXJ0eShvYmosIGtleSkgJiYgIShvYmpba2V5XSA9PT0gdm9pZCAwICYmIG9sZFZhbCAhPT0gdm9pZCAwICYmIEFycmF5LmlzQXJyYXkob2JqKSA9PT0gZmFsc2UpKSB7XG5cdFx0XHR2YXIgbmV3VmFsID0gb2JqW2tleV07XG5cdFx0XHRpZiAodHlwZW9mIG9sZFZhbCA9PSBcIm9iamVjdFwiICYmIG9sZFZhbCAhPSBudWxsICYmIHR5cGVvZiBuZXdWYWwgPT0gXCJvYmplY3RcIiAmJiBuZXdWYWwgIT0gbnVsbCAmJiBBcnJheS5pc0FycmF5KG9sZFZhbCkgPT09IEFycmF5LmlzQXJyYXkobmV3VmFsKSkgX2dlbmVyYXRlKG9sZFZhbCwgbmV3VmFsLCBwYXRjaGVzLCBwYXRoICsgXCIvXCIgKyBlc2NhcGVQYXRoQ29tcG9uZW50KGtleSksIGludmVydGlibGUpO1xuXHRcdFx0ZWxzZSBpZiAob2xkVmFsICE9PSBuZXdWYWwpIHtcblx0XHRcdFx0Y2hhbmdlZCA9IHRydWU7XG5cdFx0XHRcdGlmIChpbnZlcnRpYmxlKSBwYXRjaGVzLnB1c2goe1xuXHRcdFx0XHRcdG9wOiBcInRlc3RcIixcblx0XHRcdFx0XHRwYXRoOiBwYXRoICsgXCIvXCIgKyBlc2NhcGVQYXRoQ29tcG9uZW50KGtleSksXG5cdFx0XHRcdFx0dmFsdWU6IF9kZWVwQ2xvbmUob2xkVmFsKVxuXHRcdFx0XHR9KTtcblx0XHRcdFx0cGF0Y2hlcy5wdXNoKHtcblx0XHRcdFx0XHRvcDogXCJyZXBsYWNlXCIsXG5cdFx0XHRcdFx0cGF0aDogcGF0aCArIFwiL1wiICsgZXNjYXBlUGF0aENvbXBvbmVudChrZXkpLFxuXHRcdFx0XHRcdHZhbHVlOiBfZGVlcENsb25lKG5ld1ZhbClcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KG1pcnJvcikgPT09IEFycmF5LmlzQXJyYXkob2JqKSkge1xuXHRcdFx0aWYgKGludmVydGlibGUpIHBhdGNoZXMucHVzaCh7XG5cdFx0XHRcdG9wOiBcInRlc3RcIixcblx0XHRcdFx0cGF0aDogcGF0aCArIFwiL1wiICsgZXNjYXBlUGF0aENvbXBvbmVudChrZXkpLFxuXHRcdFx0XHR2YWx1ZTogX2RlZXBDbG9uZShvbGRWYWwpXG5cdFx0XHR9KTtcblx0XHRcdHBhdGNoZXMucHVzaCh7XG5cdFx0XHRcdG9wOiBcInJlbW92ZVwiLFxuXHRcdFx0XHRwYXRoOiBwYXRoICsgXCIvXCIgKyBlc2NhcGVQYXRoQ29tcG9uZW50KGtleSlcblx0XHRcdH0pO1xuXHRcdFx0ZGVsZXRlZCA9IHRydWU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmIChpbnZlcnRpYmxlKSBwYXRjaGVzLnB1c2goe1xuXHRcdFx0XHRvcDogXCJ0ZXN0XCIsXG5cdFx0XHRcdHBhdGgsXG5cdFx0XHRcdHZhbHVlOiBtaXJyb3Jcblx0XHRcdH0pO1xuXHRcdFx0cGF0Y2hlcy5wdXNoKHtcblx0XHRcdFx0b3A6IFwicmVwbGFjZVwiLFxuXHRcdFx0XHRwYXRoLFxuXHRcdFx0XHR2YWx1ZTogb2JqXG5cdFx0XHR9KTtcblx0XHRcdGNoYW5nZWQgPSB0cnVlO1xuXHRcdH1cblx0fVxuXHRpZiAoIWRlbGV0ZWQgJiYgbmV3S2V5cy5sZW5ndGggPT0gb2xkS2V5cy5sZW5ndGgpIHJldHVybjtcblx0Zm9yICh2YXIgdCA9IDA7IHQgPCBuZXdLZXlzLmxlbmd0aDsgdCsrKSB7XG5cdFx0dmFyIGtleSA9IG5ld0tleXNbdF07XG5cdFx0aWYgKCFoYXNPd25Qcm9wZXJ0eShtaXJyb3IsIGtleSkgJiYgb2JqW2tleV0gIT09IHZvaWQgMCkgcGF0Y2hlcy5wdXNoKHtcblx0XHRcdG9wOiBcImFkZFwiLFxuXHRcdFx0cGF0aDogcGF0aCArIFwiL1wiICsgZXNjYXBlUGF0aENvbXBvbmVudChrZXkpLFxuXHRcdFx0dmFsdWU6IF9kZWVwQ2xvbmUob2JqW2tleV0pXG5cdFx0fSk7XG5cdH1cbn1cbi8qKlxuKiBDcmVhdGUgYW4gYXJyYXkgb2YgcGF0Y2hlcyBmcm9tIHRoZSBkaWZmZXJlbmNlcyBpbiB0d28gb2JqZWN0c1xuKi9cbmZ1bmN0aW9uIGNvbXBhcmUodHJlZTEsIHRyZWUyLCBpbnZlcnRpYmxlID0gZmFsc2UpIHtcblx0dmFyIHBhdGNoZXMgPSBbXTtcblx0X2dlbmVyYXRlKHRyZWUxLCB0cmVlMiwgcGF0Y2hlcywgXCJcIiwgaW52ZXJ0aWJsZSk7XG5cdHJldHVybiBwYXRjaGVzO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IGNvbXBhcmUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWR1cGxleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/fast-json-patch/src/duplex.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/fast-json-patch/src/helpers.js":
/*!***************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/fast-json-patch/src/helpers.js ***!
  \***************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PatchError: () => (/* binding */ PatchError),\n/* harmony export */   _deepClone: () => (/* binding */ _deepClone),\n/* harmony export */   _objectKeys: () => (/* binding */ _objectKeys),\n/* harmony export */   escapePathComponent: () => (/* binding */ escapePathComponent),\n/* harmony export */   hasOwnProperty: () => (/* binding */ hasOwnProperty),\n/* harmony export */   hasUndefined: () => (/* binding */ hasUndefined),\n/* harmony export */   isInteger: () => (/* binding */ isInteger),\n/* harmony export */   unescapePathComponent: () => (/* binding */ unescapePathComponent)\n/* harmony export */ });\n//#region src/utils/fast-json-patch/src/helpers.ts\n/*!\n* https://github.com/Starcounter-Jack/JSON-Patch\n* (c) 2017-2022 Joachim Wester\n* MIT licensed\n*/\nconst _hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction hasOwnProperty(obj, key) {\n\treturn _hasOwnProperty.call(obj, key);\n}\nfunction _objectKeys(obj) {\n\tif (Array.isArray(obj)) {\n\t\tconst keys$1 = new Array(obj.length);\n\t\tfor (let k = 0; k < keys$1.length; k++) keys$1[k] = \"\" + k;\n\t\treturn keys$1;\n\t}\n\tif (Object.keys) return Object.keys(obj);\n\tlet keys = [];\n\tfor (let i in obj) if (hasOwnProperty(obj, i)) keys.push(i);\n\treturn keys;\n}\n/**\n* Deeply clone the object.\n* https://jsperf.com/deep-copy-vs-json-stringify-json-parse/25 (recursiveDeepCopy)\n* @param  {any} obj value to clone\n* @return {any} cloned obj\n*/\nfunction _deepClone(obj) {\n\tswitch (typeof obj) {\n\t\tcase \"object\": return JSON.parse(JSON.stringify(obj));\n\t\tcase \"undefined\": return null;\n\t\tdefault: return obj;\n\t}\n}\nfunction isInteger(str) {\n\tlet i = 0;\n\tconst len = str.length;\n\tlet charCode;\n\twhile (i < len) {\n\t\tcharCode = str.charCodeAt(i);\n\t\tif (charCode >= 48 && charCode <= 57) {\n\t\t\ti++;\n\t\t\tcontinue;\n\t\t}\n\t\treturn false;\n\t}\n\treturn true;\n}\n/**\n* Escapes a json pointer path\n* @param path The raw pointer\n* @return the Escaped path\n*/\nfunction escapePathComponent(path) {\n\tif (path.indexOf(\"/\") === -1 && path.indexOf(\"~\") === -1) return path;\n\treturn path.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\n}\n/**\n* Unescapes a json pointer path\n* @param path The escaped pointer\n* @return The unescaped path\n*/\nfunction unescapePathComponent(path) {\n\treturn path.replace(/~1/g, \"/\").replace(/~0/g, \"~\");\n}\n/**\n* Recursively checks whether an object has any undefined values inside.\n*/\nfunction hasUndefined(obj) {\n\tif (obj === void 0) return true;\n\tif (obj) {\n\t\tif (Array.isArray(obj)) {\n\t\t\tfor (let i$1 = 0, len = obj.length; i$1 < len; i$1++) if (hasUndefined(obj[i$1])) return true;\n\t\t} else if (typeof obj === \"object\") {\n\t\t\tconst objKeys = _objectKeys(obj);\n\t\t\tconst objKeysLength = objKeys.length;\n\t\t\tfor (var i = 0; i < objKeysLength; i++) if (hasUndefined(obj[objKeys[i]])) return true;\n\t\t}\n\t}\n\treturn false;\n}\nfunction patchErrorMessageFormatter(message, args) {\n\tconst messageParts = [message];\n\tfor (const key in args) {\n\t\tconst value = typeof args[key] === \"object\" ? JSON.stringify(args[key], null, 2) : args[key];\n\t\tif (typeof value !== \"undefined\") messageParts.push(`${key}: ${value}`);\n\t}\n\treturn messageParts.join(\"\\n\");\n}\nvar PatchError = class extends Error {\n\tconstructor(message, name, index, operation, tree) {\n\t\tsuper(patchErrorMessageFormatter(message, {\n\t\t\tname,\n\t\t\tindex,\n\t\t\toperation,\n\t\t\ttree\n\t\t}));\n\t\tthis.name = name;\n\t\tthis.index = index;\n\t\tthis.operation = operation;\n\t\tthis.tree = tree;\n\t\tObject.setPrototypeOf(this, new.target.prototype);\n\t\tthis.message = patchErrorMessageFormatter(message, {\n\t\t\tname,\n\t\t\tindex,\n\t\t\toperation,\n\t\t\ttree\n\t\t});\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=helpers.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL2Zhc3QtanNvbi1wYXRjaC9zcmMvaGVscGVycy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLG1CQUFtQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsS0FBSztBQUNoQixXQUFXLEtBQUs7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsV0FBVztBQUNsRCxJQUFJO0FBQ0o7QUFDQTtBQUNBLG1CQUFtQixtQkFBbUI7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxJQUFJLElBQUksTUFBTTtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ29JO0FBQ3BJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL2Zhc3QtanNvbi1wYXRjaC9zcmMvaGVscGVycy5qcz81ZjU0Il0sInNvdXJjZXNDb250ZW50IjpbIi8vI3JlZ2lvbiBzcmMvdXRpbHMvZmFzdC1qc29uLXBhdGNoL3NyYy9oZWxwZXJzLnRzXG4vKiFcbiogaHR0cHM6Ly9naXRodWIuY29tL1N0YXJjb3VudGVyLUphY2svSlNPTi1QYXRjaFxuKiAoYykgMjAxNy0yMDIyIEpvYWNoaW0gV2VzdGVyXG4qIE1JVCBsaWNlbnNlZFxuKi9cbmNvbnN0IF9oYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIGtleSkge1xuXHRyZXR1cm4gX2hhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpO1xufVxuZnVuY3Rpb24gX29iamVjdEtleXMob2JqKSB7XG5cdGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcblx0XHRjb25zdCBrZXlzJDEgPSBuZXcgQXJyYXkob2JqLmxlbmd0aCk7XG5cdFx0Zm9yIChsZXQgayA9IDA7IGsgPCBrZXlzJDEubGVuZ3RoOyBrKyspIGtleXMkMVtrXSA9IFwiXCIgKyBrO1xuXHRcdHJldHVybiBrZXlzJDE7XG5cdH1cblx0aWYgKE9iamVjdC5rZXlzKSByZXR1cm4gT2JqZWN0LmtleXMob2JqKTtcblx0bGV0IGtleXMgPSBbXTtcblx0Zm9yIChsZXQgaSBpbiBvYmopIGlmIChoYXNPd25Qcm9wZXJ0eShvYmosIGkpKSBrZXlzLnB1c2goaSk7XG5cdHJldHVybiBrZXlzO1xufVxuLyoqXG4qIERlZXBseSBjbG9uZSB0aGUgb2JqZWN0LlxuKiBodHRwczovL2pzcGVyZi5jb20vZGVlcC1jb3B5LXZzLWpzb24tc3RyaW5naWZ5LWpzb24tcGFyc2UvMjUgKHJlY3Vyc2l2ZURlZXBDb3B5KVxuKiBAcGFyYW0gIHthbnl9IG9iaiB2YWx1ZSB0byBjbG9uZVxuKiBAcmV0dXJuIHthbnl9IGNsb25lZCBvYmpcbiovXG5mdW5jdGlvbiBfZGVlcENsb25lKG9iaikge1xuXHRzd2l0Y2ggKHR5cGVvZiBvYmopIHtcblx0XHRjYXNlIFwib2JqZWN0XCI6IHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iaikpO1xuXHRcdGNhc2UgXCJ1bmRlZmluZWRcIjogcmV0dXJuIG51bGw7XG5cdFx0ZGVmYXVsdDogcmV0dXJuIG9iajtcblx0fVxufVxuZnVuY3Rpb24gaXNJbnRlZ2VyKHN0cikge1xuXHRsZXQgaSA9IDA7XG5cdGNvbnN0IGxlbiA9IHN0ci5sZW5ndGg7XG5cdGxldCBjaGFyQ29kZTtcblx0d2hpbGUgKGkgPCBsZW4pIHtcblx0XHRjaGFyQ29kZSA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuXHRcdGlmIChjaGFyQ29kZSA+PSA0OCAmJiBjaGFyQ29kZSA8PSA1Nykge1xuXHRcdFx0aSsrO1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHRyZXR1cm4gdHJ1ZTtcbn1cbi8qKlxuKiBFc2NhcGVzIGEganNvbiBwb2ludGVyIHBhdGhcbiogQHBhcmFtIHBhdGggVGhlIHJhdyBwb2ludGVyXG4qIEByZXR1cm4gdGhlIEVzY2FwZWQgcGF0aFxuKi9cbmZ1bmN0aW9uIGVzY2FwZVBhdGhDb21wb25lbnQocGF0aCkge1xuXHRpZiAocGF0aC5pbmRleE9mKFwiL1wiKSA9PT0gLTEgJiYgcGF0aC5pbmRleE9mKFwiflwiKSA9PT0gLTEpIHJldHVybiBwYXRoO1xuXHRyZXR1cm4gcGF0aC5yZXBsYWNlKC9+L2csIFwifjBcIikucmVwbGFjZSgvXFwvL2csIFwifjFcIik7XG59XG4vKipcbiogVW5lc2NhcGVzIGEganNvbiBwb2ludGVyIHBhdGhcbiogQHBhcmFtIHBhdGggVGhlIGVzY2FwZWQgcG9pbnRlclxuKiBAcmV0dXJuIFRoZSB1bmVzY2FwZWQgcGF0aFxuKi9cbmZ1bmN0aW9uIHVuZXNjYXBlUGF0aENvbXBvbmVudChwYXRoKSB7XG5cdHJldHVybiBwYXRoLnJlcGxhY2UoL34xL2csIFwiL1wiKS5yZXBsYWNlKC9+MC9nLCBcIn5cIik7XG59XG4vKipcbiogUmVjdXJzaXZlbHkgY2hlY2tzIHdoZXRoZXIgYW4gb2JqZWN0IGhhcyBhbnkgdW5kZWZpbmVkIHZhbHVlcyBpbnNpZGUuXG4qL1xuZnVuY3Rpb24gaGFzVW5kZWZpbmVkKG9iaikge1xuXHRpZiAob2JqID09PSB2b2lkIDApIHJldHVybiB0cnVlO1xuXHRpZiAob2JqKSB7XG5cdFx0aWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuXHRcdFx0Zm9yIChsZXQgaSQxID0gMCwgbGVuID0gb2JqLmxlbmd0aDsgaSQxIDwgbGVuOyBpJDErKykgaWYgKGhhc1VuZGVmaW5lZChvYmpbaSQxXSkpIHJldHVybiB0cnVlO1xuXHRcdH0gZWxzZSBpZiAodHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIikge1xuXHRcdFx0Y29uc3Qgb2JqS2V5cyA9IF9vYmplY3RLZXlzKG9iaik7XG5cdFx0XHRjb25zdCBvYmpLZXlzTGVuZ3RoID0gb2JqS2V5cy5sZW5ndGg7XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG9iaktleXNMZW5ndGg7IGkrKykgaWYgKGhhc1VuZGVmaW5lZChvYmpbb2JqS2V5c1tpXV0pKSByZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gcGF0Y2hFcnJvck1lc3NhZ2VGb3JtYXR0ZXIobWVzc2FnZSwgYXJncykge1xuXHRjb25zdCBtZXNzYWdlUGFydHMgPSBbbWVzc2FnZV07XG5cdGZvciAoY29uc3Qga2V5IGluIGFyZ3MpIHtcblx0XHRjb25zdCB2YWx1ZSA9IHR5cGVvZiBhcmdzW2tleV0gPT09IFwib2JqZWN0XCIgPyBKU09OLnN0cmluZ2lmeShhcmdzW2tleV0sIG51bGwsIDIpIDogYXJnc1trZXldO1xuXHRcdGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIG1lc3NhZ2VQYXJ0cy5wdXNoKGAke2tleX06ICR7dmFsdWV9YCk7XG5cdH1cblx0cmV0dXJuIG1lc3NhZ2VQYXJ0cy5qb2luKFwiXFxuXCIpO1xufVxudmFyIFBhdGNoRXJyb3IgPSBjbGFzcyBleHRlbmRzIEVycm9yIHtcblx0Y29uc3RydWN0b3IobWVzc2FnZSwgbmFtZSwgaW5kZXgsIG9wZXJhdGlvbiwgdHJlZSkge1xuXHRcdHN1cGVyKHBhdGNoRXJyb3JNZXNzYWdlRm9ybWF0dGVyKG1lc3NhZ2UsIHtcblx0XHRcdG5hbWUsXG5cdFx0XHRpbmRleCxcblx0XHRcdG9wZXJhdGlvbixcblx0XHRcdHRyZWVcblx0XHR9KSk7XG5cdFx0dGhpcy5uYW1lID0gbmFtZTtcblx0XHR0aGlzLmluZGV4ID0gaW5kZXg7XG5cdFx0dGhpcy5vcGVyYXRpb24gPSBvcGVyYXRpb247XG5cdFx0dGhpcy50cmVlID0gdHJlZTtcblx0XHRPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgbmV3LnRhcmdldC5wcm90b3R5cGUpO1xuXHRcdHRoaXMubWVzc2FnZSA9IHBhdGNoRXJyb3JNZXNzYWdlRm9ybWF0dGVyKG1lc3NhZ2UsIHtcblx0XHRcdG5hbWUsXG5cdFx0XHRpbmRleCxcblx0XHRcdG9wZXJhdGlvbixcblx0XHRcdHRyZWVcblx0XHR9KTtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBQYXRjaEVycm9yLCBfZGVlcENsb25lLCBfb2JqZWN0S2V5cywgZXNjYXBlUGF0aENvbXBvbmVudCwgaGFzT3duUHJvcGVydHksIGhhc1VuZGVmaW5lZCwgaXNJbnRlZ2VyLCB1bmVzY2FwZVBhdGhDb21wb25lbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhlbHBlcnMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/fast-json-patch/src/helpers.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/function_calling.js":
/*!****************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/function_calling.js ***!
  \****************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   convertToOpenAIFunction: () => (/* binding */ convertToOpenAIFunction),\n/* harmony export */   convertToOpenAITool: () => (/* binding */ convertToOpenAITool),\n/* harmony export */   function_calling_exports: () => (/* binding */ function_calling_exports),\n/* harmony export */   isLangChainTool: () => (/* reexport safe */ _tools_types_js__WEBPACK_IMPORTED_MODULE_2__.isLangChainTool),\n/* harmony export */   isRunnableToolLike: () => (/* reexport safe */ _tools_types_js__WEBPACK_IMPORTED_MODULE_2__.isRunnableToolLike),\n/* harmony export */   isStructuredTool: () => (/* reexport safe */ _tools_types_js__WEBPACK_IMPORTED_MODULE_2__.isStructuredTool),\n/* harmony export */   isStructuredToolParams: () => (/* reexport safe */ _tools_types_js__WEBPACK_IMPORTED_MODULE_2__.isStructuredToolParams)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _json_schema_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./json_schema.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/json_schema.js\");\n/* harmony import */ var _tools_types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tools/types.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/tools/types.js\");\n\n\n\n\n//#region src/utils/function_calling.ts\nvar function_calling_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(function_calling_exports, {\n\tconvertToOpenAIFunction: () => convertToOpenAIFunction,\n\tconvertToOpenAITool: () => convertToOpenAITool,\n\tisLangChainTool: () => _tools_types_js__WEBPACK_IMPORTED_MODULE_2__.isLangChainTool,\n\tisRunnableToolLike: () => _tools_types_js__WEBPACK_IMPORTED_MODULE_2__.isRunnableToolLike,\n\tisStructuredTool: () => _tools_types_js__WEBPACK_IMPORTED_MODULE_2__.isStructuredTool,\n\tisStructuredToolParams: () => _tools_types_js__WEBPACK_IMPORTED_MODULE_2__.isStructuredToolParams\n});\n/**\n* Formats a `StructuredTool` or `RunnableToolLike` instance into a format\n* that is compatible with OpenAI function calling. If `StructuredTool` or\n* `RunnableToolLike` has a zod schema, the output will be converted into a\n* JSON schema, which is then used as the parameters for the OpenAI tool.\n*\n* @param {StructuredToolInterface | RunnableToolLike} tool The tool to convert to an OpenAI function.\n* @returns {FunctionDefinition} The inputted tool in OpenAI function format.\n*/\nfunction convertToOpenAIFunction(tool, fields) {\n\tconst fieldsCopy = typeof fields === \"number\" ? void 0 : fields;\n\treturn {\n\t\tname: tool.name,\n\t\tdescription: tool.description,\n\t\tparameters: (0,_json_schema_js__WEBPACK_IMPORTED_MODULE_1__.toJsonSchema)(tool.schema),\n\t\t...fieldsCopy?.strict !== void 0 ? { strict: fieldsCopy.strict } : {}\n\t};\n}\n/**\n* Formats a `StructuredTool` or `RunnableToolLike` instance into a\n* format that is compatible with OpenAI tool calling. If `StructuredTool` or\n* `RunnableToolLike` has a zod schema, the output will be converted into a\n* JSON schema, which is then used as the parameters for the OpenAI tool.\n*\n* @param {StructuredToolInterface | Record<string, any> | RunnableToolLike} tool The tool to convert to an OpenAI tool.\n* @returns {ToolDefinition} The inputted tool in OpenAI tool format.\n*/\nfunction convertToOpenAITool(tool, fields) {\n\tconst fieldsCopy = typeof fields === \"number\" ? void 0 : fields;\n\tlet toolDef;\n\tif ((0,_tools_types_js__WEBPACK_IMPORTED_MODULE_2__.isLangChainTool)(tool)) toolDef = {\n\t\ttype: \"function\",\n\t\tfunction: convertToOpenAIFunction(tool)\n\t};\n\telse toolDef = tool;\n\tif (fieldsCopy?.strict !== void 0) toolDef.function.strict = fieldsCopy.strict;\n\treturn toolDef;\n}\n\n//#endregion\n\n//# sourceMappingURL=function_calling.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL2Z1bmN0aW9uX2NhbGxpbmcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUEyRDtBQUNYO0FBQ2tFOztBQUVsSDtBQUNBO0FBQ0Esc0VBQVE7QUFDUjtBQUNBO0FBQ0Esd0JBQXdCLDREQUFlO0FBQ3ZDLDJCQUEyQiwrREFBa0I7QUFDN0MseUJBQXlCLDZEQUFnQjtBQUN6QywrQkFBK0IsbUVBQXNCO0FBQ3JELENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLDRDQUE0QztBQUN0RCxZQUFZLG9CQUFvQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDZEQUFZO0FBQzFCLHVDQUF1Qyw0QkFBNEI7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsa0VBQWtFO0FBQzVFLFlBQVksZ0JBQWdCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxnRUFBZTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNpSztBQUNqSyIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9mdW5jdGlvbl9jYWxsaW5nLmpzP2M1MDAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19leHBvcnQgfSBmcm9tIFwiLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5qc1wiO1xuaW1wb3J0IHsgdG9Kc29uU2NoZW1hIH0gZnJvbSBcIi4vanNvbl9zY2hlbWEuanNcIjtcbmltcG9ydCB7IGlzTGFuZ0NoYWluVG9vbCwgaXNSdW5uYWJsZVRvb2xMaWtlLCBpc1N0cnVjdHVyZWRUb29sLCBpc1N0cnVjdHVyZWRUb29sUGFyYW1zIH0gZnJvbSBcIi4uL3Rvb2xzL3R5cGVzLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvZnVuY3Rpb25fY2FsbGluZy50c1xudmFyIGZ1bmN0aW9uX2NhbGxpbmdfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQoZnVuY3Rpb25fY2FsbGluZ19leHBvcnRzLCB7XG5cdGNvbnZlcnRUb09wZW5BSUZ1bmN0aW9uOiAoKSA9PiBjb252ZXJ0VG9PcGVuQUlGdW5jdGlvbixcblx0Y29udmVydFRvT3BlbkFJVG9vbDogKCkgPT4gY29udmVydFRvT3BlbkFJVG9vbCxcblx0aXNMYW5nQ2hhaW5Ub29sOiAoKSA9PiBpc0xhbmdDaGFpblRvb2wsXG5cdGlzUnVubmFibGVUb29sTGlrZTogKCkgPT4gaXNSdW5uYWJsZVRvb2xMaWtlLFxuXHRpc1N0cnVjdHVyZWRUb29sOiAoKSA9PiBpc1N0cnVjdHVyZWRUb29sLFxuXHRpc1N0cnVjdHVyZWRUb29sUGFyYW1zOiAoKSA9PiBpc1N0cnVjdHVyZWRUb29sUGFyYW1zXG59KTtcbi8qKlxuKiBGb3JtYXRzIGEgYFN0cnVjdHVyZWRUb29sYCBvciBgUnVubmFibGVUb29sTGlrZWAgaW5zdGFuY2UgaW50byBhIGZvcm1hdFxuKiB0aGF0IGlzIGNvbXBhdGlibGUgd2l0aCBPcGVuQUkgZnVuY3Rpb24gY2FsbGluZy4gSWYgYFN0cnVjdHVyZWRUb29sYCBvclxuKiBgUnVubmFibGVUb29sTGlrZWAgaGFzIGEgem9kIHNjaGVtYSwgdGhlIG91dHB1dCB3aWxsIGJlIGNvbnZlcnRlZCBpbnRvIGFcbiogSlNPTiBzY2hlbWEsIHdoaWNoIGlzIHRoZW4gdXNlZCBhcyB0aGUgcGFyYW1ldGVycyBmb3IgdGhlIE9wZW5BSSB0b29sLlxuKlxuKiBAcGFyYW0ge1N0cnVjdHVyZWRUb29sSW50ZXJmYWNlIHwgUnVubmFibGVUb29sTGlrZX0gdG9vbCBUaGUgdG9vbCB0byBjb252ZXJ0IHRvIGFuIE9wZW5BSSBmdW5jdGlvbi5cbiogQHJldHVybnMge0Z1bmN0aW9uRGVmaW5pdGlvbn0gVGhlIGlucHV0dGVkIHRvb2wgaW4gT3BlbkFJIGZ1bmN0aW9uIGZvcm1hdC5cbiovXG5mdW5jdGlvbiBjb252ZXJ0VG9PcGVuQUlGdW5jdGlvbih0b29sLCBmaWVsZHMpIHtcblx0Y29uc3QgZmllbGRzQ29weSA9IHR5cGVvZiBmaWVsZHMgPT09IFwibnVtYmVyXCIgPyB2b2lkIDAgOiBmaWVsZHM7XG5cdHJldHVybiB7XG5cdFx0bmFtZTogdG9vbC5uYW1lLFxuXHRcdGRlc2NyaXB0aW9uOiB0b29sLmRlc2NyaXB0aW9uLFxuXHRcdHBhcmFtZXRlcnM6IHRvSnNvblNjaGVtYSh0b29sLnNjaGVtYSksXG5cdFx0Li4uZmllbGRzQ29weT8uc3RyaWN0ICE9PSB2b2lkIDAgPyB7IHN0cmljdDogZmllbGRzQ29weS5zdHJpY3QgfSA6IHt9XG5cdH07XG59XG4vKipcbiogRm9ybWF0cyBhIGBTdHJ1Y3R1cmVkVG9vbGAgb3IgYFJ1bm5hYmxlVG9vbExpa2VgIGluc3RhbmNlIGludG8gYVxuKiBmb3JtYXQgdGhhdCBpcyBjb21wYXRpYmxlIHdpdGggT3BlbkFJIHRvb2wgY2FsbGluZy4gSWYgYFN0cnVjdHVyZWRUb29sYCBvclxuKiBgUnVubmFibGVUb29sTGlrZWAgaGFzIGEgem9kIHNjaGVtYSwgdGhlIG91dHB1dCB3aWxsIGJlIGNvbnZlcnRlZCBpbnRvIGFcbiogSlNPTiBzY2hlbWEsIHdoaWNoIGlzIHRoZW4gdXNlZCBhcyB0aGUgcGFyYW1ldGVycyBmb3IgdGhlIE9wZW5BSSB0b29sLlxuKlxuKiBAcGFyYW0ge1N0cnVjdHVyZWRUb29sSW50ZXJmYWNlIHwgUmVjb3JkPHN0cmluZywgYW55PiB8IFJ1bm5hYmxlVG9vbExpa2V9IHRvb2wgVGhlIHRvb2wgdG8gY29udmVydCB0byBhbiBPcGVuQUkgdG9vbC5cbiogQHJldHVybnMge1Rvb2xEZWZpbml0aW9ufSBUaGUgaW5wdXR0ZWQgdG9vbCBpbiBPcGVuQUkgdG9vbCBmb3JtYXQuXG4qL1xuZnVuY3Rpb24gY29udmVydFRvT3BlbkFJVG9vbCh0b29sLCBmaWVsZHMpIHtcblx0Y29uc3QgZmllbGRzQ29weSA9IHR5cGVvZiBmaWVsZHMgPT09IFwibnVtYmVyXCIgPyB2b2lkIDAgOiBmaWVsZHM7XG5cdGxldCB0b29sRGVmO1xuXHRpZiAoaXNMYW5nQ2hhaW5Ub29sKHRvb2wpKSB0b29sRGVmID0ge1xuXHRcdHR5cGU6IFwiZnVuY3Rpb25cIixcblx0XHRmdW5jdGlvbjogY29udmVydFRvT3BlbkFJRnVuY3Rpb24odG9vbClcblx0fTtcblx0ZWxzZSB0b29sRGVmID0gdG9vbDtcblx0aWYgKGZpZWxkc0NvcHk/LnN0cmljdCAhPT0gdm9pZCAwKSB0b29sRGVmLmZ1bmN0aW9uLnN0cmljdCA9IGZpZWxkc0NvcHkuc3RyaWN0O1xuXHRyZXR1cm4gdG9vbERlZjtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBjb252ZXJ0VG9PcGVuQUlGdW5jdGlvbiwgY29udmVydFRvT3BlbkFJVG9vbCwgZnVuY3Rpb25fY2FsbGluZ19leHBvcnRzLCBpc0xhbmdDaGFpblRvb2wsIGlzUnVubmFibGVUb29sTGlrZSwgaXNTdHJ1Y3R1cmVkVG9vbCwgaXNTdHJ1Y3R1cmVkVG9vbFBhcmFtcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnVuY3Rpb25fY2FsbGluZy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/function_calling.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/hash.js":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/hash.js ***!
  \****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   hash_exports: () => (/* binding */ hash_exports),\n/* harmony export */   sha256: () => (/* reexport safe */ _js_sha256_hash_js__WEBPACK_IMPORTED_MODULE_1__.sha256)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _js_sha256_hash_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./js-sha256/hash.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/js-sha256/hash.js\");\n\n\n\n//#region src/utils/hash.ts\nvar hash_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(hash_exports, { sha256: () => _js_sha256_hash_js__WEBPACK_IMPORTED_MODULE_1__.sha256 });\n\n//#endregion\n\n//# sourceMappingURL=hash.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL2hhc2guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEyRDtBQUNkOztBQUU3QztBQUNBO0FBQ0Esc0VBQVEsaUJBQWlCLGNBQWMsc0RBQU0sRUFBRTs7QUFFL0M7QUFDZ0M7QUFDaEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvaGFzaC5qcz84NGFmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fZXhwb3J0IH0gZnJvbSBcIi4uL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuanNcIjtcbmltcG9ydCB7IHNoYTI1NiB9IGZyb20gXCIuL2pzLXNoYTI1Ni9oYXNoLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvaGFzaC50c1xudmFyIGhhc2hfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQoaGFzaF9leHBvcnRzLCB7IHNoYTI1NjogKCkgPT4gc2hhMjU2IH0pO1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IGhhc2hfZXhwb3J0cywgc2hhMjU2IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1oYXNoLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/hash.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/is-network-error/index.js":
/*!**********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/is-network-error/index.js ***!
  \**********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isNetworkError: () => (/* binding */ isNetworkError)\n/* harmony export */ });\n//#region src/utils/is-network-error/index.js\nconst objectToString = Object.prototype.toString;\nconst isError = (value) => objectToString.call(value) === \"[object Error]\";\nconst errorMessages = new Set([\n\t\"network error\",\n\t\"Failed to fetch\",\n\t\"NetworkError when attempting to fetch resource.\",\n\t\"The Internet connection appears to be offline.\",\n\t\"Network request failed\",\n\t\"fetch failed\",\n\t\"terminated\",\n\t\" A network error occurred.\",\n\t\"Network connection lost\"\n]);\nfunction isNetworkError(error) {\n\tconst isValid = error && isError(error) && error.name === \"TypeError\" && typeof error.message === \"string\";\n\tif (!isValid) return false;\n\tconst { message, stack } = error;\n\tif (message === \"Load failed\") return stack === void 0 || \"__sentry_captured__\" in error;\n\tif (message.startsWith(\"error sending request for url\")) return true;\n\treturn errorMessages.has(message);\n}\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL2lzLW5ldHdvcmstZXJyb3IvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLGlCQUFpQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUMwQjtBQUMxQiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9pcy1uZXR3b3JrLWVycm9yL2luZGV4LmpzPzdhMGUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8jcmVnaW9uIHNyYy91dGlscy9pcy1uZXR3b3JrLWVycm9yL2luZGV4LmpzXG5jb25zdCBvYmplY3RUb1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5jb25zdCBpc0Vycm9yID0gKHZhbHVlKSA9PiBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gXCJbb2JqZWN0IEVycm9yXVwiO1xuY29uc3QgZXJyb3JNZXNzYWdlcyA9IG5ldyBTZXQoW1xuXHRcIm5ldHdvcmsgZXJyb3JcIixcblx0XCJGYWlsZWQgdG8gZmV0Y2hcIixcblx0XCJOZXR3b3JrRXJyb3Igd2hlbiBhdHRlbXB0aW5nIHRvIGZldGNoIHJlc291cmNlLlwiLFxuXHRcIlRoZSBJbnRlcm5ldCBjb25uZWN0aW9uIGFwcGVhcnMgdG8gYmUgb2ZmbGluZS5cIixcblx0XCJOZXR3b3JrIHJlcXVlc3QgZmFpbGVkXCIsXG5cdFwiZmV0Y2ggZmFpbGVkXCIsXG5cdFwidGVybWluYXRlZFwiLFxuXHRcIiBBIG5ldHdvcmsgZXJyb3Igb2NjdXJyZWQuXCIsXG5cdFwiTmV0d29yayBjb25uZWN0aW9uIGxvc3RcIlxuXSk7XG5mdW5jdGlvbiBpc05ldHdvcmtFcnJvcihlcnJvcikge1xuXHRjb25zdCBpc1ZhbGlkID0gZXJyb3IgJiYgaXNFcnJvcihlcnJvcikgJiYgZXJyb3IubmFtZSA9PT0gXCJUeXBlRXJyb3JcIiAmJiB0eXBlb2YgZXJyb3IubWVzc2FnZSA9PT0gXCJzdHJpbmdcIjtcblx0aWYgKCFpc1ZhbGlkKSByZXR1cm4gZmFsc2U7XG5cdGNvbnN0IHsgbWVzc2FnZSwgc3RhY2sgfSA9IGVycm9yO1xuXHRpZiAobWVzc2FnZSA9PT0gXCJMb2FkIGZhaWxlZFwiKSByZXR1cm4gc3RhY2sgPT09IHZvaWQgMCB8fCBcIl9fc2VudHJ5X2NhcHR1cmVkX19cIiBpbiBlcnJvcjtcblx0aWYgKG1lc3NhZ2Uuc3RhcnRzV2l0aChcImVycm9yIHNlbmRpbmcgcmVxdWVzdCBmb3IgdXJsXCIpKSByZXR1cm4gdHJ1ZTtcblx0cmV0dXJuIGVycm9yTWVzc2FnZXMuaGFzKG1lc3NhZ2UpO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IGlzTmV0d29ya0Vycm9yIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/is-network-error/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/js-sha256/hash.js":
/*!**************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/js-sha256/hash.js ***!
  \**************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sha256: () => (/* binding */ sha256)\n/* harmony export */ });\n\n\n//#region src/utils/js-sha256/hash.ts\nvar HEX_CHARS = \"0123456789abcdef\".split(\"\");\nvar EXTRA = [\n\t-2147483648,\n\t8388608,\n\t32768,\n\t128\n];\nvar SHIFT = [\n\t24,\n\t16,\n\t8,\n\t0\n];\nvar K = [\n\t1116352408,\n\t1899447441,\n\t3049323471,\n\t3921009573,\n\t961987163,\n\t1508970993,\n\t2453635748,\n\t2870763221,\n\t3624381080,\n\t310598401,\n\t607225278,\n\t1426881987,\n\t1925078388,\n\t2162078206,\n\t2614888103,\n\t3248222580,\n\t3835390401,\n\t4022224774,\n\t264347078,\n\t604807628,\n\t770255983,\n\t1249150122,\n\t1555081692,\n\t1996064986,\n\t2554220882,\n\t2821834349,\n\t2952996808,\n\t3210313671,\n\t3336571891,\n\t3584528711,\n\t113926993,\n\t338241895,\n\t666307205,\n\t773529912,\n\t1294757372,\n\t1396182291,\n\t1695183700,\n\t1986661051,\n\t2177026350,\n\t2456956037,\n\t2730485921,\n\t2820302411,\n\t3259730800,\n\t3345764771,\n\t3516065817,\n\t3600352804,\n\t4094571909,\n\t275423344,\n\t430227734,\n\t506948616,\n\t659060556,\n\t883997877,\n\t958139571,\n\t1322822218,\n\t1537002063,\n\t1747873779,\n\t1955562222,\n\t2024104815,\n\t2227730452,\n\t2361852424,\n\t2428436474,\n\t2756734187,\n\t3204031479,\n\t3329325298\n];\nvar blocks = [];\nfunction Sha256(is224, sharedMemory) {\n\tif (sharedMemory) {\n\t\tblocks[0] = blocks[16] = blocks[1] = blocks[2] = blocks[3] = blocks[4] = blocks[5] = blocks[6] = blocks[7] = blocks[8] = blocks[9] = blocks[10] = blocks[11] = blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n\t\tthis.blocks = blocks;\n\t} else this.blocks = [\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0\n\t];\n\tif (is224) {\n\t\tthis.h0 = 3238371032;\n\t\tthis.h1 = 914150663;\n\t\tthis.h2 = 812702999;\n\t\tthis.h3 = 4144912697;\n\t\tthis.h4 = 4290775857;\n\t\tthis.h5 = 1750603025;\n\t\tthis.h6 = 1694076839;\n\t\tthis.h7 = 3204075428;\n\t} else {\n\t\tthis.h0 = 1779033703;\n\t\tthis.h1 = 3144134277;\n\t\tthis.h2 = 1013904242;\n\t\tthis.h3 = 2773480762;\n\t\tthis.h4 = 1359893119;\n\t\tthis.h5 = 2600822924;\n\t\tthis.h6 = 528734635;\n\t\tthis.h7 = 1541459225;\n\t}\n\tthis.block = this.start = this.bytes = this.hBytes = 0;\n\tthis.finalized = this.hashed = false;\n\tthis.first = true;\n\tthis.is224 = is224;\n}\nSha256.prototype.update = function(message) {\n\tif (this.finalized) return;\n\tvar notString, type = typeof message;\n\tif (type !== \"string\") {\n\t\tif (type === \"object\") {\n\t\t\tif (message === null) throw new Error(ERROR);\n\t\t\telse if (ARRAY_BUFFER && message.constructor === ArrayBuffer) message = new Uint8Array(message);\n\t\t\telse if (!Array.isArray(message)) {\n\t\t\t\tif (!ARRAY_BUFFER || !ArrayBuffer.isView(message)) throw new Error(ERROR);\n\t\t\t}\n\t\t} else throw new Error(ERROR);\n\t\tnotString = true;\n\t}\n\tvar code, index = 0, i, length = message.length, blocks$1 = this.blocks;\n\twhile (index < length) {\n\t\tif (this.hashed) {\n\t\t\tthis.hashed = false;\n\t\t\tblocks$1[0] = this.block;\n\t\t\tthis.block = blocks$1[16] = blocks$1[1] = blocks$1[2] = blocks$1[3] = blocks$1[4] = blocks$1[5] = blocks$1[6] = blocks$1[7] = blocks$1[8] = blocks$1[9] = blocks$1[10] = blocks$1[11] = blocks$1[12] = blocks$1[13] = blocks$1[14] = blocks$1[15] = 0;\n\t\t}\n\t\tif (notString) for (i = this.start; index < length && i < 64; ++index) blocks$1[i >>> 2] |= message[index] << SHIFT[i++ & 3];\n\t\telse for (i = this.start; index < length && i < 64; ++index) {\n\t\t\tcode = message.charCodeAt(index);\n\t\t\tif (code < 128) blocks$1[i >>> 2] |= code << SHIFT[i++ & 3];\n\t\t\telse if (code < 2048) {\n\t\t\t\tblocks$1[i >>> 2] |= (192 | code >>> 6) << SHIFT[i++ & 3];\n\t\t\t\tblocks$1[i >>> 2] |= (128 | code & 63) << SHIFT[i++ & 3];\n\t\t\t} else if (code < 55296 || code >= 57344) {\n\t\t\t\tblocks$1[i >>> 2] |= (224 | code >>> 12) << SHIFT[i++ & 3];\n\t\t\t\tblocks$1[i >>> 2] |= (128 | code >>> 6 & 63) << SHIFT[i++ & 3];\n\t\t\t\tblocks$1[i >>> 2] |= (128 | code & 63) << SHIFT[i++ & 3];\n\t\t\t} else {\n\t\t\t\tcode = 65536 + ((code & 1023) << 10 | message.charCodeAt(++index) & 1023);\n\t\t\t\tblocks$1[i >>> 2] |= (240 | code >>> 18) << SHIFT[i++ & 3];\n\t\t\t\tblocks$1[i >>> 2] |= (128 | code >>> 12 & 63) << SHIFT[i++ & 3];\n\t\t\t\tblocks$1[i >>> 2] |= (128 | code >>> 6 & 63) << SHIFT[i++ & 3];\n\t\t\t\tblocks$1[i >>> 2] |= (128 | code & 63) << SHIFT[i++ & 3];\n\t\t\t}\n\t\t}\n\t\tthis.lastByteIndex = i;\n\t\tthis.bytes += i - this.start;\n\t\tif (i >= 64) {\n\t\t\tthis.block = blocks$1[16];\n\t\t\tthis.start = i - 64;\n\t\t\tthis.hash();\n\t\t\tthis.hashed = true;\n\t\t} else this.start = i;\n\t}\n\tif (this.bytes > 4294967295) {\n\t\tthis.hBytes += this.bytes / 4294967296 << 0;\n\t\tthis.bytes = this.bytes % 4294967296;\n\t}\n\treturn this;\n};\nSha256.prototype.finalize = function() {\n\tif (this.finalized) return;\n\tthis.finalized = true;\n\tvar blocks$1 = this.blocks, i = this.lastByteIndex;\n\tblocks$1[16] = this.block;\n\tblocks$1[i >>> 2] |= EXTRA[i & 3];\n\tthis.block = blocks$1[16];\n\tif (i >= 56) {\n\t\tif (!this.hashed) this.hash();\n\t\tblocks$1[0] = this.block;\n\t\tblocks$1[16] = blocks$1[1] = blocks$1[2] = blocks$1[3] = blocks$1[4] = blocks$1[5] = blocks$1[6] = blocks$1[7] = blocks$1[8] = blocks$1[9] = blocks$1[10] = blocks$1[11] = blocks$1[12] = blocks$1[13] = blocks$1[14] = blocks$1[15] = 0;\n\t}\n\tblocks$1[14] = this.hBytes << 3 | this.bytes >>> 29;\n\tblocks$1[15] = this.bytes << 3;\n\tthis.hash();\n};\nSha256.prototype.hash = function() {\n\tvar a = this.h0, b = this.h1, c = this.h2, d = this.h3, e = this.h4, f = this.h5, g = this.h6, h = this.h7, blocks$1 = this.blocks, j, s0, s1, maj, t1, t2, ch, ab, da, cd, bc;\n\tfor (j = 16; j < 64; ++j) {\n\t\tt1 = blocks$1[j - 15];\n\t\ts0 = (t1 >>> 7 | t1 << 25) ^ (t1 >>> 18 | t1 << 14) ^ t1 >>> 3;\n\t\tt1 = blocks$1[j - 2];\n\t\ts1 = (t1 >>> 17 | t1 << 15) ^ (t1 >>> 19 | t1 << 13) ^ t1 >>> 10;\n\t\tblocks$1[j] = blocks$1[j - 16] + s0 + blocks$1[j - 7] + s1 << 0;\n\t}\n\tbc = b & c;\n\tfor (j = 0; j < 64; j += 4) {\n\t\tif (this.first) {\n\t\t\tif (this.is224) {\n\t\t\t\tab = 300032;\n\t\t\t\tt1 = blocks$1[0] - 1413257819;\n\t\t\t\th = t1 - 150054599 << 0;\n\t\t\t\td = t1 + 24177077 << 0;\n\t\t\t} else {\n\t\t\t\tab = 704751109;\n\t\t\t\tt1 = blocks$1[0] - 210244248;\n\t\t\t\th = t1 - 1521486534 << 0;\n\t\t\t\td = t1 + 143694565 << 0;\n\t\t\t}\n\t\t\tthis.first = false;\n\t\t} else {\n\t\t\ts0 = (a >>> 2 | a << 30) ^ (a >>> 13 | a << 19) ^ (a >>> 22 | a << 10);\n\t\t\ts1 = (e >>> 6 | e << 26) ^ (e >>> 11 | e << 21) ^ (e >>> 25 | e << 7);\n\t\t\tab = a & b;\n\t\t\tmaj = ab ^ a & c ^ bc;\n\t\t\tch = e & f ^ ~e & g;\n\t\t\tt1 = h + s1 + ch + K[j] + blocks$1[j];\n\t\t\tt2 = s0 + maj;\n\t\t\th = d + t1 << 0;\n\t\t\td = t1 + t2 << 0;\n\t\t}\n\t\ts0 = (d >>> 2 | d << 30) ^ (d >>> 13 | d << 19) ^ (d >>> 22 | d << 10);\n\t\ts1 = (h >>> 6 | h << 26) ^ (h >>> 11 | h << 21) ^ (h >>> 25 | h << 7);\n\t\tda = d & a;\n\t\tmaj = da ^ d & b ^ ab;\n\t\tch = g & h ^ ~g & e;\n\t\tt1 = f + s1 + ch + K[j + 1] + blocks$1[j + 1];\n\t\tt2 = s0 + maj;\n\t\tg = c + t1 << 0;\n\t\tc = t1 + t2 << 0;\n\t\ts0 = (c >>> 2 | c << 30) ^ (c >>> 13 | c << 19) ^ (c >>> 22 | c << 10);\n\t\ts1 = (g >>> 6 | g << 26) ^ (g >>> 11 | g << 21) ^ (g >>> 25 | g << 7);\n\t\tcd = c & d;\n\t\tmaj = cd ^ c & a ^ da;\n\t\tch = f & g ^ ~f & h;\n\t\tt1 = e + s1 + ch + K[j + 2] + blocks$1[j + 2];\n\t\tt2 = s0 + maj;\n\t\tf = b + t1 << 0;\n\t\tb = t1 + t2 << 0;\n\t\ts0 = (b >>> 2 | b << 30) ^ (b >>> 13 | b << 19) ^ (b >>> 22 | b << 10);\n\t\ts1 = (f >>> 6 | f << 26) ^ (f >>> 11 | f << 21) ^ (f >>> 25 | f << 7);\n\t\tbc = b & c;\n\t\tmaj = bc ^ b & d ^ cd;\n\t\tch = f & g ^ ~f & h;\n\t\tt1 = e + s1 + ch + K[j + 3] + blocks$1[j + 3];\n\t\tt2 = s0 + maj;\n\t\te = a + t1 << 0;\n\t\ta = t1 + t2 << 0;\n\t\tthis.chromeBugWorkAround = true;\n\t}\n\tthis.h0 = this.h0 + a << 0;\n\tthis.h1 = this.h1 + b << 0;\n\tthis.h2 = this.h2 + c << 0;\n\tthis.h3 = this.h3 + d << 0;\n\tthis.h4 = this.h4 + e << 0;\n\tthis.h5 = this.h5 + f << 0;\n\tthis.h6 = this.h6 + g << 0;\n\tthis.h7 = this.h7 + h << 0;\n};\nSha256.prototype.hex = function() {\n\tthis.finalize();\n\tvar h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5, h6 = this.h6, h7 = this.h7;\n\tvar hex = HEX_CHARS[h0 >>> 28 & 15] + HEX_CHARS[h0 >>> 24 & 15] + HEX_CHARS[h0 >>> 20 & 15] + HEX_CHARS[h0 >>> 16 & 15] + HEX_CHARS[h0 >>> 12 & 15] + HEX_CHARS[h0 >>> 8 & 15] + HEX_CHARS[h0 >>> 4 & 15] + HEX_CHARS[h0 & 15] + HEX_CHARS[h1 >>> 28 & 15] + HEX_CHARS[h1 >>> 24 & 15] + HEX_CHARS[h1 >>> 20 & 15] + HEX_CHARS[h1 >>> 16 & 15] + HEX_CHARS[h1 >>> 12 & 15] + HEX_CHARS[h1 >>> 8 & 15] + HEX_CHARS[h1 >>> 4 & 15] + HEX_CHARS[h1 & 15] + HEX_CHARS[h2 >>> 28 & 15] + HEX_CHARS[h2 >>> 24 & 15] + HEX_CHARS[h2 >>> 20 & 15] + HEX_CHARS[h2 >>> 16 & 15] + HEX_CHARS[h2 >>> 12 & 15] + HEX_CHARS[h2 >>> 8 & 15] + HEX_CHARS[h2 >>> 4 & 15] + HEX_CHARS[h2 & 15] + HEX_CHARS[h3 >>> 28 & 15] + HEX_CHARS[h3 >>> 24 & 15] + HEX_CHARS[h3 >>> 20 & 15] + HEX_CHARS[h3 >>> 16 & 15] + HEX_CHARS[h3 >>> 12 & 15] + HEX_CHARS[h3 >>> 8 & 15] + HEX_CHARS[h3 >>> 4 & 15] + HEX_CHARS[h3 & 15] + HEX_CHARS[h4 >>> 28 & 15] + HEX_CHARS[h4 >>> 24 & 15] + HEX_CHARS[h4 >>> 20 & 15] + HEX_CHARS[h4 >>> 16 & 15] + HEX_CHARS[h4 >>> 12 & 15] + HEX_CHARS[h4 >>> 8 & 15] + HEX_CHARS[h4 >>> 4 & 15] + HEX_CHARS[h4 & 15] + HEX_CHARS[h5 >>> 28 & 15] + HEX_CHARS[h5 >>> 24 & 15] + HEX_CHARS[h5 >>> 20 & 15] + HEX_CHARS[h5 >>> 16 & 15] + HEX_CHARS[h5 >>> 12 & 15] + HEX_CHARS[h5 >>> 8 & 15] + HEX_CHARS[h5 >>> 4 & 15] + HEX_CHARS[h5 & 15] + HEX_CHARS[h6 >>> 28 & 15] + HEX_CHARS[h6 >>> 24 & 15] + HEX_CHARS[h6 >>> 20 & 15] + HEX_CHARS[h6 >>> 16 & 15] + HEX_CHARS[h6 >>> 12 & 15] + HEX_CHARS[h6 >>> 8 & 15] + HEX_CHARS[h6 >>> 4 & 15] + HEX_CHARS[h6 & 15];\n\tif (!this.is224) hex += HEX_CHARS[h7 >>> 28 & 15] + HEX_CHARS[h7 >>> 24 & 15] + HEX_CHARS[h7 >>> 20 & 15] + HEX_CHARS[h7 >>> 16 & 15] + HEX_CHARS[h7 >>> 12 & 15] + HEX_CHARS[h7 >>> 8 & 15] + HEX_CHARS[h7 >>> 4 & 15] + HEX_CHARS[h7 & 15];\n\treturn hex;\n};\nSha256.prototype.toString = Sha256.prototype.hex;\nSha256.prototype.digest = function() {\n\tthis.finalize();\n\tvar h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5, h6 = this.h6, h7 = this.h7;\n\tvar arr = [\n\t\th0 >>> 24 & 255,\n\t\th0 >>> 16 & 255,\n\t\th0 >>> 8 & 255,\n\t\th0 & 255,\n\t\th1 >>> 24 & 255,\n\t\th1 >>> 16 & 255,\n\t\th1 >>> 8 & 255,\n\t\th1 & 255,\n\t\th2 >>> 24 & 255,\n\t\th2 >>> 16 & 255,\n\t\th2 >>> 8 & 255,\n\t\th2 & 255,\n\t\th3 >>> 24 & 255,\n\t\th3 >>> 16 & 255,\n\t\th3 >>> 8 & 255,\n\t\th3 & 255,\n\t\th4 >>> 24 & 255,\n\t\th4 >>> 16 & 255,\n\t\th4 >>> 8 & 255,\n\t\th4 & 255,\n\t\th5 >>> 24 & 255,\n\t\th5 >>> 16 & 255,\n\t\th5 >>> 8 & 255,\n\t\th5 & 255,\n\t\th6 >>> 24 & 255,\n\t\th6 >>> 16 & 255,\n\t\th6 >>> 8 & 255,\n\t\th6 & 255\n\t];\n\tif (!this.is224) arr.push(h7 >>> 24 & 255, h7 >>> 16 & 255, h7 >>> 8 & 255, h7 & 255);\n\treturn arr;\n};\nSha256.prototype.array = Sha256.prototype.digest;\nSha256.prototype.arrayBuffer = function() {\n\tthis.finalize();\n\tvar buffer = /* @__PURE__ */ new ArrayBuffer(this.is224 ? 28 : 32);\n\tvar dataView = new DataView(buffer);\n\tdataView.setUint32(0, this.h0);\n\tdataView.setUint32(4, this.h1);\n\tdataView.setUint32(8, this.h2);\n\tdataView.setUint32(12, this.h3);\n\tdataView.setUint32(16, this.h4);\n\tdataView.setUint32(20, this.h5);\n\tdataView.setUint32(24, this.h6);\n\tif (!this.is224) dataView.setUint32(28, this.h7);\n\treturn buffer;\n};\nconst sha256 = (...strings) => {\n\treturn new Sha256(false, true).update(strings.join(\"\")).hex();\n};\n\n//#endregion\n\n//# sourceMappingURL=hash.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL2pzLXNoYTI1Ni9oYXNoLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLDBCQUEwQjtBQUNoRSw0QkFBNEIsMEJBQTBCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ2tCO0FBQ2xCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL2pzLXNoYTI1Ni9oYXNoLmpzPzcyM2IiXSwic291cmNlc0NvbnRlbnQiOlsiXG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvanMtc2hhMjU2L2hhc2gudHNcbnZhciBIRVhfQ0hBUlMgPSBcIjAxMjM0NTY3ODlhYmNkZWZcIi5zcGxpdChcIlwiKTtcbnZhciBFWFRSQSA9IFtcblx0LTIxNDc0ODM2NDgsXG5cdDgzODg2MDgsXG5cdDMyNzY4LFxuXHQxMjhcbl07XG52YXIgU0hJRlQgPSBbXG5cdDI0LFxuXHQxNixcblx0OCxcblx0MFxuXTtcbnZhciBLID0gW1xuXHQxMTE2MzUyNDA4LFxuXHQxODk5NDQ3NDQxLFxuXHQzMDQ5MzIzNDcxLFxuXHQzOTIxMDA5NTczLFxuXHQ5NjE5ODcxNjMsXG5cdDE1MDg5NzA5OTMsXG5cdDI0NTM2MzU3NDgsXG5cdDI4NzA3NjMyMjEsXG5cdDM2MjQzODEwODAsXG5cdDMxMDU5ODQwMSxcblx0NjA3MjI1Mjc4LFxuXHQxNDI2ODgxOTg3LFxuXHQxOTI1MDc4Mzg4LFxuXHQyMTYyMDc4MjA2LFxuXHQyNjE0ODg4MTAzLFxuXHQzMjQ4MjIyNTgwLFxuXHQzODM1MzkwNDAxLFxuXHQ0MDIyMjI0Nzc0LFxuXHQyNjQzNDcwNzgsXG5cdDYwNDgwNzYyOCxcblx0NzcwMjU1OTgzLFxuXHQxMjQ5MTUwMTIyLFxuXHQxNTU1MDgxNjkyLFxuXHQxOTk2MDY0OTg2LFxuXHQyNTU0MjIwODgyLFxuXHQyODIxODM0MzQ5LFxuXHQyOTUyOTk2ODA4LFxuXHQzMjEwMzEzNjcxLFxuXHQzMzM2NTcxODkxLFxuXHQzNTg0NTI4NzExLFxuXHQxMTM5MjY5OTMsXG5cdDMzODI0MTg5NSxcblx0NjY2MzA3MjA1LFxuXHQ3NzM1Mjk5MTIsXG5cdDEyOTQ3NTczNzIsXG5cdDEzOTYxODIyOTEsXG5cdDE2OTUxODM3MDAsXG5cdDE5ODY2NjEwNTEsXG5cdDIxNzcwMjYzNTAsXG5cdDI0NTY5NTYwMzcsXG5cdDI3MzA0ODU5MjEsXG5cdDI4MjAzMDI0MTEsXG5cdDMyNTk3MzA4MDAsXG5cdDMzNDU3NjQ3NzEsXG5cdDM1MTYwNjU4MTcsXG5cdDM2MDAzNTI4MDQsXG5cdDQwOTQ1NzE5MDksXG5cdDI3NTQyMzM0NCxcblx0NDMwMjI3NzM0LFxuXHQ1MDY5NDg2MTYsXG5cdDY1OTA2MDU1Nixcblx0ODgzOTk3ODc3LFxuXHQ5NTgxMzk1NzEsXG5cdDEzMjI4MjIyMTgsXG5cdDE1MzcwMDIwNjMsXG5cdDE3NDc4NzM3NzksXG5cdDE5NTU1NjIyMjIsXG5cdDIwMjQxMDQ4MTUsXG5cdDIyMjc3MzA0NTIsXG5cdDIzNjE4NTI0MjQsXG5cdDI0Mjg0MzY0NzQsXG5cdDI3NTY3MzQxODcsXG5cdDMyMDQwMzE0NzksXG5cdDMzMjkzMjUyOThcbl07XG52YXIgYmxvY2tzID0gW107XG5mdW5jdGlvbiBTaGEyNTYoaXMyMjQsIHNoYXJlZE1lbW9yeSkge1xuXHRpZiAoc2hhcmVkTWVtb3J5KSB7XG5cdFx0YmxvY2tzWzBdID0gYmxvY2tzWzE2XSA9IGJsb2Nrc1sxXSA9IGJsb2Nrc1syXSA9IGJsb2Nrc1szXSA9IGJsb2Nrc1s0XSA9IGJsb2Nrc1s1XSA9IGJsb2Nrc1s2XSA9IGJsb2Nrc1s3XSA9IGJsb2Nrc1s4XSA9IGJsb2Nrc1s5XSA9IGJsb2Nrc1sxMF0gPSBibG9ja3NbMTFdID0gYmxvY2tzWzEyXSA9IGJsb2Nrc1sxM10gPSBibG9ja3NbMTRdID0gYmxvY2tzWzE1XSA9IDA7XG5cdFx0dGhpcy5ibG9ja3MgPSBibG9ja3M7XG5cdH0gZWxzZSB0aGlzLmJsb2NrcyA9IFtcblx0XHQwLFxuXHRcdDAsXG5cdFx0MCxcblx0XHQwLFxuXHRcdDAsXG5cdFx0MCxcblx0XHQwLFxuXHRcdDAsXG5cdFx0MCxcblx0XHQwLFxuXHRcdDAsXG5cdFx0MCxcblx0XHQwLFxuXHRcdDAsXG5cdFx0MCxcblx0XHQwLFxuXHRcdDBcblx0XTtcblx0aWYgKGlzMjI0KSB7XG5cdFx0dGhpcy5oMCA9IDMyMzgzNzEwMzI7XG5cdFx0dGhpcy5oMSA9IDkxNDE1MDY2Mztcblx0XHR0aGlzLmgyID0gODEyNzAyOTk5O1xuXHRcdHRoaXMuaDMgPSA0MTQ0OTEyNjk3O1xuXHRcdHRoaXMuaDQgPSA0MjkwNzc1ODU3O1xuXHRcdHRoaXMuaDUgPSAxNzUwNjAzMDI1O1xuXHRcdHRoaXMuaDYgPSAxNjk0MDc2ODM5O1xuXHRcdHRoaXMuaDcgPSAzMjA0MDc1NDI4O1xuXHR9IGVsc2Uge1xuXHRcdHRoaXMuaDAgPSAxNzc5MDMzNzAzO1xuXHRcdHRoaXMuaDEgPSAzMTQ0MTM0Mjc3O1xuXHRcdHRoaXMuaDIgPSAxMDEzOTA0MjQyO1xuXHRcdHRoaXMuaDMgPSAyNzczNDgwNzYyO1xuXHRcdHRoaXMuaDQgPSAxMzU5ODkzMTE5O1xuXHRcdHRoaXMuaDUgPSAyNjAwODIyOTI0O1xuXHRcdHRoaXMuaDYgPSA1Mjg3MzQ2MzU7XG5cdFx0dGhpcy5oNyA9IDE1NDE0NTkyMjU7XG5cdH1cblx0dGhpcy5ibG9jayA9IHRoaXMuc3RhcnQgPSB0aGlzLmJ5dGVzID0gdGhpcy5oQnl0ZXMgPSAwO1xuXHR0aGlzLmZpbmFsaXplZCA9IHRoaXMuaGFzaGVkID0gZmFsc2U7XG5cdHRoaXMuZmlyc3QgPSB0cnVlO1xuXHR0aGlzLmlzMjI0ID0gaXMyMjQ7XG59XG5TaGEyNTYucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKG1lc3NhZ2UpIHtcblx0aWYgKHRoaXMuZmluYWxpemVkKSByZXR1cm47XG5cdHZhciBub3RTdHJpbmcsIHR5cGUgPSB0eXBlb2YgbWVzc2FnZTtcblx0aWYgKHR5cGUgIT09IFwic3RyaW5nXCIpIHtcblx0XHRpZiAodHlwZSA9PT0gXCJvYmplY3RcIikge1xuXHRcdFx0aWYgKG1lc3NhZ2UgPT09IG51bGwpIHRocm93IG5ldyBFcnJvcihFUlJPUik7XG5cdFx0XHRlbHNlIGlmIChBUlJBWV9CVUZGRVIgJiYgbWVzc2FnZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXlCdWZmZXIpIG1lc3NhZ2UgPSBuZXcgVWludDhBcnJheShtZXNzYWdlKTtcblx0XHRcdGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KG1lc3NhZ2UpKSB7XG5cdFx0XHRcdGlmICghQVJSQVlfQlVGRkVSIHx8ICFBcnJheUJ1ZmZlci5pc1ZpZXcobWVzc2FnZSkpIHRocm93IG5ldyBFcnJvcihFUlJPUik7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHRocm93IG5ldyBFcnJvcihFUlJPUik7XG5cdFx0bm90U3RyaW5nID0gdHJ1ZTtcblx0fVxuXHR2YXIgY29kZSwgaW5kZXggPSAwLCBpLCBsZW5ndGggPSBtZXNzYWdlLmxlbmd0aCwgYmxvY2tzJDEgPSB0aGlzLmJsb2Nrcztcblx0d2hpbGUgKGluZGV4IDwgbGVuZ3RoKSB7XG5cdFx0aWYgKHRoaXMuaGFzaGVkKSB7XG5cdFx0XHR0aGlzLmhhc2hlZCA9IGZhbHNlO1xuXHRcdFx0YmxvY2tzJDFbMF0gPSB0aGlzLmJsb2NrO1xuXHRcdFx0dGhpcy5ibG9jayA9IGJsb2NrcyQxWzE2XSA9IGJsb2NrcyQxWzFdID0gYmxvY2tzJDFbMl0gPSBibG9ja3MkMVszXSA9IGJsb2NrcyQxWzRdID0gYmxvY2tzJDFbNV0gPSBibG9ja3MkMVs2XSA9IGJsb2NrcyQxWzddID0gYmxvY2tzJDFbOF0gPSBibG9ja3MkMVs5XSA9IGJsb2NrcyQxWzEwXSA9IGJsb2NrcyQxWzExXSA9IGJsb2NrcyQxWzEyXSA9IGJsb2NrcyQxWzEzXSA9IGJsb2NrcyQxWzE0XSA9IGJsb2NrcyQxWzE1XSA9IDA7XG5cdFx0fVxuXHRcdGlmIChub3RTdHJpbmcpIGZvciAoaSA9IHRoaXMuc3RhcnQ7IGluZGV4IDwgbGVuZ3RoICYmIGkgPCA2NDsgKytpbmRleCkgYmxvY2tzJDFbaSA+Pj4gMl0gfD0gbWVzc2FnZVtpbmRleF0gPDwgU0hJRlRbaSsrICYgM107XG5cdFx0ZWxzZSBmb3IgKGkgPSB0aGlzLnN0YXJ0OyBpbmRleCA8IGxlbmd0aCAmJiBpIDwgNjQ7ICsraW5kZXgpIHtcblx0XHRcdGNvZGUgPSBtZXNzYWdlLmNoYXJDb2RlQXQoaW5kZXgpO1xuXHRcdFx0aWYgKGNvZGUgPCAxMjgpIGJsb2NrcyQxW2kgPj4+IDJdIHw9IGNvZGUgPDwgU0hJRlRbaSsrICYgM107XG5cdFx0XHRlbHNlIGlmIChjb2RlIDwgMjA0OCkge1xuXHRcdFx0XHRibG9ja3MkMVtpID4+PiAyXSB8PSAoMTkyIHwgY29kZSA+Pj4gNikgPDwgU0hJRlRbaSsrICYgM107XG5cdFx0XHRcdGJsb2NrcyQxW2kgPj4+IDJdIHw9ICgxMjggfCBjb2RlICYgNjMpIDw8IFNISUZUW2krKyAmIDNdO1xuXHRcdFx0fSBlbHNlIGlmIChjb2RlIDwgNTUyOTYgfHwgY29kZSA+PSA1NzM0NCkge1xuXHRcdFx0XHRibG9ja3MkMVtpID4+PiAyXSB8PSAoMjI0IHwgY29kZSA+Pj4gMTIpIDw8IFNISUZUW2krKyAmIDNdO1xuXHRcdFx0XHRibG9ja3MkMVtpID4+PiAyXSB8PSAoMTI4IHwgY29kZSA+Pj4gNiAmIDYzKSA8PCBTSElGVFtpKysgJiAzXTtcblx0XHRcdFx0YmxvY2tzJDFbaSA+Pj4gMl0gfD0gKDEyOCB8IGNvZGUgJiA2MykgPDwgU0hJRlRbaSsrICYgM107XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb2RlID0gNjU1MzYgKyAoKGNvZGUgJiAxMDIzKSA8PCAxMCB8IG1lc3NhZ2UuY2hhckNvZGVBdCgrK2luZGV4KSAmIDEwMjMpO1xuXHRcdFx0XHRibG9ja3MkMVtpID4+PiAyXSB8PSAoMjQwIHwgY29kZSA+Pj4gMTgpIDw8IFNISUZUW2krKyAmIDNdO1xuXHRcdFx0XHRibG9ja3MkMVtpID4+PiAyXSB8PSAoMTI4IHwgY29kZSA+Pj4gMTIgJiA2MykgPDwgU0hJRlRbaSsrICYgM107XG5cdFx0XHRcdGJsb2NrcyQxW2kgPj4+IDJdIHw9ICgxMjggfCBjb2RlID4+PiA2ICYgNjMpIDw8IFNISUZUW2krKyAmIDNdO1xuXHRcdFx0XHRibG9ja3MkMVtpID4+PiAyXSB8PSAoMTI4IHwgY29kZSAmIDYzKSA8PCBTSElGVFtpKysgJiAzXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0dGhpcy5sYXN0Qnl0ZUluZGV4ID0gaTtcblx0XHR0aGlzLmJ5dGVzICs9IGkgLSB0aGlzLnN0YXJ0O1xuXHRcdGlmIChpID49IDY0KSB7XG5cdFx0XHR0aGlzLmJsb2NrID0gYmxvY2tzJDFbMTZdO1xuXHRcdFx0dGhpcy5zdGFydCA9IGkgLSA2NDtcblx0XHRcdHRoaXMuaGFzaCgpO1xuXHRcdFx0dGhpcy5oYXNoZWQgPSB0cnVlO1xuXHRcdH0gZWxzZSB0aGlzLnN0YXJ0ID0gaTtcblx0fVxuXHRpZiAodGhpcy5ieXRlcyA+IDQyOTQ5NjcyOTUpIHtcblx0XHR0aGlzLmhCeXRlcyArPSB0aGlzLmJ5dGVzIC8gNDI5NDk2NzI5NiA8PCAwO1xuXHRcdHRoaXMuYnl0ZXMgPSB0aGlzLmJ5dGVzICUgNDI5NDk2NzI5Njtcblx0fVxuXHRyZXR1cm4gdGhpcztcbn07XG5TaGEyNTYucHJvdG90eXBlLmZpbmFsaXplID0gZnVuY3Rpb24oKSB7XG5cdGlmICh0aGlzLmZpbmFsaXplZCkgcmV0dXJuO1xuXHR0aGlzLmZpbmFsaXplZCA9IHRydWU7XG5cdHZhciBibG9ja3MkMSA9IHRoaXMuYmxvY2tzLCBpID0gdGhpcy5sYXN0Qnl0ZUluZGV4O1xuXHRibG9ja3MkMVsxNl0gPSB0aGlzLmJsb2NrO1xuXHRibG9ja3MkMVtpID4+PiAyXSB8PSBFWFRSQVtpICYgM107XG5cdHRoaXMuYmxvY2sgPSBibG9ja3MkMVsxNl07XG5cdGlmIChpID49IDU2KSB7XG5cdFx0aWYgKCF0aGlzLmhhc2hlZCkgdGhpcy5oYXNoKCk7XG5cdFx0YmxvY2tzJDFbMF0gPSB0aGlzLmJsb2NrO1xuXHRcdGJsb2NrcyQxWzE2XSA9IGJsb2NrcyQxWzFdID0gYmxvY2tzJDFbMl0gPSBibG9ja3MkMVszXSA9IGJsb2NrcyQxWzRdID0gYmxvY2tzJDFbNV0gPSBibG9ja3MkMVs2XSA9IGJsb2NrcyQxWzddID0gYmxvY2tzJDFbOF0gPSBibG9ja3MkMVs5XSA9IGJsb2NrcyQxWzEwXSA9IGJsb2NrcyQxWzExXSA9IGJsb2NrcyQxWzEyXSA9IGJsb2NrcyQxWzEzXSA9IGJsb2NrcyQxWzE0XSA9IGJsb2NrcyQxWzE1XSA9IDA7XG5cdH1cblx0YmxvY2tzJDFbMTRdID0gdGhpcy5oQnl0ZXMgPDwgMyB8IHRoaXMuYnl0ZXMgPj4+IDI5O1xuXHRibG9ja3MkMVsxNV0gPSB0aGlzLmJ5dGVzIDw8IDM7XG5cdHRoaXMuaGFzaCgpO1xufTtcblNoYTI1Ni5wcm90b3R5cGUuaGFzaCA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgYSA9IHRoaXMuaDAsIGIgPSB0aGlzLmgxLCBjID0gdGhpcy5oMiwgZCA9IHRoaXMuaDMsIGUgPSB0aGlzLmg0LCBmID0gdGhpcy5oNSwgZyA9IHRoaXMuaDYsIGggPSB0aGlzLmg3LCBibG9ja3MkMSA9IHRoaXMuYmxvY2tzLCBqLCBzMCwgczEsIG1haiwgdDEsIHQyLCBjaCwgYWIsIGRhLCBjZCwgYmM7XG5cdGZvciAoaiA9IDE2OyBqIDwgNjQ7ICsraikge1xuXHRcdHQxID0gYmxvY2tzJDFbaiAtIDE1XTtcblx0XHRzMCA9ICh0MSA+Pj4gNyB8IHQxIDw8IDI1KSBeICh0MSA+Pj4gMTggfCB0MSA8PCAxNCkgXiB0MSA+Pj4gMztcblx0XHR0MSA9IGJsb2NrcyQxW2ogLSAyXTtcblx0XHRzMSA9ICh0MSA+Pj4gMTcgfCB0MSA8PCAxNSkgXiAodDEgPj4+IDE5IHwgdDEgPDwgMTMpIF4gdDEgPj4+IDEwO1xuXHRcdGJsb2NrcyQxW2pdID0gYmxvY2tzJDFbaiAtIDE2XSArIHMwICsgYmxvY2tzJDFbaiAtIDddICsgczEgPDwgMDtcblx0fVxuXHRiYyA9IGIgJiBjO1xuXHRmb3IgKGogPSAwOyBqIDwgNjQ7IGogKz0gNCkge1xuXHRcdGlmICh0aGlzLmZpcnN0KSB7XG5cdFx0XHRpZiAodGhpcy5pczIyNCkge1xuXHRcdFx0XHRhYiA9IDMwMDAzMjtcblx0XHRcdFx0dDEgPSBibG9ja3MkMVswXSAtIDE0MTMyNTc4MTk7XG5cdFx0XHRcdGggPSB0MSAtIDE1MDA1NDU5OSA8PCAwO1xuXHRcdFx0XHRkID0gdDEgKyAyNDE3NzA3NyA8PCAwO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YWIgPSA3MDQ3NTExMDk7XG5cdFx0XHRcdHQxID0gYmxvY2tzJDFbMF0gLSAyMTAyNDQyNDg7XG5cdFx0XHRcdGggPSB0MSAtIDE1MjE0ODY1MzQgPDwgMDtcblx0XHRcdFx0ZCA9IHQxICsgMTQzNjk0NTY1IDw8IDA7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLmZpcnN0ID0gZmFsc2U7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHMwID0gKGEgPj4+IDIgfCBhIDw8IDMwKSBeIChhID4+PiAxMyB8IGEgPDwgMTkpIF4gKGEgPj4+IDIyIHwgYSA8PCAxMCk7XG5cdFx0XHRzMSA9IChlID4+PiA2IHwgZSA8PCAyNikgXiAoZSA+Pj4gMTEgfCBlIDw8IDIxKSBeIChlID4+PiAyNSB8IGUgPDwgNyk7XG5cdFx0XHRhYiA9IGEgJiBiO1xuXHRcdFx0bWFqID0gYWIgXiBhICYgYyBeIGJjO1xuXHRcdFx0Y2ggPSBlICYgZiBeIH5lICYgZztcblx0XHRcdHQxID0gaCArIHMxICsgY2ggKyBLW2pdICsgYmxvY2tzJDFbal07XG5cdFx0XHR0MiA9IHMwICsgbWFqO1xuXHRcdFx0aCA9IGQgKyB0MSA8PCAwO1xuXHRcdFx0ZCA9IHQxICsgdDIgPDwgMDtcblx0XHR9XG5cdFx0czAgPSAoZCA+Pj4gMiB8IGQgPDwgMzApIF4gKGQgPj4+IDEzIHwgZCA8PCAxOSkgXiAoZCA+Pj4gMjIgfCBkIDw8IDEwKTtcblx0XHRzMSA9IChoID4+PiA2IHwgaCA8PCAyNikgXiAoaCA+Pj4gMTEgfCBoIDw8IDIxKSBeIChoID4+PiAyNSB8IGggPDwgNyk7XG5cdFx0ZGEgPSBkICYgYTtcblx0XHRtYWogPSBkYSBeIGQgJiBiIF4gYWI7XG5cdFx0Y2ggPSBnICYgaCBeIH5nICYgZTtcblx0XHR0MSA9IGYgKyBzMSArIGNoICsgS1tqICsgMV0gKyBibG9ja3MkMVtqICsgMV07XG5cdFx0dDIgPSBzMCArIG1hajtcblx0XHRnID0gYyArIHQxIDw8IDA7XG5cdFx0YyA9IHQxICsgdDIgPDwgMDtcblx0XHRzMCA9IChjID4+PiAyIHwgYyA8PCAzMCkgXiAoYyA+Pj4gMTMgfCBjIDw8IDE5KSBeIChjID4+PiAyMiB8IGMgPDwgMTApO1xuXHRcdHMxID0gKGcgPj4+IDYgfCBnIDw8IDI2KSBeIChnID4+PiAxMSB8IGcgPDwgMjEpIF4gKGcgPj4+IDI1IHwgZyA8PCA3KTtcblx0XHRjZCA9IGMgJiBkO1xuXHRcdG1haiA9IGNkIF4gYyAmIGEgXiBkYTtcblx0XHRjaCA9IGYgJiBnIF4gfmYgJiBoO1xuXHRcdHQxID0gZSArIHMxICsgY2ggKyBLW2ogKyAyXSArIGJsb2NrcyQxW2ogKyAyXTtcblx0XHR0MiA9IHMwICsgbWFqO1xuXHRcdGYgPSBiICsgdDEgPDwgMDtcblx0XHRiID0gdDEgKyB0MiA8PCAwO1xuXHRcdHMwID0gKGIgPj4+IDIgfCBiIDw8IDMwKSBeIChiID4+PiAxMyB8IGIgPDwgMTkpIF4gKGIgPj4+IDIyIHwgYiA8PCAxMCk7XG5cdFx0czEgPSAoZiA+Pj4gNiB8IGYgPDwgMjYpIF4gKGYgPj4+IDExIHwgZiA8PCAyMSkgXiAoZiA+Pj4gMjUgfCBmIDw8IDcpO1xuXHRcdGJjID0gYiAmIGM7XG5cdFx0bWFqID0gYmMgXiBiICYgZCBeIGNkO1xuXHRcdGNoID0gZiAmIGcgXiB+ZiAmIGg7XG5cdFx0dDEgPSBlICsgczEgKyBjaCArIEtbaiArIDNdICsgYmxvY2tzJDFbaiArIDNdO1xuXHRcdHQyID0gczAgKyBtYWo7XG5cdFx0ZSA9IGEgKyB0MSA8PCAwO1xuXHRcdGEgPSB0MSArIHQyIDw8IDA7XG5cdFx0dGhpcy5jaHJvbWVCdWdXb3JrQXJvdW5kID0gdHJ1ZTtcblx0fVxuXHR0aGlzLmgwID0gdGhpcy5oMCArIGEgPDwgMDtcblx0dGhpcy5oMSA9IHRoaXMuaDEgKyBiIDw8IDA7XG5cdHRoaXMuaDIgPSB0aGlzLmgyICsgYyA8PCAwO1xuXHR0aGlzLmgzID0gdGhpcy5oMyArIGQgPDwgMDtcblx0dGhpcy5oNCA9IHRoaXMuaDQgKyBlIDw8IDA7XG5cdHRoaXMuaDUgPSB0aGlzLmg1ICsgZiA8PCAwO1xuXHR0aGlzLmg2ID0gdGhpcy5oNiArIGcgPDwgMDtcblx0dGhpcy5oNyA9IHRoaXMuaDcgKyBoIDw8IDA7XG59O1xuU2hhMjU2LnByb3RvdHlwZS5oZXggPSBmdW5jdGlvbigpIHtcblx0dGhpcy5maW5hbGl6ZSgpO1xuXHR2YXIgaDAgPSB0aGlzLmgwLCBoMSA9IHRoaXMuaDEsIGgyID0gdGhpcy5oMiwgaDMgPSB0aGlzLmgzLCBoNCA9IHRoaXMuaDQsIGg1ID0gdGhpcy5oNSwgaDYgPSB0aGlzLmg2LCBoNyA9IHRoaXMuaDc7XG5cdHZhciBoZXggPSBIRVhfQ0hBUlNbaDAgPj4+IDI4ICYgMTVdICsgSEVYX0NIQVJTW2gwID4+PiAyNCAmIDE1XSArIEhFWF9DSEFSU1toMCA+Pj4gMjAgJiAxNV0gKyBIRVhfQ0hBUlNbaDAgPj4+IDE2ICYgMTVdICsgSEVYX0NIQVJTW2gwID4+PiAxMiAmIDE1XSArIEhFWF9DSEFSU1toMCA+Pj4gOCAmIDE1XSArIEhFWF9DSEFSU1toMCA+Pj4gNCAmIDE1XSArIEhFWF9DSEFSU1toMCAmIDE1XSArIEhFWF9DSEFSU1toMSA+Pj4gMjggJiAxNV0gKyBIRVhfQ0hBUlNbaDEgPj4+IDI0ICYgMTVdICsgSEVYX0NIQVJTW2gxID4+PiAyMCAmIDE1XSArIEhFWF9DSEFSU1toMSA+Pj4gMTYgJiAxNV0gKyBIRVhfQ0hBUlNbaDEgPj4+IDEyICYgMTVdICsgSEVYX0NIQVJTW2gxID4+PiA4ICYgMTVdICsgSEVYX0NIQVJTW2gxID4+PiA0ICYgMTVdICsgSEVYX0NIQVJTW2gxICYgMTVdICsgSEVYX0NIQVJTW2gyID4+PiAyOCAmIDE1XSArIEhFWF9DSEFSU1toMiA+Pj4gMjQgJiAxNV0gKyBIRVhfQ0hBUlNbaDIgPj4+IDIwICYgMTVdICsgSEVYX0NIQVJTW2gyID4+PiAxNiAmIDE1XSArIEhFWF9DSEFSU1toMiA+Pj4gMTIgJiAxNV0gKyBIRVhfQ0hBUlNbaDIgPj4+IDggJiAxNV0gKyBIRVhfQ0hBUlNbaDIgPj4+IDQgJiAxNV0gKyBIRVhfQ0hBUlNbaDIgJiAxNV0gKyBIRVhfQ0hBUlNbaDMgPj4+IDI4ICYgMTVdICsgSEVYX0NIQVJTW2gzID4+PiAyNCAmIDE1XSArIEhFWF9DSEFSU1toMyA+Pj4gMjAgJiAxNV0gKyBIRVhfQ0hBUlNbaDMgPj4+IDE2ICYgMTVdICsgSEVYX0NIQVJTW2gzID4+PiAxMiAmIDE1XSArIEhFWF9DSEFSU1toMyA+Pj4gOCAmIDE1XSArIEhFWF9DSEFSU1toMyA+Pj4gNCAmIDE1XSArIEhFWF9DSEFSU1toMyAmIDE1XSArIEhFWF9DSEFSU1toNCA+Pj4gMjggJiAxNV0gKyBIRVhfQ0hBUlNbaDQgPj4+IDI0ICYgMTVdICsgSEVYX0NIQVJTW2g0ID4+PiAyMCAmIDE1XSArIEhFWF9DSEFSU1toNCA+Pj4gMTYgJiAxNV0gKyBIRVhfQ0hBUlNbaDQgPj4+IDEyICYgMTVdICsgSEVYX0NIQVJTW2g0ID4+PiA4ICYgMTVdICsgSEVYX0NIQVJTW2g0ID4+PiA0ICYgMTVdICsgSEVYX0NIQVJTW2g0ICYgMTVdICsgSEVYX0NIQVJTW2g1ID4+PiAyOCAmIDE1XSArIEhFWF9DSEFSU1toNSA+Pj4gMjQgJiAxNV0gKyBIRVhfQ0hBUlNbaDUgPj4+IDIwICYgMTVdICsgSEVYX0NIQVJTW2g1ID4+PiAxNiAmIDE1XSArIEhFWF9DSEFSU1toNSA+Pj4gMTIgJiAxNV0gKyBIRVhfQ0hBUlNbaDUgPj4+IDggJiAxNV0gKyBIRVhfQ0hBUlNbaDUgPj4+IDQgJiAxNV0gKyBIRVhfQ0hBUlNbaDUgJiAxNV0gKyBIRVhfQ0hBUlNbaDYgPj4+IDI4ICYgMTVdICsgSEVYX0NIQVJTW2g2ID4+PiAyNCAmIDE1XSArIEhFWF9DSEFSU1toNiA+Pj4gMjAgJiAxNV0gKyBIRVhfQ0hBUlNbaDYgPj4+IDE2ICYgMTVdICsgSEVYX0NIQVJTW2g2ID4+PiAxMiAmIDE1XSArIEhFWF9DSEFSU1toNiA+Pj4gOCAmIDE1XSArIEhFWF9DSEFSU1toNiA+Pj4gNCAmIDE1XSArIEhFWF9DSEFSU1toNiAmIDE1XTtcblx0aWYgKCF0aGlzLmlzMjI0KSBoZXggKz0gSEVYX0NIQVJTW2g3ID4+PiAyOCAmIDE1XSArIEhFWF9DSEFSU1toNyA+Pj4gMjQgJiAxNV0gKyBIRVhfQ0hBUlNbaDcgPj4+IDIwICYgMTVdICsgSEVYX0NIQVJTW2g3ID4+PiAxNiAmIDE1XSArIEhFWF9DSEFSU1toNyA+Pj4gMTIgJiAxNV0gKyBIRVhfQ0hBUlNbaDcgPj4+IDggJiAxNV0gKyBIRVhfQ0hBUlNbaDcgPj4+IDQgJiAxNV0gKyBIRVhfQ0hBUlNbaDcgJiAxNV07XG5cdHJldHVybiBoZXg7XG59O1xuU2hhMjU2LnByb3RvdHlwZS50b1N0cmluZyA9IFNoYTI1Ni5wcm90b3R5cGUuaGV4O1xuU2hhMjU2LnByb3RvdHlwZS5kaWdlc3QgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5maW5hbGl6ZSgpO1xuXHR2YXIgaDAgPSB0aGlzLmgwLCBoMSA9IHRoaXMuaDEsIGgyID0gdGhpcy5oMiwgaDMgPSB0aGlzLmgzLCBoNCA9IHRoaXMuaDQsIGg1ID0gdGhpcy5oNSwgaDYgPSB0aGlzLmg2LCBoNyA9IHRoaXMuaDc7XG5cdHZhciBhcnIgPSBbXG5cdFx0aDAgPj4+IDI0ICYgMjU1LFxuXHRcdGgwID4+PiAxNiAmIDI1NSxcblx0XHRoMCA+Pj4gOCAmIDI1NSxcblx0XHRoMCAmIDI1NSxcblx0XHRoMSA+Pj4gMjQgJiAyNTUsXG5cdFx0aDEgPj4+IDE2ICYgMjU1LFxuXHRcdGgxID4+PiA4ICYgMjU1LFxuXHRcdGgxICYgMjU1LFxuXHRcdGgyID4+PiAyNCAmIDI1NSxcblx0XHRoMiA+Pj4gMTYgJiAyNTUsXG5cdFx0aDIgPj4+IDggJiAyNTUsXG5cdFx0aDIgJiAyNTUsXG5cdFx0aDMgPj4+IDI0ICYgMjU1LFxuXHRcdGgzID4+PiAxNiAmIDI1NSxcblx0XHRoMyA+Pj4gOCAmIDI1NSxcblx0XHRoMyAmIDI1NSxcblx0XHRoNCA+Pj4gMjQgJiAyNTUsXG5cdFx0aDQgPj4+IDE2ICYgMjU1LFxuXHRcdGg0ID4+PiA4ICYgMjU1LFxuXHRcdGg0ICYgMjU1LFxuXHRcdGg1ID4+PiAyNCAmIDI1NSxcblx0XHRoNSA+Pj4gMTYgJiAyNTUsXG5cdFx0aDUgPj4+IDggJiAyNTUsXG5cdFx0aDUgJiAyNTUsXG5cdFx0aDYgPj4+IDI0ICYgMjU1LFxuXHRcdGg2ID4+PiAxNiAmIDI1NSxcblx0XHRoNiA+Pj4gOCAmIDI1NSxcblx0XHRoNiAmIDI1NVxuXHRdO1xuXHRpZiAoIXRoaXMuaXMyMjQpIGFyci5wdXNoKGg3ID4+PiAyNCAmIDI1NSwgaDcgPj4+IDE2ICYgMjU1LCBoNyA+Pj4gOCAmIDI1NSwgaDcgJiAyNTUpO1xuXHRyZXR1cm4gYXJyO1xufTtcblNoYTI1Ni5wcm90b3R5cGUuYXJyYXkgPSBTaGEyNTYucHJvdG90eXBlLmRpZ2VzdDtcblNoYTI1Ni5wcm90b3R5cGUuYXJyYXlCdWZmZXIgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5maW5hbGl6ZSgpO1xuXHR2YXIgYnVmZmVyID0gLyogQF9fUFVSRV9fICovIG5ldyBBcnJheUJ1ZmZlcih0aGlzLmlzMjI0ID8gMjggOiAzMik7XG5cdHZhciBkYXRhVmlldyA9IG5ldyBEYXRhVmlldyhidWZmZXIpO1xuXHRkYXRhVmlldy5zZXRVaW50MzIoMCwgdGhpcy5oMCk7XG5cdGRhdGFWaWV3LnNldFVpbnQzMig0LCB0aGlzLmgxKTtcblx0ZGF0YVZpZXcuc2V0VWludDMyKDgsIHRoaXMuaDIpO1xuXHRkYXRhVmlldy5zZXRVaW50MzIoMTIsIHRoaXMuaDMpO1xuXHRkYXRhVmlldy5zZXRVaW50MzIoMTYsIHRoaXMuaDQpO1xuXHRkYXRhVmlldy5zZXRVaW50MzIoMjAsIHRoaXMuaDUpO1xuXHRkYXRhVmlldy5zZXRVaW50MzIoMjQsIHRoaXMuaDYpO1xuXHRpZiAoIXRoaXMuaXMyMjQpIGRhdGFWaWV3LnNldFVpbnQzMigyOCwgdGhpcy5oNyk7XG5cdHJldHVybiBidWZmZXI7XG59O1xuY29uc3Qgc2hhMjU2ID0gKC4uLnN0cmluZ3MpID0+IHtcblx0cmV0dXJuIG5ldyBTaGEyNTYoZmFsc2UsIHRydWUpLnVwZGF0ZShzdHJpbmdzLmpvaW4oXCJcIikpLmhleCgpO1xufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBzaGEyNTYgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhhc2guanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/js-sha256/hash.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/json.js":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/json.js ***!
  \****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseJsonMarkdown: () => (/* binding */ parseJsonMarkdown),\n/* harmony export */   parsePartialJson: () => (/* binding */ parsePartialJson)\n/* harmony export */ });\n//#region src/utils/json.ts\nfunction parseJsonMarkdown(s, parser = parsePartialJson) {\n\ts = s.trim();\n\tconst firstFenceIndex = s.indexOf(\"```\");\n\tif (firstFenceIndex === -1) return parser(s);\n\tlet contentAfterFence = s.substring(firstFenceIndex + 3);\n\tif (contentAfterFence.startsWith(\"json\\n\")) contentAfterFence = contentAfterFence.substring(5);\n\telse if (contentAfterFence.startsWith(\"json\")) contentAfterFence = contentAfterFence.substring(4);\n\telse if (contentAfterFence.startsWith(\"\\n\")) contentAfterFence = contentAfterFence.substring(1);\n\tconst closingFenceIndex = contentAfterFence.indexOf(\"```\");\n\tlet finalContent = contentAfterFence;\n\tif (closingFenceIndex !== -1) finalContent = contentAfterFence.substring(0, closingFenceIndex);\n\treturn parser(finalContent.trim());\n}\n/**\n* Recursive descent partial JSON parser.\n* @param s - The string to parse.\n* @returns The parsed value.\n* @throws Error if the input is a malformed JSON string.\n*/\nfunction strictParsePartialJson(s) {\n\ttry {\n\t\treturn JSON.parse(s);\n\t} catch {}\n\tconst buffer = s.trim();\n\tif (buffer.length === 0) throw new Error(\"Unexpected end of JSON input\");\n\tlet pos = 0;\n\tfunction skipWhitespace() {\n\t\twhile (pos < buffer.length && /\\s/.test(buffer[pos])) pos += 1;\n\t}\n\tfunction parseString() {\n\t\tif (buffer[pos] !== \"\\\"\") throw new Error(`Expected '\"' at position ${pos}, got '${buffer[pos]}'`);\n\t\tpos += 1;\n\t\tlet result = \"\";\n\t\tlet escaped = false;\n\t\twhile (pos < buffer.length) {\n\t\t\tconst char = buffer[pos];\n\t\t\tif (escaped) {\n\t\t\t\tif (char === \"n\") result += \"\\n\";\n\t\t\t\telse if (char === \"t\") result += \"\t\";\n\t\t\t\telse if (char === \"r\") result += \"\\r\";\n\t\t\t\telse if (char === \"\\\\\") result += \"\\\\\";\n\t\t\t\telse if (char === \"\\\"\") result += \"\\\"\";\n\t\t\t\telse if (char === \"b\") result += \"\\b\";\n\t\t\t\telse if (char === \"f\") result += \"\\f\";\n\t\t\t\telse if (char === \"/\") result += \"/\";\n\t\t\t\telse if (char === \"u\") {\n\t\t\t\t\tconst hex = buffer.substring(pos + 1, pos + 5);\n\t\t\t\t\tif (/^[0-9A-Fa-f]{0,4}$/.test(hex)) {\n\t\t\t\t\t\tif (hex.length === 4) result += String.fromCharCode(Number.parseInt(hex, 16));\n\t\t\t\t\t\telse result += `u${hex}`;\n\t\t\t\t\t\tpos += hex.length;\n\t\t\t\t\t} else throw new Error(`Invalid unicode escape sequence '\\\\u${hex}' at position ${pos}`);\n\t\t\t\t} else throw new Error(`Invalid escape sequence '\\\\${char}' at position ${pos}`);\n\t\t\t\tescaped = false;\n\t\t\t} else if (char === \"\\\\\") escaped = true;\n\t\t\telse if (char === \"\\\"\") {\n\t\t\t\tpos += 1;\n\t\t\t\treturn result;\n\t\t\t} else result += char;\n\t\t\tpos += 1;\n\t\t}\n\t\tif (escaped) result += \"\\\\\";\n\t\treturn result;\n\t}\n\tfunction parseNumber() {\n\t\tconst start = pos;\n\t\tlet numStr = \"\";\n\t\tif (buffer[pos] === \"-\") {\n\t\t\tnumStr += \"-\";\n\t\t\tpos += 1;\n\t\t}\n\t\tif (pos < buffer.length && buffer[pos] === \"0\") {\n\t\t\tnumStr += \"0\";\n\t\t\tpos += 1;\n\t\t\tif (buffer[pos] >= \"0\" && buffer[pos] <= \"9\") throw new Error(`Invalid number at position ${start}`);\n\t\t}\n\t\tif (pos < buffer.length && buffer[pos] >= \"1\" && buffer[pos] <= \"9\") while (pos < buffer.length && buffer[pos] >= \"0\" && buffer[pos] <= \"9\") {\n\t\t\tnumStr += buffer[pos];\n\t\t\tpos += 1;\n\t\t}\n\t\tif (pos < buffer.length && buffer[pos] === \".\") {\n\t\t\tnumStr += \".\";\n\t\t\tpos += 1;\n\t\t\twhile (pos < buffer.length && buffer[pos] >= \"0\" && buffer[pos] <= \"9\") {\n\t\t\t\tnumStr += buffer[pos];\n\t\t\t\tpos += 1;\n\t\t\t}\n\t\t}\n\t\tif (pos < buffer.length && (buffer[pos] === \"e\" || buffer[pos] === \"E\")) {\n\t\t\tnumStr += buffer[pos];\n\t\t\tpos += 1;\n\t\t\tif (pos < buffer.length && (buffer[pos] === \"+\" || buffer[pos] === \"-\")) {\n\t\t\t\tnumStr += buffer[pos];\n\t\t\t\tpos += 1;\n\t\t\t}\n\t\t\twhile (pos < buffer.length && buffer[pos] >= \"0\" && buffer[pos] <= \"9\") {\n\t\t\t\tnumStr += buffer[pos];\n\t\t\t\tpos += 1;\n\t\t\t}\n\t\t}\n\t\tif (numStr === \"-\") return -0;\n\t\tconst num = Number.parseFloat(numStr);\n\t\tif (Number.isNaN(num)) {\n\t\t\tpos = start;\n\t\t\tthrow new Error(`Invalid number '${numStr}' at position ${start}`);\n\t\t}\n\t\treturn num;\n\t}\n\tfunction parseValue() {\n\t\tskipWhitespace();\n\t\tif (pos >= buffer.length) throw new Error(`Unexpected end of input at position ${pos}`);\n\t\tconst char = buffer[pos];\n\t\tif (char === \"{\") return parseObject();\n\t\tif (char === \"[\") return parseArray();\n\t\tif (char === \"\\\"\") return parseString();\n\t\tif (\"null\".startsWith(buffer.substring(pos, pos + 4))) {\n\t\t\tpos += Math.min(4, buffer.length - pos);\n\t\t\treturn null;\n\t\t}\n\t\tif (\"true\".startsWith(buffer.substring(pos, pos + 4))) {\n\t\t\tpos += Math.min(4, buffer.length - pos);\n\t\t\treturn true;\n\t\t}\n\t\tif (\"false\".startsWith(buffer.substring(pos, pos + 5))) {\n\t\t\tpos += Math.min(5, buffer.length - pos);\n\t\t\treturn false;\n\t\t}\n\t\tif (char === \"-\" || char >= \"0\" && char <= \"9\") return parseNumber();\n\t\tthrow new Error(`Unexpected character '${char}' at position ${pos}`);\n\t}\n\tfunction parseArray() {\n\t\tif (buffer[pos] !== \"[\") throw new Error(`Expected '[' at position ${pos}, got '${buffer[pos]}'`);\n\t\tconst arr = [];\n\t\tpos += 1;\n\t\tskipWhitespace();\n\t\tif (pos >= buffer.length) return arr;\n\t\tif (buffer[pos] === \"]\") {\n\t\t\tpos += 1;\n\t\t\treturn arr;\n\t\t}\n\t\twhile (pos < buffer.length) {\n\t\t\tskipWhitespace();\n\t\t\tif (pos >= buffer.length) return arr;\n\t\t\tarr.push(parseValue());\n\t\t\tskipWhitespace();\n\t\t\tif (pos >= buffer.length) return arr;\n\t\t\tif (buffer[pos] === \"]\") {\n\t\t\t\tpos += 1;\n\t\t\t\treturn arr;\n\t\t\t} else if (buffer[pos] === \",\") {\n\t\t\t\tpos += 1;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tthrow new Error(`Expected ',' or ']' at position ${pos}, got '${buffer[pos]}'`);\n\t\t}\n\t\treturn arr;\n\t}\n\tfunction parseObject() {\n\t\tif (buffer[pos] !== \"{\") throw new Error(`Expected '{' at position ${pos}, got '${buffer[pos]}'`);\n\t\tconst obj = {};\n\t\tpos += 1;\n\t\tskipWhitespace();\n\t\tif (pos >= buffer.length) return obj;\n\t\tif (buffer[pos] === \"}\") {\n\t\t\tpos += 1;\n\t\t\treturn obj;\n\t\t}\n\t\twhile (pos < buffer.length) {\n\t\t\tskipWhitespace();\n\t\t\tif (pos >= buffer.length) return obj;\n\t\t\tconst key = parseString();\n\t\t\tskipWhitespace();\n\t\t\tif (pos >= buffer.length) return obj;\n\t\t\tif (buffer[pos] !== \":\") throw new Error(`Expected ':' at position ${pos}, got '${buffer[pos]}'`);\n\t\t\tpos += 1;\n\t\t\tskipWhitespace();\n\t\t\tif (pos >= buffer.length) return obj;\n\t\t\tobj[key] = parseValue();\n\t\t\tskipWhitespace();\n\t\t\tif (pos >= buffer.length) return obj;\n\t\t\tif (buffer[pos] === \"}\") {\n\t\t\t\tpos += 1;\n\t\t\t\treturn obj;\n\t\t\t} else if (buffer[pos] === \",\") {\n\t\t\t\tpos += 1;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tthrow new Error(`Expected ',' or '}' at position ${pos}, got '${buffer[pos]}'`);\n\t\t}\n\t\treturn obj;\n\t}\n\tconst value = parseValue();\n\tskipWhitespace();\n\tif (pos < buffer.length) throw new Error(`Unexpected character '${buffer[pos]}' at position ${pos}`);\n\treturn value;\n}\nfunction parsePartialJson(s) {\n\ttry {\n\t\tif (typeof s === \"undefined\") return null;\n\t\treturn strictParsePartialJson(s);\n\t} catch {\n\t\treturn null;\n\t}\n}\n\n//#endregion\n\n//# sourceMappingURL=json.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL2pzb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0VBQXdFLElBQUksU0FBUyxZQUFZO0FBQ2pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLElBQUk7QUFDM0I7QUFDQSx5QkFBeUIsSUFBSTtBQUM3QjtBQUNBLE9BQU8sNERBQTRELElBQUksZ0JBQWdCLElBQUk7QUFDM0YsTUFBTSxtREFBbUQsS0FBSyxnQkFBZ0IsSUFBSTtBQUNsRjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0ZBQStGLE1BQU07QUFDckc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxPQUFPLGdCQUFnQixNQUFNO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRkFBbUYsSUFBSTtBQUN2RjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsS0FBSyxnQkFBZ0IsSUFBSTtBQUNwRTtBQUNBO0FBQ0EsdUVBQXVFLElBQUksU0FBUyxZQUFZO0FBQ2hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELElBQUksU0FBUyxZQUFZO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLCtCQUErQixnQkFBZ0IsSUFBSSxTQUFTLFlBQVk7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0VBQXdFLElBQUksU0FBUyxZQUFZO0FBQ2pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxnQkFBZ0IsSUFBSSxTQUFTLFlBQVk7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRSxZQUFZLGdCQUFnQixJQUFJO0FBQ25HO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDK0M7QUFDL0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvanNvbi5qcz9lZjljIl0sInNvdXJjZXNDb250ZW50IjpbIi8vI3JlZ2lvbiBzcmMvdXRpbHMvanNvbi50c1xuZnVuY3Rpb24gcGFyc2VKc29uTWFya2Rvd24ocywgcGFyc2VyID0gcGFyc2VQYXJ0aWFsSnNvbikge1xuXHRzID0gcy50cmltKCk7XG5cdGNvbnN0IGZpcnN0RmVuY2VJbmRleCA9IHMuaW5kZXhPZihcImBgYFwiKTtcblx0aWYgKGZpcnN0RmVuY2VJbmRleCA9PT0gLTEpIHJldHVybiBwYXJzZXIocyk7XG5cdGxldCBjb250ZW50QWZ0ZXJGZW5jZSA9IHMuc3Vic3RyaW5nKGZpcnN0RmVuY2VJbmRleCArIDMpO1xuXHRpZiAoY29udGVudEFmdGVyRmVuY2Uuc3RhcnRzV2l0aChcImpzb25cXG5cIikpIGNvbnRlbnRBZnRlckZlbmNlID0gY29udGVudEFmdGVyRmVuY2Uuc3Vic3RyaW5nKDUpO1xuXHRlbHNlIGlmIChjb250ZW50QWZ0ZXJGZW5jZS5zdGFydHNXaXRoKFwianNvblwiKSkgY29udGVudEFmdGVyRmVuY2UgPSBjb250ZW50QWZ0ZXJGZW5jZS5zdWJzdHJpbmcoNCk7XG5cdGVsc2UgaWYgKGNvbnRlbnRBZnRlckZlbmNlLnN0YXJ0c1dpdGgoXCJcXG5cIikpIGNvbnRlbnRBZnRlckZlbmNlID0gY29udGVudEFmdGVyRmVuY2Uuc3Vic3RyaW5nKDEpO1xuXHRjb25zdCBjbG9zaW5nRmVuY2VJbmRleCA9IGNvbnRlbnRBZnRlckZlbmNlLmluZGV4T2YoXCJgYGBcIik7XG5cdGxldCBmaW5hbENvbnRlbnQgPSBjb250ZW50QWZ0ZXJGZW5jZTtcblx0aWYgKGNsb3NpbmdGZW5jZUluZGV4ICE9PSAtMSkgZmluYWxDb250ZW50ID0gY29udGVudEFmdGVyRmVuY2Uuc3Vic3RyaW5nKDAsIGNsb3NpbmdGZW5jZUluZGV4KTtcblx0cmV0dXJuIHBhcnNlcihmaW5hbENvbnRlbnQudHJpbSgpKTtcbn1cbi8qKlxuKiBSZWN1cnNpdmUgZGVzY2VudCBwYXJ0aWFsIEpTT04gcGFyc2VyLlxuKiBAcGFyYW0gcyAtIFRoZSBzdHJpbmcgdG8gcGFyc2UuXG4qIEByZXR1cm5zIFRoZSBwYXJzZWQgdmFsdWUuXG4qIEB0aHJvd3MgRXJyb3IgaWYgdGhlIGlucHV0IGlzIGEgbWFsZm9ybWVkIEpTT04gc3RyaW5nLlxuKi9cbmZ1bmN0aW9uIHN0cmljdFBhcnNlUGFydGlhbEpzb24ocykge1xuXHR0cnkge1xuXHRcdHJldHVybiBKU09OLnBhcnNlKHMpO1xuXHR9IGNhdGNoIHt9XG5cdGNvbnN0IGJ1ZmZlciA9IHMudHJpbSgpO1xuXHRpZiAoYnVmZmVyLmxlbmd0aCA9PT0gMCkgdGhyb3cgbmV3IEVycm9yKFwiVW5leHBlY3RlZCBlbmQgb2YgSlNPTiBpbnB1dFwiKTtcblx0bGV0IHBvcyA9IDA7XG5cdGZ1bmN0aW9uIHNraXBXaGl0ZXNwYWNlKCkge1xuXHRcdHdoaWxlIChwb3MgPCBidWZmZXIubGVuZ3RoICYmIC9cXHMvLnRlc3QoYnVmZmVyW3Bvc10pKSBwb3MgKz0gMTtcblx0fVxuXHRmdW5jdGlvbiBwYXJzZVN0cmluZygpIHtcblx0XHRpZiAoYnVmZmVyW3Bvc10gIT09IFwiXFxcIlwiKSB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkICdcIicgYXQgcG9zaXRpb24gJHtwb3N9LCBnb3QgJyR7YnVmZmVyW3Bvc119J2ApO1xuXHRcdHBvcyArPSAxO1xuXHRcdGxldCByZXN1bHQgPSBcIlwiO1xuXHRcdGxldCBlc2NhcGVkID0gZmFsc2U7XG5cdFx0d2hpbGUgKHBvcyA8IGJ1ZmZlci5sZW5ndGgpIHtcblx0XHRcdGNvbnN0IGNoYXIgPSBidWZmZXJbcG9zXTtcblx0XHRcdGlmIChlc2NhcGVkKSB7XG5cdFx0XHRcdGlmIChjaGFyID09PSBcIm5cIikgcmVzdWx0ICs9IFwiXFxuXCI7XG5cdFx0XHRcdGVsc2UgaWYgKGNoYXIgPT09IFwidFwiKSByZXN1bHQgKz0gXCJcdFwiO1xuXHRcdFx0XHRlbHNlIGlmIChjaGFyID09PSBcInJcIikgcmVzdWx0ICs9IFwiXFxyXCI7XG5cdFx0XHRcdGVsc2UgaWYgKGNoYXIgPT09IFwiXFxcXFwiKSByZXN1bHQgKz0gXCJcXFxcXCI7XG5cdFx0XHRcdGVsc2UgaWYgKGNoYXIgPT09IFwiXFxcIlwiKSByZXN1bHQgKz0gXCJcXFwiXCI7XG5cdFx0XHRcdGVsc2UgaWYgKGNoYXIgPT09IFwiYlwiKSByZXN1bHQgKz0gXCJcXGJcIjtcblx0XHRcdFx0ZWxzZSBpZiAoY2hhciA9PT0gXCJmXCIpIHJlc3VsdCArPSBcIlxcZlwiO1xuXHRcdFx0XHRlbHNlIGlmIChjaGFyID09PSBcIi9cIikgcmVzdWx0ICs9IFwiL1wiO1xuXHRcdFx0XHRlbHNlIGlmIChjaGFyID09PSBcInVcIikge1xuXHRcdFx0XHRcdGNvbnN0IGhleCA9IGJ1ZmZlci5zdWJzdHJpbmcocG9zICsgMSwgcG9zICsgNSk7XG5cdFx0XHRcdFx0aWYgKC9eWzAtOUEtRmEtZl17MCw0fSQvLnRlc3QoaGV4KSkge1xuXHRcdFx0XHRcdFx0aWYgKGhleC5sZW5ndGggPT09IDQpIHJlc3VsdCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKE51bWJlci5wYXJzZUludChoZXgsIDE2KSk7XG5cdFx0XHRcdFx0XHRlbHNlIHJlc3VsdCArPSBgdSR7aGV4fWA7XG5cdFx0XHRcdFx0XHRwb3MgKz0gaGV4Lmxlbmd0aDtcblx0XHRcdFx0XHR9IGVsc2UgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHVuaWNvZGUgZXNjYXBlIHNlcXVlbmNlICdcXFxcdSR7aGV4fScgYXQgcG9zaXRpb24gJHtwb3N9YCk7XG5cdFx0XHRcdH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZXNjYXBlIHNlcXVlbmNlICdcXFxcJHtjaGFyfScgYXQgcG9zaXRpb24gJHtwb3N9YCk7XG5cdFx0XHRcdGVzY2FwZWQgPSBmYWxzZTtcblx0XHRcdH0gZWxzZSBpZiAoY2hhciA9PT0gXCJcXFxcXCIpIGVzY2FwZWQgPSB0cnVlO1xuXHRcdFx0ZWxzZSBpZiAoY2hhciA9PT0gXCJcXFwiXCIpIHtcblx0XHRcdFx0cG9zICs9IDE7XG5cdFx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0XHR9IGVsc2UgcmVzdWx0ICs9IGNoYXI7XG5cdFx0XHRwb3MgKz0gMTtcblx0XHR9XG5cdFx0aWYgKGVzY2FwZWQpIHJlc3VsdCArPSBcIlxcXFxcIjtcblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cdGZ1bmN0aW9uIHBhcnNlTnVtYmVyKCkge1xuXHRcdGNvbnN0IHN0YXJ0ID0gcG9zO1xuXHRcdGxldCBudW1TdHIgPSBcIlwiO1xuXHRcdGlmIChidWZmZXJbcG9zXSA9PT0gXCItXCIpIHtcblx0XHRcdG51bVN0ciArPSBcIi1cIjtcblx0XHRcdHBvcyArPSAxO1xuXHRcdH1cblx0XHRpZiAocG9zIDwgYnVmZmVyLmxlbmd0aCAmJiBidWZmZXJbcG9zXSA9PT0gXCIwXCIpIHtcblx0XHRcdG51bVN0ciArPSBcIjBcIjtcblx0XHRcdHBvcyArPSAxO1xuXHRcdFx0aWYgKGJ1ZmZlcltwb3NdID49IFwiMFwiICYmIGJ1ZmZlcltwb3NdIDw9IFwiOVwiKSB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgbnVtYmVyIGF0IHBvc2l0aW9uICR7c3RhcnR9YCk7XG5cdFx0fVxuXHRcdGlmIChwb3MgPCBidWZmZXIubGVuZ3RoICYmIGJ1ZmZlcltwb3NdID49IFwiMVwiICYmIGJ1ZmZlcltwb3NdIDw9IFwiOVwiKSB3aGlsZSAocG9zIDwgYnVmZmVyLmxlbmd0aCAmJiBidWZmZXJbcG9zXSA+PSBcIjBcIiAmJiBidWZmZXJbcG9zXSA8PSBcIjlcIikge1xuXHRcdFx0bnVtU3RyICs9IGJ1ZmZlcltwb3NdO1xuXHRcdFx0cG9zICs9IDE7XG5cdFx0fVxuXHRcdGlmIChwb3MgPCBidWZmZXIubGVuZ3RoICYmIGJ1ZmZlcltwb3NdID09PSBcIi5cIikge1xuXHRcdFx0bnVtU3RyICs9IFwiLlwiO1xuXHRcdFx0cG9zICs9IDE7XG5cdFx0XHR3aGlsZSAocG9zIDwgYnVmZmVyLmxlbmd0aCAmJiBidWZmZXJbcG9zXSA+PSBcIjBcIiAmJiBidWZmZXJbcG9zXSA8PSBcIjlcIikge1xuXHRcdFx0XHRudW1TdHIgKz0gYnVmZmVyW3Bvc107XG5cdFx0XHRcdHBvcyArPSAxO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAocG9zIDwgYnVmZmVyLmxlbmd0aCAmJiAoYnVmZmVyW3Bvc10gPT09IFwiZVwiIHx8IGJ1ZmZlcltwb3NdID09PSBcIkVcIikpIHtcblx0XHRcdG51bVN0ciArPSBidWZmZXJbcG9zXTtcblx0XHRcdHBvcyArPSAxO1xuXHRcdFx0aWYgKHBvcyA8IGJ1ZmZlci5sZW5ndGggJiYgKGJ1ZmZlcltwb3NdID09PSBcIitcIiB8fCBidWZmZXJbcG9zXSA9PT0gXCItXCIpKSB7XG5cdFx0XHRcdG51bVN0ciArPSBidWZmZXJbcG9zXTtcblx0XHRcdFx0cG9zICs9IDE7XG5cdFx0XHR9XG5cdFx0XHR3aGlsZSAocG9zIDwgYnVmZmVyLmxlbmd0aCAmJiBidWZmZXJbcG9zXSA+PSBcIjBcIiAmJiBidWZmZXJbcG9zXSA8PSBcIjlcIikge1xuXHRcdFx0XHRudW1TdHIgKz0gYnVmZmVyW3Bvc107XG5cdFx0XHRcdHBvcyArPSAxO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAobnVtU3RyID09PSBcIi1cIikgcmV0dXJuIC0wO1xuXHRcdGNvbnN0IG51bSA9IE51bWJlci5wYXJzZUZsb2F0KG51bVN0cik7XG5cdFx0aWYgKE51bWJlci5pc05hTihudW0pKSB7XG5cdFx0XHRwb3MgPSBzdGFydDtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBudW1iZXIgJyR7bnVtU3RyfScgYXQgcG9zaXRpb24gJHtzdGFydH1gKTtcblx0XHR9XG5cdFx0cmV0dXJuIG51bTtcblx0fVxuXHRmdW5jdGlvbiBwYXJzZVZhbHVlKCkge1xuXHRcdHNraXBXaGl0ZXNwYWNlKCk7XG5cdFx0aWYgKHBvcyA+PSBidWZmZXIubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgZW5kIG9mIGlucHV0IGF0IHBvc2l0aW9uICR7cG9zfWApO1xuXHRcdGNvbnN0IGNoYXIgPSBidWZmZXJbcG9zXTtcblx0XHRpZiAoY2hhciA9PT0gXCJ7XCIpIHJldHVybiBwYXJzZU9iamVjdCgpO1xuXHRcdGlmIChjaGFyID09PSBcIltcIikgcmV0dXJuIHBhcnNlQXJyYXkoKTtcblx0XHRpZiAoY2hhciA9PT0gXCJcXFwiXCIpIHJldHVybiBwYXJzZVN0cmluZygpO1xuXHRcdGlmIChcIm51bGxcIi5zdGFydHNXaXRoKGJ1ZmZlci5zdWJzdHJpbmcocG9zLCBwb3MgKyA0KSkpIHtcblx0XHRcdHBvcyArPSBNYXRoLm1pbig0LCBidWZmZXIubGVuZ3RoIC0gcG9zKTtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0XHRpZiAoXCJ0cnVlXCIuc3RhcnRzV2l0aChidWZmZXIuc3Vic3RyaW5nKHBvcywgcG9zICsgNCkpKSB7XG5cdFx0XHRwb3MgKz0gTWF0aC5taW4oNCwgYnVmZmVyLmxlbmd0aCAtIHBvcyk7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdFx0aWYgKFwiZmFsc2VcIi5zdGFydHNXaXRoKGJ1ZmZlci5zdWJzdHJpbmcocG9zLCBwb3MgKyA1KSkpIHtcblx0XHRcdHBvcyArPSBNYXRoLm1pbig1LCBidWZmZXIubGVuZ3RoIC0gcG9zKTtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0aWYgKGNoYXIgPT09IFwiLVwiIHx8IGNoYXIgPj0gXCIwXCIgJiYgY2hhciA8PSBcIjlcIikgcmV0dXJuIHBhcnNlTnVtYmVyKCk7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIGNoYXJhY3RlciAnJHtjaGFyfScgYXQgcG9zaXRpb24gJHtwb3N9YCk7XG5cdH1cblx0ZnVuY3Rpb24gcGFyc2VBcnJheSgpIHtcblx0XHRpZiAoYnVmZmVyW3Bvc10gIT09IFwiW1wiKSB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkICdbJyBhdCBwb3NpdGlvbiAke3Bvc30sIGdvdCAnJHtidWZmZXJbcG9zXX0nYCk7XG5cdFx0Y29uc3QgYXJyID0gW107XG5cdFx0cG9zICs9IDE7XG5cdFx0c2tpcFdoaXRlc3BhY2UoKTtcblx0XHRpZiAocG9zID49IGJ1ZmZlci5sZW5ndGgpIHJldHVybiBhcnI7XG5cdFx0aWYgKGJ1ZmZlcltwb3NdID09PSBcIl1cIikge1xuXHRcdFx0cG9zICs9IDE7XG5cdFx0XHRyZXR1cm4gYXJyO1xuXHRcdH1cblx0XHR3aGlsZSAocG9zIDwgYnVmZmVyLmxlbmd0aCkge1xuXHRcdFx0c2tpcFdoaXRlc3BhY2UoKTtcblx0XHRcdGlmIChwb3MgPj0gYnVmZmVyLmxlbmd0aCkgcmV0dXJuIGFycjtcblx0XHRcdGFyci5wdXNoKHBhcnNlVmFsdWUoKSk7XG5cdFx0XHRza2lwV2hpdGVzcGFjZSgpO1xuXHRcdFx0aWYgKHBvcyA+PSBidWZmZXIubGVuZ3RoKSByZXR1cm4gYXJyO1xuXHRcdFx0aWYgKGJ1ZmZlcltwb3NdID09PSBcIl1cIikge1xuXHRcdFx0XHRwb3MgKz0gMTtcblx0XHRcdFx0cmV0dXJuIGFycjtcblx0XHRcdH0gZWxzZSBpZiAoYnVmZmVyW3Bvc10gPT09IFwiLFwiKSB7XG5cdFx0XHRcdHBvcyArPSAxO1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgJywnIG9yICddJyBhdCBwb3NpdGlvbiAke3Bvc30sIGdvdCAnJHtidWZmZXJbcG9zXX0nYCk7XG5cdFx0fVxuXHRcdHJldHVybiBhcnI7XG5cdH1cblx0ZnVuY3Rpb24gcGFyc2VPYmplY3QoKSB7XG5cdFx0aWYgKGJ1ZmZlcltwb3NdICE9PSBcIntcIikgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCAneycgYXQgcG9zaXRpb24gJHtwb3N9LCBnb3QgJyR7YnVmZmVyW3Bvc119J2ApO1xuXHRcdGNvbnN0IG9iaiA9IHt9O1xuXHRcdHBvcyArPSAxO1xuXHRcdHNraXBXaGl0ZXNwYWNlKCk7XG5cdFx0aWYgKHBvcyA+PSBidWZmZXIubGVuZ3RoKSByZXR1cm4gb2JqO1xuXHRcdGlmIChidWZmZXJbcG9zXSA9PT0gXCJ9XCIpIHtcblx0XHRcdHBvcyArPSAxO1xuXHRcdFx0cmV0dXJuIG9iajtcblx0XHR9XG5cdFx0d2hpbGUgKHBvcyA8IGJ1ZmZlci5sZW5ndGgpIHtcblx0XHRcdHNraXBXaGl0ZXNwYWNlKCk7XG5cdFx0XHRpZiAocG9zID49IGJ1ZmZlci5sZW5ndGgpIHJldHVybiBvYmo7XG5cdFx0XHRjb25zdCBrZXkgPSBwYXJzZVN0cmluZygpO1xuXHRcdFx0c2tpcFdoaXRlc3BhY2UoKTtcblx0XHRcdGlmIChwb3MgPj0gYnVmZmVyLmxlbmd0aCkgcmV0dXJuIG9iajtcblx0XHRcdGlmIChidWZmZXJbcG9zXSAhPT0gXCI6XCIpIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgJzonIGF0IHBvc2l0aW9uICR7cG9zfSwgZ290ICcke2J1ZmZlcltwb3NdfSdgKTtcblx0XHRcdHBvcyArPSAxO1xuXHRcdFx0c2tpcFdoaXRlc3BhY2UoKTtcblx0XHRcdGlmIChwb3MgPj0gYnVmZmVyLmxlbmd0aCkgcmV0dXJuIG9iajtcblx0XHRcdG9ialtrZXldID0gcGFyc2VWYWx1ZSgpO1xuXHRcdFx0c2tpcFdoaXRlc3BhY2UoKTtcblx0XHRcdGlmIChwb3MgPj0gYnVmZmVyLmxlbmd0aCkgcmV0dXJuIG9iajtcblx0XHRcdGlmIChidWZmZXJbcG9zXSA9PT0gXCJ9XCIpIHtcblx0XHRcdFx0cG9zICs9IDE7XG5cdFx0XHRcdHJldHVybiBvYmo7XG5cdFx0XHR9IGVsc2UgaWYgKGJ1ZmZlcltwb3NdID09PSBcIixcIikge1xuXHRcdFx0XHRwb3MgKz0gMTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkICcsJyBvciAnfScgYXQgcG9zaXRpb24gJHtwb3N9LCBnb3QgJyR7YnVmZmVyW3Bvc119J2ApO1xuXHRcdH1cblx0XHRyZXR1cm4gb2JqO1xuXHR9XG5cdGNvbnN0IHZhbHVlID0gcGFyc2VWYWx1ZSgpO1xuXHRza2lwV2hpdGVzcGFjZSgpO1xuXHRpZiAocG9zIDwgYnVmZmVyLmxlbmd0aCkgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIGNoYXJhY3RlciAnJHtidWZmZXJbcG9zXX0nIGF0IHBvc2l0aW9uICR7cG9zfWApO1xuXHRyZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBwYXJzZVBhcnRpYWxKc29uKHMpIHtcblx0dHJ5IHtcblx0XHRpZiAodHlwZW9mIHMgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybiBudWxsO1xuXHRcdHJldHVybiBzdHJpY3RQYXJzZVBhcnRpYWxKc29uKHMpO1xuXHR9IGNhdGNoIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IHBhcnNlSnNvbk1hcmtkb3duLCBwYXJzZVBhcnRpYWxKc29uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1qc29uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/json.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/json_patch.js":
/*!**********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/json_patch.js ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   applyPatch: () => (/* reexport safe */ _fast_json_patch_src_core_js__WEBPACK_IMPORTED_MODULE_1__.applyPatch),\n/* harmony export */   compare: () => (/* reexport safe */ _fast_json_patch_src_duplex_js__WEBPACK_IMPORTED_MODULE_2__.compare),\n/* harmony export */   json_patch_exports: () => (/* binding */ json_patch_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _fast_json_patch_src_core_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fast-json-patch/src/core.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/fast-json-patch/src/core.js\");\n/* harmony import */ var _fast_json_patch_src_duplex_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./fast-json-patch/src/duplex.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/fast-json-patch/src/duplex.js\");\n/* harmony import */ var _fast_json_patch_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./fast-json-patch/index.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/fast-json-patch/index.js\");\n\n\n\n\n\n//#region src/utils/json_patch.ts\nvar json_patch_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(json_patch_exports, {\n\tapplyPatch: () => _fast_json_patch_src_core_js__WEBPACK_IMPORTED_MODULE_1__.applyPatch,\n\tcompare: () => _fast_json_patch_src_duplex_js__WEBPACK_IMPORTED_MODULE_2__.compare\n});\n\n//#endregion\n\n//# sourceMappingURL=json_patch.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL2pzb25fcGF0Y2guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUEyRDtBQUNBO0FBQ0Q7QUFDdEI7O0FBRXBDO0FBQ0E7QUFDQSxzRUFBUTtBQUNSLG1CQUFtQixvRUFBVTtBQUM3QixnQkFBZ0IsbUVBQU87QUFDdkIsQ0FBQzs7QUFFRDtBQUNtRDtBQUNuRCIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9qc29uX3BhdGNoLmpzP2Q1NWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19leHBvcnQgfSBmcm9tIFwiLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5qc1wiO1xuaW1wb3J0IHsgYXBwbHlQYXRjaCB9IGZyb20gXCIuL2Zhc3QtanNvbi1wYXRjaC9zcmMvY29yZS5qc1wiO1xuaW1wb3J0IHsgY29tcGFyZSB9IGZyb20gXCIuL2Zhc3QtanNvbi1wYXRjaC9zcmMvZHVwbGV4LmpzXCI7XG5pbXBvcnQgXCIuL2Zhc3QtanNvbi1wYXRjaC9pbmRleC5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL2pzb25fcGF0Y2gudHNcbnZhciBqc29uX3BhdGNoX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KGpzb25fcGF0Y2hfZXhwb3J0cywge1xuXHRhcHBseVBhdGNoOiAoKSA9PiBhcHBseVBhdGNoLFxuXHRjb21wYXJlOiAoKSA9PiBjb21wYXJlXG59KTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBhcHBseVBhdGNoLCBjb21wYXJlLCBqc29uX3BhdGNoX2V4cG9ydHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWpzb25fcGF0Y2guanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/json_patch.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/json_schema.js":
/*!***********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/json_schema.js ***!
  \***********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Validator: () => (/* reexport safe */ _cfworker_json_schema__WEBPACK_IMPORTED_MODULE_5__.Validator),\n/* harmony export */   deepCompareStrict: () => (/* reexport safe */ _cfworker_json_schema__WEBPACK_IMPORTED_MODULE_5__.deepCompareStrict),\n/* harmony export */   json_schema_exports: () => (/* binding */ json_schema_exports),\n/* harmony export */   toJsonSchema: () => (/* binding */ toJsonSchema),\n/* harmony export */   validatesOnlyStrings: () => (/* binding */ validatesOnlyStrings)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _types_zod_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./types/zod.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/types/zod.js\");\n/* harmony import */ var _zod_to_json_schema_zodToJsonSchema_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./zod-to-json-schema/zodToJsonSchema.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/zodToJsonSchema.js\");\n/* harmony import */ var _zod_to_json_schema_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./zod-to-json-schema/index.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/index.js\");\n/* harmony import */ var zod_v4_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! zod/v4/core */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+zod@4.3.6/node_modules/zod/v4/core/index.js\");\n/* harmony import */ var _cfworker_json_schema__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @cfworker/json-schema */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@cfworker+json-schema@4.1.1/node_modules/@cfworker/json-schema/dist/esm/index.js\");\n\n\n\n\n\n\n\n//#region src/utils/json_schema.ts\nvar json_schema_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(json_schema_exports, {\n\tValidator: () => _cfworker_json_schema__WEBPACK_IMPORTED_MODULE_5__.Validator,\n\tdeepCompareStrict: () => _cfworker_json_schema__WEBPACK_IMPORTED_MODULE_5__.deepCompareStrict,\n\ttoJsonSchema: () => toJsonSchema,\n\tvalidatesOnlyStrings: () => validatesOnlyStrings\n});\n/**\n* Converts a Zod schema or JSON schema to a JSON schema.\n* @param schema - The schema to convert.\n* @param params - The parameters to pass to the toJSONSchema function.\n* @returns The converted schema.\n*/\nfunction toJsonSchema(schema, params) {\n\tif ((0,_types_zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodSchemaV4)(schema)) {\n\t\tconst inputSchema = (0,_types_zod_js__WEBPACK_IMPORTED_MODULE_1__.interopZodTransformInputSchema)(schema, true);\n\t\tif ((0,_types_zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodObjectV4)(inputSchema)) {\n\t\t\tconst strictSchema = (0,_types_zod_js__WEBPACK_IMPORTED_MODULE_1__.interopZodObjectStrict)(inputSchema, true);\n\t\t\treturn (0,zod_v4_core__WEBPACK_IMPORTED_MODULE_4__.toJSONSchema)(strictSchema, params);\n\t\t} else return (0,zod_v4_core__WEBPACK_IMPORTED_MODULE_4__.toJSONSchema)(schema, params);\n\t}\n\tif ((0,_types_zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodSchemaV3)(schema)) return (0,_zod_to_json_schema_zodToJsonSchema_js__WEBPACK_IMPORTED_MODULE_2__.zodToJsonSchema)(schema);\n\treturn schema;\n}\n/**\n* Validates if a JSON schema validates only strings. May return false negatives in some edge cases\n* (like recursive or unresolvable refs).\n*\n* @param schema - The schema to validate.\n* @returns `true` if the schema validates only strings, `false` otherwise.\n*/\nfunction validatesOnlyStrings(schema) {\n\tif (!schema || typeof schema !== \"object\" || Object.keys(schema).length === 0 || Array.isArray(schema)) return false;\n\tif (\"type\" in schema) {\n\t\tif (typeof schema.type === \"string\") return schema.type === \"string\";\n\t\tif (Array.isArray(schema.type)) return schema.type.every((t) => t === \"string\");\n\t\treturn false;\n\t}\n\tif (\"enum\" in schema) return Array.isArray(schema.enum) && schema.enum.length > 0 && schema.enum.every((val) => typeof val === \"string\");\n\tif (\"const\" in schema) return typeof schema.const === \"string\";\n\tif (\"allOf\" in schema && Array.isArray(schema.allOf)) return schema.allOf.some((subschema) => validatesOnlyStrings(subschema));\n\tif (\"anyOf\" in schema && Array.isArray(schema.anyOf) || \"oneOf\" in schema && Array.isArray(schema.oneOf)) {\n\t\tconst subschemas = \"anyOf\" in schema ? schema.anyOf : schema.oneOf;\n\t\treturn subschemas.length > 0 && subschemas.every((subschema) => validatesOnlyStrings(subschema));\n\t}\n\tif (\"not\" in schema) return false;\n\tif (\"$ref\" in schema && typeof schema.$ref === \"string\") {\n\t\tconst ref = schema.$ref;\n\t\tconst resolved = (0,_cfworker_json_schema__WEBPACK_IMPORTED_MODULE_5__.dereference)(schema);\n\t\tif (resolved[ref]) return validatesOnlyStrings(resolved[ref]);\n\t\treturn false;\n\t}\n\treturn false;\n}\n\n//#endregion\n\n//# sourceMappingURL=json_schema.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL2pzb25fc2NoZW1hLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQTJEO0FBQzBFO0FBQzNEO0FBQ25DO0FBQ0k7QUFDdUM7O0FBRWxGO0FBQ0E7QUFDQSxzRUFBUTtBQUNSLGtCQUFrQiw0REFBUztBQUMzQiwwQkFBMEIsb0VBQWlCO0FBQzNDO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLDREQUFhO0FBQ2xCLHNCQUFzQiw2RUFBOEI7QUFDcEQsTUFBTSw0REFBYTtBQUNuQix3QkFBd0IscUVBQXNCO0FBQzlDLFVBQVUseURBQVk7QUFDdEIsSUFBSSxZQUFZLHlEQUFZO0FBQzVCO0FBQ0EsS0FBSyw0REFBYSxpQkFBaUIsdUZBQWU7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixrRUFBVztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ2lHO0FBQ2pHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL2pzb25fc2NoZW1hLmpzPzc5MWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19leHBvcnQgfSBmcm9tIFwiLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5qc1wiO1xuaW1wb3J0IHsgaW50ZXJvcFpvZE9iamVjdFN0cmljdCwgaW50ZXJvcFpvZFRyYW5zZm9ybUlucHV0U2NoZW1hLCBpc1pvZE9iamVjdFY0LCBpc1pvZFNjaGVtYVYzLCBpc1pvZFNjaGVtYVY0IH0gZnJvbSBcIi4vdHlwZXMvem9kLmpzXCI7XG5pbXBvcnQgeyB6b2RUb0pzb25TY2hlbWEgfSBmcm9tIFwiLi96b2QtdG8tanNvbi1zY2hlbWEvem9kVG9Kc29uU2NoZW1hLmpzXCI7XG5pbXBvcnQgXCIuL3pvZC10by1qc29uLXNjaGVtYS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgdG9KU09OU2NoZW1hIH0gZnJvbSBcInpvZC92NC9jb3JlXCI7XG5pbXBvcnQgeyBWYWxpZGF0b3IsIGRlZXBDb21wYXJlU3RyaWN0LCBkZXJlZmVyZW5jZSB9IGZyb20gXCJAY2Z3b3JrZXIvanNvbi1zY2hlbWFcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy9qc29uX3NjaGVtYS50c1xudmFyIGpzb25fc2NoZW1hX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KGpzb25fc2NoZW1hX2V4cG9ydHMsIHtcblx0VmFsaWRhdG9yOiAoKSA9PiBWYWxpZGF0b3IsXG5cdGRlZXBDb21wYXJlU3RyaWN0OiAoKSA9PiBkZWVwQ29tcGFyZVN0cmljdCxcblx0dG9Kc29uU2NoZW1hOiAoKSA9PiB0b0pzb25TY2hlbWEsXG5cdHZhbGlkYXRlc09ubHlTdHJpbmdzOiAoKSA9PiB2YWxpZGF0ZXNPbmx5U3RyaW5nc1xufSk7XG4vKipcbiogQ29udmVydHMgYSBab2Qgc2NoZW1hIG9yIEpTT04gc2NoZW1hIHRvIGEgSlNPTiBzY2hlbWEuXG4qIEBwYXJhbSBzY2hlbWEgLSBUaGUgc2NoZW1hIHRvIGNvbnZlcnQuXG4qIEBwYXJhbSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyB0byBwYXNzIHRvIHRoZSB0b0pTT05TY2hlbWEgZnVuY3Rpb24uXG4qIEByZXR1cm5zIFRoZSBjb252ZXJ0ZWQgc2NoZW1hLlxuKi9cbmZ1bmN0aW9uIHRvSnNvblNjaGVtYShzY2hlbWEsIHBhcmFtcykge1xuXHRpZiAoaXNab2RTY2hlbWFWNChzY2hlbWEpKSB7XG5cdFx0Y29uc3QgaW5wdXRTY2hlbWEgPSBpbnRlcm9wWm9kVHJhbnNmb3JtSW5wdXRTY2hlbWEoc2NoZW1hLCB0cnVlKTtcblx0XHRpZiAoaXNab2RPYmplY3RWNChpbnB1dFNjaGVtYSkpIHtcblx0XHRcdGNvbnN0IHN0cmljdFNjaGVtYSA9IGludGVyb3Bab2RPYmplY3RTdHJpY3QoaW5wdXRTY2hlbWEsIHRydWUpO1xuXHRcdFx0cmV0dXJuIHRvSlNPTlNjaGVtYShzdHJpY3RTY2hlbWEsIHBhcmFtcyk7XG5cdFx0fSBlbHNlIHJldHVybiB0b0pTT05TY2hlbWEoc2NoZW1hLCBwYXJhbXMpO1xuXHR9XG5cdGlmIChpc1pvZFNjaGVtYVYzKHNjaGVtYSkpIHJldHVybiB6b2RUb0pzb25TY2hlbWEoc2NoZW1hKTtcblx0cmV0dXJuIHNjaGVtYTtcbn1cbi8qKlxuKiBWYWxpZGF0ZXMgaWYgYSBKU09OIHNjaGVtYSB2YWxpZGF0ZXMgb25seSBzdHJpbmdzLiBNYXkgcmV0dXJuIGZhbHNlIG5lZ2F0aXZlcyBpbiBzb21lIGVkZ2UgY2FzZXNcbiogKGxpa2UgcmVjdXJzaXZlIG9yIHVucmVzb2x2YWJsZSByZWZzKS5cbipcbiogQHBhcmFtIHNjaGVtYSAtIFRoZSBzY2hlbWEgdG8gdmFsaWRhdGUuXG4qIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgc2NoZW1hIHZhbGlkYXRlcyBvbmx5IHN0cmluZ3MsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuKi9cbmZ1bmN0aW9uIHZhbGlkYXRlc09ubHlTdHJpbmdzKHNjaGVtYSkge1xuXHRpZiAoIXNjaGVtYSB8fCB0eXBlb2Ygc2NoZW1hICE9PSBcIm9iamVjdFwiIHx8IE9iamVjdC5rZXlzKHNjaGVtYSkubGVuZ3RoID09PSAwIHx8IEFycmF5LmlzQXJyYXkoc2NoZW1hKSkgcmV0dXJuIGZhbHNlO1xuXHRpZiAoXCJ0eXBlXCIgaW4gc2NoZW1hKSB7XG5cdFx0aWYgKHR5cGVvZiBzY2hlbWEudHlwZSA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIHNjaGVtYS50eXBlID09PSBcInN0cmluZ1wiO1xuXHRcdGlmIChBcnJheS5pc0FycmF5KHNjaGVtYS50eXBlKSkgcmV0dXJuIHNjaGVtYS50eXBlLmV2ZXJ5KCh0KSA9PiB0ID09PSBcInN0cmluZ1wiKTtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0aWYgKFwiZW51bVwiIGluIHNjaGVtYSkgcmV0dXJuIEFycmF5LmlzQXJyYXkoc2NoZW1hLmVudW0pICYmIHNjaGVtYS5lbnVtLmxlbmd0aCA+IDAgJiYgc2NoZW1hLmVudW0uZXZlcnkoKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gXCJzdHJpbmdcIik7XG5cdGlmIChcImNvbnN0XCIgaW4gc2NoZW1hKSByZXR1cm4gdHlwZW9mIHNjaGVtYS5jb25zdCA9PT0gXCJzdHJpbmdcIjtcblx0aWYgKFwiYWxsT2ZcIiBpbiBzY2hlbWEgJiYgQXJyYXkuaXNBcnJheShzY2hlbWEuYWxsT2YpKSByZXR1cm4gc2NoZW1hLmFsbE9mLnNvbWUoKHN1YnNjaGVtYSkgPT4gdmFsaWRhdGVzT25seVN0cmluZ3Moc3Vic2NoZW1hKSk7XG5cdGlmIChcImFueU9mXCIgaW4gc2NoZW1hICYmIEFycmF5LmlzQXJyYXkoc2NoZW1hLmFueU9mKSB8fCBcIm9uZU9mXCIgaW4gc2NoZW1hICYmIEFycmF5LmlzQXJyYXkoc2NoZW1hLm9uZU9mKSkge1xuXHRcdGNvbnN0IHN1YnNjaGVtYXMgPSBcImFueU9mXCIgaW4gc2NoZW1hID8gc2NoZW1hLmFueU9mIDogc2NoZW1hLm9uZU9mO1xuXHRcdHJldHVybiBzdWJzY2hlbWFzLmxlbmd0aCA+IDAgJiYgc3Vic2NoZW1hcy5ldmVyeSgoc3Vic2NoZW1hKSA9PiB2YWxpZGF0ZXNPbmx5U3RyaW5ncyhzdWJzY2hlbWEpKTtcblx0fVxuXHRpZiAoXCJub3RcIiBpbiBzY2hlbWEpIHJldHVybiBmYWxzZTtcblx0aWYgKFwiJHJlZlwiIGluIHNjaGVtYSAmJiB0eXBlb2Ygc2NoZW1hLiRyZWYgPT09IFwic3RyaW5nXCIpIHtcblx0XHRjb25zdCByZWYgPSBzY2hlbWEuJHJlZjtcblx0XHRjb25zdCByZXNvbHZlZCA9IGRlcmVmZXJlbmNlKHNjaGVtYSk7XG5cdFx0aWYgKHJlc29sdmVkW3JlZl0pIHJldHVybiB2YWxpZGF0ZXNPbmx5U3RyaW5ncyhyZXNvbHZlZFtyZWZdKTtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0cmV0dXJuIGZhbHNlO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IFZhbGlkYXRvciwgZGVlcENvbXBhcmVTdHJpY3QsIGpzb25fc2NoZW1hX2V4cG9ydHMsIHRvSnNvblNjaGVtYSwgdmFsaWRhdGVzT25seVN0cmluZ3MgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWpzb25fc2NoZW1hLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/json_schema.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/p-retry/index.js":
/*!*************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/p-retry/index.js ***!
  \*************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   pRetry: () => (/* binding */ pRetry)\n/* harmony export */ });\n/* harmony import */ var _is_network_error_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../is-network-error/index.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/is-network-error/index.js\");\n\n\n//#region src/utils/p-retry/index.js\nfunction validateRetries(retries) {\n\tif (typeof retries === \"number\") {\n\t\tif (retries < 0) throw new TypeError(\"Expected `retries` to be a non-negative number.\");\n\t\tif (Number.isNaN(retries)) throw new TypeError(\"Expected `retries` to be a valid number or Infinity, got NaN.\");\n\t} else if (retries !== void 0) throw new TypeError(\"Expected `retries` to be a number or Infinity.\");\n}\nfunction validateNumberOption(name, value, { min = 0, allowInfinity = false } = {}) {\n\tif (value === void 0) return;\n\tif (typeof value !== \"number\" || Number.isNaN(value)) throw new TypeError(`Expected \\`${name}\\` to be a number${allowInfinity ? \" or Infinity\" : \"\"}.`);\n\tif (!allowInfinity && !Number.isFinite(value)) throw new TypeError(`Expected \\`${name}\\` to be a finite number.`);\n\tif (value < min) throw new TypeError(`Expected \\`${name}\\` to be \\u2265 ${min}.`);\n}\nvar AbortError = class extends Error {\n\tconstructor(message) {\n\t\tsuper();\n\t\tif (message instanceof Error) {\n\t\t\tthis.originalError = message;\n\t\t\t({message} = message);\n\t\t} else {\n\t\t\tthis.originalError = new Error(message);\n\t\t\tthis.originalError.stack = this.stack;\n\t\t}\n\t\tthis.name = \"AbortError\";\n\t\tthis.message = message;\n\t}\n};\nfunction calculateDelay(retriesConsumed, options) {\n\tconst attempt = Math.max(1, retriesConsumed + 1);\n\tconst random = options.randomize ? Math.random() + 1 : 1;\n\tlet timeout = Math.round(random * options.minTimeout * options.factor ** (attempt - 1));\n\ttimeout = Math.min(timeout, options.maxTimeout);\n\treturn timeout;\n}\nfunction calculateRemainingTime(start, max) {\n\tif (!Number.isFinite(max)) return max;\n\treturn max - (performance.now() - start);\n}\nasync function onAttemptFailure({ error, attemptNumber, retriesConsumed, startTime, options }) {\n\tconst normalizedError = error instanceof Error ? error : /* @__PURE__ */ new TypeError(`Non-error was thrown: \"${error}\". You should only throw errors.`);\n\tif (normalizedError instanceof AbortError) throw normalizedError.originalError;\n\tconst retriesLeft = Number.isFinite(options.retries) ? Math.max(0, options.retries - retriesConsumed) : options.retries;\n\tconst maxRetryTime = options.maxRetryTime ?? Number.POSITIVE_INFINITY;\n\tconst context = Object.freeze({\n\t\terror: normalizedError,\n\t\tattemptNumber,\n\t\tretriesLeft,\n\t\tretriesConsumed\n\t});\n\tawait options.onFailedAttempt(context);\n\tif (calculateRemainingTime(startTime, maxRetryTime) <= 0) throw normalizedError;\n\tconst consumeRetry = await options.shouldConsumeRetry(context);\n\tconst remainingTime = calculateRemainingTime(startTime, maxRetryTime);\n\tif (remainingTime <= 0 || retriesLeft <= 0) throw normalizedError;\n\tif (normalizedError instanceof TypeError && !(0,_is_network_error_index_js__WEBPACK_IMPORTED_MODULE_0__.isNetworkError)(normalizedError)) {\n\t\tif (consumeRetry) throw normalizedError;\n\t\toptions.signal?.throwIfAborted();\n\t\treturn false;\n\t}\n\tif (!await options.shouldRetry(context)) throw normalizedError;\n\tif (!consumeRetry) {\n\t\toptions.signal?.throwIfAborted();\n\t\treturn false;\n\t}\n\tconst delayTime = calculateDelay(retriesConsumed, options);\n\tconst finalDelay = Math.min(delayTime, remainingTime);\n\tif (finalDelay > 0) await new Promise((resolve, reject) => {\n\t\tconst onAbort = () => {\n\t\t\tclearTimeout(timeoutToken);\n\t\t\toptions.signal?.removeEventListener(\"abort\", onAbort);\n\t\t\treject(options.signal.reason);\n\t\t};\n\t\tconst timeoutToken = setTimeout(() => {\n\t\t\toptions.signal?.removeEventListener(\"abort\", onAbort);\n\t\t\tresolve();\n\t\t}, finalDelay);\n\t\tif (options.unref) timeoutToken.unref?.();\n\t\toptions.signal?.addEventListener(\"abort\", onAbort, { once: true });\n\t});\n\toptions.signal?.throwIfAborted();\n\treturn true;\n}\nasync function pRetry(input, options = {}) {\n\toptions = { ...options };\n\tvalidateRetries(options.retries);\n\tif (Object.hasOwn(options, \"forever\")) throw new Error(\"The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.\");\n\toptions.retries ??= 10;\n\toptions.factor ??= 2;\n\toptions.minTimeout ??= 1e3;\n\toptions.maxTimeout ??= Number.POSITIVE_INFINITY;\n\toptions.maxRetryTime ??= Number.POSITIVE_INFINITY;\n\toptions.randomize ??= false;\n\toptions.onFailedAttempt ??= () => {};\n\toptions.shouldRetry ??= () => true;\n\toptions.shouldConsumeRetry ??= () => true;\n\tvalidateNumberOption(\"factor\", options.factor, {\n\t\tmin: 0,\n\t\tallowInfinity: false\n\t});\n\tvalidateNumberOption(\"minTimeout\", options.minTimeout, {\n\t\tmin: 0,\n\t\tallowInfinity: false\n\t});\n\tvalidateNumberOption(\"maxTimeout\", options.maxTimeout, {\n\t\tmin: 0,\n\t\tallowInfinity: true\n\t});\n\tvalidateNumberOption(\"maxRetryTime\", options.maxRetryTime, {\n\t\tmin: 0,\n\t\tallowInfinity: true\n\t});\n\tif (!(options.factor > 0)) options.factor = 1;\n\toptions.signal?.throwIfAborted();\n\tlet attemptNumber = 0;\n\tlet retriesConsumed = 0;\n\tconst startTime = performance.now();\n\twhile (Number.isFinite(options.retries) ? retriesConsumed <= options.retries : true) {\n\t\tattemptNumber++;\n\t\ttry {\n\t\t\toptions.signal?.throwIfAborted();\n\t\t\tconst result = await input(attemptNumber);\n\t\t\toptions.signal?.throwIfAborted();\n\t\t\treturn result;\n\t\t} catch (error) {\n\t\t\tif (await onAttemptFailure({\n\t\t\t\terror,\n\t\t\t\tattemptNumber,\n\t\t\t\tretriesConsumed,\n\t\t\t\tstartTime,\n\t\t\t\toptions\n\t\t\t})) retriesConsumed++;\n\t\t}\n\t}\n\tthrow new Error(\"Retry attempts exhausted without throwing an error.\");\n}\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3AtcmV0cnkvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBOEQ7O0FBRTlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSw2Q0FBNkMsaUNBQWlDLElBQUk7QUFDbEY7QUFDQSx5RkFBeUYsS0FBSyxtQkFBbUIsb0NBQW9DO0FBQ3JKLGtGQUFrRixLQUFLO0FBQ3ZGLG9EQUFvRCxLQUFLLGtCQUFrQixJQUFJO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssU0FBUztBQUNkLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsMkRBQTJEO0FBQzdGLGtIQUFrSCxNQUFNO0FBQ3hIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QywwRUFBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsdURBQXVELFlBQVk7QUFDbkUsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QyxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ2tCO0FBQ2xCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3AtcmV0cnkvaW5kZXguanM/OTNlMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc05ldHdvcmtFcnJvciB9IGZyb20gXCIuLi9pcy1uZXR3b3JrLWVycm9yL2luZGV4LmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvcC1yZXRyeS9pbmRleC5qc1xuZnVuY3Rpb24gdmFsaWRhdGVSZXRyaWVzKHJldHJpZXMpIHtcblx0aWYgKHR5cGVvZiByZXRyaWVzID09PSBcIm51bWJlclwiKSB7XG5cdFx0aWYgKHJldHJpZXMgPCAwKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgYHJldHJpZXNgIHRvIGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci5cIik7XG5cdFx0aWYgKE51bWJlci5pc05hTihyZXRyaWVzKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkV4cGVjdGVkIGByZXRyaWVzYCB0byBiZSBhIHZhbGlkIG51bWJlciBvciBJbmZpbml0eSwgZ290IE5hTi5cIik7XG5cdH0gZWxzZSBpZiAocmV0cmllcyAhPT0gdm9pZCAwKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgYHJldHJpZXNgIHRvIGJlIGEgbnVtYmVyIG9yIEluZmluaXR5LlwiKTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlTnVtYmVyT3B0aW9uKG5hbWUsIHZhbHVlLCB7IG1pbiA9IDAsIGFsbG93SW5maW5pdHkgPSBmYWxzZSB9ID0ge30pIHtcblx0aWYgKHZhbHVlID09PSB2b2lkIDApIHJldHVybjtcblx0aWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJudW1iZXJcIiB8fCBOdW1iZXIuaXNOYU4odmFsdWUpKSB0aHJvdyBuZXcgVHlwZUVycm9yKGBFeHBlY3RlZCBcXGAke25hbWV9XFxgIHRvIGJlIGEgbnVtYmVyJHthbGxvd0luZmluaXR5ID8gXCIgb3IgSW5maW5pdHlcIiA6IFwiXCJ9LmApO1xuXHRpZiAoIWFsbG93SW5maW5pdHkgJiYgIU51bWJlci5pc0Zpbml0ZSh2YWx1ZSkpIHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIFxcYCR7bmFtZX1cXGAgdG8gYmUgYSBmaW5pdGUgbnVtYmVyLmApO1xuXHRpZiAodmFsdWUgPCBtaW4pIHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIFxcYCR7bmFtZX1cXGAgdG8gYmUgXFx1MjI2NSAke21pbn0uYCk7XG59XG52YXIgQWJvcnRFcnJvciA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuXHRjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG5cdFx0c3VwZXIoKTtcblx0XHRpZiAobWVzc2FnZSBpbnN0YW5jZW9mIEVycm9yKSB7XG5cdFx0XHR0aGlzLm9yaWdpbmFsRXJyb3IgPSBtZXNzYWdlO1xuXHRcdFx0KHttZXNzYWdlfSA9IG1lc3NhZ2UpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLm9yaWdpbmFsRXJyb3IgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG5cdFx0XHR0aGlzLm9yaWdpbmFsRXJyb3Iuc3RhY2sgPSB0aGlzLnN0YWNrO1xuXHRcdH1cblx0XHR0aGlzLm5hbWUgPSBcIkFib3J0RXJyb3JcIjtcblx0XHR0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuXHR9XG59O1xuZnVuY3Rpb24gY2FsY3VsYXRlRGVsYXkocmV0cmllc0NvbnN1bWVkLCBvcHRpb25zKSB7XG5cdGNvbnN0IGF0dGVtcHQgPSBNYXRoLm1heCgxLCByZXRyaWVzQ29uc3VtZWQgKyAxKTtcblx0Y29uc3QgcmFuZG9tID0gb3B0aW9ucy5yYW5kb21pemUgPyBNYXRoLnJhbmRvbSgpICsgMSA6IDE7XG5cdGxldCB0aW1lb3V0ID0gTWF0aC5yb3VuZChyYW5kb20gKiBvcHRpb25zLm1pblRpbWVvdXQgKiBvcHRpb25zLmZhY3RvciAqKiAoYXR0ZW1wdCAtIDEpKTtcblx0dGltZW91dCA9IE1hdGgubWluKHRpbWVvdXQsIG9wdGlvbnMubWF4VGltZW91dCk7XG5cdHJldHVybiB0aW1lb3V0O1xufVxuZnVuY3Rpb24gY2FsY3VsYXRlUmVtYWluaW5nVGltZShzdGFydCwgbWF4KSB7XG5cdGlmICghTnVtYmVyLmlzRmluaXRlKG1heCkpIHJldHVybiBtYXg7XG5cdHJldHVybiBtYXggLSAocGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydCk7XG59XG5hc3luYyBmdW5jdGlvbiBvbkF0dGVtcHRGYWlsdXJlKHsgZXJyb3IsIGF0dGVtcHROdW1iZXIsIHJldHJpZXNDb25zdW1lZCwgc3RhcnRUaW1lLCBvcHRpb25zIH0pIHtcblx0Y29uc3Qgbm9ybWFsaXplZEVycm9yID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogLyogQF9fUFVSRV9fICovIG5ldyBUeXBlRXJyb3IoYE5vbi1lcnJvciB3YXMgdGhyb3duOiBcIiR7ZXJyb3J9XCIuIFlvdSBzaG91bGQgb25seSB0aHJvdyBlcnJvcnMuYCk7XG5cdGlmIChub3JtYWxpemVkRXJyb3IgaW5zdGFuY2VvZiBBYm9ydEVycm9yKSB0aHJvdyBub3JtYWxpemVkRXJyb3Iub3JpZ2luYWxFcnJvcjtcblx0Y29uc3QgcmV0cmllc0xlZnQgPSBOdW1iZXIuaXNGaW5pdGUob3B0aW9ucy5yZXRyaWVzKSA/IE1hdGgubWF4KDAsIG9wdGlvbnMucmV0cmllcyAtIHJldHJpZXNDb25zdW1lZCkgOiBvcHRpb25zLnJldHJpZXM7XG5cdGNvbnN0IG1heFJldHJ5VGltZSA9IG9wdGlvbnMubWF4UmV0cnlUaW1lID8/IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcblx0Y29uc3QgY29udGV4dCA9IE9iamVjdC5mcmVlemUoe1xuXHRcdGVycm9yOiBub3JtYWxpemVkRXJyb3IsXG5cdFx0YXR0ZW1wdE51bWJlcixcblx0XHRyZXRyaWVzTGVmdCxcblx0XHRyZXRyaWVzQ29uc3VtZWRcblx0fSk7XG5cdGF3YWl0IG9wdGlvbnMub25GYWlsZWRBdHRlbXB0KGNvbnRleHQpO1xuXHRpZiAoY2FsY3VsYXRlUmVtYWluaW5nVGltZShzdGFydFRpbWUsIG1heFJldHJ5VGltZSkgPD0gMCkgdGhyb3cgbm9ybWFsaXplZEVycm9yO1xuXHRjb25zdCBjb25zdW1lUmV0cnkgPSBhd2FpdCBvcHRpb25zLnNob3VsZENvbnN1bWVSZXRyeShjb250ZXh0KTtcblx0Y29uc3QgcmVtYWluaW5nVGltZSA9IGNhbGN1bGF0ZVJlbWFpbmluZ1RpbWUoc3RhcnRUaW1lLCBtYXhSZXRyeVRpbWUpO1xuXHRpZiAocmVtYWluaW5nVGltZSA8PSAwIHx8IHJldHJpZXNMZWZ0IDw9IDApIHRocm93IG5vcm1hbGl6ZWRFcnJvcjtcblx0aWYgKG5vcm1hbGl6ZWRFcnJvciBpbnN0YW5jZW9mIFR5cGVFcnJvciAmJiAhaXNOZXR3b3JrRXJyb3Iobm9ybWFsaXplZEVycm9yKSkge1xuXHRcdGlmIChjb25zdW1lUmV0cnkpIHRocm93IG5vcm1hbGl6ZWRFcnJvcjtcblx0XHRvcHRpb25zLnNpZ25hbD8udGhyb3dJZkFib3J0ZWQoKTtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0aWYgKCFhd2FpdCBvcHRpb25zLnNob3VsZFJldHJ5KGNvbnRleHQpKSB0aHJvdyBub3JtYWxpemVkRXJyb3I7XG5cdGlmICghY29uc3VtZVJldHJ5KSB7XG5cdFx0b3B0aW9ucy5zaWduYWw/LnRocm93SWZBYm9ydGVkKCk7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdGNvbnN0IGRlbGF5VGltZSA9IGNhbGN1bGF0ZURlbGF5KHJldHJpZXNDb25zdW1lZCwgb3B0aW9ucyk7XG5cdGNvbnN0IGZpbmFsRGVsYXkgPSBNYXRoLm1pbihkZWxheVRpbWUsIHJlbWFpbmluZ1RpbWUpO1xuXHRpZiAoZmluYWxEZWxheSA+IDApIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRjb25zdCBvbkFib3J0ID0gKCkgPT4ge1xuXHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXRUb2tlbik7XG5cdFx0XHRvcHRpb25zLnNpZ25hbD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsIG9uQWJvcnQpO1xuXHRcdFx0cmVqZWN0KG9wdGlvbnMuc2lnbmFsLnJlYXNvbik7XG5cdFx0fTtcblx0XHRjb25zdCB0aW1lb3V0VG9rZW4gPSBzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdG9wdGlvbnMuc2lnbmFsPy5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgb25BYm9ydCk7XG5cdFx0XHRyZXNvbHZlKCk7XG5cdFx0fSwgZmluYWxEZWxheSk7XG5cdFx0aWYgKG9wdGlvbnMudW5yZWYpIHRpbWVvdXRUb2tlbi51bnJlZj8uKCk7XG5cdFx0b3B0aW9ucy5zaWduYWw/LmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBvbkFib3J0LCB7IG9uY2U6IHRydWUgfSk7XG5cdH0pO1xuXHRvcHRpb25zLnNpZ25hbD8udGhyb3dJZkFib3J0ZWQoKTtcblx0cmV0dXJuIHRydWU7XG59XG5hc3luYyBmdW5jdGlvbiBwUmV0cnkoaW5wdXQsIG9wdGlvbnMgPSB7fSkge1xuXHRvcHRpb25zID0geyAuLi5vcHRpb25zIH07XG5cdHZhbGlkYXRlUmV0cmllcyhvcHRpb25zLnJldHJpZXMpO1xuXHRpZiAoT2JqZWN0Lmhhc093bihvcHRpb25zLCBcImZvcmV2ZXJcIikpIHRocm93IG5ldyBFcnJvcihcIlRoZSBgZm9yZXZlcmAgb3B0aW9uIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQuIEZvciBtYW55IHVzZS1jYXNlcywgeW91IGNhbiBzZXQgYHJldHJpZXM6IEluZmluaXR5YCBpbnN0ZWFkLlwiKTtcblx0b3B0aW9ucy5yZXRyaWVzID8/PSAxMDtcblx0b3B0aW9ucy5mYWN0b3IgPz89IDI7XG5cdG9wdGlvbnMubWluVGltZW91dCA/Pz0gMWUzO1xuXHRvcHRpb25zLm1heFRpbWVvdXQgPz89IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcblx0b3B0aW9ucy5tYXhSZXRyeVRpbWUgPz89IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcblx0b3B0aW9ucy5yYW5kb21pemUgPz89IGZhbHNlO1xuXHRvcHRpb25zLm9uRmFpbGVkQXR0ZW1wdCA/Pz0gKCkgPT4ge307XG5cdG9wdGlvbnMuc2hvdWxkUmV0cnkgPz89ICgpID0+IHRydWU7XG5cdG9wdGlvbnMuc2hvdWxkQ29uc3VtZVJldHJ5ID8/PSAoKSA9PiB0cnVlO1xuXHR2YWxpZGF0ZU51bWJlck9wdGlvbihcImZhY3RvclwiLCBvcHRpb25zLmZhY3Rvciwge1xuXHRcdG1pbjogMCxcblx0XHRhbGxvd0luZmluaXR5OiBmYWxzZVxuXHR9KTtcblx0dmFsaWRhdGVOdW1iZXJPcHRpb24oXCJtaW5UaW1lb3V0XCIsIG9wdGlvbnMubWluVGltZW91dCwge1xuXHRcdG1pbjogMCxcblx0XHRhbGxvd0luZmluaXR5OiBmYWxzZVxuXHR9KTtcblx0dmFsaWRhdGVOdW1iZXJPcHRpb24oXCJtYXhUaW1lb3V0XCIsIG9wdGlvbnMubWF4VGltZW91dCwge1xuXHRcdG1pbjogMCxcblx0XHRhbGxvd0luZmluaXR5OiB0cnVlXG5cdH0pO1xuXHR2YWxpZGF0ZU51bWJlck9wdGlvbihcIm1heFJldHJ5VGltZVwiLCBvcHRpb25zLm1heFJldHJ5VGltZSwge1xuXHRcdG1pbjogMCxcblx0XHRhbGxvd0luZmluaXR5OiB0cnVlXG5cdH0pO1xuXHRpZiAoIShvcHRpb25zLmZhY3RvciA+IDApKSBvcHRpb25zLmZhY3RvciA9IDE7XG5cdG9wdGlvbnMuc2lnbmFsPy50aHJvd0lmQWJvcnRlZCgpO1xuXHRsZXQgYXR0ZW1wdE51bWJlciA9IDA7XG5cdGxldCByZXRyaWVzQ29uc3VtZWQgPSAwO1xuXHRjb25zdCBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcblx0d2hpbGUgKE51bWJlci5pc0Zpbml0ZShvcHRpb25zLnJldHJpZXMpID8gcmV0cmllc0NvbnN1bWVkIDw9IG9wdGlvbnMucmV0cmllcyA6IHRydWUpIHtcblx0XHRhdHRlbXB0TnVtYmVyKys7XG5cdFx0dHJ5IHtcblx0XHRcdG9wdGlvbnMuc2lnbmFsPy50aHJvd0lmQWJvcnRlZCgpO1xuXHRcdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgaW5wdXQoYXR0ZW1wdE51bWJlcik7XG5cdFx0XHRvcHRpb25zLnNpZ25hbD8udGhyb3dJZkFib3J0ZWQoKTtcblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGlmIChhd2FpdCBvbkF0dGVtcHRGYWlsdXJlKHtcblx0XHRcdFx0ZXJyb3IsXG5cdFx0XHRcdGF0dGVtcHROdW1iZXIsXG5cdFx0XHRcdHJldHJpZXNDb25zdW1lZCxcblx0XHRcdFx0c3RhcnRUaW1lLFxuXHRcdFx0XHRvcHRpb25zXG5cdFx0XHR9KSkgcmV0cmllc0NvbnN1bWVkKys7XG5cdFx0fVxuXHR9XG5cdHRocm93IG5ldyBFcnJvcihcIlJldHJ5IGF0dGVtcHRzIGV4aGF1c3RlZCB3aXRob3V0IHRocm93aW5nIGFuIGVycm9yLlwiKTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBwUmV0cnkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/p-retry/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/sax-js/sax.js":
/*!**********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/sax-js/sax.js ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sax: () => (/* binding */ sax)\n/* harmony export */ });\n//#region src/utils/sax-js/sax.ts\nconst initializeSax = function() {\n\tconst sax$1 = {};\n\tsax$1.parser = function(strict, opt) {\n\t\treturn new SAXParser(strict, opt);\n\t};\n\tsax$1.SAXParser = SAXParser;\n\tsax$1.SAXStream = SAXStream;\n\tsax$1.createStream = createStream;\n\tsax$1.MAX_BUFFER_LENGTH = 64 * 1024;\n\tconst buffers = [\n\t\t\"comment\",\n\t\t\"sgmlDecl\",\n\t\t\"textNode\",\n\t\t\"tagName\",\n\t\t\"doctype\",\n\t\t\"procInstName\",\n\t\t\"procInstBody\",\n\t\t\"entity\",\n\t\t\"attribName\",\n\t\t\"attribValue\",\n\t\t\"cdata\",\n\t\t\"script\"\n\t];\n\tsax$1.EVENTS = [\n\t\t\"text\",\n\t\t\"processinginstruction\",\n\t\t\"sgmldeclaration\",\n\t\t\"doctype\",\n\t\t\"comment\",\n\t\t\"opentagstart\",\n\t\t\"attribute\",\n\t\t\"opentag\",\n\t\t\"closetag\",\n\t\t\"opencdata\",\n\t\t\"cdata\",\n\t\t\"closecdata\",\n\t\t\"error\",\n\t\t\"end\",\n\t\t\"ready\",\n\t\t\"script\",\n\t\t\"opennamespace\",\n\t\t\"closenamespace\"\n\t];\n\tfunction SAXParser(strict, opt) {\n\t\tif (!(this instanceof SAXParser)) return new SAXParser(strict, opt);\n\t\tvar parser = this;\n\t\tclearBuffers(parser);\n\t\tparser.q = parser.c = \"\";\n\t\tparser.bufferCheckPosition = sax$1.MAX_BUFFER_LENGTH;\n\t\tparser.opt = opt || {};\n\t\tparser.opt.lowercase = parser.opt.lowercase || parser.opt.lowercasetags;\n\t\tparser.looseCase = parser.opt.lowercase ? \"toLowerCase\" : \"toUpperCase\";\n\t\tparser.tags = [];\n\t\tparser.closed = parser.closedRoot = parser.sawRoot = false;\n\t\tparser.tag = parser.error = null;\n\t\tparser.strict = !!strict;\n\t\tparser.noscript = !!(strict || parser.opt.noscript);\n\t\tparser.state = S.BEGIN;\n\t\tparser.strictEntities = parser.opt.strictEntities;\n\t\tparser.ENTITIES = parser.strictEntities ? Object.create(sax$1.XML_ENTITIES) : Object.create(sax$1.ENTITIES);\n\t\tparser.attribList = [];\n\t\tif (parser.opt.xmlns) parser.ns = Object.create(rootNS);\n\t\tparser.trackPosition = parser.opt.position !== false;\n\t\tif (parser.trackPosition) parser.position = parser.line = parser.column = 0;\n\t\temit(parser, \"onready\");\n\t}\n\tif (!Object.create) Object.create = function(o) {\n\t\tfunction F() {}\n\t\tF.prototype = o;\n\t\tvar newf = new F();\n\t\treturn newf;\n\t};\n\tif (!Object.keys) Object.keys = function(o) {\n\t\tvar a = [];\n\t\tfor (var i in o) if (o.hasOwnProperty(i)) a.push(i);\n\t\treturn a;\n\t};\n\tfunction checkBufferLength(parser) {\n\t\tvar maxAllowed = Math.max(sax$1.MAX_BUFFER_LENGTH, 10);\n\t\tvar maxActual = 0;\n\t\tfor (var i = 0, l = buffers.length; i < l; i++) {\n\t\t\tvar len = parser[buffers[i]].length;\n\t\t\tif (len > maxAllowed) switch (buffers[i]) {\n\t\t\t\tcase \"textNode\":\n\t\t\t\t\tcloseText(parser);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"cdata\":\n\t\t\t\t\temitNode(parser, \"oncdata\", parser.cdata);\n\t\t\t\t\tparser.cdata = \"\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"script\":\n\t\t\t\t\temitNode(parser, \"onscript\", parser.script);\n\t\t\t\t\tparser.script = \"\";\n\t\t\t\t\tbreak;\n\t\t\t\tdefault: error(parser, \"Max buffer length exceeded: \" + buffers[i]);\n\t\t\t}\n\t\t\tmaxActual = Math.max(maxActual, len);\n\t\t}\n\t\tvar m = sax$1.MAX_BUFFER_LENGTH - maxActual;\n\t\tparser.bufferCheckPosition = m + parser.position;\n\t}\n\tfunction clearBuffers(parser) {\n\t\tfor (var i = 0, l = buffers.length; i < l; i++) parser[buffers[i]] = \"\";\n\t}\n\tfunction flushBuffers(parser) {\n\t\tcloseText(parser);\n\t\tif (parser.cdata !== \"\") {\n\t\t\temitNode(parser, \"oncdata\", parser.cdata);\n\t\t\tparser.cdata = \"\";\n\t\t}\n\t\tif (parser.script !== \"\") {\n\t\t\temitNode(parser, \"onscript\", parser.script);\n\t\t\tparser.script = \"\";\n\t\t}\n\t}\n\tSAXParser.prototype = {\n\t\tend: function() {\n\t\t\tend(this);\n\t\t},\n\t\twrite,\n\t\tresume: function() {\n\t\t\tthis.error = null;\n\t\t\treturn this;\n\t\t},\n\t\tclose: function() {\n\t\t\treturn this.write(null);\n\t\t},\n\t\tflush: function() {\n\t\t\tflushBuffers(this);\n\t\t}\n\t};\n\tvar Stream = ReadableStream;\n\tif (!Stream) Stream = function() {};\n\tvar streamWraps = sax$1.EVENTS.filter(function(ev) {\n\t\treturn ev !== \"error\" && ev !== \"end\";\n\t});\n\tfunction createStream(strict, opt) {\n\t\treturn new SAXStream(strict, opt);\n\t}\n\tfunction SAXStream(strict, opt) {\n\t\tif (!(this instanceof SAXStream)) return new SAXStream(strict, opt);\n\t\tStream.apply(this);\n\t\tthis._parser = new SAXParser(strict, opt);\n\t\tthis.writable = true;\n\t\tthis.readable = true;\n\t\tvar me = this;\n\t\tthis._parser.onend = function() {\n\t\t\tme.emit(\"end\");\n\t\t};\n\t\tthis._parser.onerror = function(er) {\n\t\t\tme.emit(\"error\", er);\n\t\t\tme._parser.error = null;\n\t\t};\n\t\tthis._decoder = null;\n\t\tstreamWraps.forEach(function(ev) {\n\t\t\tObject.defineProperty(me, \"on\" + ev, {\n\t\t\t\tget: function() {\n\t\t\t\t\treturn me._parser[\"on\" + ev];\n\t\t\t\t},\n\t\t\t\tset: function(h) {\n\t\t\t\t\tif (!h) {\n\t\t\t\t\t\tme.removeAllListeners(ev);\n\t\t\t\t\t\tme._parser[\"on\" + ev] = h;\n\t\t\t\t\t\treturn h;\n\t\t\t\t\t}\n\t\t\t\t\tme.on(ev, h);\n\t\t\t\t},\n\t\t\t\tenumerable: true,\n\t\t\t\tconfigurable: false\n\t\t\t});\n\t\t});\n\t}\n\tSAXStream.prototype = Object.create(Stream.prototype, { constructor: { value: SAXStream } });\n\tSAXStream.prototype.write = function(data) {\n\t\tthis._parser.write(data.toString());\n\t\tthis.emit(\"data\", data);\n\t\treturn true;\n\t};\n\tSAXStream.prototype.end = function(chunk) {\n\t\tif (chunk && chunk.length) this.write(chunk);\n\t\tthis._parser.end();\n\t\treturn true;\n\t};\n\tSAXStream.prototype.on = function(ev, handler) {\n\t\tvar me = this;\n\t\tif (!me._parser[\"on\" + ev] && streamWraps.indexOf(ev) !== -1) me._parser[\"on\" + ev] = function() {\n\t\t\tvar args = arguments.length === 1 ? [arguments[0]] : Array.apply(null, arguments);\n\t\t\targs.splice(0, 0, ev);\n\t\t\tme.emit.apply(me, args);\n\t\t};\n\t\treturn Stream.prototype.on.call(me, ev, handler);\n\t};\n\tvar CDATA = \"[CDATA[\";\n\tvar DOCTYPE = \"DOCTYPE\";\n\tvar XML_NAMESPACE = \"http://www.w3.org/XML/1998/namespace\";\n\tvar XMLNS_NAMESPACE = \"http://www.w3.org/2000/xmlns/\";\n\tvar rootNS = {\n\t\txml: XML_NAMESPACE,\n\t\txmlns: XMLNS_NAMESPACE\n\t};\n\tvar nameStart = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/;\n\tvar nameBody = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/;\n\tvar entityStart = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/;\n\tvar entityBody = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/;\n\tfunction isWhitespace(c) {\n\t\treturn c === \" \" || c === \"\\n\" || c === \"\\r\" || c === \"\t\";\n\t}\n\tfunction isQuote(c) {\n\t\treturn c === \"\\\"\" || c === \"'\";\n\t}\n\tfunction isAttribEnd(c) {\n\t\treturn c === \">\" || isWhitespace(c);\n\t}\n\tfunction isMatch(regex, c) {\n\t\treturn regex.test(c);\n\t}\n\tfunction notMatch(regex, c) {\n\t\treturn !isMatch(regex, c);\n\t}\n\tvar S = 0;\n\tsax$1.STATE = {\n\t\tBEGIN: S++,\n\t\tBEGIN_WHITESPACE: S++,\n\t\tTEXT: S++,\n\t\tTEXT_ENTITY: S++,\n\t\tOPEN_WAKA: S++,\n\t\tSGML_DECL: S++,\n\t\tSGML_DECL_QUOTED: S++,\n\t\tDOCTYPE: S++,\n\t\tDOCTYPE_QUOTED: S++,\n\t\tDOCTYPE_DTD: S++,\n\t\tDOCTYPE_DTD_QUOTED: S++,\n\t\tCOMMENT_STARTING: S++,\n\t\tCOMMENT: S++,\n\t\tCOMMENT_ENDING: S++,\n\t\tCOMMENT_ENDED: S++,\n\t\tCDATA: S++,\n\t\tCDATA_ENDING: S++,\n\t\tCDATA_ENDING_2: S++,\n\t\tPROC_INST: S++,\n\t\tPROC_INST_BODY: S++,\n\t\tPROC_INST_ENDING: S++,\n\t\tOPEN_TAG: S++,\n\t\tOPEN_TAG_SLASH: S++,\n\t\tATTRIB: S++,\n\t\tATTRIB_NAME: S++,\n\t\tATTRIB_NAME_SAW_WHITE: S++,\n\t\tATTRIB_VALUE: S++,\n\t\tATTRIB_VALUE_QUOTED: S++,\n\t\tATTRIB_VALUE_CLOSED: S++,\n\t\tATTRIB_VALUE_UNQUOTED: S++,\n\t\tATTRIB_VALUE_ENTITY_Q: S++,\n\t\tATTRIB_VALUE_ENTITY_U: S++,\n\t\tCLOSE_TAG: S++,\n\t\tCLOSE_TAG_SAW_WHITE: S++,\n\t\tSCRIPT: S++,\n\t\tSCRIPT_ENDING: S++\n\t};\n\tsax$1.XML_ENTITIES = {\n\t\tamp: \"&\",\n\t\tgt: \">\",\n\t\tlt: \"<\",\n\t\tquot: \"\\\"\",\n\t\tapos: \"'\"\n\t};\n\tsax$1.ENTITIES = {\n\t\tamp: \"&\",\n\t\tgt: \">\",\n\t\tlt: \"<\",\n\t\tquot: \"\\\"\",\n\t\tapos: \"'\",\n\t\tAElig: 198,\n\t\tAacute: 193,\n\t\tAcirc: 194,\n\t\tAgrave: 192,\n\t\tAring: 197,\n\t\tAtilde: 195,\n\t\tAuml: 196,\n\t\tCcedil: 199,\n\t\tETH: 208,\n\t\tEacute: 201,\n\t\tEcirc: 202,\n\t\tEgrave: 200,\n\t\tEuml: 203,\n\t\tIacute: 205,\n\t\tIcirc: 206,\n\t\tIgrave: 204,\n\t\tIuml: 207,\n\t\tNtilde: 209,\n\t\tOacute: 211,\n\t\tOcirc: 212,\n\t\tOgrave: 210,\n\t\tOslash: 216,\n\t\tOtilde: 213,\n\t\tOuml: 214,\n\t\tTHORN: 222,\n\t\tUacute: 218,\n\t\tUcirc: 219,\n\t\tUgrave: 217,\n\t\tUuml: 220,\n\t\tYacute: 221,\n\t\taacute: 225,\n\t\tacirc: 226,\n\t\taelig: 230,\n\t\tagrave: 224,\n\t\taring: 229,\n\t\tatilde: 227,\n\t\tauml: 228,\n\t\tccedil: 231,\n\t\teacute: 233,\n\t\tecirc: 234,\n\t\tegrave: 232,\n\t\teth: 240,\n\t\teuml: 235,\n\t\tiacute: 237,\n\t\ticirc: 238,\n\t\tigrave: 236,\n\t\tiuml: 239,\n\t\tntilde: 241,\n\t\toacute: 243,\n\t\tocirc: 244,\n\t\tograve: 242,\n\t\toslash: 248,\n\t\totilde: 245,\n\t\touml: 246,\n\t\tszlig: 223,\n\t\tthorn: 254,\n\t\tuacute: 250,\n\t\tucirc: 251,\n\t\tugrave: 249,\n\t\tuuml: 252,\n\t\tyacute: 253,\n\t\tyuml: 255,\n\t\tcopy: 169,\n\t\treg: 174,\n\t\tnbsp: 160,\n\t\tiexcl: 161,\n\t\tcent: 162,\n\t\tpound: 163,\n\t\tcurren: 164,\n\t\tyen: 165,\n\t\tbrvbar: 166,\n\t\tsect: 167,\n\t\tuml: 168,\n\t\tordf: 170,\n\t\tlaquo: 171,\n\t\tnot: 172,\n\t\tshy: 173,\n\t\tmacr: 175,\n\t\tdeg: 176,\n\t\tplusmn: 177,\n\t\tsup1: 185,\n\t\tsup2: 178,\n\t\tsup3: 179,\n\t\tacute: 180,\n\t\tmicro: 181,\n\t\tpara: 182,\n\t\tmiddot: 183,\n\t\tcedil: 184,\n\t\tordm: 186,\n\t\traquo: 187,\n\t\tfrac14: 188,\n\t\tfrac12: 189,\n\t\tfrac34: 190,\n\t\tiquest: 191,\n\t\ttimes: 215,\n\t\tdivide: 247,\n\t\tOElig: 338,\n\t\toelig: 339,\n\t\tScaron: 352,\n\t\tscaron: 353,\n\t\tYuml: 376,\n\t\tfnof: 402,\n\t\tcirc: 710,\n\t\ttilde: 732,\n\t\tAlpha: 913,\n\t\tBeta: 914,\n\t\tGamma: 915,\n\t\tDelta: 916,\n\t\tEpsilon: 917,\n\t\tZeta: 918,\n\t\tEta: 919,\n\t\tTheta: 920,\n\t\tIota: 921,\n\t\tKappa: 922,\n\t\tLambda: 923,\n\t\tMu: 924,\n\t\tNu: 925,\n\t\tXi: 926,\n\t\tOmicron: 927,\n\t\tPi: 928,\n\t\tRho: 929,\n\t\tSigma: 931,\n\t\tTau: 932,\n\t\tUpsilon: 933,\n\t\tPhi: 934,\n\t\tChi: 935,\n\t\tPsi: 936,\n\t\tOmega: 937,\n\t\talpha: 945,\n\t\tbeta: 946,\n\t\tgamma: 947,\n\t\tdelta: 948,\n\t\tepsilon: 949,\n\t\tzeta: 950,\n\t\teta: 951,\n\t\ttheta: 952,\n\t\tiota: 953,\n\t\tkappa: 954,\n\t\tlambda: 955,\n\t\tmu: 956,\n\t\tnu: 957,\n\t\txi: 958,\n\t\tomicron: 959,\n\t\tpi: 960,\n\t\trho: 961,\n\t\tsigmaf: 962,\n\t\tsigma: 963,\n\t\ttau: 964,\n\t\tupsilon: 965,\n\t\tphi: 966,\n\t\tchi: 967,\n\t\tpsi: 968,\n\t\tomega: 969,\n\t\tthetasym: 977,\n\t\tupsih: 978,\n\t\tpiv: 982,\n\t\tensp: 8194,\n\t\temsp: 8195,\n\t\tthinsp: 8201,\n\t\tzwnj: 8204,\n\t\tzwj: 8205,\n\t\tlrm: 8206,\n\t\trlm: 8207,\n\t\tndash: 8211,\n\t\tmdash: 8212,\n\t\tlsquo: 8216,\n\t\trsquo: 8217,\n\t\tsbquo: 8218,\n\t\tldquo: 8220,\n\t\trdquo: 8221,\n\t\tbdquo: 8222,\n\t\tdagger: 8224,\n\t\tDagger: 8225,\n\t\tbull: 8226,\n\t\thellip: 8230,\n\t\tpermil: 8240,\n\t\tprime: 8242,\n\t\tPrime: 8243,\n\t\tlsaquo: 8249,\n\t\trsaquo: 8250,\n\t\toline: 8254,\n\t\tfrasl: 8260,\n\t\teuro: 8364,\n\t\timage: 8465,\n\t\tweierp: 8472,\n\t\treal: 8476,\n\t\ttrade: 8482,\n\t\talefsym: 8501,\n\t\tlarr: 8592,\n\t\tuarr: 8593,\n\t\trarr: 8594,\n\t\tdarr: 8595,\n\t\tharr: 8596,\n\t\tcrarr: 8629,\n\t\tlArr: 8656,\n\t\tuArr: 8657,\n\t\trArr: 8658,\n\t\tdArr: 8659,\n\t\thArr: 8660,\n\t\tforall: 8704,\n\t\tpart: 8706,\n\t\texist: 8707,\n\t\tempty: 8709,\n\t\tnabla: 8711,\n\t\tisin: 8712,\n\t\tnotin: 8713,\n\t\tni: 8715,\n\t\tprod: 8719,\n\t\tsum: 8721,\n\t\tminus: 8722,\n\t\tlowast: 8727,\n\t\tradic: 8730,\n\t\tprop: 8733,\n\t\tinfin: 8734,\n\t\tang: 8736,\n\t\tand: 8743,\n\t\tor: 8744,\n\t\tcap: 8745,\n\t\tcup: 8746,\n\t\tint: 8747,\n\t\tthere4: 8756,\n\t\tsim: 8764,\n\t\tcong: 8773,\n\t\tasymp: 8776,\n\t\tne: 8800,\n\t\tequiv: 8801,\n\t\tle: 8804,\n\t\tge: 8805,\n\t\tsub: 8834,\n\t\tsup: 8835,\n\t\tnsub: 8836,\n\t\tsube: 8838,\n\t\tsupe: 8839,\n\t\toplus: 8853,\n\t\totimes: 8855,\n\t\tperp: 8869,\n\t\tsdot: 8901,\n\t\tlceil: 8968,\n\t\trceil: 8969,\n\t\tlfloor: 8970,\n\t\trfloor: 8971,\n\t\tlang: 9001,\n\t\trang: 9002,\n\t\tloz: 9674,\n\t\tspades: 9824,\n\t\tclubs: 9827,\n\t\thearts: 9829,\n\t\tdiams: 9830\n\t};\n\tObject.keys(sax$1.ENTITIES).forEach(function(key) {\n\t\tvar e = sax$1.ENTITIES[key];\n\t\tvar s$1 = typeof e === \"number\" ? String.fromCharCode(e) : e;\n\t\tsax$1.ENTITIES[key] = s$1;\n\t});\n\tfor (var s in sax$1.STATE) sax$1.STATE[sax$1.STATE[s]] = s;\n\tS = sax$1.STATE;\n\tfunction emit(parser, event, data) {\n\t\tparser[event] && parser[event](data);\n\t}\n\tfunction emitNode(parser, nodeType, data) {\n\t\tif (parser.textNode) closeText(parser);\n\t\temit(parser, nodeType, data);\n\t}\n\tfunction closeText(parser) {\n\t\tparser.textNode = textopts(parser.opt, parser.textNode);\n\t\tif (parser.textNode) emit(parser, \"ontext\", parser.textNode);\n\t\tparser.textNode = \"\";\n\t}\n\tfunction textopts(opt, text) {\n\t\tif (opt.trim) text = text.trim();\n\t\tif (opt.normalize) text = text.replace(/\\s+/g, \" \");\n\t\treturn text;\n\t}\n\tfunction error(parser, er) {\n\t\tcloseText(parser);\n\t\tif (parser.trackPosition) er += \"\\nLine: \" + parser.line + \"\\nColumn: \" + parser.column + \"\\nChar: \" + parser.c;\n\t\ter = new Error(er);\n\t\tparser.error = er;\n\t\temit(parser, \"onerror\", er);\n\t\treturn parser;\n\t}\n\tfunction end(parser) {\n\t\tif (parser.sawRoot && !parser.closedRoot) strictFail(parser, \"Unclosed root tag\");\n\t\tif (parser.state !== S.BEGIN && parser.state !== S.BEGIN_WHITESPACE && parser.state !== S.TEXT) error(parser, \"Unexpected end\");\n\t\tcloseText(parser);\n\t\tparser.c = \"\";\n\t\tparser.closed = true;\n\t\temit(parser, \"onend\");\n\t\tSAXParser.call(parser, parser.strict, parser.opt);\n\t\treturn parser;\n\t}\n\tfunction strictFail(parser, message) {\n\t\tif (typeof parser !== \"object\" || !(parser instanceof SAXParser)) throw new Error(\"bad call to strictFail\");\n\t\tif (parser.strict) error(parser, message);\n\t}\n\tfunction newTag(parser) {\n\t\tif (!parser.strict) parser.tagName = parser.tagName[parser.looseCase]();\n\t\tvar parent = parser.tags[parser.tags.length - 1] || parser;\n\t\tvar tag = parser.tag = {\n\t\t\tname: parser.tagName,\n\t\t\tattributes: {}\n\t\t};\n\t\tif (parser.opt.xmlns) tag.ns = parent.ns;\n\t\tparser.attribList.length = 0;\n\t\temitNode(parser, \"onopentagstart\", tag);\n\t}\n\tfunction qname(name, attribute) {\n\t\tvar i = name.indexOf(\":\");\n\t\tvar qualName = i < 0 ? [\"\", name] : name.split(\":\");\n\t\tvar prefix = qualName[0];\n\t\tvar local = qualName[1];\n\t\tif (attribute && name === \"xmlns\") {\n\t\t\tprefix = \"xmlns\";\n\t\t\tlocal = \"\";\n\t\t}\n\t\treturn {\n\t\t\tprefix,\n\t\t\tlocal\n\t\t};\n\t}\n\tfunction attrib(parser) {\n\t\tif (!parser.strict) parser.attribName = parser.attribName[parser.looseCase]();\n\t\tif (parser.attribList.indexOf(parser.attribName) !== -1 || parser.tag.attributes.hasOwnProperty(parser.attribName)) {\n\t\t\tparser.attribName = parser.attribValue = \"\";\n\t\t\treturn;\n\t\t}\n\t\tif (parser.opt.xmlns) {\n\t\t\tvar qn = qname(parser.attribName, true);\n\t\t\tvar prefix = qn.prefix;\n\t\t\tvar local = qn.local;\n\t\t\tif (prefix === \"xmlns\") if (local === \"xml\" && parser.attribValue !== XML_NAMESPACE) strictFail(parser, \"xml: prefix must be bound to \" + XML_NAMESPACE + \"\\nActual: \" + parser.attribValue);\n\t\t\telse if (local === \"xmlns\" && parser.attribValue !== XMLNS_NAMESPACE) strictFail(parser, \"xmlns: prefix must be bound to \" + XMLNS_NAMESPACE + \"\\nActual: \" + parser.attribValue);\n\t\t\telse {\n\t\t\t\tvar tag = parser.tag;\n\t\t\t\tvar parent = parser.tags[parser.tags.length - 1] || parser;\n\t\t\t\tif (tag.ns === parent.ns) tag.ns = Object.create(parent.ns);\n\t\t\t\ttag.ns[local] = parser.attribValue;\n\t\t\t}\n\t\t\tparser.attribList.push([parser.attribName, parser.attribValue]);\n\t\t} else {\n\t\t\tparser.tag.attributes[parser.attribName] = parser.attribValue;\n\t\t\temitNode(parser, \"onattribute\", {\n\t\t\t\tname: parser.attribName,\n\t\t\t\tvalue: parser.attribValue\n\t\t\t});\n\t\t}\n\t\tparser.attribName = parser.attribValue = \"\";\n\t}\n\tfunction openTag(parser, selfClosing) {\n\t\tif (parser.opt.xmlns) {\n\t\t\tvar tag = parser.tag;\n\t\t\tvar qn = qname(parser.tagName);\n\t\t\ttag.prefix = qn.prefix;\n\t\t\ttag.local = qn.local;\n\t\t\ttag.uri = tag.ns[qn.prefix] || \"\";\n\t\t\tif (tag.prefix && !tag.uri) {\n\t\t\t\tstrictFail(parser, \"Unbound namespace prefix: \" + JSON.stringify(parser.tagName));\n\t\t\t\ttag.uri = qn.prefix;\n\t\t\t}\n\t\t\tvar parent = parser.tags[parser.tags.length - 1] || parser;\n\t\t\tif (tag.ns && parent.ns !== tag.ns) Object.keys(tag.ns).forEach(function(p) {\n\t\t\t\temitNode(parser, \"onopennamespace\", {\n\t\t\t\t\tprefix: p,\n\t\t\t\t\turi: tag.ns[p]\n\t\t\t\t});\n\t\t\t});\n\t\t\tfor (var i = 0, l = parser.attribList.length; i < l; i++) {\n\t\t\t\tvar nv = parser.attribList[i];\n\t\t\t\tvar name = nv[0];\n\t\t\t\tvar value = nv[1];\n\t\t\t\tvar qualName = qname(name, true);\n\t\t\t\tvar prefix = qualName.prefix;\n\t\t\t\tvar local = qualName.local;\n\t\t\t\tvar uri = prefix === \"\" ? \"\" : tag.ns[prefix] || \"\";\n\t\t\t\tvar a = {\n\t\t\t\t\tname,\n\t\t\t\t\tvalue,\n\t\t\t\t\tprefix,\n\t\t\t\t\tlocal,\n\t\t\t\t\turi\n\t\t\t\t};\n\t\t\t\tif (prefix && prefix !== \"xmlns\" && !uri) {\n\t\t\t\t\tstrictFail(parser, \"Unbound namespace prefix: \" + JSON.stringify(prefix));\n\t\t\t\t\ta.uri = prefix;\n\t\t\t\t}\n\t\t\t\tparser.tag.attributes[name] = a;\n\t\t\t\temitNode(parser, \"onattribute\", a);\n\t\t\t}\n\t\t\tparser.attribList.length = 0;\n\t\t}\n\t\tparser.tag.isSelfClosing = !!selfClosing;\n\t\tparser.sawRoot = true;\n\t\tparser.tags.push(parser.tag);\n\t\temitNode(parser, \"onopentag\", parser.tag);\n\t\tif (!selfClosing) {\n\t\t\tif (!parser.noscript && parser.tagName.toLowerCase() === \"script\") parser.state = S.SCRIPT;\n\t\t\telse parser.state = S.TEXT;\n\t\t\tparser.tag = null;\n\t\t\tparser.tagName = \"\";\n\t\t}\n\t\tparser.attribName = parser.attribValue = \"\";\n\t\tparser.attribList.length = 0;\n\t}\n\tfunction closeTag(parser) {\n\t\tif (!parser.tagName) {\n\t\t\tstrictFail(parser, \"Weird empty close tag.\");\n\t\t\tparser.textNode += \"</>\";\n\t\t\tparser.state = S.TEXT;\n\t\t\treturn;\n\t\t}\n\t\tif (parser.script) {\n\t\t\tif (parser.tagName !== \"script\") {\n\t\t\t\tparser.script += \"</\" + parser.tagName + \">\";\n\t\t\t\tparser.tagName = \"\";\n\t\t\t\tparser.state = S.SCRIPT;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\temitNode(parser, \"onscript\", parser.script);\n\t\t\tparser.script = \"\";\n\t\t}\n\t\tvar t = parser.tags.length;\n\t\tvar tagName = parser.tagName;\n\t\tif (!parser.strict) tagName = tagName[parser.looseCase]();\n\t\tvar closeTo = tagName;\n\t\twhile (t--) {\n\t\t\tvar close = parser.tags[t];\n\t\t\tif (close.name !== closeTo) strictFail(parser, \"Unexpected close tag\");\n\t\t\telse break;\n\t\t}\n\t\tif (t < 0) {\n\t\t\tstrictFail(parser, \"Unmatched closing tag: \" + parser.tagName);\n\t\t\tparser.textNode += \"</\" + parser.tagName + \">\";\n\t\t\tparser.state = S.TEXT;\n\t\t\treturn;\n\t\t}\n\t\tparser.tagName = tagName;\n\t\tvar s$1 = parser.tags.length;\n\t\twhile (s$1-- > t) {\n\t\t\tvar tag = parser.tag = parser.tags.pop();\n\t\t\tparser.tagName = parser.tag.name;\n\t\t\temitNode(parser, \"onclosetag\", parser.tagName);\n\t\t\tvar x = {};\n\t\t\tfor (var i in tag.ns) x[i] = tag.ns[i];\n\t\t\tvar parent = parser.tags[parser.tags.length - 1] || parser;\n\t\t\tif (parser.opt.xmlns && tag.ns !== parent.ns) Object.keys(tag.ns).forEach(function(p) {\n\t\t\t\tvar n = tag.ns[p];\n\t\t\t\temitNode(parser, \"onclosenamespace\", {\n\t\t\t\t\tprefix: p,\n\t\t\t\t\turi: n\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\tif (t === 0) parser.closedRoot = true;\n\t\tparser.tagName = parser.attribValue = parser.attribName = \"\";\n\t\tparser.attribList.length = 0;\n\t\tparser.state = S.TEXT;\n\t}\n\tfunction parseEntity(parser) {\n\t\tvar entity = parser.entity;\n\t\tvar entityLC = entity.toLowerCase();\n\t\tvar num;\n\t\tvar numStr = \"\";\n\t\tif (parser.ENTITIES[entity]) return parser.ENTITIES[entity];\n\t\tif (parser.ENTITIES[entityLC]) return parser.ENTITIES[entityLC];\n\t\tentity = entityLC;\n\t\tif (entity.charAt(0) === \"#\") if (entity.charAt(1) === \"x\") {\n\t\t\tentity = entity.slice(2);\n\t\t\tnum = parseInt(entity, 16);\n\t\t\tnumStr = num.toString(16);\n\t\t} else {\n\t\t\tentity = entity.slice(1);\n\t\t\tnum = parseInt(entity, 10);\n\t\t\tnumStr = num.toString(10);\n\t\t}\n\t\tentity = entity.replace(/^0+/, \"\");\n\t\tif (isNaN(num) || numStr.toLowerCase() !== entity) {\n\t\t\tstrictFail(parser, \"Invalid character entity\");\n\t\t\treturn \"&\" + parser.entity + \";\";\n\t\t}\n\t\treturn String.fromCodePoint(num);\n\t}\n\tfunction beginWhiteSpace(parser, c) {\n\t\tif (c === \"<\") {\n\t\t\tparser.state = S.OPEN_WAKA;\n\t\t\tparser.startTagPosition = parser.position;\n\t\t} else if (!isWhitespace(c)) {\n\t\t\tstrictFail(parser, \"Non-whitespace before first tag.\");\n\t\t\tparser.textNode = c;\n\t\t\tparser.state = S.TEXT;\n\t\t}\n\t}\n\tfunction charAt(chunk, i) {\n\t\tvar result = \"\";\n\t\tif (i < chunk.length) result = chunk.charAt(i);\n\t\treturn result;\n\t}\n\tfunction write(chunk) {\n\t\tvar parser = this;\n\t\tif (this.error) throw this.error;\n\t\tif (parser.closed) return error(parser, \"Cannot write after close. Assign an onready handler.\");\n\t\tif (chunk === null) return end(parser);\n\t\tif (typeof chunk === \"object\") chunk = chunk.toString();\n\t\tvar i = 0;\n\t\tvar c = \"\";\n\t\twhile (true) {\n\t\t\tc = charAt(chunk, i++);\n\t\t\tparser.c = c;\n\t\t\tif (!c) break;\n\t\t\tif (parser.trackPosition) {\n\t\t\t\tparser.position++;\n\t\t\t\tif (c === \"\\n\") {\n\t\t\t\t\tparser.line++;\n\t\t\t\t\tparser.column = 0;\n\t\t\t\t} else parser.column++;\n\t\t\t}\n\t\t\tswitch (parser.state) {\n\t\t\t\tcase S.BEGIN:\n\t\t\t\t\tparser.state = S.BEGIN_WHITESPACE;\n\t\t\t\t\tif (c === \"\") continue;\n\t\t\t\t\tbeginWhiteSpace(parser, c);\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.BEGIN_WHITESPACE:\n\t\t\t\t\tbeginWhiteSpace(parser, c);\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.TEXT:\n\t\t\t\t\tif (parser.sawRoot && !parser.closedRoot) {\n\t\t\t\t\t\tvar starti = i - 1;\n\t\t\t\t\t\twhile (c && c !== \"<\" && c !== \"&\") {\n\t\t\t\t\t\t\tc = charAt(chunk, i++);\n\t\t\t\t\t\t\tif (c && parser.trackPosition) {\n\t\t\t\t\t\t\t\tparser.position++;\n\t\t\t\t\t\t\t\tif (c === \"\\n\") {\n\t\t\t\t\t\t\t\t\tparser.line++;\n\t\t\t\t\t\t\t\t\tparser.column = 0;\n\t\t\t\t\t\t\t\t} else parser.column++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tparser.textNode += chunk.substring(starti, i - 1);\n\t\t\t\t\t}\n\t\t\t\t\tif (c === \"<\" && !(parser.sawRoot && parser.closedRoot && !parser.strict)) {\n\t\t\t\t\t\tparser.state = S.OPEN_WAKA;\n\t\t\t\t\t\tparser.startTagPosition = parser.position;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (!isWhitespace(c) && (!parser.sawRoot || parser.closedRoot)) strictFail(parser, \"Text data outside of root node.\");\n\t\t\t\t\t\tif (c === \"&\") parser.state = S.TEXT_ENTITY;\n\t\t\t\t\t\telse parser.textNode += c;\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.SCRIPT:\n\t\t\t\t\tif (c === \"<\") parser.state = S.SCRIPT_ENDING;\n\t\t\t\t\telse parser.script += c;\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.SCRIPT_ENDING:\n\t\t\t\t\tif (c === \"/\") parser.state = S.CLOSE_TAG;\n\t\t\t\t\telse {\n\t\t\t\t\t\tparser.script += \"<\" + c;\n\t\t\t\t\t\tparser.state = S.SCRIPT;\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.OPEN_WAKA:\n\t\t\t\t\tif (c === \"!\") {\n\t\t\t\t\t\tparser.state = S.SGML_DECL;\n\t\t\t\t\t\tparser.sgmlDecl = \"\";\n\t\t\t\t\t} else if (isWhitespace(c)) {} else if (isMatch(nameStart, c)) {\n\t\t\t\t\t\tparser.state = S.OPEN_TAG;\n\t\t\t\t\t\tparser.tagName = c;\n\t\t\t\t\t} else if (c === \"/\") {\n\t\t\t\t\t\tparser.state = S.CLOSE_TAG;\n\t\t\t\t\t\tparser.tagName = \"\";\n\t\t\t\t\t} else if (c === \"?\") {\n\t\t\t\t\t\tparser.state = S.PROC_INST;\n\t\t\t\t\t\tparser.procInstName = parser.procInstBody = \"\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstrictFail(parser, \"Unencoded <\");\n\t\t\t\t\t\tif (parser.startTagPosition + 1 < parser.position) {\n\t\t\t\t\t\t\tvar pad = parser.position - parser.startTagPosition;\n\t\t\t\t\t\t\tc = new Array(pad).join(\" \") + c;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tparser.textNode += \"<\" + c;\n\t\t\t\t\t\tparser.state = S.TEXT;\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.SGML_DECL:\n\t\t\t\t\tif ((parser.sgmlDecl + c).toUpperCase() === CDATA) {\n\t\t\t\t\t\temitNode(parser, \"onopencdata\");\n\t\t\t\t\t\tparser.state = S.CDATA;\n\t\t\t\t\t\tparser.sgmlDecl = \"\";\n\t\t\t\t\t\tparser.cdata = \"\";\n\t\t\t\t\t} else if (parser.sgmlDecl + c === \"--\") {\n\t\t\t\t\t\tparser.state = S.COMMENT;\n\t\t\t\t\t\tparser.comment = \"\";\n\t\t\t\t\t\tparser.sgmlDecl = \"\";\n\t\t\t\t\t} else if ((parser.sgmlDecl + c).toUpperCase() === DOCTYPE) {\n\t\t\t\t\t\tparser.state = S.DOCTYPE;\n\t\t\t\t\t\tif (parser.doctype || parser.sawRoot) strictFail(parser, \"Inappropriately located doctype declaration\");\n\t\t\t\t\t\tparser.doctype = \"\";\n\t\t\t\t\t\tparser.sgmlDecl = \"\";\n\t\t\t\t\t} else if (c === \">\") {\n\t\t\t\t\t\temitNode(parser, \"onsgmldeclaration\", parser.sgmlDecl);\n\t\t\t\t\t\tparser.sgmlDecl = \"\";\n\t\t\t\t\t\tparser.state = S.TEXT;\n\t\t\t\t\t} else if (isQuote(c)) {\n\t\t\t\t\t\tparser.state = S.SGML_DECL_QUOTED;\n\t\t\t\t\t\tparser.sgmlDecl += c;\n\t\t\t\t\t} else parser.sgmlDecl += c;\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.SGML_DECL_QUOTED:\n\t\t\t\t\tif (c === parser.q) {\n\t\t\t\t\t\tparser.state = S.SGML_DECL;\n\t\t\t\t\t\tparser.q = \"\";\n\t\t\t\t\t}\n\t\t\t\t\tparser.sgmlDecl += c;\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.DOCTYPE:\n\t\t\t\t\tif (c === \">\") {\n\t\t\t\t\t\tparser.state = S.TEXT;\n\t\t\t\t\t\temitNode(parser, \"ondoctype\", parser.doctype);\n\t\t\t\t\t\tparser.doctype = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparser.doctype += c;\n\t\t\t\t\t\tif (c === \"[\") parser.state = S.DOCTYPE_DTD;\n\t\t\t\t\t\telse if (isQuote(c)) {\n\t\t\t\t\t\t\tparser.state = S.DOCTYPE_QUOTED;\n\t\t\t\t\t\t\tparser.q = c;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.DOCTYPE_QUOTED:\n\t\t\t\t\tparser.doctype += c;\n\t\t\t\t\tif (c === parser.q) {\n\t\t\t\t\t\tparser.q = \"\";\n\t\t\t\t\t\tparser.state = S.DOCTYPE;\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.DOCTYPE_DTD:\n\t\t\t\t\tparser.doctype += c;\n\t\t\t\t\tif (c === \"]\") parser.state = S.DOCTYPE;\n\t\t\t\t\telse if (isQuote(c)) {\n\t\t\t\t\t\tparser.state = S.DOCTYPE_DTD_QUOTED;\n\t\t\t\t\t\tparser.q = c;\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.DOCTYPE_DTD_QUOTED:\n\t\t\t\t\tparser.doctype += c;\n\t\t\t\t\tif (c === parser.q) {\n\t\t\t\t\t\tparser.state = S.DOCTYPE_DTD;\n\t\t\t\t\t\tparser.q = \"\";\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.COMMENT:\n\t\t\t\t\tif (c === \"-\") parser.state = S.COMMENT_ENDING;\n\t\t\t\t\telse parser.comment += c;\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.COMMENT_ENDING:\n\t\t\t\t\tif (c === \"-\") {\n\t\t\t\t\t\tparser.state = S.COMMENT_ENDED;\n\t\t\t\t\t\tparser.comment = textopts(parser.opt, parser.comment);\n\t\t\t\t\t\tif (parser.comment) emitNode(parser, \"oncomment\", parser.comment);\n\t\t\t\t\t\tparser.comment = \"\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparser.comment += \"-\" + c;\n\t\t\t\t\t\tparser.state = S.COMMENT;\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.COMMENT_ENDED:\n\t\t\t\t\tif (c !== \">\") {\n\t\t\t\t\t\tstrictFail(parser, \"Malformed comment\");\n\t\t\t\t\t\tparser.comment += \"--\" + c;\n\t\t\t\t\t\tparser.state = S.COMMENT;\n\t\t\t\t\t} else parser.state = S.TEXT;\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.CDATA:\n\t\t\t\t\tif (c === \"]\") parser.state = S.CDATA_ENDING;\n\t\t\t\t\telse parser.cdata += c;\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.CDATA_ENDING:\n\t\t\t\t\tif (c === \"]\") parser.state = S.CDATA_ENDING_2;\n\t\t\t\t\telse {\n\t\t\t\t\t\tparser.cdata += \"]\" + c;\n\t\t\t\t\t\tparser.state = S.CDATA;\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.CDATA_ENDING_2:\n\t\t\t\t\tif (c === \">\") {\n\t\t\t\t\t\tif (parser.cdata) emitNode(parser, \"oncdata\", parser.cdata);\n\t\t\t\t\t\temitNode(parser, \"onclosecdata\");\n\t\t\t\t\t\tparser.cdata = \"\";\n\t\t\t\t\t\tparser.state = S.TEXT;\n\t\t\t\t\t} else if (c === \"]\") parser.cdata += \"]\";\n\t\t\t\t\telse {\n\t\t\t\t\t\tparser.cdata += \"]]\" + c;\n\t\t\t\t\t\tparser.state = S.CDATA;\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.PROC_INST:\n\t\t\t\t\tif (c === \"?\") parser.state = S.PROC_INST_ENDING;\n\t\t\t\t\telse if (isWhitespace(c)) parser.state = S.PROC_INST_BODY;\n\t\t\t\t\telse parser.procInstName += c;\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.PROC_INST_BODY:\n\t\t\t\t\tif (!parser.procInstBody && isWhitespace(c)) continue;\n\t\t\t\t\telse if (c === \"?\") parser.state = S.PROC_INST_ENDING;\n\t\t\t\t\telse parser.procInstBody += c;\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.PROC_INST_ENDING:\n\t\t\t\t\tif (c === \">\") {\n\t\t\t\t\t\temitNode(parser, \"onprocessinginstruction\", {\n\t\t\t\t\t\t\tname: parser.procInstName,\n\t\t\t\t\t\t\tbody: parser.procInstBody\n\t\t\t\t\t\t});\n\t\t\t\t\t\tparser.procInstName = parser.procInstBody = \"\";\n\t\t\t\t\t\tparser.state = S.TEXT;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparser.procInstBody += \"?\" + c;\n\t\t\t\t\t\tparser.state = S.PROC_INST_BODY;\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.OPEN_TAG:\n\t\t\t\t\tif (isMatch(nameBody, c)) parser.tagName += c;\n\t\t\t\t\telse {\n\t\t\t\t\t\tnewTag(parser);\n\t\t\t\t\t\tif (c === \">\") openTag(parser);\n\t\t\t\t\t\telse if (c === \"/\") parser.state = S.OPEN_TAG_SLASH;\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif (!isWhitespace(c)) strictFail(parser, \"Invalid character in tag name\");\n\t\t\t\t\t\t\tparser.state = S.ATTRIB;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.OPEN_TAG_SLASH:\n\t\t\t\t\tif (c === \">\") {\n\t\t\t\t\t\topenTag(parser, true);\n\t\t\t\t\t\tcloseTag(parser);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstrictFail(parser, \"Forward-slash in opening tag not followed by >\");\n\t\t\t\t\t\tparser.state = S.ATTRIB;\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.ATTRIB:\n\t\t\t\t\tif (isWhitespace(c)) continue;\n\t\t\t\t\telse if (c === \">\") openTag(parser);\n\t\t\t\t\telse if (c === \"/\") parser.state = S.OPEN_TAG_SLASH;\n\t\t\t\t\telse if (isMatch(nameStart, c)) {\n\t\t\t\t\t\tparser.attribName = c;\n\t\t\t\t\t\tparser.attribValue = \"\";\n\t\t\t\t\t\tparser.state = S.ATTRIB_NAME;\n\t\t\t\t\t} else strictFail(parser, \"Invalid attribute name\");\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.ATTRIB_NAME:\n\t\t\t\t\tif (c === \"=\") parser.state = S.ATTRIB_VALUE;\n\t\t\t\t\telse if (c === \">\") {\n\t\t\t\t\t\tstrictFail(parser, \"Attribute without value\");\n\t\t\t\t\t\tparser.attribValue = parser.attribName;\n\t\t\t\t\t\tattrib(parser);\n\t\t\t\t\t\topenTag(parser);\n\t\t\t\t\t} else if (isWhitespace(c)) parser.state = S.ATTRIB_NAME_SAW_WHITE;\n\t\t\t\t\telse if (isMatch(nameBody, c)) parser.attribName += c;\n\t\t\t\t\telse strictFail(parser, \"Invalid attribute name\");\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.ATTRIB_NAME_SAW_WHITE:\n\t\t\t\t\tif (c === \"=\") parser.state = S.ATTRIB_VALUE;\n\t\t\t\t\telse if (isWhitespace(c)) continue;\n\t\t\t\t\telse {\n\t\t\t\t\t\tstrictFail(parser, \"Attribute without value\");\n\t\t\t\t\t\tparser.tag.attributes[parser.attribName] = \"\";\n\t\t\t\t\t\tparser.attribValue = \"\";\n\t\t\t\t\t\temitNode(parser, \"onattribute\", {\n\t\t\t\t\t\t\tname: parser.attribName,\n\t\t\t\t\t\t\tvalue: \"\"\n\t\t\t\t\t\t});\n\t\t\t\t\t\tparser.attribName = \"\";\n\t\t\t\t\t\tif (c === \">\") openTag(parser);\n\t\t\t\t\t\telse if (isMatch(nameStart, c)) {\n\t\t\t\t\t\t\tparser.attribName = c;\n\t\t\t\t\t\t\tparser.state = S.ATTRIB_NAME;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstrictFail(parser, \"Invalid attribute name\");\n\t\t\t\t\t\t\tparser.state = S.ATTRIB;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.ATTRIB_VALUE:\n\t\t\t\t\tif (isWhitespace(c)) continue;\n\t\t\t\t\telse if (isQuote(c)) {\n\t\t\t\t\t\tparser.q = c;\n\t\t\t\t\t\tparser.state = S.ATTRIB_VALUE_QUOTED;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstrictFail(parser, \"Unquoted attribute value\");\n\t\t\t\t\t\tparser.state = S.ATTRIB_VALUE_UNQUOTED;\n\t\t\t\t\t\tparser.attribValue = c;\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.ATTRIB_VALUE_QUOTED:\n\t\t\t\t\tif (c !== parser.q) {\n\t\t\t\t\t\tif (c === \"&\") parser.state = S.ATTRIB_VALUE_ENTITY_Q;\n\t\t\t\t\t\telse parser.attribValue += c;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tattrib(parser);\n\t\t\t\t\tparser.q = \"\";\n\t\t\t\t\tparser.state = S.ATTRIB_VALUE_CLOSED;\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.ATTRIB_VALUE_CLOSED:\n\t\t\t\t\tif (isWhitespace(c)) parser.state = S.ATTRIB;\n\t\t\t\t\telse if (c === \">\") openTag(parser);\n\t\t\t\t\telse if (c === \"/\") parser.state = S.OPEN_TAG_SLASH;\n\t\t\t\t\telse if (isMatch(nameStart, c)) {\n\t\t\t\t\t\tstrictFail(parser, \"No whitespace between attributes\");\n\t\t\t\t\t\tparser.attribName = c;\n\t\t\t\t\t\tparser.attribValue = \"\";\n\t\t\t\t\t\tparser.state = S.ATTRIB_NAME;\n\t\t\t\t\t} else strictFail(parser, \"Invalid attribute name\");\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.ATTRIB_VALUE_UNQUOTED:\n\t\t\t\t\tif (!isAttribEnd(c)) {\n\t\t\t\t\t\tif (c === \"&\") parser.state = S.ATTRIB_VALUE_ENTITY_U;\n\t\t\t\t\t\telse parser.attribValue += c;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tattrib(parser);\n\t\t\t\t\tif (c === \">\") openTag(parser);\n\t\t\t\t\telse parser.state = S.ATTRIB;\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.CLOSE_TAG:\n\t\t\t\t\tif (!parser.tagName) if (isWhitespace(c)) continue;\n\t\t\t\t\telse if (notMatch(nameStart, c)) if (parser.script) {\n\t\t\t\t\t\tparser.script += \"</\" + c;\n\t\t\t\t\t\tparser.state = S.SCRIPT;\n\t\t\t\t\t} else strictFail(parser, \"Invalid tagname in closing tag.\");\n\t\t\t\t\telse parser.tagName = c;\n\t\t\t\t\telse if (c === \">\") closeTag(parser);\n\t\t\t\t\telse if (isMatch(nameBody, c)) parser.tagName += c;\n\t\t\t\t\telse if (parser.script) {\n\t\t\t\t\t\tparser.script += \"</\" + parser.tagName;\n\t\t\t\t\t\tparser.tagName = \"\";\n\t\t\t\t\t\tparser.state = S.SCRIPT;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (!isWhitespace(c)) strictFail(parser, \"Invalid tagname in closing tag\");\n\t\t\t\t\t\tparser.state = S.CLOSE_TAG_SAW_WHITE;\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.CLOSE_TAG_SAW_WHITE:\n\t\t\t\t\tif (isWhitespace(c)) continue;\n\t\t\t\t\tif (c === \">\") closeTag(parser);\n\t\t\t\t\telse strictFail(parser, \"Invalid characters in closing tag\");\n\t\t\t\t\tcontinue;\n\t\t\t\tcase S.TEXT_ENTITY:\n\t\t\t\tcase S.ATTRIB_VALUE_ENTITY_Q:\n\t\t\t\tcase S.ATTRIB_VALUE_ENTITY_U:\n\t\t\t\t\tvar returnState;\n\t\t\t\t\tvar buffer;\n\t\t\t\t\tswitch (parser.state) {\n\t\t\t\t\t\tcase S.TEXT_ENTITY:\n\t\t\t\t\t\t\treturnState = S.TEXT;\n\t\t\t\t\t\t\tbuffer = \"textNode\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase S.ATTRIB_VALUE_ENTITY_Q:\n\t\t\t\t\t\t\treturnState = S.ATTRIB_VALUE_QUOTED;\n\t\t\t\t\t\t\tbuffer = \"attribValue\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase S.ATTRIB_VALUE_ENTITY_U:\n\t\t\t\t\t\t\treturnState = S.ATTRIB_VALUE_UNQUOTED;\n\t\t\t\t\t\t\tbuffer = \"attribValue\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (c === \";\") if (parser.opt.unparsedEntities) {\n\t\t\t\t\t\tvar parsedEntity = parseEntity(parser);\n\t\t\t\t\t\tparser.entity = \"\";\n\t\t\t\t\t\tparser.state = returnState;\n\t\t\t\t\t\tparser.write(parsedEntity);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparser[buffer] += parseEntity(parser);\n\t\t\t\t\t\tparser.entity = \"\";\n\t\t\t\t\t\tparser.state = returnState;\n\t\t\t\t\t}\n\t\t\t\t\telse if (isMatch(parser.entity.length ? entityBody : entityStart, c)) parser.entity += c;\n\t\t\t\t\telse {\n\t\t\t\t\t\tstrictFail(parser, \"Invalid character in entity name\");\n\t\t\t\t\t\tparser[buffer] += \"&\" + parser.entity + c;\n\t\t\t\t\t\tparser.entity = \"\";\n\t\t\t\t\t\tparser.state = returnState;\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\tdefault: throw new Error(parser, \"Unknown state: \" + parser.state);\n\t\t\t}\n\t\t}\n\t\tif (parser.position >= parser.bufferCheckPosition) checkBufferLength(parser);\n\t\treturn parser;\n\t}\n\t/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */\n\t/* istanbul ignore next */\n\tif (!String.fromCodePoint) (function() {\n\t\tvar stringFromCharCode = String.fromCharCode;\n\t\tvar floor = Math.floor;\n\t\tvar fromCodePoint = function() {\n\t\t\tvar MAX_SIZE = 16384;\n\t\t\tvar codeUnits = [];\n\t\t\tvar highSurrogate;\n\t\t\tvar lowSurrogate;\n\t\t\tvar index = -1;\n\t\t\tvar length = arguments.length;\n\t\t\tif (!length) return \"\";\n\t\t\tvar result = \"\";\n\t\t\twhile (++index < length) {\n\t\t\t\tvar codePoint = Number(arguments[index]);\n\t\t\t\tif (!isFinite(codePoint) || codePoint < 0 || codePoint > 1114111 || floor(codePoint) !== codePoint) throw RangeError(\"Invalid code point: \" + codePoint);\n\t\t\t\tif (codePoint <= 65535) codeUnits.push(codePoint);\n\t\t\t\telse {\n\t\t\t\t\tcodePoint -= 65536;\n\t\t\t\t\thighSurrogate = (codePoint >> 10) + 55296;\n\t\t\t\t\tlowSurrogate = codePoint % 1024 + 56320;\n\t\t\t\t\tcodeUnits.push(highSurrogate, lowSurrogate);\n\t\t\t\t}\n\t\t\t\tif (index + 1 === length || codeUnits.length > MAX_SIZE) {\n\t\t\t\t\tresult += stringFromCharCode.apply(null, codeUnits);\n\t\t\t\t\tcodeUnits.length = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t\t/* istanbul ignore next */\n\t\tif (Object.defineProperty) Object.defineProperty(String, \"fromCodePoint\", {\n\t\t\tvalue: fromCodePoint,\n\t\t\tconfigurable: true,\n\t\t\twritable: true\n\t\t});\n\t\telse String.fromCodePoint = fromCodePoint;\n\t})();\n\treturn sax$1;\n};\nconst sax = initializeSax();\n\n//#endregion\n\n//# sourceMappingURL=sax.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3NheC1qcy9zYXguanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxPQUFPO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxPQUFPO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHO0FBQ0g7QUFDQSx5REFBeUQsZUFBZSxvQkFBb0I7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSixpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLDZCQUE2QjtBQUNwQztBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNlO0FBQ2YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvc2F4LWpzL3NheC5qcz84ZWZmIl0sInNvdXJjZXNDb250ZW50IjpbIi8vI3JlZ2lvbiBzcmMvdXRpbHMvc2F4LWpzL3NheC50c1xuY29uc3QgaW5pdGlhbGl6ZVNheCA9IGZ1bmN0aW9uKCkge1xuXHRjb25zdCBzYXgkMSA9IHt9O1xuXHRzYXgkMS5wYXJzZXIgPSBmdW5jdGlvbihzdHJpY3QsIG9wdCkge1xuXHRcdHJldHVybiBuZXcgU0FYUGFyc2VyKHN0cmljdCwgb3B0KTtcblx0fTtcblx0c2F4JDEuU0FYUGFyc2VyID0gU0FYUGFyc2VyO1xuXHRzYXgkMS5TQVhTdHJlYW0gPSBTQVhTdHJlYW07XG5cdHNheCQxLmNyZWF0ZVN0cmVhbSA9IGNyZWF0ZVN0cmVhbTtcblx0c2F4JDEuTUFYX0JVRkZFUl9MRU5HVEggPSA2NCAqIDEwMjQ7XG5cdGNvbnN0IGJ1ZmZlcnMgPSBbXG5cdFx0XCJjb21tZW50XCIsXG5cdFx0XCJzZ21sRGVjbFwiLFxuXHRcdFwidGV4dE5vZGVcIixcblx0XHRcInRhZ05hbWVcIixcblx0XHRcImRvY3R5cGVcIixcblx0XHRcInByb2NJbnN0TmFtZVwiLFxuXHRcdFwicHJvY0luc3RCb2R5XCIsXG5cdFx0XCJlbnRpdHlcIixcblx0XHRcImF0dHJpYk5hbWVcIixcblx0XHRcImF0dHJpYlZhbHVlXCIsXG5cdFx0XCJjZGF0YVwiLFxuXHRcdFwic2NyaXB0XCJcblx0XTtcblx0c2F4JDEuRVZFTlRTID0gW1xuXHRcdFwidGV4dFwiLFxuXHRcdFwicHJvY2Vzc2luZ2luc3RydWN0aW9uXCIsXG5cdFx0XCJzZ21sZGVjbGFyYXRpb25cIixcblx0XHRcImRvY3R5cGVcIixcblx0XHRcImNvbW1lbnRcIixcblx0XHRcIm9wZW50YWdzdGFydFwiLFxuXHRcdFwiYXR0cmlidXRlXCIsXG5cdFx0XCJvcGVudGFnXCIsXG5cdFx0XCJjbG9zZXRhZ1wiLFxuXHRcdFwib3BlbmNkYXRhXCIsXG5cdFx0XCJjZGF0YVwiLFxuXHRcdFwiY2xvc2VjZGF0YVwiLFxuXHRcdFwiZXJyb3JcIixcblx0XHRcImVuZFwiLFxuXHRcdFwicmVhZHlcIixcblx0XHRcInNjcmlwdFwiLFxuXHRcdFwib3Blbm5hbWVzcGFjZVwiLFxuXHRcdFwiY2xvc2VuYW1lc3BhY2VcIlxuXHRdO1xuXHRmdW5jdGlvbiBTQVhQYXJzZXIoc3RyaWN0LCBvcHQpIHtcblx0XHRpZiAoISh0aGlzIGluc3RhbmNlb2YgU0FYUGFyc2VyKSkgcmV0dXJuIG5ldyBTQVhQYXJzZXIoc3RyaWN0LCBvcHQpO1xuXHRcdHZhciBwYXJzZXIgPSB0aGlzO1xuXHRcdGNsZWFyQnVmZmVycyhwYXJzZXIpO1xuXHRcdHBhcnNlci5xID0gcGFyc2VyLmMgPSBcIlwiO1xuXHRcdHBhcnNlci5idWZmZXJDaGVja1Bvc2l0aW9uID0gc2F4JDEuTUFYX0JVRkZFUl9MRU5HVEg7XG5cdFx0cGFyc2VyLm9wdCA9IG9wdCB8fCB7fTtcblx0XHRwYXJzZXIub3B0Lmxvd2VyY2FzZSA9IHBhcnNlci5vcHQubG93ZXJjYXNlIHx8IHBhcnNlci5vcHQubG93ZXJjYXNldGFncztcblx0XHRwYXJzZXIubG9vc2VDYXNlID0gcGFyc2VyLm9wdC5sb3dlcmNhc2UgPyBcInRvTG93ZXJDYXNlXCIgOiBcInRvVXBwZXJDYXNlXCI7XG5cdFx0cGFyc2VyLnRhZ3MgPSBbXTtcblx0XHRwYXJzZXIuY2xvc2VkID0gcGFyc2VyLmNsb3NlZFJvb3QgPSBwYXJzZXIuc2F3Um9vdCA9IGZhbHNlO1xuXHRcdHBhcnNlci50YWcgPSBwYXJzZXIuZXJyb3IgPSBudWxsO1xuXHRcdHBhcnNlci5zdHJpY3QgPSAhIXN0cmljdDtcblx0XHRwYXJzZXIubm9zY3JpcHQgPSAhIShzdHJpY3QgfHwgcGFyc2VyLm9wdC5ub3NjcmlwdCk7XG5cdFx0cGFyc2VyLnN0YXRlID0gUy5CRUdJTjtcblx0XHRwYXJzZXIuc3RyaWN0RW50aXRpZXMgPSBwYXJzZXIub3B0LnN0cmljdEVudGl0aWVzO1xuXHRcdHBhcnNlci5FTlRJVElFUyA9IHBhcnNlci5zdHJpY3RFbnRpdGllcyA/IE9iamVjdC5jcmVhdGUoc2F4JDEuWE1MX0VOVElUSUVTKSA6IE9iamVjdC5jcmVhdGUoc2F4JDEuRU5USVRJRVMpO1xuXHRcdHBhcnNlci5hdHRyaWJMaXN0ID0gW107XG5cdFx0aWYgKHBhcnNlci5vcHQueG1sbnMpIHBhcnNlci5ucyA9IE9iamVjdC5jcmVhdGUocm9vdE5TKTtcblx0XHRwYXJzZXIudHJhY2tQb3NpdGlvbiA9IHBhcnNlci5vcHQucG9zaXRpb24gIT09IGZhbHNlO1xuXHRcdGlmIChwYXJzZXIudHJhY2tQb3NpdGlvbikgcGFyc2VyLnBvc2l0aW9uID0gcGFyc2VyLmxpbmUgPSBwYXJzZXIuY29sdW1uID0gMDtcblx0XHRlbWl0KHBhcnNlciwgXCJvbnJlYWR5XCIpO1xuXHR9XG5cdGlmICghT2JqZWN0LmNyZWF0ZSkgT2JqZWN0LmNyZWF0ZSA9IGZ1bmN0aW9uKG8pIHtcblx0XHRmdW5jdGlvbiBGKCkge31cblx0XHRGLnByb3RvdHlwZSA9IG87XG5cdFx0dmFyIG5ld2YgPSBuZXcgRigpO1xuXHRcdHJldHVybiBuZXdmO1xuXHR9O1xuXHRpZiAoIU9iamVjdC5rZXlzKSBPYmplY3Qua2V5cyA9IGZ1bmN0aW9uKG8pIHtcblx0XHR2YXIgYSA9IFtdO1xuXHRcdGZvciAodmFyIGkgaW4gbykgaWYgKG8uaGFzT3duUHJvcGVydHkoaSkpIGEucHVzaChpKTtcblx0XHRyZXR1cm4gYTtcblx0fTtcblx0ZnVuY3Rpb24gY2hlY2tCdWZmZXJMZW5ndGgocGFyc2VyKSB7XG5cdFx0dmFyIG1heEFsbG93ZWQgPSBNYXRoLm1heChzYXgkMS5NQVhfQlVGRkVSX0xFTkdUSCwgMTApO1xuXHRcdHZhciBtYXhBY3R1YWwgPSAwO1xuXHRcdGZvciAodmFyIGkgPSAwLCBsID0gYnVmZmVycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0XHRcdHZhciBsZW4gPSBwYXJzZXJbYnVmZmVyc1tpXV0ubGVuZ3RoO1xuXHRcdFx0aWYgKGxlbiA+IG1heEFsbG93ZWQpIHN3aXRjaCAoYnVmZmVyc1tpXSkge1xuXHRcdFx0XHRjYXNlIFwidGV4dE5vZGVcIjpcblx0XHRcdFx0XHRjbG9zZVRleHQocGFyc2VyKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcImNkYXRhXCI6XG5cdFx0XHRcdFx0ZW1pdE5vZGUocGFyc2VyLCBcIm9uY2RhdGFcIiwgcGFyc2VyLmNkYXRhKTtcblx0XHRcdFx0XHRwYXJzZXIuY2RhdGEgPSBcIlwiO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFwic2NyaXB0XCI6XG5cdFx0XHRcdFx0ZW1pdE5vZGUocGFyc2VyLCBcIm9uc2NyaXB0XCIsIHBhcnNlci5zY3JpcHQpO1xuXHRcdFx0XHRcdHBhcnNlci5zY3JpcHQgPSBcIlwiO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRkZWZhdWx0OiBlcnJvcihwYXJzZXIsIFwiTWF4IGJ1ZmZlciBsZW5ndGggZXhjZWVkZWQ6IFwiICsgYnVmZmVyc1tpXSk7XG5cdFx0XHR9XG5cdFx0XHRtYXhBY3R1YWwgPSBNYXRoLm1heChtYXhBY3R1YWwsIGxlbik7XG5cdFx0fVxuXHRcdHZhciBtID0gc2F4JDEuTUFYX0JVRkZFUl9MRU5HVEggLSBtYXhBY3R1YWw7XG5cdFx0cGFyc2VyLmJ1ZmZlckNoZWNrUG9zaXRpb24gPSBtICsgcGFyc2VyLnBvc2l0aW9uO1xuXHR9XG5cdGZ1bmN0aW9uIGNsZWFyQnVmZmVycyhwYXJzZXIpIHtcblx0XHRmb3IgKHZhciBpID0gMCwgbCA9IGJ1ZmZlcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSBwYXJzZXJbYnVmZmVyc1tpXV0gPSBcIlwiO1xuXHR9XG5cdGZ1bmN0aW9uIGZsdXNoQnVmZmVycyhwYXJzZXIpIHtcblx0XHRjbG9zZVRleHQocGFyc2VyKTtcblx0XHRpZiAocGFyc2VyLmNkYXRhICE9PSBcIlwiKSB7XG5cdFx0XHRlbWl0Tm9kZShwYXJzZXIsIFwib25jZGF0YVwiLCBwYXJzZXIuY2RhdGEpO1xuXHRcdFx0cGFyc2VyLmNkYXRhID0gXCJcIjtcblx0XHR9XG5cdFx0aWYgKHBhcnNlci5zY3JpcHQgIT09IFwiXCIpIHtcblx0XHRcdGVtaXROb2RlKHBhcnNlciwgXCJvbnNjcmlwdFwiLCBwYXJzZXIuc2NyaXB0KTtcblx0XHRcdHBhcnNlci5zY3JpcHQgPSBcIlwiO1xuXHRcdH1cblx0fVxuXHRTQVhQYXJzZXIucHJvdG90eXBlID0ge1xuXHRcdGVuZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRlbmQodGhpcyk7XG5cdFx0fSxcblx0XHR3cml0ZSxcblx0XHRyZXN1bWU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5lcnJvciA9IG51bGw7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdGNsb3NlOiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiB0aGlzLndyaXRlKG51bGwpO1xuXHRcdH0sXG5cdFx0Zmx1c2g6IGZ1bmN0aW9uKCkge1xuXHRcdFx0Zmx1c2hCdWZmZXJzKHRoaXMpO1xuXHRcdH1cblx0fTtcblx0dmFyIFN0cmVhbSA9IFJlYWRhYmxlU3RyZWFtO1xuXHRpZiAoIVN0cmVhbSkgU3RyZWFtID0gZnVuY3Rpb24oKSB7fTtcblx0dmFyIHN0cmVhbVdyYXBzID0gc2F4JDEuRVZFTlRTLmZpbHRlcihmdW5jdGlvbihldikge1xuXHRcdHJldHVybiBldiAhPT0gXCJlcnJvclwiICYmIGV2ICE9PSBcImVuZFwiO1xuXHR9KTtcblx0ZnVuY3Rpb24gY3JlYXRlU3RyZWFtKHN0cmljdCwgb3B0KSB7XG5cdFx0cmV0dXJuIG5ldyBTQVhTdHJlYW0oc3RyaWN0LCBvcHQpO1xuXHR9XG5cdGZ1bmN0aW9uIFNBWFN0cmVhbShzdHJpY3QsIG9wdCkge1xuXHRcdGlmICghKHRoaXMgaW5zdGFuY2VvZiBTQVhTdHJlYW0pKSByZXR1cm4gbmV3IFNBWFN0cmVhbShzdHJpY3QsIG9wdCk7XG5cdFx0U3RyZWFtLmFwcGx5KHRoaXMpO1xuXHRcdHRoaXMuX3BhcnNlciA9IG5ldyBTQVhQYXJzZXIoc3RyaWN0LCBvcHQpO1xuXHRcdHRoaXMud3JpdGFibGUgPSB0cnVlO1xuXHRcdHRoaXMucmVhZGFibGUgPSB0cnVlO1xuXHRcdHZhciBtZSA9IHRoaXM7XG5cdFx0dGhpcy5fcGFyc2VyLm9uZW5kID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRtZS5lbWl0KFwiZW5kXCIpO1xuXHRcdH07XG5cdFx0dGhpcy5fcGFyc2VyLm9uZXJyb3IgPSBmdW5jdGlvbihlcikge1xuXHRcdFx0bWUuZW1pdChcImVycm9yXCIsIGVyKTtcblx0XHRcdG1lLl9wYXJzZXIuZXJyb3IgPSBudWxsO1xuXHRcdH07XG5cdFx0dGhpcy5fZGVjb2RlciA9IG51bGw7XG5cdFx0c3RyZWFtV3JhcHMuZm9yRWFjaChmdW5jdGlvbihldikge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1lLCBcIm9uXCIgKyBldiwge1xuXHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHJldHVybiBtZS5fcGFyc2VyW1wib25cIiArIGV2XTtcblx0XHRcdFx0fSxcblx0XHRcdFx0c2V0OiBmdW5jdGlvbihoKSB7XG5cdFx0XHRcdFx0aWYgKCFoKSB7XG5cdFx0XHRcdFx0XHRtZS5yZW1vdmVBbGxMaXN0ZW5lcnMoZXYpO1xuXHRcdFx0XHRcdFx0bWUuX3BhcnNlcltcIm9uXCIgKyBldl0gPSBoO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGg7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdG1lLm9uKGV2LCBoKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblx0U0FYU3RyZWFtLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU3RyZWFtLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogU0FYU3RyZWFtIH0gfSk7XG5cdFNBWFN0cmVhbS5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbihkYXRhKSB7XG5cdFx0dGhpcy5fcGFyc2VyLndyaXRlKGRhdGEudG9TdHJpbmcoKSk7XG5cdFx0dGhpcy5lbWl0KFwiZGF0YVwiLCBkYXRhKTtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fTtcblx0U0FYU3RyZWFtLnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbihjaHVuaykge1xuXHRcdGlmIChjaHVuayAmJiBjaHVuay5sZW5ndGgpIHRoaXMud3JpdGUoY2h1bmspO1xuXHRcdHRoaXMuX3BhcnNlci5lbmQoKTtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fTtcblx0U0FYU3RyZWFtLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uKGV2LCBoYW5kbGVyKSB7XG5cdFx0dmFyIG1lID0gdGhpcztcblx0XHRpZiAoIW1lLl9wYXJzZXJbXCJvblwiICsgZXZdICYmIHN0cmVhbVdyYXBzLmluZGV4T2YoZXYpICE9PSAtMSkgbWUuX3BhcnNlcltcIm9uXCIgKyBldl0gPSBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBhcmdzID0gYXJndW1lbnRzLmxlbmd0aCA9PT0gMSA/IFthcmd1bWVudHNbMF1dIDogQXJyYXkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcblx0XHRcdGFyZ3Muc3BsaWNlKDAsIDAsIGV2KTtcblx0XHRcdG1lLmVtaXQuYXBwbHkobWUsIGFyZ3MpO1xuXHRcdH07XG5cdFx0cmV0dXJuIFN0cmVhbS5wcm90b3R5cGUub24uY2FsbChtZSwgZXYsIGhhbmRsZXIpO1xuXHR9O1xuXHR2YXIgQ0RBVEEgPSBcIltDREFUQVtcIjtcblx0dmFyIERPQ1RZUEUgPSBcIkRPQ1RZUEVcIjtcblx0dmFyIFhNTF9OQU1FU1BBQ0UgPSBcImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZVwiO1xuXHR2YXIgWE1MTlNfTkFNRVNQQUNFID0gXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3htbG5zL1wiO1xuXHR2YXIgcm9vdE5TID0ge1xuXHRcdHhtbDogWE1MX05BTUVTUEFDRSxcblx0XHR4bWxuczogWE1MTlNfTkFNRVNQQUNFXG5cdH07XG5cdHZhciBuYW1lU3RhcnQgPSAvWzpfQS1aYS16XFx1MDBDMC1cXHUwMEQ2XFx1MDBEOC1cXHUwMEY2XFx1MDBGOC1cXHUwMkZGXFx1MDM3MC1cXHUwMzdEXFx1MDM3Ri1cXHUxRkZGXFx1MjAwQy1cXHUyMDBEXFx1MjA3MC1cXHUyMThGXFx1MkMwMC1cXHUyRkVGXFx1MzAwMS1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkZEXS87XG5cdHZhciBuYW1lQm9keSA9IC9bOl9BLVphLXpcXHUwMEMwLVxcdTAwRDZcXHUwMEQ4LVxcdTAwRjZcXHUwMEY4LVxcdTAyRkZcXHUwMzcwLVxcdTAzN0RcXHUwMzdGLVxcdTFGRkZcXHUyMDBDLVxcdTIwMERcXHUyMDcwLVxcdTIxOEZcXHUyQzAwLVxcdTJGRUZcXHUzMDAxLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRkRcXHUwMEI3XFx1MDMwMC1cXHUwMzZGXFx1MjAzRi1cXHUyMDQwLlxcZC1dLztcblx0dmFyIGVudGl0eVN0YXJ0ID0gL1sjOl9BLVphLXpcXHUwMEMwLVxcdTAwRDZcXHUwMEQ4LVxcdTAwRjZcXHUwMEY4LVxcdTAyRkZcXHUwMzcwLVxcdTAzN0RcXHUwMzdGLVxcdTFGRkZcXHUyMDBDLVxcdTIwMERcXHUyMDcwLVxcdTIxOEZcXHUyQzAwLVxcdTJGRUZcXHUzMDAxLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRkRdLztcblx0dmFyIGVudGl0eUJvZHkgPSAvWyM6X0EtWmEtelxcdTAwQzAtXFx1MDBENlxcdTAwRDgtXFx1MDBGNlxcdTAwRjgtXFx1MDJGRlxcdTAzNzAtXFx1MDM3RFxcdTAzN0YtXFx1MUZGRlxcdTIwMEMtXFx1MjAwRFxcdTIwNzAtXFx1MjE4RlxcdTJDMDAtXFx1MkZFRlxcdTMwMDEtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZGRFxcdTAwQjdcXHUwMzAwLVxcdTAzNkZcXHUyMDNGLVxcdTIwNDAuXFxkLV0vO1xuXHRmdW5jdGlvbiBpc1doaXRlc3BhY2UoYykge1xuXHRcdHJldHVybiBjID09PSBcIiBcIiB8fCBjID09PSBcIlxcblwiIHx8IGMgPT09IFwiXFxyXCIgfHwgYyA9PT0gXCJcdFwiO1xuXHR9XG5cdGZ1bmN0aW9uIGlzUXVvdGUoYykge1xuXHRcdHJldHVybiBjID09PSBcIlxcXCJcIiB8fCBjID09PSBcIidcIjtcblx0fVxuXHRmdW5jdGlvbiBpc0F0dHJpYkVuZChjKSB7XG5cdFx0cmV0dXJuIGMgPT09IFwiPlwiIHx8IGlzV2hpdGVzcGFjZShjKTtcblx0fVxuXHRmdW5jdGlvbiBpc01hdGNoKHJlZ2V4LCBjKSB7XG5cdFx0cmV0dXJuIHJlZ2V4LnRlc3QoYyk7XG5cdH1cblx0ZnVuY3Rpb24gbm90TWF0Y2gocmVnZXgsIGMpIHtcblx0XHRyZXR1cm4gIWlzTWF0Y2gocmVnZXgsIGMpO1xuXHR9XG5cdHZhciBTID0gMDtcblx0c2F4JDEuU1RBVEUgPSB7XG5cdFx0QkVHSU46IFMrKyxcblx0XHRCRUdJTl9XSElURVNQQUNFOiBTKyssXG5cdFx0VEVYVDogUysrLFxuXHRcdFRFWFRfRU5USVRZOiBTKyssXG5cdFx0T1BFTl9XQUtBOiBTKyssXG5cdFx0U0dNTF9ERUNMOiBTKyssXG5cdFx0U0dNTF9ERUNMX1FVT1RFRDogUysrLFxuXHRcdERPQ1RZUEU6IFMrKyxcblx0XHRET0NUWVBFX1FVT1RFRDogUysrLFxuXHRcdERPQ1RZUEVfRFREOiBTKyssXG5cdFx0RE9DVFlQRV9EVERfUVVPVEVEOiBTKyssXG5cdFx0Q09NTUVOVF9TVEFSVElORzogUysrLFxuXHRcdENPTU1FTlQ6IFMrKyxcblx0XHRDT01NRU5UX0VORElORzogUysrLFxuXHRcdENPTU1FTlRfRU5ERUQ6IFMrKyxcblx0XHRDREFUQTogUysrLFxuXHRcdENEQVRBX0VORElORzogUysrLFxuXHRcdENEQVRBX0VORElOR18yOiBTKyssXG5cdFx0UFJPQ19JTlNUOiBTKyssXG5cdFx0UFJPQ19JTlNUX0JPRFk6IFMrKyxcblx0XHRQUk9DX0lOU1RfRU5ESU5HOiBTKyssXG5cdFx0T1BFTl9UQUc6IFMrKyxcblx0XHRPUEVOX1RBR19TTEFTSDogUysrLFxuXHRcdEFUVFJJQjogUysrLFxuXHRcdEFUVFJJQl9OQU1FOiBTKyssXG5cdFx0QVRUUklCX05BTUVfU0FXX1dISVRFOiBTKyssXG5cdFx0QVRUUklCX1ZBTFVFOiBTKyssXG5cdFx0QVRUUklCX1ZBTFVFX1FVT1RFRDogUysrLFxuXHRcdEFUVFJJQl9WQUxVRV9DTE9TRUQ6IFMrKyxcblx0XHRBVFRSSUJfVkFMVUVfVU5RVU9URUQ6IFMrKyxcblx0XHRBVFRSSUJfVkFMVUVfRU5USVRZX1E6IFMrKyxcblx0XHRBVFRSSUJfVkFMVUVfRU5USVRZX1U6IFMrKyxcblx0XHRDTE9TRV9UQUc6IFMrKyxcblx0XHRDTE9TRV9UQUdfU0FXX1dISVRFOiBTKyssXG5cdFx0U0NSSVBUOiBTKyssXG5cdFx0U0NSSVBUX0VORElORzogUysrXG5cdH07XG5cdHNheCQxLlhNTF9FTlRJVElFUyA9IHtcblx0XHRhbXA6IFwiJlwiLFxuXHRcdGd0OiBcIj5cIixcblx0XHRsdDogXCI8XCIsXG5cdFx0cXVvdDogXCJcXFwiXCIsXG5cdFx0YXBvczogXCInXCJcblx0fTtcblx0c2F4JDEuRU5USVRJRVMgPSB7XG5cdFx0YW1wOiBcIiZcIixcblx0XHRndDogXCI+XCIsXG5cdFx0bHQ6IFwiPFwiLFxuXHRcdHF1b3Q6IFwiXFxcIlwiLFxuXHRcdGFwb3M6IFwiJ1wiLFxuXHRcdEFFbGlnOiAxOTgsXG5cdFx0QWFjdXRlOiAxOTMsXG5cdFx0QWNpcmM6IDE5NCxcblx0XHRBZ3JhdmU6IDE5Mixcblx0XHRBcmluZzogMTk3LFxuXHRcdEF0aWxkZTogMTk1LFxuXHRcdEF1bWw6IDE5Nixcblx0XHRDY2VkaWw6IDE5OSxcblx0XHRFVEg6IDIwOCxcblx0XHRFYWN1dGU6IDIwMSxcblx0XHRFY2lyYzogMjAyLFxuXHRcdEVncmF2ZTogMjAwLFxuXHRcdEV1bWw6IDIwMyxcblx0XHRJYWN1dGU6IDIwNSxcblx0XHRJY2lyYzogMjA2LFxuXHRcdElncmF2ZTogMjA0LFxuXHRcdEl1bWw6IDIwNyxcblx0XHROdGlsZGU6IDIwOSxcblx0XHRPYWN1dGU6IDIxMSxcblx0XHRPY2lyYzogMjEyLFxuXHRcdE9ncmF2ZTogMjEwLFxuXHRcdE9zbGFzaDogMjE2LFxuXHRcdE90aWxkZTogMjEzLFxuXHRcdE91bWw6IDIxNCxcblx0XHRUSE9STjogMjIyLFxuXHRcdFVhY3V0ZTogMjE4LFxuXHRcdFVjaXJjOiAyMTksXG5cdFx0VWdyYXZlOiAyMTcsXG5cdFx0VXVtbDogMjIwLFxuXHRcdFlhY3V0ZTogMjIxLFxuXHRcdGFhY3V0ZTogMjI1LFxuXHRcdGFjaXJjOiAyMjYsXG5cdFx0YWVsaWc6IDIzMCxcblx0XHRhZ3JhdmU6IDIyNCxcblx0XHRhcmluZzogMjI5LFxuXHRcdGF0aWxkZTogMjI3LFxuXHRcdGF1bWw6IDIyOCxcblx0XHRjY2VkaWw6IDIzMSxcblx0XHRlYWN1dGU6IDIzMyxcblx0XHRlY2lyYzogMjM0LFxuXHRcdGVncmF2ZTogMjMyLFxuXHRcdGV0aDogMjQwLFxuXHRcdGV1bWw6IDIzNSxcblx0XHRpYWN1dGU6IDIzNyxcblx0XHRpY2lyYzogMjM4LFxuXHRcdGlncmF2ZTogMjM2LFxuXHRcdGl1bWw6IDIzOSxcblx0XHRudGlsZGU6IDI0MSxcblx0XHRvYWN1dGU6IDI0Myxcblx0XHRvY2lyYzogMjQ0LFxuXHRcdG9ncmF2ZTogMjQyLFxuXHRcdG9zbGFzaDogMjQ4LFxuXHRcdG90aWxkZTogMjQ1LFxuXHRcdG91bWw6IDI0Nixcblx0XHRzemxpZzogMjIzLFxuXHRcdHRob3JuOiAyNTQsXG5cdFx0dWFjdXRlOiAyNTAsXG5cdFx0dWNpcmM6IDI1MSxcblx0XHR1Z3JhdmU6IDI0OSxcblx0XHR1dW1sOiAyNTIsXG5cdFx0eWFjdXRlOiAyNTMsXG5cdFx0eXVtbDogMjU1LFxuXHRcdGNvcHk6IDE2OSxcblx0XHRyZWc6IDE3NCxcblx0XHRuYnNwOiAxNjAsXG5cdFx0aWV4Y2w6IDE2MSxcblx0XHRjZW50OiAxNjIsXG5cdFx0cG91bmQ6IDE2Myxcblx0XHRjdXJyZW46IDE2NCxcblx0XHR5ZW46IDE2NSxcblx0XHRicnZiYXI6IDE2Nixcblx0XHRzZWN0OiAxNjcsXG5cdFx0dW1sOiAxNjgsXG5cdFx0b3JkZjogMTcwLFxuXHRcdGxhcXVvOiAxNzEsXG5cdFx0bm90OiAxNzIsXG5cdFx0c2h5OiAxNzMsXG5cdFx0bWFjcjogMTc1LFxuXHRcdGRlZzogMTc2LFxuXHRcdHBsdXNtbjogMTc3LFxuXHRcdHN1cDE6IDE4NSxcblx0XHRzdXAyOiAxNzgsXG5cdFx0c3VwMzogMTc5LFxuXHRcdGFjdXRlOiAxODAsXG5cdFx0bWljcm86IDE4MSxcblx0XHRwYXJhOiAxODIsXG5cdFx0bWlkZG90OiAxODMsXG5cdFx0Y2VkaWw6IDE4NCxcblx0XHRvcmRtOiAxODYsXG5cdFx0cmFxdW86IDE4Nyxcblx0XHRmcmFjMTQ6IDE4OCxcblx0XHRmcmFjMTI6IDE4OSxcblx0XHRmcmFjMzQ6IDE5MCxcblx0XHRpcXVlc3Q6IDE5MSxcblx0XHR0aW1lczogMjE1LFxuXHRcdGRpdmlkZTogMjQ3LFxuXHRcdE9FbGlnOiAzMzgsXG5cdFx0b2VsaWc6IDMzOSxcblx0XHRTY2Fyb246IDM1Mixcblx0XHRzY2Fyb246IDM1Myxcblx0XHRZdW1sOiAzNzYsXG5cdFx0Zm5vZjogNDAyLFxuXHRcdGNpcmM6IDcxMCxcblx0XHR0aWxkZTogNzMyLFxuXHRcdEFscGhhOiA5MTMsXG5cdFx0QmV0YTogOTE0LFxuXHRcdEdhbW1hOiA5MTUsXG5cdFx0RGVsdGE6IDkxNixcblx0XHRFcHNpbG9uOiA5MTcsXG5cdFx0WmV0YTogOTE4LFxuXHRcdEV0YTogOTE5LFxuXHRcdFRoZXRhOiA5MjAsXG5cdFx0SW90YTogOTIxLFxuXHRcdEthcHBhOiA5MjIsXG5cdFx0TGFtYmRhOiA5MjMsXG5cdFx0TXU6IDkyNCxcblx0XHROdTogOTI1LFxuXHRcdFhpOiA5MjYsXG5cdFx0T21pY3JvbjogOTI3LFxuXHRcdFBpOiA5MjgsXG5cdFx0UmhvOiA5MjksXG5cdFx0U2lnbWE6IDkzMSxcblx0XHRUYXU6IDkzMixcblx0XHRVcHNpbG9uOiA5MzMsXG5cdFx0UGhpOiA5MzQsXG5cdFx0Q2hpOiA5MzUsXG5cdFx0UHNpOiA5MzYsXG5cdFx0T21lZ2E6IDkzNyxcblx0XHRhbHBoYTogOTQ1LFxuXHRcdGJldGE6IDk0Nixcblx0XHRnYW1tYTogOTQ3LFxuXHRcdGRlbHRhOiA5NDgsXG5cdFx0ZXBzaWxvbjogOTQ5LFxuXHRcdHpldGE6IDk1MCxcblx0XHRldGE6IDk1MSxcblx0XHR0aGV0YTogOTUyLFxuXHRcdGlvdGE6IDk1Myxcblx0XHRrYXBwYTogOTU0LFxuXHRcdGxhbWJkYTogOTU1LFxuXHRcdG11OiA5NTYsXG5cdFx0bnU6IDk1Nyxcblx0XHR4aTogOTU4LFxuXHRcdG9taWNyb246IDk1OSxcblx0XHRwaTogOTYwLFxuXHRcdHJobzogOTYxLFxuXHRcdHNpZ21hZjogOTYyLFxuXHRcdHNpZ21hOiA5NjMsXG5cdFx0dGF1OiA5NjQsXG5cdFx0dXBzaWxvbjogOTY1LFxuXHRcdHBoaTogOTY2LFxuXHRcdGNoaTogOTY3LFxuXHRcdHBzaTogOTY4LFxuXHRcdG9tZWdhOiA5NjksXG5cdFx0dGhldGFzeW06IDk3Nyxcblx0XHR1cHNpaDogOTc4LFxuXHRcdHBpdjogOTgyLFxuXHRcdGVuc3A6IDgxOTQsXG5cdFx0ZW1zcDogODE5NSxcblx0XHR0aGluc3A6IDgyMDEsXG5cdFx0enduajogODIwNCxcblx0XHR6d2o6IDgyMDUsXG5cdFx0bHJtOiA4MjA2LFxuXHRcdHJsbTogODIwNyxcblx0XHRuZGFzaDogODIxMSxcblx0XHRtZGFzaDogODIxMixcblx0XHRsc3F1bzogODIxNixcblx0XHRyc3F1bzogODIxNyxcblx0XHRzYnF1bzogODIxOCxcblx0XHRsZHF1bzogODIyMCxcblx0XHRyZHF1bzogODIyMSxcblx0XHRiZHF1bzogODIyMixcblx0XHRkYWdnZXI6IDgyMjQsXG5cdFx0RGFnZ2VyOiA4MjI1LFxuXHRcdGJ1bGw6IDgyMjYsXG5cdFx0aGVsbGlwOiA4MjMwLFxuXHRcdHBlcm1pbDogODI0MCxcblx0XHRwcmltZTogODI0Mixcblx0XHRQcmltZTogODI0Myxcblx0XHRsc2FxdW86IDgyNDksXG5cdFx0cnNhcXVvOiA4MjUwLFxuXHRcdG9saW5lOiA4MjU0LFxuXHRcdGZyYXNsOiA4MjYwLFxuXHRcdGV1cm86IDgzNjQsXG5cdFx0aW1hZ2U6IDg0NjUsXG5cdFx0d2VpZXJwOiA4NDcyLFxuXHRcdHJlYWw6IDg0NzYsXG5cdFx0dHJhZGU6IDg0ODIsXG5cdFx0YWxlZnN5bTogODUwMSxcblx0XHRsYXJyOiA4NTkyLFxuXHRcdHVhcnI6IDg1OTMsXG5cdFx0cmFycjogODU5NCxcblx0XHRkYXJyOiA4NTk1LFxuXHRcdGhhcnI6IDg1OTYsXG5cdFx0Y3JhcnI6IDg2MjksXG5cdFx0bEFycjogODY1Nixcblx0XHR1QXJyOiA4NjU3LFxuXHRcdHJBcnI6IDg2NTgsXG5cdFx0ZEFycjogODY1OSxcblx0XHRoQXJyOiA4NjYwLFxuXHRcdGZvcmFsbDogODcwNCxcblx0XHRwYXJ0OiA4NzA2LFxuXHRcdGV4aXN0OiA4NzA3LFxuXHRcdGVtcHR5OiA4NzA5LFxuXHRcdG5hYmxhOiA4NzExLFxuXHRcdGlzaW46IDg3MTIsXG5cdFx0bm90aW46IDg3MTMsXG5cdFx0bmk6IDg3MTUsXG5cdFx0cHJvZDogODcxOSxcblx0XHRzdW06IDg3MjEsXG5cdFx0bWludXM6IDg3MjIsXG5cdFx0bG93YXN0OiA4NzI3LFxuXHRcdHJhZGljOiA4NzMwLFxuXHRcdHByb3A6IDg3MzMsXG5cdFx0aW5maW46IDg3MzQsXG5cdFx0YW5nOiA4NzM2LFxuXHRcdGFuZDogODc0Myxcblx0XHRvcjogODc0NCxcblx0XHRjYXA6IDg3NDUsXG5cdFx0Y3VwOiA4NzQ2LFxuXHRcdGludDogODc0Nyxcblx0XHR0aGVyZTQ6IDg3NTYsXG5cdFx0c2ltOiA4NzY0LFxuXHRcdGNvbmc6IDg3NzMsXG5cdFx0YXN5bXA6IDg3NzYsXG5cdFx0bmU6IDg4MDAsXG5cdFx0ZXF1aXY6IDg4MDEsXG5cdFx0bGU6IDg4MDQsXG5cdFx0Z2U6IDg4MDUsXG5cdFx0c3ViOiA4ODM0LFxuXHRcdHN1cDogODgzNSxcblx0XHRuc3ViOiA4ODM2LFxuXHRcdHN1YmU6IDg4MzgsXG5cdFx0c3VwZTogODgzOSxcblx0XHRvcGx1czogODg1Myxcblx0XHRvdGltZXM6IDg4NTUsXG5cdFx0cGVycDogODg2OSxcblx0XHRzZG90OiA4OTAxLFxuXHRcdGxjZWlsOiA4OTY4LFxuXHRcdHJjZWlsOiA4OTY5LFxuXHRcdGxmbG9vcjogODk3MCxcblx0XHRyZmxvb3I6IDg5NzEsXG5cdFx0bGFuZzogOTAwMSxcblx0XHRyYW5nOiA5MDAyLFxuXHRcdGxvejogOTY3NCxcblx0XHRzcGFkZXM6IDk4MjQsXG5cdFx0Y2x1YnM6IDk4MjcsXG5cdFx0aGVhcnRzOiA5ODI5LFxuXHRcdGRpYW1zOiA5ODMwXG5cdH07XG5cdE9iamVjdC5rZXlzKHNheCQxLkVOVElUSUVTKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuXHRcdHZhciBlID0gc2F4JDEuRU5USVRJRVNba2V5XTtcblx0XHR2YXIgcyQxID0gdHlwZW9mIGUgPT09IFwibnVtYmVyXCIgPyBTdHJpbmcuZnJvbUNoYXJDb2RlKGUpIDogZTtcblx0XHRzYXgkMS5FTlRJVElFU1trZXldID0gcyQxO1xuXHR9KTtcblx0Zm9yICh2YXIgcyBpbiBzYXgkMS5TVEFURSkgc2F4JDEuU1RBVEVbc2F4JDEuU1RBVEVbc11dID0gcztcblx0UyA9IHNheCQxLlNUQVRFO1xuXHRmdW5jdGlvbiBlbWl0KHBhcnNlciwgZXZlbnQsIGRhdGEpIHtcblx0XHRwYXJzZXJbZXZlbnRdICYmIHBhcnNlcltldmVudF0oZGF0YSk7XG5cdH1cblx0ZnVuY3Rpb24gZW1pdE5vZGUocGFyc2VyLCBub2RlVHlwZSwgZGF0YSkge1xuXHRcdGlmIChwYXJzZXIudGV4dE5vZGUpIGNsb3NlVGV4dChwYXJzZXIpO1xuXHRcdGVtaXQocGFyc2VyLCBub2RlVHlwZSwgZGF0YSk7XG5cdH1cblx0ZnVuY3Rpb24gY2xvc2VUZXh0KHBhcnNlcikge1xuXHRcdHBhcnNlci50ZXh0Tm9kZSA9IHRleHRvcHRzKHBhcnNlci5vcHQsIHBhcnNlci50ZXh0Tm9kZSk7XG5cdFx0aWYgKHBhcnNlci50ZXh0Tm9kZSkgZW1pdChwYXJzZXIsIFwib250ZXh0XCIsIHBhcnNlci50ZXh0Tm9kZSk7XG5cdFx0cGFyc2VyLnRleHROb2RlID0gXCJcIjtcblx0fVxuXHRmdW5jdGlvbiB0ZXh0b3B0cyhvcHQsIHRleHQpIHtcblx0XHRpZiAob3B0LnRyaW0pIHRleHQgPSB0ZXh0LnRyaW0oKTtcblx0XHRpZiAob3B0Lm5vcm1hbGl6ZSkgdGV4dCA9IHRleHQucmVwbGFjZSgvXFxzKy9nLCBcIiBcIik7XG5cdFx0cmV0dXJuIHRleHQ7XG5cdH1cblx0ZnVuY3Rpb24gZXJyb3IocGFyc2VyLCBlcikge1xuXHRcdGNsb3NlVGV4dChwYXJzZXIpO1xuXHRcdGlmIChwYXJzZXIudHJhY2tQb3NpdGlvbikgZXIgKz0gXCJcXG5MaW5lOiBcIiArIHBhcnNlci5saW5lICsgXCJcXG5Db2x1bW46IFwiICsgcGFyc2VyLmNvbHVtbiArIFwiXFxuQ2hhcjogXCIgKyBwYXJzZXIuYztcblx0XHRlciA9IG5ldyBFcnJvcihlcik7XG5cdFx0cGFyc2VyLmVycm9yID0gZXI7XG5cdFx0ZW1pdChwYXJzZXIsIFwib25lcnJvclwiLCBlcik7XG5cdFx0cmV0dXJuIHBhcnNlcjtcblx0fVxuXHRmdW5jdGlvbiBlbmQocGFyc2VyKSB7XG5cdFx0aWYgKHBhcnNlci5zYXdSb290ICYmICFwYXJzZXIuY2xvc2VkUm9vdCkgc3RyaWN0RmFpbChwYXJzZXIsIFwiVW5jbG9zZWQgcm9vdCB0YWdcIik7XG5cdFx0aWYgKHBhcnNlci5zdGF0ZSAhPT0gUy5CRUdJTiAmJiBwYXJzZXIuc3RhdGUgIT09IFMuQkVHSU5fV0hJVEVTUEFDRSAmJiBwYXJzZXIuc3RhdGUgIT09IFMuVEVYVCkgZXJyb3IocGFyc2VyLCBcIlVuZXhwZWN0ZWQgZW5kXCIpO1xuXHRcdGNsb3NlVGV4dChwYXJzZXIpO1xuXHRcdHBhcnNlci5jID0gXCJcIjtcblx0XHRwYXJzZXIuY2xvc2VkID0gdHJ1ZTtcblx0XHRlbWl0KHBhcnNlciwgXCJvbmVuZFwiKTtcblx0XHRTQVhQYXJzZXIuY2FsbChwYXJzZXIsIHBhcnNlci5zdHJpY3QsIHBhcnNlci5vcHQpO1xuXHRcdHJldHVybiBwYXJzZXI7XG5cdH1cblx0ZnVuY3Rpb24gc3RyaWN0RmFpbChwYXJzZXIsIG1lc3NhZ2UpIHtcblx0XHRpZiAodHlwZW9mIHBhcnNlciAhPT0gXCJvYmplY3RcIiB8fCAhKHBhcnNlciBpbnN0YW5jZW9mIFNBWFBhcnNlcikpIHRocm93IG5ldyBFcnJvcihcImJhZCBjYWxsIHRvIHN0cmljdEZhaWxcIik7XG5cdFx0aWYgKHBhcnNlci5zdHJpY3QpIGVycm9yKHBhcnNlciwgbWVzc2FnZSk7XG5cdH1cblx0ZnVuY3Rpb24gbmV3VGFnKHBhcnNlcikge1xuXHRcdGlmICghcGFyc2VyLnN0cmljdCkgcGFyc2VyLnRhZ05hbWUgPSBwYXJzZXIudGFnTmFtZVtwYXJzZXIubG9vc2VDYXNlXSgpO1xuXHRcdHZhciBwYXJlbnQgPSBwYXJzZXIudGFnc1twYXJzZXIudGFncy5sZW5ndGggLSAxXSB8fCBwYXJzZXI7XG5cdFx0dmFyIHRhZyA9IHBhcnNlci50YWcgPSB7XG5cdFx0XHRuYW1lOiBwYXJzZXIudGFnTmFtZSxcblx0XHRcdGF0dHJpYnV0ZXM6IHt9XG5cdFx0fTtcblx0XHRpZiAocGFyc2VyLm9wdC54bWxucykgdGFnLm5zID0gcGFyZW50Lm5zO1xuXHRcdHBhcnNlci5hdHRyaWJMaXN0Lmxlbmd0aCA9IDA7XG5cdFx0ZW1pdE5vZGUocGFyc2VyLCBcIm9ub3BlbnRhZ3N0YXJ0XCIsIHRhZyk7XG5cdH1cblx0ZnVuY3Rpb24gcW5hbWUobmFtZSwgYXR0cmlidXRlKSB7XG5cdFx0dmFyIGkgPSBuYW1lLmluZGV4T2YoXCI6XCIpO1xuXHRcdHZhciBxdWFsTmFtZSA9IGkgPCAwID8gW1wiXCIsIG5hbWVdIDogbmFtZS5zcGxpdChcIjpcIik7XG5cdFx0dmFyIHByZWZpeCA9IHF1YWxOYW1lWzBdO1xuXHRcdHZhciBsb2NhbCA9IHF1YWxOYW1lWzFdO1xuXHRcdGlmIChhdHRyaWJ1dGUgJiYgbmFtZSA9PT0gXCJ4bWxuc1wiKSB7XG5cdFx0XHRwcmVmaXggPSBcInhtbG5zXCI7XG5cdFx0XHRsb2NhbCA9IFwiXCI7XG5cdFx0fVxuXHRcdHJldHVybiB7XG5cdFx0XHRwcmVmaXgsXG5cdFx0XHRsb2NhbFxuXHRcdH07XG5cdH1cblx0ZnVuY3Rpb24gYXR0cmliKHBhcnNlcikge1xuXHRcdGlmICghcGFyc2VyLnN0cmljdCkgcGFyc2VyLmF0dHJpYk5hbWUgPSBwYXJzZXIuYXR0cmliTmFtZVtwYXJzZXIubG9vc2VDYXNlXSgpO1xuXHRcdGlmIChwYXJzZXIuYXR0cmliTGlzdC5pbmRleE9mKHBhcnNlci5hdHRyaWJOYW1lKSAhPT0gLTEgfHwgcGFyc2VyLnRhZy5hdHRyaWJ1dGVzLmhhc093blByb3BlcnR5KHBhcnNlci5hdHRyaWJOYW1lKSkge1xuXHRcdFx0cGFyc2VyLmF0dHJpYk5hbWUgPSBwYXJzZXIuYXR0cmliVmFsdWUgPSBcIlwiO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAocGFyc2VyLm9wdC54bWxucykge1xuXHRcdFx0dmFyIHFuID0gcW5hbWUocGFyc2VyLmF0dHJpYk5hbWUsIHRydWUpO1xuXHRcdFx0dmFyIHByZWZpeCA9IHFuLnByZWZpeDtcblx0XHRcdHZhciBsb2NhbCA9IHFuLmxvY2FsO1xuXHRcdFx0aWYgKHByZWZpeCA9PT0gXCJ4bWxuc1wiKSBpZiAobG9jYWwgPT09IFwieG1sXCIgJiYgcGFyc2VyLmF0dHJpYlZhbHVlICE9PSBYTUxfTkFNRVNQQUNFKSBzdHJpY3RGYWlsKHBhcnNlciwgXCJ4bWw6IHByZWZpeCBtdXN0IGJlIGJvdW5kIHRvIFwiICsgWE1MX05BTUVTUEFDRSArIFwiXFxuQWN0dWFsOiBcIiArIHBhcnNlci5hdHRyaWJWYWx1ZSk7XG5cdFx0XHRlbHNlIGlmIChsb2NhbCA9PT0gXCJ4bWxuc1wiICYmIHBhcnNlci5hdHRyaWJWYWx1ZSAhPT0gWE1MTlNfTkFNRVNQQUNFKSBzdHJpY3RGYWlsKHBhcnNlciwgXCJ4bWxuczogcHJlZml4IG11c3QgYmUgYm91bmQgdG8gXCIgKyBYTUxOU19OQU1FU1BBQ0UgKyBcIlxcbkFjdHVhbDogXCIgKyBwYXJzZXIuYXR0cmliVmFsdWUpO1xuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdHZhciB0YWcgPSBwYXJzZXIudGFnO1xuXHRcdFx0XHR2YXIgcGFyZW50ID0gcGFyc2VyLnRhZ3NbcGFyc2VyLnRhZ3MubGVuZ3RoIC0gMV0gfHwgcGFyc2VyO1xuXHRcdFx0XHRpZiAodGFnLm5zID09PSBwYXJlbnQubnMpIHRhZy5ucyA9IE9iamVjdC5jcmVhdGUocGFyZW50Lm5zKTtcblx0XHRcdFx0dGFnLm5zW2xvY2FsXSA9IHBhcnNlci5hdHRyaWJWYWx1ZTtcblx0XHRcdH1cblx0XHRcdHBhcnNlci5hdHRyaWJMaXN0LnB1c2goW3BhcnNlci5hdHRyaWJOYW1lLCBwYXJzZXIuYXR0cmliVmFsdWVdKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cGFyc2VyLnRhZy5hdHRyaWJ1dGVzW3BhcnNlci5hdHRyaWJOYW1lXSA9IHBhcnNlci5hdHRyaWJWYWx1ZTtcblx0XHRcdGVtaXROb2RlKHBhcnNlciwgXCJvbmF0dHJpYnV0ZVwiLCB7XG5cdFx0XHRcdG5hbWU6IHBhcnNlci5hdHRyaWJOYW1lLFxuXHRcdFx0XHR2YWx1ZTogcGFyc2VyLmF0dHJpYlZhbHVlXG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0cGFyc2VyLmF0dHJpYk5hbWUgPSBwYXJzZXIuYXR0cmliVmFsdWUgPSBcIlwiO1xuXHR9XG5cdGZ1bmN0aW9uIG9wZW5UYWcocGFyc2VyLCBzZWxmQ2xvc2luZykge1xuXHRcdGlmIChwYXJzZXIub3B0LnhtbG5zKSB7XG5cdFx0XHR2YXIgdGFnID0gcGFyc2VyLnRhZztcblx0XHRcdHZhciBxbiA9IHFuYW1lKHBhcnNlci50YWdOYW1lKTtcblx0XHRcdHRhZy5wcmVmaXggPSBxbi5wcmVmaXg7XG5cdFx0XHR0YWcubG9jYWwgPSBxbi5sb2NhbDtcblx0XHRcdHRhZy51cmkgPSB0YWcubnNbcW4ucHJlZml4XSB8fCBcIlwiO1xuXHRcdFx0aWYgKHRhZy5wcmVmaXggJiYgIXRhZy51cmkpIHtcblx0XHRcdFx0c3RyaWN0RmFpbChwYXJzZXIsIFwiVW5ib3VuZCBuYW1lc3BhY2UgcHJlZml4OiBcIiArIEpTT04uc3RyaW5naWZ5KHBhcnNlci50YWdOYW1lKSk7XG5cdFx0XHRcdHRhZy51cmkgPSBxbi5wcmVmaXg7XG5cdFx0XHR9XG5cdFx0XHR2YXIgcGFyZW50ID0gcGFyc2VyLnRhZ3NbcGFyc2VyLnRhZ3MubGVuZ3RoIC0gMV0gfHwgcGFyc2VyO1xuXHRcdFx0aWYgKHRhZy5ucyAmJiBwYXJlbnQubnMgIT09IHRhZy5ucykgT2JqZWN0LmtleXModGFnLm5zKS5mb3JFYWNoKGZ1bmN0aW9uKHApIHtcblx0XHRcdFx0ZW1pdE5vZGUocGFyc2VyLCBcIm9ub3Blbm5hbWVzcGFjZVwiLCB7XG5cdFx0XHRcdFx0cHJlZml4OiBwLFxuXHRcdFx0XHRcdHVyaTogdGFnLm5zW3BdXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0XHRmb3IgKHZhciBpID0gMCwgbCA9IHBhcnNlci5hdHRyaWJMaXN0Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHRcdFx0XHR2YXIgbnYgPSBwYXJzZXIuYXR0cmliTGlzdFtpXTtcblx0XHRcdFx0dmFyIG5hbWUgPSBudlswXTtcblx0XHRcdFx0dmFyIHZhbHVlID0gbnZbMV07XG5cdFx0XHRcdHZhciBxdWFsTmFtZSA9IHFuYW1lKG5hbWUsIHRydWUpO1xuXHRcdFx0XHR2YXIgcHJlZml4ID0gcXVhbE5hbWUucHJlZml4O1xuXHRcdFx0XHR2YXIgbG9jYWwgPSBxdWFsTmFtZS5sb2NhbDtcblx0XHRcdFx0dmFyIHVyaSA9IHByZWZpeCA9PT0gXCJcIiA/IFwiXCIgOiB0YWcubnNbcHJlZml4XSB8fCBcIlwiO1xuXHRcdFx0XHR2YXIgYSA9IHtcblx0XHRcdFx0XHRuYW1lLFxuXHRcdFx0XHRcdHZhbHVlLFxuXHRcdFx0XHRcdHByZWZpeCxcblx0XHRcdFx0XHRsb2NhbCxcblx0XHRcdFx0XHR1cmlcblx0XHRcdFx0fTtcblx0XHRcdFx0aWYgKHByZWZpeCAmJiBwcmVmaXggIT09IFwieG1sbnNcIiAmJiAhdXJpKSB7XG5cdFx0XHRcdFx0c3RyaWN0RmFpbChwYXJzZXIsIFwiVW5ib3VuZCBuYW1lc3BhY2UgcHJlZml4OiBcIiArIEpTT04uc3RyaW5naWZ5KHByZWZpeCkpO1xuXHRcdFx0XHRcdGEudXJpID0gcHJlZml4O1xuXHRcdFx0XHR9XG5cdFx0XHRcdHBhcnNlci50YWcuYXR0cmlidXRlc1tuYW1lXSA9IGE7XG5cdFx0XHRcdGVtaXROb2RlKHBhcnNlciwgXCJvbmF0dHJpYnV0ZVwiLCBhKTtcblx0XHRcdH1cblx0XHRcdHBhcnNlci5hdHRyaWJMaXN0Lmxlbmd0aCA9IDA7XG5cdFx0fVxuXHRcdHBhcnNlci50YWcuaXNTZWxmQ2xvc2luZyA9ICEhc2VsZkNsb3Npbmc7XG5cdFx0cGFyc2VyLnNhd1Jvb3QgPSB0cnVlO1xuXHRcdHBhcnNlci50YWdzLnB1c2gocGFyc2VyLnRhZyk7XG5cdFx0ZW1pdE5vZGUocGFyc2VyLCBcIm9ub3BlbnRhZ1wiLCBwYXJzZXIudGFnKTtcblx0XHRpZiAoIXNlbGZDbG9zaW5nKSB7XG5cdFx0XHRpZiAoIXBhcnNlci5ub3NjcmlwdCAmJiBwYXJzZXIudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcInNjcmlwdFwiKSBwYXJzZXIuc3RhdGUgPSBTLlNDUklQVDtcblx0XHRcdGVsc2UgcGFyc2VyLnN0YXRlID0gUy5URVhUO1xuXHRcdFx0cGFyc2VyLnRhZyA9IG51bGw7XG5cdFx0XHRwYXJzZXIudGFnTmFtZSA9IFwiXCI7XG5cdFx0fVxuXHRcdHBhcnNlci5hdHRyaWJOYW1lID0gcGFyc2VyLmF0dHJpYlZhbHVlID0gXCJcIjtcblx0XHRwYXJzZXIuYXR0cmliTGlzdC5sZW5ndGggPSAwO1xuXHR9XG5cdGZ1bmN0aW9uIGNsb3NlVGFnKHBhcnNlcikge1xuXHRcdGlmICghcGFyc2VyLnRhZ05hbWUpIHtcblx0XHRcdHN0cmljdEZhaWwocGFyc2VyLCBcIldlaXJkIGVtcHR5IGNsb3NlIHRhZy5cIik7XG5cdFx0XHRwYXJzZXIudGV4dE5vZGUgKz0gXCI8Lz5cIjtcblx0XHRcdHBhcnNlci5zdGF0ZSA9IFMuVEVYVDtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aWYgKHBhcnNlci5zY3JpcHQpIHtcblx0XHRcdGlmIChwYXJzZXIudGFnTmFtZSAhPT0gXCJzY3JpcHRcIikge1xuXHRcdFx0XHRwYXJzZXIuc2NyaXB0ICs9IFwiPC9cIiArIHBhcnNlci50YWdOYW1lICsgXCI+XCI7XG5cdFx0XHRcdHBhcnNlci50YWdOYW1lID0gXCJcIjtcblx0XHRcdFx0cGFyc2VyLnN0YXRlID0gUy5TQ1JJUFQ7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGVtaXROb2RlKHBhcnNlciwgXCJvbnNjcmlwdFwiLCBwYXJzZXIuc2NyaXB0KTtcblx0XHRcdHBhcnNlci5zY3JpcHQgPSBcIlwiO1xuXHRcdH1cblx0XHR2YXIgdCA9IHBhcnNlci50YWdzLmxlbmd0aDtcblx0XHR2YXIgdGFnTmFtZSA9IHBhcnNlci50YWdOYW1lO1xuXHRcdGlmICghcGFyc2VyLnN0cmljdCkgdGFnTmFtZSA9IHRhZ05hbWVbcGFyc2VyLmxvb3NlQ2FzZV0oKTtcblx0XHR2YXIgY2xvc2VUbyA9IHRhZ05hbWU7XG5cdFx0d2hpbGUgKHQtLSkge1xuXHRcdFx0dmFyIGNsb3NlID0gcGFyc2VyLnRhZ3NbdF07XG5cdFx0XHRpZiAoY2xvc2UubmFtZSAhPT0gY2xvc2VUbykgc3RyaWN0RmFpbChwYXJzZXIsIFwiVW5leHBlY3RlZCBjbG9zZSB0YWdcIik7XG5cdFx0XHRlbHNlIGJyZWFrO1xuXHRcdH1cblx0XHRpZiAodCA8IDApIHtcblx0XHRcdHN0cmljdEZhaWwocGFyc2VyLCBcIlVubWF0Y2hlZCBjbG9zaW5nIHRhZzogXCIgKyBwYXJzZXIudGFnTmFtZSk7XG5cdFx0XHRwYXJzZXIudGV4dE5vZGUgKz0gXCI8L1wiICsgcGFyc2VyLnRhZ05hbWUgKyBcIj5cIjtcblx0XHRcdHBhcnNlci5zdGF0ZSA9IFMuVEVYVDtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0cGFyc2VyLnRhZ05hbWUgPSB0YWdOYW1lO1xuXHRcdHZhciBzJDEgPSBwYXJzZXIudGFncy5sZW5ndGg7XG5cdFx0d2hpbGUgKHMkMS0tID4gdCkge1xuXHRcdFx0dmFyIHRhZyA9IHBhcnNlci50YWcgPSBwYXJzZXIudGFncy5wb3AoKTtcblx0XHRcdHBhcnNlci50YWdOYW1lID0gcGFyc2VyLnRhZy5uYW1lO1xuXHRcdFx0ZW1pdE5vZGUocGFyc2VyLCBcIm9uY2xvc2V0YWdcIiwgcGFyc2VyLnRhZ05hbWUpO1xuXHRcdFx0dmFyIHggPSB7fTtcblx0XHRcdGZvciAodmFyIGkgaW4gdGFnLm5zKSB4W2ldID0gdGFnLm5zW2ldO1xuXHRcdFx0dmFyIHBhcmVudCA9IHBhcnNlci50YWdzW3BhcnNlci50YWdzLmxlbmd0aCAtIDFdIHx8IHBhcnNlcjtcblx0XHRcdGlmIChwYXJzZXIub3B0LnhtbG5zICYmIHRhZy5ucyAhPT0gcGFyZW50Lm5zKSBPYmplY3Qua2V5cyh0YWcubnMpLmZvckVhY2goZnVuY3Rpb24ocCkge1xuXHRcdFx0XHR2YXIgbiA9IHRhZy5uc1twXTtcblx0XHRcdFx0ZW1pdE5vZGUocGFyc2VyLCBcIm9uY2xvc2VuYW1lc3BhY2VcIiwge1xuXHRcdFx0XHRcdHByZWZpeDogcCxcblx0XHRcdFx0XHR1cmk6IG5cblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0aWYgKHQgPT09IDApIHBhcnNlci5jbG9zZWRSb290ID0gdHJ1ZTtcblx0XHRwYXJzZXIudGFnTmFtZSA9IHBhcnNlci5hdHRyaWJWYWx1ZSA9IHBhcnNlci5hdHRyaWJOYW1lID0gXCJcIjtcblx0XHRwYXJzZXIuYXR0cmliTGlzdC5sZW5ndGggPSAwO1xuXHRcdHBhcnNlci5zdGF0ZSA9IFMuVEVYVDtcblx0fVxuXHRmdW5jdGlvbiBwYXJzZUVudGl0eShwYXJzZXIpIHtcblx0XHR2YXIgZW50aXR5ID0gcGFyc2VyLmVudGl0eTtcblx0XHR2YXIgZW50aXR5TEMgPSBlbnRpdHkudG9Mb3dlckNhc2UoKTtcblx0XHR2YXIgbnVtO1xuXHRcdHZhciBudW1TdHIgPSBcIlwiO1xuXHRcdGlmIChwYXJzZXIuRU5USVRJRVNbZW50aXR5XSkgcmV0dXJuIHBhcnNlci5FTlRJVElFU1tlbnRpdHldO1xuXHRcdGlmIChwYXJzZXIuRU5USVRJRVNbZW50aXR5TENdKSByZXR1cm4gcGFyc2VyLkVOVElUSUVTW2VudGl0eUxDXTtcblx0XHRlbnRpdHkgPSBlbnRpdHlMQztcblx0XHRpZiAoZW50aXR5LmNoYXJBdCgwKSA9PT0gXCIjXCIpIGlmIChlbnRpdHkuY2hhckF0KDEpID09PSBcInhcIikge1xuXHRcdFx0ZW50aXR5ID0gZW50aXR5LnNsaWNlKDIpO1xuXHRcdFx0bnVtID0gcGFyc2VJbnQoZW50aXR5LCAxNik7XG5cdFx0XHRudW1TdHIgPSBudW0udG9TdHJpbmcoMTYpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRlbnRpdHkgPSBlbnRpdHkuc2xpY2UoMSk7XG5cdFx0XHRudW0gPSBwYXJzZUludChlbnRpdHksIDEwKTtcblx0XHRcdG51bVN0ciA9IG51bS50b1N0cmluZygxMCk7XG5cdFx0fVxuXHRcdGVudGl0eSA9IGVudGl0eS5yZXBsYWNlKC9eMCsvLCBcIlwiKTtcblx0XHRpZiAoaXNOYU4obnVtKSB8fCBudW1TdHIudG9Mb3dlckNhc2UoKSAhPT0gZW50aXR5KSB7XG5cdFx0XHRzdHJpY3RGYWlsKHBhcnNlciwgXCJJbnZhbGlkIGNoYXJhY3RlciBlbnRpdHlcIik7XG5cdFx0XHRyZXR1cm4gXCImXCIgKyBwYXJzZXIuZW50aXR5ICsgXCI7XCI7XG5cdFx0fVxuXHRcdHJldHVybiBTdHJpbmcuZnJvbUNvZGVQb2ludChudW0pO1xuXHR9XG5cdGZ1bmN0aW9uIGJlZ2luV2hpdGVTcGFjZShwYXJzZXIsIGMpIHtcblx0XHRpZiAoYyA9PT0gXCI8XCIpIHtcblx0XHRcdHBhcnNlci5zdGF0ZSA9IFMuT1BFTl9XQUtBO1xuXHRcdFx0cGFyc2VyLnN0YXJ0VGFnUG9zaXRpb24gPSBwYXJzZXIucG9zaXRpb247XG5cdFx0fSBlbHNlIGlmICghaXNXaGl0ZXNwYWNlKGMpKSB7XG5cdFx0XHRzdHJpY3RGYWlsKHBhcnNlciwgXCJOb24td2hpdGVzcGFjZSBiZWZvcmUgZmlyc3QgdGFnLlwiKTtcblx0XHRcdHBhcnNlci50ZXh0Tm9kZSA9IGM7XG5cdFx0XHRwYXJzZXIuc3RhdGUgPSBTLlRFWFQ7XG5cdFx0fVxuXHR9XG5cdGZ1bmN0aW9uIGNoYXJBdChjaHVuaywgaSkge1xuXHRcdHZhciByZXN1bHQgPSBcIlwiO1xuXHRcdGlmIChpIDwgY2h1bmsubGVuZ3RoKSByZXN1bHQgPSBjaHVuay5jaGFyQXQoaSk7XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fVxuXHRmdW5jdGlvbiB3cml0ZShjaHVuaykge1xuXHRcdHZhciBwYXJzZXIgPSB0aGlzO1xuXHRcdGlmICh0aGlzLmVycm9yKSB0aHJvdyB0aGlzLmVycm9yO1xuXHRcdGlmIChwYXJzZXIuY2xvc2VkKSByZXR1cm4gZXJyb3IocGFyc2VyLCBcIkNhbm5vdCB3cml0ZSBhZnRlciBjbG9zZS4gQXNzaWduIGFuIG9ucmVhZHkgaGFuZGxlci5cIik7XG5cdFx0aWYgKGNodW5rID09PSBudWxsKSByZXR1cm4gZW5kKHBhcnNlcik7XG5cdFx0aWYgKHR5cGVvZiBjaHVuayA9PT0gXCJvYmplY3RcIikgY2h1bmsgPSBjaHVuay50b1N0cmluZygpO1xuXHRcdHZhciBpID0gMDtcblx0XHR2YXIgYyA9IFwiXCI7XG5cdFx0d2hpbGUgKHRydWUpIHtcblx0XHRcdGMgPSBjaGFyQXQoY2h1bmssIGkrKyk7XG5cdFx0XHRwYXJzZXIuYyA9IGM7XG5cdFx0XHRpZiAoIWMpIGJyZWFrO1xuXHRcdFx0aWYgKHBhcnNlci50cmFja1Bvc2l0aW9uKSB7XG5cdFx0XHRcdHBhcnNlci5wb3NpdGlvbisrO1xuXHRcdFx0XHRpZiAoYyA9PT0gXCJcXG5cIikge1xuXHRcdFx0XHRcdHBhcnNlci5saW5lKys7XG5cdFx0XHRcdFx0cGFyc2VyLmNvbHVtbiA9IDA7XG5cdFx0XHRcdH0gZWxzZSBwYXJzZXIuY29sdW1uKys7XG5cdFx0XHR9XG5cdFx0XHRzd2l0Y2ggKHBhcnNlci5zdGF0ZSkge1xuXHRcdFx0XHRjYXNlIFMuQkVHSU46XG5cdFx0XHRcdFx0cGFyc2VyLnN0YXRlID0gUy5CRUdJTl9XSElURVNQQUNFO1xuXHRcdFx0XHRcdGlmIChjID09PSBcIu+7v1wiKSBjb250aW51ZTtcblx0XHRcdFx0XHRiZWdpbldoaXRlU3BhY2UocGFyc2VyLCBjKTtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0Y2FzZSBTLkJFR0lOX1dISVRFU1BBQ0U6XG5cdFx0XHRcdFx0YmVnaW5XaGl0ZVNwYWNlKHBhcnNlciwgYyk7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdGNhc2UgUy5URVhUOlxuXHRcdFx0XHRcdGlmIChwYXJzZXIuc2F3Um9vdCAmJiAhcGFyc2VyLmNsb3NlZFJvb3QpIHtcblx0XHRcdFx0XHRcdHZhciBzdGFydGkgPSBpIC0gMTtcblx0XHRcdFx0XHRcdHdoaWxlIChjICYmIGMgIT09IFwiPFwiICYmIGMgIT09IFwiJlwiKSB7XG5cdFx0XHRcdFx0XHRcdGMgPSBjaGFyQXQoY2h1bmssIGkrKyk7XG5cdFx0XHRcdFx0XHRcdGlmIChjICYmIHBhcnNlci50cmFja1Bvc2l0aW9uKSB7XG5cdFx0XHRcdFx0XHRcdFx0cGFyc2VyLnBvc2l0aW9uKys7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKGMgPT09IFwiXFxuXCIpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHBhcnNlci5saW5lKys7XG5cdFx0XHRcdFx0XHRcdFx0XHRwYXJzZXIuY29sdW1uID0gMDtcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2UgcGFyc2VyLmNvbHVtbisrO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRwYXJzZXIudGV4dE5vZGUgKz0gY2h1bmsuc3Vic3RyaW5nKHN0YXJ0aSwgaSAtIDEpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoYyA9PT0gXCI8XCIgJiYgIShwYXJzZXIuc2F3Um9vdCAmJiBwYXJzZXIuY2xvc2VkUm9vdCAmJiAhcGFyc2VyLnN0cmljdCkpIHtcblx0XHRcdFx0XHRcdHBhcnNlci5zdGF0ZSA9IFMuT1BFTl9XQUtBO1xuXHRcdFx0XHRcdFx0cGFyc2VyLnN0YXJ0VGFnUG9zaXRpb24gPSBwYXJzZXIucG9zaXRpb247XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGlmICghaXNXaGl0ZXNwYWNlKGMpICYmICghcGFyc2VyLnNhd1Jvb3QgfHwgcGFyc2VyLmNsb3NlZFJvb3QpKSBzdHJpY3RGYWlsKHBhcnNlciwgXCJUZXh0IGRhdGEgb3V0c2lkZSBvZiByb290IG5vZGUuXCIpO1xuXHRcdFx0XHRcdFx0aWYgKGMgPT09IFwiJlwiKSBwYXJzZXIuc3RhdGUgPSBTLlRFWFRfRU5USVRZO1xuXHRcdFx0XHRcdFx0ZWxzZSBwYXJzZXIudGV4dE5vZGUgKz0gYztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdGNhc2UgUy5TQ1JJUFQ6XG5cdFx0XHRcdFx0aWYgKGMgPT09IFwiPFwiKSBwYXJzZXIuc3RhdGUgPSBTLlNDUklQVF9FTkRJTkc7XG5cdFx0XHRcdFx0ZWxzZSBwYXJzZXIuc2NyaXB0ICs9IGM7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdGNhc2UgUy5TQ1JJUFRfRU5ESU5HOlxuXHRcdFx0XHRcdGlmIChjID09PSBcIi9cIikgcGFyc2VyLnN0YXRlID0gUy5DTE9TRV9UQUc7XG5cdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHRwYXJzZXIuc2NyaXB0ICs9IFwiPFwiICsgYztcblx0XHRcdFx0XHRcdHBhcnNlci5zdGF0ZSA9IFMuU0NSSVBUO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0Y2FzZSBTLk9QRU5fV0FLQTpcblx0XHRcdFx0XHRpZiAoYyA9PT0gXCIhXCIpIHtcblx0XHRcdFx0XHRcdHBhcnNlci5zdGF0ZSA9IFMuU0dNTF9ERUNMO1xuXHRcdFx0XHRcdFx0cGFyc2VyLnNnbWxEZWNsID0gXCJcIjtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGlzV2hpdGVzcGFjZShjKSkge30gZWxzZSBpZiAoaXNNYXRjaChuYW1lU3RhcnQsIGMpKSB7XG5cdFx0XHRcdFx0XHRwYXJzZXIuc3RhdGUgPSBTLk9QRU5fVEFHO1xuXHRcdFx0XHRcdFx0cGFyc2VyLnRhZ05hbWUgPSBjO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoYyA9PT0gXCIvXCIpIHtcblx0XHRcdFx0XHRcdHBhcnNlci5zdGF0ZSA9IFMuQ0xPU0VfVEFHO1xuXHRcdFx0XHRcdFx0cGFyc2VyLnRhZ05hbWUgPSBcIlwiO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoYyA9PT0gXCI/XCIpIHtcblx0XHRcdFx0XHRcdHBhcnNlci5zdGF0ZSA9IFMuUFJPQ19JTlNUO1xuXHRcdFx0XHRcdFx0cGFyc2VyLnByb2NJbnN0TmFtZSA9IHBhcnNlci5wcm9jSW5zdEJvZHkgPSBcIlwiO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRzdHJpY3RGYWlsKHBhcnNlciwgXCJVbmVuY29kZWQgPFwiKTtcblx0XHRcdFx0XHRcdGlmIChwYXJzZXIuc3RhcnRUYWdQb3NpdGlvbiArIDEgPCBwYXJzZXIucG9zaXRpb24pIHtcblx0XHRcdFx0XHRcdFx0dmFyIHBhZCA9IHBhcnNlci5wb3NpdGlvbiAtIHBhcnNlci5zdGFydFRhZ1Bvc2l0aW9uO1xuXHRcdFx0XHRcdFx0XHRjID0gbmV3IEFycmF5KHBhZCkuam9pbihcIiBcIikgKyBjO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cGFyc2VyLnRleHROb2RlICs9IFwiPFwiICsgYztcblx0XHRcdFx0XHRcdHBhcnNlci5zdGF0ZSA9IFMuVEVYVDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdGNhc2UgUy5TR01MX0RFQ0w6XG5cdFx0XHRcdFx0aWYgKChwYXJzZXIuc2dtbERlY2wgKyBjKS50b1VwcGVyQ2FzZSgpID09PSBDREFUQSkge1xuXHRcdFx0XHRcdFx0ZW1pdE5vZGUocGFyc2VyLCBcIm9ub3BlbmNkYXRhXCIpO1xuXHRcdFx0XHRcdFx0cGFyc2VyLnN0YXRlID0gUy5DREFUQTtcblx0XHRcdFx0XHRcdHBhcnNlci5zZ21sRGVjbCA9IFwiXCI7XG5cdFx0XHRcdFx0XHRwYXJzZXIuY2RhdGEgPSBcIlwiO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAocGFyc2VyLnNnbWxEZWNsICsgYyA9PT0gXCItLVwiKSB7XG5cdFx0XHRcdFx0XHRwYXJzZXIuc3RhdGUgPSBTLkNPTU1FTlQ7XG5cdFx0XHRcdFx0XHRwYXJzZXIuY29tbWVudCA9IFwiXCI7XG5cdFx0XHRcdFx0XHRwYXJzZXIuc2dtbERlY2wgPSBcIlwiO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoKHBhcnNlci5zZ21sRGVjbCArIGMpLnRvVXBwZXJDYXNlKCkgPT09IERPQ1RZUEUpIHtcblx0XHRcdFx0XHRcdHBhcnNlci5zdGF0ZSA9IFMuRE9DVFlQRTtcblx0XHRcdFx0XHRcdGlmIChwYXJzZXIuZG9jdHlwZSB8fCBwYXJzZXIuc2F3Um9vdCkgc3RyaWN0RmFpbChwYXJzZXIsIFwiSW5hcHByb3ByaWF0ZWx5IGxvY2F0ZWQgZG9jdHlwZSBkZWNsYXJhdGlvblwiKTtcblx0XHRcdFx0XHRcdHBhcnNlci5kb2N0eXBlID0gXCJcIjtcblx0XHRcdFx0XHRcdHBhcnNlci5zZ21sRGVjbCA9IFwiXCI7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChjID09PSBcIj5cIikge1xuXHRcdFx0XHRcdFx0ZW1pdE5vZGUocGFyc2VyLCBcIm9uc2dtbGRlY2xhcmF0aW9uXCIsIHBhcnNlci5zZ21sRGVjbCk7XG5cdFx0XHRcdFx0XHRwYXJzZXIuc2dtbERlY2wgPSBcIlwiO1xuXHRcdFx0XHRcdFx0cGFyc2VyLnN0YXRlID0gUy5URVhUO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoaXNRdW90ZShjKSkge1xuXHRcdFx0XHRcdFx0cGFyc2VyLnN0YXRlID0gUy5TR01MX0RFQ0xfUVVPVEVEO1xuXHRcdFx0XHRcdFx0cGFyc2VyLnNnbWxEZWNsICs9IGM7XG5cdFx0XHRcdFx0fSBlbHNlIHBhcnNlci5zZ21sRGVjbCArPSBjO1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRjYXNlIFMuU0dNTF9ERUNMX1FVT1RFRDpcblx0XHRcdFx0XHRpZiAoYyA9PT0gcGFyc2VyLnEpIHtcblx0XHRcdFx0XHRcdHBhcnNlci5zdGF0ZSA9IFMuU0dNTF9ERUNMO1xuXHRcdFx0XHRcdFx0cGFyc2VyLnEgPSBcIlwiO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRwYXJzZXIuc2dtbERlY2wgKz0gYztcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0Y2FzZSBTLkRPQ1RZUEU6XG5cdFx0XHRcdFx0aWYgKGMgPT09IFwiPlwiKSB7XG5cdFx0XHRcdFx0XHRwYXJzZXIuc3RhdGUgPSBTLlRFWFQ7XG5cdFx0XHRcdFx0XHRlbWl0Tm9kZShwYXJzZXIsIFwib25kb2N0eXBlXCIsIHBhcnNlci5kb2N0eXBlKTtcblx0XHRcdFx0XHRcdHBhcnNlci5kb2N0eXBlID0gdHJ1ZTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cGFyc2VyLmRvY3R5cGUgKz0gYztcblx0XHRcdFx0XHRcdGlmIChjID09PSBcIltcIikgcGFyc2VyLnN0YXRlID0gUy5ET0NUWVBFX0RURDtcblx0XHRcdFx0XHRcdGVsc2UgaWYgKGlzUXVvdGUoYykpIHtcblx0XHRcdFx0XHRcdFx0cGFyc2VyLnN0YXRlID0gUy5ET0NUWVBFX1FVT1RFRDtcblx0XHRcdFx0XHRcdFx0cGFyc2VyLnEgPSBjO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0Y2FzZSBTLkRPQ1RZUEVfUVVPVEVEOlxuXHRcdFx0XHRcdHBhcnNlci5kb2N0eXBlICs9IGM7XG5cdFx0XHRcdFx0aWYgKGMgPT09IHBhcnNlci5xKSB7XG5cdFx0XHRcdFx0XHRwYXJzZXIucSA9IFwiXCI7XG5cdFx0XHRcdFx0XHRwYXJzZXIuc3RhdGUgPSBTLkRPQ1RZUEU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRjYXNlIFMuRE9DVFlQRV9EVEQ6XG5cdFx0XHRcdFx0cGFyc2VyLmRvY3R5cGUgKz0gYztcblx0XHRcdFx0XHRpZiAoYyA9PT0gXCJdXCIpIHBhcnNlci5zdGF0ZSA9IFMuRE9DVFlQRTtcblx0XHRcdFx0XHRlbHNlIGlmIChpc1F1b3RlKGMpKSB7XG5cdFx0XHRcdFx0XHRwYXJzZXIuc3RhdGUgPSBTLkRPQ1RZUEVfRFREX1FVT1RFRDtcblx0XHRcdFx0XHRcdHBhcnNlci5xID0gYztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdGNhc2UgUy5ET0NUWVBFX0RURF9RVU9URUQ6XG5cdFx0XHRcdFx0cGFyc2VyLmRvY3R5cGUgKz0gYztcblx0XHRcdFx0XHRpZiAoYyA9PT0gcGFyc2VyLnEpIHtcblx0XHRcdFx0XHRcdHBhcnNlci5zdGF0ZSA9IFMuRE9DVFlQRV9EVEQ7XG5cdFx0XHRcdFx0XHRwYXJzZXIucSA9IFwiXCI7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRjYXNlIFMuQ09NTUVOVDpcblx0XHRcdFx0XHRpZiAoYyA9PT0gXCItXCIpIHBhcnNlci5zdGF0ZSA9IFMuQ09NTUVOVF9FTkRJTkc7XG5cdFx0XHRcdFx0ZWxzZSBwYXJzZXIuY29tbWVudCArPSBjO1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRjYXNlIFMuQ09NTUVOVF9FTkRJTkc6XG5cdFx0XHRcdFx0aWYgKGMgPT09IFwiLVwiKSB7XG5cdFx0XHRcdFx0XHRwYXJzZXIuc3RhdGUgPSBTLkNPTU1FTlRfRU5ERUQ7XG5cdFx0XHRcdFx0XHRwYXJzZXIuY29tbWVudCA9IHRleHRvcHRzKHBhcnNlci5vcHQsIHBhcnNlci5jb21tZW50KTtcblx0XHRcdFx0XHRcdGlmIChwYXJzZXIuY29tbWVudCkgZW1pdE5vZGUocGFyc2VyLCBcIm9uY29tbWVudFwiLCBwYXJzZXIuY29tbWVudCk7XG5cdFx0XHRcdFx0XHRwYXJzZXIuY29tbWVudCA9IFwiXCI7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHBhcnNlci5jb21tZW50ICs9IFwiLVwiICsgYztcblx0XHRcdFx0XHRcdHBhcnNlci5zdGF0ZSA9IFMuQ09NTUVOVDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdGNhc2UgUy5DT01NRU5UX0VOREVEOlxuXHRcdFx0XHRcdGlmIChjICE9PSBcIj5cIikge1xuXHRcdFx0XHRcdFx0c3RyaWN0RmFpbChwYXJzZXIsIFwiTWFsZm9ybWVkIGNvbW1lbnRcIik7XG5cdFx0XHRcdFx0XHRwYXJzZXIuY29tbWVudCArPSBcIi0tXCIgKyBjO1xuXHRcdFx0XHRcdFx0cGFyc2VyLnN0YXRlID0gUy5DT01NRU5UO1xuXHRcdFx0XHRcdH0gZWxzZSBwYXJzZXIuc3RhdGUgPSBTLlRFWFQ7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdGNhc2UgUy5DREFUQTpcblx0XHRcdFx0XHRpZiAoYyA9PT0gXCJdXCIpIHBhcnNlci5zdGF0ZSA9IFMuQ0RBVEFfRU5ESU5HO1xuXHRcdFx0XHRcdGVsc2UgcGFyc2VyLmNkYXRhICs9IGM7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdGNhc2UgUy5DREFUQV9FTkRJTkc6XG5cdFx0XHRcdFx0aWYgKGMgPT09IFwiXVwiKSBwYXJzZXIuc3RhdGUgPSBTLkNEQVRBX0VORElOR18yO1xuXHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0cGFyc2VyLmNkYXRhICs9IFwiXVwiICsgYztcblx0XHRcdFx0XHRcdHBhcnNlci5zdGF0ZSA9IFMuQ0RBVEE7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRjYXNlIFMuQ0RBVEFfRU5ESU5HXzI6XG5cdFx0XHRcdFx0aWYgKGMgPT09IFwiPlwiKSB7XG5cdFx0XHRcdFx0XHRpZiAocGFyc2VyLmNkYXRhKSBlbWl0Tm9kZShwYXJzZXIsIFwib25jZGF0YVwiLCBwYXJzZXIuY2RhdGEpO1xuXHRcdFx0XHRcdFx0ZW1pdE5vZGUocGFyc2VyLCBcIm9uY2xvc2VjZGF0YVwiKTtcblx0XHRcdFx0XHRcdHBhcnNlci5jZGF0YSA9IFwiXCI7XG5cdFx0XHRcdFx0XHRwYXJzZXIuc3RhdGUgPSBTLlRFWFQ7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChjID09PSBcIl1cIikgcGFyc2VyLmNkYXRhICs9IFwiXVwiO1xuXHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0cGFyc2VyLmNkYXRhICs9IFwiXV1cIiArIGM7XG5cdFx0XHRcdFx0XHRwYXJzZXIuc3RhdGUgPSBTLkNEQVRBO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0Y2FzZSBTLlBST0NfSU5TVDpcblx0XHRcdFx0XHRpZiAoYyA9PT0gXCI/XCIpIHBhcnNlci5zdGF0ZSA9IFMuUFJPQ19JTlNUX0VORElORztcblx0XHRcdFx0XHRlbHNlIGlmIChpc1doaXRlc3BhY2UoYykpIHBhcnNlci5zdGF0ZSA9IFMuUFJPQ19JTlNUX0JPRFk7XG5cdFx0XHRcdFx0ZWxzZSBwYXJzZXIucHJvY0luc3ROYW1lICs9IGM7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdGNhc2UgUy5QUk9DX0lOU1RfQk9EWTpcblx0XHRcdFx0XHRpZiAoIXBhcnNlci5wcm9jSW5zdEJvZHkgJiYgaXNXaGl0ZXNwYWNlKGMpKSBjb250aW51ZTtcblx0XHRcdFx0XHRlbHNlIGlmIChjID09PSBcIj9cIikgcGFyc2VyLnN0YXRlID0gUy5QUk9DX0lOU1RfRU5ESU5HO1xuXHRcdFx0XHRcdGVsc2UgcGFyc2VyLnByb2NJbnN0Qm9keSArPSBjO1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRjYXNlIFMuUFJPQ19JTlNUX0VORElORzpcblx0XHRcdFx0XHRpZiAoYyA9PT0gXCI+XCIpIHtcblx0XHRcdFx0XHRcdGVtaXROb2RlKHBhcnNlciwgXCJvbnByb2Nlc3NpbmdpbnN0cnVjdGlvblwiLCB7XG5cdFx0XHRcdFx0XHRcdG5hbWU6IHBhcnNlci5wcm9jSW5zdE5hbWUsXG5cdFx0XHRcdFx0XHRcdGJvZHk6IHBhcnNlci5wcm9jSW5zdEJvZHlcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0cGFyc2VyLnByb2NJbnN0TmFtZSA9IHBhcnNlci5wcm9jSW5zdEJvZHkgPSBcIlwiO1xuXHRcdFx0XHRcdFx0cGFyc2VyLnN0YXRlID0gUy5URVhUO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRwYXJzZXIucHJvY0luc3RCb2R5ICs9IFwiP1wiICsgYztcblx0XHRcdFx0XHRcdHBhcnNlci5zdGF0ZSA9IFMuUFJPQ19JTlNUX0JPRFk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRjYXNlIFMuT1BFTl9UQUc6XG5cdFx0XHRcdFx0aWYgKGlzTWF0Y2gobmFtZUJvZHksIGMpKSBwYXJzZXIudGFnTmFtZSArPSBjO1xuXHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0bmV3VGFnKHBhcnNlcik7XG5cdFx0XHRcdFx0XHRpZiAoYyA9PT0gXCI+XCIpIG9wZW5UYWcocGFyc2VyKTtcblx0XHRcdFx0XHRcdGVsc2UgaWYgKGMgPT09IFwiL1wiKSBwYXJzZXIuc3RhdGUgPSBTLk9QRU5fVEFHX1NMQVNIO1xuXHRcdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGlmICghaXNXaGl0ZXNwYWNlKGMpKSBzdHJpY3RGYWlsKHBhcnNlciwgXCJJbnZhbGlkIGNoYXJhY3RlciBpbiB0YWcgbmFtZVwiKTtcblx0XHRcdFx0XHRcdFx0cGFyc2VyLnN0YXRlID0gUy5BVFRSSUI7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRjYXNlIFMuT1BFTl9UQUdfU0xBU0g6XG5cdFx0XHRcdFx0aWYgKGMgPT09IFwiPlwiKSB7XG5cdFx0XHRcdFx0XHRvcGVuVGFnKHBhcnNlciwgdHJ1ZSk7XG5cdFx0XHRcdFx0XHRjbG9zZVRhZyhwYXJzZXIpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRzdHJpY3RGYWlsKHBhcnNlciwgXCJGb3J3YXJkLXNsYXNoIGluIG9wZW5pbmcgdGFnIG5vdCBmb2xsb3dlZCBieSA+XCIpO1xuXHRcdFx0XHRcdFx0cGFyc2VyLnN0YXRlID0gUy5BVFRSSUI7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRjYXNlIFMuQVRUUklCOlxuXHRcdFx0XHRcdGlmIChpc1doaXRlc3BhY2UoYykpIGNvbnRpbnVlO1xuXHRcdFx0XHRcdGVsc2UgaWYgKGMgPT09IFwiPlwiKSBvcGVuVGFnKHBhcnNlcik7XG5cdFx0XHRcdFx0ZWxzZSBpZiAoYyA9PT0gXCIvXCIpIHBhcnNlci5zdGF0ZSA9IFMuT1BFTl9UQUdfU0xBU0g7XG5cdFx0XHRcdFx0ZWxzZSBpZiAoaXNNYXRjaChuYW1lU3RhcnQsIGMpKSB7XG5cdFx0XHRcdFx0XHRwYXJzZXIuYXR0cmliTmFtZSA9IGM7XG5cdFx0XHRcdFx0XHRwYXJzZXIuYXR0cmliVmFsdWUgPSBcIlwiO1xuXHRcdFx0XHRcdFx0cGFyc2VyLnN0YXRlID0gUy5BVFRSSUJfTkFNRTtcblx0XHRcdFx0XHR9IGVsc2Ugc3RyaWN0RmFpbChwYXJzZXIsIFwiSW52YWxpZCBhdHRyaWJ1dGUgbmFtZVwiKTtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0Y2FzZSBTLkFUVFJJQl9OQU1FOlxuXHRcdFx0XHRcdGlmIChjID09PSBcIj1cIikgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJfVkFMVUU7XG5cdFx0XHRcdFx0ZWxzZSBpZiAoYyA9PT0gXCI+XCIpIHtcblx0XHRcdFx0XHRcdHN0cmljdEZhaWwocGFyc2VyLCBcIkF0dHJpYnV0ZSB3aXRob3V0IHZhbHVlXCIpO1xuXHRcdFx0XHRcdFx0cGFyc2VyLmF0dHJpYlZhbHVlID0gcGFyc2VyLmF0dHJpYk5hbWU7XG5cdFx0XHRcdFx0XHRhdHRyaWIocGFyc2VyKTtcblx0XHRcdFx0XHRcdG9wZW5UYWcocGFyc2VyKTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGlzV2hpdGVzcGFjZShjKSkgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJfTkFNRV9TQVdfV0hJVEU7XG5cdFx0XHRcdFx0ZWxzZSBpZiAoaXNNYXRjaChuYW1lQm9keSwgYykpIHBhcnNlci5hdHRyaWJOYW1lICs9IGM7XG5cdFx0XHRcdFx0ZWxzZSBzdHJpY3RGYWlsKHBhcnNlciwgXCJJbnZhbGlkIGF0dHJpYnV0ZSBuYW1lXCIpO1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRjYXNlIFMuQVRUUklCX05BTUVfU0FXX1dISVRFOlxuXHRcdFx0XHRcdGlmIChjID09PSBcIj1cIikgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJfVkFMVUU7XG5cdFx0XHRcdFx0ZWxzZSBpZiAoaXNXaGl0ZXNwYWNlKGMpKSBjb250aW51ZTtcblx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdHN0cmljdEZhaWwocGFyc2VyLCBcIkF0dHJpYnV0ZSB3aXRob3V0IHZhbHVlXCIpO1xuXHRcdFx0XHRcdFx0cGFyc2VyLnRhZy5hdHRyaWJ1dGVzW3BhcnNlci5hdHRyaWJOYW1lXSA9IFwiXCI7XG5cdFx0XHRcdFx0XHRwYXJzZXIuYXR0cmliVmFsdWUgPSBcIlwiO1xuXHRcdFx0XHRcdFx0ZW1pdE5vZGUocGFyc2VyLCBcIm9uYXR0cmlidXRlXCIsIHtcblx0XHRcdFx0XHRcdFx0bmFtZTogcGFyc2VyLmF0dHJpYk5hbWUsXG5cdFx0XHRcdFx0XHRcdHZhbHVlOiBcIlwiXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdHBhcnNlci5hdHRyaWJOYW1lID0gXCJcIjtcblx0XHRcdFx0XHRcdGlmIChjID09PSBcIj5cIikgb3BlblRhZyhwYXJzZXIpO1xuXHRcdFx0XHRcdFx0ZWxzZSBpZiAoaXNNYXRjaChuYW1lU3RhcnQsIGMpKSB7XG5cdFx0XHRcdFx0XHRcdHBhcnNlci5hdHRyaWJOYW1lID0gYztcblx0XHRcdFx0XHRcdFx0cGFyc2VyLnN0YXRlID0gUy5BVFRSSUJfTkFNRTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHN0cmljdEZhaWwocGFyc2VyLCBcIkludmFsaWQgYXR0cmlidXRlIG5hbWVcIik7XG5cdFx0XHRcdFx0XHRcdHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0Y2FzZSBTLkFUVFJJQl9WQUxVRTpcblx0XHRcdFx0XHRpZiAoaXNXaGl0ZXNwYWNlKGMpKSBjb250aW51ZTtcblx0XHRcdFx0XHRlbHNlIGlmIChpc1F1b3RlKGMpKSB7XG5cdFx0XHRcdFx0XHRwYXJzZXIucSA9IGM7XG5cdFx0XHRcdFx0XHRwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQl9WQUxVRV9RVU9URUQ7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHN0cmljdEZhaWwocGFyc2VyLCBcIlVucXVvdGVkIGF0dHJpYnV0ZSB2YWx1ZVwiKTtcblx0XHRcdFx0XHRcdHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCX1ZBTFVFX1VOUVVPVEVEO1xuXHRcdFx0XHRcdFx0cGFyc2VyLmF0dHJpYlZhbHVlID0gYztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdGNhc2UgUy5BVFRSSUJfVkFMVUVfUVVPVEVEOlxuXHRcdFx0XHRcdGlmIChjICE9PSBwYXJzZXIucSkge1xuXHRcdFx0XHRcdFx0aWYgKGMgPT09IFwiJlwiKSBwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQl9WQUxVRV9FTlRJVFlfUTtcblx0XHRcdFx0XHRcdGVsc2UgcGFyc2VyLmF0dHJpYlZhbHVlICs9IGM7XG5cdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YXR0cmliKHBhcnNlcik7XG5cdFx0XHRcdFx0cGFyc2VyLnEgPSBcIlwiO1xuXHRcdFx0XHRcdHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCX1ZBTFVFX0NMT1NFRDtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0Y2FzZSBTLkFUVFJJQl9WQUxVRV9DTE9TRUQ6XG5cdFx0XHRcdFx0aWYgKGlzV2hpdGVzcGFjZShjKSkgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUI7XG5cdFx0XHRcdFx0ZWxzZSBpZiAoYyA9PT0gXCI+XCIpIG9wZW5UYWcocGFyc2VyKTtcblx0XHRcdFx0XHRlbHNlIGlmIChjID09PSBcIi9cIikgcGFyc2VyLnN0YXRlID0gUy5PUEVOX1RBR19TTEFTSDtcblx0XHRcdFx0XHRlbHNlIGlmIChpc01hdGNoKG5hbWVTdGFydCwgYykpIHtcblx0XHRcdFx0XHRcdHN0cmljdEZhaWwocGFyc2VyLCBcIk5vIHdoaXRlc3BhY2UgYmV0d2VlbiBhdHRyaWJ1dGVzXCIpO1xuXHRcdFx0XHRcdFx0cGFyc2VyLmF0dHJpYk5hbWUgPSBjO1xuXHRcdFx0XHRcdFx0cGFyc2VyLmF0dHJpYlZhbHVlID0gXCJcIjtcblx0XHRcdFx0XHRcdHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCX05BTUU7XG5cdFx0XHRcdFx0fSBlbHNlIHN0cmljdEZhaWwocGFyc2VyLCBcIkludmFsaWQgYXR0cmlidXRlIG5hbWVcIik7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdGNhc2UgUy5BVFRSSUJfVkFMVUVfVU5RVU9URUQ6XG5cdFx0XHRcdFx0aWYgKCFpc0F0dHJpYkVuZChjKSkge1xuXHRcdFx0XHRcdFx0aWYgKGMgPT09IFwiJlwiKSBwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQl9WQUxVRV9FTlRJVFlfVTtcblx0XHRcdFx0XHRcdGVsc2UgcGFyc2VyLmF0dHJpYlZhbHVlICs9IGM7XG5cdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YXR0cmliKHBhcnNlcik7XG5cdFx0XHRcdFx0aWYgKGMgPT09IFwiPlwiKSBvcGVuVGFnKHBhcnNlcik7XG5cdFx0XHRcdFx0ZWxzZSBwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQjtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0Y2FzZSBTLkNMT1NFX1RBRzpcblx0XHRcdFx0XHRpZiAoIXBhcnNlci50YWdOYW1lKSBpZiAoaXNXaGl0ZXNwYWNlKGMpKSBjb250aW51ZTtcblx0XHRcdFx0XHRlbHNlIGlmIChub3RNYXRjaChuYW1lU3RhcnQsIGMpKSBpZiAocGFyc2VyLnNjcmlwdCkge1xuXHRcdFx0XHRcdFx0cGFyc2VyLnNjcmlwdCArPSBcIjwvXCIgKyBjO1xuXHRcdFx0XHRcdFx0cGFyc2VyLnN0YXRlID0gUy5TQ1JJUFQ7XG5cdFx0XHRcdFx0fSBlbHNlIHN0cmljdEZhaWwocGFyc2VyLCBcIkludmFsaWQgdGFnbmFtZSBpbiBjbG9zaW5nIHRhZy5cIik7XG5cdFx0XHRcdFx0ZWxzZSBwYXJzZXIudGFnTmFtZSA9IGM7XG5cdFx0XHRcdFx0ZWxzZSBpZiAoYyA9PT0gXCI+XCIpIGNsb3NlVGFnKHBhcnNlcik7XG5cdFx0XHRcdFx0ZWxzZSBpZiAoaXNNYXRjaChuYW1lQm9keSwgYykpIHBhcnNlci50YWdOYW1lICs9IGM7XG5cdFx0XHRcdFx0ZWxzZSBpZiAocGFyc2VyLnNjcmlwdCkge1xuXHRcdFx0XHRcdFx0cGFyc2VyLnNjcmlwdCArPSBcIjwvXCIgKyBwYXJzZXIudGFnTmFtZTtcblx0XHRcdFx0XHRcdHBhcnNlci50YWdOYW1lID0gXCJcIjtcblx0XHRcdFx0XHRcdHBhcnNlci5zdGF0ZSA9IFMuU0NSSVBUO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRpZiAoIWlzV2hpdGVzcGFjZShjKSkgc3RyaWN0RmFpbChwYXJzZXIsIFwiSW52YWxpZCB0YWduYW1lIGluIGNsb3NpbmcgdGFnXCIpO1xuXHRcdFx0XHRcdFx0cGFyc2VyLnN0YXRlID0gUy5DTE9TRV9UQUdfU0FXX1dISVRFO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0Y2FzZSBTLkNMT1NFX1RBR19TQVdfV0hJVEU6XG5cdFx0XHRcdFx0aWYgKGlzV2hpdGVzcGFjZShjKSkgY29udGludWU7XG5cdFx0XHRcdFx0aWYgKGMgPT09IFwiPlwiKSBjbG9zZVRhZyhwYXJzZXIpO1xuXHRcdFx0XHRcdGVsc2Ugc3RyaWN0RmFpbChwYXJzZXIsIFwiSW52YWxpZCBjaGFyYWN0ZXJzIGluIGNsb3NpbmcgdGFnXCIpO1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRjYXNlIFMuVEVYVF9FTlRJVFk6XG5cdFx0XHRcdGNhc2UgUy5BVFRSSUJfVkFMVUVfRU5USVRZX1E6XG5cdFx0XHRcdGNhc2UgUy5BVFRSSUJfVkFMVUVfRU5USVRZX1U6XG5cdFx0XHRcdFx0dmFyIHJldHVyblN0YXRlO1xuXHRcdFx0XHRcdHZhciBidWZmZXI7XG5cdFx0XHRcdFx0c3dpdGNoIChwYXJzZXIuc3RhdGUpIHtcblx0XHRcdFx0XHRcdGNhc2UgUy5URVhUX0VOVElUWTpcblx0XHRcdFx0XHRcdFx0cmV0dXJuU3RhdGUgPSBTLlRFWFQ7XG5cdFx0XHRcdFx0XHRcdGJ1ZmZlciA9IFwidGV4dE5vZGVcIjtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRjYXNlIFMuQVRUUklCX1ZBTFVFX0VOVElUWV9ROlxuXHRcdFx0XHRcdFx0XHRyZXR1cm5TdGF0ZSA9IFMuQVRUUklCX1ZBTFVFX1FVT1RFRDtcblx0XHRcdFx0XHRcdFx0YnVmZmVyID0gXCJhdHRyaWJWYWx1ZVwiO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdGNhc2UgUy5BVFRSSUJfVkFMVUVfRU5USVRZX1U6XG5cdFx0XHRcdFx0XHRcdHJldHVyblN0YXRlID0gUy5BVFRSSUJfVkFMVUVfVU5RVU9URUQ7XG5cdFx0XHRcdFx0XHRcdGJ1ZmZlciA9IFwiYXR0cmliVmFsdWVcIjtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChjID09PSBcIjtcIikgaWYgKHBhcnNlci5vcHQudW5wYXJzZWRFbnRpdGllcykge1xuXHRcdFx0XHRcdFx0dmFyIHBhcnNlZEVudGl0eSA9IHBhcnNlRW50aXR5KHBhcnNlcik7XG5cdFx0XHRcdFx0XHRwYXJzZXIuZW50aXR5ID0gXCJcIjtcblx0XHRcdFx0XHRcdHBhcnNlci5zdGF0ZSA9IHJldHVyblN0YXRlO1xuXHRcdFx0XHRcdFx0cGFyc2VyLndyaXRlKHBhcnNlZEVudGl0eSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHBhcnNlcltidWZmZXJdICs9IHBhcnNlRW50aXR5KHBhcnNlcik7XG5cdFx0XHRcdFx0XHRwYXJzZXIuZW50aXR5ID0gXCJcIjtcblx0XHRcdFx0XHRcdHBhcnNlci5zdGF0ZSA9IHJldHVyblN0YXRlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIGlmIChpc01hdGNoKHBhcnNlci5lbnRpdHkubGVuZ3RoID8gZW50aXR5Qm9keSA6IGVudGl0eVN0YXJ0LCBjKSkgcGFyc2VyLmVudGl0eSArPSBjO1xuXHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0c3RyaWN0RmFpbChwYXJzZXIsIFwiSW52YWxpZCBjaGFyYWN0ZXIgaW4gZW50aXR5IG5hbWVcIik7XG5cdFx0XHRcdFx0XHRwYXJzZXJbYnVmZmVyXSArPSBcIiZcIiArIHBhcnNlci5lbnRpdHkgKyBjO1xuXHRcdFx0XHRcdFx0cGFyc2VyLmVudGl0eSA9IFwiXCI7XG5cdFx0XHRcdFx0XHRwYXJzZXIuc3RhdGUgPSByZXR1cm5TdGF0ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcihwYXJzZXIsIFwiVW5rbm93biBzdGF0ZTogXCIgKyBwYXJzZXIuc3RhdGUpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAocGFyc2VyLnBvc2l0aW9uID49IHBhcnNlci5idWZmZXJDaGVja1Bvc2l0aW9uKSBjaGVja0J1ZmZlckxlbmd0aChwYXJzZXIpO1xuXHRcdHJldHVybiBwYXJzZXI7XG5cdH1cblx0LyohIGh0dHA6Ly9tdGhzLmJlL2Zyb21jb2RlcG9pbnQgdjAuMS4wIGJ5IEBtYXRoaWFzICovXG5cdC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5cdGlmICghU3RyaW5nLmZyb21Db2RlUG9pbnQpIChmdW5jdGlvbigpIHtcblx0XHR2YXIgc3RyaW5nRnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZTtcblx0XHR2YXIgZmxvb3IgPSBNYXRoLmZsb29yO1xuXHRcdHZhciBmcm9tQ29kZVBvaW50ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgTUFYX1NJWkUgPSAxNjM4NDtcblx0XHRcdHZhciBjb2RlVW5pdHMgPSBbXTtcblx0XHRcdHZhciBoaWdoU3Vycm9nYXRlO1xuXHRcdFx0dmFyIGxvd1N1cnJvZ2F0ZTtcblx0XHRcdHZhciBpbmRleCA9IC0xO1xuXHRcdFx0dmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cdFx0XHRpZiAoIWxlbmd0aCkgcmV0dXJuIFwiXCI7XG5cdFx0XHR2YXIgcmVzdWx0ID0gXCJcIjtcblx0XHRcdHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG5cdFx0XHRcdHZhciBjb2RlUG9pbnQgPSBOdW1iZXIoYXJndW1lbnRzW2luZGV4XSk7XG5cdFx0XHRcdGlmICghaXNGaW5pdGUoY29kZVBvaW50KSB8fCBjb2RlUG9pbnQgPCAwIHx8IGNvZGVQb2ludCA+IDExMTQxMTEgfHwgZmxvb3IoY29kZVBvaW50KSAhPT0gY29kZVBvaW50KSB0aHJvdyBSYW5nZUVycm9yKFwiSW52YWxpZCBjb2RlIHBvaW50OiBcIiArIGNvZGVQb2ludCk7XG5cdFx0XHRcdGlmIChjb2RlUG9pbnQgPD0gNjU1MzUpIGNvZGVVbml0cy5wdXNoKGNvZGVQb2ludCk7XG5cdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdGNvZGVQb2ludCAtPSA2NTUzNjtcblx0XHRcdFx0XHRoaWdoU3Vycm9nYXRlID0gKGNvZGVQb2ludCA+PiAxMCkgKyA1NTI5Njtcblx0XHRcdFx0XHRsb3dTdXJyb2dhdGUgPSBjb2RlUG9pbnQgJSAxMDI0ICsgNTYzMjA7XG5cdFx0XHRcdFx0Y29kZVVuaXRzLnB1c2goaGlnaFN1cnJvZ2F0ZSwgbG93U3Vycm9nYXRlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoaW5kZXggKyAxID09PSBsZW5ndGggfHwgY29kZVVuaXRzLmxlbmd0aCA+IE1BWF9TSVpFKSB7XG5cdFx0XHRcdFx0cmVzdWx0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZS5hcHBseShudWxsLCBjb2RlVW5pdHMpO1xuXHRcdFx0XHRcdGNvZGVVbml0cy5sZW5ndGggPSAwO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH07XG5cdFx0LyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cblx0XHRpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RyaW5nLCBcImZyb21Db2RlUG9pbnRcIiwge1xuXHRcdFx0dmFsdWU6IGZyb21Db2RlUG9pbnQsXG5cdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHR3cml0YWJsZTogdHJ1ZVxuXHRcdH0pO1xuXHRcdGVsc2UgU3RyaW5nLmZyb21Db2RlUG9pbnQgPSBmcm9tQ29kZVBvaW50O1xuXHR9KSgpO1xuXHRyZXR1cm4gc2F4JDE7XG59O1xuY29uc3Qgc2F4ID0gaW5pdGlhbGl6ZVNheCgpO1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IHNheCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2F4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/sax-js/sax.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/signal.js":
/*!******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/signal.js ***!
  \******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAbortSignalError: () => (/* binding */ getAbortSignalError),\n/* harmony export */   raceWithSignal: () => (/* binding */ raceWithSignal)\n/* harmony export */ });\n//#region src/utils/signal.ts\n/**\n* Race a promise with an abort signal. If the signal is aborted, the promise will\n* be rejected with the error from the signal. If the promise is rejected, the signal will be aborted.\n*\n* @param promise - The promise to race.\n* @param signal - The abort signal.\n* @returns The result of the promise.\n*/\nasync function raceWithSignal(promise, signal) {\n\tif (signal === void 0) return promise;\n\tlet listener;\n\treturn Promise.race([promise.catch((err) => {\n\t\tif (!signal?.aborted) throw err;\n\t\telse return void 0;\n\t}), new Promise((_, reject) => {\n\t\tlistener = () => {\n\t\t\treject(getAbortSignalError(signal));\n\t\t};\n\t\tsignal.addEventListener(\"abort\", listener);\n\t\tif (signal.aborted) reject(getAbortSignalError(signal));\n\t})]).finally(() => signal.removeEventListener(\"abort\", listener));\n}\n/**\n* Get the error from an abort signal. Since you can set the reason to anything,\n* we have to do some type gymnastics to get a proper error message.\n*\n* @param signal - The abort signal.\n* @returns The error from the abort signal.\n*/\nfunction getAbortSignalError(signal) {\n\tif (signal?.reason instanceof Error) return signal.reason;\n\tif (typeof signal?.reason === \"string\") return new Error(signal.reason);\n\treturn /* @__PURE__ */ new Error(\"Aborted\");\n}\n\n//#endregion\n\n//# sourceMappingURL=signal.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3NpZ25hbC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQytDO0FBQy9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3NpZ25hbC5qcz8wZTZkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vI3JlZ2lvbiBzcmMvdXRpbHMvc2lnbmFsLnRzXG4vKipcbiogUmFjZSBhIHByb21pc2Ugd2l0aCBhbiBhYm9ydCBzaWduYWwuIElmIHRoZSBzaWduYWwgaXMgYWJvcnRlZCwgdGhlIHByb21pc2Ugd2lsbFxuKiBiZSByZWplY3RlZCB3aXRoIHRoZSBlcnJvciBmcm9tIHRoZSBzaWduYWwuIElmIHRoZSBwcm9taXNlIGlzIHJlamVjdGVkLCB0aGUgc2lnbmFsIHdpbGwgYmUgYWJvcnRlZC5cbipcbiogQHBhcmFtIHByb21pc2UgLSBUaGUgcHJvbWlzZSB0byByYWNlLlxuKiBAcGFyYW0gc2lnbmFsIC0gVGhlIGFib3J0IHNpZ25hbC5cbiogQHJldHVybnMgVGhlIHJlc3VsdCBvZiB0aGUgcHJvbWlzZS5cbiovXG5hc3luYyBmdW5jdGlvbiByYWNlV2l0aFNpZ25hbChwcm9taXNlLCBzaWduYWwpIHtcblx0aWYgKHNpZ25hbCA9PT0gdm9pZCAwKSByZXR1cm4gcHJvbWlzZTtcblx0bGV0IGxpc3RlbmVyO1xuXHRyZXR1cm4gUHJvbWlzZS5yYWNlKFtwcm9taXNlLmNhdGNoKChlcnIpID0+IHtcblx0XHRpZiAoIXNpZ25hbD8uYWJvcnRlZCkgdGhyb3cgZXJyO1xuXHRcdGVsc2UgcmV0dXJuIHZvaWQgMDtcblx0fSksIG5ldyBQcm9taXNlKChfLCByZWplY3QpID0+IHtcblx0XHRsaXN0ZW5lciA9ICgpID0+IHtcblx0XHRcdHJlamVjdChnZXRBYm9ydFNpZ25hbEVycm9yKHNpZ25hbCkpO1xuXHRcdH07XG5cdFx0c2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBsaXN0ZW5lcik7XG5cdFx0aWYgKHNpZ25hbC5hYm9ydGVkKSByZWplY3QoZ2V0QWJvcnRTaWduYWxFcnJvcihzaWduYWwpKTtcblx0fSldKS5maW5hbGx5KCgpID0+IHNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgbGlzdGVuZXIpKTtcbn1cbi8qKlxuKiBHZXQgdGhlIGVycm9yIGZyb20gYW4gYWJvcnQgc2lnbmFsLiBTaW5jZSB5b3UgY2FuIHNldCB0aGUgcmVhc29uIHRvIGFueXRoaW5nLFxuKiB3ZSBoYXZlIHRvIGRvIHNvbWUgdHlwZSBneW1uYXN0aWNzIHRvIGdldCBhIHByb3BlciBlcnJvciBtZXNzYWdlLlxuKlxuKiBAcGFyYW0gc2lnbmFsIC0gVGhlIGFib3J0IHNpZ25hbC5cbiogQHJldHVybnMgVGhlIGVycm9yIGZyb20gdGhlIGFib3J0IHNpZ25hbC5cbiovXG5mdW5jdGlvbiBnZXRBYm9ydFNpZ25hbEVycm9yKHNpZ25hbCkge1xuXHRpZiAoc2lnbmFsPy5yZWFzb24gaW5zdGFuY2VvZiBFcnJvcikgcmV0dXJuIHNpZ25hbC5yZWFzb247XG5cdGlmICh0eXBlb2Ygc2lnbmFsPy5yZWFzb24gPT09IFwic3RyaW5nXCIpIHJldHVybiBuZXcgRXJyb3Ioc2lnbmFsLnJlYXNvbik7XG5cdHJldHVybiAvKiBAX19QVVJFX18gKi8gbmV3IEVycm9yKFwiQWJvcnRlZFwiKTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBnZXRBYm9ydFNpZ25hbEVycm9yLCByYWNlV2l0aFNpZ25hbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2lnbmFsLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/signal.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/stream.js":
/*!******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/stream.js ***!
  \******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AsyncGeneratorWithSetup: () => (/* binding */ AsyncGeneratorWithSetup),\n/* harmony export */   IterableReadableStream: () => (/* binding */ IterableReadableStream),\n/* harmony export */   atee: () => (/* binding */ atee),\n/* harmony export */   concat: () => (/* binding */ concat),\n/* harmony export */   pipeGeneratorWithSetup: () => (/* binding */ pipeGeneratorWithSetup),\n/* harmony export */   stream_exports: () => (/* binding */ stream_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _singletons_async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../singletons/async_local_storage/index.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/async_local_storage/index.js\");\n/* harmony import */ var _singletons_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../singletons/index.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/singletons/index.js\");\n/* harmony import */ var _runnables_config_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../runnables/config.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/runnables/config.js\");\n/* harmony import */ var _signal_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./signal.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/signal.js\");\n\n\n\n\n\n\n//#region src/utils/stream.ts\nvar stream_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(stream_exports, {\n\tAsyncGeneratorWithSetup: () => AsyncGeneratorWithSetup,\n\tIterableReadableStream: () => IterableReadableStream,\n\tatee: () => atee,\n\tconcat: () => concat,\n\tpipeGeneratorWithSetup: () => pipeGeneratorWithSetup\n});\nvar IterableReadableStream = class IterableReadableStream extends ReadableStream {\n\treader;\n\tensureReader() {\n\t\tif (!this.reader) this.reader = this.getReader();\n\t}\n\tasync next() {\n\t\tthis.ensureReader();\n\t\ttry {\n\t\t\tconst result = await this.reader.read();\n\t\t\tif (result.done) {\n\t\t\t\tthis.reader.releaseLock();\n\t\t\t\treturn {\n\t\t\t\t\tdone: true,\n\t\t\t\t\tvalue: void 0\n\t\t\t\t};\n\t\t\t} else return {\n\t\t\t\tdone: false,\n\t\t\t\tvalue: result.value\n\t\t\t};\n\t\t} catch (e) {\n\t\t\tthis.reader.releaseLock();\n\t\t\tthrow e;\n\t\t}\n\t}\n\tasync return() {\n\t\tthis.ensureReader();\n\t\tif (this.locked) {\n\t\t\tconst cancelPromise = this.reader.cancel();\n\t\t\tthis.reader.releaseLock();\n\t\t\tawait cancelPromise;\n\t\t}\n\t\treturn {\n\t\t\tdone: true,\n\t\t\tvalue: void 0\n\t\t};\n\t}\n\tasync throw(e) {\n\t\tthis.ensureReader();\n\t\tif (this.locked) {\n\t\t\tconst cancelPromise = this.reader.cancel();\n\t\t\tthis.reader.releaseLock();\n\t\t\tawait cancelPromise;\n\t\t}\n\t\tthrow e;\n\t}\n\t[Symbol.asyncIterator]() {\n\t\treturn this;\n\t}\n\tasync [Symbol.asyncDispose]() {\n\t\tawait this.return();\n\t}\n\tstatic fromReadableStream(stream) {\n\t\tconst reader = stream.getReader();\n\t\treturn new IterableReadableStream({\n\t\t\tstart(controller) {\n\t\t\t\treturn pump();\n\t\t\t\tfunction pump() {\n\t\t\t\t\treturn reader.read().then(({ done, value }) => {\n\t\t\t\t\t\tif (done) {\n\t\t\t\t\t\t\tcontroller.close();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcontroller.enqueue(value);\n\t\t\t\t\t\treturn pump();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\tcancel() {\n\t\t\t\treader.releaseLock();\n\t\t\t}\n\t\t});\n\t}\n\tstatic fromAsyncGenerator(generator) {\n\t\treturn new IterableReadableStream({\n\t\t\tasync pull(controller) {\n\t\t\t\tconst { value, done } = await generator.next();\n\t\t\t\tif (done) controller.close();\n\t\t\t\tcontroller.enqueue(value);\n\t\t\t},\n\t\t\tasync cancel(reason) {\n\t\t\t\tawait generator.return(reason);\n\t\t\t}\n\t\t});\n\t}\n};\nfunction atee(iter, length = 2) {\n\tconst buffers = Array.from({ length }, () => []);\n\treturn buffers.map(async function* makeIter(buffer) {\n\t\twhile (true) if (buffer.length === 0) {\n\t\t\tconst result = await iter.next();\n\t\t\tfor (const buffer$1 of buffers) buffer$1.push(result);\n\t\t} else if (buffer[0].done) return;\n\t\telse yield buffer.shift().value;\n\t});\n}\nfunction concat(first, second) {\n\tif (Array.isArray(first) && Array.isArray(second)) return first.concat(second);\n\telse if (typeof first === \"string\" && typeof second === \"string\") return first + second;\n\telse if (typeof first === \"number\" && typeof second === \"number\") return first + second;\n\telse if (\"concat\" in first && typeof first.concat === \"function\") return first.concat(second);\n\telse if (typeof first === \"object\" && typeof second === \"object\") {\n\t\tconst chunk = { ...first };\n\t\tfor (const [key, value] of Object.entries(second)) if (key in chunk && !Array.isArray(chunk[key])) chunk[key] = concat(chunk[key], value);\n\t\telse chunk[key] = value;\n\t\treturn chunk;\n\t} else throw new Error(`Cannot concat ${typeof first} and ${typeof second}`);\n}\nvar AsyncGeneratorWithSetup = class {\n\tgenerator;\n\tsetup;\n\tconfig;\n\tsignal;\n\tfirstResult;\n\tfirstResultUsed = false;\n\tconstructor(params) {\n\t\tthis.generator = params.generator;\n\t\tthis.config = params.config;\n\t\tthis.signal = params.signal ?? this.config?.signal;\n\t\tthis.setup = new Promise((resolve, reject) => {\n\t\t\t_singletons_async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_1__.AsyncLocalStorageProviderSingleton.runWithConfig((0,_runnables_config_js__WEBPACK_IMPORTED_MODULE_3__.pickRunnableConfigKeys)(params.config), async () => {\n\t\t\t\tthis.firstResult = params.generator.next();\n\t\t\t\tif (params.startSetup) this.firstResult.then(params.startSetup).then(resolve, reject);\n\t\t\t\telse this.firstResult.then((_result) => resolve(void 0), reject);\n\t\t\t}, true);\n\t\t});\n\t}\n\tasync next(...args) {\n\t\tthis.signal?.throwIfAborted();\n\t\tif (!this.firstResultUsed) {\n\t\t\tthis.firstResultUsed = true;\n\t\t\treturn this.firstResult;\n\t\t}\n\t\treturn _singletons_async_local_storage_index_js__WEBPACK_IMPORTED_MODULE_1__.AsyncLocalStorageProviderSingleton.runWithConfig((0,_runnables_config_js__WEBPACK_IMPORTED_MODULE_3__.pickRunnableConfigKeys)(this.config), this.signal ? async () => {\n\t\t\treturn (0,_signal_js__WEBPACK_IMPORTED_MODULE_4__.raceWithSignal)(this.generator.next(...args), this.signal);\n\t\t} : async () => {\n\t\t\treturn this.generator.next(...args);\n\t\t}, true);\n\t}\n\tasync return(value) {\n\t\treturn this.generator.return(value);\n\t}\n\tasync throw(e) {\n\t\treturn this.generator.throw(e);\n\t}\n\t[Symbol.asyncIterator]() {\n\t\treturn this;\n\t}\n\tasync [Symbol.asyncDispose]() {\n\t\tawait this.return();\n\t}\n};\nasync function pipeGeneratorWithSetup(to, generator, startSetup, signal, ...args) {\n\tconst gen = new AsyncGeneratorWithSetup({\n\t\tgenerator,\n\t\tstartSetup,\n\t\tsignal\n\t});\n\tconst setup = await gen.setup;\n\treturn {\n\t\toutput: to(gen, setup, ...args),\n\t\tsetup\n\t};\n}\n\n//#endregion\n\n//# sourceMappingURL=stream.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3N0cmVhbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUEyRDtBQUNxQztBQUNoRTtBQUNnQztBQUNuQjs7QUFFN0M7QUFDQTtBQUNBLHNFQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGFBQWE7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsUUFBUTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQSxHQUFHLHNDQUFzQyxjQUFjLE1BQU0sY0FBYztBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsd0dBQWtDLGVBQWUsNEVBQXNCO0FBQzFFO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHdHQUFrQyxlQUFlLDRFQUFzQjtBQUNoRixVQUFVLDBEQUFjO0FBQ3hCLElBQUk7QUFDSjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDaUg7QUFDakgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvc3RyZWFtLmpzPzAyMWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19leHBvcnQgfSBmcm9tIFwiLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5qc1wiO1xuaW1wb3J0IHsgQXN5bmNMb2NhbFN0b3JhZ2VQcm92aWRlclNpbmdsZXRvbiB9IGZyb20gXCIuLi9zaW5nbGV0b25zL2FzeW5jX2xvY2FsX3N0b3JhZ2UvaW5kZXguanNcIjtcbmltcG9ydCBcIi4uL3NpbmdsZXRvbnMvaW5kZXguanNcIjtcbmltcG9ydCB7IHBpY2tSdW5uYWJsZUNvbmZpZ0tleXMgfSBmcm9tIFwiLi4vcnVubmFibGVzL2NvbmZpZy5qc1wiO1xuaW1wb3J0IHsgcmFjZVdpdGhTaWduYWwgfSBmcm9tIFwiLi9zaWduYWwuanNcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy9zdHJlYW0udHNcbnZhciBzdHJlYW1fZXhwb3J0cyA9IHt9O1xuX19leHBvcnQoc3RyZWFtX2V4cG9ydHMsIHtcblx0QXN5bmNHZW5lcmF0b3JXaXRoU2V0dXA6ICgpID0+IEFzeW5jR2VuZXJhdG9yV2l0aFNldHVwLFxuXHRJdGVyYWJsZVJlYWRhYmxlU3RyZWFtOiAoKSA9PiBJdGVyYWJsZVJlYWRhYmxlU3RyZWFtLFxuXHRhdGVlOiAoKSA9PiBhdGVlLFxuXHRjb25jYXQ6ICgpID0+IGNvbmNhdCxcblx0cGlwZUdlbmVyYXRvcldpdGhTZXR1cDogKCkgPT4gcGlwZUdlbmVyYXRvcldpdGhTZXR1cFxufSk7XG52YXIgSXRlcmFibGVSZWFkYWJsZVN0cmVhbSA9IGNsYXNzIEl0ZXJhYmxlUmVhZGFibGVTdHJlYW0gZXh0ZW5kcyBSZWFkYWJsZVN0cmVhbSB7XG5cdHJlYWRlcjtcblx0ZW5zdXJlUmVhZGVyKCkge1xuXHRcdGlmICghdGhpcy5yZWFkZXIpIHRoaXMucmVhZGVyID0gdGhpcy5nZXRSZWFkZXIoKTtcblx0fVxuXHRhc3luYyBuZXh0KCkge1xuXHRcdHRoaXMuZW5zdXJlUmVhZGVyKCk7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMucmVhZGVyLnJlYWQoKTtcblx0XHRcdGlmIChyZXN1bHQuZG9uZSkge1xuXHRcdFx0XHR0aGlzLnJlYWRlci5yZWxlYXNlTG9jaygpO1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdGRvbmU6IHRydWUsXG5cdFx0XHRcdFx0dmFsdWU6IHZvaWQgMFxuXHRcdFx0XHR9O1xuXHRcdFx0fSBlbHNlIHJldHVybiB7XG5cdFx0XHRcdGRvbmU6IGZhbHNlLFxuXHRcdFx0XHR2YWx1ZTogcmVzdWx0LnZhbHVlXG5cdFx0XHR9O1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHRoaXMucmVhZGVyLnJlbGVhc2VMb2NrKCk7XG5cdFx0XHR0aHJvdyBlO1xuXHRcdH1cblx0fVxuXHRhc3luYyByZXR1cm4oKSB7XG5cdFx0dGhpcy5lbnN1cmVSZWFkZXIoKTtcblx0XHRpZiAodGhpcy5sb2NrZWQpIHtcblx0XHRcdGNvbnN0IGNhbmNlbFByb21pc2UgPSB0aGlzLnJlYWRlci5jYW5jZWwoKTtcblx0XHRcdHRoaXMucmVhZGVyLnJlbGVhc2VMb2NrKCk7XG5cdFx0XHRhd2FpdCBjYW5jZWxQcm9taXNlO1xuXHRcdH1cblx0XHRyZXR1cm4ge1xuXHRcdFx0ZG9uZTogdHJ1ZSxcblx0XHRcdHZhbHVlOiB2b2lkIDBcblx0XHR9O1xuXHR9XG5cdGFzeW5jIHRocm93KGUpIHtcblx0XHR0aGlzLmVuc3VyZVJlYWRlcigpO1xuXHRcdGlmICh0aGlzLmxvY2tlZCkge1xuXHRcdFx0Y29uc3QgY2FuY2VsUHJvbWlzZSA9IHRoaXMucmVhZGVyLmNhbmNlbCgpO1xuXHRcdFx0dGhpcy5yZWFkZXIucmVsZWFzZUxvY2soKTtcblx0XHRcdGF3YWl0IGNhbmNlbFByb21pc2U7XG5cdFx0fVxuXHRcdHRocm93IGU7XG5cdH1cblx0W1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXHRhc3luYyBbU3ltYm9sLmFzeW5jRGlzcG9zZV0oKSB7XG5cdFx0YXdhaXQgdGhpcy5yZXR1cm4oKTtcblx0fVxuXHRzdGF0aWMgZnJvbVJlYWRhYmxlU3RyZWFtKHN0cmVhbSkge1xuXHRcdGNvbnN0IHJlYWRlciA9IHN0cmVhbS5nZXRSZWFkZXIoKTtcblx0XHRyZXR1cm4gbmV3IEl0ZXJhYmxlUmVhZGFibGVTdHJlYW0oe1xuXHRcdFx0c3RhcnQoY29udHJvbGxlcikge1xuXHRcdFx0XHRyZXR1cm4gcHVtcCgpO1xuXHRcdFx0XHRmdW5jdGlvbiBwdW1wKCkge1xuXHRcdFx0XHRcdHJldHVybiByZWFkZXIucmVhZCgpLnRoZW4oKHsgZG9uZSwgdmFsdWUgfSkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKGRvbmUpIHtcblx0XHRcdFx0XHRcdFx0Y29udHJvbGxlci5jbG9zZSgpO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRjb250cm9sbGVyLmVucXVldWUodmFsdWUpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHB1bXAoKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGNhbmNlbCgpIHtcblx0XHRcdFx0cmVhZGVyLnJlbGVhc2VMb2NrKCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblx0c3RhdGljIGZyb21Bc3luY0dlbmVyYXRvcihnZW5lcmF0b3IpIHtcblx0XHRyZXR1cm4gbmV3IEl0ZXJhYmxlUmVhZGFibGVTdHJlYW0oe1xuXHRcdFx0YXN5bmMgcHVsbChjb250cm9sbGVyKSB7XG5cdFx0XHRcdGNvbnN0IHsgdmFsdWUsIGRvbmUgfSA9IGF3YWl0IGdlbmVyYXRvci5uZXh0KCk7XG5cdFx0XHRcdGlmIChkb25lKSBjb250cm9sbGVyLmNsb3NlKCk7XG5cdFx0XHRcdGNvbnRyb2xsZXIuZW5xdWV1ZSh2YWx1ZSk7XG5cdFx0XHR9LFxuXHRcdFx0YXN5bmMgY2FuY2VsKHJlYXNvbikge1xuXHRcdFx0XHRhd2FpdCBnZW5lcmF0b3IucmV0dXJuKHJlYXNvbik7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cbn07XG5mdW5jdGlvbiBhdGVlKGl0ZXIsIGxlbmd0aCA9IDIpIHtcblx0Y29uc3QgYnVmZmVycyA9IEFycmF5LmZyb20oeyBsZW5ndGggfSwgKCkgPT4gW10pO1xuXHRyZXR1cm4gYnVmZmVycy5tYXAoYXN5bmMgZnVuY3Rpb24qIG1ha2VJdGVyKGJ1ZmZlcikge1xuXHRcdHdoaWxlICh0cnVlKSBpZiAoYnVmZmVyLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgaXRlci5uZXh0KCk7XG5cdFx0XHRmb3IgKGNvbnN0IGJ1ZmZlciQxIG9mIGJ1ZmZlcnMpIGJ1ZmZlciQxLnB1c2gocmVzdWx0KTtcblx0XHR9IGVsc2UgaWYgKGJ1ZmZlclswXS5kb25lKSByZXR1cm47XG5cdFx0ZWxzZSB5aWVsZCBidWZmZXIuc2hpZnQoKS52YWx1ZTtcblx0fSk7XG59XG5mdW5jdGlvbiBjb25jYXQoZmlyc3QsIHNlY29uZCkge1xuXHRpZiAoQXJyYXkuaXNBcnJheShmaXJzdCkgJiYgQXJyYXkuaXNBcnJheShzZWNvbmQpKSByZXR1cm4gZmlyc3QuY29uY2F0KHNlY29uZCk7XG5cdGVsc2UgaWYgKHR5cGVvZiBmaXJzdCA9PT0gXCJzdHJpbmdcIiAmJiB0eXBlb2Ygc2Vjb25kID09PSBcInN0cmluZ1wiKSByZXR1cm4gZmlyc3QgKyBzZWNvbmQ7XG5cdGVsc2UgaWYgKHR5cGVvZiBmaXJzdCA9PT0gXCJudW1iZXJcIiAmJiB0eXBlb2Ygc2Vjb25kID09PSBcIm51bWJlclwiKSByZXR1cm4gZmlyc3QgKyBzZWNvbmQ7XG5cdGVsc2UgaWYgKFwiY29uY2F0XCIgaW4gZmlyc3QgJiYgdHlwZW9mIGZpcnN0LmNvbmNhdCA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gZmlyc3QuY29uY2F0KHNlY29uZCk7XG5cdGVsc2UgaWYgKHR5cGVvZiBmaXJzdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2Ygc2Vjb25kID09PSBcIm9iamVjdFwiKSB7XG5cdFx0Y29uc3QgY2h1bmsgPSB7IC4uLmZpcnN0IH07XG5cdFx0Zm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoc2Vjb25kKSkgaWYgKGtleSBpbiBjaHVuayAmJiAhQXJyYXkuaXNBcnJheShjaHVua1trZXldKSkgY2h1bmtba2V5XSA9IGNvbmNhdChjaHVua1trZXldLCB2YWx1ZSk7XG5cdFx0ZWxzZSBjaHVua1trZXldID0gdmFsdWU7XG5cdFx0cmV0dXJuIGNodW5rO1xuXHR9IGVsc2UgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgY29uY2F0ICR7dHlwZW9mIGZpcnN0fSBhbmQgJHt0eXBlb2Ygc2Vjb25kfWApO1xufVxudmFyIEFzeW5jR2VuZXJhdG9yV2l0aFNldHVwID0gY2xhc3Mge1xuXHRnZW5lcmF0b3I7XG5cdHNldHVwO1xuXHRjb25maWc7XG5cdHNpZ25hbDtcblx0Zmlyc3RSZXN1bHQ7XG5cdGZpcnN0UmVzdWx0VXNlZCA9IGZhbHNlO1xuXHRjb25zdHJ1Y3RvcihwYXJhbXMpIHtcblx0XHR0aGlzLmdlbmVyYXRvciA9IHBhcmFtcy5nZW5lcmF0b3I7XG5cdFx0dGhpcy5jb25maWcgPSBwYXJhbXMuY29uZmlnO1xuXHRcdHRoaXMuc2lnbmFsID0gcGFyYW1zLnNpZ25hbCA/PyB0aGlzLmNvbmZpZz8uc2lnbmFsO1xuXHRcdHRoaXMuc2V0dXAgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRBc3luY0xvY2FsU3RvcmFnZVByb3ZpZGVyU2luZ2xldG9uLnJ1bldpdGhDb25maWcocGlja1J1bm5hYmxlQ29uZmlnS2V5cyhwYXJhbXMuY29uZmlnKSwgYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHR0aGlzLmZpcnN0UmVzdWx0ID0gcGFyYW1zLmdlbmVyYXRvci5uZXh0KCk7XG5cdFx0XHRcdGlmIChwYXJhbXMuc3RhcnRTZXR1cCkgdGhpcy5maXJzdFJlc3VsdC50aGVuKHBhcmFtcy5zdGFydFNldHVwKS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG5cdFx0XHRcdGVsc2UgdGhpcy5maXJzdFJlc3VsdC50aGVuKChfcmVzdWx0KSA9PiByZXNvbHZlKHZvaWQgMCksIHJlamVjdCk7XG5cdFx0XHR9LCB0cnVlKTtcblx0XHR9KTtcblx0fVxuXHRhc3luYyBuZXh0KC4uLmFyZ3MpIHtcblx0XHR0aGlzLnNpZ25hbD8udGhyb3dJZkFib3J0ZWQoKTtcblx0XHRpZiAoIXRoaXMuZmlyc3RSZXN1bHRVc2VkKSB7XG5cdFx0XHR0aGlzLmZpcnN0UmVzdWx0VXNlZCA9IHRydWU7XG5cdFx0XHRyZXR1cm4gdGhpcy5maXJzdFJlc3VsdDtcblx0XHR9XG5cdFx0cmV0dXJuIEFzeW5jTG9jYWxTdG9yYWdlUHJvdmlkZXJTaW5nbGV0b24ucnVuV2l0aENvbmZpZyhwaWNrUnVubmFibGVDb25maWdLZXlzKHRoaXMuY29uZmlnKSwgdGhpcy5zaWduYWwgPyBhc3luYyAoKSA9PiB7XG5cdFx0XHRyZXR1cm4gcmFjZVdpdGhTaWduYWwodGhpcy5nZW5lcmF0b3IubmV4dCguLi5hcmdzKSwgdGhpcy5zaWduYWwpO1xuXHRcdH0gOiBhc3luYyAoKSA9PiB7XG5cdFx0XHRyZXR1cm4gdGhpcy5nZW5lcmF0b3IubmV4dCguLi5hcmdzKTtcblx0XHR9LCB0cnVlKTtcblx0fVxuXHRhc3luYyByZXR1cm4odmFsdWUpIHtcblx0XHRyZXR1cm4gdGhpcy5nZW5lcmF0b3IucmV0dXJuKHZhbHVlKTtcblx0fVxuXHRhc3luYyB0aHJvdyhlKSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2VuZXJhdG9yLnRocm93KGUpO1xuXHR9XG5cdFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKSB7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblx0YXN5bmMgW1N5bWJvbC5hc3luY0Rpc3Bvc2VdKCkge1xuXHRcdGF3YWl0IHRoaXMucmV0dXJuKCk7XG5cdH1cbn07XG5hc3luYyBmdW5jdGlvbiBwaXBlR2VuZXJhdG9yV2l0aFNldHVwKHRvLCBnZW5lcmF0b3IsIHN0YXJ0U2V0dXAsIHNpZ25hbCwgLi4uYXJncykge1xuXHRjb25zdCBnZW4gPSBuZXcgQXN5bmNHZW5lcmF0b3JXaXRoU2V0dXAoe1xuXHRcdGdlbmVyYXRvcixcblx0XHRzdGFydFNldHVwLFxuXHRcdHNpZ25hbFxuXHR9KTtcblx0Y29uc3Qgc2V0dXAgPSBhd2FpdCBnZW4uc2V0dXA7XG5cdHJldHVybiB7XG5cdFx0b3V0cHV0OiB0byhnZW4sIHNldHVwLCAuLi5hcmdzKSxcblx0XHRzZXR1cFxuXHR9O1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEFzeW5jR2VuZXJhdG9yV2l0aFNldHVwLCBJdGVyYWJsZVJlYWRhYmxlU3RyZWFtLCBhdGVlLCBjb25jYXQsIHBpcGVHZW5lcmF0b3JXaXRoU2V0dXAsIHN0cmVhbV9leHBvcnRzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdHJlYW0uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/stream.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/tiktoken.js":
/*!********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/tiktoken.js ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   encodingForModel: () => (/* binding */ encodingForModel),\n/* harmony export */   getEncoding: () => (/* binding */ getEncoding),\n/* harmony export */   tiktoken_exports: () => (/* binding */ tiktoken_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_virtual/rolldown_runtime.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _async_caller_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./async_caller.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/async_caller.js\");\n/* harmony import */ var js_tiktoken_lite__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! js-tiktoken/lite */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+js-tiktoken@1.0.21/node_modules/js-tiktoken/dist/lite.js\");\n\n\n\n\n//#region src/utils/tiktoken.ts\nvar tiktoken_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(tiktoken_exports, {\n\tencodingForModel: () => encodingForModel,\n\tgetEncoding: () => getEncoding\n});\nconst cache = {};\nconst caller = /* @__PURE__ */ new _async_caller_js__WEBPACK_IMPORTED_MODULE_1__.AsyncCaller({});\nasync function getEncoding(encoding) {\n\tif (!(encoding in cache)) cache[encoding] = caller.fetch(`https://tiktoken.pages.dev/js/${encoding}.json`).then((res) => res.json()).then((data) => new js_tiktoken_lite__WEBPACK_IMPORTED_MODULE_2__.Tiktoken(data)).catch((e) => {\n\t\tdelete cache[encoding];\n\t\tthrow e;\n\t});\n\treturn await cache[encoding];\n}\nasync function encodingForModel(model) {\n\treturn getEncoding((0,js_tiktoken_lite__WEBPACK_IMPORTED_MODULE_2__.getEncodingNameForModel)(model));\n}\n\n//#endregion\n\n//# sourceMappingURL=tiktoken.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3Rpa3Rva2VuLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUEyRDtBQUNYO0FBQ3FCOztBQUVyRTtBQUNBO0FBQ0Esc0VBQVE7QUFDUjtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsbUNBQW1DLHlEQUFXLEdBQUc7QUFDakQ7QUFDQSwyRkFBMkYsU0FBUyxxREFBcUQsc0RBQVE7QUFDaks7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IseUVBQXVCO0FBQzNDOztBQUVBO0FBQzJEO0FBQzNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3Rpa3Rva2VuLmpzP2RkOWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19leHBvcnQgfSBmcm9tIFwiLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5qc1wiO1xuaW1wb3J0IHsgQXN5bmNDYWxsZXIgfSBmcm9tIFwiLi9hc3luY19jYWxsZXIuanNcIjtcbmltcG9ydCB7IFRpa3Rva2VuLCBnZXRFbmNvZGluZ05hbWVGb3JNb2RlbCB9IGZyb20gXCJqcy10aWt0b2tlbi9saXRlXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvdGlrdG9rZW4udHNcbnZhciB0aWt0b2tlbl9leHBvcnRzID0ge307XG5fX2V4cG9ydCh0aWt0b2tlbl9leHBvcnRzLCB7XG5cdGVuY29kaW5nRm9yTW9kZWw6ICgpID0+IGVuY29kaW5nRm9yTW9kZWwsXG5cdGdldEVuY29kaW5nOiAoKSA9PiBnZXRFbmNvZGluZ1xufSk7XG5jb25zdCBjYWNoZSA9IHt9O1xuY29uc3QgY2FsbGVyID0gLyogQF9fUFVSRV9fICovIG5ldyBBc3luY0NhbGxlcih7fSk7XG5hc3luYyBmdW5jdGlvbiBnZXRFbmNvZGluZyhlbmNvZGluZykge1xuXHRpZiAoIShlbmNvZGluZyBpbiBjYWNoZSkpIGNhY2hlW2VuY29kaW5nXSA9IGNhbGxlci5mZXRjaChgaHR0cHM6Ly90aWt0b2tlbi5wYWdlcy5kZXYvanMvJHtlbmNvZGluZ30uanNvbmApLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSkudGhlbigoZGF0YSkgPT4gbmV3IFRpa3Rva2VuKGRhdGEpKS5jYXRjaCgoZSkgPT4ge1xuXHRcdGRlbGV0ZSBjYWNoZVtlbmNvZGluZ107XG5cdFx0dGhyb3cgZTtcblx0fSk7XG5cdHJldHVybiBhd2FpdCBjYWNoZVtlbmNvZGluZ107XG59XG5hc3luYyBmdW5jdGlvbiBlbmNvZGluZ0Zvck1vZGVsKG1vZGVsKSB7XG5cdHJldHVybiBnZXRFbmNvZGluZyhnZXRFbmNvZGluZ05hbWVGb3JNb2RlbChtb2RlbCkpO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IGVuY29kaW5nRm9yTW9kZWwsIGdldEVuY29kaW5nLCB0aWt0b2tlbl9leHBvcnRzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aWt0b2tlbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/tiktoken.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/types/index.js":
/*!***********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/types/index.js ***!
  \***********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   extendInteropZodObject: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.extendInteropZodObject),\n/* harmony export */   getInteropZodDefaultGetter: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.getInteropZodDefaultGetter),\n/* harmony export */   getInteropZodObjectShape: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.getInteropZodObjectShape),\n/* harmony export */   getSchemaDescription: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.getSchemaDescription),\n/* harmony export */   interopParse: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.interopParse),\n/* harmony export */   interopParseAsync: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.interopParseAsync),\n/* harmony export */   interopSafeParse: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.interopSafeParse),\n/* harmony export */   interopSafeParseAsync: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.interopSafeParseAsync),\n/* harmony export */   interopZodObjectMakeFieldsOptional: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.interopZodObjectMakeFieldsOptional),\n/* harmony export */   interopZodObjectPartial: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.interopZodObjectPartial),\n/* harmony export */   interopZodObjectPassthrough: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.interopZodObjectPassthrough),\n/* harmony export */   interopZodObjectStrict: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.interopZodObjectStrict),\n/* harmony export */   interopZodTransformInputSchema: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.interopZodTransformInputSchema),\n/* harmony export */   isInteropZodError: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.isInteropZodError),\n/* harmony export */   isInteropZodLiteral: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.isInteropZodLiteral),\n/* harmony export */   isInteropZodObject: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.isInteropZodObject),\n/* harmony export */   isInteropZodSchema: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.isInteropZodSchema),\n/* harmony export */   isShapelessZodSchema: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.isShapelessZodSchema),\n/* harmony export */   isSimpleStringZodSchema: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.isSimpleStringZodSchema),\n/* harmony export */   isZodArrayV4: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodArrayV4),\n/* harmony export */   isZodLiteralV3: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodLiteralV3),\n/* harmony export */   isZodLiteralV4: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodLiteralV4),\n/* harmony export */   isZodNullableV4: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodNullableV4),\n/* harmony export */   isZodObjectV3: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodObjectV3),\n/* harmony export */   isZodObjectV4: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodObjectV4),\n/* harmony export */   isZodOptionalV4: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodOptionalV4),\n/* harmony export */   isZodSchema: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodSchema),\n/* harmony export */   isZodSchemaV3: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodSchemaV3),\n/* harmony export */   isZodSchemaV4: () => (/* reexport safe */ _zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodSchemaV4),\n/* harmony export */   types_exports: () => (/* binding */ types_exports)\n/* harmony export */ });\n/* harmony import */ var _virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../_virtual/rolldown_runtime.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/_virtual/rolldown_runtime.js\");\n/* harmony import */ var _zod_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./zod.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/types/zod.js\");\n\n\n\n//#region src/utils/types/index.ts\nvar types_exports = {};\n(0,_virtual_rolldown_runtime_js__WEBPACK_IMPORTED_MODULE_0__.__export)(types_exports, {\n\textendInteropZodObject: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.extendInteropZodObject,\n\tgetInteropZodDefaultGetter: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.getInteropZodDefaultGetter,\n\tgetInteropZodObjectShape: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.getInteropZodObjectShape,\n\tgetSchemaDescription: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.getSchemaDescription,\n\tinteropParse: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.interopParse,\n\tinteropParseAsync: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.interopParseAsync,\n\tinteropSafeParse: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.interopSafeParse,\n\tinteropSafeParseAsync: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.interopSafeParseAsync,\n\tinteropZodObjectMakeFieldsOptional: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.interopZodObjectMakeFieldsOptional,\n\tinteropZodObjectPartial: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.interopZodObjectPartial,\n\tinteropZodObjectPassthrough: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.interopZodObjectPassthrough,\n\tinteropZodObjectStrict: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.interopZodObjectStrict,\n\tinteropZodTransformInputSchema: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.interopZodTransformInputSchema,\n\tisInteropZodError: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.isInteropZodError,\n\tisInteropZodLiteral: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.isInteropZodLiteral,\n\tisInteropZodObject: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.isInteropZodObject,\n\tisInteropZodSchema: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.isInteropZodSchema,\n\tisShapelessZodSchema: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.isShapelessZodSchema,\n\tisSimpleStringZodSchema: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.isSimpleStringZodSchema,\n\tisZodArrayV4: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodArrayV4,\n\tisZodLiteralV3: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodLiteralV3,\n\tisZodLiteralV4: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodLiteralV4,\n\tisZodNullableV4: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodNullableV4,\n\tisZodObjectV3: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodObjectV3,\n\tisZodObjectV4: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodObjectV4,\n\tisZodOptionalV4: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodOptionalV4,\n\tisZodSchema: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodSchema,\n\tisZodSchemaV3: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodSchemaV3,\n\tisZodSchemaV4: () => _zod_js__WEBPACK_IMPORTED_MODULE_1__.isZodSchemaV4\n});\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3R5cGVzL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQThEO0FBQ29qQjs7QUFFbG5CO0FBQ0E7QUFDQSxzRUFBUTtBQUNSLCtCQUErQiwyREFBc0I7QUFDckQsbUNBQW1DLCtEQUEwQjtBQUM3RCxpQ0FBaUMsNkRBQXdCO0FBQ3pELDZCQUE2Qix5REFBb0I7QUFDakQscUJBQXFCLGlEQUFZO0FBQ2pDLDBCQUEwQixzREFBaUI7QUFDM0MseUJBQXlCLHFEQUFnQjtBQUN6Qyw4QkFBOEIsMERBQXFCO0FBQ25ELDJDQUEyQyx1RUFBa0M7QUFDN0UsZ0NBQWdDLDREQUF1QjtBQUN2RCxvQ0FBb0MsZ0VBQTJCO0FBQy9ELCtCQUErQiwyREFBc0I7QUFDckQsdUNBQXVDLG1FQUE4QjtBQUNyRSwwQkFBMEIsc0RBQWlCO0FBQzNDLDRCQUE0Qix3REFBbUI7QUFDL0MsMkJBQTJCLHVEQUFrQjtBQUM3QywyQkFBMkIsdURBQWtCO0FBQzdDLDZCQUE2Qix5REFBb0I7QUFDakQsZ0NBQWdDLDREQUF1QjtBQUN2RCxxQkFBcUIsaURBQVk7QUFDakMsdUJBQXVCLG1EQUFjO0FBQ3JDLHVCQUF1QixtREFBYztBQUNyQyx3QkFBd0Isb0RBQWU7QUFDdkMsc0JBQXNCLGtEQUFhO0FBQ25DLHNCQUFzQixrREFBYTtBQUNuQyx3QkFBd0Isb0RBQWU7QUFDdkMsb0JBQW9CLGdEQUFXO0FBQy9CLHNCQUFzQixrREFBYTtBQUNuQyxzQkFBc0Isa0RBQWE7QUFDbkMsQ0FBQzs7QUFFRDtBQUNpbkI7QUFDam5CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3R5cGVzL2luZGV4LmpzP2FmODciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19leHBvcnQgfSBmcm9tIFwiLi4vLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5qc1wiO1xuaW1wb3J0IHsgZXh0ZW5kSW50ZXJvcFpvZE9iamVjdCwgZ2V0SW50ZXJvcFpvZERlZmF1bHRHZXR0ZXIsIGdldEludGVyb3Bab2RPYmplY3RTaGFwZSwgZ2V0U2NoZW1hRGVzY3JpcHRpb24sIGludGVyb3BQYXJzZSwgaW50ZXJvcFBhcnNlQXN5bmMsIGludGVyb3BTYWZlUGFyc2UsIGludGVyb3BTYWZlUGFyc2VBc3luYywgaW50ZXJvcFpvZE9iamVjdE1ha2VGaWVsZHNPcHRpb25hbCwgaW50ZXJvcFpvZE9iamVjdFBhcnRpYWwsIGludGVyb3Bab2RPYmplY3RQYXNzdGhyb3VnaCwgaW50ZXJvcFpvZE9iamVjdFN0cmljdCwgaW50ZXJvcFpvZFRyYW5zZm9ybUlucHV0U2NoZW1hLCBpc0ludGVyb3Bab2RFcnJvciwgaXNJbnRlcm9wWm9kTGl0ZXJhbCwgaXNJbnRlcm9wWm9kT2JqZWN0LCBpc0ludGVyb3Bab2RTY2hlbWEsIGlzU2hhcGVsZXNzWm9kU2NoZW1hLCBpc1NpbXBsZVN0cmluZ1pvZFNjaGVtYSwgaXNab2RBcnJheVY0LCBpc1pvZExpdGVyYWxWMywgaXNab2RMaXRlcmFsVjQsIGlzWm9kTnVsbGFibGVWNCwgaXNab2RPYmplY3RWMywgaXNab2RPYmplY3RWNCwgaXNab2RPcHRpb25hbFY0LCBpc1pvZFNjaGVtYSwgaXNab2RTY2hlbWFWMywgaXNab2RTY2hlbWFWNCB9IGZyb20gXCIuL3pvZC5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL3R5cGVzL2luZGV4LnRzXG52YXIgdHlwZXNfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQodHlwZXNfZXhwb3J0cywge1xuXHRleHRlbmRJbnRlcm9wWm9kT2JqZWN0OiAoKSA9PiBleHRlbmRJbnRlcm9wWm9kT2JqZWN0LFxuXHRnZXRJbnRlcm9wWm9kRGVmYXVsdEdldHRlcjogKCkgPT4gZ2V0SW50ZXJvcFpvZERlZmF1bHRHZXR0ZXIsXG5cdGdldEludGVyb3Bab2RPYmplY3RTaGFwZTogKCkgPT4gZ2V0SW50ZXJvcFpvZE9iamVjdFNoYXBlLFxuXHRnZXRTY2hlbWFEZXNjcmlwdGlvbjogKCkgPT4gZ2V0U2NoZW1hRGVzY3JpcHRpb24sXG5cdGludGVyb3BQYXJzZTogKCkgPT4gaW50ZXJvcFBhcnNlLFxuXHRpbnRlcm9wUGFyc2VBc3luYzogKCkgPT4gaW50ZXJvcFBhcnNlQXN5bmMsXG5cdGludGVyb3BTYWZlUGFyc2U6ICgpID0+IGludGVyb3BTYWZlUGFyc2UsXG5cdGludGVyb3BTYWZlUGFyc2VBc3luYzogKCkgPT4gaW50ZXJvcFNhZmVQYXJzZUFzeW5jLFxuXHRpbnRlcm9wWm9kT2JqZWN0TWFrZUZpZWxkc09wdGlvbmFsOiAoKSA9PiBpbnRlcm9wWm9kT2JqZWN0TWFrZUZpZWxkc09wdGlvbmFsLFxuXHRpbnRlcm9wWm9kT2JqZWN0UGFydGlhbDogKCkgPT4gaW50ZXJvcFpvZE9iamVjdFBhcnRpYWwsXG5cdGludGVyb3Bab2RPYmplY3RQYXNzdGhyb3VnaDogKCkgPT4gaW50ZXJvcFpvZE9iamVjdFBhc3N0aHJvdWdoLFxuXHRpbnRlcm9wWm9kT2JqZWN0U3RyaWN0OiAoKSA9PiBpbnRlcm9wWm9kT2JqZWN0U3RyaWN0LFxuXHRpbnRlcm9wWm9kVHJhbnNmb3JtSW5wdXRTY2hlbWE6ICgpID0+IGludGVyb3Bab2RUcmFuc2Zvcm1JbnB1dFNjaGVtYSxcblx0aXNJbnRlcm9wWm9kRXJyb3I6ICgpID0+IGlzSW50ZXJvcFpvZEVycm9yLFxuXHRpc0ludGVyb3Bab2RMaXRlcmFsOiAoKSA9PiBpc0ludGVyb3Bab2RMaXRlcmFsLFxuXHRpc0ludGVyb3Bab2RPYmplY3Q6ICgpID0+IGlzSW50ZXJvcFpvZE9iamVjdCxcblx0aXNJbnRlcm9wWm9kU2NoZW1hOiAoKSA9PiBpc0ludGVyb3Bab2RTY2hlbWEsXG5cdGlzU2hhcGVsZXNzWm9kU2NoZW1hOiAoKSA9PiBpc1NoYXBlbGVzc1pvZFNjaGVtYSxcblx0aXNTaW1wbGVTdHJpbmdab2RTY2hlbWE6ICgpID0+IGlzU2ltcGxlU3RyaW5nWm9kU2NoZW1hLFxuXHRpc1pvZEFycmF5VjQ6ICgpID0+IGlzWm9kQXJyYXlWNCxcblx0aXNab2RMaXRlcmFsVjM6ICgpID0+IGlzWm9kTGl0ZXJhbFYzLFxuXHRpc1pvZExpdGVyYWxWNDogKCkgPT4gaXNab2RMaXRlcmFsVjQsXG5cdGlzWm9kTnVsbGFibGVWNDogKCkgPT4gaXNab2ROdWxsYWJsZVY0LFxuXHRpc1pvZE9iamVjdFYzOiAoKSA9PiBpc1pvZE9iamVjdFYzLFxuXHRpc1pvZE9iamVjdFY0OiAoKSA9PiBpc1pvZE9iamVjdFY0LFxuXHRpc1pvZE9wdGlvbmFsVjQ6ICgpID0+IGlzWm9kT3B0aW9uYWxWNCxcblx0aXNab2RTY2hlbWE6ICgpID0+IGlzWm9kU2NoZW1hLFxuXHRpc1pvZFNjaGVtYVYzOiAoKSA9PiBpc1pvZFNjaGVtYVYzLFxuXHRpc1pvZFNjaGVtYVY0OiAoKSA9PiBpc1pvZFNjaGVtYVY0XG59KTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBleHRlbmRJbnRlcm9wWm9kT2JqZWN0LCBnZXRJbnRlcm9wWm9kRGVmYXVsdEdldHRlciwgZ2V0SW50ZXJvcFpvZE9iamVjdFNoYXBlLCBnZXRTY2hlbWFEZXNjcmlwdGlvbiwgaW50ZXJvcFBhcnNlLCBpbnRlcm9wUGFyc2VBc3luYywgaW50ZXJvcFNhZmVQYXJzZSwgaW50ZXJvcFNhZmVQYXJzZUFzeW5jLCBpbnRlcm9wWm9kT2JqZWN0TWFrZUZpZWxkc09wdGlvbmFsLCBpbnRlcm9wWm9kT2JqZWN0UGFydGlhbCwgaW50ZXJvcFpvZE9iamVjdFBhc3N0aHJvdWdoLCBpbnRlcm9wWm9kT2JqZWN0U3RyaWN0LCBpbnRlcm9wWm9kVHJhbnNmb3JtSW5wdXRTY2hlbWEsIGlzSW50ZXJvcFpvZEVycm9yLCBpc0ludGVyb3Bab2RMaXRlcmFsLCBpc0ludGVyb3Bab2RPYmplY3QsIGlzSW50ZXJvcFpvZFNjaGVtYSwgaXNTaGFwZWxlc3Nab2RTY2hlbWEsIGlzU2ltcGxlU3RyaW5nWm9kU2NoZW1hLCBpc1pvZEFycmF5VjQsIGlzWm9kTGl0ZXJhbFYzLCBpc1pvZExpdGVyYWxWNCwgaXNab2ROdWxsYWJsZVY0LCBpc1pvZE9iamVjdFYzLCBpc1pvZE9iamVjdFY0LCBpc1pvZE9wdGlvbmFsVjQsIGlzWm9kU2NoZW1hLCBpc1pvZFNjaGVtYVYzLCBpc1pvZFNjaGVtYVY0LCB0eXBlc19leHBvcnRzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/types/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/types/zod.js":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/types/zod.js ***!
  \*********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   extendInteropZodObject: () => (/* binding */ extendInteropZodObject),\n/* harmony export */   getInteropZodDefaultGetter: () => (/* binding */ getInteropZodDefaultGetter),\n/* harmony export */   getInteropZodObjectShape: () => (/* binding */ getInteropZodObjectShape),\n/* harmony export */   getSchemaDescription: () => (/* binding */ getSchemaDescription),\n/* harmony export */   interopParse: () => (/* binding */ interopParse),\n/* harmony export */   interopParseAsync: () => (/* binding */ interopParseAsync),\n/* harmony export */   interopSafeParse: () => (/* binding */ interopSafeParse),\n/* harmony export */   interopSafeParseAsync: () => (/* binding */ interopSafeParseAsync),\n/* harmony export */   interopZodObjectMakeFieldsOptional: () => (/* binding */ interopZodObjectMakeFieldsOptional),\n/* harmony export */   interopZodObjectPartial: () => (/* binding */ interopZodObjectPartial),\n/* harmony export */   interopZodObjectPassthrough: () => (/* binding */ interopZodObjectPassthrough),\n/* harmony export */   interopZodObjectStrict: () => (/* binding */ interopZodObjectStrict),\n/* harmony export */   interopZodTransformInputSchema: () => (/* binding */ interopZodTransformInputSchema),\n/* harmony export */   isInteropZodError: () => (/* binding */ isInteropZodError),\n/* harmony export */   isInteropZodLiteral: () => (/* binding */ isInteropZodLiteral),\n/* harmony export */   isInteropZodObject: () => (/* binding */ isInteropZodObject),\n/* harmony export */   isInteropZodSchema: () => (/* binding */ isInteropZodSchema),\n/* harmony export */   isShapelessZodSchema: () => (/* binding */ isShapelessZodSchema),\n/* harmony export */   isSimpleStringZodSchema: () => (/* binding */ isSimpleStringZodSchema),\n/* harmony export */   isZodArrayV4: () => (/* binding */ isZodArrayV4),\n/* harmony export */   isZodLiteralV3: () => (/* binding */ isZodLiteralV3),\n/* harmony export */   isZodLiteralV4: () => (/* binding */ isZodLiteralV4),\n/* harmony export */   isZodNullableV4: () => (/* binding */ isZodNullableV4),\n/* harmony export */   isZodObjectV3: () => (/* binding */ isZodObjectV3),\n/* harmony export */   isZodObjectV4: () => (/* binding */ isZodObjectV4),\n/* harmony export */   isZodOptionalV4: () => (/* binding */ isZodOptionalV4),\n/* harmony export */   isZodSchema: () => (/* binding */ isZodSchema),\n/* harmony export */   isZodSchemaV3: () => (/* binding */ isZodSchemaV3),\n/* harmony export */   isZodSchemaV4: () => (/* binding */ isZodSchemaV4)\n/* harmony export */ });\n/* harmony import */ var zod_v4_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod/v4/core */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+zod@4.3.6/node_modules/zod/v4/core/index.js\");\n\n\n//#region src/utils/types/zod.ts\nfunction isZodSchemaV4(schema) {\n\tif (typeof schema !== \"object\" || schema === null) return false;\n\tconst obj = schema;\n\tif (!(\"_zod\" in obj)) return false;\n\tconst zod = obj._zod;\n\treturn typeof zod === \"object\" && zod !== null && \"def\" in zod;\n}\nfunction isZodSchemaV3(schema) {\n\tif (typeof schema !== \"object\" || schema === null) return false;\n\tconst obj = schema;\n\tif (!(\"_def\" in obj) || \"_zod\" in obj) return false;\n\tconst def = obj._def;\n\treturn typeof def === \"object\" && def != null && \"typeName\" in def;\n}\n/** Backward compatible isZodSchema for Zod 3 */\nfunction isZodSchema(schema) {\n\tif (isZodSchemaV4(schema)) console.warn(\"[WARNING] Attempting to use Zod 4 schema in a context where Zod 3 schema is expected. This may cause unexpected behavior.\");\n\treturn isZodSchemaV3(schema);\n}\n/**\n* Given either a Zod schema, or plain object, determine if the input is a Zod schema.\n*\n* @param {unknown} input\n* @returns {boolean} Whether or not the provided input is a Zod schema.\n*/\nfunction isInteropZodSchema(input) {\n\tif (!input) return false;\n\tif (typeof input !== \"object\") return false;\n\tif (Array.isArray(input)) return false;\n\tif (isZodSchemaV4(input) || isZodSchemaV3(input)) return true;\n\treturn false;\n}\nfunction isZodLiteralV3(obj) {\n\tif (typeof obj === \"object\" && obj !== null && \"_def\" in obj && typeof obj._def === \"object\" && obj._def !== null && \"typeName\" in obj._def && obj._def.typeName === \"ZodLiteral\") return true;\n\treturn false;\n}\nfunction isZodLiteralV4(obj) {\n\tif (!isZodSchemaV4(obj)) return false;\n\tif (typeof obj === \"object\" && obj !== null && \"_zod\" in obj && typeof obj._zod === \"object\" && obj._zod !== null && \"def\" in obj._zod && typeof obj._zod.def === \"object\" && obj._zod.def !== null && \"type\" in obj._zod.def && obj._zod.def.type === \"literal\") return true;\n\treturn false;\n}\n/**\n* Determines if the provided value is an InteropZodLiteral (Zod v3 or v4 literal schema).\n*\n* @param obj The value to check.\n* @returns {boolean} True if the value is a Zod v3 or v4 literal schema, false otherwise.\n*/\nfunction isInteropZodLiteral(obj) {\n\tif (isZodLiteralV3(obj)) return true;\n\tif (isZodLiteralV4(obj)) return true;\n\treturn false;\n}\n/**\n* Asynchronously parses the input using the provided Zod schema (v3 or v4) and returns a safe parse result.\n* This function handles both Zod v3 and v4 schemas, returning a result object indicating success or failure.\n*\n* @template T - The expected output type of the schema.\n* @param {InteropZodType<T>} schema - The Zod schema (v3 or v4) to use for parsing.\n* @param {unknown} input - The input value to parse.\n* @returns {Promise<InteropZodSafeParseResult<T>>} A promise that resolves to a safe parse result object.\n* @throws {Error} If the schema is not a recognized Zod v3 or v4 schema.\n*/\nasync function interopSafeParseAsync(schema, input) {\n\tif (isZodSchemaV4(schema)) try {\n\t\tconst data = await (0,zod_v4_core__WEBPACK_IMPORTED_MODULE_0__.parseAsync)(schema, input);\n\t\treturn {\n\t\t\tsuccess: true,\n\t\t\tdata\n\t\t};\n\t} catch (error) {\n\t\treturn {\n\t\t\tsuccess: false,\n\t\t\terror\n\t\t};\n\t}\n\tif (isZodSchemaV3(schema)) return await schema.safeParseAsync(input);\n\tthrow new Error(\"Schema must be an instance of z3.ZodType or z4.$ZodType\");\n}\n/**\n* Asynchronously parses the input using the provided Zod schema (v3 or v4) and returns the parsed value.\n* Throws an error if parsing fails or if the schema is not a recognized Zod v3 or v4 schema.\n*\n* @template T - The expected output type of the schema.\n* @param {InteropZodType<T>} schema - The Zod schema (v3 or v4) to use for parsing.\n* @param {unknown} input - The input value to parse.\n* @returns {Promise<T>} A promise that resolves to the parsed value.\n* @throws {Error} If parsing fails or the schema is not a recognized Zod v3 or v4 schema.\n*/\nasync function interopParseAsync(schema, input) {\n\tif (isZodSchemaV4(schema)) return await (0,zod_v4_core__WEBPACK_IMPORTED_MODULE_0__.parseAsync)(schema, input);\n\tif (isZodSchemaV3(schema)) return await schema.parseAsync(input);\n\tthrow new Error(\"Schema must be an instance of z3.ZodType or z4.$ZodType\");\n}\n/**\n* Safely parses the input using the provided Zod schema (v3 or v4) and returns a result object\n* indicating success or failure. This function is compatible with both Zod v3 and v4 schemas.\n*\n* @template T - The expected output type of the schema.\n* @param {InteropZodType<T>} schema - The Zod schema (v3 or v4) to use for parsing.\n* @param {unknown} input - The input value to parse.\n* @returns {InteropZodSafeParseResult<T>} An object with either the parsed data (on success)\n*   or the error (on failure).\n* @throws {Error} If the schema is not a recognized Zod v3 or v4 schema.\n*/\nfunction interopSafeParse(schema, input) {\n\tif (isZodSchemaV4(schema)) try {\n\t\tconst data = (0,zod_v4_core__WEBPACK_IMPORTED_MODULE_0__.parse)(schema, input);\n\t\treturn {\n\t\t\tsuccess: true,\n\t\t\tdata\n\t\t};\n\t} catch (error) {\n\t\treturn {\n\t\t\tsuccess: false,\n\t\t\terror\n\t\t};\n\t}\n\tif (isZodSchemaV3(schema)) return schema.safeParse(input);\n\tthrow new Error(\"Schema must be an instance of z3.ZodType or z4.$ZodType\");\n}\n/**\n* Parses the input using the provided Zod schema (v3 or v4) and returns the parsed value.\n* Throws an error if parsing fails or if the schema is not a recognized Zod v3 or v4 schema.\n*\n* @template T - The expected output type of the schema.\n* @param {InteropZodType<T>} schema - The Zod schema (v3 or v4) to use for parsing.\n* @param {unknown} input - The input value to parse.\n* @returns {T} The parsed value.\n* @throws {Error} If parsing fails or the schema is not a recognized Zod v3 or v4 schema.\n*/\nfunction interopParse(schema, input) {\n\tif (isZodSchemaV4(schema)) return (0,zod_v4_core__WEBPACK_IMPORTED_MODULE_0__.parse)(schema, input);\n\tif (isZodSchemaV3(schema)) return schema.parse(input);\n\tthrow new Error(\"Schema must be an instance of z3.ZodType or z4.$ZodType\");\n}\n/**\n* Retrieves the description from a schema definition (v3, v4, or plain object), if available.\n*\n* @param {unknown} schema - The schema to extract the description from.\n* @returns {string | undefined} The description of the schema, or undefined if not present.\n*/\nfunction getSchemaDescription(schema) {\n\tif (isZodSchemaV4(schema)) return zod_v4_core__WEBPACK_IMPORTED_MODULE_0__.globalRegistry.get(schema)?.description;\n\tif (isZodSchemaV3(schema)) return schema.description;\n\tif (\"description\" in schema && typeof schema.description === \"string\") return schema.description;\n\treturn void 0;\n}\n/**\n* Determines if the provided Zod schema is \"shapeless\".\n* A shapeless schema is one that does not define any object shape,\n* such as ZodString, ZodNumber, ZodBoolean, ZodAny, etc.\n* For ZodObject, it must have no shape keys to be considered shapeless.\n* ZodRecord schemas are considered shapeless since they define dynamic\n* key-value mappings without fixed keys.\n*\n* @param schema The Zod schema to check.\n* @returns {boolean} True if the schema is shapeless, false otherwise.\n*/\nfunction isShapelessZodSchema(schema) {\n\tif (!isInteropZodSchema(schema)) return false;\n\tif (isZodSchemaV3(schema)) {\n\t\tconst def = schema._def;\n\t\tif (def.typeName === \"ZodObject\") {\n\t\t\tconst obj = schema;\n\t\t\treturn !obj.shape || Object.keys(obj.shape).length === 0;\n\t\t}\n\t\tif (def.typeName === \"ZodRecord\") return true;\n\t}\n\tif (isZodSchemaV4(schema)) {\n\t\tconst def = schema._zod.def;\n\t\tif (def.type === \"object\") {\n\t\t\tconst obj = schema;\n\t\t\treturn !obj.shape || Object.keys(obj.shape).length === 0;\n\t\t}\n\t\tif (def.type === \"record\") return true;\n\t}\n\tif (typeof schema === \"object\" && schema !== null && !(\"shape\" in schema)) return true;\n\treturn false;\n}\n/**\n* Determines if the provided Zod schema should be treated as a simple string schema\n* that maps to DynamicTool. This aligns with the type-level constraint of\n* InteropZodType<string | undefined> which only matches basic string schemas.\n* If the provided schema is just z.string(), we can make the determination that\n* the tool is just a generic string tool that doesn't require any input validation.\n*\n* This function only returns true for basic ZodString schemas, including:\n* - Basic string schemas (z.string())\n* - String schemas with validations (z.string().min(1), z.string().email(), etc.)\n*\n* This function returns false for everything else, including:\n* - String schemas with defaults (z.string().default(\"value\"))\n* - Branded string schemas (z.string().brand<\"UserId\">())\n* - String schemas with catch operations (z.string().catch(\"default\"))\n* - Optional/nullable string schemas (z.string().optional())\n* - Transformed schemas (z.string().transform() or z.object().transform())\n* - Object or record schemas, even if they're empty\n* - Any other schema type\n*\n* @param schema The Zod schema to check.\n* @returns {boolean} True if the schema is a basic ZodString, false otherwise.\n*/\nfunction isSimpleStringZodSchema(schema) {\n\tif (!isInteropZodSchema(schema)) return false;\n\tif (isZodSchemaV3(schema)) {\n\t\tconst def = schema._def;\n\t\treturn def.typeName === \"ZodString\";\n\t}\n\tif (isZodSchemaV4(schema)) {\n\t\tconst def = schema._zod.def;\n\t\treturn def.type === \"string\";\n\t}\n\treturn false;\n}\nfunction isZodObjectV3(obj) {\n\tif (typeof obj === \"object\" && obj !== null && \"_def\" in obj && typeof obj._def === \"object\" && obj._def !== null && \"typeName\" in obj._def && obj._def.typeName === \"ZodObject\") return true;\n\treturn false;\n}\nfunction isZodObjectV4(obj) {\n\tif (!isZodSchemaV4(obj)) return false;\n\tif (typeof obj === \"object\" && obj !== null && \"_zod\" in obj && typeof obj._zod === \"object\" && obj._zod !== null && \"def\" in obj._zod && typeof obj._zod.def === \"object\" && obj._zod.def !== null && \"type\" in obj._zod.def && obj._zod.def.type === \"object\") return true;\n\treturn false;\n}\nfunction isZodArrayV4(obj) {\n\tif (!isZodSchemaV4(obj)) return false;\n\tif (typeof obj === \"object\" && obj !== null && \"_zod\" in obj && typeof obj._zod === \"object\" && obj._zod !== null && \"def\" in obj._zod && typeof obj._zod.def === \"object\" && obj._zod.def !== null && \"type\" in obj._zod.def && obj._zod.def.type === \"array\") return true;\n\treturn false;\n}\nfunction isZodOptionalV4(obj) {\n\tif (!isZodSchemaV4(obj)) return false;\n\tif (typeof obj === \"object\" && obj !== null && \"_zod\" in obj && typeof obj._zod === \"object\" && obj._zod !== null && \"def\" in obj._zod && typeof obj._zod.def === \"object\" && obj._zod.def !== null && \"type\" in obj._zod.def && obj._zod.def.type === \"optional\") return true;\n\treturn false;\n}\nfunction isZodNullableV4(obj) {\n\tif (!isZodSchemaV4(obj)) return false;\n\tif (typeof obj === \"object\" && obj !== null && \"_zod\" in obj && typeof obj._zod === \"object\" && obj._zod !== null && \"def\" in obj._zod && typeof obj._zod.def === \"object\" && obj._zod.def !== null && \"type\" in obj._zod.def && obj._zod.def.type === \"nullable\") return true;\n\treturn false;\n}\n/**\n* Determines if the provided value is an InteropZodObject (Zod v3 or v4 object schema).\n*\n* @param obj The value to check.\n* @returns {boolean} True if the value is a Zod v3 or v4 object schema, false otherwise.\n*/\nfunction isInteropZodObject(obj) {\n\tif (isZodObjectV3(obj)) return true;\n\tif (isZodObjectV4(obj)) return true;\n\treturn false;\n}\n/**\n* Retrieves the shape (fields) of a Zod object schema, supporting both Zod v3 and v4.\n*\n* @template T - The type of the Zod object schema.\n* @param {T} schema - The Zod object schema instance (either v3 or v4).\n* @returns {InteropZodObjectShape<T>} The shape of the object schema.\n* @throws {Error} If the schema is not a Zod v3 or v4 object.\n*/\nfunction getInteropZodObjectShape(schema) {\n\tif (isZodSchemaV3(schema)) return schema.shape;\n\tif (isZodSchemaV4(schema)) return schema._zod.def.shape;\n\tthrow new Error(\"Schema must be an instance of z3.ZodObject or z4.$ZodObject\");\n}\n/**\n* Extends a Zod object schema with additional fields, supporting both Zod v3 and v4.\n*\n* @template T - The type of the Zod object schema.\n* @param {T} schema - The Zod object schema instance (either v3 or v4).\n* @param {InteropZodObjectShape} extension - The fields to add to the schema.\n* @returns {InteropZodObject} The extended Zod object schema.\n* @throws {Error} If the schema is not a Zod v3 or v4 object.\n*/\nfunction extendInteropZodObject(schema, extension) {\n\tif (isZodSchemaV3(schema)) return schema.extend(extension);\n\tif (isZodSchemaV4(schema)) return zod_v4_core__WEBPACK_IMPORTED_MODULE_0__.util.extend(schema, extension);\n\tthrow new Error(\"Schema must be an instance of z3.ZodObject or z4.$ZodObject\");\n}\n/**\n* Returns a partial version of a Zod object schema, making all fields optional.\n* Supports both Zod v3 and v4.\n*\n* @template T - The type of the Zod object schema.\n* @param {T} schema - The Zod object schema instance (either v3 or v4).\n* @returns {InteropZodObject} The partial Zod object schema.\n* @throws {Error} If the schema is not a Zod v3 or v4 object.\n*/\nfunction interopZodObjectPartial(schema) {\n\tif (isZodSchemaV3(schema)) return schema.partial();\n\tif (isZodSchemaV4(schema)) return zod_v4_core__WEBPACK_IMPORTED_MODULE_0__.util.partial(zod_v4_core__WEBPACK_IMPORTED_MODULE_0__.$ZodOptional, schema, void 0);\n\tthrow new Error(\"Schema must be an instance of z3.ZodObject or z4.$ZodObject\");\n}\n/**\n* Returns a strict version of a Zod object schema, disallowing unknown keys.\n* Supports both Zod v3 and v4 object schemas. If `recursive` is true, applies strictness\n* recursively to all nested object schemas and arrays of object schemas.\n*\n* @template T - The type of the Zod object schema.\n* @param {T} schema - The Zod object schema instance (either v3 or v4).\n* @param {boolean} [recursive=false] - Whether to apply strictness recursively to nested objects/arrays.\n* @returns {InteropZodObject} The strict Zod object schema.\n* @throws {Error} If the schema is not a Zod v3 or v4 object.\n*/\nfunction interopZodObjectStrict(schema, recursive = false) {\n\tif (isZodSchemaV3(schema)) return schema.strict();\n\tif (isZodObjectV4(schema)) {\n\t\tconst outputShape = schema._zod.def.shape;\n\t\tif (recursive) for (const [key, keySchema] of Object.entries(schema._zod.def.shape)) {\n\t\t\tif (isZodObjectV4(keySchema)) {\n\t\t\t\tconst outputSchema = interopZodObjectStrict(keySchema, recursive);\n\t\t\t\toutputShape[key] = outputSchema;\n\t\t\t} else if (isZodArrayV4(keySchema)) {\n\t\t\t\tlet elementSchema = keySchema._zod.def.element;\n\t\t\t\tif (isZodObjectV4(elementSchema)) elementSchema = interopZodObjectStrict(elementSchema, recursive);\n\t\t\t\toutputShape[key] = (0,zod_v4_core__WEBPACK_IMPORTED_MODULE_0__.clone)(keySchema, {\n\t\t\t\t\t...keySchema._zod.def,\n\t\t\t\t\telement: elementSchema\n\t\t\t\t});\n\t\t\t} else outputShape[key] = keySchema;\n\t\t\tconst meta$1 = zod_v4_core__WEBPACK_IMPORTED_MODULE_0__.globalRegistry.get(keySchema);\n\t\t\tif (meta$1) zod_v4_core__WEBPACK_IMPORTED_MODULE_0__.globalRegistry.add(outputShape[key], meta$1);\n\t\t}\n\t\tconst modifiedSchema = (0,zod_v4_core__WEBPACK_IMPORTED_MODULE_0__.clone)(schema, {\n\t\t\t...schema._zod.def,\n\t\t\tshape: outputShape,\n\t\t\tcatchall: (0,zod_v4_core__WEBPACK_IMPORTED_MODULE_0__._never)(zod_v4_core__WEBPACK_IMPORTED_MODULE_0__.$ZodNever)\n\t\t});\n\t\tconst meta = zod_v4_core__WEBPACK_IMPORTED_MODULE_0__.globalRegistry.get(schema);\n\t\tif (meta) zod_v4_core__WEBPACK_IMPORTED_MODULE_0__.globalRegistry.add(modifiedSchema, meta);\n\t\treturn modifiedSchema;\n\t}\n\tthrow new Error(\"Schema must be an instance of z3.ZodObject or z4.$ZodObject\");\n}\n/**\n* Returns a passthrough version of a Zod object schema, allowing unknown keys.\n* Supports both Zod v3 and v4 object schemas. If `recursive` is true, applies passthrough\n* recursively to all nested object schemas and arrays of object schemas.\n*\n* @template T - The type of the Zod object schema.\n* @param {T} schema - The Zod object schema instance (either v3 or v4).\n* @param {boolean} [recursive=false] - Whether to apply passthrough recursively to nested objects/arrays.\n* @returns {InteropZodObject} The passthrough Zod object schema.\n* @throws {Error} If the schema is not a Zod v3 or v4 object.\n*/\nfunction interopZodObjectPassthrough(schema, recursive = false) {\n\tif (isZodObjectV3(schema)) return schema.passthrough();\n\tif (isZodObjectV4(schema)) {\n\t\tconst outputShape = schema._zod.def.shape;\n\t\tif (recursive) for (const [key, keySchema] of Object.entries(schema._zod.def.shape)) {\n\t\t\tif (isZodObjectV4(keySchema)) {\n\t\t\t\tconst outputSchema = interopZodObjectPassthrough(keySchema, recursive);\n\t\t\t\toutputShape[key] = outputSchema;\n\t\t\t} else if (isZodArrayV4(keySchema)) {\n\t\t\t\tlet elementSchema = keySchema._zod.def.element;\n\t\t\t\tif (isZodObjectV4(elementSchema)) elementSchema = interopZodObjectPassthrough(elementSchema, recursive);\n\t\t\t\toutputShape[key] = (0,zod_v4_core__WEBPACK_IMPORTED_MODULE_0__.clone)(keySchema, {\n\t\t\t\t\t...keySchema._zod.def,\n\t\t\t\t\telement: elementSchema\n\t\t\t\t});\n\t\t\t} else outputShape[key] = keySchema;\n\t\t\tconst meta$1 = zod_v4_core__WEBPACK_IMPORTED_MODULE_0__.globalRegistry.get(keySchema);\n\t\t\tif (meta$1) zod_v4_core__WEBPACK_IMPORTED_MODULE_0__.globalRegistry.add(outputShape[key], meta$1);\n\t\t}\n\t\tconst modifiedSchema = (0,zod_v4_core__WEBPACK_IMPORTED_MODULE_0__.clone)(schema, {\n\t\t\t...schema._zod.def,\n\t\t\tshape: outputShape,\n\t\t\tcatchall: (0,zod_v4_core__WEBPACK_IMPORTED_MODULE_0__._unknown)(zod_v4_core__WEBPACK_IMPORTED_MODULE_0__.$ZodUnknown)\n\t\t});\n\t\tconst meta = zod_v4_core__WEBPACK_IMPORTED_MODULE_0__.globalRegistry.get(schema);\n\t\tif (meta) zod_v4_core__WEBPACK_IMPORTED_MODULE_0__.globalRegistry.add(modifiedSchema, meta);\n\t\treturn modifiedSchema;\n\t}\n\tthrow new Error(\"Schema must be an instance of z3.ZodObject or z4.$ZodObject\");\n}\n/**\n* Returns a getter function for the default value of a Zod schema, if one is defined.\n* Supports both Zod v3 and v4 schemas. If the schema has a default value,\n* the returned function will return that value when called. If no default is defined,\n* returns undefined.\n*\n* @template T - The type of the Zod schema.\n* @param {T} schema - The Zod schema instance (either v3 or v4).\n* @returns {(() => InferInteropZodOutput<T>) | undefined} A function that returns the default value, or undefined if no default is set.\n*/\nfunction getInteropZodDefaultGetter(schema) {\n\tif (isZodSchemaV3(schema)) try {\n\t\tconst defaultValue = schema.parse(void 0);\n\t\treturn () => defaultValue;\n\t} catch {\n\t\treturn void 0;\n\t}\n\tif (isZodSchemaV4(schema)) try {\n\t\tconst defaultValue = (0,zod_v4_core__WEBPACK_IMPORTED_MODULE_0__.parse)(schema, void 0);\n\t\treturn () => defaultValue;\n\t} catch {\n\t\treturn void 0;\n\t}\n\treturn void 0;\n}\nfunction isZodTransformV3(schema) {\n\treturn isZodSchemaV3(schema) && \"typeName\" in schema._def && schema._def.typeName === \"ZodEffects\";\n}\nfunction isZodTransformV4(schema) {\n\treturn isZodSchemaV4(schema) && schema._zod.def.type === \"pipe\";\n}\nfunction interopZodTransformInputSchemaImpl(schema, recursive, cache) {\n\tconst cached = cache.get(schema);\n\tif (cached !== void 0) return cached;\n\tif (isZodSchemaV3(schema)) {\n\t\tif (isZodTransformV3(schema)) return interopZodTransformInputSchemaImpl(schema._def.schema, recursive, cache);\n\t\treturn schema;\n\t}\n\tif (isZodSchemaV4(schema)) {\n\t\tlet outputSchema = schema;\n\t\tif (isZodTransformV4(schema)) outputSchema = interopZodTransformInputSchemaImpl(schema._zod.def.in, recursive, cache);\n\t\tif (recursive) {\n\t\t\tif (isZodObjectV4(outputSchema)) {\n\t\t\t\tconst outputShape = {};\n\t\t\t\tfor (const [key, keySchema] of Object.entries(outputSchema._zod.def.shape)) outputShape[key] = interopZodTransformInputSchemaImpl(keySchema, recursive, cache);\n\t\t\t\toutputSchema = (0,zod_v4_core__WEBPACK_IMPORTED_MODULE_0__.clone)(outputSchema, {\n\t\t\t\t\t...outputSchema._zod.def,\n\t\t\t\t\tshape: outputShape\n\t\t\t\t});\n\t\t\t} else if (isZodArrayV4(outputSchema)) {\n\t\t\t\tconst elementSchema = interopZodTransformInputSchemaImpl(outputSchema._zod.def.element, recursive, cache);\n\t\t\t\toutputSchema = (0,zod_v4_core__WEBPACK_IMPORTED_MODULE_0__.clone)(outputSchema, {\n\t\t\t\t\t...outputSchema._zod.def,\n\t\t\t\t\telement: elementSchema\n\t\t\t\t});\n\t\t\t} else if (isZodOptionalV4(outputSchema)) {\n\t\t\t\tconst innerSchema = interopZodTransformInputSchemaImpl(outputSchema._zod.def.innerType, recursive, cache);\n\t\t\t\toutputSchema = (0,zod_v4_core__WEBPACK_IMPORTED_MODULE_0__.clone)(outputSchema, {\n\t\t\t\t\t...outputSchema._zod.def,\n\t\t\t\t\tinnerType: innerSchema\n\t\t\t\t});\n\t\t\t} else if (isZodNullableV4(outputSchema)) {\n\t\t\t\tconst innerSchema = interopZodTransformInputSchemaImpl(outputSchema._zod.def.innerType, recursive, cache);\n\t\t\t\toutputSchema = (0,zod_v4_core__WEBPACK_IMPORTED_MODULE_0__.clone)(outputSchema, {\n\t\t\t\t\t...outputSchema._zod.def,\n\t\t\t\t\tinnerType: innerSchema\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tconst meta = zod_v4_core__WEBPACK_IMPORTED_MODULE_0__.globalRegistry.get(schema);\n\t\tif (meta) zod_v4_core__WEBPACK_IMPORTED_MODULE_0__.globalRegistry.add(outputSchema, meta);\n\t\tcache.set(schema, outputSchema);\n\t\treturn outputSchema;\n\t}\n\tthrow new Error(\"Schema must be an instance of z3.ZodType or z4.$ZodType\");\n}\n/**\n* Returns the input type of a Zod transform schema, for both v3 and v4.\n* If the schema is not a transform, returns undefined. If `recursive` is true,\n* recursively processes nested object schemas and arrays of object schemas.\n*\n* @param schema - The Zod schema instance (v3 or v4)\n* @param {boolean} [recursive=false] - Whether to recursively process nested objects/arrays.\n* @returns The input Zod schema of the transform, or undefined if not a transform\n*/\nfunction interopZodTransformInputSchema(schema, recursive = false) {\n\tconst cache = /* @__PURE__ */ new WeakMap();\n\treturn interopZodTransformInputSchemaImpl(schema, recursive, cache);\n}\n/**\n* Creates a modified version of a Zod object schema where fields matching a predicate are made optional.\n* Supports both Zod v3 and v4 schemas and preserves the original schema version.\n*\n* @template T - The type of the Zod object schema.\n* @param {T} schema - The Zod object schema instance (either v3 or v4).\n* @param {(key: string, value: InteropZodType) => boolean} predicate - Function to determine which fields should be optional.\n* @returns {InteropZodObject} The modified Zod object schema.\n* @throws {Error} If the schema is not a Zod v3 or v4 object.\n*/\nfunction interopZodObjectMakeFieldsOptional(schema, predicate) {\n\tif (isZodSchemaV3(schema)) {\n\t\tconst shape = getInteropZodObjectShape(schema);\n\t\tconst modifiedShape = {};\n\t\tfor (const [key, value] of Object.entries(shape)) if (predicate(key, value)) modifiedShape[key] = value.optional();\n\t\telse modifiedShape[key] = value;\n\t\treturn schema.extend(modifiedShape);\n\t}\n\tif (isZodSchemaV4(schema)) {\n\t\tconst shape = getInteropZodObjectShape(schema);\n\t\tconst outputShape = { ...schema._zod.def.shape };\n\t\tfor (const [key, value] of Object.entries(shape)) if (predicate(key, value)) outputShape[key] = new zod_v4_core__WEBPACK_IMPORTED_MODULE_0__.$ZodOptional({\n\t\t\ttype: \"optional\",\n\t\t\tinnerType: value\n\t\t});\n\t\tconst modifiedSchema = (0,zod_v4_core__WEBPACK_IMPORTED_MODULE_0__.clone)(schema, {\n\t\t\t...schema._zod.def,\n\t\t\tshape: outputShape\n\t\t});\n\t\tconst meta = zod_v4_core__WEBPACK_IMPORTED_MODULE_0__.globalRegistry.get(schema);\n\t\tif (meta) zod_v4_core__WEBPACK_IMPORTED_MODULE_0__.globalRegistry.add(modifiedSchema, meta);\n\t\treturn modifiedSchema;\n\t}\n\tthrow new Error(\"Schema must be an instance of z3.ZodObject or z4.$ZodObject\");\n}\nfunction isInteropZodError(e) {\n\treturn e instanceof Error && (e.constructor.name === \"ZodError\" || e.constructor.name === \"$ZodError\");\n}\n\n//#endregion\n\n//# sourceMappingURL=zod.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3R5cGVzL3pvZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBcUk7O0FBRXJJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLFNBQVM7QUFDbkIsWUFBWSxTQUFTO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksU0FBUztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxtQkFBbUI7QUFDN0IsVUFBVSxTQUFTO0FBQ25CLFlBQVksdUNBQXVDO0FBQ25ELFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsdURBQVU7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLG1CQUFtQjtBQUM3QixVQUFVLFNBQVM7QUFDbkIsWUFBWSxZQUFZO0FBQ3hCLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0EseUNBQXlDLHVEQUFVO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLG1CQUFtQjtBQUM3QixVQUFVLFNBQVM7QUFDbkIsWUFBWSw4QkFBOEI7QUFDMUM7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0EsZUFBZSxrREFBSztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsbUJBQW1CO0FBQzdCLFVBQVUsU0FBUztBQUNuQixZQUFZLEdBQUc7QUFDZixXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBLG1DQUFtQyxrREFBSztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLFNBQVM7QUFDbkIsWUFBWSxvQkFBb0I7QUFDaEM7QUFDQTtBQUNBLG1DQUFtQyx1REFBYztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksU0FBUztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksU0FBUztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxTQUFTO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxHQUFHO0FBQ2IsWUFBWSwwQkFBMEI7QUFDdEMsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxHQUFHO0FBQ2IsVUFBVSx1QkFBdUI7QUFDakMsWUFBWSxrQkFBa0I7QUFDOUIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxvREFBVztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsR0FBRztBQUNiLFlBQVksa0JBQWtCO0FBQzlCLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMscURBQVksQ0FBQyxxREFBWTtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxHQUFHO0FBQ2IsVUFBVSxTQUFTO0FBQ25CLFlBQVksa0JBQWtCO0FBQzlCLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLHVCQUF1QixrREFBSztBQUM1QjtBQUNBO0FBQ0EsS0FBSztBQUNMLEtBQUs7QUFDTCxrQkFBa0IsdURBQWM7QUFDaEMsZUFBZSx1REFBYztBQUM3QjtBQUNBLHlCQUF5QixrREFBSztBQUM5QjtBQUNBO0FBQ0EsYUFBYSxtREFBTSxDQUFDLGtEQUFTO0FBQzdCLEdBQUc7QUFDSCxlQUFlLHVEQUFjO0FBQzdCLFlBQVksdURBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLEdBQUc7QUFDYixVQUFVLFNBQVM7QUFDbkIsWUFBWSxrQkFBa0I7QUFDOUIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsdUJBQXVCLGtEQUFLO0FBQzVCO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsS0FBSztBQUNMLGtCQUFrQix1REFBYztBQUNoQyxlQUFlLHVEQUFjO0FBQzdCO0FBQ0EseUJBQXlCLGtEQUFLO0FBQzlCO0FBQ0E7QUFDQSxhQUFhLHFEQUFRLENBQUMsb0RBQVc7QUFDakMsR0FBRztBQUNILGVBQWUsdURBQWM7QUFDN0IsWUFBWSx1REFBYztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxHQUFHO0FBQ2IsWUFBWSw4Q0FBOEM7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsa0RBQUs7QUFDNUI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGtEQUFLO0FBQ3hCO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsS0FBSztBQUNMO0FBQ0EsbUJBQW1CLGtEQUFLO0FBQ3hCO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsS0FBSztBQUNMO0FBQ0EsbUJBQW1CLGtEQUFLO0FBQ3hCO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsS0FBSztBQUNMO0FBQ0EsbUJBQW1CLGtEQUFLO0FBQ3hCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGVBQWUsdURBQWM7QUFDN0IsWUFBWSx1REFBYztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxTQUFTO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLEdBQUc7QUFDYixVQUFVLGlEQUFpRDtBQUMzRCxZQUFZLGtCQUFrQjtBQUM5QixXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QixzR0FBc0cscURBQVk7QUFDbEg7QUFDQTtBQUNBLEdBQUc7QUFDSCx5QkFBeUIsa0RBQUs7QUFDOUI7QUFDQTtBQUNBLEdBQUc7QUFDSCxlQUFlLHVEQUFjO0FBQzdCLFlBQVksdURBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDa21CO0FBQ2xtQiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy90eXBlcy96b2QuanM/NzcwYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyAkWm9kTmV2ZXIsICRab2RPcHRpb25hbCwgJFpvZFVua25vd24sIF9uZXZlciwgX3Vua25vd24sIGNsb25lLCBnbG9iYWxSZWdpc3RyeSwgcGFyc2UsIHBhcnNlQXN5bmMsIHV0aWwgfSBmcm9tIFwiem9kL3Y0L2NvcmVcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy90eXBlcy96b2QudHNcbmZ1bmN0aW9uIGlzWm9kU2NoZW1hVjQoc2NoZW1hKSB7XG5cdGlmICh0eXBlb2Ygc2NoZW1hICE9PSBcIm9iamVjdFwiIHx8IHNjaGVtYSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXHRjb25zdCBvYmogPSBzY2hlbWE7XG5cdGlmICghKFwiX3pvZFwiIGluIG9iaikpIHJldHVybiBmYWxzZTtcblx0Y29uc3Qgem9kID0gb2JqLl96b2Q7XG5cdHJldHVybiB0eXBlb2Ygem9kID09PSBcIm9iamVjdFwiICYmIHpvZCAhPT0gbnVsbCAmJiBcImRlZlwiIGluIHpvZDtcbn1cbmZ1bmN0aW9uIGlzWm9kU2NoZW1hVjMoc2NoZW1hKSB7XG5cdGlmICh0eXBlb2Ygc2NoZW1hICE9PSBcIm9iamVjdFwiIHx8IHNjaGVtYSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXHRjb25zdCBvYmogPSBzY2hlbWE7XG5cdGlmICghKFwiX2RlZlwiIGluIG9iaikgfHwgXCJfem9kXCIgaW4gb2JqKSByZXR1cm4gZmFsc2U7XG5cdGNvbnN0IGRlZiA9IG9iai5fZGVmO1xuXHRyZXR1cm4gdHlwZW9mIGRlZiA9PT0gXCJvYmplY3RcIiAmJiBkZWYgIT0gbnVsbCAmJiBcInR5cGVOYW1lXCIgaW4gZGVmO1xufVxuLyoqIEJhY2t3YXJkIGNvbXBhdGlibGUgaXNab2RTY2hlbWEgZm9yIFpvZCAzICovXG5mdW5jdGlvbiBpc1pvZFNjaGVtYShzY2hlbWEpIHtcblx0aWYgKGlzWm9kU2NoZW1hVjQoc2NoZW1hKSkgY29uc29sZS53YXJuKFwiW1dBUk5JTkddIEF0dGVtcHRpbmcgdG8gdXNlIFpvZCA0IHNjaGVtYSBpbiBhIGNvbnRleHQgd2hlcmUgWm9kIDMgc2NoZW1hIGlzIGV4cGVjdGVkLiBUaGlzIG1heSBjYXVzZSB1bmV4cGVjdGVkIGJlaGF2aW9yLlwiKTtcblx0cmV0dXJuIGlzWm9kU2NoZW1hVjMoc2NoZW1hKTtcbn1cbi8qKlxuKiBHaXZlbiBlaXRoZXIgYSBab2Qgc2NoZW1hLCBvciBwbGFpbiBvYmplY3QsIGRldGVybWluZSBpZiB0aGUgaW5wdXQgaXMgYSBab2Qgc2NoZW1hLlxuKlxuKiBAcGFyYW0ge3Vua25vd259IGlucHV0XG4qIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgcHJvdmlkZWQgaW5wdXQgaXMgYSBab2Qgc2NoZW1hLlxuKi9cbmZ1bmN0aW9uIGlzSW50ZXJvcFpvZFNjaGVtYShpbnB1dCkge1xuXHRpZiAoIWlucHV0KSByZXR1cm4gZmFsc2U7XG5cdGlmICh0eXBlb2YgaW5wdXQgIT09IFwib2JqZWN0XCIpIHJldHVybiBmYWxzZTtcblx0aWYgKEFycmF5LmlzQXJyYXkoaW5wdXQpKSByZXR1cm4gZmFsc2U7XG5cdGlmIChpc1pvZFNjaGVtYVY0KGlucHV0KSB8fCBpc1pvZFNjaGVtYVYzKGlucHV0KSkgcmV0dXJuIHRydWU7XG5cdHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGlzWm9kTGl0ZXJhbFYzKG9iaikge1xuXHRpZiAodHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIiAmJiBvYmogIT09IG51bGwgJiYgXCJfZGVmXCIgaW4gb2JqICYmIHR5cGVvZiBvYmouX2RlZiA9PT0gXCJvYmplY3RcIiAmJiBvYmouX2RlZiAhPT0gbnVsbCAmJiBcInR5cGVOYW1lXCIgaW4gb2JqLl9kZWYgJiYgb2JqLl9kZWYudHlwZU5hbWUgPT09IFwiWm9kTGl0ZXJhbFwiKSByZXR1cm4gdHJ1ZTtcblx0cmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gaXNab2RMaXRlcmFsVjQob2JqKSB7XG5cdGlmICghaXNab2RTY2hlbWFWNChvYmopKSByZXR1cm4gZmFsc2U7XG5cdGlmICh0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiICYmIG9iaiAhPT0gbnVsbCAmJiBcIl96b2RcIiBpbiBvYmogJiYgdHlwZW9mIG9iai5fem9kID09PSBcIm9iamVjdFwiICYmIG9iai5fem9kICE9PSBudWxsICYmIFwiZGVmXCIgaW4gb2JqLl96b2QgJiYgdHlwZW9mIG9iai5fem9kLmRlZiA9PT0gXCJvYmplY3RcIiAmJiBvYmouX3pvZC5kZWYgIT09IG51bGwgJiYgXCJ0eXBlXCIgaW4gb2JqLl96b2QuZGVmICYmIG9iai5fem9kLmRlZi50eXBlID09PSBcImxpdGVyYWxcIikgcmV0dXJuIHRydWU7XG5cdHJldHVybiBmYWxzZTtcbn1cbi8qKlxuKiBEZXRlcm1pbmVzIGlmIHRoZSBwcm92aWRlZCB2YWx1ZSBpcyBhbiBJbnRlcm9wWm9kTGl0ZXJhbCAoWm9kIHYzIG9yIHY0IGxpdGVyYWwgc2NoZW1hKS5cbipcbiogQHBhcmFtIG9iaiBUaGUgdmFsdWUgdG8gY2hlY2suXG4qIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSB2YWx1ZSBpcyBhIFpvZCB2MyBvciB2NCBsaXRlcmFsIHNjaGVtYSwgZmFsc2Ugb3RoZXJ3aXNlLlxuKi9cbmZ1bmN0aW9uIGlzSW50ZXJvcFpvZExpdGVyYWwob2JqKSB7XG5cdGlmIChpc1pvZExpdGVyYWxWMyhvYmopKSByZXR1cm4gdHJ1ZTtcblx0aWYgKGlzWm9kTGl0ZXJhbFY0KG9iaikpIHJldHVybiB0cnVlO1xuXHRyZXR1cm4gZmFsc2U7XG59XG4vKipcbiogQXN5bmNocm9ub3VzbHkgcGFyc2VzIHRoZSBpbnB1dCB1c2luZyB0aGUgcHJvdmlkZWQgWm9kIHNjaGVtYSAodjMgb3IgdjQpIGFuZCByZXR1cm5zIGEgc2FmZSBwYXJzZSByZXN1bHQuXG4qIFRoaXMgZnVuY3Rpb24gaGFuZGxlcyBib3RoIFpvZCB2MyBhbmQgdjQgc2NoZW1hcywgcmV0dXJuaW5nIGEgcmVzdWx0IG9iamVjdCBpbmRpY2F0aW5nIHN1Y2Nlc3Mgb3IgZmFpbHVyZS5cbipcbiogQHRlbXBsYXRlIFQgLSBUaGUgZXhwZWN0ZWQgb3V0cHV0IHR5cGUgb2YgdGhlIHNjaGVtYS5cbiogQHBhcmFtIHtJbnRlcm9wWm9kVHlwZTxUPn0gc2NoZW1hIC0gVGhlIFpvZCBzY2hlbWEgKHYzIG9yIHY0KSB0byB1c2UgZm9yIHBhcnNpbmcuXG4qIEBwYXJhbSB7dW5rbm93bn0gaW5wdXQgLSBUaGUgaW5wdXQgdmFsdWUgdG8gcGFyc2UuXG4qIEByZXR1cm5zIHtQcm9taXNlPEludGVyb3Bab2RTYWZlUGFyc2VSZXN1bHQ8VD4+fSBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIHNhZmUgcGFyc2UgcmVzdWx0IG9iamVjdC5cbiogQHRocm93cyB7RXJyb3J9IElmIHRoZSBzY2hlbWEgaXMgbm90IGEgcmVjb2duaXplZCBab2QgdjMgb3IgdjQgc2NoZW1hLlxuKi9cbmFzeW5jIGZ1bmN0aW9uIGludGVyb3BTYWZlUGFyc2VBc3luYyhzY2hlbWEsIGlucHV0KSB7XG5cdGlmIChpc1pvZFNjaGVtYVY0KHNjaGVtYSkpIHRyeSB7XG5cdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQXN5bmMoc2NoZW1hLCBpbnB1dCk7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IHRydWUsXG5cdFx0XHRkYXRhXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvclxuXHRcdH07XG5cdH1cblx0aWYgKGlzWm9kU2NoZW1hVjMoc2NoZW1hKSkgcmV0dXJuIGF3YWl0IHNjaGVtYS5zYWZlUGFyc2VBc3luYyhpbnB1dCk7XG5cdHRocm93IG5ldyBFcnJvcihcIlNjaGVtYSBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIHozLlpvZFR5cGUgb3IgejQuJFpvZFR5cGVcIik7XG59XG4vKipcbiogQXN5bmNocm9ub3VzbHkgcGFyc2VzIHRoZSBpbnB1dCB1c2luZyB0aGUgcHJvdmlkZWQgWm9kIHNjaGVtYSAodjMgb3IgdjQpIGFuZCByZXR1cm5zIHRoZSBwYXJzZWQgdmFsdWUuXG4qIFRocm93cyBhbiBlcnJvciBpZiBwYXJzaW5nIGZhaWxzIG9yIGlmIHRoZSBzY2hlbWEgaXMgbm90IGEgcmVjb2duaXplZCBab2QgdjMgb3IgdjQgc2NoZW1hLlxuKlxuKiBAdGVtcGxhdGUgVCAtIFRoZSBleHBlY3RlZCBvdXRwdXQgdHlwZSBvZiB0aGUgc2NoZW1hLlxuKiBAcGFyYW0ge0ludGVyb3Bab2RUeXBlPFQ+fSBzY2hlbWEgLSBUaGUgWm9kIHNjaGVtYSAodjMgb3IgdjQpIHRvIHVzZSBmb3IgcGFyc2luZy5cbiogQHBhcmFtIHt1bmtub3dufSBpbnB1dCAtIFRoZSBpbnB1dCB2YWx1ZSB0byBwYXJzZS5cbiogQHJldHVybnMge1Byb21pc2U8VD59IEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSBwYXJzZWQgdmFsdWUuXG4qIEB0aHJvd3Mge0Vycm9yfSBJZiBwYXJzaW5nIGZhaWxzIG9yIHRoZSBzY2hlbWEgaXMgbm90IGEgcmVjb2duaXplZCBab2QgdjMgb3IgdjQgc2NoZW1hLlxuKi9cbmFzeW5jIGZ1bmN0aW9uIGludGVyb3BQYXJzZUFzeW5jKHNjaGVtYSwgaW5wdXQpIHtcblx0aWYgKGlzWm9kU2NoZW1hVjQoc2NoZW1hKSkgcmV0dXJuIGF3YWl0IHBhcnNlQXN5bmMoc2NoZW1hLCBpbnB1dCk7XG5cdGlmIChpc1pvZFNjaGVtYVYzKHNjaGVtYSkpIHJldHVybiBhd2FpdCBzY2hlbWEucGFyc2VBc3luYyhpbnB1dCk7XG5cdHRocm93IG5ldyBFcnJvcihcIlNjaGVtYSBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIHozLlpvZFR5cGUgb3IgejQuJFpvZFR5cGVcIik7XG59XG4vKipcbiogU2FmZWx5IHBhcnNlcyB0aGUgaW5wdXQgdXNpbmcgdGhlIHByb3ZpZGVkIFpvZCBzY2hlbWEgKHYzIG9yIHY0KSBhbmQgcmV0dXJucyBhIHJlc3VsdCBvYmplY3RcbiogaW5kaWNhdGluZyBzdWNjZXNzIG9yIGZhaWx1cmUuIFRoaXMgZnVuY3Rpb24gaXMgY29tcGF0aWJsZSB3aXRoIGJvdGggWm9kIHYzIGFuZCB2NCBzY2hlbWFzLlxuKlxuKiBAdGVtcGxhdGUgVCAtIFRoZSBleHBlY3RlZCBvdXRwdXQgdHlwZSBvZiB0aGUgc2NoZW1hLlxuKiBAcGFyYW0ge0ludGVyb3Bab2RUeXBlPFQ+fSBzY2hlbWEgLSBUaGUgWm9kIHNjaGVtYSAodjMgb3IgdjQpIHRvIHVzZSBmb3IgcGFyc2luZy5cbiogQHBhcmFtIHt1bmtub3dufSBpbnB1dCAtIFRoZSBpbnB1dCB2YWx1ZSB0byBwYXJzZS5cbiogQHJldHVybnMge0ludGVyb3Bab2RTYWZlUGFyc2VSZXN1bHQ8VD59IEFuIG9iamVjdCB3aXRoIGVpdGhlciB0aGUgcGFyc2VkIGRhdGEgKG9uIHN1Y2Nlc3MpXG4qICAgb3IgdGhlIGVycm9yIChvbiBmYWlsdXJlKS5cbiogQHRocm93cyB7RXJyb3J9IElmIHRoZSBzY2hlbWEgaXMgbm90IGEgcmVjb2duaXplZCBab2QgdjMgb3IgdjQgc2NoZW1hLlxuKi9cbmZ1bmN0aW9uIGludGVyb3BTYWZlUGFyc2Uoc2NoZW1hLCBpbnB1dCkge1xuXHRpZiAoaXNab2RTY2hlbWFWNChzY2hlbWEpKSB0cnkge1xuXHRcdGNvbnN0IGRhdGEgPSBwYXJzZShzY2hlbWEsIGlucHV0KTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdGRhdGFcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yXG5cdFx0fTtcblx0fVxuXHRpZiAoaXNab2RTY2hlbWFWMyhzY2hlbWEpKSByZXR1cm4gc2NoZW1hLnNhZmVQYXJzZShpbnB1dCk7XG5cdHRocm93IG5ldyBFcnJvcihcIlNjaGVtYSBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIHozLlpvZFR5cGUgb3IgejQuJFpvZFR5cGVcIik7XG59XG4vKipcbiogUGFyc2VzIHRoZSBpbnB1dCB1c2luZyB0aGUgcHJvdmlkZWQgWm9kIHNjaGVtYSAodjMgb3IgdjQpIGFuZCByZXR1cm5zIHRoZSBwYXJzZWQgdmFsdWUuXG4qIFRocm93cyBhbiBlcnJvciBpZiBwYXJzaW5nIGZhaWxzIG9yIGlmIHRoZSBzY2hlbWEgaXMgbm90IGEgcmVjb2duaXplZCBab2QgdjMgb3IgdjQgc2NoZW1hLlxuKlxuKiBAdGVtcGxhdGUgVCAtIFRoZSBleHBlY3RlZCBvdXRwdXQgdHlwZSBvZiB0aGUgc2NoZW1hLlxuKiBAcGFyYW0ge0ludGVyb3Bab2RUeXBlPFQ+fSBzY2hlbWEgLSBUaGUgWm9kIHNjaGVtYSAodjMgb3IgdjQpIHRvIHVzZSBmb3IgcGFyc2luZy5cbiogQHBhcmFtIHt1bmtub3dufSBpbnB1dCAtIFRoZSBpbnB1dCB2YWx1ZSB0byBwYXJzZS5cbiogQHJldHVybnMge1R9IFRoZSBwYXJzZWQgdmFsdWUuXG4qIEB0aHJvd3Mge0Vycm9yfSBJZiBwYXJzaW5nIGZhaWxzIG9yIHRoZSBzY2hlbWEgaXMgbm90IGEgcmVjb2duaXplZCBab2QgdjMgb3IgdjQgc2NoZW1hLlxuKi9cbmZ1bmN0aW9uIGludGVyb3BQYXJzZShzY2hlbWEsIGlucHV0KSB7XG5cdGlmIChpc1pvZFNjaGVtYVY0KHNjaGVtYSkpIHJldHVybiBwYXJzZShzY2hlbWEsIGlucHV0KTtcblx0aWYgKGlzWm9kU2NoZW1hVjMoc2NoZW1hKSkgcmV0dXJuIHNjaGVtYS5wYXJzZShpbnB1dCk7XG5cdHRocm93IG5ldyBFcnJvcihcIlNjaGVtYSBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIHozLlpvZFR5cGUgb3IgejQuJFpvZFR5cGVcIik7XG59XG4vKipcbiogUmV0cmlldmVzIHRoZSBkZXNjcmlwdGlvbiBmcm9tIGEgc2NoZW1hIGRlZmluaXRpb24gKHYzLCB2NCwgb3IgcGxhaW4gb2JqZWN0KSwgaWYgYXZhaWxhYmxlLlxuKlxuKiBAcGFyYW0ge3Vua25vd259IHNjaGVtYSAtIFRoZSBzY2hlbWEgdG8gZXh0cmFjdCB0aGUgZGVzY3JpcHRpb24gZnJvbS5cbiogQHJldHVybnMge3N0cmluZyB8IHVuZGVmaW5lZH0gVGhlIGRlc2NyaXB0aW9uIG9mIHRoZSBzY2hlbWEsIG9yIHVuZGVmaW5lZCBpZiBub3QgcHJlc2VudC5cbiovXG5mdW5jdGlvbiBnZXRTY2hlbWFEZXNjcmlwdGlvbihzY2hlbWEpIHtcblx0aWYgKGlzWm9kU2NoZW1hVjQoc2NoZW1hKSkgcmV0dXJuIGdsb2JhbFJlZ2lzdHJ5LmdldChzY2hlbWEpPy5kZXNjcmlwdGlvbjtcblx0aWYgKGlzWm9kU2NoZW1hVjMoc2NoZW1hKSkgcmV0dXJuIHNjaGVtYS5kZXNjcmlwdGlvbjtcblx0aWYgKFwiZGVzY3JpcHRpb25cIiBpbiBzY2hlbWEgJiYgdHlwZW9mIHNjaGVtYS5kZXNjcmlwdGlvbiA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIHNjaGVtYS5kZXNjcmlwdGlvbjtcblx0cmV0dXJuIHZvaWQgMDtcbn1cbi8qKlxuKiBEZXRlcm1pbmVzIGlmIHRoZSBwcm92aWRlZCBab2Qgc2NoZW1hIGlzIFwic2hhcGVsZXNzXCIuXG4qIEEgc2hhcGVsZXNzIHNjaGVtYSBpcyBvbmUgdGhhdCBkb2VzIG5vdCBkZWZpbmUgYW55IG9iamVjdCBzaGFwZSxcbiogc3VjaCBhcyBab2RTdHJpbmcsIFpvZE51bWJlciwgWm9kQm9vbGVhbiwgWm9kQW55LCBldGMuXG4qIEZvciBab2RPYmplY3QsIGl0IG11c3QgaGF2ZSBubyBzaGFwZSBrZXlzIHRvIGJlIGNvbnNpZGVyZWQgc2hhcGVsZXNzLlxuKiBab2RSZWNvcmQgc2NoZW1hcyBhcmUgY29uc2lkZXJlZCBzaGFwZWxlc3Mgc2luY2UgdGhleSBkZWZpbmUgZHluYW1pY1xuKiBrZXktdmFsdWUgbWFwcGluZ3Mgd2l0aG91dCBmaXhlZCBrZXlzLlxuKlxuKiBAcGFyYW0gc2NoZW1hIFRoZSBab2Qgc2NoZW1hIHRvIGNoZWNrLlxuKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgc2NoZW1hIGlzIHNoYXBlbGVzcywgZmFsc2Ugb3RoZXJ3aXNlLlxuKi9cbmZ1bmN0aW9uIGlzU2hhcGVsZXNzWm9kU2NoZW1hKHNjaGVtYSkge1xuXHRpZiAoIWlzSW50ZXJvcFpvZFNjaGVtYShzY2hlbWEpKSByZXR1cm4gZmFsc2U7XG5cdGlmIChpc1pvZFNjaGVtYVYzKHNjaGVtYSkpIHtcblx0XHRjb25zdCBkZWYgPSBzY2hlbWEuX2RlZjtcblx0XHRpZiAoZGVmLnR5cGVOYW1lID09PSBcIlpvZE9iamVjdFwiKSB7XG5cdFx0XHRjb25zdCBvYmogPSBzY2hlbWE7XG5cdFx0XHRyZXR1cm4gIW9iai5zaGFwZSB8fCBPYmplY3Qua2V5cyhvYmouc2hhcGUpLmxlbmd0aCA9PT0gMDtcblx0XHR9XG5cdFx0aWYgKGRlZi50eXBlTmFtZSA9PT0gXCJab2RSZWNvcmRcIikgcmV0dXJuIHRydWU7XG5cdH1cblx0aWYgKGlzWm9kU2NoZW1hVjQoc2NoZW1hKSkge1xuXHRcdGNvbnN0IGRlZiA9IHNjaGVtYS5fem9kLmRlZjtcblx0XHRpZiAoZGVmLnR5cGUgPT09IFwib2JqZWN0XCIpIHtcblx0XHRcdGNvbnN0IG9iaiA9IHNjaGVtYTtcblx0XHRcdHJldHVybiAhb2JqLnNoYXBlIHx8IE9iamVjdC5rZXlzKG9iai5zaGFwZSkubGVuZ3RoID09PSAwO1xuXHRcdH1cblx0XHRpZiAoZGVmLnR5cGUgPT09IFwicmVjb3JkXCIpIHJldHVybiB0cnVlO1xuXHR9XG5cdGlmICh0eXBlb2Ygc2NoZW1hID09PSBcIm9iamVjdFwiICYmIHNjaGVtYSAhPT0gbnVsbCAmJiAhKFwic2hhcGVcIiBpbiBzY2hlbWEpKSByZXR1cm4gdHJ1ZTtcblx0cmV0dXJuIGZhbHNlO1xufVxuLyoqXG4qIERldGVybWluZXMgaWYgdGhlIHByb3ZpZGVkIFpvZCBzY2hlbWEgc2hvdWxkIGJlIHRyZWF0ZWQgYXMgYSBzaW1wbGUgc3RyaW5nIHNjaGVtYVxuKiB0aGF0IG1hcHMgdG8gRHluYW1pY1Rvb2wuIFRoaXMgYWxpZ25zIHdpdGggdGhlIHR5cGUtbGV2ZWwgY29uc3RyYWludCBvZlxuKiBJbnRlcm9wWm9kVHlwZTxzdHJpbmcgfCB1bmRlZmluZWQ+IHdoaWNoIG9ubHkgbWF0Y2hlcyBiYXNpYyBzdHJpbmcgc2NoZW1hcy5cbiogSWYgdGhlIHByb3ZpZGVkIHNjaGVtYSBpcyBqdXN0IHouc3RyaW5nKCksIHdlIGNhbiBtYWtlIHRoZSBkZXRlcm1pbmF0aW9uIHRoYXRcbiogdGhlIHRvb2wgaXMganVzdCBhIGdlbmVyaWMgc3RyaW5nIHRvb2wgdGhhdCBkb2Vzbid0IHJlcXVpcmUgYW55IGlucHV0IHZhbGlkYXRpb24uXG4qXG4qIFRoaXMgZnVuY3Rpb24gb25seSByZXR1cm5zIHRydWUgZm9yIGJhc2ljIFpvZFN0cmluZyBzY2hlbWFzLCBpbmNsdWRpbmc6XG4qIC0gQmFzaWMgc3RyaW5nIHNjaGVtYXMgKHouc3RyaW5nKCkpXG4qIC0gU3RyaW5nIHNjaGVtYXMgd2l0aCB2YWxpZGF0aW9ucyAoei5zdHJpbmcoKS5taW4oMSksIHouc3RyaW5nKCkuZW1haWwoKSwgZXRjLilcbipcbiogVGhpcyBmdW5jdGlvbiByZXR1cm5zIGZhbHNlIGZvciBldmVyeXRoaW5nIGVsc2UsIGluY2x1ZGluZzpcbiogLSBTdHJpbmcgc2NoZW1hcyB3aXRoIGRlZmF1bHRzICh6LnN0cmluZygpLmRlZmF1bHQoXCJ2YWx1ZVwiKSlcbiogLSBCcmFuZGVkIHN0cmluZyBzY2hlbWFzICh6LnN0cmluZygpLmJyYW5kPFwiVXNlcklkXCI+KCkpXG4qIC0gU3RyaW5nIHNjaGVtYXMgd2l0aCBjYXRjaCBvcGVyYXRpb25zICh6LnN0cmluZygpLmNhdGNoKFwiZGVmYXVsdFwiKSlcbiogLSBPcHRpb25hbC9udWxsYWJsZSBzdHJpbmcgc2NoZW1hcyAoei5zdHJpbmcoKS5vcHRpb25hbCgpKVxuKiAtIFRyYW5zZm9ybWVkIHNjaGVtYXMgKHouc3RyaW5nKCkudHJhbnNmb3JtKCkgb3Igei5vYmplY3QoKS50cmFuc2Zvcm0oKSlcbiogLSBPYmplY3Qgb3IgcmVjb3JkIHNjaGVtYXMsIGV2ZW4gaWYgdGhleSdyZSBlbXB0eVxuKiAtIEFueSBvdGhlciBzY2hlbWEgdHlwZVxuKlxuKiBAcGFyYW0gc2NoZW1hIFRoZSBab2Qgc2NoZW1hIHRvIGNoZWNrLlxuKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgc2NoZW1hIGlzIGEgYmFzaWMgWm9kU3RyaW5nLCBmYWxzZSBvdGhlcndpc2UuXG4qL1xuZnVuY3Rpb24gaXNTaW1wbGVTdHJpbmdab2RTY2hlbWEoc2NoZW1hKSB7XG5cdGlmICghaXNJbnRlcm9wWm9kU2NoZW1hKHNjaGVtYSkpIHJldHVybiBmYWxzZTtcblx0aWYgKGlzWm9kU2NoZW1hVjMoc2NoZW1hKSkge1xuXHRcdGNvbnN0IGRlZiA9IHNjaGVtYS5fZGVmO1xuXHRcdHJldHVybiBkZWYudHlwZU5hbWUgPT09IFwiWm9kU3RyaW5nXCI7XG5cdH1cblx0aWYgKGlzWm9kU2NoZW1hVjQoc2NoZW1hKSkge1xuXHRcdGNvbnN0IGRlZiA9IHNjaGVtYS5fem9kLmRlZjtcblx0XHRyZXR1cm4gZGVmLnR5cGUgPT09IFwic3RyaW5nXCI7XG5cdH1cblx0cmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gaXNab2RPYmplY3RWMyhvYmopIHtcblx0aWYgKHR5cGVvZiBvYmogPT09IFwib2JqZWN0XCIgJiYgb2JqICE9PSBudWxsICYmIFwiX2RlZlwiIGluIG9iaiAmJiB0eXBlb2Ygb2JqLl9kZWYgPT09IFwib2JqZWN0XCIgJiYgb2JqLl9kZWYgIT09IG51bGwgJiYgXCJ0eXBlTmFtZVwiIGluIG9iai5fZGVmICYmIG9iai5fZGVmLnR5cGVOYW1lID09PSBcIlpvZE9iamVjdFwiKSByZXR1cm4gdHJ1ZTtcblx0cmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gaXNab2RPYmplY3RWNChvYmopIHtcblx0aWYgKCFpc1pvZFNjaGVtYVY0KG9iaikpIHJldHVybiBmYWxzZTtcblx0aWYgKHR5cGVvZiBvYmogPT09IFwib2JqZWN0XCIgJiYgb2JqICE9PSBudWxsICYmIFwiX3pvZFwiIGluIG9iaiAmJiB0eXBlb2Ygb2JqLl96b2QgPT09IFwib2JqZWN0XCIgJiYgb2JqLl96b2QgIT09IG51bGwgJiYgXCJkZWZcIiBpbiBvYmouX3pvZCAmJiB0eXBlb2Ygb2JqLl96b2QuZGVmID09PSBcIm9iamVjdFwiICYmIG9iai5fem9kLmRlZiAhPT0gbnVsbCAmJiBcInR5cGVcIiBpbiBvYmouX3pvZC5kZWYgJiYgb2JqLl96b2QuZGVmLnR5cGUgPT09IFwib2JqZWN0XCIpIHJldHVybiB0cnVlO1xuXHRyZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBpc1pvZEFycmF5VjQob2JqKSB7XG5cdGlmICghaXNab2RTY2hlbWFWNChvYmopKSByZXR1cm4gZmFsc2U7XG5cdGlmICh0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiICYmIG9iaiAhPT0gbnVsbCAmJiBcIl96b2RcIiBpbiBvYmogJiYgdHlwZW9mIG9iai5fem9kID09PSBcIm9iamVjdFwiICYmIG9iai5fem9kICE9PSBudWxsICYmIFwiZGVmXCIgaW4gb2JqLl96b2QgJiYgdHlwZW9mIG9iai5fem9kLmRlZiA9PT0gXCJvYmplY3RcIiAmJiBvYmouX3pvZC5kZWYgIT09IG51bGwgJiYgXCJ0eXBlXCIgaW4gb2JqLl96b2QuZGVmICYmIG9iai5fem9kLmRlZi50eXBlID09PSBcImFycmF5XCIpIHJldHVybiB0cnVlO1xuXHRyZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBpc1pvZE9wdGlvbmFsVjQob2JqKSB7XG5cdGlmICghaXNab2RTY2hlbWFWNChvYmopKSByZXR1cm4gZmFsc2U7XG5cdGlmICh0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiICYmIG9iaiAhPT0gbnVsbCAmJiBcIl96b2RcIiBpbiBvYmogJiYgdHlwZW9mIG9iai5fem9kID09PSBcIm9iamVjdFwiICYmIG9iai5fem9kICE9PSBudWxsICYmIFwiZGVmXCIgaW4gb2JqLl96b2QgJiYgdHlwZW9mIG9iai5fem9kLmRlZiA9PT0gXCJvYmplY3RcIiAmJiBvYmouX3pvZC5kZWYgIT09IG51bGwgJiYgXCJ0eXBlXCIgaW4gb2JqLl96b2QuZGVmICYmIG9iai5fem9kLmRlZi50eXBlID09PSBcIm9wdGlvbmFsXCIpIHJldHVybiB0cnVlO1xuXHRyZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBpc1pvZE51bGxhYmxlVjQob2JqKSB7XG5cdGlmICghaXNab2RTY2hlbWFWNChvYmopKSByZXR1cm4gZmFsc2U7XG5cdGlmICh0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiICYmIG9iaiAhPT0gbnVsbCAmJiBcIl96b2RcIiBpbiBvYmogJiYgdHlwZW9mIG9iai5fem9kID09PSBcIm9iamVjdFwiICYmIG9iai5fem9kICE9PSBudWxsICYmIFwiZGVmXCIgaW4gb2JqLl96b2QgJiYgdHlwZW9mIG9iai5fem9kLmRlZiA9PT0gXCJvYmplY3RcIiAmJiBvYmouX3pvZC5kZWYgIT09IG51bGwgJiYgXCJ0eXBlXCIgaW4gb2JqLl96b2QuZGVmICYmIG9iai5fem9kLmRlZi50eXBlID09PSBcIm51bGxhYmxlXCIpIHJldHVybiB0cnVlO1xuXHRyZXR1cm4gZmFsc2U7XG59XG4vKipcbiogRGV0ZXJtaW5lcyBpZiB0aGUgcHJvdmlkZWQgdmFsdWUgaXMgYW4gSW50ZXJvcFpvZE9iamVjdCAoWm9kIHYzIG9yIHY0IG9iamVjdCBzY2hlbWEpLlxuKlxuKiBAcGFyYW0gb2JqIFRoZSB2YWx1ZSB0byBjaGVjay5cbiogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHZhbHVlIGlzIGEgWm9kIHYzIG9yIHY0IG9iamVjdCBzY2hlbWEsIGZhbHNlIG90aGVyd2lzZS5cbiovXG5mdW5jdGlvbiBpc0ludGVyb3Bab2RPYmplY3Qob2JqKSB7XG5cdGlmIChpc1pvZE9iamVjdFYzKG9iaikpIHJldHVybiB0cnVlO1xuXHRpZiAoaXNab2RPYmplY3RWNChvYmopKSByZXR1cm4gdHJ1ZTtcblx0cmV0dXJuIGZhbHNlO1xufVxuLyoqXG4qIFJldHJpZXZlcyB0aGUgc2hhcGUgKGZpZWxkcykgb2YgYSBab2Qgb2JqZWN0IHNjaGVtYSwgc3VwcG9ydGluZyBib3RoIFpvZCB2MyBhbmQgdjQuXG4qXG4qIEB0ZW1wbGF0ZSBUIC0gVGhlIHR5cGUgb2YgdGhlIFpvZCBvYmplY3Qgc2NoZW1hLlxuKiBAcGFyYW0ge1R9IHNjaGVtYSAtIFRoZSBab2Qgb2JqZWN0IHNjaGVtYSBpbnN0YW5jZSAoZWl0aGVyIHYzIG9yIHY0KS5cbiogQHJldHVybnMge0ludGVyb3Bab2RPYmplY3RTaGFwZTxUPn0gVGhlIHNoYXBlIG9mIHRoZSBvYmplY3Qgc2NoZW1hLlxuKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHNjaGVtYSBpcyBub3QgYSBab2QgdjMgb3IgdjQgb2JqZWN0LlxuKi9cbmZ1bmN0aW9uIGdldEludGVyb3Bab2RPYmplY3RTaGFwZShzY2hlbWEpIHtcblx0aWYgKGlzWm9kU2NoZW1hVjMoc2NoZW1hKSkgcmV0dXJuIHNjaGVtYS5zaGFwZTtcblx0aWYgKGlzWm9kU2NoZW1hVjQoc2NoZW1hKSkgcmV0dXJuIHNjaGVtYS5fem9kLmRlZi5zaGFwZTtcblx0dGhyb3cgbmV3IEVycm9yKFwiU2NoZW1hIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgejMuWm9kT2JqZWN0IG9yIHo0LiRab2RPYmplY3RcIik7XG59XG4vKipcbiogRXh0ZW5kcyBhIFpvZCBvYmplY3Qgc2NoZW1hIHdpdGggYWRkaXRpb25hbCBmaWVsZHMsIHN1cHBvcnRpbmcgYm90aCBab2QgdjMgYW5kIHY0LlxuKlxuKiBAdGVtcGxhdGUgVCAtIFRoZSB0eXBlIG9mIHRoZSBab2Qgb2JqZWN0IHNjaGVtYS5cbiogQHBhcmFtIHtUfSBzY2hlbWEgLSBUaGUgWm9kIG9iamVjdCBzY2hlbWEgaW5zdGFuY2UgKGVpdGhlciB2MyBvciB2NCkuXG4qIEBwYXJhbSB7SW50ZXJvcFpvZE9iamVjdFNoYXBlfSBleHRlbnNpb24gLSBUaGUgZmllbGRzIHRvIGFkZCB0byB0aGUgc2NoZW1hLlxuKiBAcmV0dXJucyB7SW50ZXJvcFpvZE9iamVjdH0gVGhlIGV4dGVuZGVkIFpvZCBvYmplY3Qgc2NoZW1hLlxuKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHNjaGVtYSBpcyBub3QgYSBab2QgdjMgb3IgdjQgb2JqZWN0LlxuKi9cbmZ1bmN0aW9uIGV4dGVuZEludGVyb3Bab2RPYmplY3Qoc2NoZW1hLCBleHRlbnNpb24pIHtcblx0aWYgKGlzWm9kU2NoZW1hVjMoc2NoZW1hKSkgcmV0dXJuIHNjaGVtYS5leHRlbmQoZXh0ZW5zaW9uKTtcblx0aWYgKGlzWm9kU2NoZW1hVjQoc2NoZW1hKSkgcmV0dXJuIHV0aWwuZXh0ZW5kKHNjaGVtYSwgZXh0ZW5zaW9uKTtcblx0dGhyb3cgbmV3IEVycm9yKFwiU2NoZW1hIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgejMuWm9kT2JqZWN0IG9yIHo0LiRab2RPYmplY3RcIik7XG59XG4vKipcbiogUmV0dXJucyBhIHBhcnRpYWwgdmVyc2lvbiBvZiBhIFpvZCBvYmplY3Qgc2NoZW1hLCBtYWtpbmcgYWxsIGZpZWxkcyBvcHRpb25hbC5cbiogU3VwcG9ydHMgYm90aCBab2QgdjMgYW5kIHY0LlxuKlxuKiBAdGVtcGxhdGUgVCAtIFRoZSB0eXBlIG9mIHRoZSBab2Qgb2JqZWN0IHNjaGVtYS5cbiogQHBhcmFtIHtUfSBzY2hlbWEgLSBUaGUgWm9kIG9iamVjdCBzY2hlbWEgaW5zdGFuY2UgKGVpdGhlciB2MyBvciB2NCkuXG4qIEByZXR1cm5zIHtJbnRlcm9wWm9kT2JqZWN0fSBUaGUgcGFydGlhbCBab2Qgb2JqZWN0IHNjaGVtYS5cbiogQHRocm93cyB7RXJyb3J9IElmIHRoZSBzY2hlbWEgaXMgbm90IGEgWm9kIHYzIG9yIHY0IG9iamVjdC5cbiovXG5mdW5jdGlvbiBpbnRlcm9wWm9kT2JqZWN0UGFydGlhbChzY2hlbWEpIHtcblx0aWYgKGlzWm9kU2NoZW1hVjMoc2NoZW1hKSkgcmV0dXJuIHNjaGVtYS5wYXJ0aWFsKCk7XG5cdGlmIChpc1pvZFNjaGVtYVY0KHNjaGVtYSkpIHJldHVybiB1dGlsLnBhcnRpYWwoJFpvZE9wdGlvbmFsLCBzY2hlbWEsIHZvaWQgMCk7XG5cdHRocm93IG5ldyBFcnJvcihcIlNjaGVtYSBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIHozLlpvZE9iamVjdCBvciB6NC4kWm9kT2JqZWN0XCIpO1xufVxuLyoqXG4qIFJldHVybnMgYSBzdHJpY3QgdmVyc2lvbiBvZiBhIFpvZCBvYmplY3Qgc2NoZW1hLCBkaXNhbGxvd2luZyB1bmtub3duIGtleXMuXG4qIFN1cHBvcnRzIGJvdGggWm9kIHYzIGFuZCB2NCBvYmplY3Qgc2NoZW1hcy4gSWYgYHJlY3Vyc2l2ZWAgaXMgdHJ1ZSwgYXBwbGllcyBzdHJpY3RuZXNzXG4qIHJlY3Vyc2l2ZWx5IHRvIGFsbCBuZXN0ZWQgb2JqZWN0IHNjaGVtYXMgYW5kIGFycmF5cyBvZiBvYmplY3Qgc2NoZW1hcy5cbipcbiogQHRlbXBsYXRlIFQgLSBUaGUgdHlwZSBvZiB0aGUgWm9kIG9iamVjdCBzY2hlbWEuXG4qIEBwYXJhbSB7VH0gc2NoZW1hIC0gVGhlIFpvZCBvYmplY3Qgc2NoZW1hIGluc3RhbmNlIChlaXRoZXIgdjMgb3IgdjQpLlxuKiBAcGFyYW0ge2Jvb2xlYW59IFtyZWN1cnNpdmU9ZmFsc2VdIC0gV2hldGhlciB0byBhcHBseSBzdHJpY3RuZXNzIHJlY3Vyc2l2ZWx5IHRvIG5lc3RlZCBvYmplY3RzL2FycmF5cy5cbiogQHJldHVybnMge0ludGVyb3Bab2RPYmplY3R9IFRoZSBzdHJpY3QgWm9kIG9iamVjdCBzY2hlbWEuXG4qIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgc2NoZW1hIGlzIG5vdCBhIFpvZCB2MyBvciB2NCBvYmplY3QuXG4qL1xuZnVuY3Rpb24gaW50ZXJvcFpvZE9iamVjdFN0cmljdChzY2hlbWEsIHJlY3Vyc2l2ZSA9IGZhbHNlKSB7XG5cdGlmIChpc1pvZFNjaGVtYVYzKHNjaGVtYSkpIHJldHVybiBzY2hlbWEuc3RyaWN0KCk7XG5cdGlmIChpc1pvZE9iamVjdFY0KHNjaGVtYSkpIHtcblx0XHRjb25zdCBvdXRwdXRTaGFwZSA9IHNjaGVtYS5fem9kLmRlZi5zaGFwZTtcblx0XHRpZiAocmVjdXJzaXZlKSBmb3IgKGNvbnN0IFtrZXksIGtleVNjaGVtYV0gb2YgT2JqZWN0LmVudHJpZXMoc2NoZW1hLl96b2QuZGVmLnNoYXBlKSkge1xuXHRcdFx0aWYgKGlzWm9kT2JqZWN0VjQoa2V5U2NoZW1hKSkge1xuXHRcdFx0XHRjb25zdCBvdXRwdXRTY2hlbWEgPSBpbnRlcm9wWm9kT2JqZWN0U3RyaWN0KGtleVNjaGVtYSwgcmVjdXJzaXZlKTtcblx0XHRcdFx0b3V0cHV0U2hhcGVba2V5XSA9IG91dHB1dFNjaGVtYTtcblx0XHRcdH0gZWxzZSBpZiAoaXNab2RBcnJheVY0KGtleVNjaGVtYSkpIHtcblx0XHRcdFx0bGV0IGVsZW1lbnRTY2hlbWEgPSBrZXlTY2hlbWEuX3pvZC5kZWYuZWxlbWVudDtcblx0XHRcdFx0aWYgKGlzWm9kT2JqZWN0VjQoZWxlbWVudFNjaGVtYSkpIGVsZW1lbnRTY2hlbWEgPSBpbnRlcm9wWm9kT2JqZWN0U3RyaWN0KGVsZW1lbnRTY2hlbWEsIHJlY3Vyc2l2ZSk7XG5cdFx0XHRcdG91dHB1dFNoYXBlW2tleV0gPSBjbG9uZShrZXlTY2hlbWEsIHtcblx0XHRcdFx0XHQuLi5rZXlTY2hlbWEuX3pvZC5kZWYsXG5cdFx0XHRcdFx0ZWxlbWVudDogZWxlbWVudFNjaGVtYVxuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSBvdXRwdXRTaGFwZVtrZXldID0ga2V5U2NoZW1hO1xuXHRcdFx0Y29uc3QgbWV0YSQxID0gZ2xvYmFsUmVnaXN0cnkuZ2V0KGtleVNjaGVtYSk7XG5cdFx0XHRpZiAobWV0YSQxKSBnbG9iYWxSZWdpc3RyeS5hZGQob3V0cHV0U2hhcGVba2V5XSwgbWV0YSQxKTtcblx0XHR9XG5cdFx0Y29uc3QgbW9kaWZpZWRTY2hlbWEgPSBjbG9uZShzY2hlbWEsIHtcblx0XHRcdC4uLnNjaGVtYS5fem9kLmRlZixcblx0XHRcdHNoYXBlOiBvdXRwdXRTaGFwZSxcblx0XHRcdGNhdGNoYWxsOiBfbmV2ZXIoJFpvZE5ldmVyKVxuXHRcdH0pO1xuXHRcdGNvbnN0IG1ldGEgPSBnbG9iYWxSZWdpc3RyeS5nZXQoc2NoZW1hKTtcblx0XHRpZiAobWV0YSkgZ2xvYmFsUmVnaXN0cnkuYWRkKG1vZGlmaWVkU2NoZW1hLCBtZXRhKTtcblx0XHRyZXR1cm4gbW9kaWZpZWRTY2hlbWE7XG5cdH1cblx0dGhyb3cgbmV3IEVycm9yKFwiU2NoZW1hIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgejMuWm9kT2JqZWN0IG9yIHo0LiRab2RPYmplY3RcIik7XG59XG4vKipcbiogUmV0dXJucyBhIHBhc3N0aHJvdWdoIHZlcnNpb24gb2YgYSBab2Qgb2JqZWN0IHNjaGVtYSwgYWxsb3dpbmcgdW5rbm93biBrZXlzLlxuKiBTdXBwb3J0cyBib3RoIFpvZCB2MyBhbmQgdjQgb2JqZWN0IHNjaGVtYXMuIElmIGByZWN1cnNpdmVgIGlzIHRydWUsIGFwcGxpZXMgcGFzc3Rocm91Z2hcbiogcmVjdXJzaXZlbHkgdG8gYWxsIG5lc3RlZCBvYmplY3Qgc2NoZW1hcyBhbmQgYXJyYXlzIG9mIG9iamVjdCBzY2hlbWFzLlxuKlxuKiBAdGVtcGxhdGUgVCAtIFRoZSB0eXBlIG9mIHRoZSBab2Qgb2JqZWN0IHNjaGVtYS5cbiogQHBhcmFtIHtUfSBzY2hlbWEgLSBUaGUgWm9kIG9iamVjdCBzY2hlbWEgaW5zdGFuY2UgKGVpdGhlciB2MyBvciB2NCkuXG4qIEBwYXJhbSB7Ym9vbGVhbn0gW3JlY3Vyc2l2ZT1mYWxzZV0gLSBXaGV0aGVyIHRvIGFwcGx5IHBhc3N0aHJvdWdoIHJlY3Vyc2l2ZWx5IHRvIG5lc3RlZCBvYmplY3RzL2FycmF5cy5cbiogQHJldHVybnMge0ludGVyb3Bab2RPYmplY3R9IFRoZSBwYXNzdGhyb3VnaCBab2Qgb2JqZWN0IHNjaGVtYS5cbiogQHRocm93cyB7RXJyb3J9IElmIHRoZSBzY2hlbWEgaXMgbm90IGEgWm9kIHYzIG9yIHY0IG9iamVjdC5cbiovXG5mdW5jdGlvbiBpbnRlcm9wWm9kT2JqZWN0UGFzc3Rocm91Z2goc2NoZW1hLCByZWN1cnNpdmUgPSBmYWxzZSkge1xuXHRpZiAoaXNab2RPYmplY3RWMyhzY2hlbWEpKSByZXR1cm4gc2NoZW1hLnBhc3N0aHJvdWdoKCk7XG5cdGlmIChpc1pvZE9iamVjdFY0KHNjaGVtYSkpIHtcblx0XHRjb25zdCBvdXRwdXRTaGFwZSA9IHNjaGVtYS5fem9kLmRlZi5zaGFwZTtcblx0XHRpZiAocmVjdXJzaXZlKSBmb3IgKGNvbnN0IFtrZXksIGtleVNjaGVtYV0gb2YgT2JqZWN0LmVudHJpZXMoc2NoZW1hLl96b2QuZGVmLnNoYXBlKSkge1xuXHRcdFx0aWYgKGlzWm9kT2JqZWN0VjQoa2V5U2NoZW1hKSkge1xuXHRcdFx0XHRjb25zdCBvdXRwdXRTY2hlbWEgPSBpbnRlcm9wWm9kT2JqZWN0UGFzc3Rocm91Z2goa2V5U2NoZW1hLCByZWN1cnNpdmUpO1xuXHRcdFx0XHRvdXRwdXRTaGFwZVtrZXldID0gb3V0cHV0U2NoZW1hO1xuXHRcdFx0fSBlbHNlIGlmIChpc1pvZEFycmF5VjQoa2V5U2NoZW1hKSkge1xuXHRcdFx0XHRsZXQgZWxlbWVudFNjaGVtYSA9IGtleVNjaGVtYS5fem9kLmRlZi5lbGVtZW50O1xuXHRcdFx0XHRpZiAoaXNab2RPYmplY3RWNChlbGVtZW50U2NoZW1hKSkgZWxlbWVudFNjaGVtYSA9IGludGVyb3Bab2RPYmplY3RQYXNzdGhyb3VnaChlbGVtZW50U2NoZW1hLCByZWN1cnNpdmUpO1xuXHRcdFx0XHRvdXRwdXRTaGFwZVtrZXldID0gY2xvbmUoa2V5U2NoZW1hLCB7XG5cdFx0XHRcdFx0Li4ua2V5U2NoZW1hLl96b2QuZGVmLFxuXHRcdFx0XHRcdGVsZW1lbnQ6IGVsZW1lbnRTY2hlbWFcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Ugb3V0cHV0U2hhcGVba2V5XSA9IGtleVNjaGVtYTtcblx0XHRcdGNvbnN0IG1ldGEkMSA9IGdsb2JhbFJlZ2lzdHJ5LmdldChrZXlTY2hlbWEpO1xuXHRcdFx0aWYgKG1ldGEkMSkgZ2xvYmFsUmVnaXN0cnkuYWRkKG91dHB1dFNoYXBlW2tleV0sIG1ldGEkMSk7XG5cdFx0fVxuXHRcdGNvbnN0IG1vZGlmaWVkU2NoZW1hID0gY2xvbmUoc2NoZW1hLCB7XG5cdFx0XHQuLi5zY2hlbWEuX3pvZC5kZWYsXG5cdFx0XHRzaGFwZTogb3V0cHV0U2hhcGUsXG5cdFx0XHRjYXRjaGFsbDogX3Vua25vd24oJFpvZFVua25vd24pXG5cdFx0fSk7XG5cdFx0Y29uc3QgbWV0YSA9IGdsb2JhbFJlZ2lzdHJ5LmdldChzY2hlbWEpO1xuXHRcdGlmIChtZXRhKSBnbG9iYWxSZWdpc3RyeS5hZGQobW9kaWZpZWRTY2hlbWEsIG1ldGEpO1xuXHRcdHJldHVybiBtb2RpZmllZFNjaGVtYTtcblx0fVxuXHR0aHJvdyBuZXcgRXJyb3IoXCJTY2hlbWEgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiB6My5ab2RPYmplY3Qgb3IgejQuJFpvZE9iamVjdFwiKTtcbn1cbi8qKlxuKiBSZXR1cm5zIGEgZ2V0dGVyIGZ1bmN0aW9uIGZvciB0aGUgZGVmYXVsdCB2YWx1ZSBvZiBhIFpvZCBzY2hlbWEsIGlmIG9uZSBpcyBkZWZpbmVkLlxuKiBTdXBwb3J0cyBib3RoIFpvZCB2MyBhbmQgdjQgc2NoZW1hcy4gSWYgdGhlIHNjaGVtYSBoYXMgYSBkZWZhdWx0IHZhbHVlLFxuKiB0aGUgcmV0dXJuZWQgZnVuY3Rpb24gd2lsbCByZXR1cm4gdGhhdCB2YWx1ZSB3aGVuIGNhbGxlZC4gSWYgbm8gZGVmYXVsdCBpcyBkZWZpbmVkLFxuKiByZXR1cm5zIHVuZGVmaW5lZC5cbipcbiogQHRlbXBsYXRlIFQgLSBUaGUgdHlwZSBvZiB0aGUgWm9kIHNjaGVtYS5cbiogQHBhcmFtIHtUfSBzY2hlbWEgLSBUaGUgWm9kIHNjaGVtYSBpbnN0YW5jZSAoZWl0aGVyIHYzIG9yIHY0KS5cbiogQHJldHVybnMgeygoKSA9PiBJbmZlckludGVyb3Bab2RPdXRwdXQ8VD4pIHwgdW5kZWZpbmVkfSBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZSwgb3IgdW5kZWZpbmVkIGlmIG5vIGRlZmF1bHQgaXMgc2V0LlxuKi9cbmZ1bmN0aW9uIGdldEludGVyb3Bab2REZWZhdWx0R2V0dGVyKHNjaGVtYSkge1xuXHRpZiAoaXNab2RTY2hlbWFWMyhzY2hlbWEpKSB0cnkge1xuXHRcdGNvbnN0IGRlZmF1bHRWYWx1ZSA9IHNjaGVtYS5wYXJzZSh2b2lkIDApO1xuXHRcdHJldHVybiAoKSA9PiBkZWZhdWx0VmFsdWU7XG5cdH0gY2F0Y2gge1xuXHRcdHJldHVybiB2b2lkIDA7XG5cdH1cblx0aWYgKGlzWm9kU2NoZW1hVjQoc2NoZW1hKSkgdHJ5IHtcblx0XHRjb25zdCBkZWZhdWx0VmFsdWUgPSBwYXJzZShzY2hlbWEsIHZvaWQgMCk7XG5cdFx0cmV0dXJuICgpID0+IGRlZmF1bHRWYWx1ZTtcblx0fSBjYXRjaCB7XG5cdFx0cmV0dXJuIHZvaWQgMDtcblx0fVxuXHRyZXR1cm4gdm9pZCAwO1xufVxuZnVuY3Rpb24gaXNab2RUcmFuc2Zvcm1WMyhzY2hlbWEpIHtcblx0cmV0dXJuIGlzWm9kU2NoZW1hVjMoc2NoZW1hKSAmJiBcInR5cGVOYW1lXCIgaW4gc2NoZW1hLl9kZWYgJiYgc2NoZW1hLl9kZWYudHlwZU5hbWUgPT09IFwiWm9kRWZmZWN0c1wiO1xufVxuZnVuY3Rpb24gaXNab2RUcmFuc2Zvcm1WNChzY2hlbWEpIHtcblx0cmV0dXJuIGlzWm9kU2NoZW1hVjQoc2NoZW1hKSAmJiBzY2hlbWEuX3pvZC5kZWYudHlwZSA9PT0gXCJwaXBlXCI7XG59XG5mdW5jdGlvbiBpbnRlcm9wWm9kVHJhbnNmb3JtSW5wdXRTY2hlbWFJbXBsKHNjaGVtYSwgcmVjdXJzaXZlLCBjYWNoZSkge1xuXHRjb25zdCBjYWNoZWQgPSBjYWNoZS5nZXQoc2NoZW1hKTtcblx0aWYgKGNhY2hlZCAhPT0gdm9pZCAwKSByZXR1cm4gY2FjaGVkO1xuXHRpZiAoaXNab2RTY2hlbWFWMyhzY2hlbWEpKSB7XG5cdFx0aWYgKGlzWm9kVHJhbnNmb3JtVjMoc2NoZW1hKSkgcmV0dXJuIGludGVyb3Bab2RUcmFuc2Zvcm1JbnB1dFNjaGVtYUltcGwoc2NoZW1hLl9kZWYuc2NoZW1hLCByZWN1cnNpdmUsIGNhY2hlKTtcblx0XHRyZXR1cm4gc2NoZW1hO1xuXHR9XG5cdGlmIChpc1pvZFNjaGVtYVY0KHNjaGVtYSkpIHtcblx0XHRsZXQgb3V0cHV0U2NoZW1hID0gc2NoZW1hO1xuXHRcdGlmIChpc1pvZFRyYW5zZm9ybVY0KHNjaGVtYSkpIG91dHB1dFNjaGVtYSA9IGludGVyb3Bab2RUcmFuc2Zvcm1JbnB1dFNjaGVtYUltcGwoc2NoZW1hLl96b2QuZGVmLmluLCByZWN1cnNpdmUsIGNhY2hlKTtcblx0XHRpZiAocmVjdXJzaXZlKSB7XG5cdFx0XHRpZiAoaXNab2RPYmplY3RWNChvdXRwdXRTY2hlbWEpKSB7XG5cdFx0XHRcdGNvbnN0IG91dHB1dFNoYXBlID0ge307XG5cdFx0XHRcdGZvciAoY29uc3QgW2tleSwga2V5U2NoZW1hXSBvZiBPYmplY3QuZW50cmllcyhvdXRwdXRTY2hlbWEuX3pvZC5kZWYuc2hhcGUpKSBvdXRwdXRTaGFwZVtrZXldID0gaW50ZXJvcFpvZFRyYW5zZm9ybUlucHV0U2NoZW1hSW1wbChrZXlTY2hlbWEsIHJlY3Vyc2l2ZSwgY2FjaGUpO1xuXHRcdFx0XHRvdXRwdXRTY2hlbWEgPSBjbG9uZShvdXRwdXRTY2hlbWEsIHtcblx0XHRcdFx0XHQuLi5vdXRwdXRTY2hlbWEuX3pvZC5kZWYsXG5cdFx0XHRcdFx0c2hhcGU6IG91dHB1dFNoYXBlXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIGlmIChpc1pvZEFycmF5VjQob3V0cHV0U2NoZW1hKSkge1xuXHRcdFx0XHRjb25zdCBlbGVtZW50U2NoZW1hID0gaW50ZXJvcFpvZFRyYW5zZm9ybUlucHV0U2NoZW1hSW1wbChvdXRwdXRTY2hlbWEuX3pvZC5kZWYuZWxlbWVudCwgcmVjdXJzaXZlLCBjYWNoZSk7XG5cdFx0XHRcdG91dHB1dFNjaGVtYSA9IGNsb25lKG91dHB1dFNjaGVtYSwge1xuXHRcdFx0XHRcdC4uLm91dHB1dFNjaGVtYS5fem9kLmRlZixcblx0XHRcdFx0XHRlbGVtZW50OiBlbGVtZW50U2NoZW1hXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIGlmIChpc1pvZE9wdGlvbmFsVjQob3V0cHV0U2NoZW1hKSkge1xuXHRcdFx0XHRjb25zdCBpbm5lclNjaGVtYSA9IGludGVyb3Bab2RUcmFuc2Zvcm1JbnB1dFNjaGVtYUltcGwob3V0cHV0U2NoZW1hLl96b2QuZGVmLmlubmVyVHlwZSwgcmVjdXJzaXZlLCBjYWNoZSk7XG5cdFx0XHRcdG91dHB1dFNjaGVtYSA9IGNsb25lKG91dHB1dFNjaGVtYSwge1xuXHRcdFx0XHRcdC4uLm91dHB1dFNjaGVtYS5fem9kLmRlZixcblx0XHRcdFx0XHRpbm5lclR5cGU6IGlubmVyU2NoZW1hXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIGlmIChpc1pvZE51bGxhYmxlVjQob3V0cHV0U2NoZW1hKSkge1xuXHRcdFx0XHRjb25zdCBpbm5lclNjaGVtYSA9IGludGVyb3Bab2RUcmFuc2Zvcm1JbnB1dFNjaGVtYUltcGwob3V0cHV0U2NoZW1hLl96b2QuZGVmLmlubmVyVHlwZSwgcmVjdXJzaXZlLCBjYWNoZSk7XG5cdFx0XHRcdG91dHB1dFNjaGVtYSA9IGNsb25lKG91dHB1dFNjaGVtYSwge1xuXHRcdFx0XHRcdC4uLm91dHB1dFNjaGVtYS5fem9kLmRlZixcblx0XHRcdFx0XHRpbm5lclR5cGU6IGlubmVyU2NoZW1hXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRjb25zdCBtZXRhID0gZ2xvYmFsUmVnaXN0cnkuZ2V0KHNjaGVtYSk7XG5cdFx0aWYgKG1ldGEpIGdsb2JhbFJlZ2lzdHJ5LmFkZChvdXRwdXRTY2hlbWEsIG1ldGEpO1xuXHRcdGNhY2hlLnNldChzY2hlbWEsIG91dHB1dFNjaGVtYSk7XG5cdFx0cmV0dXJuIG91dHB1dFNjaGVtYTtcblx0fVxuXHR0aHJvdyBuZXcgRXJyb3IoXCJTY2hlbWEgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiB6My5ab2RUeXBlIG9yIHo0LiRab2RUeXBlXCIpO1xufVxuLyoqXG4qIFJldHVybnMgdGhlIGlucHV0IHR5cGUgb2YgYSBab2QgdHJhbnNmb3JtIHNjaGVtYSwgZm9yIGJvdGggdjMgYW5kIHY0LlxuKiBJZiB0aGUgc2NoZW1hIGlzIG5vdCBhIHRyYW5zZm9ybSwgcmV0dXJucyB1bmRlZmluZWQuIElmIGByZWN1cnNpdmVgIGlzIHRydWUsXG4qIHJlY3Vyc2l2ZWx5IHByb2Nlc3NlcyBuZXN0ZWQgb2JqZWN0IHNjaGVtYXMgYW5kIGFycmF5cyBvZiBvYmplY3Qgc2NoZW1hcy5cbipcbiogQHBhcmFtIHNjaGVtYSAtIFRoZSBab2Qgc2NoZW1hIGluc3RhbmNlICh2MyBvciB2NClcbiogQHBhcmFtIHtib29sZWFufSBbcmVjdXJzaXZlPWZhbHNlXSAtIFdoZXRoZXIgdG8gcmVjdXJzaXZlbHkgcHJvY2VzcyBuZXN0ZWQgb2JqZWN0cy9hcnJheXMuXG4qIEByZXR1cm5zIFRoZSBpbnB1dCBab2Qgc2NoZW1hIG9mIHRoZSB0cmFuc2Zvcm0sIG9yIHVuZGVmaW5lZCBpZiBub3QgYSB0cmFuc2Zvcm1cbiovXG5mdW5jdGlvbiBpbnRlcm9wWm9kVHJhbnNmb3JtSW5wdXRTY2hlbWEoc2NoZW1hLCByZWN1cnNpdmUgPSBmYWxzZSkge1xuXHRjb25zdCBjYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuXHRyZXR1cm4gaW50ZXJvcFpvZFRyYW5zZm9ybUlucHV0U2NoZW1hSW1wbChzY2hlbWEsIHJlY3Vyc2l2ZSwgY2FjaGUpO1xufVxuLyoqXG4qIENyZWF0ZXMgYSBtb2RpZmllZCB2ZXJzaW9uIG9mIGEgWm9kIG9iamVjdCBzY2hlbWEgd2hlcmUgZmllbGRzIG1hdGNoaW5nIGEgcHJlZGljYXRlIGFyZSBtYWRlIG9wdGlvbmFsLlxuKiBTdXBwb3J0cyBib3RoIFpvZCB2MyBhbmQgdjQgc2NoZW1hcyBhbmQgcHJlc2VydmVzIHRoZSBvcmlnaW5hbCBzY2hlbWEgdmVyc2lvbi5cbipcbiogQHRlbXBsYXRlIFQgLSBUaGUgdHlwZSBvZiB0aGUgWm9kIG9iamVjdCBzY2hlbWEuXG4qIEBwYXJhbSB7VH0gc2NoZW1hIC0gVGhlIFpvZCBvYmplY3Qgc2NoZW1hIGluc3RhbmNlIChlaXRoZXIgdjMgb3IgdjQpLlxuKiBAcGFyYW0geyhrZXk6IHN0cmluZywgdmFsdWU6IEludGVyb3Bab2RUeXBlKSA9PiBib29sZWFufSBwcmVkaWNhdGUgLSBGdW5jdGlvbiB0byBkZXRlcm1pbmUgd2hpY2ggZmllbGRzIHNob3VsZCBiZSBvcHRpb25hbC5cbiogQHJldHVybnMge0ludGVyb3Bab2RPYmplY3R9IFRoZSBtb2RpZmllZCBab2Qgb2JqZWN0IHNjaGVtYS5cbiogQHRocm93cyB7RXJyb3J9IElmIHRoZSBzY2hlbWEgaXMgbm90IGEgWm9kIHYzIG9yIHY0IG9iamVjdC5cbiovXG5mdW5jdGlvbiBpbnRlcm9wWm9kT2JqZWN0TWFrZUZpZWxkc09wdGlvbmFsKHNjaGVtYSwgcHJlZGljYXRlKSB7XG5cdGlmIChpc1pvZFNjaGVtYVYzKHNjaGVtYSkpIHtcblx0XHRjb25zdCBzaGFwZSA9IGdldEludGVyb3Bab2RPYmplY3RTaGFwZShzY2hlbWEpO1xuXHRcdGNvbnN0IG1vZGlmaWVkU2hhcGUgPSB7fTtcblx0XHRmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhzaGFwZSkpIGlmIChwcmVkaWNhdGUoa2V5LCB2YWx1ZSkpIG1vZGlmaWVkU2hhcGVba2V5XSA9IHZhbHVlLm9wdGlvbmFsKCk7XG5cdFx0ZWxzZSBtb2RpZmllZFNoYXBlW2tleV0gPSB2YWx1ZTtcblx0XHRyZXR1cm4gc2NoZW1hLmV4dGVuZChtb2RpZmllZFNoYXBlKTtcblx0fVxuXHRpZiAoaXNab2RTY2hlbWFWNChzY2hlbWEpKSB7XG5cdFx0Y29uc3Qgc2hhcGUgPSBnZXRJbnRlcm9wWm9kT2JqZWN0U2hhcGUoc2NoZW1hKTtcblx0XHRjb25zdCBvdXRwdXRTaGFwZSA9IHsgLi4uc2NoZW1hLl96b2QuZGVmLnNoYXBlIH07XG5cdFx0Zm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoc2hhcGUpKSBpZiAocHJlZGljYXRlKGtleSwgdmFsdWUpKSBvdXRwdXRTaGFwZVtrZXldID0gbmV3ICRab2RPcHRpb25hbCh7XG5cdFx0XHR0eXBlOiBcIm9wdGlvbmFsXCIsXG5cdFx0XHRpbm5lclR5cGU6IHZhbHVlXG5cdFx0fSk7XG5cdFx0Y29uc3QgbW9kaWZpZWRTY2hlbWEgPSBjbG9uZShzY2hlbWEsIHtcblx0XHRcdC4uLnNjaGVtYS5fem9kLmRlZixcblx0XHRcdHNoYXBlOiBvdXRwdXRTaGFwZVxuXHRcdH0pO1xuXHRcdGNvbnN0IG1ldGEgPSBnbG9iYWxSZWdpc3RyeS5nZXQoc2NoZW1hKTtcblx0XHRpZiAobWV0YSkgZ2xvYmFsUmVnaXN0cnkuYWRkKG1vZGlmaWVkU2NoZW1hLCBtZXRhKTtcblx0XHRyZXR1cm4gbW9kaWZpZWRTY2hlbWE7XG5cdH1cblx0dGhyb3cgbmV3IEVycm9yKFwiU2NoZW1hIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgejMuWm9kT2JqZWN0IG9yIHo0LiRab2RPYmplY3RcIik7XG59XG5mdW5jdGlvbiBpc0ludGVyb3Bab2RFcnJvcihlKSB7XG5cdHJldHVybiBlIGluc3RhbmNlb2YgRXJyb3IgJiYgKGUuY29uc3RydWN0b3IubmFtZSA9PT0gXCJab2RFcnJvclwiIHx8IGUuY29uc3RydWN0b3IubmFtZSA9PT0gXCIkWm9kRXJyb3JcIik7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgZXh0ZW5kSW50ZXJvcFpvZE9iamVjdCwgZ2V0SW50ZXJvcFpvZERlZmF1bHRHZXR0ZXIsIGdldEludGVyb3Bab2RPYmplY3RTaGFwZSwgZ2V0U2NoZW1hRGVzY3JpcHRpb24sIGludGVyb3BQYXJzZSwgaW50ZXJvcFBhcnNlQXN5bmMsIGludGVyb3BTYWZlUGFyc2UsIGludGVyb3BTYWZlUGFyc2VBc3luYywgaW50ZXJvcFpvZE9iamVjdE1ha2VGaWVsZHNPcHRpb25hbCwgaW50ZXJvcFpvZE9iamVjdFBhcnRpYWwsIGludGVyb3Bab2RPYmplY3RQYXNzdGhyb3VnaCwgaW50ZXJvcFpvZE9iamVjdFN0cmljdCwgaW50ZXJvcFpvZFRyYW5zZm9ybUlucHV0U2NoZW1hLCBpc0ludGVyb3Bab2RFcnJvciwgaXNJbnRlcm9wWm9kTGl0ZXJhbCwgaXNJbnRlcm9wWm9kT2JqZWN0LCBpc0ludGVyb3Bab2RTY2hlbWEsIGlzU2hhcGVsZXNzWm9kU2NoZW1hLCBpc1NpbXBsZVN0cmluZ1pvZFNjaGVtYSwgaXNab2RBcnJheVY0LCBpc1pvZExpdGVyYWxWMywgaXNab2RMaXRlcmFsVjQsIGlzWm9kTnVsbGFibGVWNCwgaXNab2RPYmplY3RWMywgaXNab2RPYmplY3RWNCwgaXNab2RPcHRpb25hbFY0LCBpc1pvZFNjaGVtYSwgaXNab2RTY2hlbWFWMywgaXNab2RTY2hlbWFWNCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9em9kLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/types/zod.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/Options.js":
/*!**************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/Options.js ***!
  \**************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   defaultOptions: () => (/* binding */ defaultOptions),\n/* harmony export */   getDefaultOptions: () => (/* binding */ getDefaultOptions),\n/* harmony export */   ignoreOverride: () => (/* binding */ ignoreOverride)\n/* harmony export */ });\n//#region src/utils/zod-to-json-schema/Options.ts\nconst ignoreOverride = Symbol(\"Let zodToJsonSchema decide on which parser to use\");\nconst defaultOptions = {\n\tname: void 0,\n\t$refStrategy: \"root\",\n\tbasePath: [\"#\"],\n\teffectStrategy: \"input\",\n\tpipeStrategy: \"all\",\n\tdateStrategy: \"format:date-time\",\n\tmapStrategy: \"entries\",\n\tremoveAdditionalStrategy: \"passthrough\",\n\tallowedAdditionalProperties: true,\n\trejectedAdditionalProperties: false,\n\tdefinitionPath: \"definitions\",\n\ttarget: \"jsonSchema7\",\n\tstrictUnions: false,\n\tdefinitions: {},\n\terrorMessages: false,\n\tmarkdownDescription: false,\n\tpatternStrategy: \"escape\",\n\tapplyRegexFlags: false,\n\temailStrategy: \"format:email\",\n\tbase64Strategy: \"contentEncoding:base64\",\n\tnameStrategy: \"ref\",\n\topenAiAnyTypeName: \"OpenAiAnyType\"\n};\nconst getDefaultOptions = (options) => typeof options === \"string\" ? {\n\t...defaultOptions,\n\tname: options\n} : {\n\t...defaultOptions,\n\t...options\n};\n\n//#endregion\n\n//# sourceMappingURL=Options.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9PcHRpb25zLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBRUE7QUFDNkQ7QUFDN0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL09wdGlvbnMuanM/NGFmNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyNyZWdpb24gc3JjL3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9PcHRpb25zLnRzXG5jb25zdCBpZ25vcmVPdmVycmlkZSA9IFN5bWJvbChcIkxldCB6b2RUb0pzb25TY2hlbWEgZGVjaWRlIG9uIHdoaWNoIHBhcnNlciB0byB1c2VcIik7XG5jb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcblx0bmFtZTogdm9pZCAwLFxuXHQkcmVmU3RyYXRlZ3k6IFwicm9vdFwiLFxuXHRiYXNlUGF0aDogW1wiI1wiXSxcblx0ZWZmZWN0U3RyYXRlZ3k6IFwiaW5wdXRcIixcblx0cGlwZVN0cmF0ZWd5OiBcImFsbFwiLFxuXHRkYXRlU3RyYXRlZ3k6IFwiZm9ybWF0OmRhdGUtdGltZVwiLFxuXHRtYXBTdHJhdGVneTogXCJlbnRyaWVzXCIsXG5cdHJlbW92ZUFkZGl0aW9uYWxTdHJhdGVneTogXCJwYXNzdGhyb3VnaFwiLFxuXHRhbGxvd2VkQWRkaXRpb25hbFByb3BlcnRpZXM6IHRydWUsXG5cdHJlamVjdGVkQWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlLFxuXHRkZWZpbml0aW9uUGF0aDogXCJkZWZpbml0aW9uc1wiLFxuXHR0YXJnZXQ6IFwianNvblNjaGVtYTdcIixcblx0c3RyaWN0VW5pb25zOiBmYWxzZSxcblx0ZGVmaW5pdGlvbnM6IHt9LFxuXHRlcnJvck1lc3NhZ2VzOiBmYWxzZSxcblx0bWFya2Rvd25EZXNjcmlwdGlvbjogZmFsc2UsXG5cdHBhdHRlcm5TdHJhdGVneTogXCJlc2NhcGVcIixcblx0YXBwbHlSZWdleEZsYWdzOiBmYWxzZSxcblx0ZW1haWxTdHJhdGVneTogXCJmb3JtYXQ6ZW1haWxcIixcblx0YmFzZTY0U3RyYXRlZ3k6IFwiY29udGVudEVuY29kaW5nOmJhc2U2NFwiLFxuXHRuYW1lU3RyYXRlZ3k6IFwicmVmXCIsXG5cdG9wZW5BaUFueVR5cGVOYW1lOiBcIk9wZW5BaUFueVR5cGVcIlxufTtcbmNvbnN0IGdldERlZmF1bHRPcHRpb25zID0gKG9wdGlvbnMpID0+IHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiID8ge1xuXHQuLi5kZWZhdWx0T3B0aW9ucyxcblx0bmFtZTogb3B0aW9uc1xufSA6IHtcblx0Li4uZGVmYXVsdE9wdGlvbnMsXG5cdC4uLm9wdGlvbnNcbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgZGVmYXVsdE9wdGlvbnMsIGdldERlZmF1bHRPcHRpb25zLCBpZ25vcmVPdmVycmlkZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T3B0aW9ucy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/Options.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/Refs.js":
/*!***********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/Refs.js ***!
  \***********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getRefs: () => (/* binding */ getRefs)\n/* harmony export */ });\n/* harmony import */ var _Options_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Options.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/Options.js\");\n\n\n//#region src/utils/zod-to-json-schema/Refs.ts\nconst getRefs = (options) => {\n\tconst _options = (0,_Options_js__WEBPACK_IMPORTED_MODULE_0__.getDefaultOptions)(options);\n\tconst currentPath = _options.name !== void 0 ? [\n\t\t..._options.basePath,\n\t\t_options.definitionPath,\n\t\t_options.name\n\t] : _options.basePath;\n\treturn {\n\t\t..._options,\n\t\tflags: { hasReferencedOpenAiAnyType: false },\n\t\tcurrentPath,\n\t\tpropertyPath: void 0,\n\t\tseen: new Map(Object.entries(_options.definitions).map(([name, def]) => [def._def, {\n\t\t\tdef: def._def,\n\t\t\tpath: [\n\t\t\t\t..._options.basePath,\n\t\t\t\t_options.definitionPath,\n\t\t\t\tname\n\t\t\t],\n\t\t\tjsonSchema: void 0\n\t\t}]))\n\t};\n};\n\n//#endregion\n\n//# sourceMappingURL=Refs.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9SZWZzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWlEOztBQUVqRDtBQUNBO0FBQ0Esa0JBQWtCLDhEQUFpQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsbUNBQW1DO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDbUI7QUFDbkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL1JlZnMuanM/ZTU0OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gXCIuL09wdGlvbnMuanNcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvUmVmcy50c1xuY29uc3QgZ2V0UmVmcyA9IChvcHRpb25zKSA9PiB7XG5cdGNvbnN0IF9vcHRpb25zID0gZ2V0RGVmYXVsdE9wdGlvbnMob3B0aW9ucyk7XG5cdGNvbnN0IGN1cnJlbnRQYXRoID0gX29wdGlvbnMubmFtZSAhPT0gdm9pZCAwID8gW1xuXHRcdC4uLl9vcHRpb25zLmJhc2VQYXRoLFxuXHRcdF9vcHRpb25zLmRlZmluaXRpb25QYXRoLFxuXHRcdF9vcHRpb25zLm5hbWVcblx0XSA6IF9vcHRpb25zLmJhc2VQYXRoO1xuXHRyZXR1cm4ge1xuXHRcdC4uLl9vcHRpb25zLFxuXHRcdGZsYWdzOiB7IGhhc1JlZmVyZW5jZWRPcGVuQWlBbnlUeXBlOiBmYWxzZSB9LFxuXHRcdGN1cnJlbnRQYXRoLFxuXHRcdHByb3BlcnR5UGF0aDogdm9pZCAwLFxuXHRcdHNlZW46IG5ldyBNYXAoT2JqZWN0LmVudHJpZXMoX29wdGlvbnMuZGVmaW5pdGlvbnMpLm1hcCgoW25hbWUsIGRlZl0pID0+IFtkZWYuX2RlZiwge1xuXHRcdFx0ZGVmOiBkZWYuX2RlZixcblx0XHRcdHBhdGg6IFtcblx0XHRcdFx0Li4uX29wdGlvbnMuYmFzZVBhdGgsXG5cdFx0XHRcdF9vcHRpb25zLmRlZmluaXRpb25QYXRoLFxuXHRcdFx0XHRuYW1lXG5cdFx0XHRdLFxuXHRcdFx0anNvblNjaGVtYTogdm9pZCAwXG5cdFx0fV0pKVxuXHR9O1xufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBnZXRSZWZzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZWZzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/Refs.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/errorMessages.js":
/*!********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/errorMessages.js ***!
  \********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addErrorMessage: () => (/* binding */ addErrorMessage),\n/* harmony export */   setResponseValueAndErrors: () => (/* binding */ setResponseValueAndErrors)\n/* harmony export */ });\n//#region src/utils/zod-to-json-schema/errorMessages.ts\nfunction addErrorMessage(res, key, errorMessage, refs) {\n\tif (!refs?.errorMessages) return;\n\tif (errorMessage) res.errorMessage = {\n\t\t...res.errorMessage,\n\t\t[key]: errorMessage\n\t};\n}\nfunction setResponseValueAndErrors(res, key, value, errorMessage, refs) {\n\tres[key] = value;\n\taddErrorMessage(res, key, errorMessage, refs);\n}\n\n//#endregion\n\n//# sourceMappingURL=errorMessages.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9lcnJvck1lc3NhZ2VzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3NEO0FBQ3REIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9lcnJvck1lc3NhZ2VzLmpzPzA5M2MiXSwic291cmNlc0NvbnRlbnQiOlsiLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvZXJyb3JNZXNzYWdlcy50c1xuZnVuY3Rpb24gYWRkRXJyb3JNZXNzYWdlKHJlcywga2V5LCBlcnJvck1lc3NhZ2UsIHJlZnMpIHtcblx0aWYgKCFyZWZzPy5lcnJvck1lc3NhZ2VzKSByZXR1cm47XG5cdGlmIChlcnJvck1lc3NhZ2UpIHJlcy5lcnJvck1lc3NhZ2UgPSB7XG5cdFx0Li4ucmVzLmVycm9yTWVzc2FnZSxcblx0XHRba2V5XTogZXJyb3JNZXNzYWdlXG5cdH07XG59XG5mdW5jdGlvbiBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywga2V5LCB2YWx1ZSwgZXJyb3JNZXNzYWdlLCByZWZzKSB7XG5cdHJlc1trZXldID0gdmFsdWU7XG5cdGFkZEVycm9yTWVzc2FnZShyZXMsIGtleSwgZXJyb3JNZXNzYWdlLCByZWZzKTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBhZGRFcnJvck1lc3NhZ2UsIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9yTWVzc2FnZXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/errorMessages.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/getRelativePath.js":
/*!**********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/getRelativePath.js ***!
  \**********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getRelativePath: () => (/* binding */ getRelativePath)\n/* harmony export */ });\n//#region src/utils/zod-to-json-schema/getRelativePath.ts\nconst getRelativePath = (pathA, pathB) => {\n\tlet i = 0;\n\tfor (; i < pathA.length && i < pathB.length; i++) if (pathA[i] !== pathB[i]) break;\n\treturn [(pathA.length - i).toString(), ...pathB.slice(i)].join(\"/\");\n};\n\n//#endregion\n\n//# sourceMappingURL=getRelativePath.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9nZXRSZWxhdGl2ZVBhdGguanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsc0NBQXNDO0FBQzlDO0FBQ0E7O0FBRUE7QUFDMkI7QUFDM0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL2dldFJlbGF0aXZlUGF0aC5qcz84MzRkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vI3JlZ2lvbiBzcmMvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL2dldFJlbGF0aXZlUGF0aC50c1xuY29uc3QgZ2V0UmVsYXRpdmVQYXRoID0gKHBhdGhBLCBwYXRoQikgPT4ge1xuXHRsZXQgaSA9IDA7XG5cdGZvciAoOyBpIDwgcGF0aEEubGVuZ3RoICYmIGkgPCBwYXRoQi5sZW5ndGg7IGkrKykgaWYgKHBhdGhBW2ldICE9PSBwYXRoQltpXSkgYnJlYWs7XG5cdHJldHVybiBbKHBhdGhBLmxlbmd0aCAtIGkpLnRvU3RyaW5nKCksIC4uLnBhdGhCLnNsaWNlKGkpXS5qb2luKFwiL1wiKTtcbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgZ2V0UmVsYXRpdmVQYXRoIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRSZWxhdGl2ZVBhdGguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/getRelativePath.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/index.js":
/*!************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/index.js ***!
  \************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Options_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Options.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/Options.js\");\n/* harmony import */ var _Refs_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Refs.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/Refs.js\");\n/* harmony import */ var _errorMessages_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./errorMessages.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/errorMessages.js\");\n/* harmony import */ var _getRelativePath_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./getRelativePath.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/getRelativePath.js\");\n/* harmony import */ var _parsers_any_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./parsers/any.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.js\");\n/* harmony import */ var _parsers_array_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./parsers/array.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/array.js\");\n/* harmony import */ var _parsers_bigint_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./parsers/bigint.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/bigint.js\");\n/* harmony import */ var _parsers_boolean_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./parsers/boolean.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/boolean.js\");\n/* harmony import */ var _parsers_branded_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./parsers/branded.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/branded.js\");\n/* harmony import */ var _parsers_catch_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./parsers/catch.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/catch.js\");\n/* harmony import */ var _parsers_date_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./parsers/date.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/date.js\");\n/* harmony import */ var _parsers_default_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./parsers/default.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/default.js\");\n/* harmony import */ var _parsers_effects_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./parsers/effects.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/effects.js\");\n/* harmony import */ var _parsers_enum_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./parsers/enum.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/enum.js\");\n/* harmony import */ var _parsers_intersection_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./parsers/intersection.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/intersection.js\");\n/* harmony import */ var _parsers_literal_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./parsers/literal.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/literal.js\");\n/* harmony import */ var _parsers_string_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./parsers/string.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/string.js\");\n/* harmony import */ var _parsers_record_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./parsers/record.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/record.js\");\n/* harmony import */ var _parsers_map_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./parsers/map.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/map.js\");\n/* harmony import */ var _parsers_nativeEnum_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./parsers/nativeEnum.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/nativeEnum.js\");\n/* harmony import */ var _parsers_never_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./parsers/never.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/never.js\");\n/* harmony import */ var _parsers_null_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./parsers/null.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/null.js\");\n/* harmony import */ var _parsers_union_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./parsers/union.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/union.js\");\n/* harmony import */ var _parsers_nullable_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./parsers/nullable.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/nullable.js\");\n/* harmony import */ var _parsers_number_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./parsers/number.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/number.js\");\n/* harmony import */ var _parsers_object_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./parsers/object.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/object.js\");\n/* harmony import */ var _parsers_optional_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./parsers/optional.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/optional.js\");\n/* harmony import */ var _parsers_pipeline_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./parsers/pipeline.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/pipeline.js\");\n/* harmony import */ var _parsers_promise_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./parsers/promise.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/promise.js\");\n/* harmony import */ var _parsers_set_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./parsers/set.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/set.js\");\n/* harmony import */ var _parsers_tuple_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./parsers/tuple.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/tuple.js\");\n/* harmony import */ var _parsers_undefined_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./parsers/undefined.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/undefined.js\");\n/* harmony import */ var _parsers_unknown_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./parsers/unknown.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/unknown.js\");\n/* harmony import */ var _parsers_readonly_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./parsers/readonly.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/readonly.js\");\n/* harmony import */ var _selectParser_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./selectParser.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/selectParser.js\");\n/* harmony import */ var _parseDef_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./parseDef.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\");\n/* harmony import */ var _zodToJsonSchema_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./zodToJsonSchema.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/zodToJsonSchema.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFpRjtBQUM3QztBQUM0QztBQUN6QjtBQUNSO0FBQ0k7QUFDRTtBQUNFO0FBQ0E7QUFDSjtBQUNGO0FBQ007QUFDQTtBQUNOO0FBQ2dCO0FBQ1Y7QUFDVztBQUNiO0FBQ047QUFDYztBQUNWO0FBQ0Y7QUFDcUI7QUFDYjtBQUNKO0FBQ0E7QUFDSTtBQUNBO0FBQ0Y7QUFDUjtBQUNJO0FBQ1E7QUFDSjtBQUNFO0FBQ1I7QUFDUjtBQUNjIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9pbmRleC5qcz80Zjc1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRlZmF1bHRPcHRpb25zLCBnZXREZWZhdWx0T3B0aW9ucywgaWdub3JlT3ZlcnJpZGUgfSBmcm9tIFwiLi9PcHRpb25zLmpzXCI7XG5pbXBvcnQgeyBnZXRSZWZzIH0gZnJvbSBcIi4vUmVmcy5qc1wiO1xuaW1wb3J0IHsgYWRkRXJyb3JNZXNzYWdlLCBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzIH0gZnJvbSBcIi4vZXJyb3JNZXNzYWdlcy5qc1wiO1xuaW1wb3J0IHsgZ2V0UmVsYXRpdmVQYXRoIH0gZnJvbSBcIi4vZ2V0UmVsYXRpdmVQYXRoLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUFueURlZiB9IGZyb20gXCIuL3BhcnNlcnMvYW55LmpzXCI7XG5pbXBvcnQgeyBwYXJzZUFycmF5RGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9hcnJheS5qc1wiO1xuaW1wb3J0IHsgcGFyc2VCaWdpbnREZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2JpZ2ludC5qc1wiO1xuaW1wb3J0IHsgcGFyc2VCb29sZWFuRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9ib29sZWFuLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUJyYW5kZWREZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2JyYW5kZWQuanNcIjtcbmltcG9ydCB7IHBhcnNlQ2F0Y2hEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2NhdGNoLmpzXCI7XG5pbXBvcnQgeyBwYXJzZURhdGVEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2RhdGUuanNcIjtcbmltcG9ydCB7IHBhcnNlRGVmYXVsdERlZiB9IGZyb20gXCIuL3BhcnNlcnMvZGVmYXVsdC5qc1wiO1xuaW1wb3J0IHsgcGFyc2VFZmZlY3RzRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9lZmZlY3RzLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUVudW1EZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2VudW0uanNcIjtcbmltcG9ydCB7IHBhcnNlSW50ZXJzZWN0aW9uRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9pbnRlcnNlY3Rpb24uanNcIjtcbmltcG9ydCB7IHBhcnNlTGl0ZXJhbERlZiB9IGZyb20gXCIuL3BhcnNlcnMvbGl0ZXJhbC5qc1wiO1xuaW1wb3J0IHsgcGFyc2VTdHJpbmdEZWYsIHpvZFBhdHRlcm5zIH0gZnJvbSBcIi4vcGFyc2Vycy9zdHJpbmcuanNcIjtcbmltcG9ydCB7IHBhcnNlUmVjb3JkRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9yZWNvcmQuanNcIjtcbmltcG9ydCB7IHBhcnNlTWFwRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9tYXAuanNcIjtcbmltcG9ydCB7IHBhcnNlTmF0aXZlRW51bURlZiB9IGZyb20gXCIuL3BhcnNlcnMvbmF0aXZlRW51bS5qc1wiO1xuaW1wb3J0IHsgcGFyc2VOZXZlckRlZiB9IGZyb20gXCIuL3BhcnNlcnMvbmV2ZXIuanNcIjtcbmltcG9ydCB7IHBhcnNlTnVsbERlZiB9IGZyb20gXCIuL3BhcnNlcnMvbnVsbC5qc1wiO1xuaW1wb3J0IHsgcGFyc2VVbmlvbkRlZiwgcHJpbWl0aXZlTWFwcGluZ3MgfSBmcm9tIFwiLi9wYXJzZXJzL3VuaW9uLmpzXCI7XG5pbXBvcnQgeyBwYXJzZU51bGxhYmxlRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9udWxsYWJsZS5qc1wiO1xuaW1wb3J0IHsgcGFyc2VOdW1iZXJEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL251bWJlci5qc1wiO1xuaW1wb3J0IHsgcGFyc2VPYmplY3REZWYgfSBmcm9tIFwiLi9wYXJzZXJzL29iamVjdC5qc1wiO1xuaW1wb3J0IHsgcGFyc2VPcHRpb25hbERlZiB9IGZyb20gXCIuL3BhcnNlcnMvb3B0aW9uYWwuanNcIjtcbmltcG9ydCB7IHBhcnNlUGlwZWxpbmVEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL3BpcGVsaW5lLmpzXCI7XG5pbXBvcnQgeyBwYXJzZVByb21pc2VEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL3Byb21pc2UuanNcIjtcbmltcG9ydCB7IHBhcnNlU2V0RGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9zZXQuanNcIjtcbmltcG9ydCB7IHBhcnNlVHVwbGVEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL3R1cGxlLmpzXCI7XG5pbXBvcnQgeyBwYXJzZVVuZGVmaW5lZERlZiB9IGZyb20gXCIuL3BhcnNlcnMvdW5kZWZpbmVkLmpzXCI7XG5pbXBvcnQgeyBwYXJzZVVua25vd25EZWYgfSBmcm9tIFwiLi9wYXJzZXJzL3Vua25vd24uanNcIjtcbmltcG9ydCB7IHBhcnNlUmVhZG9ubHlEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL3JlYWRvbmx5LmpzXCI7XG5pbXBvcnQgeyBzZWxlY3RQYXJzZXIgfSBmcm9tIFwiLi9zZWxlY3RQYXJzZXIuanNcIjtcbmltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4vcGFyc2VEZWYuanNcIjtcbmltcG9ydCB7IHpvZFRvSnNvblNjaGVtYSB9IGZyb20gXCIuL3pvZFRvSnNvblNjaGVtYS5qc1wiO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js":
/*!***************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js ***!
  \***************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseDef: () => (/* binding */ parseDef)\n/* harmony export */ });\n/* harmony import */ var _Options_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Options.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/Options.js\");\n/* harmony import */ var _getRelativePath_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getRelativePath.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/getRelativePath.js\");\n/* harmony import */ var _parsers_any_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./parsers/any.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.js\");\n/* harmony import */ var _selectParser_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./selectParser.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/selectParser.js\");\n\n\n\n\n\n//#region src/utils/zod-to-json-schema/parseDef.ts\nfunction parseDef(def, refs, forceResolution = false) {\n\tconst seenItem = refs.seen.get(def);\n\tif (refs.override) {\n\t\tconst overrideResult = refs.override?.(def, refs, seenItem, forceResolution);\n\t\tif (overrideResult !== _Options_js__WEBPACK_IMPORTED_MODULE_0__.ignoreOverride) return overrideResult;\n\t}\n\tif (seenItem && !forceResolution) {\n\t\tconst seenSchema = get$ref(seenItem, refs);\n\t\tif (seenSchema !== void 0) return seenSchema;\n\t}\n\tconst newItem = {\n\t\tdef,\n\t\tpath: refs.currentPath,\n\t\tjsonSchema: void 0\n\t};\n\trefs.seen.set(def, newItem);\n\tconst jsonSchemaOrGetter = (0,_selectParser_js__WEBPACK_IMPORTED_MODULE_3__.selectParser)(def, def.typeName, refs);\n\tconst jsonSchema = typeof jsonSchemaOrGetter === \"function\" ? parseDef(jsonSchemaOrGetter(), refs) : jsonSchemaOrGetter;\n\tif (jsonSchema) addMeta(def, refs, jsonSchema);\n\tif (refs.postProcess) {\n\t\tconst postProcessResult = refs.postProcess(jsonSchema, def, refs);\n\t\tnewItem.jsonSchema = jsonSchema;\n\t\treturn postProcessResult;\n\t}\n\tnewItem.jsonSchema = jsonSchema;\n\treturn jsonSchema;\n}\nconst get$ref = (item, refs) => {\n\tswitch (refs.$refStrategy) {\n\t\tcase \"root\": return { $ref: item.path.join(\"/\") };\n\t\tcase \"relative\": return { $ref: (0,_getRelativePath_js__WEBPACK_IMPORTED_MODULE_1__.getRelativePath)(refs.currentPath, item.path) };\n\t\tcase \"none\":\n\t\tcase \"seen\":\n\t\t\tif (item.path.length < refs.currentPath.length && item.path.every((value, index) => refs.currentPath[index] === value)) {\n\t\t\t\tconsole.warn(`Recursive reference detected at ${refs.currentPath.join(\"/\")}! Defaulting to any`);\n\t\t\t\treturn (0,_parsers_any_js__WEBPACK_IMPORTED_MODULE_2__.parseAnyDef)(refs);\n\t\t\t}\n\t\t\treturn refs.$refStrategy === \"seen\" ? (0,_parsers_any_js__WEBPACK_IMPORTED_MODULE_2__.parseAnyDef)(refs) : void 0;\n\t}\n};\nconst addMeta = (def, refs, jsonSchema) => {\n\tif (def.description) {\n\t\tjsonSchema.description = def.description;\n\t\tif (refs.markdownDescription) jsonSchema.markdownDescription = def.description;\n\t}\n\treturn jsonSchema;\n};\n\n//#endregion\n\n//# sourceMappingURL=parseDef.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZURlZi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUE4QztBQUNTO0FBQ1I7QUFDRTs7QUFFakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qix1REFBYztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDhEQUFZO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4Qiw0QkFBNEIsTUFBTSxvRUFBZTtBQUNqRDtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsMkJBQTJCO0FBQy9FLFdBQVcsNERBQVc7QUFDdEI7QUFDQSx5Q0FBeUMsNERBQVc7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ29CO0FBQ3BCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZURlZi5qcz9mY2ZhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlnbm9yZU92ZXJyaWRlIH0gZnJvbSBcIi4vT3B0aW9ucy5qc1wiO1xuaW1wb3J0IHsgZ2V0UmVsYXRpdmVQYXRoIH0gZnJvbSBcIi4vZ2V0UmVsYXRpdmVQYXRoLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUFueURlZiB9IGZyb20gXCIuL3BhcnNlcnMvYW55LmpzXCI7XG5pbXBvcnQgeyBzZWxlY3RQYXJzZXIgfSBmcm9tIFwiLi9zZWxlY3RQYXJzZXIuanNcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2VEZWYudHNcbmZ1bmN0aW9uIHBhcnNlRGVmKGRlZiwgcmVmcywgZm9yY2VSZXNvbHV0aW9uID0gZmFsc2UpIHtcblx0Y29uc3Qgc2Vlbkl0ZW0gPSByZWZzLnNlZW4uZ2V0KGRlZik7XG5cdGlmIChyZWZzLm92ZXJyaWRlKSB7XG5cdFx0Y29uc3Qgb3ZlcnJpZGVSZXN1bHQgPSByZWZzLm92ZXJyaWRlPy4oZGVmLCByZWZzLCBzZWVuSXRlbSwgZm9yY2VSZXNvbHV0aW9uKTtcblx0XHRpZiAob3ZlcnJpZGVSZXN1bHQgIT09IGlnbm9yZU92ZXJyaWRlKSByZXR1cm4gb3ZlcnJpZGVSZXN1bHQ7XG5cdH1cblx0aWYgKHNlZW5JdGVtICYmICFmb3JjZVJlc29sdXRpb24pIHtcblx0XHRjb25zdCBzZWVuU2NoZW1hID0gZ2V0JHJlZihzZWVuSXRlbSwgcmVmcyk7XG5cdFx0aWYgKHNlZW5TY2hlbWEgIT09IHZvaWQgMCkgcmV0dXJuIHNlZW5TY2hlbWE7XG5cdH1cblx0Y29uc3QgbmV3SXRlbSA9IHtcblx0XHRkZWYsXG5cdFx0cGF0aDogcmVmcy5jdXJyZW50UGF0aCxcblx0XHRqc29uU2NoZW1hOiB2b2lkIDBcblx0fTtcblx0cmVmcy5zZWVuLnNldChkZWYsIG5ld0l0ZW0pO1xuXHRjb25zdCBqc29uU2NoZW1hT3JHZXR0ZXIgPSBzZWxlY3RQYXJzZXIoZGVmLCBkZWYudHlwZU5hbWUsIHJlZnMpO1xuXHRjb25zdCBqc29uU2NoZW1hID0gdHlwZW9mIGpzb25TY2hlbWFPckdldHRlciA9PT0gXCJmdW5jdGlvblwiID8gcGFyc2VEZWYoanNvblNjaGVtYU9yR2V0dGVyKCksIHJlZnMpIDoganNvblNjaGVtYU9yR2V0dGVyO1xuXHRpZiAoanNvblNjaGVtYSkgYWRkTWV0YShkZWYsIHJlZnMsIGpzb25TY2hlbWEpO1xuXHRpZiAocmVmcy5wb3N0UHJvY2Vzcykge1xuXHRcdGNvbnN0IHBvc3RQcm9jZXNzUmVzdWx0ID0gcmVmcy5wb3N0UHJvY2Vzcyhqc29uU2NoZW1hLCBkZWYsIHJlZnMpO1xuXHRcdG5ld0l0ZW0uanNvblNjaGVtYSA9IGpzb25TY2hlbWE7XG5cdFx0cmV0dXJuIHBvc3RQcm9jZXNzUmVzdWx0O1xuXHR9XG5cdG5ld0l0ZW0uanNvblNjaGVtYSA9IGpzb25TY2hlbWE7XG5cdHJldHVybiBqc29uU2NoZW1hO1xufVxuY29uc3QgZ2V0JHJlZiA9IChpdGVtLCByZWZzKSA9PiB7XG5cdHN3aXRjaCAocmVmcy4kcmVmU3RyYXRlZ3kpIHtcblx0XHRjYXNlIFwicm9vdFwiOiByZXR1cm4geyAkcmVmOiBpdGVtLnBhdGguam9pbihcIi9cIikgfTtcblx0XHRjYXNlIFwicmVsYXRpdmVcIjogcmV0dXJuIHsgJHJlZjogZ2V0UmVsYXRpdmVQYXRoKHJlZnMuY3VycmVudFBhdGgsIGl0ZW0ucGF0aCkgfTtcblx0XHRjYXNlIFwibm9uZVwiOlxuXHRcdGNhc2UgXCJzZWVuXCI6XG5cdFx0XHRpZiAoaXRlbS5wYXRoLmxlbmd0aCA8IHJlZnMuY3VycmVudFBhdGgubGVuZ3RoICYmIGl0ZW0ucGF0aC5ldmVyeSgodmFsdWUsIGluZGV4KSA9PiByZWZzLmN1cnJlbnRQYXRoW2luZGV4XSA9PT0gdmFsdWUpKSB7XG5cdFx0XHRcdGNvbnNvbGUud2FybihgUmVjdXJzaXZlIHJlZmVyZW5jZSBkZXRlY3RlZCBhdCAke3JlZnMuY3VycmVudFBhdGguam9pbihcIi9cIil9ISBEZWZhdWx0aW5nIHRvIGFueWApO1xuXHRcdFx0XHRyZXR1cm4gcGFyc2VBbnlEZWYocmVmcyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVmcy4kcmVmU3RyYXRlZ3kgPT09IFwic2VlblwiID8gcGFyc2VBbnlEZWYocmVmcykgOiB2b2lkIDA7XG5cdH1cbn07XG5jb25zdCBhZGRNZXRhID0gKGRlZiwgcmVmcywganNvblNjaGVtYSkgPT4ge1xuXHRpZiAoZGVmLmRlc2NyaXB0aW9uKSB7XG5cdFx0anNvblNjaGVtYS5kZXNjcmlwdGlvbiA9IGRlZi5kZXNjcmlwdGlvbjtcblx0XHRpZiAocmVmcy5tYXJrZG93bkRlc2NyaXB0aW9uKSBqc29uU2NoZW1hLm1hcmtkb3duRGVzY3JpcHRpb24gPSBkZWYuZGVzY3JpcHRpb247XG5cdH1cblx0cmV0dXJuIGpzb25TY2hlbWE7XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IHBhcnNlRGVmIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJzZURlZi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.js":
/*!******************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.js ***!
  \******************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseAnyDef: () => (/* binding */ parseAnyDef)\n/* harmony export */ });\n/* harmony import */ var _getRelativePath_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../getRelativePath.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/getRelativePath.js\");\n\n\n//#region src/utils/zod-to-json-schema/parsers/any.ts\nfunction parseAnyDef(refs) {\n\tif (refs.target !== \"openAi\") return {};\n\tconst anyDefinitionPath = [\n\t\t...refs.basePath,\n\t\trefs.definitionPath,\n\t\trefs.openAiAnyTypeName\n\t];\n\trefs.flags.hasReferencedOpenAiAnyType = true;\n\treturn { $ref: refs.$refStrategy === \"relative\" ? (0,_getRelativePath_js__WEBPACK_IMPORTED_MODULE_0__.getRelativePath)(anyDefinitionPath, refs.currentPath) : anyDefinitionPath.join(\"/\") };\n}\n\n//#endregion\n\n//# sourceMappingURL=any.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2FueS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUF3RDs7QUFFeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSx5Q0FBeUMsb0VBQWU7QUFDbEU7O0FBRUE7QUFDdUI7QUFDdkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvYW55LmpzPzQ2YzIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0UmVsYXRpdmVQYXRoIH0gZnJvbSBcIi4uL2dldFJlbGF0aXZlUGF0aC5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2FueS50c1xuZnVuY3Rpb24gcGFyc2VBbnlEZWYocmVmcykge1xuXHRpZiAocmVmcy50YXJnZXQgIT09IFwib3BlbkFpXCIpIHJldHVybiB7fTtcblx0Y29uc3QgYW55RGVmaW5pdGlvblBhdGggPSBbXG5cdFx0Li4ucmVmcy5iYXNlUGF0aCxcblx0XHRyZWZzLmRlZmluaXRpb25QYXRoLFxuXHRcdHJlZnMub3BlbkFpQW55VHlwZU5hbWVcblx0XTtcblx0cmVmcy5mbGFncy5oYXNSZWZlcmVuY2VkT3BlbkFpQW55VHlwZSA9IHRydWU7XG5cdHJldHVybiB7ICRyZWY6IHJlZnMuJHJlZlN0cmF0ZWd5ID09PSBcInJlbGF0aXZlXCIgPyBnZXRSZWxhdGl2ZVBhdGgoYW55RGVmaW5pdGlvblBhdGgsIHJlZnMuY3VycmVudFBhdGgpIDogYW55RGVmaW5pdGlvblBhdGguam9pbihcIi9cIikgfTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBwYXJzZUFueURlZiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YW55LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/array.js":
/*!********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/array.js ***!
  \********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseArrayDef: () => (/* binding */ parseArrayDef)\n/* harmony export */ });\n/* harmony import */ var _errorMessages_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errorMessages.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/errorMessages.js\");\n/* harmony import */ var _parseDef_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../parseDef.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\");\n/* harmony import */ var zod_v3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zod/v3 */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+zod@4.3.6/node_modules/zod/v3/index.js\");\n\n\n\n\n//#region src/utils/zod-to-json-schema/parsers/array.ts\nfunction parseArrayDef(def, refs) {\n\tconst res = { type: \"array\" };\n\tif (def.type?._def && def.type?._def?.typeName !== zod_v3__WEBPACK_IMPORTED_MODULE_2__.ZodFirstPartyTypeKind.ZodAny) res.items = (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_1__.parseDef)(def.type._def, {\n\t\t...refs,\n\t\tcurrentPath: [...refs.currentPath, \"items\"]\n\t});\n\tif (def.minLength) (0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"minItems\", def.minLength.value, def.minLength.message, refs);\n\tif (def.maxLength) (0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"maxItems\", def.maxLength.value, def.maxLength.message, refs);\n\tif (def.exactLength) {\n\t\t(0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"minItems\", def.exactLength.value, def.exactLength.message, refs);\n\t\t(0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"maxItems\", def.exactLength.value, def.exactLength.message, refs);\n\t}\n\treturn res;\n}\n\n//#endregion\n\n//# sourceMappingURL=array.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2FycmF5LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBZ0U7QUFDdEI7QUFDSzs7QUFFL0M7QUFDQTtBQUNBLGVBQWU7QUFDZixvREFBb0QseURBQXFCLHFCQUFxQixzREFBUTtBQUN0RztBQUNBO0FBQ0EsRUFBRTtBQUNGLG9CQUFvQiw0RUFBeUI7QUFDN0Msb0JBQW9CLDRFQUF5QjtBQUM3QztBQUNBLEVBQUUsNEVBQXlCO0FBQzNCLEVBQUUsNEVBQXlCO0FBQzNCO0FBQ0E7QUFDQTs7QUFFQTtBQUN5QjtBQUN6QiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9hcnJheS5qcz9jNTcyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMgfSBmcm9tIFwiLi4vZXJyb3JNZXNzYWdlcy5qc1wiO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYuanNcIjtcbmltcG9ydCB7IFpvZEZpcnN0UGFydHlUeXBlS2luZCB9IGZyb20gXCJ6b2QvdjNcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9hcnJheS50c1xuZnVuY3Rpb24gcGFyc2VBcnJheURlZihkZWYsIHJlZnMpIHtcblx0Y29uc3QgcmVzID0geyB0eXBlOiBcImFycmF5XCIgfTtcblx0aWYgKGRlZi50eXBlPy5fZGVmICYmIGRlZi50eXBlPy5fZGVmPy50eXBlTmFtZSAhPT0gWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEFueSkgcmVzLml0ZW1zID0gcGFyc2VEZWYoZGVmLnR5cGUuX2RlZiwge1xuXHRcdC4uLnJlZnMsXG5cdFx0Y3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcIml0ZW1zXCJdXG5cdH0pO1xuXHRpZiAoZGVmLm1pbkxlbmd0aCkgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwibWluSXRlbXNcIiwgZGVmLm1pbkxlbmd0aC52YWx1ZSwgZGVmLm1pbkxlbmd0aC5tZXNzYWdlLCByZWZzKTtcblx0aWYgKGRlZi5tYXhMZW5ndGgpIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcIm1heEl0ZW1zXCIsIGRlZi5tYXhMZW5ndGgudmFsdWUsIGRlZi5tYXhMZW5ndGgubWVzc2FnZSwgcmVmcyk7XG5cdGlmIChkZWYuZXhhY3RMZW5ndGgpIHtcblx0XHRzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgXCJtaW5JdGVtc1wiLCBkZWYuZXhhY3RMZW5ndGgudmFsdWUsIGRlZi5leGFjdExlbmd0aC5tZXNzYWdlLCByZWZzKTtcblx0XHRzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgXCJtYXhJdGVtc1wiLCBkZWYuZXhhY3RMZW5ndGgudmFsdWUsIGRlZi5leGFjdExlbmd0aC5tZXNzYWdlLCByZWZzKTtcblx0fVxuXHRyZXR1cm4gcmVzO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IHBhcnNlQXJyYXlEZWYgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFycmF5LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/array.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/bigint.js":
/*!*********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/bigint.js ***!
  \*********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseBigintDef: () => (/* binding */ parseBigintDef)\n/* harmony export */ });\n/* harmony import */ var _errorMessages_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errorMessages.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/errorMessages.js\");\n\n\n//#region src/utils/zod-to-json-schema/parsers/bigint.ts\nfunction parseBigintDef(def, refs) {\n\tconst res = {\n\t\ttype: \"integer\",\n\t\tformat: \"int64\"\n\t};\n\tif (!def.checks) return res;\n\tfor (const check of def.checks) switch (check.kind) {\n\t\tcase \"min\":\n\t\t\tif (refs.target === \"jsonSchema7\") if (check.inclusive) (0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"minimum\", check.value, check.message, refs);\n\t\t\telse (0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"exclusiveMinimum\", check.value, check.message, refs);\n\t\t\telse {\n\t\t\t\tif (!check.inclusive) res.exclusiveMinimum = true;\n\t\t\t\t(0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"minimum\", check.value, check.message, refs);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"max\":\n\t\t\tif (refs.target === \"jsonSchema7\") if (check.inclusive) (0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"maximum\", check.value, check.message, refs);\n\t\t\telse (0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"exclusiveMaximum\", check.value, check.message, refs);\n\t\t\telse {\n\t\t\t\tif (!check.inclusive) res.exclusiveMaximum = true;\n\t\t\t\t(0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"maximum\", check.value, check.message, refs);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"multipleOf\":\n\t\t\t(0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"multipleOf\", check.value, check.message, refs);\n\t\t\tbreak;\n\t}\n\treturn res;\n}\n\n//#endregion\n\n//# sourceMappingURL=bigint.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2JpZ2ludC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFnRTs7QUFFaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELDRFQUF5QjtBQUNwRixRQUFRLDRFQUF5QjtBQUNqQztBQUNBO0FBQ0EsSUFBSSw0RUFBeUI7QUFDN0I7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELDRFQUF5QjtBQUNwRixRQUFRLDRFQUF5QjtBQUNqQztBQUNBO0FBQ0EsSUFBSSw0RUFBeUI7QUFDN0I7QUFDQTtBQUNBO0FBQ0EsR0FBRyw0RUFBeUI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDMEI7QUFDMUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvYmlnaW50LmpzPzFkZTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyB9IGZyb20gXCIuLi9lcnJvck1lc3NhZ2VzLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvYmlnaW50LnRzXG5mdW5jdGlvbiBwYXJzZUJpZ2ludERlZihkZWYsIHJlZnMpIHtcblx0Y29uc3QgcmVzID0ge1xuXHRcdHR5cGU6IFwiaW50ZWdlclwiLFxuXHRcdGZvcm1hdDogXCJpbnQ2NFwiXG5cdH07XG5cdGlmICghZGVmLmNoZWNrcykgcmV0dXJuIHJlcztcblx0Zm9yIChjb25zdCBjaGVjayBvZiBkZWYuY2hlY2tzKSBzd2l0Y2ggKGNoZWNrLmtpbmQpIHtcblx0XHRjYXNlIFwibWluXCI6XG5cdFx0XHRpZiAocmVmcy50YXJnZXQgPT09IFwianNvblNjaGVtYTdcIikgaWYgKGNoZWNrLmluY2x1c2l2ZSkgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwibWluaW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG5cdFx0XHRlbHNlIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcImV4Y2x1c2l2ZU1pbmltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGlmICghY2hlY2suaW5jbHVzaXZlKSByZXMuZXhjbHVzaXZlTWluaW11bSA9IHRydWU7XG5cdFx0XHRcdHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcIm1pbmltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0fVxuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcIm1heFwiOlxuXHRcdFx0aWYgKHJlZnMudGFyZ2V0ID09PSBcImpzb25TY2hlbWE3XCIpIGlmIChjaGVjay5pbmNsdXNpdmUpIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcIm1heGltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0ZWxzZSBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgXCJleGNsdXNpdmVNYXhpbXVtXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRpZiAoIWNoZWNrLmluY2x1c2l2ZSkgcmVzLmV4Y2x1c2l2ZU1heGltdW0gPSB0cnVlO1xuXHRcdFx0XHRzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgXCJtYXhpbXVtXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdH1cblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJtdWx0aXBsZU9mXCI6XG5cdFx0XHRzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgXCJtdWx0aXBsZU9mXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGJyZWFrO1xuXHR9XG5cdHJldHVybiByZXM7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgcGFyc2VCaWdpbnREZWYgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJpZ2ludC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/bigint.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/boolean.js":
/*!**********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/boolean.js ***!
  \**********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseBooleanDef: () => (/* binding */ parseBooleanDef)\n/* harmony export */ });\n//#region src/utils/zod-to-json-schema/parsers/boolean.ts\nfunction parseBooleanDef() {\n\treturn { type: \"boolean\" };\n}\n\n//#endregion\n\n//# sourceMappingURL=boolean.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2Jvb2xlYW4uanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7O0FBRUE7QUFDMkI7QUFDM0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvYm9vbGVhbi5qcz8xODcyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vI3JlZ2lvbiBzcmMvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvYm9vbGVhbi50c1xuZnVuY3Rpb24gcGFyc2VCb29sZWFuRGVmKCkge1xuXHRyZXR1cm4geyB0eXBlOiBcImJvb2xlYW5cIiB9O1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IHBhcnNlQm9vbGVhbkRlZiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Ym9vbGVhbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/boolean.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/branded.js":
/*!**********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/branded.js ***!
  \**********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseBrandedDef: () => (/* binding */ parseBrandedDef)\n/* harmony export */ });\n/* harmony import */ var _parseDef_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../parseDef.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\");\n\n\n//#region src/utils/zod-to-json-schema/parsers/branded.ts\nfunction parseBrandedDef(_def, refs) {\n\treturn (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_0__.parseDef)(_def.type._def, refs);\n}\n\n//#endregion\n\n//# sourceMappingURL=branded.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2JyYW5kZWQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBMEM7O0FBRTFDO0FBQ0E7QUFDQSxRQUFRLHNEQUFRO0FBQ2hCOztBQUVBO0FBQzJCO0FBQzNCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2JyYW5kZWQuanM/ZWQ2ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2JyYW5kZWQudHNcbmZ1bmN0aW9uIHBhcnNlQnJhbmRlZERlZihfZGVmLCByZWZzKSB7XG5cdHJldHVybiBwYXJzZURlZihfZGVmLnR5cGUuX2RlZiwgcmVmcyk7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgcGFyc2VCcmFuZGVkRGVmIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1icmFuZGVkLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/branded.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/catch.js":
/*!********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/catch.js ***!
  \********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseCatchDef: () => (/* binding */ parseCatchDef)\n/* harmony export */ });\n/* harmony import */ var _parseDef_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../parseDef.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\");\n\n\n//#region src/utils/zod-to-json-schema/parsers/catch.ts\nconst parseCatchDef = (def, refs) => {\n\treturn (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_0__.parseDef)(def.innerType._def, refs);\n};\n\n//#endregion\n\n//# sourceMappingURL=catch.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2NhdGNoLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTBDOztBQUUxQztBQUNBO0FBQ0EsUUFBUSxzREFBUTtBQUNoQjs7QUFFQTtBQUN5QjtBQUN6QiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9jYXRjaC5qcz81NjIzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvY2F0Y2gudHNcbmNvbnN0IHBhcnNlQ2F0Y2hEZWYgPSAoZGVmLCByZWZzKSA9PiB7XG5cdHJldHVybiBwYXJzZURlZihkZWYuaW5uZXJUeXBlLl9kZWYsIHJlZnMpO1xufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBwYXJzZUNhdGNoRGVmIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYXRjaC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/catch.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/date.js":
/*!*******************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/date.js ***!
  \*******************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseDateDef: () => (/* binding */ parseDateDef)\n/* harmony export */ });\n/* harmony import */ var _errorMessages_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errorMessages.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/errorMessages.js\");\n\n\n//#region src/utils/zod-to-json-schema/parsers/date.ts\nfunction parseDateDef(def, refs, overrideDateStrategy) {\n\tconst strategy = overrideDateStrategy ?? refs.dateStrategy;\n\tif (Array.isArray(strategy)) return { anyOf: strategy.map((item) => parseDateDef(def, refs, item)) };\n\tswitch (strategy) {\n\t\tcase \"string\":\n\t\tcase \"format:date-time\": return {\n\t\t\ttype: \"string\",\n\t\t\tformat: \"date-time\"\n\t\t};\n\t\tcase \"format:date\": return {\n\t\t\ttype: \"string\",\n\t\t\tformat: \"date\"\n\t\t};\n\t\tcase \"integer\": return integerDateParser(def, refs);\n\t}\n}\nconst integerDateParser = (def, refs) => {\n\tconst res = {\n\t\ttype: \"integer\",\n\t\tformat: \"unix-time\"\n\t};\n\tif (refs.target === \"openApi3\") return res;\n\tfor (const check of def.checks) switch (check.kind) {\n\t\tcase \"min\":\n\t\t\t(0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"minimum\", check.value, check.message, refs);\n\t\t\tbreak;\n\t\tcase \"max\":\n\t\t\t(0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"maximum\", check.value, check.message, refs);\n\t\t\tbreak;\n\t}\n\treturn res;\n};\n\n//#endregion\n\n//# sourceMappingURL=date.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2RhdGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBZ0U7O0FBRWhFO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLDRFQUF5QjtBQUM1QjtBQUNBO0FBQ0EsR0FBRyw0RUFBeUI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDd0I7QUFDeEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvZGF0ZS5qcz81YzU2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMgfSBmcm9tIFwiLi4vZXJyb3JNZXNzYWdlcy5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2RhdGUudHNcbmZ1bmN0aW9uIHBhcnNlRGF0ZURlZihkZWYsIHJlZnMsIG92ZXJyaWRlRGF0ZVN0cmF0ZWd5KSB7XG5cdGNvbnN0IHN0cmF0ZWd5ID0gb3ZlcnJpZGVEYXRlU3RyYXRlZ3kgPz8gcmVmcy5kYXRlU3RyYXRlZ3k7XG5cdGlmIChBcnJheS5pc0FycmF5KHN0cmF0ZWd5KSkgcmV0dXJuIHsgYW55T2Y6IHN0cmF0ZWd5Lm1hcCgoaXRlbSkgPT4gcGFyc2VEYXRlRGVmKGRlZiwgcmVmcywgaXRlbSkpIH07XG5cdHN3aXRjaCAoc3RyYXRlZ3kpIHtcblx0XHRjYXNlIFwic3RyaW5nXCI6XG5cdFx0Y2FzZSBcImZvcm1hdDpkYXRlLXRpbWVcIjogcmV0dXJuIHtcblx0XHRcdHR5cGU6IFwic3RyaW5nXCIsXG5cdFx0XHRmb3JtYXQ6IFwiZGF0ZS10aW1lXCJcblx0XHR9O1xuXHRcdGNhc2UgXCJmb3JtYXQ6ZGF0ZVwiOiByZXR1cm4ge1xuXHRcdFx0dHlwZTogXCJzdHJpbmdcIixcblx0XHRcdGZvcm1hdDogXCJkYXRlXCJcblx0XHR9O1xuXHRcdGNhc2UgXCJpbnRlZ2VyXCI6IHJldHVybiBpbnRlZ2VyRGF0ZVBhcnNlcihkZWYsIHJlZnMpO1xuXHR9XG59XG5jb25zdCBpbnRlZ2VyRGF0ZVBhcnNlciA9IChkZWYsIHJlZnMpID0+IHtcblx0Y29uc3QgcmVzID0ge1xuXHRcdHR5cGU6IFwiaW50ZWdlclwiLFxuXHRcdGZvcm1hdDogXCJ1bml4LXRpbWVcIlxuXHR9O1xuXHRpZiAocmVmcy50YXJnZXQgPT09IFwib3BlbkFwaTNcIikgcmV0dXJuIHJlcztcblx0Zm9yIChjb25zdCBjaGVjayBvZiBkZWYuY2hlY2tzKSBzd2l0Y2ggKGNoZWNrLmtpbmQpIHtcblx0XHRjYXNlIFwibWluXCI6XG5cdFx0XHRzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgXCJtaW5pbXVtXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJtYXhcIjpcblx0XHRcdHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcIm1heGltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0YnJlYWs7XG5cdH1cblx0cmV0dXJuIHJlcztcbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgcGFyc2VEYXRlRGVmIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/date.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/default.js":
/*!**********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/default.js ***!
  \**********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseDefaultDef: () => (/* binding */ parseDefaultDef)\n/* harmony export */ });\n/* harmony import */ var _parseDef_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../parseDef.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\");\n\n\n//#region src/utils/zod-to-json-schema/parsers/default.ts\nfunction parseDefaultDef(_def, refs) {\n\treturn {\n\t\t...(0,_parseDef_js__WEBPACK_IMPORTED_MODULE_0__.parseDef)(_def.innerType._def, refs),\n\t\tdefault: _def.defaultValue()\n\t};\n}\n\n//#endregion\n\n//# sourceMappingURL=default.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2RlZmF1bHQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBMEM7O0FBRTFDO0FBQ0E7QUFDQTtBQUNBLEtBQUssc0RBQVE7QUFDYjtBQUNBO0FBQ0E7O0FBRUE7QUFDMkI7QUFDM0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvZGVmYXVsdC5qcz83MzhlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvZGVmYXVsdC50c1xuZnVuY3Rpb24gcGFyc2VEZWZhdWx0RGVmKF9kZWYsIHJlZnMpIHtcblx0cmV0dXJuIHtcblx0XHQuLi5wYXJzZURlZihfZGVmLmlubmVyVHlwZS5fZGVmLCByZWZzKSxcblx0XHRkZWZhdWx0OiBfZGVmLmRlZmF1bHRWYWx1ZSgpXG5cdH07XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgcGFyc2VEZWZhdWx0RGVmIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWZhdWx0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/default.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/effects.js":
/*!**********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/effects.js ***!
  \**********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseEffectsDef: () => (/* binding */ parseEffectsDef)\n/* harmony export */ });\n/* harmony import */ var _any_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./any.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.js\");\n/* harmony import */ var _parseDef_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../parseDef.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\");\n\n\n\n//#region src/utils/zod-to-json-schema/parsers/effects.ts\nfunction parseEffectsDef(_def, refs) {\n\treturn refs.effectStrategy === \"input\" ? (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_1__.parseDef)(_def.schema._def, refs) : (0,_any_js__WEBPACK_IMPORTED_MODULE_0__.parseAnyDef)(refs);\n}\n\n//#endregion\n\n//# sourceMappingURL=effects.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2VmZmVjdHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXVDO0FBQ0c7O0FBRTFDO0FBQ0E7QUFDQSwwQ0FBMEMsc0RBQVEsMkJBQTJCLG9EQUFXO0FBQ3hGOztBQUVBO0FBQzJCO0FBQzNCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2VmZmVjdHMuanM/MzkyNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwYXJzZUFueURlZiB9IGZyb20gXCIuL2FueS5qc1wiO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYuanNcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9lZmZlY3RzLnRzXG5mdW5jdGlvbiBwYXJzZUVmZmVjdHNEZWYoX2RlZiwgcmVmcykge1xuXHRyZXR1cm4gcmVmcy5lZmZlY3RTdHJhdGVneSA9PT0gXCJpbnB1dFwiID8gcGFyc2VEZWYoX2RlZi5zY2hlbWEuX2RlZiwgcmVmcykgOiBwYXJzZUFueURlZihyZWZzKTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBwYXJzZUVmZmVjdHNEZWYgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVmZmVjdHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/effects.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/enum.js":
/*!*******************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/enum.js ***!
  \*******************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseEnumDef: () => (/* binding */ parseEnumDef)\n/* harmony export */ });\n//#region src/utils/zod-to-json-schema/parsers/enum.ts\nfunction parseEnumDef(def) {\n\treturn {\n\t\ttype: \"string\",\n\t\tenum: Array.from(def.values)\n\t};\n}\n\n//#endregion\n\n//# sourceMappingURL=enum.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2VudW0uanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3dCO0FBQ3hCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2VudW0uanM/MTBlOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyNyZWdpb24gc3JjL3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2VudW0udHNcbmZ1bmN0aW9uIHBhcnNlRW51bURlZihkZWYpIHtcblx0cmV0dXJuIHtcblx0XHR0eXBlOiBcInN0cmluZ1wiLFxuXHRcdGVudW06IEFycmF5LmZyb20oZGVmLnZhbHVlcylcblx0fTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBwYXJzZUVudW1EZWYgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVudW0uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/enum.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/intersection.js":
/*!***************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/intersection.js ***!
  \***************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseIntersectionDef: () => (/* binding */ parseIntersectionDef)\n/* harmony export */ });\n/* harmony import */ var _parseDef_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../parseDef.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\");\n\n\n//#region src/utils/zod-to-json-schema/parsers/intersection.ts\nconst isJsonSchema7AllOfType = (type) => {\n\tif (\"type\" in type && type.type === \"string\") return false;\n\treturn \"allOf\" in type;\n};\nfunction parseIntersectionDef(def, refs) {\n\tconst allOf = [(0,_parseDef_js__WEBPACK_IMPORTED_MODULE_0__.parseDef)(def.left._def, {\n\t\t...refs,\n\t\tcurrentPath: [\n\t\t\t...refs.currentPath,\n\t\t\t\"allOf\",\n\t\t\t\"0\"\n\t\t]\n\t}), (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_0__.parseDef)(def.right._def, {\n\t\t...refs,\n\t\tcurrentPath: [\n\t\t\t...refs.currentPath,\n\t\t\t\"allOf\",\n\t\t\t\"1\"\n\t\t]\n\t})].filter((x) => !!x);\n\tlet unevaluatedProperties = refs.target === \"jsonSchema2019-09\" ? { unevaluatedProperties: false } : void 0;\n\tconst mergedAllOf = [];\n\tallOf.forEach((schema) => {\n\t\tif (isJsonSchema7AllOfType(schema)) {\n\t\t\tmergedAllOf.push(...schema.allOf);\n\t\t\tif (schema.unevaluatedProperties === void 0) unevaluatedProperties = void 0;\n\t\t} else {\n\t\t\tlet nestedSchema = schema;\n\t\t\tif (\"additionalProperties\" in schema && schema.additionalProperties === false) {\n\t\t\t\tconst { additionalProperties,...rest } = schema;\n\t\t\t\tnestedSchema = rest;\n\t\t\t} else unevaluatedProperties = void 0;\n\t\t\tmergedAllOf.push(nestedSchema);\n\t\t}\n\t});\n\treturn mergedAllOf.length ? {\n\t\tallOf: mergedAllOf,\n\t\t...unevaluatedProperties\n\t} : void 0;\n}\n\n//#endregion\n\n//# sourceMappingURL=intersection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2ludGVyc2VjdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUEwQzs7QUFFMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHNEQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsR0FBRyxzREFBUTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRixxRUFBcUUsK0JBQStCO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLFlBQVksK0JBQStCO0FBQzNDO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ2dDO0FBQ2hDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2ludGVyc2VjdGlvbi5qcz8xMmUzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvaW50ZXJzZWN0aW9uLnRzXG5jb25zdCBpc0pzb25TY2hlbWE3QWxsT2ZUeXBlID0gKHR5cGUpID0+IHtcblx0aWYgKFwidHlwZVwiIGluIHR5cGUgJiYgdHlwZS50eXBlID09PSBcInN0cmluZ1wiKSByZXR1cm4gZmFsc2U7XG5cdHJldHVybiBcImFsbE9mXCIgaW4gdHlwZTtcbn07XG5mdW5jdGlvbiBwYXJzZUludGVyc2VjdGlvbkRlZihkZWYsIHJlZnMpIHtcblx0Y29uc3QgYWxsT2YgPSBbcGFyc2VEZWYoZGVmLmxlZnQuX2RlZiwge1xuXHRcdC4uLnJlZnMsXG5cdFx0Y3VycmVudFBhdGg6IFtcblx0XHRcdC4uLnJlZnMuY3VycmVudFBhdGgsXG5cdFx0XHRcImFsbE9mXCIsXG5cdFx0XHRcIjBcIlxuXHRcdF1cblx0fSksIHBhcnNlRGVmKGRlZi5yaWdodC5fZGVmLCB7XG5cdFx0Li4ucmVmcyxcblx0XHRjdXJyZW50UGF0aDogW1xuXHRcdFx0Li4ucmVmcy5jdXJyZW50UGF0aCxcblx0XHRcdFwiYWxsT2ZcIixcblx0XHRcdFwiMVwiXG5cdFx0XVxuXHR9KV0uZmlsdGVyKCh4KSA9PiAhIXgpO1xuXHRsZXQgdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzID0gcmVmcy50YXJnZXQgPT09IFwianNvblNjaGVtYTIwMTktMDlcIiA/IHsgdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzOiBmYWxzZSB9IDogdm9pZCAwO1xuXHRjb25zdCBtZXJnZWRBbGxPZiA9IFtdO1xuXHRhbGxPZi5mb3JFYWNoKChzY2hlbWEpID0+IHtcblx0XHRpZiAoaXNKc29uU2NoZW1hN0FsbE9mVHlwZShzY2hlbWEpKSB7XG5cdFx0XHRtZXJnZWRBbGxPZi5wdXNoKC4uLnNjaGVtYS5hbGxPZik7XG5cdFx0XHRpZiAoc2NoZW1hLnVuZXZhbHVhdGVkUHJvcGVydGllcyA9PT0gdm9pZCAwKSB1bmV2YWx1YXRlZFByb3BlcnRpZXMgPSB2b2lkIDA7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGxldCBuZXN0ZWRTY2hlbWEgPSBzY2hlbWE7XG5cdFx0XHRpZiAoXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiIGluIHNjaGVtYSAmJiBzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMgPT09IGZhbHNlKSB7XG5cdFx0XHRcdGNvbnN0IHsgYWRkaXRpb25hbFByb3BlcnRpZXMsLi4ucmVzdCB9ID0gc2NoZW1hO1xuXHRcdFx0XHRuZXN0ZWRTY2hlbWEgPSByZXN0O1xuXHRcdFx0fSBlbHNlIHVuZXZhbHVhdGVkUHJvcGVydGllcyA9IHZvaWQgMDtcblx0XHRcdG1lcmdlZEFsbE9mLnB1c2gobmVzdGVkU2NoZW1hKTtcblx0XHR9XG5cdH0pO1xuXHRyZXR1cm4gbWVyZ2VkQWxsT2YubGVuZ3RoID8ge1xuXHRcdGFsbE9mOiBtZXJnZWRBbGxPZixcblx0XHQuLi51bmV2YWx1YXRlZFByb3BlcnRpZXNcblx0fSA6IHZvaWQgMDtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBwYXJzZUludGVyc2VjdGlvbkRlZiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJzZWN0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/intersection.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/literal.js":
/*!**********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/literal.js ***!
  \**********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseLiteralDef: () => (/* binding */ parseLiteralDef)\n/* harmony export */ });\n//#region src/utils/zod-to-json-schema/parsers/literal.ts\nfunction parseLiteralDef(def, refs) {\n\tconst parsedType = typeof def.value;\n\tif (parsedType !== \"bigint\" && parsedType !== \"number\" && parsedType !== \"boolean\" && parsedType !== \"string\") return { type: Array.isArray(def.value) ? \"array\" : \"object\" };\n\tif (refs.target === \"openApi3\") return {\n\t\ttype: parsedType === \"bigint\" ? \"integer\" : parsedType,\n\t\tenum: [def.value]\n\t};\n\treturn {\n\t\ttype: parsedType === \"bigint\" ? \"integer\" : parsedType,\n\t\tconst: def.value\n\t};\n}\n\n//#endregion\n\n//# sourceMappingURL=literal.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2xpdGVyYWwuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBLHlIQUF5SDtBQUN6SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDMkI7QUFDM0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvbGl0ZXJhbC5qcz83OWJlIl0sInNvdXJjZXNDb250ZW50IjpbIi8vI3JlZ2lvbiBzcmMvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvbGl0ZXJhbC50c1xuZnVuY3Rpb24gcGFyc2VMaXRlcmFsRGVmKGRlZiwgcmVmcykge1xuXHRjb25zdCBwYXJzZWRUeXBlID0gdHlwZW9mIGRlZi52YWx1ZTtcblx0aWYgKHBhcnNlZFR5cGUgIT09IFwiYmlnaW50XCIgJiYgcGFyc2VkVHlwZSAhPT0gXCJudW1iZXJcIiAmJiBwYXJzZWRUeXBlICE9PSBcImJvb2xlYW5cIiAmJiBwYXJzZWRUeXBlICE9PSBcInN0cmluZ1wiKSByZXR1cm4geyB0eXBlOiBBcnJheS5pc0FycmF5KGRlZi52YWx1ZSkgPyBcImFycmF5XCIgOiBcIm9iamVjdFwiIH07XG5cdGlmIChyZWZzLnRhcmdldCA9PT0gXCJvcGVuQXBpM1wiKSByZXR1cm4ge1xuXHRcdHR5cGU6IHBhcnNlZFR5cGUgPT09IFwiYmlnaW50XCIgPyBcImludGVnZXJcIiA6IHBhcnNlZFR5cGUsXG5cdFx0ZW51bTogW2RlZi52YWx1ZV1cblx0fTtcblx0cmV0dXJuIHtcblx0XHR0eXBlOiBwYXJzZWRUeXBlID09PSBcImJpZ2ludFwiID8gXCJpbnRlZ2VyXCIgOiBwYXJzZWRUeXBlLFxuXHRcdGNvbnN0OiBkZWYudmFsdWVcblx0fTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBwYXJzZUxpdGVyYWxEZWYgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpdGVyYWwuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/literal.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/map.js":
/*!******************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/map.js ***!
  \******************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseMapDef: () => (/* binding */ parseMapDef)\n/* harmony export */ });\n/* harmony import */ var _any_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./any.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.js\");\n/* harmony import */ var _record_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./record.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/record.js\");\n/* harmony import */ var _parseDef_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../parseDef.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\");\n\n\n\n\n//#region src/utils/zod-to-json-schema/parsers/map.ts\nfunction parseMapDef(def, refs) {\n\tif (refs.mapStrategy === \"record\") return (0,_record_js__WEBPACK_IMPORTED_MODULE_1__.parseRecordDef)(def, refs);\n\tconst keys = (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_2__.parseDef)(def.keyType._def, {\n\t\t...refs,\n\t\tcurrentPath: [\n\t\t\t...refs.currentPath,\n\t\t\t\"items\",\n\t\t\t\"items\",\n\t\t\t\"0\"\n\t\t]\n\t}) || (0,_any_js__WEBPACK_IMPORTED_MODULE_0__.parseAnyDef)(refs);\n\tconst values = (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_2__.parseDef)(def.valueType._def, {\n\t\t...refs,\n\t\tcurrentPath: [\n\t\t\t...refs.currentPath,\n\t\t\t\"items\",\n\t\t\t\"items\",\n\t\t\t\"1\"\n\t\t]\n\t}) || (0,_any_js__WEBPACK_IMPORTED_MODULE_0__.parseAnyDef)(refs);\n\treturn {\n\t\ttype: \"array\",\n\t\tmaxItems: 125,\n\t\titems: {\n\t\t\ttype: \"array\",\n\t\t\titems: [keys, values],\n\t\t\tminItems: 2,\n\t\t\tmaxItems: 2\n\t\t}\n\t};\n}\n\n//#endregion\n\n//# sourceMappingURL=map.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL21hcC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXVDO0FBQ007QUFDSDs7QUFFMUM7QUFDQTtBQUNBLDJDQUEyQywwREFBYztBQUN6RCxjQUFjLHNEQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSxLQUFLLG9EQUFXO0FBQ2xCLGdCQUFnQixzREFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsS0FBSyxvREFBVztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3VCO0FBQ3ZCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL21hcC5qcz82YmZmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBhcnNlQW55RGVmIH0gZnJvbSBcIi4vYW55LmpzXCI7XG5pbXBvcnQgeyBwYXJzZVJlY29yZERlZiB9IGZyb20gXCIuL3JlY29yZC5qc1wiO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYuanNcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9tYXAudHNcbmZ1bmN0aW9uIHBhcnNlTWFwRGVmKGRlZiwgcmVmcykge1xuXHRpZiAocmVmcy5tYXBTdHJhdGVneSA9PT0gXCJyZWNvcmRcIikgcmV0dXJuIHBhcnNlUmVjb3JkRGVmKGRlZiwgcmVmcyk7XG5cdGNvbnN0IGtleXMgPSBwYXJzZURlZihkZWYua2V5VHlwZS5fZGVmLCB7XG5cdFx0Li4ucmVmcyxcblx0XHRjdXJyZW50UGF0aDogW1xuXHRcdFx0Li4ucmVmcy5jdXJyZW50UGF0aCxcblx0XHRcdFwiaXRlbXNcIixcblx0XHRcdFwiaXRlbXNcIixcblx0XHRcdFwiMFwiXG5cdFx0XVxuXHR9KSB8fCBwYXJzZUFueURlZihyZWZzKTtcblx0Y29uc3QgdmFsdWVzID0gcGFyc2VEZWYoZGVmLnZhbHVlVHlwZS5fZGVmLCB7XG5cdFx0Li4ucmVmcyxcblx0XHRjdXJyZW50UGF0aDogW1xuXHRcdFx0Li4ucmVmcy5jdXJyZW50UGF0aCxcblx0XHRcdFwiaXRlbXNcIixcblx0XHRcdFwiaXRlbXNcIixcblx0XHRcdFwiMVwiXG5cdFx0XVxuXHR9KSB8fCBwYXJzZUFueURlZihyZWZzKTtcblx0cmV0dXJuIHtcblx0XHR0eXBlOiBcImFycmF5XCIsXG5cdFx0bWF4SXRlbXM6IDEyNSxcblx0XHRpdGVtczoge1xuXHRcdFx0dHlwZTogXCJhcnJheVwiLFxuXHRcdFx0aXRlbXM6IFtrZXlzLCB2YWx1ZXNdLFxuXHRcdFx0bWluSXRlbXM6IDIsXG5cdFx0XHRtYXhJdGVtczogMlxuXHRcdH1cblx0fTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBwYXJzZU1hcERlZiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/map.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/nativeEnum.js":
/*!*************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/nativeEnum.js ***!
  \*************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseNativeEnumDef: () => (/* binding */ parseNativeEnumDef)\n/* harmony export */ });\n//#region src/utils/zod-to-json-schema/parsers/nativeEnum.ts\nfunction parseNativeEnumDef(def) {\n\tconst object = def.values;\n\tconst actualKeys = Object.keys(def.values).filter((key) => {\n\t\treturn typeof object[object[key]] !== \"number\";\n\t});\n\tconst actualValues = actualKeys.map((key) => object[key]);\n\tconst parsedTypes = Array.from(new Set(actualValues.map((values) => typeof values)));\n\treturn {\n\t\ttype: parsedTypes.length === 1 ? parsedTypes[0] === \"string\" ? \"string\" : \"number\" : [\"string\", \"number\"],\n\t\tenum: actualValues\n\t};\n}\n\n//#endregion\n\n//# sourceMappingURL=nativeEnum.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL25hdGl2ZUVudW0uanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDOEI7QUFDOUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvbmF0aXZlRW51bS5qcz80Y2I0Il0sInNvdXJjZXNDb250ZW50IjpbIi8vI3JlZ2lvbiBzcmMvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvbmF0aXZlRW51bS50c1xuZnVuY3Rpb24gcGFyc2VOYXRpdmVFbnVtRGVmKGRlZikge1xuXHRjb25zdCBvYmplY3QgPSBkZWYudmFsdWVzO1xuXHRjb25zdCBhY3R1YWxLZXlzID0gT2JqZWN0LmtleXMoZGVmLnZhbHVlcykuZmlsdGVyKChrZXkpID0+IHtcblx0XHRyZXR1cm4gdHlwZW9mIG9iamVjdFtvYmplY3Rba2V5XV0gIT09IFwibnVtYmVyXCI7XG5cdH0pO1xuXHRjb25zdCBhY3R1YWxWYWx1ZXMgPSBhY3R1YWxLZXlzLm1hcCgoa2V5KSA9PiBvYmplY3Rba2V5XSk7XG5cdGNvbnN0IHBhcnNlZFR5cGVzID0gQXJyYXkuZnJvbShuZXcgU2V0KGFjdHVhbFZhbHVlcy5tYXAoKHZhbHVlcykgPT4gdHlwZW9mIHZhbHVlcykpKTtcblx0cmV0dXJuIHtcblx0XHR0eXBlOiBwYXJzZWRUeXBlcy5sZW5ndGggPT09IDEgPyBwYXJzZWRUeXBlc1swXSA9PT0gXCJzdHJpbmdcIiA/IFwic3RyaW5nXCIgOiBcIm51bWJlclwiIDogW1wic3RyaW5nXCIsIFwibnVtYmVyXCJdLFxuXHRcdGVudW06IGFjdHVhbFZhbHVlc1xuXHR9O1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IHBhcnNlTmF0aXZlRW51bURlZiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmF0aXZlRW51bS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/nativeEnum.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/never.js":
/*!********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/never.js ***!
  \********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseNeverDef: () => (/* binding */ parseNeverDef)\n/* harmony export */ });\n/* harmony import */ var _any_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./any.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.js\");\n\n\n//#region src/utils/zod-to-json-schema/parsers/never.ts\nfunction parseNeverDef(refs) {\n\treturn refs.target === \"openAi\" ? void 0 : { not: (0,_any_js__WEBPACK_IMPORTED_MODULE_0__.parseAnyDef)({\n\t\t...refs,\n\t\tcurrentPath: [...refs.currentPath, \"not\"]\n\t}) };\n}\n\n//#endregion\n\n//# sourceMappingURL=never.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL25ldmVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXVDOztBQUV2QztBQUNBO0FBQ0EsOENBQThDLEtBQUssb0RBQVc7QUFDOUQ7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUN5QjtBQUN6QiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9uZXZlci5qcz8zMDFmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBhcnNlQW55RGVmIH0gZnJvbSBcIi4vYW55LmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvbmV2ZXIudHNcbmZ1bmN0aW9uIHBhcnNlTmV2ZXJEZWYocmVmcykge1xuXHRyZXR1cm4gcmVmcy50YXJnZXQgPT09IFwib3BlbkFpXCIgPyB2b2lkIDAgOiB7IG5vdDogcGFyc2VBbnlEZWYoe1xuXHRcdC4uLnJlZnMsXG5cdFx0Y3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcIm5vdFwiXVxuXHR9KSB9O1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IHBhcnNlTmV2ZXJEZWYgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5ldmVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/never.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/null.js":
/*!*******************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/null.js ***!
  \*******************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseNullDef: () => (/* binding */ parseNullDef)\n/* harmony export */ });\n//#region src/utils/zod-to-json-schema/parsers/null.ts\nfunction parseNullDef(refs) {\n\treturn refs.target === \"openApi3\" ? {\n\t\tenum: [\"null\"],\n\t\tnullable: true\n\t} : { type: \"null\" };\n}\n\n//#endregion\n\n//# sourceMappingURL=null.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL251bGwuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLElBQUk7QUFDUDs7QUFFQTtBQUN3QjtBQUN4QiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9udWxsLmpzPzdhMjAiXSwic291cmNlc0NvbnRlbnQiOlsiLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9udWxsLnRzXG5mdW5jdGlvbiBwYXJzZU51bGxEZWYocmVmcykge1xuXHRyZXR1cm4gcmVmcy50YXJnZXQgPT09IFwib3BlbkFwaTNcIiA/IHtcblx0XHRlbnVtOiBbXCJudWxsXCJdLFxuXHRcdG51bGxhYmxlOiB0cnVlXG5cdH0gOiB7IHR5cGU6IFwibnVsbFwiIH07XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgcGFyc2VOdWxsRGVmIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1udWxsLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/null.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/nullable.js":
/*!***********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/nullable.js ***!
  \***********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseNullableDef: () => (/* binding */ parseNullableDef)\n/* harmony export */ });\n/* harmony import */ var _union_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./union.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/union.js\");\n/* harmony import */ var _parseDef_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../parseDef.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\");\n\n\n\n//#region src/utils/zod-to-json-schema/parsers/nullable.ts\nfunction parseNullableDef(def, refs) {\n\tif ([\n\t\t\"ZodString\",\n\t\t\"ZodNumber\",\n\t\t\"ZodBigInt\",\n\t\t\"ZodBoolean\",\n\t\t\"ZodNull\"\n\t].includes(def.innerType._def.typeName) && (!def.innerType._def.checks || !def.innerType._def.checks.length)) {\n\t\tif (refs.target === \"openApi3\") return {\n\t\t\ttype: _union_js__WEBPACK_IMPORTED_MODULE_0__.primitiveMappings[def.innerType._def.typeName],\n\t\t\tnullable: true\n\t\t};\n\t\treturn { type: [_union_js__WEBPACK_IMPORTED_MODULE_0__.primitiveMappings[def.innerType._def.typeName], \"null\"] };\n\t}\n\tif (refs.target === \"openApi3\") {\n\t\tconst base$1 = (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_1__.parseDef)(def.innerType._def, {\n\t\t\t...refs,\n\t\t\tcurrentPath: [...refs.currentPath]\n\t\t});\n\t\tif (base$1 && \"$ref\" in base$1) return {\n\t\t\tallOf: [base$1],\n\t\t\tnullable: true\n\t\t};\n\t\treturn base$1 && {\n\t\t\t...base$1,\n\t\t\tnullable: true\n\t\t};\n\t}\n\tconst base = (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_1__.parseDef)(def.innerType._def, {\n\t\t...refs,\n\t\tcurrentPath: [\n\t\t\t...refs.currentPath,\n\t\t\t\"anyOf\",\n\t\t\t\"0\"\n\t\t]\n\t});\n\treturn base && { anyOf: [base, { type: \"null\" }] };\n}\n\n//#endregion\n\n//# sourceMappingURL=nullable.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL251bGxhYmxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUErQztBQUNMOztBQUUxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsd0RBQWlCO0FBQzFCO0FBQ0E7QUFDQSxXQUFXLE9BQU8sd0RBQWlCO0FBQ25DO0FBQ0E7QUFDQSxpQkFBaUIsc0RBQVE7QUFDekI7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHNEQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRixrQkFBa0IsZ0JBQWdCLGNBQWM7QUFDaEQ7O0FBRUE7QUFDNEI7QUFDNUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvbnVsbGFibGUuanM/Mzk4OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcmltaXRpdmVNYXBwaW5ncyB9IGZyb20gXCIuL3VuaW9uLmpzXCI7XG5pbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL251bGxhYmxlLnRzXG5mdW5jdGlvbiBwYXJzZU51bGxhYmxlRGVmKGRlZiwgcmVmcykge1xuXHRpZiAoW1xuXHRcdFwiWm9kU3RyaW5nXCIsXG5cdFx0XCJab2ROdW1iZXJcIixcblx0XHRcIlpvZEJpZ0ludFwiLFxuXHRcdFwiWm9kQm9vbGVhblwiLFxuXHRcdFwiWm9kTnVsbFwiXG5cdF0uaW5jbHVkZXMoZGVmLmlubmVyVHlwZS5fZGVmLnR5cGVOYW1lKSAmJiAoIWRlZi5pbm5lclR5cGUuX2RlZi5jaGVja3MgfHwgIWRlZi5pbm5lclR5cGUuX2RlZi5jaGVja3MubGVuZ3RoKSkge1xuXHRcdGlmIChyZWZzLnRhcmdldCA9PT0gXCJvcGVuQXBpM1wiKSByZXR1cm4ge1xuXHRcdFx0dHlwZTogcHJpbWl0aXZlTWFwcGluZ3NbZGVmLmlubmVyVHlwZS5fZGVmLnR5cGVOYW1lXSxcblx0XHRcdG51bGxhYmxlOiB0cnVlXG5cdFx0fTtcblx0XHRyZXR1cm4geyB0eXBlOiBbcHJpbWl0aXZlTWFwcGluZ3NbZGVmLmlubmVyVHlwZS5fZGVmLnR5cGVOYW1lXSwgXCJudWxsXCJdIH07XG5cdH1cblx0aWYgKHJlZnMudGFyZ2V0ID09PSBcIm9wZW5BcGkzXCIpIHtcblx0XHRjb25zdCBiYXNlJDEgPSBwYXJzZURlZihkZWYuaW5uZXJUeXBlLl9kZWYsIHtcblx0XHRcdC4uLnJlZnMsXG5cdFx0XHRjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGhdXG5cdFx0fSk7XG5cdFx0aWYgKGJhc2UkMSAmJiBcIiRyZWZcIiBpbiBiYXNlJDEpIHJldHVybiB7XG5cdFx0XHRhbGxPZjogW2Jhc2UkMV0sXG5cdFx0XHRudWxsYWJsZTogdHJ1ZVxuXHRcdH07XG5cdFx0cmV0dXJuIGJhc2UkMSAmJiB7XG5cdFx0XHQuLi5iYXNlJDEsXG5cdFx0XHRudWxsYWJsZTogdHJ1ZVxuXHRcdH07XG5cdH1cblx0Y29uc3QgYmFzZSA9IHBhcnNlRGVmKGRlZi5pbm5lclR5cGUuX2RlZiwge1xuXHRcdC4uLnJlZnMsXG5cdFx0Y3VycmVudFBhdGg6IFtcblx0XHRcdC4uLnJlZnMuY3VycmVudFBhdGgsXG5cdFx0XHRcImFueU9mXCIsXG5cdFx0XHRcIjBcIlxuXHRcdF1cblx0fSk7XG5cdHJldHVybiBiYXNlICYmIHsgYW55T2Y6IFtiYXNlLCB7IHR5cGU6IFwibnVsbFwiIH1dIH07XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgcGFyc2VOdWxsYWJsZURlZiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bnVsbGFibGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/nullable.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/number.js":
/*!*********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/number.js ***!
  \*********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseNumberDef: () => (/* binding */ parseNumberDef)\n/* harmony export */ });\n/* harmony import */ var _errorMessages_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errorMessages.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/errorMessages.js\");\n\n\n//#region src/utils/zod-to-json-schema/parsers/number.ts\nfunction parseNumberDef(def, refs) {\n\tconst res = { type: \"number\" };\n\tif (!def.checks) return res;\n\tfor (const check of def.checks) switch (check.kind) {\n\t\tcase \"int\":\n\t\t\tres.type = \"integer\";\n\t\t\t(0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.addErrorMessage)(res, \"type\", check.message, refs);\n\t\t\tbreak;\n\t\tcase \"min\":\n\t\t\tif (refs.target === \"jsonSchema7\") if (check.inclusive) (0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"minimum\", check.value, check.message, refs);\n\t\t\telse (0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"exclusiveMinimum\", check.value, check.message, refs);\n\t\t\telse {\n\t\t\t\tif (!check.inclusive) res.exclusiveMinimum = true;\n\t\t\t\t(0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"minimum\", check.value, check.message, refs);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"max\":\n\t\t\tif (refs.target === \"jsonSchema7\") if (check.inclusive) (0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"maximum\", check.value, check.message, refs);\n\t\t\telse (0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"exclusiveMaximum\", check.value, check.message, refs);\n\t\t\telse {\n\t\t\t\tif (!check.inclusive) res.exclusiveMaximum = true;\n\t\t\t\t(0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"maximum\", check.value, check.message, refs);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"multipleOf\":\n\t\t\t(0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"multipleOf\", check.value, check.message, refs);\n\t\t\tbreak;\n\t}\n\treturn res;\n}\n\n//#endregion\n\n//# sourceMappingURL=number.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL251bWJlci5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFpRjs7QUFFakY7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsa0VBQWU7QUFDbEI7QUFDQTtBQUNBLDJEQUEyRCw0RUFBeUI7QUFDcEYsUUFBUSw0RUFBeUI7QUFDakM7QUFDQTtBQUNBLElBQUksNEVBQXlCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCw0RUFBeUI7QUFDcEYsUUFBUSw0RUFBeUI7QUFDakM7QUFDQTtBQUNBLElBQUksNEVBQXlCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLEdBQUcsNEVBQXlCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQzBCO0FBQzFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL251bWJlci5qcz9lZWJkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFkZEVycm9yTWVzc2FnZSwgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyB9IGZyb20gXCIuLi9lcnJvck1lc3NhZ2VzLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvbnVtYmVyLnRzXG5mdW5jdGlvbiBwYXJzZU51bWJlckRlZihkZWYsIHJlZnMpIHtcblx0Y29uc3QgcmVzID0geyB0eXBlOiBcIm51bWJlclwiIH07XG5cdGlmICghZGVmLmNoZWNrcykgcmV0dXJuIHJlcztcblx0Zm9yIChjb25zdCBjaGVjayBvZiBkZWYuY2hlY2tzKSBzd2l0Y2ggKGNoZWNrLmtpbmQpIHtcblx0XHRjYXNlIFwiaW50XCI6XG5cdFx0XHRyZXMudHlwZSA9IFwiaW50ZWdlclwiO1xuXHRcdFx0YWRkRXJyb3JNZXNzYWdlKHJlcywgXCJ0eXBlXCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcIm1pblwiOlxuXHRcdFx0aWYgKHJlZnMudGFyZ2V0ID09PSBcImpzb25TY2hlbWE3XCIpIGlmIChjaGVjay5pbmNsdXNpdmUpIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcIm1pbmltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0ZWxzZSBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgXCJleGNsdXNpdmVNaW5pbXVtXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRpZiAoIWNoZWNrLmluY2x1c2l2ZSkgcmVzLmV4Y2x1c2l2ZU1pbmltdW0gPSB0cnVlO1xuXHRcdFx0XHRzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgXCJtaW5pbXVtXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdH1cblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJtYXhcIjpcblx0XHRcdGlmIChyZWZzLnRhcmdldCA9PT0gXCJqc29uU2NoZW1hN1wiKSBpZiAoY2hlY2suaW5jbHVzaXZlKSBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgXCJtYXhpbXVtXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGVsc2Ugc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwiZXhjbHVzaXZlTWF4aW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0aWYgKCFjaGVjay5pbmNsdXNpdmUpIHJlcy5leGNsdXNpdmVNYXhpbXVtID0gdHJ1ZTtcblx0XHRcdFx0c2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwibWF4aW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG5cdFx0XHR9XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwibXVsdGlwbGVPZlwiOlxuXHRcdFx0c2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwibXVsdGlwbGVPZlwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG5cdFx0XHRicmVhaztcblx0fVxuXHRyZXR1cm4gcmVzO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IHBhcnNlTnVtYmVyRGVmIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1udW1iZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/number.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/object.js":
/*!*********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/object.js ***!
  \*********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseObjectDef: () => (/* binding */ parseObjectDef)\n/* harmony export */ });\n/* harmony import */ var _parseDef_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../parseDef.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\");\n\n\n//#region src/utils/zod-to-json-schema/parsers/object.ts\nfunction parseObjectDef(def, refs) {\n\tconst forceOptionalIntoNullable = refs.target === \"openAi\";\n\tconst result = {\n\t\ttype: \"object\",\n\t\tproperties: {}\n\t};\n\tconst required = [];\n\tconst shape = def.shape();\n\tfor (const propName in shape) {\n\t\tlet propDef = shape[propName];\n\t\tif (propDef === void 0 || propDef._def === void 0) continue;\n\t\tlet propOptional = safeIsOptional(propDef);\n\t\tif (propOptional && forceOptionalIntoNullable) {\n\t\t\tif (propDef._def.typeName === \"ZodOptional\") propDef = propDef._def.innerType;\n\t\t\tif (!propDef.isNullable()) propDef = propDef.nullable();\n\t\t\tpropOptional = false;\n\t\t}\n\t\tconst parsedDef = (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_0__.parseDef)(propDef._def, {\n\t\t\t...refs,\n\t\t\tcurrentPath: [\n\t\t\t\t...refs.currentPath,\n\t\t\t\t\"properties\",\n\t\t\t\tpropName\n\t\t\t],\n\t\t\tpropertyPath: [\n\t\t\t\t...refs.currentPath,\n\t\t\t\t\"properties\",\n\t\t\t\tpropName\n\t\t\t]\n\t\t});\n\t\tif (parsedDef === void 0) continue;\n\t\tresult.properties[propName] = parsedDef;\n\t\tif (!propOptional) required.push(propName);\n\t}\n\tif (required.length) result.required = required;\n\tconst additionalProperties = decideAdditionalProperties(def, refs);\n\tif (additionalProperties !== void 0) result.additionalProperties = additionalProperties;\n\treturn result;\n}\nfunction decideAdditionalProperties(def, refs) {\n\tif (def.catchall._def.typeName !== \"ZodNever\") return (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_0__.parseDef)(def.catchall._def, {\n\t\t...refs,\n\t\tcurrentPath: [...refs.currentPath, \"additionalProperties\"]\n\t});\n\tswitch (def.unknownKeys) {\n\t\tcase \"passthrough\": return refs.allowedAdditionalProperties;\n\t\tcase \"strict\": return refs.rejectedAdditionalProperties;\n\t\tcase \"strip\": return refs.removeAdditionalStrategy === \"strict\" ? refs.allowedAdditionalProperties : refs.rejectedAdditionalProperties;\n\t}\n}\nfunction safeIsOptional(schema) {\n\ttry {\n\t\treturn schema.isOptional();\n\t} catch {\n\t\treturn true;\n\t}\n}\n\n//#endregion\n\n//# sourceMappingURL=object.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL29iamVjdC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUEwQzs7QUFFMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHNEQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsc0RBQVE7QUFDL0Q7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQzBCO0FBQzFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL29iamVjdC5qcz8wNTgxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvb2JqZWN0LnRzXG5mdW5jdGlvbiBwYXJzZU9iamVjdERlZihkZWYsIHJlZnMpIHtcblx0Y29uc3QgZm9yY2VPcHRpb25hbEludG9OdWxsYWJsZSA9IHJlZnMudGFyZ2V0ID09PSBcIm9wZW5BaVwiO1xuXHRjb25zdCByZXN1bHQgPSB7XG5cdFx0dHlwZTogXCJvYmplY3RcIixcblx0XHRwcm9wZXJ0aWVzOiB7fVxuXHR9O1xuXHRjb25zdCByZXF1aXJlZCA9IFtdO1xuXHRjb25zdCBzaGFwZSA9IGRlZi5zaGFwZSgpO1xuXHRmb3IgKGNvbnN0IHByb3BOYW1lIGluIHNoYXBlKSB7XG5cdFx0bGV0IHByb3BEZWYgPSBzaGFwZVtwcm9wTmFtZV07XG5cdFx0aWYgKHByb3BEZWYgPT09IHZvaWQgMCB8fCBwcm9wRGVmLl9kZWYgPT09IHZvaWQgMCkgY29udGludWU7XG5cdFx0bGV0IHByb3BPcHRpb25hbCA9IHNhZmVJc09wdGlvbmFsKHByb3BEZWYpO1xuXHRcdGlmIChwcm9wT3B0aW9uYWwgJiYgZm9yY2VPcHRpb25hbEludG9OdWxsYWJsZSkge1xuXHRcdFx0aWYgKHByb3BEZWYuX2RlZi50eXBlTmFtZSA9PT0gXCJab2RPcHRpb25hbFwiKSBwcm9wRGVmID0gcHJvcERlZi5fZGVmLmlubmVyVHlwZTtcblx0XHRcdGlmICghcHJvcERlZi5pc051bGxhYmxlKCkpIHByb3BEZWYgPSBwcm9wRGVmLm51bGxhYmxlKCk7XG5cdFx0XHRwcm9wT3B0aW9uYWwgPSBmYWxzZTtcblx0XHR9XG5cdFx0Y29uc3QgcGFyc2VkRGVmID0gcGFyc2VEZWYocHJvcERlZi5fZGVmLCB7XG5cdFx0XHQuLi5yZWZzLFxuXHRcdFx0Y3VycmVudFBhdGg6IFtcblx0XHRcdFx0Li4ucmVmcy5jdXJyZW50UGF0aCxcblx0XHRcdFx0XCJwcm9wZXJ0aWVzXCIsXG5cdFx0XHRcdHByb3BOYW1lXG5cdFx0XHRdLFxuXHRcdFx0cHJvcGVydHlQYXRoOiBbXG5cdFx0XHRcdC4uLnJlZnMuY3VycmVudFBhdGgsXG5cdFx0XHRcdFwicHJvcGVydGllc1wiLFxuXHRcdFx0XHRwcm9wTmFtZVxuXHRcdFx0XVxuXHRcdH0pO1xuXHRcdGlmIChwYXJzZWREZWYgPT09IHZvaWQgMCkgY29udGludWU7XG5cdFx0cmVzdWx0LnByb3BlcnRpZXNbcHJvcE5hbWVdID0gcGFyc2VkRGVmO1xuXHRcdGlmICghcHJvcE9wdGlvbmFsKSByZXF1aXJlZC5wdXNoKHByb3BOYW1lKTtcblx0fVxuXHRpZiAocmVxdWlyZWQubGVuZ3RoKSByZXN1bHQucmVxdWlyZWQgPSByZXF1aXJlZDtcblx0Y29uc3QgYWRkaXRpb25hbFByb3BlcnRpZXMgPSBkZWNpZGVBZGRpdGlvbmFsUHJvcGVydGllcyhkZWYsIHJlZnMpO1xuXHRpZiAoYWRkaXRpb25hbFByb3BlcnRpZXMgIT09IHZvaWQgMCkgcmVzdWx0LmFkZGl0aW9uYWxQcm9wZXJ0aWVzID0gYWRkaXRpb25hbFByb3BlcnRpZXM7XG5cdHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBkZWNpZGVBZGRpdGlvbmFsUHJvcGVydGllcyhkZWYsIHJlZnMpIHtcblx0aWYgKGRlZi5jYXRjaGFsbC5fZGVmLnR5cGVOYW1lICE9PSBcIlpvZE5ldmVyXCIpIHJldHVybiBwYXJzZURlZihkZWYuY2F0Y2hhbGwuX2RlZiwge1xuXHRcdC4uLnJlZnMsXG5cdFx0Y3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCJdXG5cdH0pO1xuXHRzd2l0Y2ggKGRlZi51bmtub3duS2V5cykge1xuXHRcdGNhc2UgXCJwYXNzdGhyb3VnaFwiOiByZXR1cm4gcmVmcy5hbGxvd2VkQWRkaXRpb25hbFByb3BlcnRpZXM7XG5cdFx0Y2FzZSBcInN0cmljdFwiOiByZXR1cm4gcmVmcy5yZWplY3RlZEFkZGl0aW9uYWxQcm9wZXJ0aWVzO1xuXHRcdGNhc2UgXCJzdHJpcFwiOiByZXR1cm4gcmVmcy5yZW1vdmVBZGRpdGlvbmFsU3RyYXRlZ3kgPT09IFwic3RyaWN0XCIgPyByZWZzLmFsbG93ZWRBZGRpdGlvbmFsUHJvcGVydGllcyA6IHJlZnMucmVqZWN0ZWRBZGRpdGlvbmFsUHJvcGVydGllcztcblx0fVxufVxuZnVuY3Rpb24gc2FmZUlzT3B0aW9uYWwoc2NoZW1hKSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHNjaGVtYS5pc09wdGlvbmFsKCk7XG5cdH0gY2F0Y2gge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgcGFyc2VPYmplY3REZWYgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9iamVjdC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/object.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/optional.js":
/*!***********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/optional.js ***!
  \***********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseOptionalDef: () => (/* binding */ parseOptionalDef)\n/* harmony export */ });\n/* harmony import */ var _any_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./any.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.js\");\n/* harmony import */ var _parseDef_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../parseDef.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\");\n\n\n\n//#region src/utils/zod-to-json-schema/parsers/optional.ts\nconst parseOptionalDef = (def, refs) => {\n\tif (refs.currentPath.toString() === refs.propertyPath?.toString()) return (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_1__.parseDef)(def.innerType._def, refs);\n\tconst innerSchema = (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_1__.parseDef)(def.innerType._def, {\n\t\t...refs,\n\t\tcurrentPath: [\n\t\t\t...refs.currentPath,\n\t\t\t\"anyOf\",\n\t\t\t\"1\"\n\t\t]\n\t});\n\treturn innerSchema ? { anyOf: [{ not: (0,_any_js__WEBPACK_IMPORTED_MODULE_0__.parseAnyDef)(refs) }, innerSchema] } : (0,_any_js__WEBPACK_IMPORTED_MODULE_0__.parseAnyDef)(refs);\n};\n\n//#endregion\n\n//# sourceMappingURL=optional.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL29wdGlvbmFsLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF1QztBQUNHOztBQUUxQztBQUNBO0FBQ0EsMkVBQTJFLHNEQUFRO0FBQ25GLHFCQUFxQixzREFBUTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Ysd0JBQXdCLFVBQVUsS0FBSyxvREFBVyxRQUFRLGlCQUFpQixFQUFFLG9EQUFXO0FBQ3hGOztBQUVBO0FBQzRCO0FBQzVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL29wdGlvbmFsLmpzPzIwNjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcGFyc2VBbnlEZWYgfSBmcm9tIFwiLi9hbnkuanNcIjtcbmltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvb3B0aW9uYWwudHNcbmNvbnN0IHBhcnNlT3B0aW9uYWxEZWYgPSAoZGVmLCByZWZzKSA9PiB7XG5cdGlmIChyZWZzLmN1cnJlbnRQYXRoLnRvU3RyaW5nKCkgPT09IHJlZnMucHJvcGVydHlQYXRoPy50b1N0cmluZygpKSByZXR1cm4gcGFyc2VEZWYoZGVmLmlubmVyVHlwZS5fZGVmLCByZWZzKTtcblx0Y29uc3QgaW5uZXJTY2hlbWEgPSBwYXJzZURlZihkZWYuaW5uZXJUeXBlLl9kZWYsIHtcblx0XHQuLi5yZWZzLFxuXHRcdGN1cnJlbnRQYXRoOiBbXG5cdFx0XHQuLi5yZWZzLmN1cnJlbnRQYXRoLFxuXHRcdFx0XCJhbnlPZlwiLFxuXHRcdFx0XCIxXCJcblx0XHRdXG5cdH0pO1xuXHRyZXR1cm4gaW5uZXJTY2hlbWEgPyB7IGFueU9mOiBbeyBub3Q6IHBhcnNlQW55RGVmKHJlZnMpIH0sIGlubmVyU2NoZW1hXSB9IDogcGFyc2VBbnlEZWYocmVmcyk7XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IHBhcnNlT3B0aW9uYWxEZWYgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9wdGlvbmFsLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/optional.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/pipeline.js":
/*!***********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/pipeline.js ***!
  \***********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parsePipelineDef: () => (/* binding */ parsePipelineDef)\n/* harmony export */ });\n/* harmony import */ var _parseDef_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../parseDef.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\");\n\n\n//#region src/utils/zod-to-json-schema/parsers/pipeline.ts\nconst parsePipelineDef = (def, refs) => {\n\tif (refs.pipeStrategy === \"input\") return (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_0__.parseDef)(def.in._def, refs);\n\telse if (refs.pipeStrategy === \"output\") return (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_0__.parseDef)(def.out._def, refs);\n\tconst a = (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_0__.parseDef)(def.in._def, {\n\t\t...refs,\n\t\tcurrentPath: [\n\t\t\t...refs.currentPath,\n\t\t\t\"allOf\",\n\t\t\t\"0\"\n\t\t]\n\t});\n\tconst b = (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_0__.parseDef)(def.out._def, {\n\t\t...refs,\n\t\tcurrentPath: [\n\t\t\t...refs.currentPath,\n\t\t\t\"allOf\",\n\t\t\ta ? \"1\" : \"0\"\n\t\t]\n\t});\n\treturn { allOf: [a, b].filter((x) => x !== void 0) };\n};\n\n//#endregion\n\n//# sourceMappingURL=pipeline.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3BpcGVsaW5lLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTBDOztBQUUxQztBQUNBO0FBQ0EsMkNBQTJDLHNEQUFRO0FBQ25ELGlEQUFpRCxzREFBUTtBQUN6RCxXQUFXLHNEQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRixXQUFXLHNEQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRixVQUFVO0FBQ1Y7O0FBRUE7QUFDNEI7QUFDNUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvcGlwZWxpbmUuanM/NDNjMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3BpcGVsaW5lLnRzXG5jb25zdCBwYXJzZVBpcGVsaW5lRGVmID0gKGRlZiwgcmVmcykgPT4ge1xuXHRpZiAocmVmcy5waXBlU3RyYXRlZ3kgPT09IFwiaW5wdXRcIikgcmV0dXJuIHBhcnNlRGVmKGRlZi5pbi5fZGVmLCByZWZzKTtcblx0ZWxzZSBpZiAocmVmcy5waXBlU3RyYXRlZ3kgPT09IFwib3V0cHV0XCIpIHJldHVybiBwYXJzZURlZihkZWYub3V0Ll9kZWYsIHJlZnMpO1xuXHRjb25zdCBhID0gcGFyc2VEZWYoZGVmLmluLl9kZWYsIHtcblx0XHQuLi5yZWZzLFxuXHRcdGN1cnJlbnRQYXRoOiBbXG5cdFx0XHQuLi5yZWZzLmN1cnJlbnRQYXRoLFxuXHRcdFx0XCJhbGxPZlwiLFxuXHRcdFx0XCIwXCJcblx0XHRdXG5cdH0pO1xuXHRjb25zdCBiID0gcGFyc2VEZWYoZGVmLm91dC5fZGVmLCB7XG5cdFx0Li4ucmVmcyxcblx0XHRjdXJyZW50UGF0aDogW1xuXHRcdFx0Li4ucmVmcy5jdXJyZW50UGF0aCxcblx0XHRcdFwiYWxsT2ZcIixcblx0XHRcdGEgPyBcIjFcIiA6IFwiMFwiXG5cdFx0XVxuXHR9KTtcblx0cmV0dXJuIHsgYWxsT2Y6IFthLCBiXS5maWx0ZXIoKHgpID0+IHggIT09IHZvaWQgMCkgfTtcbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgcGFyc2VQaXBlbGluZURlZiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGlwZWxpbmUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/pipeline.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/promise.js":
/*!**********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/promise.js ***!
  \**********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parsePromiseDef: () => (/* binding */ parsePromiseDef)\n/* harmony export */ });\n/* harmony import */ var _parseDef_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../parseDef.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\");\n\n\n//#region src/utils/zod-to-json-schema/parsers/promise.ts\nfunction parsePromiseDef(def, refs) {\n\treturn (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_0__.parseDef)(def.type._def, refs);\n}\n\n//#endregion\n\n//# sourceMappingURL=promise.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3Byb21pc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBMEM7O0FBRTFDO0FBQ0E7QUFDQSxRQUFRLHNEQUFRO0FBQ2hCOztBQUVBO0FBQzJCO0FBQzNCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3Byb21pc2UuanM/ODYwNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3Byb21pc2UudHNcbmZ1bmN0aW9uIHBhcnNlUHJvbWlzZURlZihkZWYsIHJlZnMpIHtcblx0cmV0dXJuIHBhcnNlRGVmKGRlZi50eXBlLl9kZWYsIHJlZnMpO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IHBhcnNlUHJvbWlzZURlZiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvbWlzZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/promise.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/readonly.js":
/*!***********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/readonly.js ***!
  \***********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseReadonlyDef: () => (/* binding */ parseReadonlyDef)\n/* harmony export */ });\n/* harmony import */ var _parseDef_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../parseDef.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\");\n\n\n//#region src/utils/zod-to-json-schema/parsers/readonly.ts\nconst parseReadonlyDef = (def, refs) => {\n\treturn (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_0__.parseDef)(def.innerType._def, refs);\n};\n\n//#endregion\n\n//# sourceMappingURL=readonly.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3JlYWRvbmx5LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTBDOztBQUUxQztBQUNBO0FBQ0EsUUFBUSxzREFBUTtBQUNoQjs7QUFFQTtBQUM0QjtBQUM1QiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9yZWFkb25seS5qcz85MWRkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvcmVhZG9ubHkudHNcbmNvbnN0IHBhcnNlUmVhZG9ubHlEZWYgPSAoZGVmLCByZWZzKSA9PiB7XG5cdHJldHVybiBwYXJzZURlZihkZWYuaW5uZXJUeXBlLl9kZWYsIHJlZnMpO1xufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBwYXJzZVJlYWRvbmx5RGVmIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWFkb25seS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/readonly.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/record.js":
/*!*********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/record.js ***!
  \*********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseRecordDef: () => (/* binding */ parseRecordDef)\n/* harmony export */ });\n/* harmony import */ var _any_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./any.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.js\");\n/* harmony import */ var _branded_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./branded.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/branded.js\");\n/* harmony import */ var _string_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./string.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/string.js\");\n/* harmony import */ var _parseDef_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../parseDef.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\");\n/* harmony import */ var zod_v3__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! zod/v3 */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+zod@4.3.6/node_modules/zod/v3/index.js\");\n\n\n\n\n\n\n//#region src/utils/zod-to-json-schema/parsers/record.ts\nfunction parseRecordDef(def, refs) {\n\tif (refs.target === \"openAi\") console.warn(\"Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead.\");\n\tif (refs.target === \"openApi3\" && def.keyType?._def.typeName === zod_v3__WEBPACK_IMPORTED_MODULE_4__.ZodFirstPartyTypeKind.ZodEnum) return {\n\t\ttype: \"object\",\n\t\trequired: def.keyType._def.values,\n\t\tproperties: def.keyType._def.values.reduce((acc, key) => ({\n\t\t\t...acc,\n\t\t\t[key]: (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_3__.parseDef)(def.valueType._def, {\n\t\t\t\t...refs,\n\t\t\t\tcurrentPath: [\n\t\t\t\t\t...refs.currentPath,\n\t\t\t\t\t\"properties\",\n\t\t\t\t\tkey\n\t\t\t\t]\n\t\t\t}) ?? (0,_any_js__WEBPACK_IMPORTED_MODULE_0__.parseAnyDef)(refs)\n\t\t}), {}),\n\t\tadditionalProperties: refs.rejectedAdditionalProperties\n\t};\n\tconst schema = {\n\t\ttype: \"object\",\n\t\tadditionalProperties: (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_3__.parseDef)(def.valueType._def, {\n\t\t\t...refs,\n\t\t\tcurrentPath: [...refs.currentPath, \"additionalProperties\"]\n\t\t}) ?? refs.allowedAdditionalProperties\n\t};\n\tif (refs.target === \"openApi3\") return schema;\n\tif (def.keyType?._def.typeName === zod_v3__WEBPACK_IMPORTED_MODULE_4__.ZodFirstPartyTypeKind.ZodString && def.keyType._def.checks?.length) {\n\t\tconst { type,...keyType } = (0,_string_js__WEBPACK_IMPORTED_MODULE_2__.parseStringDef)(def.keyType._def, refs);\n\t\treturn {\n\t\t\t...schema,\n\t\t\tpropertyNames: keyType\n\t\t};\n\t} else if (def.keyType?._def.typeName === zod_v3__WEBPACK_IMPORTED_MODULE_4__.ZodFirstPartyTypeKind.ZodEnum) return {\n\t\t...schema,\n\t\tpropertyNames: { enum: def.keyType._def.values }\n\t};\n\telse if (def.keyType?._def.typeName === zod_v3__WEBPACK_IMPORTED_MODULE_4__.ZodFirstPartyTypeKind.ZodBranded && def.keyType._def.type._def.typeName === zod_v3__WEBPACK_IMPORTED_MODULE_4__.ZodFirstPartyTypeKind.ZodString && def.keyType._def.type._def.checks?.length) {\n\t\tconst { type,...keyType } = (0,_branded_js__WEBPACK_IMPORTED_MODULE_1__.parseBrandedDef)(def.keyType._def, refs);\n\t\treturn {\n\t\t\t...schema,\n\t\t\tpropertyNames: keyType\n\t\t};\n\t}\n\treturn schema;\n}\n\n//#endregion\n\n//# sourceMappingURL=record.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3JlY29yZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBdUM7QUFDUTtBQUNGO0FBQ0g7QUFDSzs7QUFFL0M7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLHlEQUFxQjtBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsc0RBQVE7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxLQUFLLG9EQUFXO0FBQ3BCLEdBQUcsS0FBSztBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHNEQUFRO0FBQ2hDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLG9DQUFvQyx5REFBcUI7QUFDekQsVUFBVSxrQkFBa0IsRUFBRSwwREFBYztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsd0NBQXdDLHlEQUFxQjtBQUNoRTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBLHlDQUF5Qyx5REFBcUIsdURBQXVELHlEQUFxQjtBQUMxSSxVQUFVLGtCQUFrQixFQUFFLDREQUFlO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQzBCO0FBQzFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3JlY29yZC5qcz8zYjIxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBhcnNlQW55RGVmIH0gZnJvbSBcIi4vYW55LmpzXCI7XG5pbXBvcnQgeyBwYXJzZUJyYW5kZWREZWYgfSBmcm9tIFwiLi9icmFuZGVkLmpzXCI7XG5pbXBvcnQgeyBwYXJzZVN0cmluZ0RlZiB9IGZyb20gXCIuL3N0cmluZy5qc1wiO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYuanNcIjtcbmltcG9ydCB7IFpvZEZpcnN0UGFydHlUeXBlS2luZCB9IGZyb20gXCJ6b2QvdjNcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9yZWNvcmQudHNcbmZ1bmN0aW9uIHBhcnNlUmVjb3JkRGVmKGRlZiwgcmVmcykge1xuXHRpZiAocmVmcy50YXJnZXQgPT09IFwib3BlbkFpXCIpIGNvbnNvbGUud2FybihcIldhcm5pbmc6IE9wZW5BSSBtYXkgbm90IHN1cHBvcnQgcmVjb3JkcyBpbiBzY2hlbWFzISBUcnkgYW4gYXJyYXkgb2Yga2V5LXZhbHVlIHBhaXJzIGluc3RlYWQuXCIpO1xuXHRpZiAocmVmcy50YXJnZXQgPT09IFwib3BlbkFwaTNcIiAmJiBkZWYua2V5VHlwZT8uX2RlZi50eXBlTmFtZSA9PT0gWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVudW0pIHJldHVybiB7XG5cdFx0dHlwZTogXCJvYmplY3RcIixcblx0XHRyZXF1aXJlZDogZGVmLmtleVR5cGUuX2RlZi52YWx1ZXMsXG5cdFx0cHJvcGVydGllczogZGVmLmtleVR5cGUuX2RlZi52YWx1ZXMucmVkdWNlKChhY2MsIGtleSkgPT4gKHtcblx0XHRcdC4uLmFjYyxcblx0XHRcdFtrZXldOiBwYXJzZURlZihkZWYudmFsdWVUeXBlLl9kZWYsIHtcblx0XHRcdFx0Li4ucmVmcyxcblx0XHRcdFx0Y3VycmVudFBhdGg6IFtcblx0XHRcdFx0XHQuLi5yZWZzLmN1cnJlbnRQYXRoLFxuXHRcdFx0XHRcdFwicHJvcGVydGllc1wiLFxuXHRcdFx0XHRcdGtleVxuXHRcdFx0XHRdXG5cdFx0XHR9KSA/PyBwYXJzZUFueURlZihyZWZzKVxuXHRcdH0pLCB7fSksXG5cdFx0YWRkaXRpb25hbFByb3BlcnRpZXM6IHJlZnMucmVqZWN0ZWRBZGRpdGlvbmFsUHJvcGVydGllc1xuXHR9O1xuXHRjb25zdCBzY2hlbWEgPSB7XG5cdFx0dHlwZTogXCJvYmplY3RcIixcblx0XHRhZGRpdGlvbmFsUHJvcGVydGllczogcGFyc2VEZWYoZGVmLnZhbHVlVHlwZS5fZGVmLCB7XG5cdFx0XHQuLi5yZWZzLFxuXHRcdFx0Y3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCJdXG5cdFx0fSkgPz8gcmVmcy5hbGxvd2VkQWRkaXRpb25hbFByb3BlcnRpZXNcblx0fTtcblx0aWYgKHJlZnMudGFyZ2V0ID09PSBcIm9wZW5BcGkzXCIpIHJldHVybiBzY2hlbWE7XG5cdGlmIChkZWYua2V5VHlwZT8uX2RlZi50eXBlTmFtZSA9PT0gWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN0cmluZyAmJiBkZWYua2V5VHlwZS5fZGVmLmNoZWNrcz8ubGVuZ3RoKSB7XG5cdFx0Y29uc3QgeyB0eXBlLC4uLmtleVR5cGUgfSA9IHBhcnNlU3RyaW5nRGVmKGRlZi5rZXlUeXBlLl9kZWYsIHJlZnMpO1xuXHRcdHJldHVybiB7XG5cdFx0XHQuLi5zY2hlbWEsXG5cdFx0XHRwcm9wZXJ0eU5hbWVzOiBrZXlUeXBlXG5cdFx0fTtcblx0fSBlbHNlIGlmIChkZWYua2V5VHlwZT8uX2RlZi50eXBlTmFtZSA9PT0gWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVudW0pIHJldHVybiB7XG5cdFx0Li4uc2NoZW1hLFxuXHRcdHByb3BlcnR5TmFtZXM6IHsgZW51bTogZGVmLmtleVR5cGUuX2RlZi52YWx1ZXMgfVxuXHR9O1xuXHRlbHNlIGlmIChkZWYua2V5VHlwZT8uX2RlZi50eXBlTmFtZSA9PT0gWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJyYW5kZWQgJiYgZGVmLmtleVR5cGUuX2RlZi50eXBlLl9kZWYudHlwZU5hbWUgPT09IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTdHJpbmcgJiYgZGVmLmtleVR5cGUuX2RlZi50eXBlLl9kZWYuY2hlY2tzPy5sZW5ndGgpIHtcblx0XHRjb25zdCB7IHR5cGUsLi4ua2V5VHlwZSB9ID0gcGFyc2VCcmFuZGVkRGVmKGRlZi5rZXlUeXBlLl9kZWYsIHJlZnMpO1xuXHRcdHJldHVybiB7XG5cdFx0XHQuLi5zY2hlbWEsXG5cdFx0XHRwcm9wZXJ0eU5hbWVzOiBrZXlUeXBlXG5cdFx0fTtcblx0fVxuXHRyZXR1cm4gc2NoZW1hO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IHBhcnNlUmVjb3JkRGVmIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWNvcmQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/record.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/set.js":
/*!******************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/set.js ***!
  \******************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseSetDef: () => (/* binding */ parseSetDef)\n/* harmony export */ });\n/* harmony import */ var _errorMessages_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errorMessages.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/errorMessages.js\");\n/* harmony import */ var _parseDef_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../parseDef.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\");\n\n\n\n//#region src/utils/zod-to-json-schema/parsers/set.ts\nfunction parseSetDef(def, refs) {\n\tconst items = (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_1__.parseDef)(def.valueType._def, {\n\t\t...refs,\n\t\tcurrentPath: [...refs.currentPath, \"items\"]\n\t});\n\tconst schema = {\n\t\ttype: \"array\",\n\t\tuniqueItems: true,\n\t\titems\n\t};\n\tif (def.minSize) (0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(schema, \"minItems\", def.minSize.value, def.minSize.message, refs);\n\tif (def.maxSize) (0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(schema, \"maxItems\", def.maxSize.value, def.maxSize.message, refs);\n\treturn schema;\n}\n\n//#endregion\n\n//# sourceMappingURL=set.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3NldC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0U7QUFDdEI7O0FBRTFDO0FBQ0E7QUFDQSxlQUFlLHNEQUFRO0FBQ3ZCO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiw0RUFBeUI7QUFDM0Msa0JBQWtCLDRFQUF5QjtBQUMzQztBQUNBOztBQUVBO0FBQ3VCO0FBQ3ZCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3NldC5qcz8yZjFmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMgfSBmcm9tIFwiLi4vZXJyb3JNZXNzYWdlcy5qc1wiO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYuanNcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9zZXQudHNcbmZ1bmN0aW9uIHBhcnNlU2V0RGVmKGRlZiwgcmVmcykge1xuXHRjb25zdCBpdGVtcyA9IHBhcnNlRGVmKGRlZi52YWx1ZVR5cGUuX2RlZiwge1xuXHRcdC4uLnJlZnMsXG5cdFx0Y3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcIml0ZW1zXCJdXG5cdH0pO1xuXHRjb25zdCBzY2hlbWEgPSB7XG5cdFx0dHlwZTogXCJhcnJheVwiLFxuXHRcdHVuaXF1ZUl0ZW1zOiB0cnVlLFxuXHRcdGl0ZW1zXG5cdH07XG5cdGlmIChkZWYubWluU2l6ZSkgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhzY2hlbWEsIFwibWluSXRlbXNcIiwgZGVmLm1pblNpemUudmFsdWUsIGRlZi5taW5TaXplLm1lc3NhZ2UsIHJlZnMpO1xuXHRpZiAoZGVmLm1heFNpemUpIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMoc2NoZW1hLCBcIm1heEl0ZW1zXCIsIGRlZi5tYXhTaXplLnZhbHVlLCBkZWYubWF4U2l6ZS5tZXNzYWdlLCByZWZzKTtcblx0cmV0dXJuIHNjaGVtYTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBwYXJzZVNldERlZiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2V0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/set.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/string.js":
/*!*********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/string.js ***!
  \*********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseStringDef: () => (/* binding */ parseStringDef),\n/* harmony export */   zodPatterns: () => (/* binding */ zodPatterns)\n/* harmony export */ });\n/* harmony import */ var _errorMessages_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errorMessages.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/errorMessages.js\");\n\n\n//#region src/utils/zod-to-json-schema/parsers/string.ts\nlet emojiRegex = void 0;\n/**\n* Generated from the regular expressions found here as of 2024-05-22:\n* https://github.com/colinhacks/zod/blob/master/src/types.ts.\n*\n* Expressions with /i flag have been changed accordingly.\n*/\nconst zodPatterns = {\n\tcuid: /^[cC][^\\s-]{8,}$/,\n\tcuid2: /^[0-9a-z]+$/,\n\tulid: /^[0-9A-HJKMNP-TV-Z]{26}$/,\n\temail: /^(?!\\.)(?!.*\\.\\.)([a-zA-Z0-9_'+\\-\\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\\-]*\\.)+[a-zA-Z]{2,}$/,\n\temoji: () => {\n\t\tif (emojiRegex === void 0) emojiRegex = RegExp(\"^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$\", \"u\");\n\t\treturn emojiRegex;\n\t},\n\tuuid: /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/,\n\tipv4: /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,\n\tipv4Cidr: /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/(3[0-2]|[12]?[0-9])$/,\n\tipv6: /^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,\n\tipv6Cidr: /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,\n\tbase64: /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,\n\tbase64url: /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,\n\tnanoid: /^[a-zA-Z0-9_-]{21}$/,\n\tjwt: /^[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]*$/\n};\nfunction parseStringDef(def, refs) {\n\tconst res = { type: \"string\" };\n\tif (def.checks) for (const check of def.checks) switch (check.kind) {\n\t\tcase \"min\":\n\t\t\t(0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"minLength\", typeof res.minLength === \"number\" ? Math.max(res.minLength, check.value) : check.value, check.message, refs);\n\t\t\tbreak;\n\t\tcase \"max\":\n\t\t\t(0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"maxLength\", typeof res.maxLength === \"number\" ? Math.min(res.maxLength, check.value) : check.value, check.message, refs);\n\t\t\tbreak;\n\t\tcase \"email\":\n\t\t\tswitch (refs.emailStrategy) {\n\t\t\t\tcase \"format:email\":\n\t\t\t\t\taddFormat(res, \"email\", check.message, refs);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"format:idn-email\":\n\t\t\t\t\taddFormat(res, \"idn-email\", check.message, refs);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"pattern:zod\":\n\t\t\t\t\taddPattern(res, zodPatterns.email, check.message, refs);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"url\":\n\t\t\taddFormat(res, \"uri\", check.message, refs);\n\t\t\tbreak;\n\t\tcase \"uuid\":\n\t\t\taddFormat(res, \"uuid\", check.message, refs);\n\t\t\tbreak;\n\t\tcase \"regex\":\n\t\t\taddPattern(res, check.regex, check.message, refs);\n\t\t\tbreak;\n\t\tcase \"cuid\":\n\t\t\taddPattern(res, zodPatterns.cuid, check.message, refs);\n\t\t\tbreak;\n\t\tcase \"cuid2\":\n\t\t\taddPattern(res, zodPatterns.cuid2, check.message, refs);\n\t\t\tbreak;\n\t\tcase \"startsWith\":\n\t\t\taddPattern(res, RegExp(`^${escapeLiteralCheckValue(check.value, refs)}`), check.message, refs);\n\t\t\tbreak;\n\t\tcase \"endsWith\":\n\t\t\taddPattern(res, RegExp(`${escapeLiteralCheckValue(check.value, refs)}$`), check.message, refs);\n\t\t\tbreak;\n\t\tcase \"datetime\":\n\t\t\taddFormat(res, \"date-time\", check.message, refs);\n\t\t\tbreak;\n\t\tcase \"date\":\n\t\t\taddFormat(res, \"date\", check.message, refs);\n\t\t\tbreak;\n\t\tcase \"time\":\n\t\t\taddFormat(res, \"time\", check.message, refs);\n\t\t\tbreak;\n\t\tcase \"duration\":\n\t\t\taddFormat(res, \"duration\", check.message, refs);\n\t\t\tbreak;\n\t\tcase \"length\":\n\t\t\t(0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"minLength\", typeof res.minLength === \"number\" ? Math.max(res.minLength, check.value) : check.value, check.message, refs);\n\t\t\t(0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"maxLength\", typeof res.maxLength === \"number\" ? Math.min(res.maxLength, check.value) : check.value, check.message, refs);\n\t\t\tbreak;\n\t\tcase \"includes\":\n\t\t\taddPattern(res, RegExp(escapeLiteralCheckValue(check.value, refs)), check.message, refs);\n\t\t\tbreak;\n\t\tcase \"ip\":\n\t\t\tif (check.version !== \"v6\") addFormat(res, \"ipv4\", check.message, refs);\n\t\t\tif (check.version !== \"v4\") addFormat(res, \"ipv6\", check.message, refs);\n\t\t\tbreak;\n\t\tcase \"base64url\":\n\t\t\taddPattern(res, zodPatterns.base64url, check.message, refs);\n\t\t\tbreak;\n\t\tcase \"jwt\":\n\t\t\taddPattern(res, zodPatterns.jwt, check.message, refs);\n\t\t\tbreak;\n\t\tcase \"cidr\":\n\t\t\tif (check.version !== \"v6\") addPattern(res, zodPatterns.ipv4Cidr, check.message, refs);\n\t\t\tif (check.version !== \"v4\") addPattern(res, zodPatterns.ipv6Cidr, check.message, refs);\n\t\t\tbreak;\n\t\tcase \"emoji\":\n\t\t\taddPattern(res, zodPatterns.emoji(), check.message, refs);\n\t\t\tbreak;\n\t\tcase \"ulid\":\n\t\t\taddPattern(res, zodPatterns.ulid, check.message, refs);\n\t\t\tbreak;\n\t\tcase \"base64\":\n\t\t\tswitch (refs.base64Strategy) {\n\t\t\t\tcase \"format:binary\":\n\t\t\t\t\taddFormat(res, \"binary\", check.message, refs);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"contentEncoding:base64\":\n\t\t\t\t\t(0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(res, \"contentEncoding\", \"base64\", check.message, refs);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"pattern:zod\":\n\t\t\t\t\taddPattern(res, zodPatterns.base64, check.message, refs);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"nanoid\":\n\t\t\taddPattern(res, zodPatterns.nanoid, check.message, refs);\n\t\t\tbreak;\n\t\tcase \"toLowerCase\":\n\t\tcase \"toUpperCase\":\n\t\tcase \"trim\": break;\n\t\tdefault:\n /* c8 ignore next */\n\t\t((_) => {})(check);\n\t}\n\treturn res;\n}\nfunction escapeLiteralCheckValue(literal, refs) {\n\treturn refs.patternStrategy === \"escape\" ? escapeNonAlphaNumeric(literal) : literal;\n}\nconst ALPHA_NUMERIC = /* @__PURE__ */ new Set(\"ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789\");\nfunction escapeNonAlphaNumeric(source) {\n\tlet result = \"\";\n\tfor (let i = 0; i < source.length; i++) {\n\t\tif (!ALPHA_NUMERIC.has(source[i])) result += \"\\\\\";\n\t\tresult += source[i];\n\t}\n\treturn result;\n}\nfunction addFormat(schema, value, message, refs) {\n\tif (schema.format || schema.anyOf?.some((x) => x.format)) {\n\t\tif (!schema.anyOf) schema.anyOf = [];\n\t\tif (schema.format) {\n\t\t\tschema.anyOf.push({\n\t\t\t\tformat: schema.format,\n\t\t\t\t...schema.errorMessage && refs.errorMessages && { errorMessage: { format: schema.errorMessage.format } }\n\t\t\t});\n\t\t\tdelete schema.format;\n\t\t\tif (schema.errorMessage) {\n\t\t\t\tdelete schema.errorMessage.format;\n\t\t\t\tif (Object.keys(schema.errorMessage).length === 0) delete schema.errorMessage;\n\t\t\t}\n\t\t}\n\t\tschema.anyOf.push({\n\t\t\tformat: value,\n\t\t\t...message && refs.errorMessages && { errorMessage: { format: message } }\n\t\t});\n\t} else (0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(schema, \"format\", value, message, refs);\n}\nfunction addPattern(schema, regex, message, refs) {\n\tif (schema.pattern || schema.allOf?.some((x) => x.pattern)) {\n\t\tif (!schema.allOf) schema.allOf = [];\n\t\tif (schema.pattern) {\n\t\t\tschema.allOf.push({\n\t\t\t\tpattern: schema.pattern,\n\t\t\t\t...schema.errorMessage && refs.errorMessages && { errorMessage: { pattern: schema.errorMessage.pattern } }\n\t\t\t});\n\t\t\tdelete schema.pattern;\n\t\t\tif (schema.errorMessage) {\n\t\t\t\tdelete schema.errorMessage.pattern;\n\t\t\t\tif (Object.keys(schema.errorMessage).length === 0) delete schema.errorMessage;\n\t\t\t}\n\t\t}\n\t\tschema.allOf.push({\n\t\t\tpattern: stringifyRegExpWithFlags(regex, refs),\n\t\t\t...message && refs.errorMessages && { errorMessage: { pattern: message } }\n\t\t});\n\t} else (0,_errorMessages_js__WEBPACK_IMPORTED_MODULE_0__.setResponseValueAndErrors)(schema, \"pattern\", stringifyRegExpWithFlags(regex, refs), message, refs);\n}\nfunction stringifyRegExpWithFlags(regex, refs) {\n\tif (!refs.applyRegexFlags || !regex.flags) return regex.source;\n\tconst flags = {\n\t\ti: regex.flags.includes(\"i\"),\n\t\tm: regex.flags.includes(\"m\"),\n\t\ts: regex.flags.includes(\"s\")\n\t};\n\tconst source = flags.i ? regex.source.toLowerCase() : regex.source;\n\tlet pattern = \"\";\n\tlet isEscaped = false;\n\tlet inCharGroup = false;\n\tlet inCharRange = false;\n\tfor (let i = 0; i < source.length; i++) {\n\t\tif (isEscaped) {\n\t\t\tpattern += source[i];\n\t\t\tisEscaped = false;\n\t\t\tcontinue;\n\t\t}\n\t\tif (flags.i) {\n\t\t\tif (inCharGroup) {\n\t\t\t\tif (source[i].match(/[a-z]/)) {\n\t\t\t\t\tif (inCharRange) {\n\t\t\t\t\t\tpattern += source[i];\n\t\t\t\t\t\tpattern += `${source[i - 2]}-${source[i]}`.toUpperCase();\n\t\t\t\t\t\tinCharRange = false;\n\t\t\t\t\t} else if (source[i + 1] === \"-\" && source[i + 2]?.match(/[a-z]/)) {\n\t\t\t\t\t\tpattern += source[i];\n\t\t\t\t\t\tinCharRange = true;\n\t\t\t\t\t} else pattern += `${source[i]}${source[i].toUpperCase()}`;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t} else if (source[i].match(/[a-z]/)) {\n\t\t\t\tpattern += `[${source[i]}${source[i].toUpperCase()}]`;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t\tif (flags.m) {\n\t\t\tif (source[i] === \"^\") {\n\t\t\t\tpattern += `(^|(?<=[\\r\\n]))`;\n\t\t\t\tcontinue;\n\t\t\t} else if (source[i] === \"$\") {\n\t\t\t\tpattern += `($|(?=[\\r\\n]))`;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t\tif (flags.s && source[i] === \".\") {\n\t\t\tpattern += inCharGroup ? `${source[i]}\\r\\n` : `[${source[i]}\\r\\n]`;\n\t\t\tcontinue;\n\t\t}\n\t\tpattern += source[i];\n\t\tif (source[i] === \"\\\\\") isEscaped = true;\n\t\telse if (inCharGroup && source[i] === \"]\") inCharGroup = false;\n\t\telse if (!inCharGroup && source[i] === \"[\") inCharGroup = true;\n\t}\n\ttry {\n\t\tnew RegExp(pattern);\n\t} catch {\n\t\tconsole.warn(`Could not convert regex pattern at ${refs.currentPath.join(\"/\")} to a flag-independent form! Falling back to the flag-ignorant source`);\n\t\treturn regex.source;\n\t}\n\treturn pattern;\n}\n\n//#endregion\n\n//# sourceMappingURL=string.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3N0cmluZy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0U7O0FBRWhFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixHQUFHO0FBQ3ZCO0FBQ0EsNEJBQTRCLEdBQUc7QUFDL0IscUdBQXFHLEdBQUc7QUFDeEc7QUFDQSx3REFBd0Qsc0JBQXNCLEtBQUssZ0JBQWdCO0FBQ25HO0FBQ0EsRUFBRTtBQUNGLHFCQUFxQixFQUFFLGVBQWUsRUFBRSxlQUFlLEVBQUUsZUFBZSxFQUFFLGVBQWUsR0FBRztBQUM1RixvRUFBb0UsRUFBRTtBQUN0RSx3RUFBd0UsRUFBRTtBQUMxRSxvQkFBb0IsSUFBSSxHQUFHLEVBQUUsYUFBYSxJQUFJLEdBQUcsSUFBSSxXQUFXLElBQUksR0FBRyxFQUFFLFdBQVcsSUFBSSxHQUFHLElBQUksV0FBVyxJQUFJLEdBQUcsRUFBRSxXQUFXLElBQUksR0FBRyxJQUFJLFdBQVcsSUFBSSxHQUFHLEVBQUUsV0FBVyxJQUFJLEdBQUcsSUFBSSxXQUFXLElBQUksR0FBRyxFQUFFLFdBQVcsSUFBSSxHQUFHLElBQUksV0FBVyxJQUFJLEdBQUcsRUFBRSxXQUFXLElBQUksR0FBRyxJQUFJLFdBQVcsSUFBSSxtQ0FBbUMsRUFBRSxTQUFTLElBQUksTUFBTSxFQUFFLGlDQUFpQyxFQUFFLFNBQVMsSUFBSTtBQUNoWSwyQkFBMkIsSUFBSSxHQUFHLElBQUksWUFBWSxJQUFJLGNBQWMsSUFBSSxHQUFHLElBQUksZUFBZSxJQUFJLEdBQUcsSUFBSSxhQUFhLElBQUksY0FBYyxJQUFJLEdBQUcsSUFBSSxjQUFjLElBQUksRUFBRSxJQUFJLGNBQWMsSUFBSSxHQUFHLElBQUksY0FBYyxJQUFJLEVBQUUsSUFBSSxjQUFjLElBQUksR0FBRyxJQUFJLGNBQWMsSUFBSSxFQUFFLElBQUksY0FBYyxJQUFJLEdBQUcsSUFBSSxjQUFjLElBQUksRUFBRSxJQUFJLGFBQWEsSUFBSSxnQkFBZ0IsSUFBSSxFQUFFLElBQUksa0JBQWtCLElBQUksRUFBRSxJQUFJLHVCQUF1QixJQUFJLEVBQUUsSUFBSSxhQUFhLEdBQUcsWUFBWSxJQUFJLEVBQUUsSUFBSSxHQUFHLElBQUksb0JBQW9CLElBQUksT0FBTyxJQUFJLFVBQVUsSUFBSSxtQkFBbUIsSUFBSSxPQUFPLElBQUksb0JBQW9CLElBQUksR0FBRyxJQUFJLHFCQUFxQixJQUFJLE9BQU8sSUFBSSxVQUFVLElBQUksbUJBQW1CLElBQUksT0FBTyxJQUFJO0FBQ3pwQiwwQkFBMEIsRUFBRSxrQkFBa0IsRUFBRSxtQkFBbUIsRUFBRTtBQUNyRSw2QkFBNkIsRUFBRSxrQkFBa0IsRUFBRSxzQkFBc0IsRUFBRTtBQUMzRSx5QkFBeUIsR0FBRztBQUM1QjtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBLEdBQUcsNEVBQXlCO0FBQzVCO0FBQ0E7QUFDQSxHQUFHLDRFQUF5QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsMkNBQTJDO0FBQ3pFO0FBQ0E7QUFDQSw2QkFBNkIsMkNBQTJDO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLDRFQUF5QjtBQUM1QixHQUFHLDRFQUF5QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLDRFQUF5QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixtQkFBbUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxnQkFBZ0I7QUFDdEUsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsZ0JBQWdCO0FBQ3pELEdBQUc7QUFDSCxHQUFHLEtBQUssNEVBQXlCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELGdCQUFnQjtBQUN0RSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxnQkFBZ0I7QUFDekQsR0FBRztBQUNILEdBQUcsS0FBSyw0RUFBeUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsbUJBQW1CO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGNBQWMsR0FBRyxVQUFVO0FBQy9DO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPLG1CQUFtQixVQUFVLEVBQUUsd0JBQXdCO0FBQzlEO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsbUJBQW1CLFVBQVUsRUFBRSx3QkFBd0I7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixVQUFVLFlBQVksVUFBVTtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gscURBQXFELDRCQUE0QjtBQUNqRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUN1QztBQUN2QyIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9zdHJpbmcuanM/ZDRmZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzIH0gZnJvbSBcIi4uL2Vycm9yTWVzc2FnZXMuanNcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9zdHJpbmcudHNcbmxldCBlbW9qaVJlZ2V4ID0gdm9pZCAwO1xuLyoqXG4qIEdlbmVyYXRlZCBmcm9tIHRoZSByZWd1bGFyIGV4cHJlc3Npb25zIGZvdW5kIGhlcmUgYXMgb2YgMjAyNC0wNS0yMjpcbiogaHR0cHM6Ly9naXRodWIuY29tL2NvbGluaGFja3Mvem9kL2Jsb2IvbWFzdGVyL3NyYy90eXBlcy50cy5cbipcbiogRXhwcmVzc2lvbnMgd2l0aCAvaSBmbGFnIGhhdmUgYmVlbiBjaGFuZ2VkIGFjY29yZGluZ2x5LlxuKi9cbmNvbnN0IHpvZFBhdHRlcm5zID0ge1xuXHRjdWlkOiAvXltjQ11bXlxccy1dezgsfSQvLFxuXHRjdWlkMjogL15bMC05YS16XSskLyxcblx0dWxpZDogL15bMC05QS1ISktNTlAtVFYtWl17MjZ9JC8sXG5cdGVtYWlsOiAvXig/IVxcLikoPyEuKlxcLlxcLikoW2EtekEtWjAtOV8nK1xcLVxcLl0qKVthLXpBLVowLTlfKy1dQChbYS16QS1aMC05XVthLXpBLVowLTlcXC1dKlxcLikrW2EtekEtWl17Mix9JC8sXG5cdGVtb2ppOiAoKSA9PiB7XG5cdFx0aWYgKGVtb2ppUmVnZXggPT09IHZvaWQgMCkgZW1vamlSZWdleCA9IFJlZ0V4cChcIl4oXFxcXHB7RXh0ZW5kZWRfUGljdG9ncmFwaGljfXxcXFxccHtFbW9qaV9Db21wb25lbnR9KSskXCIsIFwidVwiKTtcblx0XHRyZXR1cm4gZW1vamlSZWdleDtcblx0fSxcblx0dXVpZDogL15bMC05YS1mQS1GXXs4fVxcYi1bMC05YS1mQS1GXXs0fVxcYi1bMC05YS1mQS1GXXs0fVxcYi1bMC05YS1mQS1GXXs0fVxcYi1bMC05YS1mQS1GXXsxMn0kLyxcblx0aXB2NDogL14oPzooPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSkkLyxcblx0aXB2NENpZHI6IC9eKD86KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKVxcLil7M30oPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pXFwvKDNbMC0yXXxbMTJdP1swLTldKSQvLFxuXHRpcHY2OiAvXigoW2EtZjAtOV17MSw0fTopezd9fDo6KFthLWYwLTldezEsNH06KXswLDZ9fChbYS1mMC05XXsxLDR9Oil7MX06KFthLWYwLTldezEsNH06KXswLDV9fChbYS1mMC05XXsxLDR9Oil7Mn06KFthLWYwLTldezEsNH06KXswLDR9fChbYS1mMC05XXsxLDR9Oil7M306KFthLWYwLTldezEsNH06KXswLDN9fChbYS1mMC05XXsxLDR9Oil7NH06KFthLWYwLTldezEsNH06KXswLDJ9fChbYS1mMC05XXsxLDR9Oil7NX06KFthLWYwLTldezEsNH06KXswLDF9KShbYS1mMC05XXsxLDR9fCgoKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKVxcLil7M30oKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKSkkLyxcblx0aXB2NkNpZHI6IC9eKChbMC05YS1mQS1GXXsxLDR9Oil7Nyw3fVswLTlhLWZBLUZdezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDd9OnwoWzAtOWEtZkEtRl17MSw0fTopezEsNn06WzAtOWEtZkEtRl17MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsNX0oOlswLTlhLWZBLUZdezEsNH0pezEsMn18KFswLTlhLWZBLUZdezEsNH06KXsxLDR9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDN9fChbMC05YS1mQS1GXXsxLDR9Oil7MSwzfSg6WzAtOWEtZkEtRl17MSw0fSl7MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsMn0oOlswLTlhLWZBLUZdezEsNH0pezEsNX18WzAtOWEtZkEtRl17MSw0fTooKDpbMC05YS1mQS1GXXsxLDR9KXsxLDZ9KXw6KCg6WzAtOWEtZkEtRl17MSw0fSl7MSw3fXw6KXxmZTgwOig6WzAtOWEtZkEtRl17MCw0fSl7MCw0fSVbMC05YS16QS1aXXsxLH18OjooZmZmZig6MHsxLDR9KXswLDF9Oil7MCwxfSgoMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pXFwuKXszLDN9KDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKXwoWzAtOWEtZkEtRl17MSw0fTopezEsNH06KCgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSlcXC4pezMsM30oMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pKVxcLygxMlswLThdfDFbMDFdWzAtOV18WzEtOV0/WzAtOV0pJC8sXG5cdGJhc2U2NDogL14oWzAtOWEtekEtWisvXXs0fSkqKChbMC05YS16QS1aKy9dezJ9PT0pfChbMC05YS16QS1aKy9dezN9PSkpPyQvLFxuXHRiYXNlNjR1cmw6IC9eKFswLTlhLXpBLVotX117NH0pKigoWzAtOWEtekEtWi1fXXsyfSg9PSk/KXwoWzAtOWEtekEtWi1fXXszfSg9KT8pKT8kLyxcblx0bmFub2lkOiAvXlthLXpBLVowLTlfLV17MjF9JC8sXG5cdGp3dDogL15bQS1aYS16MC05LV9dK1xcLltBLVphLXowLTktX10rXFwuW0EtWmEtejAtOS1fXSokL1xufTtcbmZ1bmN0aW9uIHBhcnNlU3RyaW5nRGVmKGRlZiwgcmVmcykge1xuXHRjb25zdCByZXMgPSB7IHR5cGU6IFwic3RyaW5nXCIgfTtcblx0aWYgKGRlZi5jaGVja3MpIGZvciAoY29uc3QgY2hlY2sgb2YgZGVmLmNoZWNrcykgc3dpdGNoIChjaGVjay5raW5kKSB7XG5cdFx0Y2FzZSBcIm1pblwiOlxuXHRcdFx0c2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwibWluTGVuZ3RoXCIsIHR5cGVvZiByZXMubWluTGVuZ3RoID09PSBcIm51bWJlclwiID8gTWF0aC5tYXgocmVzLm1pbkxlbmd0aCwgY2hlY2sudmFsdWUpIDogY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcIm1heFwiOlxuXHRcdFx0c2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwibWF4TGVuZ3RoXCIsIHR5cGVvZiByZXMubWF4TGVuZ3RoID09PSBcIm51bWJlclwiID8gTWF0aC5taW4ocmVzLm1heExlbmd0aCwgY2hlY2sudmFsdWUpIDogY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcImVtYWlsXCI6XG5cdFx0XHRzd2l0Y2ggKHJlZnMuZW1haWxTdHJhdGVneSkge1xuXHRcdFx0XHRjYXNlIFwiZm9ybWF0OmVtYWlsXCI6XG5cdFx0XHRcdFx0YWRkRm9ybWF0KHJlcywgXCJlbWFpbFwiLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcImZvcm1hdDppZG4tZW1haWxcIjpcblx0XHRcdFx0XHRhZGRGb3JtYXQocmVzLCBcImlkbi1lbWFpbFwiLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcInBhdHRlcm46em9kXCI6XG5cdFx0XHRcdFx0YWRkUGF0dGVybihyZXMsIHpvZFBhdHRlcm5zLmVtYWlsLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJ1cmxcIjpcblx0XHRcdGFkZEZvcm1hdChyZXMsIFwidXJpXCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcInV1aWRcIjpcblx0XHRcdGFkZEZvcm1hdChyZXMsIFwidXVpZFwiLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJyZWdleFwiOlxuXHRcdFx0YWRkUGF0dGVybihyZXMsIGNoZWNrLnJlZ2V4LCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJjdWlkXCI6XG5cdFx0XHRhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuY3VpZCwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwiY3VpZDJcIjpcblx0XHRcdGFkZFBhdHRlcm4ocmVzLCB6b2RQYXR0ZXJucy5jdWlkMiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwic3RhcnRzV2l0aFwiOlxuXHRcdFx0YWRkUGF0dGVybihyZXMsIFJlZ0V4cChgXiR7ZXNjYXBlTGl0ZXJhbENoZWNrVmFsdWUoY2hlY2sudmFsdWUsIHJlZnMpfWApLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJlbmRzV2l0aFwiOlxuXHRcdFx0YWRkUGF0dGVybihyZXMsIFJlZ0V4cChgJHtlc2NhcGVMaXRlcmFsQ2hlY2tWYWx1ZShjaGVjay52YWx1ZSwgcmVmcyl9JGApLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJkYXRldGltZVwiOlxuXHRcdFx0YWRkRm9ybWF0KHJlcywgXCJkYXRlLXRpbWVcIiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwiZGF0ZVwiOlxuXHRcdFx0YWRkRm9ybWF0KHJlcywgXCJkYXRlXCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcInRpbWVcIjpcblx0XHRcdGFkZEZvcm1hdChyZXMsIFwidGltZVwiLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJkdXJhdGlvblwiOlxuXHRcdFx0YWRkRm9ybWF0KHJlcywgXCJkdXJhdGlvblwiLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJsZW5ndGhcIjpcblx0XHRcdHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcIm1pbkxlbmd0aFwiLCB0eXBlb2YgcmVzLm1pbkxlbmd0aCA9PT0gXCJudW1iZXJcIiA/IE1hdGgubWF4KHJlcy5taW5MZW5ndGgsIGNoZWNrLnZhbHVlKSA6IGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcIm1heExlbmd0aFwiLCB0eXBlb2YgcmVzLm1heExlbmd0aCA9PT0gXCJudW1iZXJcIiA/IE1hdGgubWluKHJlcy5tYXhMZW5ndGgsIGNoZWNrLnZhbHVlKSA6IGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJpbmNsdWRlc1wiOlxuXHRcdFx0YWRkUGF0dGVybihyZXMsIFJlZ0V4cChlc2NhcGVMaXRlcmFsQ2hlY2tWYWx1ZShjaGVjay52YWx1ZSwgcmVmcykpLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJpcFwiOlxuXHRcdFx0aWYgKGNoZWNrLnZlcnNpb24gIT09IFwidjZcIikgYWRkRm9ybWF0KHJlcywgXCJpcHY0XCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0aWYgKGNoZWNrLnZlcnNpb24gIT09IFwidjRcIikgYWRkRm9ybWF0KHJlcywgXCJpcHY2XCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcImJhc2U2NHVybFwiOlxuXHRcdFx0YWRkUGF0dGVybihyZXMsIHpvZFBhdHRlcm5zLmJhc2U2NHVybCwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwiand0XCI6XG5cdFx0XHRhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuand0LCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJjaWRyXCI6XG5cdFx0XHRpZiAoY2hlY2sudmVyc2lvbiAhPT0gXCJ2NlwiKSBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuaXB2NENpZHIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0aWYgKGNoZWNrLnZlcnNpb24gIT09IFwidjRcIikgYWRkUGF0dGVybihyZXMsIHpvZFBhdHRlcm5zLmlwdjZDaWRyLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJlbW9qaVwiOlxuXHRcdFx0YWRkUGF0dGVybihyZXMsIHpvZFBhdHRlcm5zLmVtb2ppKCksIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcInVsaWRcIjpcblx0XHRcdGFkZFBhdHRlcm4ocmVzLCB6b2RQYXR0ZXJucy51bGlkLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJiYXNlNjRcIjpcblx0XHRcdHN3aXRjaCAocmVmcy5iYXNlNjRTdHJhdGVneSkge1xuXHRcdFx0XHRjYXNlIFwiZm9ybWF0OmJpbmFyeVwiOlxuXHRcdFx0XHRcdGFkZEZvcm1hdChyZXMsIFwiYmluYXJ5XCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFwiY29udGVudEVuY29kaW5nOmJhc2U2NFwiOlxuXHRcdFx0XHRcdHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcImNvbnRlbnRFbmNvZGluZ1wiLCBcImJhc2U2NFwiLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcInBhdHRlcm46em9kXCI6XG5cdFx0XHRcdFx0YWRkUGF0dGVybihyZXMsIHpvZFBhdHRlcm5zLmJhc2U2NCwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwibmFub2lkXCI6XG5cdFx0XHRhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMubmFub2lkLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJ0b0xvd2VyQ2FzZVwiOlxuXHRcdGNhc2UgXCJ0b1VwcGVyQ2FzZVwiOlxuXHRcdGNhc2UgXCJ0cmltXCI6IGJyZWFrO1xuXHRcdGRlZmF1bHQ6XG4gLyogYzggaWdub3JlIG5leHQgKi9cblx0XHQoKF8pID0+IHt9KShjaGVjayk7XG5cdH1cblx0cmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIGVzY2FwZUxpdGVyYWxDaGVja1ZhbHVlKGxpdGVyYWwsIHJlZnMpIHtcblx0cmV0dXJuIHJlZnMucGF0dGVyblN0cmF0ZWd5ID09PSBcImVzY2FwZVwiID8gZXNjYXBlTm9uQWxwaGFOdW1lcmljKGxpdGVyYWwpIDogbGl0ZXJhbDtcbn1cbmNvbnN0IEFMUEhBX05VTUVSSUMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldChcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2eHl6MDEyMzQ1Njc4OVwiKTtcbmZ1bmN0aW9uIGVzY2FwZU5vbkFscGhhTnVtZXJpYyhzb3VyY2UpIHtcblx0bGV0IHJlc3VsdCA9IFwiXCI7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgc291cmNlLmxlbmd0aDsgaSsrKSB7XG5cdFx0aWYgKCFBTFBIQV9OVU1FUklDLmhhcyhzb3VyY2VbaV0pKSByZXN1bHQgKz0gXCJcXFxcXCI7XG5cdFx0cmVzdWx0ICs9IHNvdXJjZVtpXTtcblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gYWRkRm9ybWF0KHNjaGVtYSwgdmFsdWUsIG1lc3NhZ2UsIHJlZnMpIHtcblx0aWYgKHNjaGVtYS5mb3JtYXQgfHwgc2NoZW1hLmFueU9mPy5zb21lKCh4KSA9PiB4LmZvcm1hdCkpIHtcblx0XHRpZiAoIXNjaGVtYS5hbnlPZikgc2NoZW1hLmFueU9mID0gW107XG5cdFx0aWYgKHNjaGVtYS5mb3JtYXQpIHtcblx0XHRcdHNjaGVtYS5hbnlPZi5wdXNoKHtcblx0XHRcdFx0Zm9ybWF0OiBzY2hlbWEuZm9ybWF0LFxuXHRcdFx0XHQuLi5zY2hlbWEuZXJyb3JNZXNzYWdlICYmIHJlZnMuZXJyb3JNZXNzYWdlcyAmJiB7IGVycm9yTWVzc2FnZTogeyBmb3JtYXQ6IHNjaGVtYS5lcnJvck1lc3NhZ2UuZm9ybWF0IH0gfVxuXHRcdFx0fSk7XG5cdFx0XHRkZWxldGUgc2NoZW1hLmZvcm1hdDtcblx0XHRcdGlmIChzY2hlbWEuZXJyb3JNZXNzYWdlKSB7XG5cdFx0XHRcdGRlbGV0ZSBzY2hlbWEuZXJyb3JNZXNzYWdlLmZvcm1hdDtcblx0XHRcdFx0aWYgKE9iamVjdC5rZXlzKHNjaGVtYS5lcnJvck1lc3NhZ2UpLmxlbmd0aCA9PT0gMCkgZGVsZXRlIHNjaGVtYS5lcnJvck1lc3NhZ2U7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHNjaGVtYS5hbnlPZi5wdXNoKHtcblx0XHRcdGZvcm1hdDogdmFsdWUsXG5cdFx0XHQuLi5tZXNzYWdlICYmIHJlZnMuZXJyb3JNZXNzYWdlcyAmJiB7IGVycm9yTWVzc2FnZTogeyBmb3JtYXQ6IG1lc3NhZ2UgfSB9XG5cdFx0fSk7XG5cdH0gZWxzZSBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHNjaGVtYSwgXCJmb3JtYXRcIiwgdmFsdWUsIG1lc3NhZ2UsIHJlZnMpO1xufVxuZnVuY3Rpb24gYWRkUGF0dGVybihzY2hlbWEsIHJlZ2V4LCBtZXNzYWdlLCByZWZzKSB7XG5cdGlmIChzY2hlbWEucGF0dGVybiB8fCBzY2hlbWEuYWxsT2Y/LnNvbWUoKHgpID0+IHgucGF0dGVybikpIHtcblx0XHRpZiAoIXNjaGVtYS5hbGxPZikgc2NoZW1hLmFsbE9mID0gW107XG5cdFx0aWYgKHNjaGVtYS5wYXR0ZXJuKSB7XG5cdFx0XHRzY2hlbWEuYWxsT2YucHVzaCh7XG5cdFx0XHRcdHBhdHRlcm46IHNjaGVtYS5wYXR0ZXJuLFxuXHRcdFx0XHQuLi5zY2hlbWEuZXJyb3JNZXNzYWdlICYmIHJlZnMuZXJyb3JNZXNzYWdlcyAmJiB7IGVycm9yTWVzc2FnZTogeyBwYXR0ZXJuOiBzY2hlbWEuZXJyb3JNZXNzYWdlLnBhdHRlcm4gfSB9XG5cdFx0XHR9KTtcblx0XHRcdGRlbGV0ZSBzY2hlbWEucGF0dGVybjtcblx0XHRcdGlmIChzY2hlbWEuZXJyb3JNZXNzYWdlKSB7XG5cdFx0XHRcdGRlbGV0ZSBzY2hlbWEuZXJyb3JNZXNzYWdlLnBhdHRlcm47XG5cdFx0XHRcdGlmIChPYmplY3Qua2V5cyhzY2hlbWEuZXJyb3JNZXNzYWdlKS5sZW5ndGggPT09IDApIGRlbGV0ZSBzY2hlbWEuZXJyb3JNZXNzYWdlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRzY2hlbWEuYWxsT2YucHVzaCh7XG5cdFx0XHRwYXR0ZXJuOiBzdHJpbmdpZnlSZWdFeHBXaXRoRmxhZ3MocmVnZXgsIHJlZnMpLFxuXHRcdFx0Li4ubWVzc2FnZSAmJiByZWZzLmVycm9yTWVzc2FnZXMgJiYgeyBlcnJvck1lc3NhZ2U6IHsgcGF0dGVybjogbWVzc2FnZSB9IH1cblx0XHR9KTtcblx0fSBlbHNlIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMoc2NoZW1hLCBcInBhdHRlcm5cIiwgc3RyaW5naWZ5UmVnRXhwV2l0aEZsYWdzKHJlZ2V4LCByZWZzKSwgbWVzc2FnZSwgcmVmcyk7XG59XG5mdW5jdGlvbiBzdHJpbmdpZnlSZWdFeHBXaXRoRmxhZ3MocmVnZXgsIHJlZnMpIHtcblx0aWYgKCFyZWZzLmFwcGx5UmVnZXhGbGFncyB8fCAhcmVnZXguZmxhZ3MpIHJldHVybiByZWdleC5zb3VyY2U7XG5cdGNvbnN0IGZsYWdzID0ge1xuXHRcdGk6IHJlZ2V4LmZsYWdzLmluY2x1ZGVzKFwiaVwiKSxcblx0XHRtOiByZWdleC5mbGFncy5pbmNsdWRlcyhcIm1cIiksXG5cdFx0czogcmVnZXguZmxhZ3MuaW5jbHVkZXMoXCJzXCIpXG5cdH07XG5cdGNvbnN0IHNvdXJjZSA9IGZsYWdzLmkgPyByZWdleC5zb3VyY2UudG9Mb3dlckNhc2UoKSA6IHJlZ2V4LnNvdXJjZTtcblx0bGV0IHBhdHRlcm4gPSBcIlwiO1xuXHRsZXQgaXNFc2NhcGVkID0gZmFsc2U7XG5cdGxldCBpbkNoYXJHcm91cCA9IGZhbHNlO1xuXHRsZXQgaW5DaGFyUmFuZ2UgPSBmYWxzZTtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyBpKyspIHtcblx0XHRpZiAoaXNFc2NhcGVkKSB7XG5cdFx0XHRwYXR0ZXJuICs9IHNvdXJjZVtpXTtcblx0XHRcdGlzRXNjYXBlZCA9IGZhbHNlO1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXHRcdGlmIChmbGFncy5pKSB7XG5cdFx0XHRpZiAoaW5DaGFyR3JvdXApIHtcblx0XHRcdFx0aWYgKHNvdXJjZVtpXS5tYXRjaCgvW2Etel0vKSkge1xuXHRcdFx0XHRcdGlmIChpbkNoYXJSYW5nZSkge1xuXHRcdFx0XHRcdFx0cGF0dGVybiArPSBzb3VyY2VbaV07XG5cdFx0XHRcdFx0XHRwYXR0ZXJuICs9IGAke3NvdXJjZVtpIC0gMl19LSR7c291cmNlW2ldfWAudG9VcHBlckNhc2UoKTtcblx0XHRcdFx0XHRcdGluQ2hhclJhbmdlID0gZmFsc2U7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChzb3VyY2VbaSArIDFdID09PSBcIi1cIiAmJiBzb3VyY2VbaSArIDJdPy5tYXRjaCgvW2Etel0vKSkge1xuXHRcdFx0XHRcdFx0cGF0dGVybiArPSBzb3VyY2VbaV07XG5cdFx0XHRcdFx0XHRpbkNoYXJSYW5nZSA9IHRydWU7XG5cdFx0XHRcdFx0fSBlbHNlIHBhdHRlcm4gKz0gYCR7c291cmNlW2ldfSR7c291cmNlW2ldLnRvVXBwZXJDYXNlKCl9YDtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChzb3VyY2VbaV0ubWF0Y2goL1thLXpdLykpIHtcblx0XHRcdFx0cGF0dGVybiArPSBgWyR7c291cmNlW2ldfSR7c291cmNlW2ldLnRvVXBwZXJDYXNlKCl9XWA7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoZmxhZ3MubSkge1xuXHRcdFx0aWYgKHNvdXJjZVtpXSA9PT0gXCJeXCIpIHtcblx0XHRcdFx0cGF0dGVybiArPSBgKF58KD88PVtcXHJcXG5dKSlgO1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAoc291cmNlW2ldID09PSBcIiRcIikge1xuXHRcdFx0XHRwYXR0ZXJuICs9IGAoJHwoPz1bXFxyXFxuXSkpYDtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChmbGFncy5zICYmIHNvdXJjZVtpXSA9PT0gXCIuXCIpIHtcblx0XHRcdHBhdHRlcm4gKz0gaW5DaGFyR3JvdXAgPyBgJHtzb3VyY2VbaV19XFxyXFxuYCA6IGBbJHtzb3VyY2VbaV19XFxyXFxuXWA7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cdFx0cGF0dGVybiArPSBzb3VyY2VbaV07XG5cdFx0aWYgKHNvdXJjZVtpXSA9PT0gXCJcXFxcXCIpIGlzRXNjYXBlZCA9IHRydWU7XG5cdFx0ZWxzZSBpZiAoaW5DaGFyR3JvdXAgJiYgc291cmNlW2ldID09PSBcIl1cIikgaW5DaGFyR3JvdXAgPSBmYWxzZTtcblx0XHRlbHNlIGlmICghaW5DaGFyR3JvdXAgJiYgc291cmNlW2ldID09PSBcIltcIikgaW5DaGFyR3JvdXAgPSB0cnVlO1xuXHR9XG5cdHRyeSB7XG5cdFx0bmV3IFJlZ0V4cChwYXR0ZXJuKTtcblx0fSBjYXRjaCB7XG5cdFx0Y29uc29sZS53YXJuKGBDb3VsZCBub3QgY29udmVydCByZWdleCBwYXR0ZXJuIGF0ICR7cmVmcy5jdXJyZW50UGF0aC5qb2luKFwiL1wiKX0gdG8gYSBmbGFnLWluZGVwZW5kZW50IGZvcm0hIEZhbGxpbmcgYmFjayB0byB0aGUgZmxhZy1pZ25vcmFudCBzb3VyY2VgKTtcblx0XHRyZXR1cm4gcmVnZXguc291cmNlO1xuXHR9XG5cdHJldHVybiBwYXR0ZXJuO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IHBhcnNlU3RyaW5nRGVmLCB6b2RQYXR0ZXJucyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RyaW5nLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/string.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/tuple.js":
/*!********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/tuple.js ***!
  \********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseTupleDef: () => (/* binding */ parseTupleDef)\n/* harmony export */ });\n/* harmony import */ var _parseDef_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../parseDef.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\");\n\n\n//#region src/utils/zod-to-json-schema/parsers/tuple.ts\nfunction parseTupleDef(def, refs) {\n\tif (def.rest) return {\n\t\ttype: \"array\",\n\t\tminItems: def.items.length,\n\t\titems: def.items.map((x, i) => (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_0__.parseDef)(x._def, {\n\t\t\t...refs,\n\t\t\tcurrentPath: [\n\t\t\t\t...refs.currentPath,\n\t\t\t\t\"items\",\n\t\t\t\t`${i}`\n\t\t\t]\n\t\t})).reduce((acc, x) => x === void 0 ? acc : [...acc, x], []),\n\t\tadditionalItems: (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_0__.parseDef)(def.rest._def, {\n\t\t\t...refs,\n\t\t\tcurrentPath: [...refs.currentPath, \"additionalItems\"]\n\t\t})\n\t};\n\telse return {\n\t\ttype: \"array\",\n\t\tminItems: def.items.length,\n\t\tmaxItems: def.items.length,\n\t\titems: def.items.map((x, i) => (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_0__.parseDef)(x._def, {\n\t\t\t...refs,\n\t\t\tcurrentPath: [\n\t\t\t\t...refs.currentPath,\n\t\t\t\t\"items\",\n\t\t\t\t`${i}`\n\t\t\t]\n\t\t})).reduce((acc, x) => x === void 0 ? acc : [...acc, x], [])\n\t};\n}\n\n//#endregion\n\n//# sourceMappingURL=tuple.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3R1cGxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTBDOztBQUUxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHNEQUFRO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxFQUFFO0FBQ1Q7QUFDQSxHQUFHO0FBQ0gsbUJBQW1CLHNEQUFRO0FBQzNCO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxzREFBUTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sRUFBRTtBQUNUO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDeUI7QUFDekIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvdHVwbGUuanM/MjMwZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3R1cGxlLnRzXG5mdW5jdGlvbiBwYXJzZVR1cGxlRGVmKGRlZiwgcmVmcykge1xuXHRpZiAoZGVmLnJlc3QpIHJldHVybiB7XG5cdFx0dHlwZTogXCJhcnJheVwiLFxuXHRcdG1pbkl0ZW1zOiBkZWYuaXRlbXMubGVuZ3RoLFxuXHRcdGl0ZW1zOiBkZWYuaXRlbXMubWFwKCh4LCBpKSA9PiBwYXJzZURlZih4Ll9kZWYsIHtcblx0XHRcdC4uLnJlZnMsXG5cdFx0XHRjdXJyZW50UGF0aDogW1xuXHRcdFx0XHQuLi5yZWZzLmN1cnJlbnRQYXRoLFxuXHRcdFx0XHRcIml0ZW1zXCIsXG5cdFx0XHRcdGAke2l9YFxuXHRcdFx0XVxuXHRcdH0pKS5yZWR1Y2UoKGFjYywgeCkgPT4geCA9PT0gdm9pZCAwID8gYWNjIDogWy4uLmFjYywgeF0sIFtdKSxcblx0XHRhZGRpdGlvbmFsSXRlbXM6IHBhcnNlRGVmKGRlZi5yZXN0Ll9kZWYsIHtcblx0XHRcdC4uLnJlZnMsXG5cdFx0XHRjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiYWRkaXRpb25hbEl0ZW1zXCJdXG5cdFx0fSlcblx0fTtcblx0ZWxzZSByZXR1cm4ge1xuXHRcdHR5cGU6IFwiYXJyYXlcIixcblx0XHRtaW5JdGVtczogZGVmLml0ZW1zLmxlbmd0aCxcblx0XHRtYXhJdGVtczogZGVmLml0ZW1zLmxlbmd0aCxcblx0XHRpdGVtczogZGVmLml0ZW1zLm1hcCgoeCwgaSkgPT4gcGFyc2VEZWYoeC5fZGVmLCB7XG5cdFx0XHQuLi5yZWZzLFxuXHRcdFx0Y3VycmVudFBhdGg6IFtcblx0XHRcdFx0Li4ucmVmcy5jdXJyZW50UGF0aCxcblx0XHRcdFx0XCJpdGVtc1wiLFxuXHRcdFx0XHRgJHtpfWBcblx0XHRcdF1cblx0XHR9KSkucmVkdWNlKChhY2MsIHgpID0+IHggPT09IHZvaWQgMCA/IGFjYyA6IFsuLi5hY2MsIHhdLCBbXSlcblx0fTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBwYXJzZVR1cGxlRGVmIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10dXBsZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/tuple.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/undefined.js":
/*!************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/undefined.js ***!
  \************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseUndefinedDef: () => (/* binding */ parseUndefinedDef)\n/* harmony export */ });\n/* harmony import */ var _any_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./any.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.js\");\n\n\n//#region src/utils/zod-to-json-schema/parsers/undefined.ts\nfunction parseUndefinedDef(refs) {\n\treturn { not: (0,_any_js__WEBPACK_IMPORTED_MODULE_0__.parseAnyDef)(refs) };\n}\n\n//#endregion\n\n//# sourceMappingURL=undefined.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3VuZGVmaW5lZC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUF1Qzs7QUFFdkM7QUFDQTtBQUNBLFVBQVUsS0FBSyxvREFBVztBQUMxQjs7QUFFQTtBQUM2QjtBQUM3QiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy91bmRlZmluZWQuanM/ZjgzYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwYXJzZUFueURlZiB9IGZyb20gXCIuL2FueS5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3VuZGVmaW5lZC50c1xuZnVuY3Rpb24gcGFyc2VVbmRlZmluZWREZWYocmVmcykge1xuXHRyZXR1cm4geyBub3Q6IHBhcnNlQW55RGVmKHJlZnMpIH07XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgcGFyc2VVbmRlZmluZWREZWYgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVuZGVmaW5lZC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/undefined.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/union.js":
/*!********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/union.js ***!
  \********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseUnionDef: () => (/* binding */ parseUnionDef),\n/* harmony export */   primitiveMappings: () => (/* binding */ primitiveMappings)\n/* harmony export */ });\n/* harmony import */ var _parseDef_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../parseDef.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\");\n\n\n//#region src/utils/zod-to-json-schema/parsers/union.ts\nconst primitiveMappings = {\n\tZodString: \"string\",\n\tZodNumber: \"number\",\n\tZodBigInt: \"integer\",\n\tZodBoolean: \"boolean\",\n\tZodNull: \"null\"\n};\nfunction parseUnionDef(def, refs) {\n\tif (refs.target === \"openApi3\") return asAnyOf(def, refs);\n\tconst options = def.options instanceof Map ? Array.from(def.options.values()) : def.options;\n\tif (options.every((x) => x._def.typeName in primitiveMappings && (!x._def.checks || !x._def.checks.length))) {\n\t\tconst types = options.reduce((types$1, x) => {\n\t\t\tconst type = primitiveMappings[x._def.typeName];\n\t\t\treturn type && !types$1.includes(type) ? [...types$1, type] : types$1;\n\t\t}, []);\n\t\treturn { type: types.length > 1 ? types : types[0] };\n\t} else if (options.every((x) => x._def.typeName === \"ZodLiteral\" && !x.description)) {\n\t\tconst types = options.reduce((acc, x) => {\n\t\t\tconst type = typeof x._def.value;\n\t\t\tswitch (type) {\n\t\t\t\tcase \"string\":\n\t\t\t\tcase \"number\":\n\t\t\t\tcase \"boolean\": return [...acc, type];\n\t\t\t\tcase \"bigint\": return [...acc, \"integer\"];\n\t\t\t\tcase \"object\":\n\t\t\t\t\tif (x._def.value === null) return [...acc, \"null\"];\n\t\t\t\t\treturn acc;\n\t\t\t\tcase \"symbol\":\n\t\t\t\tcase \"undefined\":\n\t\t\t\tcase \"function\":\n\t\t\t\tdefault: return acc;\n\t\t\t}\n\t\t}, []);\n\t\tif (types.length === options.length) {\n\t\t\tconst uniqueTypes = types.filter((x, i, a) => a.indexOf(x) === i);\n\t\t\treturn {\n\t\t\t\ttype: uniqueTypes.length > 1 ? uniqueTypes : uniqueTypes[0],\n\t\t\t\tenum: options.reduce((acc, x) => {\n\t\t\t\t\treturn acc.includes(x._def.value) ? acc : [...acc, x._def.value];\n\t\t\t\t}, [])\n\t\t\t};\n\t\t}\n\t} else if (options.every((x) => x._def.typeName === \"ZodEnum\")) return {\n\t\ttype: \"string\",\n\t\tenum: options.reduce((acc, x) => [...acc, ...x._def.values.filter((x$1) => !acc.includes(x$1))], [])\n\t};\n\treturn asAnyOf(def, refs);\n}\nconst asAnyOf = (def, refs) => {\n\tconst anyOf = (def.options instanceof Map ? Array.from(def.options.values()) : def.options).map((x, i) => (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_0__.parseDef)(x._def, {\n\t\t...refs,\n\t\tcurrentPath: [\n\t\t\t...refs.currentPath,\n\t\t\t\"anyOf\",\n\t\t\t`${i}`\n\t\t]\n\t})).filter((x) => !!x && (!refs.strictUnions || typeof x === \"object\" && Object.keys(x).length > 0));\n\treturn anyOf.length ? { anyOf } : void 0;\n};\n\n//#endregion\n\n//# sourceMappingURL=union.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3VuaW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEwQzs7QUFFMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILFdBQVc7QUFDWCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJHQUEyRyxzREFBUTtBQUNuSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sRUFBRTtBQUNSO0FBQ0EsRUFBRTtBQUNGLHlCQUF5QixRQUFRO0FBQ2pDOztBQUVBO0FBQzRDO0FBQzVDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3VuaW9uLmpzP2MzNzciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYuanNcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy91bmlvbi50c1xuY29uc3QgcHJpbWl0aXZlTWFwcGluZ3MgPSB7XG5cdFpvZFN0cmluZzogXCJzdHJpbmdcIixcblx0Wm9kTnVtYmVyOiBcIm51bWJlclwiLFxuXHRab2RCaWdJbnQ6IFwiaW50ZWdlclwiLFxuXHRab2RCb29sZWFuOiBcImJvb2xlYW5cIixcblx0Wm9kTnVsbDogXCJudWxsXCJcbn07XG5mdW5jdGlvbiBwYXJzZVVuaW9uRGVmKGRlZiwgcmVmcykge1xuXHRpZiAocmVmcy50YXJnZXQgPT09IFwib3BlbkFwaTNcIikgcmV0dXJuIGFzQW55T2YoZGVmLCByZWZzKTtcblx0Y29uc3Qgb3B0aW9ucyA9IGRlZi5vcHRpb25zIGluc3RhbmNlb2YgTWFwID8gQXJyYXkuZnJvbShkZWYub3B0aW9ucy52YWx1ZXMoKSkgOiBkZWYub3B0aW9ucztcblx0aWYgKG9wdGlvbnMuZXZlcnkoKHgpID0+IHguX2RlZi50eXBlTmFtZSBpbiBwcmltaXRpdmVNYXBwaW5ncyAmJiAoIXguX2RlZi5jaGVja3MgfHwgIXguX2RlZi5jaGVja3MubGVuZ3RoKSkpIHtcblx0XHRjb25zdCB0eXBlcyA9IG9wdGlvbnMucmVkdWNlKCh0eXBlcyQxLCB4KSA9PiB7XG5cdFx0XHRjb25zdCB0eXBlID0gcHJpbWl0aXZlTWFwcGluZ3NbeC5fZGVmLnR5cGVOYW1lXTtcblx0XHRcdHJldHVybiB0eXBlICYmICF0eXBlcyQxLmluY2x1ZGVzKHR5cGUpID8gWy4uLnR5cGVzJDEsIHR5cGVdIDogdHlwZXMkMTtcblx0XHR9LCBbXSk7XG5cdFx0cmV0dXJuIHsgdHlwZTogdHlwZXMubGVuZ3RoID4gMSA/IHR5cGVzIDogdHlwZXNbMF0gfTtcblx0fSBlbHNlIGlmIChvcHRpb25zLmV2ZXJ5KCh4KSA9PiB4Ll9kZWYudHlwZU5hbWUgPT09IFwiWm9kTGl0ZXJhbFwiICYmICF4LmRlc2NyaXB0aW9uKSkge1xuXHRcdGNvbnN0IHR5cGVzID0gb3B0aW9ucy5yZWR1Y2UoKGFjYywgeCkgPT4ge1xuXHRcdFx0Y29uc3QgdHlwZSA9IHR5cGVvZiB4Ll9kZWYudmFsdWU7XG5cdFx0XHRzd2l0Y2ggKHR5cGUpIHtcblx0XHRcdFx0Y2FzZSBcInN0cmluZ1wiOlxuXHRcdFx0XHRjYXNlIFwibnVtYmVyXCI6XG5cdFx0XHRcdGNhc2UgXCJib29sZWFuXCI6IHJldHVybiBbLi4uYWNjLCB0eXBlXTtcblx0XHRcdFx0Y2FzZSBcImJpZ2ludFwiOiByZXR1cm4gWy4uLmFjYywgXCJpbnRlZ2VyXCJdO1xuXHRcdFx0XHRjYXNlIFwib2JqZWN0XCI6XG5cdFx0XHRcdFx0aWYgKHguX2RlZi52YWx1ZSA9PT0gbnVsbCkgcmV0dXJuIFsuLi5hY2MsIFwibnVsbFwiXTtcblx0XHRcdFx0XHRyZXR1cm4gYWNjO1xuXHRcdFx0XHRjYXNlIFwic3ltYm9sXCI6XG5cdFx0XHRcdGNhc2UgXCJ1bmRlZmluZWRcIjpcblx0XHRcdFx0Y2FzZSBcImZ1bmN0aW9uXCI6XG5cdFx0XHRcdGRlZmF1bHQ6IHJldHVybiBhY2M7XG5cdFx0XHR9XG5cdFx0fSwgW10pO1xuXHRcdGlmICh0eXBlcy5sZW5ndGggPT09IG9wdGlvbnMubGVuZ3RoKSB7XG5cdFx0XHRjb25zdCB1bmlxdWVUeXBlcyA9IHR5cGVzLmZpbHRlcigoeCwgaSwgYSkgPT4gYS5pbmRleE9mKHgpID09PSBpKTtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHR5cGU6IHVuaXF1ZVR5cGVzLmxlbmd0aCA+IDEgPyB1bmlxdWVUeXBlcyA6IHVuaXF1ZVR5cGVzWzBdLFxuXHRcdFx0XHRlbnVtOiBvcHRpb25zLnJlZHVjZSgoYWNjLCB4KSA9PiB7XG5cdFx0XHRcdFx0cmV0dXJuIGFjYy5pbmNsdWRlcyh4Ll9kZWYudmFsdWUpID8gYWNjIDogWy4uLmFjYywgeC5fZGVmLnZhbHVlXTtcblx0XHRcdFx0fSwgW10pXG5cdFx0XHR9O1xuXHRcdH1cblx0fSBlbHNlIGlmIChvcHRpb25zLmV2ZXJ5KCh4KSA9PiB4Ll9kZWYudHlwZU5hbWUgPT09IFwiWm9kRW51bVwiKSkgcmV0dXJuIHtcblx0XHR0eXBlOiBcInN0cmluZ1wiLFxuXHRcdGVudW06IG9wdGlvbnMucmVkdWNlKChhY2MsIHgpID0+IFsuLi5hY2MsIC4uLnguX2RlZi52YWx1ZXMuZmlsdGVyKCh4JDEpID0+ICFhY2MuaW5jbHVkZXMoeCQxKSldLCBbXSlcblx0fTtcblx0cmV0dXJuIGFzQW55T2YoZGVmLCByZWZzKTtcbn1cbmNvbnN0IGFzQW55T2YgPSAoZGVmLCByZWZzKSA9PiB7XG5cdGNvbnN0IGFueU9mID0gKGRlZi5vcHRpb25zIGluc3RhbmNlb2YgTWFwID8gQXJyYXkuZnJvbShkZWYub3B0aW9ucy52YWx1ZXMoKSkgOiBkZWYub3B0aW9ucykubWFwKCh4LCBpKSA9PiBwYXJzZURlZih4Ll9kZWYsIHtcblx0XHQuLi5yZWZzLFxuXHRcdGN1cnJlbnRQYXRoOiBbXG5cdFx0XHQuLi5yZWZzLmN1cnJlbnRQYXRoLFxuXHRcdFx0XCJhbnlPZlwiLFxuXHRcdFx0YCR7aX1gXG5cdFx0XVxuXHR9KSkuZmlsdGVyKCh4KSA9PiAhIXggJiYgKCFyZWZzLnN0cmljdFVuaW9ucyB8fCB0eXBlb2YgeCA9PT0gXCJvYmplY3RcIiAmJiBPYmplY3Qua2V5cyh4KS5sZW5ndGggPiAwKSk7XG5cdHJldHVybiBhbnlPZi5sZW5ndGggPyB7IGFueU9mIH0gOiB2b2lkIDA7XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IHBhcnNlVW5pb25EZWYsIHByaW1pdGl2ZU1hcHBpbmdzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11bmlvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/union.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/unknown.js":
/*!**********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/unknown.js ***!
  \**********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseUnknownDef: () => (/* binding */ parseUnknownDef)\n/* harmony export */ });\n/* harmony import */ var _any_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./any.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.js\");\n\n\n//#region src/utils/zod-to-json-schema/parsers/unknown.ts\nfunction parseUnknownDef(refs) {\n\treturn (0,_any_js__WEBPACK_IMPORTED_MODULE_0__.parseAnyDef)(refs);\n}\n\n//#endregion\n\n//# sourceMappingURL=unknown.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3Vua25vd24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBdUM7O0FBRXZDO0FBQ0E7QUFDQSxRQUFRLG9EQUFXO0FBQ25COztBQUVBO0FBQzJCO0FBQzNCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdG9vbHMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3Vua25vd24uanM/ZGJjNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwYXJzZUFueURlZiB9IGZyb20gXCIuL2FueS5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3Vua25vd24udHNcbmZ1bmN0aW9uIHBhcnNlVW5rbm93bkRlZihyZWZzKSB7XG5cdHJldHVybiBwYXJzZUFueURlZihyZWZzKTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBwYXJzZVVua25vd25EZWYgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVua25vd24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/unknown.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/selectParser.js":
/*!*******************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/selectParser.js ***!
  \*******************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   selectParser: () => (/* binding */ selectParser)\n/* harmony export */ });\n/* harmony import */ var _parsers_any_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parsers/any.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.js\");\n/* harmony import */ var _parsers_array_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parsers/array.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/array.js\");\n/* harmony import */ var _parsers_bigint_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./parsers/bigint.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/bigint.js\");\n/* harmony import */ var _parsers_boolean_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./parsers/boolean.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/boolean.js\");\n/* harmony import */ var _parsers_branded_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./parsers/branded.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/branded.js\");\n/* harmony import */ var _parsers_catch_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./parsers/catch.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/catch.js\");\n/* harmony import */ var _parsers_date_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./parsers/date.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/date.js\");\n/* harmony import */ var _parsers_default_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./parsers/default.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/default.js\");\n/* harmony import */ var _parsers_effects_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./parsers/effects.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/effects.js\");\n/* harmony import */ var _parsers_enum_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./parsers/enum.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/enum.js\");\n/* harmony import */ var _parsers_intersection_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./parsers/intersection.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/intersection.js\");\n/* harmony import */ var _parsers_literal_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./parsers/literal.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/literal.js\");\n/* harmony import */ var _parsers_string_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./parsers/string.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/string.js\");\n/* harmony import */ var _parsers_record_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./parsers/record.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/record.js\");\n/* harmony import */ var _parsers_map_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./parsers/map.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/map.js\");\n/* harmony import */ var _parsers_nativeEnum_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./parsers/nativeEnum.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/nativeEnum.js\");\n/* harmony import */ var _parsers_never_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./parsers/never.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/never.js\");\n/* harmony import */ var _parsers_null_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./parsers/null.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/null.js\");\n/* harmony import */ var _parsers_union_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./parsers/union.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/union.js\");\n/* harmony import */ var _parsers_nullable_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./parsers/nullable.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/nullable.js\");\n/* harmony import */ var _parsers_number_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./parsers/number.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/number.js\");\n/* harmony import */ var _parsers_object_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./parsers/object.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/object.js\");\n/* harmony import */ var _parsers_optional_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./parsers/optional.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/optional.js\");\n/* harmony import */ var _parsers_pipeline_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./parsers/pipeline.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/pipeline.js\");\n/* harmony import */ var _parsers_promise_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./parsers/promise.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/promise.js\");\n/* harmony import */ var _parsers_set_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./parsers/set.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/set.js\");\n/* harmony import */ var _parsers_tuple_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./parsers/tuple.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/tuple.js\");\n/* harmony import */ var _parsers_undefined_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./parsers/undefined.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/undefined.js\");\n/* harmony import */ var _parsers_unknown_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./parsers/unknown.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/unknown.js\");\n/* harmony import */ var _parsers_readonly_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./parsers/readonly.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/readonly.js\");\n/* harmony import */ var zod_v3__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! zod/v3 */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+zod@4.3.6/node_modules/zod/v3/index.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//#region src/utils/zod-to-json-schema/selectParser.ts\nconst selectParser = (def, typeName, refs) => {\n\tswitch (typeName) {\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodString: return (0,_parsers_string_js__WEBPACK_IMPORTED_MODULE_12__.parseStringDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodNumber: return (0,_parsers_number_js__WEBPACK_IMPORTED_MODULE_20__.parseNumberDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodObject: return (0,_parsers_object_js__WEBPACK_IMPORTED_MODULE_21__.parseObjectDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodBigInt: return (0,_parsers_bigint_js__WEBPACK_IMPORTED_MODULE_2__.parseBigintDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodBoolean: return (0,_parsers_boolean_js__WEBPACK_IMPORTED_MODULE_3__.parseBooleanDef)();\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodDate: return (0,_parsers_date_js__WEBPACK_IMPORTED_MODULE_6__.parseDateDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodUndefined: return (0,_parsers_undefined_js__WEBPACK_IMPORTED_MODULE_27__.parseUndefinedDef)(refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodNull: return (0,_parsers_null_js__WEBPACK_IMPORTED_MODULE_17__.parseNullDef)(refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodArray: return (0,_parsers_array_js__WEBPACK_IMPORTED_MODULE_1__.parseArrayDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodUnion:\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodDiscriminatedUnion: return (0,_parsers_union_js__WEBPACK_IMPORTED_MODULE_18__.parseUnionDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodIntersection: return (0,_parsers_intersection_js__WEBPACK_IMPORTED_MODULE_10__.parseIntersectionDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodTuple: return (0,_parsers_tuple_js__WEBPACK_IMPORTED_MODULE_26__.parseTupleDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodRecord: return (0,_parsers_record_js__WEBPACK_IMPORTED_MODULE_13__.parseRecordDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodLiteral: return (0,_parsers_literal_js__WEBPACK_IMPORTED_MODULE_11__.parseLiteralDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodEnum: return (0,_parsers_enum_js__WEBPACK_IMPORTED_MODULE_9__.parseEnumDef)(def);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodNativeEnum: return (0,_parsers_nativeEnum_js__WEBPACK_IMPORTED_MODULE_15__.parseNativeEnumDef)(def);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodNullable: return (0,_parsers_nullable_js__WEBPACK_IMPORTED_MODULE_19__.parseNullableDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodOptional: return (0,_parsers_optional_js__WEBPACK_IMPORTED_MODULE_22__.parseOptionalDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodMap: return (0,_parsers_map_js__WEBPACK_IMPORTED_MODULE_14__.parseMapDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodSet: return (0,_parsers_set_js__WEBPACK_IMPORTED_MODULE_25__.parseSetDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodLazy: return () => def.getter()._def;\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodPromise: return (0,_parsers_promise_js__WEBPACK_IMPORTED_MODULE_24__.parsePromiseDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodNaN:\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodNever: return (0,_parsers_never_js__WEBPACK_IMPORTED_MODULE_16__.parseNeverDef)(refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodEffects: return (0,_parsers_effects_js__WEBPACK_IMPORTED_MODULE_8__.parseEffectsDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodAny: return (0,_parsers_any_js__WEBPACK_IMPORTED_MODULE_0__.parseAnyDef)(refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodUnknown: return (0,_parsers_unknown_js__WEBPACK_IMPORTED_MODULE_28__.parseUnknownDef)(refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodDefault: return (0,_parsers_default_js__WEBPACK_IMPORTED_MODULE_7__.parseDefaultDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodBranded: return (0,_parsers_branded_js__WEBPACK_IMPORTED_MODULE_4__.parseBrandedDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodReadonly: return (0,_parsers_readonly_js__WEBPACK_IMPORTED_MODULE_29__.parseReadonlyDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodCatch: return (0,_parsers_catch_js__WEBPACK_IMPORTED_MODULE_5__.parseCatchDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodPipeline: return (0,_parsers_pipeline_js__WEBPACK_IMPORTED_MODULE_23__.parsePipelineDef)(def, refs);\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodFunction:\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodVoid:\n\t\tcase zod_v3__WEBPACK_IMPORTED_MODULE_30__.ZodFirstPartyTypeKind.ZodSymbol: return void 0;\n\t\tdefault:\n /* c8 ignore next */\n\t\treturn ((_) => void 0)(typeName);\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=selectParser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9zZWxlY3RQYXJzZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK0M7QUFDSTtBQUNFO0FBQ0U7QUFDQTtBQUNKO0FBQ0Y7QUFDTTtBQUNBO0FBQ047QUFDZ0I7QUFDVjtBQUNGO0FBQ0E7QUFDTjtBQUNjO0FBQ1Y7QUFDRjtBQUNFO0FBQ007QUFDSjtBQUNBO0FBQ0k7QUFDQTtBQUNGO0FBQ1I7QUFDSTtBQUNRO0FBQ0o7QUFDRTtBQUNWOztBQUUvQztBQUNBO0FBQ0E7QUFDQSxPQUFPLDBEQUFxQixtQkFBbUIsbUVBQWM7QUFDN0QsT0FBTywwREFBcUIsbUJBQW1CLG1FQUFjO0FBQzdELE9BQU8sMERBQXFCLG1CQUFtQixtRUFBYztBQUM3RCxPQUFPLDBEQUFxQixtQkFBbUIsa0VBQWM7QUFDN0QsT0FBTywwREFBcUIsb0JBQW9CLG9FQUFlO0FBQy9ELE9BQU8sMERBQXFCLGlCQUFpQiw4REFBWTtBQUN6RCxPQUFPLDBEQUFxQixzQkFBc0IseUVBQWlCO0FBQ25FLE9BQU8sMERBQXFCLGlCQUFpQiwrREFBWTtBQUN6RCxPQUFPLDBEQUFxQixrQkFBa0IsZ0VBQWE7QUFDM0QsT0FBTywwREFBcUI7QUFDNUIsT0FBTywwREFBcUIsK0JBQStCLGlFQUFhO0FBQ3hFLE9BQU8sMERBQXFCLHlCQUF5QiwrRUFBb0I7QUFDekUsT0FBTywwREFBcUIsa0JBQWtCLGlFQUFhO0FBQzNELE9BQU8sMERBQXFCLG1CQUFtQixtRUFBYztBQUM3RCxPQUFPLDBEQUFxQixvQkFBb0IscUVBQWU7QUFDL0QsT0FBTywwREFBcUIsaUJBQWlCLDhEQUFZO0FBQ3pELE9BQU8sMERBQXFCLHVCQUF1QiwyRUFBa0I7QUFDckUsT0FBTywwREFBcUIscUJBQXFCLHVFQUFnQjtBQUNqRSxPQUFPLDBEQUFxQixxQkFBcUIsdUVBQWdCO0FBQ2pFLE9BQU8sMERBQXFCLGdCQUFnQiw2REFBVztBQUN2RCxPQUFPLDBEQUFxQixnQkFBZ0IsNkRBQVc7QUFDdkQsT0FBTywwREFBcUI7QUFDNUIsT0FBTywwREFBcUIsb0JBQW9CLHFFQUFlO0FBQy9ELE9BQU8sMERBQXFCO0FBQzVCLE9BQU8sMERBQXFCLGtCQUFrQixpRUFBYTtBQUMzRCxPQUFPLDBEQUFxQixvQkFBb0Isb0VBQWU7QUFDL0QsT0FBTywwREFBcUIsZ0JBQWdCLDREQUFXO0FBQ3ZELE9BQU8sMERBQXFCLG9CQUFvQixxRUFBZTtBQUMvRCxPQUFPLDBEQUFxQixvQkFBb0Isb0VBQWU7QUFDL0QsT0FBTywwREFBcUIsb0JBQW9CLG9FQUFlO0FBQy9ELE9BQU8sMERBQXFCLHFCQUFxQix1RUFBZ0I7QUFDakUsT0FBTywwREFBcUIsa0JBQWtCLGdFQUFhO0FBQzNELE9BQU8sMERBQXFCLHFCQUFxQix1RUFBZ0I7QUFDakUsT0FBTywwREFBcUI7QUFDNUIsT0FBTywwREFBcUI7QUFDNUIsT0FBTywwREFBcUI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUN3QjtBQUN4QiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRvb2xzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlZ2lzdHJ5Lm5wbW1pcnJvci5jb20rQGxhbmdjaGFpbitjb3JlQDEuMS4xN19vcGVuYWlANi4xNi4wL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvc2VsZWN0UGFyc2VyLmpzPzc5ZTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcGFyc2VBbnlEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2FueS5qc1wiO1xuaW1wb3J0IHsgcGFyc2VBcnJheURlZiB9IGZyb20gXCIuL3BhcnNlcnMvYXJyYXkuanNcIjtcbmltcG9ydCB7IHBhcnNlQmlnaW50RGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9iaWdpbnQuanNcIjtcbmltcG9ydCB7IHBhcnNlQm9vbGVhbkRlZiB9IGZyb20gXCIuL3BhcnNlcnMvYm9vbGVhbi5qc1wiO1xuaW1wb3J0IHsgcGFyc2VCcmFuZGVkRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9icmFuZGVkLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUNhdGNoRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9jYXRjaC5qc1wiO1xuaW1wb3J0IHsgcGFyc2VEYXRlRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9kYXRlLmpzXCI7XG5pbXBvcnQgeyBwYXJzZURlZmF1bHREZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2RlZmF1bHQuanNcIjtcbmltcG9ydCB7IHBhcnNlRWZmZWN0c0RlZiB9IGZyb20gXCIuL3BhcnNlcnMvZWZmZWN0cy5qc1wiO1xuaW1wb3J0IHsgcGFyc2VFbnVtRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9lbnVtLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUludGVyc2VjdGlvbkRlZiB9IGZyb20gXCIuL3BhcnNlcnMvaW50ZXJzZWN0aW9uLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUxpdGVyYWxEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2xpdGVyYWwuanNcIjtcbmltcG9ydCB7IHBhcnNlU3RyaW5nRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9zdHJpbmcuanNcIjtcbmltcG9ydCB7IHBhcnNlUmVjb3JkRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9yZWNvcmQuanNcIjtcbmltcG9ydCB7IHBhcnNlTWFwRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9tYXAuanNcIjtcbmltcG9ydCB7IHBhcnNlTmF0aXZlRW51bURlZiB9IGZyb20gXCIuL3BhcnNlcnMvbmF0aXZlRW51bS5qc1wiO1xuaW1wb3J0IHsgcGFyc2VOZXZlckRlZiB9IGZyb20gXCIuL3BhcnNlcnMvbmV2ZXIuanNcIjtcbmltcG9ydCB7IHBhcnNlTnVsbERlZiB9IGZyb20gXCIuL3BhcnNlcnMvbnVsbC5qc1wiO1xuaW1wb3J0IHsgcGFyc2VVbmlvbkRlZiB9IGZyb20gXCIuL3BhcnNlcnMvdW5pb24uanNcIjtcbmltcG9ydCB7IHBhcnNlTnVsbGFibGVEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL251bGxhYmxlLmpzXCI7XG5pbXBvcnQgeyBwYXJzZU51bWJlckRlZiB9IGZyb20gXCIuL3BhcnNlcnMvbnVtYmVyLmpzXCI7XG5pbXBvcnQgeyBwYXJzZU9iamVjdERlZiB9IGZyb20gXCIuL3BhcnNlcnMvb2JqZWN0LmpzXCI7XG5pbXBvcnQgeyBwYXJzZU9wdGlvbmFsRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9vcHRpb25hbC5qc1wiO1xuaW1wb3J0IHsgcGFyc2VQaXBlbGluZURlZiB9IGZyb20gXCIuL3BhcnNlcnMvcGlwZWxpbmUuanNcIjtcbmltcG9ydCB7IHBhcnNlUHJvbWlzZURlZiB9IGZyb20gXCIuL3BhcnNlcnMvcHJvbWlzZS5qc1wiO1xuaW1wb3J0IHsgcGFyc2VTZXREZWYgfSBmcm9tIFwiLi9wYXJzZXJzL3NldC5qc1wiO1xuaW1wb3J0IHsgcGFyc2VUdXBsZURlZiB9IGZyb20gXCIuL3BhcnNlcnMvdHVwbGUuanNcIjtcbmltcG9ydCB7IHBhcnNlVW5kZWZpbmVkRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy91bmRlZmluZWQuanNcIjtcbmltcG9ydCB7IHBhcnNlVW5rbm93bkRlZiB9IGZyb20gXCIuL3BhcnNlcnMvdW5rbm93bi5qc1wiO1xuaW1wb3J0IHsgcGFyc2VSZWFkb25seURlZiB9IGZyb20gXCIuL3BhcnNlcnMvcmVhZG9ubHkuanNcIjtcbmltcG9ydCB7IFpvZEZpcnN0UGFydHlUeXBlS2luZCB9IGZyb20gXCJ6b2QvdjNcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvc2VsZWN0UGFyc2VyLnRzXG5jb25zdCBzZWxlY3RQYXJzZXIgPSAoZGVmLCB0eXBlTmFtZSwgcmVmcykgPT4ge1xuXHRzd2l0Y2ggKHR5cGVOYW1lKSB7XG5cdFx0Y2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU3RyaW5nOiByZXR1cm4gcGFyc2VTdHJpbmdEZWYoZGVmLCByZWZzKTtcblx0XHRjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdW1iZXI6IHJldHVybiBwYXJzZU51bWJlckRlZihkZWYsIHJlZnMpO1xuXHRcdGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdDogcmV0dXJuIHBhcnNlT2JqZWN0RGVmKGRlZiwgcmVmcyk7XG5cdFx0Y2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQmlnSW50OiByZXR1cm4gcGFyc2VCaWdpbnREZWYoZGVmLCByZWZzKTtcblx0XHRjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RCb29sZWFuOiByZXR1cm4gcGFyc2VCb29sZWFuRGVmKCk7XG5cdFx0Y2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGF0ZTogcmV0dXJuIHBhcnNlRGF0ZURlZihkZWYsIHJlZnMpO1xuXHRcdGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFVuZGVmaW5lZDogcmV0dXJuIHBhcnNlVW5kZWZpbmVkRGVmKHJlZnMpO1xuXHRcdGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bGw6IHJldHVybiBwYXJzZU51bGxEZWYocmVmcyk7XG5cdFx0Y2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQXJyYXk6IHJldHVybiBwYXJzZUFycmF5RGVmKGRlZiwgcmVmcyk7XG5cdFx0Y2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5pb246XG5cdFx0Y2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGlzY3JpbWluYXRlZFVuaW9uOiByZXR1cm4gcGFyc2VVbmlvbkRlZihkZWYsIHJlZnMpO1xuXHRcdGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEludGVyc2VjdGlvbjogcmV0dXJuIHBhcnNlSW50ZXJzZWN0aW9uRGVmKGRlZiwgcmVmcyk7XG5cdFx0Y2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVHVwbGU6IHJldHVybiBwYXJzZVR1cGxlRGVmKGRlZiwgcmVmcyk7XG5cdFx0Y2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUmVjb3JkOiByZXR1cm4gcGFyc2VSZWNvcmREZWYoZGVmLCByZWZzKTtcblx0XHRjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RMaXRlcmFsOiByZXR1cm4gcGFyc2VMaXRlcmFsRGVmKGRlZiwgcmVmcyk7XG5cdFx0Y2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRW51bTogcmV0dXJuIHBhcnNlRW51bURlZihkZWYpO1xuXHRcdGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5hdGl2ZUVudW06IHJldHVybiBwYXJzZU5hdGl2ZUVudW1EZWYoZGVmKTtcblx0XHRjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdWxsYWJsZTogcmV0dXJuIHBhcnNlTnVsbGFibGVEZWYoZGVmLCByZWZzKTtcblx0XHRjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPcHRpb25hbDogcmV0dXJuIHBhcnNlT3B0aW9uYWxEZWYoZGVmLCByZWZzKTtcblx0XHRjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RNYXA6IHJldHVybiBwYXJzZU1hcERlZihkZWYsIHJlZnMpO1xuXHRcdGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFNldDogcmV0dXJuIHBhcnNlU2V0RGVmKGRlZiwgcmVmcyk7XG5cdFx0Y2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTGF6eTogcmV0dXJuICgpID0+IGRlZi5nZXR0ZXIoKS5fZGVmO1xuXHRcdGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFByb21pc2U6IHJldHVybiBwYXJzZVByb21pc2VEZWYoZGVmLCByZWZzKTtcblx0XHRjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROYU46XG5cdFx0Y2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmV2ZXI6IHJldHVybiBwYXJzZU5ldmVyRGVmKHJlZnMpO1xuXHRcdGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHM6IHJldHVybiBwYXJzZUVmZmVjdHNEZWYoZGVmLCByZWZzKTtcblx0XHRjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RBbnk6IHJldHVybiBwYXJzZUFueURlZihyZWZzKTtcblx0XHRjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmtub3duOiByZXR1cm4gcGFyc2VVbmtub3duRGVmKHJlZnMpO1xuXHRcdGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERlZmF1bHQ6IHJldHVybiBwYXJzZURlZmF1bHREZWYoZGVmLCByZWZzKTtcblx0XHRjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RCcmFuZGVkOiByZXR1cm4gcGFyc2VCcmFuZGVkRGVmKGRlZiwgcmVmcyk7XG5cdFx0Y2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUmVhZG9ubHk6IHJldHVybiBwYXJzZVJlYWRvbmx5RGVmKGRlZiwgcmVmcyk7XG5cdFx0Y2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQ2F0Y2g6IHJldHVybiBwYXJzZUNhdGNoRGVmKGRlZiwgcmVmcyk7XG5cdFx0Y2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUGlwZWxpbmU6IHJldHVybiBwYXJzZVBpcGVsaW5lRGVmKGRlZiwgcmVmcyk7XG5cdFx0Y2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRnVuY3Rpb246XG5cdFx0Y2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVm9pZDpcblx0XHRjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTeW1ib2w6IHJldHVybiB2b2lkIDA7XG5cdFx0ZGVmYXVsdDpcbiAvKiBjOCBpZ25vcmUgbmV4dCAqL1xuXHRcdHJldHVybiAoKF8pID0+IHZvaWQgMCkodHlwZU5hbWUpO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IHNlbGVjdFBhcnNlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VsZWN0UGFyc2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/selectParser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/zodToJsonSchema.js":
/*!**********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/zodToJsonSchema.js ***!
  \**********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   zodToJsonSchema: () => (/* binding */ zodToJsonSchema)\n/* harmony export */ });\n/* harmony import */ var _Refs_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Refs.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/Refs.js\");\n/* harmony import */ var _parsers_any_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parsers/any.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.js\");\n/* harmony import */ var _parseDef_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./parseDef.js */ \"(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.js\");\n\n\n\n\n//#region src/utils/zod-to-json-schema/zodToJsonSchema.ts\nconst zodToJsonSchema = (schema, options) => {\n\tconst refs = (0,_Refs_js__WEBPACK_IMPORTED_MODULE_0__.getRefs)(options);\n\tlet definitions = typeof options === \"object\" && options.definitions ? Object.entries(options.definitions).reduce((acc, [name$1, schema$1]) => ({\n\t\t...acc,\n\t\t[name$1]: (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_2__.parseDef)(schema$1._def, {\n\t\t\t...refs,\n\t\t\tcurrentPath: [\n\t\t\t\t...refs.basePath,\n\t\t\t\trefs.definitionPath,\n\t\t\t\tname$1\n\t\t\t]\n\t\t}, true) ?? (0,_parsers_any_js__WEBPACK_IMPORTED_MODULE_1__.parseAnyDef)(refs)\n\t}), {}) : void 0;\n\tconst name = typeof options === \"string\" ? options : options?.nameStrategy === \"title\" ? void 0 : options?.name;\n\tconst main = (0,_parseDef_js__WEBPACK_IMPORTED_MODULE_2__.parseDef)(schema._def, name === void 0 ? refs : {\n\t\t...refs,\n\t\tcurrentPath: [\n\t\t\t...refs.basePath,\n\t\t\trefs.definitionPath,\n\t\t\tname\n\t\t]\n\t}, false) ?? (0,_parsers_any_js__WEBPACK_IMPORTED_MODULE_1__.parseAnyDef)(refs);\n\tconst title = typeof options === \"object\" && options.name !== void 0 && options.nameStrategy === \"title\" ? options.name : void 0;\n\tif (title !== void 0) main.title = title;\n\tif (refs.flags.hasReferencedOpenAiAnyType) {\n\t\tif (!definitions) definitions = {};\n\t\tif (!definitions[refs.openAiAnyTypeName]) definitions[refs.openAiAnyTypeName] = {\n\t\t\ttype: [\n\t\t\t\t\"string\",\n\t\t\t\t\"number\",\n\t\t\t\t\"integer\",\n\t\t\t\t\"boolean\",\n\t\t\t\t\"array\",\n\t\t\t\t\"null\"\n\t\t\t],\n\t\t\titems: { $ref: refs.$refStrategy === \"relative\" ? \"1\" : [\n\t\t\t\t...refs.basePath,\n\t\t\t\trefs.definitionPath,\n\t\t\t\trefs.openAiAnyTypeName\n\t\t\t].join(\"/\") }\n\t\t};\n\t}\n\tconst combined = name === void 0 ? definitions ? {\n\t\t...main,\n\t\t[refs.definitionPath]: definitions\n\t} : main : {\n\t\t$ref: [\n\t\t\t...refs.$refStrategy === \"relative\" ? [] : refs.basePath,\n\t\t\trefs.definitionPath,\n\t\t\tname\n\t\t].join(\"/\"),\n\t\t[refs.definitionPath]: {\n\t\t\t...definitions,\n\t\t\t[name]: main\n\t\t}\n\t};\n\tif (refs.target === \"jsonSchema7\") combined.$schema = \"http://json-schema.org/draft-07/schema#\";\n\telse if (refs.target === \"jsonSchema2019-09\" || refs.target === \"openAi\") combined.$schema = \"https://json-schema.org/draft/2019-09/schema#\";\n\tif (refs.target === \"openAi\" && (\"anyOf\" in combined || \"oneOf\" in combined || \"allOf\" in combined || \"type\" in combined && Array.isArray(combined.type))) console.warn(\"Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property.\");\n\treturn combined;\n};\n\n//#endregion\n\n//# sourceMappingURL=zodToJsonSchema.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVnaXN0cnkubnBtbWlycm9yLmNvbStAbGFuZ2NoYWluK2NvcmVAMS4xLjE3X29wZW5haUA2LjE2LjAvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS96b2RUb0pzb25TY2hlbWEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFvQztBQUNXO0FBQ047O0FBRXpDO0FBQ0E7QUFDQSxjQUFjLGlEQUFPO0FBQ3JCO0FBQ0E7QUFDQSxZQUFZLHNEQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsV0FBVyw0REFBVztBQUN6QixFQUFFLEtBQUs7QUFDUDtBQUNBLGNBQWMsc0RBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSxZQUFZLDREQUFXO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDMkI7QUFDM0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10b29scy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWdpc3RyeS5ucG1taXJyb3IuY29tK0BsYW5nY2hhaW4rY29yZUAxLjEuMTdfb3BlbmFpQDYuMTYuMC9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3pvZFRvSnNvblNjaGVtYS5qcz9kOTIxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFJlZnMgfSBmcm9tIFwiLi9SZWZzLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUFueURlZiB9IGZyb20gXCIuL3BhcnNlcnMvYW55LmpzXCI7XG5pbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuL3BhcnNlRGVmLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3pvZFRvSnNvblNjaGVtYS50c1xuY29uc3Qgem9kVG9Kc29uU2NoZW1hID0gKHNjaGVtYSwgb3B0aW9ucykgPT4ge1xuXHRjb25zdCByZWZzID0gZ2V0UmVmcyhvcHRpb25zKTtcblx0bGV0IGRlZmluaXRpb25zID0gdHlwZW9mIG9wdGlvbnMgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucy5kZWZpbml0aW9ucyA/IE9iamVjdC5lbnRyaWVzKG9wdGlvbnMuZGVmaW5pdGlvbnMpLnJlZHVjZSgoYWNjLCBbbmFtZSQxLCBzY2hlbWEkMV0pID0+ICh7XG5cdFx0Li4uYWNjLFxuXHRcdFtuYW1lJDFdOiBwYXJzZURlZihzY2hlbWEkMS5fZGVmLCB7XG5cdFx0XHQuLi5yZWZzLFxuXHRcdFx0Y3VycmVudFBhdGg6IFtcblx0XHRcdFx0Li4ucmVmcy5iYXNlUGF0aCxcblx0XHRcdFx0cmVmcy5kZWZpbml0aW9uUGF0aCxcblx0XHRcdFx0bmFtZSQxXG5cdFx0XHRdXG5cdFx0fSwgdHJ1ZSkgPz8gcGFyc2VBbnlEZWYocmVmcylcblx0fSksIHt9KSA6IHZvaWQgMDtcblx0Y29uc3QgbmFtZSA9IHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiID8gb3B0aW9ucyA6IG9wdGlvbnM/Lm5hbWVTdHJhdGVneSA9PT0gXCJ0aXRsZVwiID8gdm9pZCAwIDogb3B0aW9ucz8ubmFtZTtcblx0Y29uc3QgbWFpbiA9IHBhcnNlRGVmKHNjaGVtYS5fZGVmLCBuYW1lID09PSB2b2lkIDAgPyByZWZzIDoge1xuXHRcdC4uLnJlZnMsXG5cdFx0Y3VycmVudFBhdGg6IFtcblx0XHRcdC4uLnJlZnMuYmFzZVBhdGgsXG5cdFx0XHRyZWZzLmRlZmluaXRpb25QYXRoLFxuXHRcdFx0bmFtZVxuXHRcdF1cblx0fSwgZmFsc2UpID8/IHBhcnNlQW55RGVmKHJlZnMpO1xuXHRjb25zdCB0aXRsZSA9IHR5cGVvZiBvcHRpb25zID09PSBcIm9iamVjdFwiICYmIG9wdGlvbnMubmFtZSAhPT0gdm9pZCAwICYmIG9wdGlvbnMubmFtZVN0cmF0ZWd5ID09PSBcInRpdGxlXCIgPyBvcHRpb25zLm5hbWUgOiB2b2lkIDA7XG5cdGlmICh0aXRsZSAhPT0gdm9pZCAwKSBtYWluLnRpdGxlID0gdGl0bGU7XG5cdGlmIChyZWZzLmZsYWdzLmhhc1JlZmVyZW5jZWRPcGVuQWlBbnlUeXBlKSB7XG5cdFx0aWYgKCFkZWZpbml0aW9ucykgZGVmaW5pdGlvbnMgPSB7fTtcblx0XHRpZiAoIWRlZmluaXRpb25zW3JlZnMub3BlbkFpQW55VHlwZU5hbWVdKSBkZWZpbml0aW9uc1tyZWZzLm9wZW5BaUFueVR5cGVOYW1lXSA9IHtcblx0XHRcdHR5cGU6IFtcblx0XHRcdFx0XCJzdHJpbmdcIixcblx0XHRcdFx0XCJudW1iZXJcIixcblx0XHRcdFx0XCJpbnRlZ2VyXCIsXG5cdFx0XHRcdFwiYm9vbGVhblwiLFxuXHRcdFx0XHRcImFycmF5XCIsXG5cdFx0XHRcdFwibnVsbFwiXG5cdFx0XHRdLFxuXHRcdFx0aXRlbXM6IHsgJHJlZjogcmVmcy4kcmVmU3RyYXRlZ3kgPT09IFwicmVsYXRpdmVcIiA/IFwiMVwiIDogW1xuXHRcdFx0XHQuLi5yZWZzLmJhc2VQYXRoLFxuXHRcdFx0XHRyZWZzLmRlZmluaXRpb25QYXRoLFxuXHRcdFx0XHRyZWZzLm9wZW5BaUFueVR5cGVOYW1lXG5cdFx0XHRdLmpvaW4oXCIvXCIpIH1cblx0XHR9O1xuXHR9XG5cdGNvbnN0IGNvbWJpbmVkID0gbmFtZSA9PT0gdm9pZCAwID8gZGVmaW5pdGlvbnMgPyB7XG5cdFx0Li4ubWFpbixcblx0XHRbcmVmcy5kZWZpbml0aW9uUGF0aF06IGRlZmluaXRpb25zXG5cdH0gOiBtYWluIDoge1xuXHRcdCRyZWY6IFtcblx0XHRcdC4uLnJlZnMuJHJlZlN0cmF0ZWd5ID09PSBcInJlbGF0aXZlXCIgPyBbXSA6IHJlZnMuYmFzZVBhdGgsXG5cdFx0XHRyZWZzLmRlZmluaXRpb25QYXRoLFxuXHRcdFx0bmFtZVxuXHRcdF0uam9pbihcIi9cIiksXG5cdFx0W3JlZnMuZGVmaW5pdGlvblBhdGhdOiB7XG5cdFx0XHQuLi5kZWZpbml0aW9ucyxcblx0XHRcdFtuYW1lXTogbWFpblxuXHRcdH1cblx0fTtcblx0aWYgKHJlZnMudGFyZ2V0ID09PSBcImpzb25TY2hlbWE3XCIpIGNvbWJpbmVkLiRzY2hlbWEgPSBcImh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQtMDcvc2NoZW1hI1wiO1xuXHRlbHNlIGlmIChyZWZzLnRhcmdldCA9PT0gXCJqc29uU2NoZW1hMjAxOS0wOVwiIHx8IHJlZnMudGFyZ2V0ID09PSBcIm9wZW5BaVwiKSBjb21iaW5lZC4kc2NoZW1hID0gXCJodHRwczovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC8yMDE5LTA5L3NjaGVtYSNcIjtcblx0aWYgKHJlZnMudGFyZ2V0ID09PSBcIm9wZW5BaVwiICYmIChcImFueU9mXCIgaW4gY29tYmluZWQgfHwgXCJvbmVPZlwiIGluIGNvbWJpbmVkIHx8IFwiYWxsT2ZcIiBpbiBjb21iaW5lZCB8fCBcInR5cGVcIiBpbiBjb21iaW5lZCAmJiBBcnJheS5pc0FycmF5KGNvbWJpbmVkLnR5cGUpKSkgY29uc29sZS53YXJuKFwiV2FybmluZzogT3BlbkFJIG1heSBub3Qgc3VwcG9ydCBzY2hlbWFzIHdpdGggdW5pb25zIGFzIHJvb3RzISBUcnkgd3JhcHBpbmcgaXQgaW4gYW4gb2JqZWN0IHByb3BlcnR5LlwiKTtcblx0cmV0dXJuIGNvbWJpbmVkO1xufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyB6b2RUb0pzb25TY2hlbWEgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXpvZFRvSnNvblNjaGVtYS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/registry.npmmirror.com+@langchain+core@1.1.17_openai@6.16.0/node_modules/@langchain/core/dist/utils/zod-to-json-schema/zodToJsonSchema.js\n");

/***/ })

};
;